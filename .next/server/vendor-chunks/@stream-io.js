"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stream-io";
exports.ids = ["vendor-chunks/@stream-io"];
exports.modules = {

/***/ "(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stream-io/video-client/dist/index.es.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* binding */ AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* binding */ AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   AxiosError: () => (/* reexport safe */ axios__WEBPACK_IMPORTED_MODULE_1__.AxiosError),\n/* harmony export */   BlockListOptionsBehaviorEnum: () => (/* binding */ BlockListOptionsBehaviorEnum),\n/* harmony export */   Browsers: () => (/* binding */ browsers),\n/* harmony export */   Call: () => (/* binding */ Call),\n/* harmony export */   CallState: () => (/* binding */ CallState),\n/* harmony export */   CallType: () => (/* binding */ CallType),\n/* harmony export */   CallTypes: () => (/* binding */ CallTypes),\n/* harmony export */   CallingState: () => (/* binding */ CallingState),\n/* harmony export */   CameraManager: () => (/* binding */ CameraManager),\n/* harmony export */   CameraManagerState: () => (/* binding */ CameraManagerState),\n/* harmony export */   ChannelConfigWithInfoAutomodBehaviorEnum: () => (/* binding */ ChannelConfigWithInfoAutomodBehaviorEnum),\n/* harmony export */   ChannelConfigWithInfoAutomodEnum: () => (/* binding */ ChannelConfigWithInfoAutomodEnum),\n/* harmony export */   ChannelConfigWithInfoBlocklistBehaviorEnum: () => (/* binding */ ChannelConfigWithInfoBlocklistBehaviorEnum),\n/* harmony export */   ChannelOwnCapability: () => (/* binding */ ChannelOwnCapability),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* binding */ CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* binding */ DebounceType),\n/* harmony export */   DynascaleManager: () => (/* binding */ DynascaleManager),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   InputMediaDeviceManager: () => (/* binding */ InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* binding */ InputMediaDeviceManagerState),\n/* harmony export */   MicrophoneManager: () => (/* binding */ MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* binding */ MicrophoneManagerState),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* binding */ NoiseCancellationSettingsModeEnum),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* binding */ RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* binding */ RecordSettingsRequestQualityEnum),\n/* harmony export */   RxUtils: () => (/* binding */ rxUtils),\n/* harmony export */   ScreenShareManager: () => (/* binding */ ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* binding */ ScreenShareState),\n/* harmony export */   SfuEvents: () => (/* binding */ events),\n/* harmony export */   SfuModels: () => (/* binding */ models),\n/* harmony export */   SpeakerManager: () => (/* binding */ SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* binding */ SpeakerState),\n/* harmony export */   StreamSfuClient: () => (/* binding */ StreamSfuClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* binding */ StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* binding */ StreamVideoWriteableStateStore),\n/* harmony export */   TranscriptionSettingsRequestClosedCaptionModeEnum: () => (/* binding */ TranscriptionSettingsRequestClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* binding */ TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseClosedCaptionModeEnum: () => (/* binding */ TranscriptionSettingsResponseClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* binding */ TranscriptionSettingsResponseModeEnum),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* binding */ VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* binding */ VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* binding */ ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* binding */ VisibilityState),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* binding */ checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* binding */ combineComparators),\n/* harmony export */   conditional: () => (/* binding */ conditional),\n/* harmony export */   createSoundDetector: () => (/* binding */ createSoundDetector),\n/* harmony export */   defaultSortPreset: () => (/* binding */ defaultSortPreset),\n/* harmony export */   descending: () => (/* binding */ descending),\n/* harmony export */   deviceIds$: () => (/* binding */ deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* binding */ disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* binding */ dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* binding */ getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* binding */ getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* binding */ getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* binding */ getAudioStream),\n/* harmony export */   getClientDetails: () => (/* binding */ getClientDetails),\n/* harmony export */   getDeviceInfo: () => (/* binding */ getDeviceInfo),\n/* harmony export */   getDeviceState: () => (/* binding */ getDeviceState),\n/* harmony export */   getLogLevel: () => (/* binding */ getLogLevel),\n/* harmony export */   getLogger: () => (/* binding */ getLogger),\n/* harmony export */   getOSInfo: () => (/* binding */ getOSInfo),\n/* harmony export */   getScreenShareStream: () => (/* binding */ getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* binding */ getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* binding */ getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* binding */ getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* binding */ getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* binding */ getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* binding */ hasAudio),\n/* harmony export */   hasScreenShare: () => (/* binding */ hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* binding */ hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* binding */ hasVideo),\n/* harmony export */   isPinned: () => (/* binding */ isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* binding */ livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* binding */ logLevels),\n/* harmony export */   logToConsole: () => (/* binding */ logToConsole),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   noopComparator: () => (/* binding */ noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* binding */ paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* binding */ pinned),\n/* harmony export */   publishingAudio: () => (/* binding */ publishingAudio),\n/* harmony export */   publishingVideo: () => (/* binding */ publishingVideo),\n/* harmony export */   reactionType: () => (/* binding */ reactionType),\n/* harmony export */   role: () => (/* binding */ role),\n/* harmony export */   screenSharing: () => (/* binding */ screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* binding */ setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel),\n/* harmony export */   setLogger: () => (/* binding */ setLogger),\n/* harmony export */   setOSInfo: () => (/* binding */ setOSInfo),\n/* harmony export */   setPowerState: () => (/* binding */ setPowerState),\n/* harmony export */   setSdkInfo: () => (/* binding */ setSdkInfo),\n/* harmony export */   setThermalState: () => (/* binding */ setThermalState),\n/* harmony export */   setWebRTCInfo: () => (/* binding */ setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* binding */ speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* binding */ speaking)\n/* harmony export */ });\n/* harmony import */ var webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webrtc-adapter */ \"(ssr)/./node_modules/webrtc-adapter/src/js/adapter_core.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/service-type.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-interceptor.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-error.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/index.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twirp-transport.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twitch-twirp-error-code.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilKeyChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEventPattern.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/pairwise.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var sdp_transform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sdp-transform */ \"(ssr)/./node_modules/sdp-transform/lib/index.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ua-parser-js */ \"(ssr)/./node_modules/ua-parser-js/src/ua-parser.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\n\n\n\n\n/* tslint:disable */ /* eslint-disable */ /**\n * @export\n */ const AudioSettingsRequestDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const AudioSettingsResponseDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const BlockListOptionsBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoAutomodEnum = {\n    DISABLED: \"disabled\",\n    SIMPLE: \"simple\",\n    AI: \"AI\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoAutomodBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoBlocklistBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * All possibility of string to use\n * @export\n */ const ChannelOwnCapability = {\n    BAN_CHANNEL_MEMBERS: \"ban-channel-members\",\n    CAST_POLL_VOTE: \"cast-poll-vote\",\n    CONNECT_EVENTS: \"connect-events\",\n    CREATE_ATTACHMENT: \"create-attachment\",\n    CREATE_CALL: \"create-call\",\n    DELETE_ANY_MESSAGE: \"delete-any-message\",\n    DELETE_CHANNEL: \"delete-channel\",\n    DELETE_OWN_MESSAGE: \"delete-own-message\",\n    FLAG_MESSAGE: \"flag-message\",\n    FREEZE_CHANNEL: \"freeze-channel\",\n    JOIN_CALL: \"join-call\",\n    JOIN_CHANNEL: \"join-channel\",\n    LEAVE_CHANNEL: \"leave-channel\",\n    MUTE_CHANNEL: \"mute-channel\",\n    PIN_MESSAGE: \"pin-message\",\n    QUERY_POLL_VOTES: \"query-poll-votes\",\n    QUOTE_MESSAGE: \"quote-message\",\n    READ_EVENTS: \"read-events\",\n    SEARCH_MESSAGES: \"search-messages\",\n    SEND_CUSTOM_EVENTS: \"send-custom-events\",\n    SEND_LINKS: \"send-links\",\n    SEND_MESSAGE: \"send-message\",\n    SEND_POLL: \"send-poll\",\n    SEND_REACTION: \"send-reaction\",\n    SEND_REPLY: \"send-reply\",\n    SEND_TYPING_EVENTS: \"send-typing-events\",\n    SET_CHANNEL_COOLDOWN: \"set-channel-cooldown\",\n    SKIP_SLOW_MODE: \"skip-slow-mode\",\n    SLOW_MODE: \"slow-mode\",\n    TYPING_EVENTS: \"typing-events\",\n    UPDATE_ANY_MESSAGE: \"update-any-message\",\n    UPDATE_CHANNEL: \"update-channel\",\n    UPDATE_CHANNEL_MEMBERS: \"update-channel-members\",\n    UPDATE_OWN_MESSAGE: \"update-own-message\",\n    UPDATE_THREAD: \"update-thread\",\n    UPLOAD_FILE: \"upload-file\"\n};\n/**\n * @export\n */ const CreateDeviceRequestPushProviderEnum = {\n    FIREBASE: \"firebase\",\n    APN: \"apn\",\n    HUAWEI: \"huawei\",\n    XIAOMI: \"xiaomi\"\n};\n/**\n * @export\n */ const NoiseCancellationSettingsModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * All possibility of string to use\n * @export\n */ const OwnCapability = {\n    BLOCK_USERS: \"block-users\",\n    CHANGE_MAX_DURATION: \"change-max-duration\",\n    CREATE_CALL: \"create-call\",\n    CREATE_REACTION: \"create-reaction\",\n    ENABLE_NOISE_CANCELLATION: \"enable-noise-cancellation\",\n    END_CALL: \"end-call\",\n    JOIN_BACKSTAGE: \"join-backstage\",\n    JOIN_CALL: \"join-call\",\n    JOIN_ENDED_CALL: \"join-ended-call\",\n    MUTE_USERS: \"mute-users\",\n    PIN_FOR_EVERYONE: \"pin-for-everyone\",\n    READ_CALL: \"read-call\",\n    REMOVE_CALL_MEMBER: \"remove-call-member\",\n    SCREENSHARE: \"screenshare\",\n    SEND_AUDIO: \"send-audio\",\n    SEND_VIDEO: \"send-video\",\n    START_BROADCAST_CALL: \"start-broadcast-call\",\n    START_CLOSED_CAPTIONS_CALL: \"start-closed-captions-call\",\n    START_RECORD_CALL: \"start-record-call\",\n    START_TRANSCRIPTION_CALL: \"start-transcription-call\",\n    STOP_BROADCAST_CALL: \"stop-broadcast-call\",\n    STOP_CLOSED_CAPTIONS_CALL: \"stop-closed-captions-call\",\n    STOP_RECORD_CALL: \"stop-record-call\",\n    STOP_TRANSCRIPTION_CALL: \"stop-transcription-call\",\n    UPDATE_CALL: \"update-call\",\n    UPDATE_CALL_MEMBER: \"update-call-member\",\n    UPDATE_CALL_PERMISSIONS: \"update-call-permissions\",\n    UPDATE_CALL_SETTINGS: \"update-call-settings\"\n};\n/**\n * @export\n */ const RecordSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const RecordSettingsRequestQualityEnum = {\n    _360P: \"360p\",\n    _480P: \"480p\",\n    _720P: \"720p\",\n    _1080P: \"1080p\",\n    _1440P: \"1440p\",\n    PORTRAIT_360X640: \"portrait-360x640\",\n    PORTRAIT_480X854: \"portrait-480x854\",\n    PORTRAIT_720X1280: \"portrait-720x1280\",\n    PORTRAIT_1080X1920: \"portrait-1080x1920\",\n    PORTRAIT_1440X2560: \"portrait-1440x2560\"\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestClosedCaptionModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseClosedCaptionModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const VideoSettingsRequestCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\n/**\n * @export\n */ const VideoSettingsResponseCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\nclass ErrorFromResponse extends Error {\n}\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"google/protobuf/struct.proto\" (package \"google.protobuf\", syntax proto3)\n// tslint:disable\n//\n// Protocol Buffers - Google's data interchange format\n// Copyright 2008 Google Inc.  All rights reserved.\n// https://developers.google.com/protocol-buffers/\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//     * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * `NullValue` is a singleton enumeration to represent the null value for the\n * `Value` type union.\n *\n *  The JSON representation for `NullValue` is JSON `null`.\n *\n * @generated from protobuf enum google.protobuf.NullValue\n */ var NullValue;\n(function(NullValue) {\n    /**\n     * Null value.\n     *\n     * @generated from protobuf enum value: NULL_VALUE = 0;\n     */ NullValue[NullValue[\"NULL_VALUE\"] = 0] = \"NULL_VALUE\";\n})(NullValue || (NullValue = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass Struct$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Struct\", [\n            {\n                no: 1,\n                name: \"fields\",\n                kind: \"map\",\n                K: 9 /*ScalarType.STRING*/ ,\n                V: {\n                    kind: \"message\",\n                    T: ()=>Value\n                }\n            }\n        ]);\n    }\n    /**\n     * Encode `Struct` to JSON object.\n     */ internalJsonWrite(message, options) {\n        let json = {};\n        for (let [k, v] of Object.entries(message.fields)){\n            json[k] = Value.toJson(v);\n        }\n        return json;\n    }\n    /**\n     * Decode `Struct` from JSON object.\n     */ internalJsonRead(json, options, target) {\n        if (!(0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.isJsonObject)(json)) throw new globalThis.Error(\"Unable to parse message \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json) + \".\");\n        if (!target) target = this.create();\n        for (let [k, v] of globalThis.Object.entries(json)){\n            target.fields[k] = Value.fromJson(v);\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Struct\n */ const Struct = new Struct$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Value$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Value\", [\n            {\n                no: 1,\n                name: \"null_value\",\n                kind: \"enum\",\n                oneof: \"kind\",\n                T: ()=>[\n                        \"google.protobuf.NullValue\",\n                        NullValue\n                    ]\n            },\n            {\n                no: 2,\n                name: \"number_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 1 /*ScalarType.DOUBLE*/ \n            },\n            {\n                no: 3,\n                name: \"string_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"bool_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 5,\n                name: \"struct_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"list_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>ListValue\n            }\n        ]);\n    }\n    /**\n     * Encode `Value` to JSON value.\n     */ internalJsonWrite(message, options) {\n        if (message.kind.oneofKind === undefined) throw new globalThis.Error();\n        switch(message.kind.oneofKind){\n            case undefined:\n                throw new globalThis.Error();\n            case \"boolValue\":\n                return message.kind.boolValue;\n            case \"nullValue\":\n                return null;\n            case \"numberValue\":\n                let numberValue = message.kind.numberValue;\n                if (typeof numberValue == \"number\" && !Number.isFinite(numberValue)) throw new globalThis.Error();\n                return numberValue;\n            case \"stringValue\":\n                return message.kind.stringValue;\n            case \"listValue\":\n                let listValueField = this.fields.find((f)=>f.no === 6);\n                if (listValueField?.kind !== \"message\") throw new globalThis.Error();\n                return listValueField.T().toJson(message.kind.listValue);\n            case \"structValue\":\n                let structValueField = this.fields.find((f)=>f.no === 5);\n                if (structValueField?.kind !== \"message\") throw new globalThis.Error();\n                return structValueField.T().toJson(message.kind.structValue);\n        }\n    }\n    /**\n     * Decode `Value` from JSON value.\n     */ internalJsonRead(json, options, target) {\n        if (!target) target = this.create();\n        switch(typeof json){\n            case \"number\":\n                target.kind = {\n                    oneofKind: \"numberValue\",\n                    numberValue: json\n                };\n                break;\n            case \"string\":\n                target.kind = {\n                    oneofKind: \"stringValue\",\n                    stringValue: json\n                };\n                break;\n            case \"boolean\":\n                target.kind = {\n                    oneofKind: \"boolValue\",\n                    boolValue: json\n                };\n                break;\n            case \"object\":\n                if (json === null) {\n                    target.kind = {\n                        oneofKind: \"nullValue\",\n                        nullValue: NullValue.NULL_VALUE\n                    };\n                } else if (globalThis.Array.isArray(json)) {\n                    target.kind = {\n                        oneofKind: \"listValue\",\n                        listValue: ListValue.fromJson(json)\n                    };\n                } else {\n                    target.kind = {\n                        oneofKind: \"structValue\",\n                        structValue: Struct.fromJson(json)\n                    };\n                }\n                break;\n            default:\n                throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json));\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Value\n */ const Value = new Value$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ListValue$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.ListValue\", [\n            {\n                no: 1,\n                name: \"values\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Value\n            }\n        ]);\n    }\n    /**\n     * Encode `ListValue` to JSON array.\n     */ internalJsonWrite(message, options) {\n        return message.values.map((v)=>Value.toJson(v));\n    }\n    /**\n     * Decode `ListValue` from JSON array.\n     */ internalJsonRead(json, options, target) {\n        if (!globalThis.Array.isArray(json)) throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json));\n        if (!target) target = this.create();\n        let values = json.map((v)=>Value.fromJson(v));\n        target.values.push(...values);\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.ListValue\n */ const ListValue = new ListValue$Type();\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"google/protobuf/timestamp.proto\" (package \"google.protobuf\", syntax proto3)\n// tslint:disable\n//\n// Protocol Buffers - Google's data interchange format\n// Copyright 2008 Google Inc.  All rights reserved.\n// https://developers.google.com/protocol-buffers/\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//     * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// @generated message type with reflection information, may provide speed optimized methods\nclass Timestamp$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Timestamp\", [\n            {\n                no: 1,\n                name: \"seconds\",\n                kind: \"scalar\",\n                T: 3 /*ScalarType.INT64*/ \n            },\n            {\n                no: 2,\n                name: \"nanos\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n    /**\n     * Creates a new `Timestamp` for the current time.\n     */ now() {\n        const msg = this.create();\n        const ms = Date.now();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * Converts a `Timestamp` to a JavaScript Date.\n     */ toDate(message) {\n        return new Date(_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(message.seconds).toNumber() * 1000 + Math.ceil(message.nanos / 1000000));\n    }\n    /**\n     * Converts a JavaScript Date to a `Timestamp`.\n     */ fromDate(date) {\n        const msg = this.create();\n        const ms = date.getTime();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonWrite(message, options) {\n        let ms = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(message.seconds).toNumber() * 1000;\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new Error(\"Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (message.nanos < 0) throw new Error(\"Unable to encode invalid Timestamp to JSON. Nanos must not be negative.\");\n        let z = \"Z\";\n        if (message.nanos > 0) {\n            let nanosStr = (message.nanos + 1000000000).toString().substring(1);\n            if (nanosStr.substring(3) === \"000000\") z = \".\" + nanosStr.substring(0, 3) + \"Z\";\n            else if (nanosStr.substring(6) === \"000\") z = \".\" + nanosStr.substring(0, 6) + \"Z\";\n            else z = \".\" + nanosStr + \"Z\";\n        }\n        return new Date(ms).toISOString().replace(\".000Z\", z);\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonRead(json, options, target) {\n        if (typeof json !== \"string\") throw new Error(\"Unable to parse Timestamp from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json) + \".\");\n        let matches = json.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);\n        if (!matches) throw new Error(\"Unable to parse Timestamp from JSON. Invalid format.\");\n        let ms = Date.parse(matches[1] + \"-\" + matches[2] + \"-\" + matches[3] + \"T\" + matches[4] + \":\" + matches[5] + \":\" + matches[6] + (matches[8] ? matches[8] : \"Z\"));\n        if (Number.isNaN(ms)) throw new Error(\"Unable to parse Timestamp from JSON. Invalid value.\");\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new globalThis.Error(\"Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (!target) target = this.create();\n        target.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(ms / 1000).toString();\n        target.nanos = 0;\n        if (matches[7]) target.nanos = parseInt(\"1\" + matches[7] + \"0\".repeat(9 - matches[7].length)) - 1000000000;\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Timestamp\n */ const Timestamp = new Timestamp$Type();\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/models/models.proto\" (package \"stream.video.sfu.models\", syntax proto3)\n// tslint:disable\n/**\n * @generated from protobuf enum stream.video.sfu.models.PeerType\n */ var PeerType;\n(function(PeerType) {\n    /**\n     * todo fix me (marcelo)\n     *\n     * @generated from protobuf enum value: PEER_TYPE_PUBLISHER_UNSPECIFIED = 0;\n     */ PeerType[PeerType[\"PUBLISHER_UNSPECIFIED\"] = 0] = \"PUBLISHER_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: PEER_TYPE_SUBSCRIBER = 1;\n     */ PeerType[PeerType[\"SUBSCRIBER\"] = 1] = \"SUBSCRIBER\";\n})(PeerType || (PeerType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ConnectionQuality\n */ var ConnectionQuality;\n(function(ConnectionQuality) {\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_UNSPECIFIED = 0;\n     */ ConnectionQuality[ConnectionQuality[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_POOR = 1;\n     */ ConnectionQuality[ConnectionQuality[\"POOR\"] = 1] = \"POOR\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_GOOD = 2;\n     */ ConnectionQuality[ConnectionQuality[\"GOOD\"] = 2] = \"GOOD\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_EXCELLENT = 3;\n     */ ConnectionQuality[ConnectionQuality[\"EXCELLENT\"] = 3] = \"EXCELLENT\";\n})(ConnectionQuality || (ConnectionQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.VideoQuality\n */ var VideoQuality;\n(function(VideoQuality) {\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_LOW_UNSPECIFIED = 0;\n     */ VideoQuality[VideoQuality[\"LOW_UNSPECIFIED\"] = 0] = \"LOW_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_MID = 1;\n     */ VideoQuality[VideoQuality[\"MID\"] = 1] = \"MID\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_HIGH = 2;\n     */ VideoQuality[VideoQuality[\"HIGH\"] = 2] = \"HIGH\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_OFF = 3;\n     */ VideoQuality[VideoQuality[\"OFF\"] = 3] = \"OFF\";\n})(VideoQuality || (VideoQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackType\n */ var TrackType;\n(function(TrackType) {\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_UNSPECIFIED = 0;\n     */ TrackType[TrackType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_AUDIO = 1;\n     */ TrackType[TrackType[\"AUDIO\"] = 1] = \"AUDIO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_VIDEO = 2;\n     */ TrackType[TrackType[\"VIDEO\"] = 2] = \"VIDEO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE = 3;\n     */ TrackType[TrackType[\"SCREEN_SHARE\"] = 3] = \"SCREEN_SHARE\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE_AUDIO = 4;\n     */ TrackType[TrackType[\"SCREEN_SHARE_AUDIO\"] = 4] = \"SCREEN_SHARE_AUDIO\";\n})(TrackType || (TrackType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ErrorCode\n */ var ErrorCode;\n(function(ErrorCode) {\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNSPECIFIED = 0;\n     */ ErrorCode[ErrorCode[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_NOT_FOUND = 100;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_NOT_FOUND\"] = 100] = \"PUBLISH_TRACK_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACKS_MISMATCH = 101;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACKS_MISMATCH\"] = 101] = \"PUBLISH_TRACKS_MISMATCH\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_OUT_OF_ORDER = 102;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_OUT_OF_ORDER\"] = 102] = \"PUBLISH_TRACK_OUT_OF_ORDER\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND = 103;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\"] = 103] = \"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_LIVE_ENDED = 104;\n     */ ErrorCode[ErrorCode[\"LIVE_ENDED\"] = 104] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_NOT_FOUND = 200;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_NOT_FOUND\"] = 200] = \"PARTICIPANT_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING_OUT = 201;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING_OUT\"] = 201] = \"PARTICIPANT_MIGRATING_OUT\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATION_FAILED = 202;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATION_FAILED\"] = 202] = \"PARTICIPANT_MIGRATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING = 203;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING\"] = 203] = \"PARTICIPANT_MIGRATING\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_RECONNECT_FAILED = 204;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_RECONNECT_FAILED\"] = 204] = \"PARTICIPANT_RECONNECT_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MEDIA_TRANSPORT_FAILURE = 205;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\"] = 205] = \"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_CALL_NOT_FOUND = 300;\n     */ ErrorCode[ErrorCode[\"CALL_NOT_FOUND\"] = 300] = \"CALL_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_REQUEST_VALIDATION_FAILED = 400;\n     */ ErrorCode[ErrorCode[\"REQUEST_VALIDATION_FAILED\"] = 400] = \"REQUEST_VALIDATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNAUTHENTICATED = 401;\n     */ ErrorCode[ErrorCode[\"UNAUTHENTICATED\"] = 401] = \"UNAUTHENTICATED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PERMISSION_DENIED = 403;\n     */ ErrorCode[ErrorCode[\"PERMISSION_DENIED\"] = 403] = \"PERMISSION_DENIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_TOO_MANY_REQUESTS = 429;\n     */ ErrorCode[ErrorCode[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_INTERNAL_SERVER_ERROR = 500;\n     */ ErrorCode[ErrorCode[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_SHUTTING_DOWN = 600;\n     */ ErrorCode[ErrorCode[\"SFU_SHUTTING_DOWN\"] = 600] = \"SFU_SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_FULL = 700;\n     */ ErrorCode[ErrorCode[\"SFU_FULL\"] = 700] = \"SFU_FULL\";\n})(ErrorCode || (ErrorCode = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.SdkType\n */ var SdkType;\n(function(SdkType) {\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNSPECIFIED = 0;\n     */ SdkType[SdkType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT = 1;\n     */ SdkType[SdkType[\"REACT\"] = 1] = \"REACT\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANGULAR = 2;\n     */ SdkType[SdkType[\"ANGULAR\"] = 2] = \"ANGULAR\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANDROID = 3;\n     */ SdkType[SdkType[\"ANDROID\"] = 3] = \"ANDROID\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_IOS = 4;\n     */ SdkType[SdkType[\"IOS\"] = 4] = \"IOS\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_FLUTTER = 5;\n     */ SdkType[SdkType[\"FLUTTER\"] = 5] = \"FLUTTER\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT_NATIVE = 6;\n     */ SdkType[SdkType[\"REACT_NATIVE\"] = 6] = \"REACT_NATIVE\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNITY = 7;\n     */ SdkType[SdkType[\"UNITY\"] = 7] = \"UNITY\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_GO = 8;\n     */ SdkType[SdkType[\"GO\"] = 8] = \"GO\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_PLAIN_JAVASCRIPT = 9;\n     */ SdkType[SdkType[\"PLAIN_JAVASCRIPT\"] = 9] = \"PLAIN_JAVASCRIPT\";\n})(SdkType || (SdkType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackUnpublishReason\n */ var TrackUnpublishReason;\n(function(TrackUnpublishReason) {\n    /**\n     * Default value which is used when the specific reason\n     * for muting the track is not known.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_UNSPECIFIED = 0;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Represents user muting their tracks.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_USER_MUTED = 1;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"USER_MUTED\"] = 1] = \"USER_MUTED\";\n    /**\n     * Represents muting the track because the permission to\n     * publish the track has been revoked.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_PERMISSION_REVOKED = 2;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"PERMISSION_REVOKED\"] = 2] = \"PERMISSION_REVOKED\";\n    /**\n     * Represents muting the track due to moderation actions.\n     * This is different from permission revoked because the\n     * participant can unmute themselves here whereas in case\n     * of \"permission revoke\" it is not possible until the\n     * call permissions are updated.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_MODERATION = 3;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"MODERATION\"] = 3] = \"MODERATION\";\n})(TrackUnpublishReason || (TrackUnpublishReason = {}));\n/**\n * GoAwayReason represents the reason for the SFU to\n * disconnect the client.\n *\n * @generated from protobuf enum stream.video.sfu.models.GoAwayReason\n */ var GoAwayReason;\n(function(GoAwayReason) {\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_UNSPECIFIED = 0;\n     */ GoAwayReason[GoAwayReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_SHUTTING_DOWN = 1;\n     */ GoAwayReason[GoAwayReason[\"SHUTTING_DOWN\"] = 1] = \"SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_REBALANCE = 2;\n     */ GoAwayReason[GoAwayReason[\"REBALANCE\"] = 2] = \"REBALANCE\";\n})(GoAwayReason || (GoAwayReason = {}));\n/**\n * CallEndedReason represents the reason for the call to end.\n *\n * @generated from protobuf enum stream.video.sfu.models.CallEndedReason\n */ var CallEndedReason;\n(function(CallEndedReason) {\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_UNSPECIFIED = 0;\n     */ CallEndedReason[CallEndedReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_ENDED = 1;\n     */ CallEndedReason[CallEndedReason[\"ENDED\"] = 1] = \"ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_LIVE_ENDED = 2;\n     */ CallEndedReason[CallEndedReason[\"LIVE_ENDED\"] = 2] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_KICKED = 3;\n     */ CallEndedReason[CallEndedReason[\"KICKED\"] = 3] = \"KICKED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_SESSION_ENDED = 4;\n     */ CallEndedReason[CallEndedReason[\"SESSION_ENDED\"] = 4] = \"SESSION_ENDED\";\n})(CallEndedReason || (CallEndedReason = {}));\n/**\n * WebsocketReconnectStrategy defines the ws strategies available for handling reconnections.\n *\n * @generated from protobuf enum stream.video.sfu.models.WebsocketReconnectStrategy\n */ var WebsocketReconnectStrategy;\n(function(WebsocketReconnectStrategy) {\n    /**\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_UNSPECIFIED = 0;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Sent after reaching the maximum reconnection attempts, or any other unrecoverable error leading to permanent disconnect.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_DISCONNECT = 1;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    /**\n     * SDK should maintaining existing publisher/subscriber pc instances\n     * and establish a new WebSocket connection.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_FAST = 2;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"FAST\"] = 2] = \"FAST\";\n    /**\n     * SDK should obtain new credentials from the coordinator, drops existing pc instances, set a new session_id and initializes\n     * a completely new WebSocket connection, ensuring a comprehensive reset.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_REJOIN = 3;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"REJOIN\"] = 3] = \"REJOIN\";\n    /**\n     * SDK should migrate to a new SFU instance\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_MIGRATE = 4;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"MIGRATE\"] = 4] = \"MIGRATE\";\n})(WebsocketReconnectStrategy || (WebsocketReconnectStrategy = {}));\n/**\n * AndroidThermalState is reported by the Android API. The full list of values is documented here\n * https://developer.android.com/reference/android/os/PowerManager.html#getCurrentThermalStatus()\n *\n * @generated from protobuf enum stream.video.sfu.models.AndroidThermalState\n */ var AndroidThermalState;\n(function(AndroidThermalState) {\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_UNSPECIFIED = 0;\n     */ AndroidThermalState[AndroidThermalState[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_NONE = 1;\n     */ AndroidThermalState[AndroidThermalState[\"NONE\"] = 1] = \"NONE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_LIGHT = 2;\n     */ AndroidThermalState[AndroidThermalState[\"LIGHT\"] = 2] = \"LIGHT\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_MODERATE = 3;\n     */ AndroidThermalState[AndroidThermalState[\"MODERATE\"] = 3] = \"MODERATE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_SEVERE = 4;\n     */ AndroidThermalState[AndroidThermalState[\"SEVERE\"] = 4] = \"SEVERE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_CRITICAL = 5;\n     */ AndroidThermalState[AndroidThermalState[\"CRITICAL\"] = 5] = \"CRITICAL\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_EMERGENCY = 6;\n     */ AndroidThermalState[AndroidThermalState[\"EMERGENCY\"] = 6] = \"EMERGENCY\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_SHUTDOWN = 7;\n     */ AndroidThermalState[AndroidThermalState[\"SHUTDOWN\"] = 7] = \"SHUTDOWN\";\n})(AndroidThermalState || (AndroidThermalState = {}));\n/**\n * AppleThermalState is the thermal state as reported by Apple devices when available or applicable to the platform.\n * The full list of states (enum) is available here: https://developer.apple.com/documentation/foundation/processinfo/thermalstate\n *\n * @generated from protobuf enum stream.video.sfu.models.AppleThermalState\n */ var AppleThermalState;\n(function(AppleThermalState) {\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_UNSPECIFIED = 0;\n     */ AppleThermalState[AppleThermalState[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_NOMINAL = 1;\n     */ AppleThermalState[AppleThermalState[\"NOMINAL\"] = 1] = \"NOMINAL\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_FAIR = 2;\n     */ AppleThermalState[AppleThermalState[\"FAIR\"] = 2] = \"FAIR\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_SERIOUS = 3;\n     */ AppleThermalState[AppleThermalState[\"SERIOUS\"] = 3] = \"SERIOUS\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_CRITICAL = 4;\n     */ AppleThermalState[AppleThermalState[\"CRITICAL\"] = 4] = \"CRITICAL\";\n})(AppleThermalState || (AppleThermalState = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallState\", [\n            {\n                no: 1,\n                name: \"participants\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Participant\n            },\n            {\n                no: 2,\n                name: \"started_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 3,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            },\n            {\n                no: 4,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallState\n */ const CallState$1 = new CallState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantCount$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ParticipantCount\", [\n            {\n                no: 1,\n                name: \"total\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"anonymous\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ParticipantCount\n */ const ParticipantCount = new ParticipantCount$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Pin$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Pin\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Pin\n */ const Pin = new Pin$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Participant$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Participant\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"published_tracks\",\n                kind: \"enum\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"joined_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 5,\n                name: \"track_lookup_prefix\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            },\n            {\n                no: 7,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"is_dominant_speaker\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"audio_level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 10,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 11,\n                name: \"image\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 13,\n                name: \"roles\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Participant\n */ const Participant = new Participant$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StreamQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.StreamQuality\", [\n            {\n                no: 1,\n                name: \"video_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.StreamQuality\n */ const StreamQuality = new StreamQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoDimension$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoDimension\", [\n            {\n                no: 1,\n                name: \"width\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"height\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoDimension\n */ const VideoDimension = new VideoDimension$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoLayer\", [\n            {\n                no: 1,\n                name: \"rid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"video_dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            },\n            {\n                no: 4,\n                name: \"bitrate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: \"fps\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoLayer\n */ const VideoLayer = new VideoLayer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscribeOption$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.SubscribeOption\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"codecs\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Codec\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.SubscribeOption\n */ const SubscribeOption = new SubscribeOption$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublishOption$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.PublishOption\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"fps\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 5,\n                name: \"max_spatial_layers\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 6,\n                name: \"max_temporal_layers\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 7,\n                name: \"video_dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            },\n            {\n                no: 8,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.PublishOption\n */ const PublishOption = new PublishOption$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Codec$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Codec\", [\n            {\n                no: 16,\n                name: \"payload_type\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 10,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 14,\n                name: \"clock_rate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 15,\n                name: \"encoding_parameters\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: \"fmtp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Codec\n */ const Codec = new Codec$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet ICETrickle$Type$1 = class ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ICETrickle\n */ const ICETrickle$1 = new ICETrickle$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.TrackInfo\", [\n            {\n                no: 1,\n                name: \"track_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoLayer\n            },\n            {\n                no: 6,\n                name: \"mid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"dtx\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"stereo\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"red\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 10,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 11,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 12,\n                name: \"publish_option_id\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.TrackInfo\n */ const TrackInfo = new TrackInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet Error$Type$1 = class Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Error\", [\n            {\n                no: 1,\n                name: \"code\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ErrorCode\",\n                        ErrorCode,\n                        \"ERROR_CODE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"should_retry\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Error\n */ const Error$2 = new Error$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ClientDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ClientDetails\", [\n            {\n                no: 1,\n                name: \"sdk\",\n                kind: \"message\",\n                T: ()=>Sdk\n            },\n            {\n                no: 2,\n                name: \"os\",\n                kind: \"message\",\n                T: ()=>OS\n            },\n            {\n                no: 3,\n                name: \"browser\",\n                kind: \"message\",\n                T: ()=>Browser\n            },\n            {\n                no: 4,\n                name: \"device\",\n                kind: \"message\",\n                T: ()=>Device\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ClientDetails\n */ const ClientDetails = new ClientDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Sdk$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Sdk\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.SdkType\",\n                        SdkType,\n                        \"SDK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"major\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"minor\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"patch\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Sdk\n */ const Sdk = new Sdk$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OS$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.OS\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"architecture\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.OS\n */ const OS = new OS$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Browser$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Browser\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Browser\n */ const Browser = new Browser$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Device$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Device\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Device\n */ const Device = new Device$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Call$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Call\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"created_by_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"host_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"created_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 7,\n                name: \"updated_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Call\n */ const Call$1 = new Call$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrants$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallGrants\", [\n            {\n                no: 1,\n                name: \"can_publish_audio\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"can_publish_video\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"can_screenshare\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallGrants\n */ const CallGrants = new CallGrants$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass InputDevices$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.InputDevices\", [\n            {\n                no: 1,\n                name: \"available_devices\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"current_device\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"is_permitted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.InputDevices\n */ const InputDevices = new InputDevices$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AndroidState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.AndroidState\", [\n            {\n                no: 1,\n                name: \"thermal_state\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.AndroidThermalState\",\n                        AndroidThermalState,\n                        \"ANDROID_THERMAL_STATE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"is_power_saver_mode\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.AndroidState\n */ const AndroidState = new AndroidState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AppleState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.AppleState\", [\n            {\n                no: 1,\n                name: \"thermal_state\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.AppleThermalState\",\n                        AppleThermalState,\n                        \"APPLE_THERMAL_STATE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"is_low_power_mode_enabled\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.AppleState\n */ const AppleState = new AppleState$Type();\nvar models = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AndroidState: AndroidState,\n    get AndroidThermalState () {\n        return AndroidThermalState;\n    },\n    AppleState: AppleState,\n    get AppleThermalState () {\n        return AppleThermalState;\n    },\n    Browser: Browser,\n    Call: Call$1,\n    get CallEndedReason () {\n        return CallEndedReason;\n    },\n    CallGrants: CallGrants,\n    CallState: CallState$1,\n    ClientDetails: ClientDetails,\n    Codec: Codec,\n    get ConnectionQuality () {\n        return ConnectionQuality;\n    },\n    Device: Device,\n    Error: Error$2,\n    get ErrorCode () {\n        return ErrorCode;\n    },\n    get GoAwayReason () {\n        return GoAwayReason;\n    },\n    ICETrickle: ICETrickle$1,\n    InputDevices: InputDevices,\n    OS: OS,\n    Participant: Participant,\n    ParticipantCount: ParticipantCount,\n    get PeerType () {\n        return PeerType;\n    },\n    Pin: Pin,\n    PublishOption: PublishOption,\n    Sdk: Sdk,\n    get SdkType () {\n        return SdkType;\n    },\n    StreamQuality: StreamQuality,\n    SubscribeOption: SubscribeOption,\n    TrackInfo: TrackInfo,\n    get TrackType () {\n        return TrackType;\n    },\n    get TrackUnpublishReason () {\n        return TrackUnpublishReason;\n    },\n    VideoDimension: VideoDimension,\n    VideoLayer: VideoLayer,\n    get VideoQuality () {\n        return VideoQuality;\n    },\n    get WebsocketReconnectStrategy () {\n        return WebsocketReconnectStrategy;\n    }\n});\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/signal_rpc/signal.proto\" (package \"stream.video.sfu.signal\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationRequest\n */ const StartNoiseCancellationRequest = new StartNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationResponse\n */ const StartNoiseCancellationResponse = new StartNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationRequest\n */ const StopNoiseCancellationRequest = new StopNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationResponse\n */ const StopNoiseCancellationResponse = new StopNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Reconnection$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.Reconnection\", [\n            {\n                no: 1,\n                name: \"time_seconds\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 2,\n                name: \"strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.Reconnection\n */ const Reconnection = new Reconnection$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Telemetry$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.Telemetry\", [\n            {\n                no: 1,\n                name: \"connection_time_seconds\",\n                kind: \"scalar\",\n                oneof: \"data\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 2,\n                name: \"reconnection\",\n                kind: \"message\",\n                oneof: \"data\",\n                T: ()=>Reconnection\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.Telemetry\n */ const Telemetry = new Telemetry$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"subscriber_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"publisher_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"webrtc_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"sdk\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"sdk_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"audio_devices\",\n                kind: \"message\",\n                T: ()=>InputDevices\n            },\n            {\n                no: 8,\n                name: \"video_devices\",\n                kind: \"message\",\n                T: ()=>InputDevices\n            },\n            {\n                no: 9,\n                name: \"android\",\n                kind: \"message\",\n                oneof: \"deviceState\",\n                T: ()=>AndroidState\n            },\n            {\n                no: 10,\n                name: \"apple\",\n                kind: \"message\",\n                oneof: \"deviceState\",\n                T: ()=>AppleState\n            },\n            {\n                no: 11,\n                name: \"telemetry\",\n                kind: \"message\",\n                T: ()=>Telemetry\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsRequest\n */ const SendStatsRequest = new SendStatsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsResponse\n */ const SendStatsResponse = new SendStatsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartRequest\n */ const ICERestartRequest = new ICERestartRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartResponse\n */ const ICERestartResponse = new ICERestartResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"mute_states\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackMuteState\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesRequest\n */ const UpdateMuteStatesRequest = new UpdateMuteStatesRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesResponse\n */ const UpdateMuteStatesResponse = new UpdateMuteStatesResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackMuteState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackMuteState\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackMuteState\n */ const TrackMuteState = new TrackMuteState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.AudioMuteChanged\", [\n            {\n                no: 1,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.AudioMuteChanged\n */ new AudioMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.VideoMuteChanged\", [\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.VideoMuteChanged\n */ new VideoMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsRequest\", [\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsRequest\n */ const UpdateSubscriptionsRequest = new UpdateSubscriptionsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsResponse\n */ const UpdateSubscriptionsResponse = new UpdateSubscriptionsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackSubscriptionDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackSubscriptionDetails\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackSubscriptionDetails\n */ const TrackSubscriptionDetails = new TrackSubscriptionDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerRequest\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerRequest\n */ const SendAnswerRequest = new SendAnswerRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerResponse\n */ const SendAnswerResponse = new SendAnswerResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickleResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICETrickleResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICETrickleResponse\n */ const ICETrickleResponse = new ICETrickleResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherRequest\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherRequest\n */ const SetPublisherRequest = new SetPublisherRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherResponse\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherResponse\n */ const SetPublisherResponse = new SetPublisherResponse$Type();\n/**\n * @generated ServiceType for protobuf service stream.video.sfu.signal.SignalServer\n */ const SignalServer = new _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_8__.ServiceType(\"stream.video.sfu.signal.SignalServer\", [\n    {\n        name: \"SetPublisher\",\n        options: {},\n        I: SetPublisherRequest,\n        O: SetPublisherResponse\n    },\n    {\n        name: \"SendAnswer\",\n        options: {},\n        I: SendAnswerRequest,\n        O: SendAnswerResponse\n    },\n    {\n        name: \"IceTrickle\",\n        options: {},\n        I: ICETrickle$1,\n        O: ICETrickleResponse\n    },\n    {\n        name: \"UpdateSubscriptions\",\n        options: {},\n        I: UpdateSubscriptionsRequest,\n        O: UpdateSubscriptionsResponse\n    },\n    {\n        name: \"UpdateMuteStates\",\n        options: {},\n        I: UpdateMuteStatesRequest,\n        O: UpdateMuteStatesResponse\n    },\n    {\n        name: \"IceRestart\",\n        options: {},\n        I: ICERestartRequest,\n        O: ICERestartResponse\n    },\n    {\n        name: \"SendStats\",\n        options: {},\n        I: SendStatsRequest,\n        O: SendStatsResponse\n    },\n    {\n        name: \"StartNoiseCancellation\",\n        options: {},\n        I: StartNoiseCancellationRequest,\n        O: StartNoiseCancellationResponse\n    },\n    {\n        name: \"StopNoiseCancellation\",\n        options: {},\n        I: StopNoiseCancellationRequest,\n        O: StopNoiseCancellationResponse\n    }\n]);\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/event/events.proto\" (package \"stream.video.sfu.event\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuEvent$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuEvent\", [\n            {\n                no: 1,\n                name: \"subscriber_offer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>SubscriberOffer\n            },\n            {\n                no: 2,\n                name: \"publisher_answer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PublisherAnswer\n            },\n            {\n                no: 3,\n                name: \"connection_quality_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ConnectionQualityChanged\n            },\n            {\n                no: 4,\n                name: \"audio_level_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>AudioLevelChanged\n            },\n            {\n                no: 5,\n                name: \"ice_trickle\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICETrickle$1\n            },\n            {\n                no: 6,\n                name: \"change_publish_quality\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ChangePublishQuality\n            },\n            {\n                no: 10,\n                name: \"participant_joined\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantJoined\n            },\n            {\n                no: 11,\n                name: \"participant_left\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantLeft\n            },\n            {\n                no: 12,\n                name: \"dominant_speaker_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>DominantSpeakerChanged\n            },\n            {\n                no: 13,\n                name: \"join_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>JoinResponse\n            },\n            {\n                no: 14,\n                name: \"health_check_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>HealthCheckResponse\n            },\n            {\n                no: 16,\n                name: \"track_published\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackPublished\n            },\n            {\n                no: 17,\n                name: \"track_unpublished\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackUnpublished\n            },\n            {\n                no: 18,\n                name: \"error\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>Error$1\n            },\n            {\n                no: 19,\n                name: \"call_grants_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallGrantsUpdated\n            },\n            {\n                no: 20,\n                name: \"go_away\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>GoAway\n            },\n            {\n                no: 21,\n                name: \"ice_restart\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICERestart\n            },\n            {\n                no: 22,\n                name: \"pins_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PinsChanged\n            },\n            {\n                no: 23,\n                name: \"call_ended\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallEnded\n            },\n            {\n                no: 24,\n                name: \"participant_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantUpdated\n            },\n            {\n                no: 25,\n                name: \"participant_migration_complete\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantMigrationComplete\n            },\n            {\n                no: 27,\n                name: \"change_publish_options\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ChangePublishOptions\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuEvent\n */ const SfuEvent = new SfuEvent$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishOptions$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishOptions\", [\n            {\n                no: 1,\n                name: \"publish_options\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>PublishOption\n            },\n            {\n                no: 2,\n                name: \"reason\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishOptions\n */ const ChangePublishOptions = new ChangePublishOptions$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishOptionsComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishOptionsComplete\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishOptionsComplete\n */ const ChangePublishOptionsComplete = new ChangePublishOptionsComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantMigrationComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantMigrationComplete\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantMigrationComplete\n */ const ParticipantMigrationComplete = new ParticipantMigrationComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PinsChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PinsChanged\", [\n            {\n                no: 1,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PinsChanged\n */ const PinsChanged = new PinsChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Error\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            },\n            {\n                no: 5,\n                name: \"reconnect_strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Error\n */ const Error$1 = new Error$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICETrickle\n */ const ICETrickle = new ICETrickle$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestart$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICERestart\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICERestart\n */ const ICERestart = new ICERestart$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuRequest\", [\n            {\n                no: 1,\n                name: \"join_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>JoinRequest\n            },\n            {\n                no: 2,\n                name: \"health_check_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>HealthCheckRequest\n            },\n            {\n                no: 3,\n                name: \"leave_call_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>LeaveCallRequest\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuRequest\n */ const SfuRequest = new SfuRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass LeaveCallRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.LeaveCallRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"reason\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.LeaveCallRequest\n */ const LeaveCallRequest = new LeaveCallRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckRequest\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckRequest\n */ const HealthCheckRequest = new HealthCheckRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckResponse\", [\n            {\n                no: 1,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckResponse\n */ const HealthCheckResponse = new HealthCheckResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackPublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackPublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackPublished\n */ const TrackPublished = new TrackPublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackUnpublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackUnpublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"cause\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackUnpublishReason\",\n                        TrackUnpublishReason,\n                        \"TRACK_UNPUBLISH_REASON_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackUnpublished\n */ const TrackUnpublished = new TrackUnpublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinRequest\", [\n            {\n                no: 1,\n                name: \"token\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"subscriber_sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 8,\n                name: \"publisher_sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"client_details\",\n                kind: \"message\",\n                T: ()=>ClientDetails\n            },\n            {\n                no: 5,\n                name: \"migration\",\n                kind: \"message\",\n                T: ()=>Migration\n            },\n            {\n                no: 6,\n                name: \"fast_reconnect\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 7,\n                name: \"reconnect_details\",\n                kind: \"message\",\n                T: ()=>ReconnectDetails\n            },\n            {\n                no: 9,\n                name: \"preferred_publish_options\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>PublishOption\n            },\n            {\n                no: 10,\n                name: \"preferred_subscribe_options\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>SubscribeOption\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinRequest\n */ const JoinRequest = new JoinRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ReconnectDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ReconnectDetails\", [\n            {\n                no: 1,\n                name: \"strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            },\n            {\n                no: 3,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 4,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            },\n            {\n                no: 5,\n                name: \"reconnect_attempt\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"previous_session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ReconnectDetails\n */ const ReconnectDetails = new ReconnectDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Migration$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Migration\", [\n            {\n                no: 1,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 3,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Migration\n */ const Migration = new Migration$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinResponse\", [\n            {\n                no: 1,\n                name: \"call_state\",\n                kind: \"message\",\n                T: ()=>CallState$1\n            },\n            {\n                no: 2,\n                name: \"reconnected\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"fast_reconnect_deadline_seconds\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"publish_options\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>PublishOption\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinResponse\n */ const JoinResponse = new JoinResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantJoined$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantJoined\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantJoined\n */ const ParticipantJoined = new ParticipantJoined$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantLeft$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantLeft\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantLeft\n */ const ParticipantLeft = new ParticipantLeft$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantUpdated\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantUpdated\n */ const ParticipantUpdated = new ParticipantUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscriberOffer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SubscriberOffer\", [\n            {\n                no: 1,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SubscriberOffer\n */ const SubscriberOffer = new SubscriberOffer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublisherAnswer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PublisherAnswer\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PublisherAnswer\n */ const PublisherAnswer = new PublisherAnswer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityChanged\", [\n            {\n                no: 1,\n                name: \"connection_quality_updates\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>ConnectionQualityInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityChanged\n */ const ConnectionQualityChanged = new ConnectionQualityChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityInfo\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityInfo\n */ const ConnectionQualityInfo = new ConnectionQualityInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass DominantSpeakerChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.DominantSpeakerChanged\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.DominantSpeakerChanged\n */ const DominantSpeakerChanged = new DominantSpeakerChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevel$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevel\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 4,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevel\n */ const AudioLevel = new AudioLevel$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevelChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevelChanged\", [\n            {\n                no: 1,\n                name: \"audio_levels\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>AudioLevel\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevelChanged\n */ const AudioLevelChanged = new AudioLevelChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioSender\", [\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"publish_option_id\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioSender\n */ const AudioSender = new AudioSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayerSetting$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoLayerSetting\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"active\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"max_bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"scale_resolution_down_by\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 6,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 7,\n                name: \"max_framerate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 8,\n                name: \"scalability_mode\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoLayerSetting\n */ const VideoLayerSetting = new VideoLayerSetting$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoSender\", [\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoLayerSetting\n            },\n            {\n                no: 4,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"publish_option_id\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoSender\n */ const VideoSender = new VideoSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishQuality\", [\n            {\n                no: 1,\n                name: \"audio_senders\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>AudioSender\n            },\n            {\n                no: 2,\n                name: \"video_senders\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoSender\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishQuality\n */ const ChangePublishQuality = new ChangePublishQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrantsUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallGrantsUpdated\", [\n            {\n                no: 1,\n                name: \"current_grants\",\n                kind: \"message\",\n                T: ()=>CallGrants\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallGrantsUpdated\n */ const CallGrantsUpdated = new CallGrantsUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GoAway$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.GoAway\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.GoAwayReason\",\n                        GoAwayReason,\n                        \"GO_AWAY_REASON_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.GoAway\n */ const GoAway = new GoAway$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallEnded$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallEnded\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.CallEndedReason\",\n                        CallEndedReason,\n                        \"CALL_ENDED_REASON_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallEnded\n */ const CallEnded = new CallEnded$Type();\nvar events = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AudioLevel: AudioLevel,\n    AudioLevelChanged: AudioLevelChanged,\n    AudioSender: AudioSender,\n    CallEnded: CallEnded,\n    CallGrantsUpdated: CallGrantsUpdated,\n    ChangePublishOptions: ChangePublishOptions,\n    ChangePublishOptionsComplete: ChangePublishOptionsComplete,\n    ChangePublishQuality: ChangePublishQuality,\n    ConnectionQualityChanged: ConnectionQualityChanged,\n    ConnectionQualityInfo: ConnectionQualityInfo,\n    DominantSpeakerChanged: DominantSpeakerChanged,\n    Error: Error$1,\n    GoAway: GoAway,\n    HealthCheckRequest: HealthCheckRequest,\n    HealthCheckResponse: HealthCheckResponse,\n    ICERestart: ICERestart,\n    ICETrickle: ICETrickle,\n    JoinRequest: JoinRequest,\n    JoinResponse: JoinResponse,\n    LeaveCallRequest: LeaveCallRequest,\n    Migration: Migration,\n    ParticipantJoined: ParticipantJoined,\n    ParticipantLeft: ParticipantLeft,\n    ParticipantMigrationComplete: ParticipantMigrationComplete,\n    ParticipantUpdated: ParticipantUpdated,\n    PinsChanged: PinsChanged,\n    PublisherAnswer: PublisherAnswer,\n    ReconnectDetails: ReconnectDetails,\n    SfuEvent: SfuEvent,\n    SfuRequest: SfuRequest,\n    SubscriberOffer: SubscriberOffer,\n    TrackPublished: TrackPublished,\n    TrackUnpublished: TrackUnpublished,\n    VideoLayerSetting: VideoLayerSetting,\n    VideoSender: VideoSender\n});\nvar VisibilityState;\n(function(VisibilityState) {\n    VisibilityState[\"UNKNOWN\"] = \"UNKNOWN\";\n    VisibilityState[\"VISIBLE\"] = \"VISIBLE\";\n    VisibilityState[\"INVISIBLE\"] = \"INVISIBLE\";\n})(VisibilityState || (VisibilityState = {}));\nvar DebounceType;\n(function(DebounceType) {\n    DebounceType[DebounceType[\"IMMEDIATE\"] = 20] = \"IMMEDIATE\";\n    DebounceType[DebounceType[\"FAST\"] = 100] = \"FAST\";\n    DebounceType[DebounceType[\"MEDIUM\"] = 600] = \"MEDIUM\";\n    DebounceType[DebounceType[\"SLOW\"] = 1200] = \"SLOW\";\n})(DebounceType || (DebounceType = {}));\n/**\n * @generated from protobuf service stream.video.sfu.signal.SignalServer\n */ class SignalServerClient {\n    constructor(_transport){\n        this._transport = _transport;\n        this.typeName = SignalServer.typeName;\n        this.methods = SignalServer.methods;\n        this.options = SignalServer.options;\n    }\n    /**\n     * SetPublisher sends the WebRTC offer for the peer connection used to publish A/V\n     *\n     * @generated from protobuf rpc: SetPublisher(stream.video.sfu.signal.SetPublisherRequest) returns (stream.video.sfu.signal.SetPublisherResponse);\n     */ setPublisher(input, options) {\n        const method = this.methods[0], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * answer is sent by the client to the SFU after receiving a subscriber_offer.\n     *\n     * @generated from protobuf rpc: SendAnswer(stream.video.sfu.signal.SendAnswerRequest) returns (stream.video.sfu.signal.SendAnswerResponse);\n     */ sendAnswer(input, options) {\n        const method = this.methods[1], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * SendICECandidate sends an ICE candidate to the client\n     *\n     * @generated from protobuf rpc: IceTrickle(stream.video.sfu.models.ICETrickle) returns (stream.video.sfu.signal.ICETrickleResponse);\n     */ iceTrickle(input, options) {\n        const method = this.methods[2], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * UpdateSubscribers is used to notify the SFU about the list of video subscriptions\n     * TODO: sync subscriptions based on this + update tracks using the dimension info sent by the user\n     *\n     * @generated from protobuf rpc: UpdateSubscriptions(stream.video.sfu.signal.UpdateSubscriptionsRequest) returns (stream.video.sfu.signal.UpdateSubscriptionsResponse);\n     */ updateSubscriptions(input, options) {\n        const method = this.methods[3], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: UpdateMuteStates(stream.video.sfu.signal.UpdateMuteStatesRequest) returns (stream.video.sfu.signal.UpdateMuteStatesResponse);\n     */ updateMuteStates(input, options) {\n        const method = this.methods[4], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: IceRestart(stream.video.sfu.signal.ICERestartRequest) returns (stream.video.sfu.signal.ICERestartResponse);\n     */ iceRestart(input, options) {\n        const method = this.methods[5], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: SendStats(stream.video.sfu.signal.SendStatsRequest) returns (stream.video.sfu.signal.SendStatsResponse);\n     */ sendStats(input, options) {\n        const method = this.methods[6], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StartNoiseCancellation(stream.video.sfu.signal.StartNoiseCancellationRequest) returns (stream.video.sfu.signal.StartNoiseCancellationResponse);\n     */ startNoiseCancellation(input, options) {\n        const method = this.methods[7], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StopNoiseCancellation(stream.video.sfu.signal.StopNoiseCancellationRequest) returns (stream.video.sfu.signal.StopNoiseCancellationResponse);\n     */ stopNoiseCancellation(input, options) {\n        const method = this.methods[8], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n}\nconst defaultOptions = {\n    baseUrl: \"\",\n    sendJson: true,\n    timeout: 5 * 1000,\n    jsonOptions: {\n        ignoreUnknownFields: true\n    }\n};\nconst withHeaders = (headers)=>{\n    return {\n        interceptUnary (next, method, input, options) {\n            options.meta = {\n                ...options.meta,\n                ...headers\n            };\n            return next(method, input, options);\n        }\n    };\n};\nconst withRequestLogger = (logger, level)=>{\n    return {\n        interceptUnary: (next, method, input, options)=>{\n            let invocation;\n            try {\n                invocation = next(method, input, options);\n            } finally{\n                logger(level, `Invoked SFU RPC method ${method.name}`, {\n                    request: invocation?.request,\n                    headers: invocation?.requestHeaders,\n                    response: invocation?.response\n                });\n            }\n            return invocation;\n        }\n    };\n};\n/**\n * Creates new SignalServerClient instance.\n *\n * @param options the twirp options.\n */ const createSignalClient = (options)=>{\n    const transport = new _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_10__.TwirpFetchTransport({\n        ...defaultOptions,\n        ...options\n    });\n    return new SignalServerClient(transport);\n};\nconst sleep = (m)=>new Promise((r)=>setTimeout(r, m));\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function);\n}\n/**\n * A map of known error codes.\n */ const KnownCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000,\n    WS_CLOSED_ABRUPTLY: 1006,\n    WS_POLICY_VIOLATION: 1008\n};\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-5 seconds (random to spread out the load from failures)\n    const max = Math.min(500 + numberOfFailures * 2000, 5000);\n    const min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 5000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction randomId() {\n    return generateUUIDv4();\n}\nfunction hex(bytes) {\n    let s = \"\";\n    for(let i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, \"0\");\n    }\n    return s;\n}\n// https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    const bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return hex(bytes.subarray(0, 4)) + \"-\" + hex(bytes.subarray(4, 6)) + \"-\" + hex(bytes.subarray(6, 8)) + \"-\" + hex(bytes.subarray(8, 10)) + \"-\" + hex(bytes.subarray(10, 16));\n}\nfunction getRandomValuesWithMathRandom(bytes) {\n    const max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n    for(let i = 0; i < bytes.length; i++){\n        bytes[i] = Math.random() * max;\n    }\n}\nconst getRandomValues = (()=>{\n    if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues !== \"undefined\") {\n        return crypto.getRandomValues.bind(crypto);\n    } else if (typeof msCrypto !== \"undefined\") {\n        return msCrypto.getRandomValues.bind(msCrypto);\n    } else {\n        return getRandomValuesWithMathRandom;\n    }\n})();\nfunction getRandomBytes(length) {\n    const bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\n// Type guards to check WebSocket error type\nfunction isCloseEvent(res) {\n    return res.code !== undefined;\n}\n/**\n * Checks whether we are using React Native\n */ const isReactNative = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.product?.toLowerCase() === \"reactnative\";\n};\n// log levels, sorted by verbosity\nconst logLevels = Object.freeze({\n    trace: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4\n});\nlet logger;\nlet level = \"info\";\nconst logToConsole = (logLevel, message, ...args)=>{\n    let logMethod;\n    switch(logLevel){\n        case \"error\":\n            if (isReactNative()) {\n                message = `ERROR: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.error;\n            break;\n        case \"warn\":\n            if (isReactNative()) {\n                message = `WARN: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.warn;\n            break;\n        case \"info\":\n            logMethod = console.info;\n            break;\n        case \"trace\":\n            logMethod = console.trace;\n            break;\n        default:\n            logMethod = console.log;\n            break;\n    }\n    logMethod(message, ...args);\n};\nconst setLogger = (l, lvl)=>{\n    logger = l;\n    if (lvl) {\n        setLogLevel(lvl);\n    }\n};\nconst setLogLevel = (l)=>{\n    level = l;\n};\nconst getLogLevel = ()=>level;\nconst getLogger = (withTags)=>{\n    const loggerMethod = logger || logToConsole;\n    const tags = (withTags || []).filter(Boolean).join(\":\");\n    const result = (logLevel, message, ...args)=>{\n        if (logLevels[logLevel] >= logLevels[level]) {\n            loggerMethod(logLevel, `[${tags}]: ${message}`, ...args);\n        }\n    };\n    return result;\n};\n/**\n * Creates a closure which wraps the given RPC call and retries invoking\n * the RPC until it succeeds or the maximum number of retries is reached.\n *\n * For each retry, there would be a delay to avoid request bursts toward the SFU.\n *\n * @param rpc the closure around the RPC call to execute.\n * @param signal the signal to abort the RPC call and retries loop.\n */ const retryable = async (rpc, signal)=>{\n    let attempt = 0;\n    let result = undefined;\n    do {\n        if (attempt > 0) await sleep(retryInterval(attempt));\n        try {\n            result = await rpc();\n        } catch (err) {\n            const isRequestCancelled = err instanceof _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.RpcError && err.code === _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpErrorCode[_protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpErrorCode.cancelled];\n            const isAborted = signal?.aborted ?? false;\n            if (isRequestCancelled || isAborted) throw err;\n            getLogger([\n                \"sfu-client\",\n                \"rpc\"\n            ])(\"debug\", `rpc failed (${attempt})`, err);\n            attempt++;\n        }\n    }while (!result || result.response.error?.shouldRetry);\n    return result;\n};\n/**\n * Returns a generic SDP for the given direction.\n * We use this SDP to send it as part of our JoinRequest so that the SFU\n * can use it to determine the client's codec capabilities.\n *\n * @param direction the direction of the transceiver.\n */ const getGenericSdp = async (direction)=>{\n    const tempPc = new RTCPeerConnection();\n    tempPc.addTransceiver(\"video\", {\n        direction\n    });\n    tempPc.addTransceiver(\"audio\", {\n        direction\n    });\n    const offer = await tempPc.createOffer();\n    const sdp = offer.sdp ?? \"\";\n    tempPc.getTransceivers().forEach((t)=>{\n        t.stop?.();\n    });\n    tempPc.close();\n    return sdp;\n};\n/**\n * Returns whether the codec is an SVC codec.\n *\n * @param codecOrMimeType the codec to check.\n */ const isSvcCodec = (codecOrMimeType)=>{\n    if (!codecOrMimeType) return false;\n    codecOrMimeType = codecOrMimeType.toLowerCase();\n    return codecOrMimeType === \"vp9\" || codecOrMimeType === \"av1\" || codecOrMimeType === \"video/vp9\" || codecOrMimeType === \"video/av1\";\n};\nconst sfuEventKinds = {\n    subscriberOffer: undefined,\n    publisherAnswer: undefined,\n    connectionQualityChanged: undefined,\n    audioLevelChanged: undefined,\n    iceTrickle: undefined,\n    changePublishQuality: undefined,\n    participantJoined: undefined,\n    participantLeft: undefined,\n    dominantSpeakerChanged: undefined,\n    joinResponse: undefined,\n    healthCheckResponse: undefined,\n    trackPublished: undefined,\n    trackUnpublished: undefined,\n    error: undefined,\n    callGrantsUpdated: undefined,\n    goAway: undefined,\n    iceRestart: undefined,\n    pinsUpdated: undefined,\n    callEnded: undefined,\n    participantUpdated: undefined,\n    participantMigrationComplete: undefined,\n    changePublishOptions: undefined\n};\nconst isSfuEvent = (eventName)=>{\n    return Object.prototype.hasOwnProperty.call(sfuEventKinds, eventName);\n};\nclass Dispatcher {\n    constructor(){\n        this.logger = getLogger([\n            \"Dispatcher\"\n        ]);\n        this.subscribers = {};\n        this.dispatch = (message, logTag = \"0\")=>{\n            const eventKind = message.eventPayload.oneofKind;\n            if (!eventKind) return;\n            const payload = message.eventPayload[eventKind];\n            this.logger(\"debug\", `Dispatching ${eventKind}, tag=${logTag}`, payload);\n            const listeners = this.subscribers[eventKind];\n            if (!listeners) return;\n            for (const fn of listeners){\n                try {\n                    fn(payload);\n                } catch (e) {\n                    this.logger(\"warn\", \"Listener failed with error\", e);\n                }\n            }\n        };\n        this.on = (eventName, fn)=>{\n            var _a;\n            ((_a = this.subscribers)[eventName] ?? (_a[eventName] = [])).push(fn);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        this.off = (eventName, fn)=>{\n            this.subscribers[eventName] = (this.subscribers[eventName] || []).filter((f)=>f !== fn);\n        };\n    }\n}\n/**\n * A buffer for ICE Candidates. Used for ICE Trickle:\n * - https://bloggeek.me/webrtcglossary/trickle-ice/\n */ class IceTrickleBuffer {\n    constructor(){\n        this.subscriberCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__.ReplaySubject();\n        this.publisherCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__.ReplaySubject();\n        this.push = (iceTrickle)=>{\n            const iceCandidate = toIceCandidate(iceTrickle);\n            if (!iceCandidate) return;\n            if (iceTrickle.peerType === PeerType.SUBSCRIBER) {\n                this.subscriberCandidates.next(iceCandidate);\n            } else if (iceTrickle.peerType === PeerType.PUBLISHER_UNSPECIFIED) {\n                this.publisherCandidates.next(iceCandidate);\n            } else {\n                const logger = getLogger([\n                    \"sfu-client\"\n                ]);\n                logger(\"warn\", `ICETrickle, Unknown peer type`, iceTrickle);\n            }\n        };\n        this.dispose = ()=>{\n            this.subscriberCandidates.complete();\n            this.publisherCandidates.complete();\n        };\n    }\n}\nconst toIceCandidate = (iceTrickle)=>{\n    try {\n        return JSON.parse(iceTrickle.iceCandidate);\n    } catch (e) {\n        const logger = getLogger([\n            \"sfu-client\"\n        ]);\n        logger(\"error\", `Failed to parse ICE Trickle`, e, iceTrickle);\n        return undefined;\n    }\n};\n/**\n * Runs async functions serially. Useful for wrapping async actions that\n * should never run simultaneously: if marked with the same tag, functions\n * will run one after another.\n *\n * @param tag Async functions with the same tag will run serially. Async functions\n * with different tags can run in parallel.\n * @param cb Async function to run.\n * @returns Promise that resolves when async functions returns.\n */ const withoutConcurrency = createRunner(wrapWithContinuationTracking);\n/**\n * Runs async functions serially, and cancels all other actions with the same tag\n * when a new action is scheduled. Useful for wrapping async actions that override\n * each other (e.g. enabling and disabling camera).\n *\n * If an async function hasn't started yet and was canceled, it will never run.\n * If an async function is already running and was canceled, it will be notified\n * via an abort signal passed as an argument.\n *\n * @param tag Async functions with the same tag will run serially and are canceled\n * when a new action with the same tag is scheduled.\n * @param cb Async function to run. Receives AbortSignal as the only argument.\n * @returns Promise that resolves when async functions returns. If the function didn't\n * start and was canceled, will resolve with 'canceled'. If the function started to run,\n * it's up to the function to decide how to react to cancelation.\n */ const withCancellation = createRunner(wrapWithCancellation);\nconst pendingPromises = new Map();\nasync function settled(tag) {\n    await pendingPromises.get(tag)?.promise;\n}\n/**\n * Implements common functionality of running async functions serially, by chaining\n * their promises one after another.\n *\n * Before running, async function is \"wrapped\" using the provided wrapper. This wrapper\n * can add additional steps to run before or after the function.\n *\n * When async function is scheduled to run, the previous function is notified\n * by calling the associated onContinued callback. This behavior of this callback\n * is defined by the wrapper.\n */ function createRunner(wrapper) {\n    return function run(tag, cb) {\n        const { cb: wrapped, onContinued } = wrapper(tag, cb);\n        const pending = pendingPromises.get(tag);\n        pending?.onContinued();\n        const promise = pending ? pending.promise.then(wrapped, wrapped) : wrapped();\n        pendingPromises.set(tag, {\n            promise,\n            onContinued\n        });\n        return promise;\n    };\n}\n/**\n * Wraps an async function with an additional step run after the function:\n * if the function is the last in the queue, it cleans up the whole chain\n * of promises after finishing.\n */ function wrapWithContinuationTracking(tag, cb) {\n    let hasContinuation = false;\n    const wrapped = ()=>cb().finally(()=>{\n            if (!hasContinuation) {\n                pendingPromises.delete(tag);\n            }\n        });\n    const onContinued = ()=>hasContinuation = true;\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Wraps an async function with additional functionalilty:\n * 1. Associates an abort signal with every function, that is passed to it\n *    as an argument. When a new function is scheduled to run after the current\n *    one, current signal is aborted.\n * 2. If current function didn't start and was aborted, in will never start.\n * 3. If the function is the last in the queue, it cleans up the whole chain\n *    of promises after finishing.\n */ function wrapWithCancellation(tag, cb) {\n    const ac = new AbortController();\n    const wrapped = ()=>{\n        if (ac.signal.aborted) {\n            return Promise.resolve(\"canceled\");\n        }\n        return cb(ac.signal).finally(()=>{\n            if (!ac.signal.aborted) {\n                pendingPromises.delete(tag);\n            }\n        });\n    };\n    const onContinued = ()=>ac.abort();\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Checks if the provided update is a function patch.\n *\n * @param update the value to check.\n */ const isFunctionPatch = (update)=>typeof update === \"function\";\n/**\n * Gets the current value of an observable, or undefined if the observable has\n * not emitted a value yet.\n *\n * @param observable$ the observable to get the value from.\n */ const getCurrentValue = (observable$)=>{\n    let value;\n    let err = undefined;\n    (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n        observable$\n    ]).subscribe({\n        next: ([v])=>{\n            value = v;\n        },\n        error: (e)=>{\n            err = e;\n        }\n    }).unsubscribe();\n    if (err) throw err;\n    return value;\n};\n/**\n * Updates the value of the provided Subject.\n * An `update` can either be a new value or a function which takes\n * the current value and returns a new value.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n * @return the updated value.\n */ const setCurrentValue = (subject, update)=>{\n    const next = isFunctionPatch(update) ? update(getCurrentValue(subject)) : update;\n    subject.next(next);\n    return next;\n};\n/**\n * Updates the value of the provided Subject and returns the previous value\n * and a function to roll back the update.\n * This is useful when you want to optimistically update a value\n * and roll back the update if an error occurs.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n */ const updateValue = (subject, update)=>{\n    const lastValue = subject.getValue();\n    const value = setCurrentValue(subject, update);\n    return {\n        lastValue,\n        value,\n        rollback: ()=>setCurrentValue(subject, lastValue)\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe.\n *\n * @param observable the observable to subscribe to.\n * @param handler the handler to call when the observable emits a value.\n * @param onError an optional error handler.\n */ const createSubscription = (observable, handler, onError = (error)=>getLogger([\n        \"RxUtils\"\n    ])(\"warn\", \"An observable emitted an error\", error))=>{\n    const subscription = observable.subscribe({\n        next: handler,\n        error: onError\n    });\n    return ()=>{\n        subscription.unsubscribe();\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe. Makes sure that\n * only one async handler runs at the same time. If updates come in quicker than\n * it takes for the current handler to finish, other handlers will wait.\n *\n * @param observable the observable to subscribe to.\n * @param handler the async handler to call when the observable emits a value.\n */ const createSafeAsyncSubscription = (observable, handler)=>{\n    const tag = Symbol();\n    return createSubscription(observable, (value)=>{\n        withoutConcurrency(tag, ()=>handler(value));\n    });\n};\nvar rxUtils = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    createSafeAsyncSubscription: createSafeAsyncSubscription,\n    createSubscription: createSubscription,\n    getCurrentValue: getCurrentValue,\n    setCurrentValue: setCurrentValue,\n    updateValue: updateValue\n});\n/**\n * Represents the state of the current call.\n */ var CallingState;\n(function(CallingState) {\n    /**\n     * The call is in an unknown state.\n     */ CallingState[\"UNKNOWN\"] = \"unknown\";\n    /**\n     * The call is in an idle state.\n     */ CallingState[\"IDLE\"] = \"idle\";\n    /**\n     * The call is in the process of ringing.\n     * (User hasn't accepted nor rejected the call yet.)\n     */ CallingState[\"RINGING\"] = \"ringing\";\n    /**\n     * The call is in the process of joining.\n     */ CallingState[\"JOINING\"] = \"joining\";\n    /**\n     * The call is currently active.\n     */ CallingState[\"JOINED\"] = \"joined\";\n    /**\n     * The call has been left.\n     */ CallingState[\"LEFT\"] = \"left\";\n    /**\n     * The call is in the process of reconnecting.\n     */ CallingState[\"RECONNECTING\"] = \"reconnecting\";\n    /**\n     * The call is in the process of migrating from one node to another.\n     */ CallingState[\"MIGRATING\"] = \"migrating\";\n    /**\n     * The call has failed to reconnect.\n     */ CallingState[\"RECONNECTING_FAILED\"] = \"reconnecting-failed\";\n    /**\n     * The call is in offline mode.\n     */ CallingState[\"OFFLINE\"] = \"offline\";\n})(CallingState || (CallingState = {}));\nclass StreamVideoWriteableStateStore {\n    constructor(){\n        /**\n         * A store keeping data of a successfully connected user over WS to the coordinator server.\n         */ this.connectedUserSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * A list of {@link Call} objects created/tracked by this client.\n         */ this.callsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        /**\n         * Sets the currently connected user.\n         *\n         * @internal\n         * @param user the user to set as connected.\n         */ this.setConnectedUser = (user)=>{\n            return setCurrentValue(this.connectedUserSubject, user);\n        };\n        /**\n         * Sets the list of {@link Call} objects created/tracked by this client.\n         * @param calls\n         */ this.setCalls = (calls)=>{\n            return setCurrentValue(this.callsSubject, calls);\n        };\n        /**\n         * Adds a {@link Call} object to the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to add.\n         */ this.registerCall = (call)=>{\n            if (!this.calls.find((c)=>c.cid === call.cid)) {\n                this.setCalls((calls)=>[\n                        ...calls,\n                        call\n                    ]);\n            }\n        };\n        /**\n         * Removes a {@link Call} object from the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to remove\n         */ this.unregisterCall = (call)=>{\n            return this.setCalls((calls)=>calls.filter((c)=>c !== call));\n        };\n        /**\n         * Finds a {@link Call} object in the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param type the type of call to find.\n         * @param id the id of the call to find.\n         */ this.findCall = (type, id)=>{\n            return this.calls.find((c)=>c.type === type && c.id === id);\n        };\n        this.connectedUserSubject.subscribe(async (user)=>{\n            // leave all calls when the user disconnects.\n            if (!user) {\n                const logger = getLogger([\n                    \"client-state\"\n                ]);\n                for (const call of this.calls){\n                    if (call.state.callingState === CallingState.LEFT) continue;\n                    logger(\"info\", `User disconnected, leaving call: ${call.cid}`);\n                    await call.leave({\n                        reason: \"client.disconnectUser() called\"\n                    }).catch((err)=>{\n                        logger(\"error\", `Error leaving call: ${call.cid}`, err);\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * The currently connected user.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUserSubject);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.callsSubject);\n    }\n}\n/**\n * A reactive store that exposes state variables in a reactive manner.\n * You can subscribe to changes of the different state variables.\n * This central store contains all the state variables related to [`StreamVideoClient`](./StreamVideClient.md) and [`Call`](./Call.md).\n */ class StreamVideoReadOnlyStateStore {\n    constructor(store){\n        /**\n         * This method allows you the get the current value of a state variable.\n         *\n         * @param observable the observable to get the current value of.\n         * @returns the current value of the observable.\n         */ this.getCurrentValue = getCurrentValue;\n        // convert and expose subjects as observables\n        this.connectedUser$ = store.connectedUserSubject.asObservable();\n        this.calls$ = store.callsSubject.asObservable();\n    }\n    /**\n     * The current user connected over WS to the backend.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUser$);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.calls$);\n    }\n}\n/**\n * Creates a new combined {@link Comparator<T>} which sorts items by the given comparators.\n * The comparators are applied in the order they are given (left -> right).\n *\n * @param comparators the comparators to use for sorting.\n * @returns a combined {@link Comparator<T>}.\n */ const combineComparators = (...comparators)=>{\n    return (a, b)=>{\n        for (const comparator of comparators){\n            const result = comparator(a, b);\n            if (result !== 0) return result;\n        }\n        return 0;\n    };\n};\n/**\n * Creates a new comparator which sorts items in descending order.\n *\n * @example\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const byValueDesc = descending(byValue);\n *\n * @param comparator the comparator to wrap.\n */ const descending = (comparator)=>{\n    return (a, b)=>comparator(b, a);\n};\n/**\n * Creates a new comparator which conditionally applies the given comparator.\n *\n * @example\n * const shouldSortByValue = (a, b) => a % 2 === 0; // return false to turn it off\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const comparator = conditional(shouldSortByValue)(byValue);\n *\n * @param predicate the predicate to use for determining whether to apply the comparator.\n */ const conditional = (predicate)=>{\n    return (comparator)=>{\n        return (a, b)=>{\n            if (!predicate(a, b)) return 0;\n            return comparator(a, b);\n        };\n    };\n};\n/**\n * A no-op comparator which always returns 0.\n */ const noopComparator = ()=>{\n    return ()=>0;\n};\n/**\n * Check if a participant has a video.\n *\n * @param p the participant to check.\n */ const hasVideo = (p)=>p.publishedTracks.includes(TrackType.VIDEO);\n/**\n * Check if a participant has audio.\n *\n * @param p the participant to check.\n */ const hasAudio = (p)=>p.publishedTracks.includes(TrackType.AUDIO);\n/**\n * Check if a participant is screen sharing.\n *\n * @param p the participant to check.\n */ const hasScreenShare = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE);\n/**\n * Check if a participant is screen sharing audio.\n *\n * @param p the participant to check.\n */ const hasScreenShareAudio = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE_AUDIO);\n/**\n * Check if the participant is pinned.\n *\n * @param p the participant.\n */ const isPinned = (p)=>!!p.pin && (p.pin.isLocalPin || p.pin.pinnedAt > 0);\n/**\n * A comparator which sorts participants by the fact that they are the dominant speaker or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const dominantSpeaker = (a, b)=>{\n    if (a.isDominantSpeaker && !b.isDominantSpeaker) return -1;\n    if (!a.isDominantSpeaker && b.isDominantSpeaker) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by the fact that they are speaking or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const speaking = (a, b)=>{\n    if (a.isSpeaking && !b.isSpeaking) return -1;\n    if (!a.isSpeaking && b.isSpeaking) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by screen sharing status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const screenSharing = (a, b)=>{\n    if (hasScreenShare(a) && !hasScreenShare(b)) return -1;\n    if (!hasScreenShare(a) && hasScreenShare(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by video status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingVideo = (a, b)=>{\n    if (hasVideo(a) && !hasVideo(b)) return -1;\n    if (!hasVideo(a) && hasVideo(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by audio status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingAudio = (a, b)=>{\n    if (hasAudio(a) && !hasAudio(b)) return -1;\n    if (!hasAudio(a) && hasAudio(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which prioritizes participants who are pinned.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const pinned = (a, b)=>{\n    if (a.pin && b.pin) {\n        if (!a.pin.isLocalPin && b.pin.isLocalPin) return -1;\n        if (a.pin.isLocalPin && !b.pin.isLocalPin) return 1;\n        if (a.pin.pinnedAt > b.pin.pinnedAt) return -1;\n        if (a.pin.pinnedAt < b.pin.pinnedAt) return 1;\n    }\n    if (a.pin && !b.pin) return -1;\n    if (!a.pin && b.pin) return 1;\n    return 0;\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific reaction.\n *\n * @param type the reaction type.\n */ const reactionType = (type)=>{\n    return (a, b)=>{\n        if (a.reaction?.type === type && b.reaction?.type !== type) return -1;\n        if (a.reaction?.type !== type && b.reaction?.type === type) return 1;\n        return 0;\n    };\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific role.\n *\n * @param roles the roles to prioritize.\n */ const role = (...roles)=>(a, b)=>{\n        if (hasAnyRole(a, roles) && !hasAnyRole(b, roles)) return -1;\n        if (!hasAnyRole(a, roles) && hasAnyRole(b, roles)) return 1;\n        return 0;\n    };\n/**\n * A comparator which sorts participants by name.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const name = (a, b)=>{\n    if (a.name < b.name) return -1;\n    if (a.name > b.name) return 1;\n    return 0;\n};\nconst hasAnyRole = (p, roles)=>(p.roles || []).some((r)=>roles.includes(r));\n// a comparator decorator which applies the decorated comparator only if the\n// participant is invisible.\n// This ensures stable sorting when all participants are visible.\nconst ifInvisibleBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE);\n/**\n * A comparator that applies the decorated comparator when a participant is\n * either invisible or its visibility state isn't known.\n * For visible participants, it ensures stable sorting.\n */ const ifInvisibleOrUnknownBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || a.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN);\n/**\n * The default sorting preset.\n */ const defaultSortPreset = combineComparators(pinned, screenSharing, ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for speaker layout.\n */ const speakerLayoutSortPreset = combineComparators(pinned, screenSharing, dominantSpeaker, ifInvisibleBy(combineComparators(speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for layouts that don't render all participants but\n * instead, render them in pages.\n */ const paginatedLayoutSortPreset = combineComparators(pinned, ifInvisibleOrUnknownBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for livestreams and audio rooms.\n */ const livestreamOrAudioRoomSortPreset = combineComparators(ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)), role(\"admin\", \"host\", \"speaker\"));\n/**\n * Returns the default egress object - when no egress data is available.\n */ const defaultEgress = {\n    broadcasting: false,\n    hls: {\n        playlist_url: \"\"\n    },\n    rtmps: []\n};\n/**\n * Holds the state of the current call.\n * @react You don't have to use this class directly, as we are exposing the state through Hooks.\n */ class CallState {\n    /**\n     * Creates a new instance of the CallState class.\n     *\n     */ constructor(){\n        this.backstageSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(true);\n        this.blockedUserIdsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.createdAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(new Date());\n        this.endedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.startsAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.updatedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(new Date());\n        this.createdBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.customSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject({});\n        this.egressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.ingressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.recordingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.sessionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.transcribingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.captioningSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.endedBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.thumbnailsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.membersSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.ownCapabilitiesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.callingStateSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(CallingState.UNKNOWN);\n        this.startedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.participantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(0);\n        this.anonymousParticipantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(0);\n        this.participantsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.callStatsReportSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.closedCaptionsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        // These are tracks that were delivered to the Subscriber's onTrack event\n        // that we couldn't associate with a participant yet.\n        // This happens when the participantJoined event hasn't been received yet.\n        // We keep these tracks around until we can associate them with a participant.\n        this.orphanedTracks = [];\n        this.logger = getLogger([\n            \"CallState\"\n        ]);\n        /**\n         * A list of comparators that are used to sort the participants.\n         */ this.sortParticipantsBy = defaultSortPreset;\n        this.closedCaptionsTasks = new Map();\n        /**\n         * Runs the cleanup tasks.\n         */ this.dispose = ()=>{\n            for (const [ccKey, taskId] of this.closedCaptionsTasks.entries()){\n                clearTimeout(taskId);\n                this.closedCaptionsTasks.delete(ccKey);\n            }\n        };\n        /**\n         * Sets the list of criteria that are used to sort the participants.\n         * To disable sorting, you can pass `noopComparator()`.\n         *\n         * @param comparator the comparator to use to sort the participants.\n         */ this.setSortParticipantsBy = (comparator)=>{\n            this.sortParticipantsBy = comparator;\n            // trigger re-sorting of participants\n            this.setCurrentValue(this.participantsSubject, (ps)=>ps);\n        };\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        /**\n         * Sets the number of participants in the current call.\n         *\n         * @internal\n         * @param count the number of participants.\n         */ this.setParticipantCount = (count)=>{\n            return this.setCurrentValue(this.participantCountSubject, count);\n        };\n        /**\n         * Sets the time the call session actually started.\n         *\n         * @internal\n         * @param startedAt the time the call session actually started.\n         */ this.setStartedAt = (startedAt)=>{\n            return this.setCurrentValue(this.startedAtSubject, startedAt);\n        };\n        /**\n         * Sets the closed captioning state of the current call.\n         *\n         * @internal\n         * @param captioning the closed captioning state.\n         */ this.setCaptioning = (captioning)=>{\n            return updateValue(this.captioningSubject, captioning);\n        };\n        /**\n         * Sets the number of anonymous participants in the current call.\n         *\n         * @internal\n         * @param count the number of anonymous participants.\n         */ this.setAnonymousParticipantCount = (count)=>{\n            return this.setCurrentValue(this.anonymousParticipantCountSubject, count);\n        };\n        /**\n         * Sets the list of participants in the current call.\n         *\n         * @internal\n         *\n         * @param participants the list of participants.\n         */ this.setParticipants = (participants)=>{\n            return this.setCurrentValue(this.participantsSubject, participants);\n        };\n        /**\n         * Sets the calling state.\n         *\n         * @internal\n         * @param state the new calling state.\n         */ this.setCallingState = (state)=>{\n            return this.setCurrentValue(this.callingStateSubject, state);\n        };\n        /**\n         * Sets the call stats report.\n         *\n         * @internal\n         * @param report the report to set.\n         */ this.setCallStatsReport = (report)=>{\n            return this.setCurrentValue(this.callStatsReportSubject, report);\n        };\n        /**\n         * Sets the members of the current call.\n         *\n         * @internal\n         * @param members the members to set.\n         */ this.setMembers = (members)=>{\n            this.setCurrentValue(this.membersSubject, members);\n        };\n        /**\n         * Sets the own capabilities.\n         *\n         * @internal\n         * @param capabilities the capabilities to set.\n         */ this.setOwnCapabilities = (capabilities)=>{\n            return this.setCurrentValue(this.ownCapabilitiesSubject, capabilities);\n        };\n        /**\n         * Sets the time when this call has been ended.\n         * @param endedAt the time when this call has been ended.\n         */ this.setEndedAt = (endedAt)=>{\n            return this.setCurrentValue(this.endedAtSubject, endedAt);\n        };\n        /**\n         * Will try to find the participant with the given sessionId in the current call.\n         *\n         * @param sessionId the sessionId of the participant to find.\n         * @returns the participant with the given sessionId or undefined if not found.\n         */ this.findParticipantBySessionId = (sessionId)=>{\n            return this.participants.find((p)=>p.sessionId === sessionId);\n        };\n        /**\n         * Returns a new lookup table of participants indexed by their session ID.\n         */ this.getParticipantLookupBySessionId = ()=>{\n            return this.participants.reduce((lookupTable, participant)=>{\n                lookupTable[participant.sessionId] = participant;\n                return lookupTable;\n            }, {});\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If the participant can't be found, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param patch the patch to apply to the participant.\n         * @returns the updated participant or `undefined` if the participant couldn't be found.\n         */ this.updateParticipant = (sessionId, patch)=>{\n            const participant = this.findParticipantBySessionId(sessionId);\n            if (!participant) {\n                this.logger(\"warn\", `Participant with sessionId ${sessionId} not found`);\n                return;\n            }\n            const thePatch = typeof patch === \"function\" ? patch(participant) : patch;\n            const updatedParticipant = {\n                ...participant,\n                ...thePatch\n            };\n            return this.setParticipants((participants)=>participants.map((p)=>p.sessionId === sessionId ? updatedParticipant : p));\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If a participant with matching `sessionId` can't be found, the provided\n         * `participant` is added to the list of participants.\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param participant the participant to update or add.\n         */ this.updateOrAddParticipant = (sessionId, participant)=>{\n            return this.setParticipants((participants)=>{\n                let add = true;\n                const nextParticipants = participants.map((p)=>{\n                    if (p.sessionId === sessionId) {\n                        add = false;\n                        return {\n                            ...p,\n                            ...participant\n                        };\n                    }\n                    return p;\n                });\n                if (add) nextParticipants.push(participant);\n                return nextParticipants;\n            });\n        };\n        /**\n         * Updates all participants in the current call whose session ID is in the given `sessionIds`.\n         * If no patches are provided, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param patch the patch to apply to the participants.\n         * @returns all participants, with all patch applied.\n         */ this.updateParticipants = (patch)=>{\n            if (Object.keys(patch).length === 0) return this.participants;\n            return this.setParticipants((participants)=>participants.map((p)=>{\n                    const thePatch = patch[p.sessionId];\n                    if (thePatch) {\n                        return {\n                            ...p,\n                            ...thePatch\n                        };\n                    }\n                    return p;\n                }));\n        };\n        /**\n         * Update track subscription configuration for one or more participants.\n         * You have to create a subscription for each participant for all the different kinds of tracks you want to receive.\n         * You can only subscribe for tracks after the participant started publishing the given kind of track.\n         *\n         * @param trackType the kind of subscription to update.\n         * @param changes the list of subscription changes to do.\n         */ this.updateParticipantTracks = (trackType, changes)=>{\n            return this.updateParticipants(Object.entries(changes).reduce((acc, [sessionId, change])=>{\n                if (change.dimension) {\n                    change.dimension.height = Math.ceil(change.dimension.height);\n                    change.dimension.width = Math.ceil(change.dimension.width);\n                }\n                const prop = trackType === \"videoTrack\" ? \"videoDimension\" : trackType === \"screenShareTrack\" ? \"screenShareDimension\" : undefined;\n                if (prop) {\n                    acc[sessionId] = {\n                        [prop]: change.dimension\n                    };\n                }\n                return acc;\n            }, {}));\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param event the video event that our backend sent us.\n         */ this.updateFromEvent = (event)=>{\n            const update = this.eventHandlers[event.type];\n            if (update) {\n                update(event);\n            }\n        };\n        /**\n         * Updates the participant pinned state with server side pinning data.\n         *\n         * @param pins the latest pins from the server.\n         */ this.setServerSidePins = (pins)=>{\n            const pinsLookup = pins.reduce((lookup, pin)=>{\n                lookup[pin.sessionId] = Date.now();\n                return lookup;\n            }, {});\n            return this.setParticipants((participants)=>participants.map((participant)=>{\n                    const serverSidePinnedAt = pinsLookup[participant.sessionId];\n                    // the participant is newly pinned\n                    if (serverSidePinnedAt) {\n                        return {\n                            ...participant,\n                            pin: {\n                                isLocalPin: false,\n                                pinnedAt: serverSidePinnedAt\n                            }\n                        };\n                    }\n                    // the participant is no longer pinned server side\n                    // we need to reset the pin\n                    if (participant.pin && !participant.pin.isLocalPin) {\n                        return {\n                            ...participant,\n                            pin: undefined\n                        };\n                    }\n                    // no changes to be applied\n                    return participant;\n                }));\n        };\n        /**\n         * Adds an orphaned track to the call state.\n         *\n         * @internal\n         *\n         * @param orphanedTrack the orphaned track to add.\n         */ this.registerOrphanedTrack = (orphanedTrack)=>{\n            this.orphanedTracks.push(orphanedTrack);\n        };\n        /**\n         * Removes an orphaned track from the call state.\n         *\n         * @internal\n         *\n         * @param id the ID of the orphaned track to remove.\n         */ this.removeOrphanedTrack = (id)=>{\n            this.orphanedTracks = this.orphanedTracks.filter((o)=>o.id !== id);\n        };\n        /**\n         * Takes all orphaned tracks with the given track lookup prefix.\n         * All orphaned tracks with the given track lookup prefix are removed from the call state.\n         *\n         * @internal\n         *\n         * @param trackLookupPrefix the track lookup prefix to match the orphaned tracks by.\n         */ this.takeOrphanedTracks = (trackLookupPrefix)=>{\n            const orphans = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix === trackLookupPrefix);\n            if (orphans.length > 0) {\n                this.orphanedTracks = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix !== trackLookupPrefix);\n            }\n            return orphans;\n        };\n        /**\n         * Updates the closed captions settings.\n         *\n         * @param config the new closed captions settings.\n         */ this.updateClosedCaptionSettings = (config)=>{\n            this.closedCaptionsSettings = {\n                ...this.closedCaptionsSettings,\n                ...config\n            };\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param call the call response from the server.\n         */ this.updateFromCallResponse = (call)=>{\n            this.setCurrentValue(this.backstageSubject, call.backstage);\n            this.setCurrentValue(this.blockedUserIdsSubject, call.blocked_user_ids);\n            this.setCurrentValue(this.createdAtSubject, new Date(call.created_at));\n            this.setCurrentValue(this.updatedAtSubject, new Date(call.updated_at));\n            this.setCurrentValue(this.startsAtSubject, call.starts_at ? new Date(call.starts_at) : undefined);\n            this.setEndedAt(call.ended_at ? new Date(call.ended_at) : undefined);\n            this.setCurrentValue(this.createdBySubject, call.created_by);\n            this.setCurrentValue(this.customSubject, call.custom);\n            this.setCurrentValue(this.egressSubject, call.egress);\n            this.setCurrentValue(this.ingressSubject, call.ingress);\n            this.setCurrentValue(this.recordingSubject, call.recording);\n            const s = this.setCurrentValue(this.sessionSubject, call.session);\n            this.updateParticipantCountFromSession(s);\n            this.setCurrentValue(this.settingsSubject, call.settings);\n            this.setCurrentValue(this.transcribingSubject, call.transcribing);\n            this.setCurrentValue(this.captioningSubject, call.captioning);\n            this.setCurrentValue(this.thumbnailsSubject, call.thumbnails);\n        };\n        /**\n         * Updates the call state with the data received from the SFU server.\n         *\n         * @internal\n         *\n         * @param callState the call state from the SFU server.\n         * @param currentSessionId the session ID of the current user.\n         * @param reconnectDetails optional reconnect details.\n         */ this.updateFromSfuCallState = (callState, currentSessionId, reconnectDetails)=>{\n            const { participants, participantCount, startedAt, pins } = callState;\n            const localPublishedTracks = reconnectDetails?.announcedTracks.map((t)=>t.trackType) ?? [];\n            this.setParticipants(()=>{\n                const participantLookup = this.getParticipantLookupBySessionId();\n                return participants.map((p)=>{\n                    // We need to preserve the local state of the participant\n                    // (e.g. videoDimension, visibilityState, pinnedAt, etc.)\n                    // as it doesn't exist on the server.\n                    const existingParticipant = participantLookup[p.sessionId];\n                    const isLocalParticipant = p.sessionId === currentSessionId;\n                    return Object.assign({}, existingParticipant, p, {\n                        isLocalParticipant,\n                        publishedTracks: isLocalParticipant ? localPublishedTracks : p.publishedTracks,\n                        viewportVisibilityState: existingParticipant?.viewportVisibilityState ?? {\n                            videoTrack: VisibilityState.UNKNOWN,\n                            screenShareTrack: VisibilityState.UNKNOWN\n                        }\n                    });\n                });\n            });\n            this.setParticipantCount(participantCount?.total || 0);\n            this.setAnonymousParticipantCount(participantCount?.anonymous || 0);\n            this.setStartedAt(startedAt ? Timestamp.toDate(startedAt) : new Date());\n            this.setServerSidePins(pins);\n        };\n        this.updateFromMemberRemoved = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.filter((m)=>event.members.indexOf(m.user_id) === -1));\n        };\n        this.updateFromMemberAdded = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>[\n                    ...members,\n                    ...event.members\n                ]);\n        };\n        this.updateFromHLSBroadcastStopped = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false\n                }));\n        };\n        this.updateFromHLSBroadcastingFailed = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false\n                }));\n        };\n        this.updateFromHLSBroadcastStarted = (event)=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: true,\n                    hls: {\n                        ...egress.hls,\n                        playlist_url: event.hls_playlist_url\n                    }\n                }));\n        };\n        this.updateParticipantCountFromSession = (session)=>{\n            // when in JOINED state, we should use the participant count coming through\n            // the SFU healthcheck event, as it's more accurate.\n            if (!session || this.callingState === CallingState.JOINED) return;\n            const byRoleCount = Object.values(session.participants_count_by_role).reduce((total, countByRole)=>total + countByRole, 0);\n            const participantCount = Math.max(byRoleCount, session.participants.length);\n            this.setParticipantCount(participantCount);\n            this.setAnonymousParticipantCount(session.anonymous_participant_count || 0);\n        };\n        this.updateFromSessionParticipantCountUpdate = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                return {\n                    ...session,\n                    anonymous_participant_count: event.anonymous_participant_count,\n                    participants_count_by_role: event.participants_count_by_role\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantLeft = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                return {\n                    ...session,\n                    participants: participants.filter((p)=>p.user_session_id !== user_session_id),\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: Math.max(0, (participants_count_by_role[user.role] || 0) - 1)\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantJoined = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                // It could happen that the backend delivers the same participant more than once.\n                // Once with the call.session_started event and once again with the\n                // call.session_participant_joined event. In this case,\n                // we should update the existing participant and prevent duplicating it.\n                let shouldInsertParticipant = true;\n                const updatedParticipants = participants.map((p)=>{\n                    if (p.user_session_id === user_session_id) {\n                        shouldInsertParticipant = false;\n                        return event.participant;\n                    }\n                    return p;\n                });\n                if (shouldInsertParticipant) {\n                    // this is a new array, we can safely push the new participant\n                    updatedParticipants.push(event.participant);\n                }\n                // If we are updating an existing participant, we don't want to increment\n                // the participant_by_role count.\n                const increment = shouldInsertParticipant ? 1 : 0;\n                return {\n                    ...session,\n                    participants: updatedParticipants,\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: (participants_count_by_role[user.role] || 0) + increment\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateMembers = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.map((member)=>{\n                    const memberUpdate = event.members.find((m)=>m.user_id === member.user_id);\n                    return memberUpdate ? memberUpdate : member;\n                }));\n        };\n        this.updateParticipantReaction = (event)=>{\n            const { user, custom, type, emoji_code } = event.reaction;\n            this.setParticipants((participants)=>{\n                return participants.map((p)=>{\n                    // skip if the reaction is not for this participant\n                    if (p.userId !== user.id) return p;\n                    // update the participant with the new reaction\n                    return {\n                        ...p,\n                        reaction: {\n                            type,\n                            emoji_code,\n                            custom\n                        }\n                    };\n                });\n            });\n        };\n        this.unblockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>{\n                if (!current) return current;\n                return current.filter((id)=>id !== event.user.id);\n            });\n        };\n        this.blockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>[\n                    ...current || [],\n                    event.user.id\n                ]);\n        };\n        this.updateOwnCapabilities = (event)=>{\n            if (event.user.id === this.localParticipant?.userId) {\n                this.setCurrentValue(this.ownCapabilitiesSubject, event.own_capabilities);\n            }\n        };\n        this.updateFromClosedCaptions = (event)=>{\n            this.setCurrentValue(this.closedCaptionsSubject, (queue)=>{\n                const { closed_caption } = event;\n                const keyOf = (c)=>`${c.speaker_id}/${c.start_time}`;\n                const currentKey = keyOf(closed_caption);\n                const duplicate = queue.some((caption)=>keyOf(caption) === currentKey);\n                if (duplicate) return queue;\n                const nextQueue = [\n                    ...queue,\n                    closed_caption\n                ];\n                const { visibilityDurationMs = 2700, maxVisibleCaptions = 2 } = this.closedCaptionsSettings || {};\n                // schedule the removal of the closed caption after the retention time\n                if (visibilityDurationMs > 0) {\n                    const taskId = setTimeout(()=>{\n                        this.setCurrentValue(this.closedCaptionsSubject, (captions)=>captions.filter((caption)=>caption !== closed_caption));\n                        this.closedCaptionsTasks.delete(currentKey);\n                    }, visibilityDurationMs);\n                    this.closedCaptionsTasks.set(currentKey, taskId);\n                    // cancel the cleanup tasks for the closed captions that are no longer in the queue\n                    for(let i = 0; i < nextQueue.length - maxVisibleCaptions; i++){\n                        const key = keyOf(nextQueue[i]);\n                        const task = this.closedCaptionsTasks.get(key);\n                        clearTimeout(task);\n                        this.closedCaptionsTasks.delete(key);\n                    }\n                }\n                // trim the queue\n                return nextQueue.slice(-maxVisibleCaptions);\n            });\n        };\n        this.participants$ = this.participantsSubject.asObservable().pipe(// maintain stable-sort by mutating the participants stored\n        // in the original subject\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((ps)=>ps.sort(this.sortParticipantsBy)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.localParticipant$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.find((p)=>p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.remoteParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.filter((p)=>!p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.pinnedParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.filter((p)=>!!p.pin)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.dominantSpeaker$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.find((p)=>p.isDominantSpeaker)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.hasOngoingScreenShare$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.some((p)=>hasScreenShare(p))), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        // dates\n        this.createdAt$ = this.createdAtSubject.asObservable();\n        this.endedAt$ = this.endedAtSubject.asObservable();\n        this.startsAt$ = this.startsAtSubject.asObservable();\n        this.startedAt$ = this.startedAtSubject.asObservable();\n        this.updatedAt$ = this.updatedAtSubject.asObservable();\n        this.callStatsReport$ = this.callStatsReportSubject.asObservable();\n        this.members$ = this.membersSubject.asObservable();\n        // complex objects should work as streams of data\n        this.createdBy$ = this.createdBySubject.asObservable();\n        this.custom$ = this.customSubject.asObservable();\n        this.egress$ = this.egressSubject.asObservable();\n        this.ingress$ = this.ingressSubject.asObservable();\n        this.session$ = this.sessionSubject.asObservable();\n        this.settings$ = this.settingsSubject.asObservable();\n        this.endedBy$ = this.endedBySubject.asObservable();\n        this.thumbnails$ = this.thumbnailsSubject.asObservable();\n        this.closedCaptions$ = this.closedCaptionsSubject.asObservable();\n        /**\n         * Performs shallow comparison of two arrays.\n         * Expects primitive values: [1, 2, 3] is equal to [2, 1, 3].\n         */ const isShallowEqual = (a, b)=>{\n            if (a.length !== b.length) return false;\n            for (const item of a)if (!b.includes(item)) return false;\n            for (const item of b)if (!a.includes(item)) return false;\n            return true;\n        };\n        /**\n         * Creates an Observable from the given subject by piping to the\n         * `distinctUntilChanged()` operator.\n         */ const duc = (subject, comparator)=>subject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(comparator));\n        // primitive values should only emit once the value they hold changes\n        this.anonymousParticipantCount$ = duc(this.anonymousParticipantCountSubject);\n        this.blockedUserIds$ = duc(this.blockedUserIdsSubject, isShallowEqual);\n        this.backstage$ = duc(this.backstageSubject);\n        this.callingState$ = duc(this.callingStateSubject);\n        this.ownCapabilities$ = duc(this.ownCapabilitiesSubject, isShallowEqual);\n        this.participantCount$ = duc(this.participantCountSubject);\n        this.recording$ = duc(this.recordingSubject);\n        this.transcribing$ = duc(this.transcribingSubject);\n        this.captioning$ = duc(this.captioningSubject);\n        this.eventHandlers = {\n            // these events are not updating the call state:\n            \"call.deleted\": undefined,\n            \"call.permission_request\": undefined,\n            \"call.recording_ready\": undefined,\n            \"call.transcription_ready\": undefined,\n            \"call.user_muted\": undefined,\n            \"connection.error\": undefined,\n            \"connection.ok\": undefined,\n            \"health.check\": undefined,\n            \"user.banned\": undefined,\n            \"user.deactivated\": undefined,\n            \"user.deleted\": undefined,\n            \"user.muted\": undefined,\n            \"user.presence.changed\": undefined,\n            \"user.reactivated\": undefined,\n            \"user.unbanned\": undefined,\n            \"user.updated\": undefined,\n            custom: undefined,\n            // events that update call state:\n            \"call.accepted\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.blocked_user\": this.blockUser,\n            \"call.closed_caption\": this.updateFromClosedCaptions,\n            \"call.closed_captions_failed\": ()=>{\n                this.setCurrentValue(this.captioningSubject, false);\n            },\n            \"call.closed_captions_started\": ()=>{\n                this.setCurrentValue(this.captioningSubject, true);\n            },\n            \"call.closed_captions_stopped\": ()=>{\n                this.setCurrentValue(this.captioningSubject, false);\n            },\n            \"call.created\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ended\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setCurrentValue(this.endedBySubject, e.user);\n            },\n            \"call.hls_broadcasting_failed\": this.updateFromHLSBroadcastingFailed,\n            \"call.hls_broadcasting_started\": this.updateFromHLSBroadcastStarted,\n            \"call.hls_broadcasting_stopped\": this.updateFromHLSBroadcastStopped,\n            \"call.live_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.member_added\": this.updateFromMemberAdded,\n            \"call.member_removed\": this.updateFromMemberRemoved,\n            \"call.member_updated_permission\": this.updateMembers,\n            \"call.member_updated\": this.updateMembers,\n            \"call.notification\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setMembers(e.members);\n            },\n            \"call.permissions_updated\": this.updateOwnCapabilities,\n            \"call.reaction_new\": this.updateParticipantReaction,\n            \"call.recording_started\": ()=>this.setCurrentValue(this.recordingSubject, true),\n            \"call.recording_stopped\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.recording_failed\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.rejected\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ring\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.missed\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_ended\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_participant_count_updated\": this.updateFromSessionParticipantCountUpdate,\n            \"call.session_participant_joined\": this.updateFromSessionParticipantJoined,\n            \"call.session_participant_left\": this.updateFromSessionParticipantLeft,\n            \"call.session_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.transcription_started\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, true);\n            },\n            \"call.transcription_stopped\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.transcription_failed\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.unblocked_user\": this.unblockUser,\n            \"call.updated\": (e)=>this.updateFromCallResponse(e.call)\n        };\n    }\n    /**\n     * The server-side counted number of participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get participantCount() {\n        return this.getCurrentValue(this.participantCount$);\n    }\n    /**\n     * The time the call session actually started.\n     * Useful for displaying the call duration.\n     */ get startedAt() {\n        return this.getCurrentValue(this.startedAt$);\n    }\n    /**\n     * Returns whether closed captions are enabled in the current call.\n     */ get captioning() {\n        return this.getCurrentValue(this.captioning$);\n    }\n    /**\n     * The server-side counted number of anonymous participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get anonymousParticipantCount() {\n        return this.getCurrentValue(this.anonymousParticipantCount$);\n    }\n    /**\n     * The list of participants in the current call.\n     */ get participants() {\n        return this.getCurrentValue(this.participants$);\n    }\n    /**\n     * The local participant in the current call.\n     */ get localParticipant() {\n        return this.getCurrentValue(this.localParticipant$);\n    }\n    /**\n     * The list of remote participants in the current call.\n     */ get remoteParticipants() {\n        return this.getCurrentValue(this.remoteParticipants$);\n    }\n    /**\n     * The dominant speaker in the current call.\n     */ get dominantSpeaker() {\n        return this.getCurrentValue(this.dominantSpeaker$);\n    }\n    /**\n     * The list of pinned participants in the current call.\n     */ get pinnedParticipants() {\n        return this.getCurrentValue(this.pinnedParticipants$);\n    }\n    /**\n     * Tell if there is an ongoing screen share in this call.\n     */ get hasOngoingScreenShare() {\n        return this.getCurrentValue(this.hasOngoingScreenShare$);\n    }\n    /**\n     * The calling state.\n     */ get callingState() {\n        return this.getCurrentValue(this.callingState$);\n    }\n    /**\n     * The call stats report.\n     */ get callStatsReport() {\n        return this.getCurrentValue(this.callStatsReport$);\n    }\n    /**\n     * The members of the current call.\n     */ get members() {\n        return this.getCurrentValue(this.members$);\n    }\n    /**\n     * The capabilities of the current user for the current call.\n     */ get ownCapabilities() {\n        return this.getCurrentValue(this.ownCapabilities$);\n    }\n    /**\n     * The backstage state.\n     */ get backstage() {\n        return this.getCurrentValue(this.backstage$);\n    }\n    /**\n     * Will provide the list of blocked user IDs.\n     */ get blockedUserIds() {\n        return this.getCurrentValue(this.blockedUserIds$);\n    }\n    /**\n     * Will provide the time when this call has been created.\n     */ get createdAt() {\n        return this.getCurrentValue(this.createdAt$);\n    }\n    /**\n     * Will provide the time when this call has been ended.\n     */ get endedAt() {\n        return this.getCurrentValue(this.endedAt$);\n    }\n    /**\n     * Will provide the time when this call has been scheduled to start.\n     */ get startsAt() {\n        return this.getCurrentValue(this.startsAt$);\n    }\n    /**\n     * Will provide the time when this call has been updated.\n     */ get updatedAt() {\n        return this.getCurrentValue(this.updatedAt$);\n    }\n    /**\n     * Will provide the user who created this call.\n     */ get createdBy() {\n        return this.getCurrentValue(this.createdBy$);\n    }\n    /**\n     * Will provide the custom data of this call.\n     */ get custom() {\n        return this.getCurrentValue(this.custom$);\n    }\n    /**\n     * Will provide the egress data of this call.\n     */ get egress() {\n        return this.getCurrentValue(this.egress$);\n    }\n    /**\n     * Will provide the ingress data of this call.\n     */ get ingress() {\n        return this.getCurrentValue(this.ingress$);\n    }\n    /**\n     * Will provide the recording state of this call.\n     */ get recording() {\n        return this.getCurrentValue(this.recording$);\n    }\n    /**\n     * Will provide the session data of this call.\n     */ get session() {\n        return this.getCurrentValue(this.session$);\n    }\n    /**\n     * Will provide the settings of this call.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Will provide the transcribing state of this call.\n     */ get transcribing() {\n        return this.getCurrentValue(this.transcribing$);\n    }\n    /**\n     * Will provide the user who ended this call.\n     */ get endedBy() {\n        return this.getCurrentValue(this.endedBy$);\n    }\n    /**\n     * Will provide the thumbnails of this call, if enabled in the call settings.\n     */ get thumbnails() {\n        return this.getCurrentValue(this.thumbnails$);\n    }\n    /**\n     * Returns the current queue of closed captions.\n     */ get closedCaptions() {\n        return this.getCurrentValue(this.closedCaptions$);\n    }\n}\n/**\n * A base class for the `Publisher` and `Subscriber` classes.\n * @internal\n */ class BasePeerConnection {\n    /**\n     * Constructs a new `BasePeerConnection` instance.\n     */ constructor(peerType, { sfuClient, connectionConfig, state, dispatcher, onUnrecoverableError, logTag }){\n        this.isIceRestarting = false;\n        this.subscriptions = [];\n        /**\n         * Disposes the `RTCPeerConnection` instance.\n         */ this.dispose = ()=>{\n            this.detachEventHandlers();\n            this.pc.close();\n        };\n        /**\n         * Handles events synchronously.\n         * Consecutive events are queued and executed one after the other.\n         */ this.on = (event, fn)=>{\n            this.subscriptions.push(this.dispatcher.on(event, (e)=>{\n                withoutConcurrency(`pc.${event}`, async ()=>fn(e)).catch((err)=>{\n                    this.logger(\"warn\", `Error handling ${event}`, err);\n                });\n            }));\n        };\n        /**\n         * Appends the trickled ICE candidates to the `RTCPeerConnection`.\n         */ this.addTrickledIceCandidates = ()=>{\n            const { iceTrickleBuffer } = this.sfuClient;\n            const observable = this.peerType === PeerType.SUBSCRIBER ? iceTrickleBuffer.subscriberCandidates : iceTrickleBuffer.publisherCandidates;\n            this.unsubscribeIceTrickle?.();\n            this.unsubscribeIceTrickle = createSafeAsyncSubscription(observable, async (candidate)=>{\n                return this.pc.addIceCandidate(candidate).catch((e)=>{\n                    this.logger(\"warn\", `ICE candidate error`, e, candidate);\n                });\n            });\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector an optional `MediaStreamTrack` to get the stats for.\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        /**\n         * Handles the ICECandidate event and\n         * Initiates an ICE Trickle process with the SFU.\n         */ this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                this.logger(\"debug\", \"null ice candidate\");\n                return;\n            }\n            const iceCandidate = this.toJSON(candidate);\n            this.sfuClient.iceTrickle({\n                peerType: this.peerType,\n                iceCandidate\n            }).catch((err)=>this.logger(\"warn\", `ICETrickle failed`, err));\n        };\n        /**\n         * Converts the ICE candidate to a JSON string.\n         */ this.toJSON = (candidate)=>{\n            if (!candidate.usernameFragment) {\n                // react-native-webrtc doesn't include usernameFragment in the candidate\n                const segments = candidate.candidate.split(\" \");\n                const ufragIndex = segments.findIndex((s)=>s === \"ufrag\") + 1;\n                const usernameFragment = segments[ufragIndex];\n                return JSON.stringify({\n                    ...candidate,\n                    usernameFragment\n                });\n            }\n            return JSON.stringify(candidate.toJSON());\n        };\n        /**\n         * Handles the ICE connection state change event.\n         */ this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            this.logger(\"debug\", `ICE connection state changed`, state);\n            if (this.state.callingState === CallingState.RECONNECTING) return;\n            // do nothing when ICE is restarting\n            if (this.isIceRestarting) return;\n            if (state === \"failed\" || state === \"disconnected\") {\n                this.logger(\"debug\", `Attempting to restart ICE`);\n                this.restartIce().catch((e)=>{\n                    this.logger(\"error\", `ICE restart failed`, e);\n                    this.onUnrecoverableError?.();\n                });\n            }\n        };\n        /**\n         * Handles the ICE candidate error event.\n         */ this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent && `${e.errorCode}: ${e.errorText}`;\n            const iceState = this.pc.iceConnectionState;\n            const logLevel = iceState === \"connected\" || iceState === \"checking\" ? \"debug\" : \"warn\";\n            this.logger(logLevel, `ICE Candidate error`, errorMessage);\n        };\n        /**\n         * Handles the ICE gathering state change event.\n         */ this.onIceGatherChange = ()=>{\n            this.logger(\"debug\", `ICE Gathering State`, this.pc.iceGatheringState);\n        };\n        /**\n         * Handles the signaling state change event.\n         */ this.onSignalingChange = ()=>{\n            this.logger(\"debug\", `Signaling state changed`, this.pc.signalingState);\n        };\n        this.peerType = peerType;\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.dispatcher = dispatcher;\n        this.onUnrecoverableError = onUnrecoverableError;\n        this.logger = getLogger([\n            peerType === PeerType.SUBSCRIBER ? \"Subscriber\" : \"Publisher\",\n            logTag\n        ]);\n        this.pc = new RTCPeerConnection(connectionConfig);\n        this.pc.addEventListener(\"icecandidate\", this.onIceCandidate);\n        this.pc.addEventListener(\"icecandidateerror\", this.onIceCandidateError);\n        this.pc.addEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n        this.pc.addEventListener(\"icegatheringstatechange\", this.onIceGatherChange);\n        this.pc.addEventListener(\"signalingstatechange\", this.onSignalingChange);\n    }\n    /**\n     * Detaches the event handlers from the `RTCPeerConnection`.\n     */ detachEventHandlers() {\n        this.pc.removeEventListener(\"icecandidate\", this.onIceCandidate);\n        this.pc.removeEventListener(\"icecandidateerror\", this.onIceCandidateError);\n        this.pc.removeEventListener(\"signalingstatechange\", this.onSignalingChange);\n        this.pc.removeEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n        this.pc.removeEventListener(\"icegatheringstatechange\", this.onIceGatherChange);\n        this.unsubscribeIceTrickle?.();\n        this.subscriptions.forEach((unsubscribe)=>unsubscribe());\n    }\n}\nclass TransceiverCache {\n    constructor(){\n        this.cache = [];\n        this.layers = [];\n        /**\n         * An array maintaining the order how transceivers were added to the peer connection.\n         * This is needed because some browsers (Firefox) don't reliably report\n         * trackId and `mid` parameters.\n         */ this.transceiverOrder = [];\n        /**\n         * Adds a transceiver to the cache.\n         */ this.add = (publishOption, transceiver)=>{\n            this.cache.push({\n                publishOption,\n                transceiver\n            });\n            this.transceiverOrder.push(transceiver);\n        };\n        /**\n         * Gets the transceiver for the given publish option.\n         */ this.get = (publishOption)=>{\n            return this.findTransceiver(publishOption)?.transceiver;\n        };\n        /**\n         * Gets the last transceiver for the given track type and publish option id.\n         */ this.getWith = (trackType, id)=>{\n            return this.findTransceiver({\n                trackType,\n                id\n            })?.transceiver;\n        };\n        /**\n         * Checks if the cache has the given publish option.\n         */ this.has = (publishOption)=>{\n            return !!this.get(publishOption);\n        };\n        /**\n         * Finds the first transceiver that satisfies the given predicate.\n         */ this.find = (predicate)=>{\n            return this.cache.find(predicate);\n        };\n        /**\n         * Provides all the items in the cache.\n         */ this.items = ()=>{\n            return this.cache;\n        };\n        /**\n         * Init index of the transceiver in the cache.\n         */ this.indexOf = (transceiver)=>{\n            return this.transceiverOrder.indexOf(transceiver);\n        };\n        /**\n         * Gets cached video layers for the given track.\n         */ this.getLayers = (publishOption)=>{\n            const entry = this.layers.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n            return entry?.layers;\n        };\n        /**\n         * Sets the video layers for the given track.\n         */ this.setLayers = (publishOption, layers = [])=>{\n            const entry = this.findLayer(publishOption);\n            if (entry) {\n                entry.layers = layers;\n            } else {\n                this.layers.push({\n                    publishOption,\n                    layers\n                });\n            }\n        };\n        this.findTransceiver = (publishOption)=>{\n            return this.cache.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n        };\n        this.findLayer = (publishOption)=>{\n            return this.layers.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n        };\n    }\n}\nconst ensureExhausted = (x, message)=>{\n    getLogger([\n        \"helpers\"\n    ])(\"warn\", message, x);\n};\nconst trackTypeToParticipantStreamKey = (trackType)=>{\n    switch(trackType){\n        case TrackType.SCREEN_SHARE:\n            return \"screenShareStream\";\n        case TrackType.SCREEN_SHARE_AUDIO:\n            return \"screenShareAudioStream\";\n        case TrackType.VIDEO:\n            return \"videoStream\";\n        case TrackType.AUDIO:\n            return \"audioStream\";\n        case TrackType.UNSPECIFIED:\n            throw new Error(\"Track type is unspecified\");\n        default:\n            ensureExhausted(trackType, \"Unknown track type\");\n    }\n};\nconst muteTypeToTrackType = (muteType)=>{\n    switch(muteType){\n        case \"audio\":\n            return TrackType.AUDIO;\n        case \"video\":\n            return TrackType.VIDEO;\n        case \"screenshare\":\n            return TrackType.SCREEN_SHARE;\n        case \"screenshare_audio\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            ensureExhausted(muteType, \"Unknown mute type\");\n    }\n};\nconst toTrackType = (trackType)=>{\n    switch(trackType){\n        case \"TRACK_TYPE_AUDIO\":\n            return TrackType.AUDIO;\n        case \"TRACK_TYPE_VIDEO\":\n            return TrackType.VIDEO;\n        case \"TRACK_TYPE_SCREEN_SHARE\":\n            return TrackType.SCREEN_SHARE;\n        case \"TRACK_TYPE_SCREEN_SHARE_AUDIO\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            return undefined;\n    }\n};\nconst isAudioTrackType = (trackType)=>trackType === TrackType.AUDIO || trackType === TrackType.SCREEN_SHARE_AUDIO;\nconst defaultBitratePerRid = {\n    q: 300000,\n    h: 750000,\n    f: 1250000\n};\n/**\n * In SVC, we need to send only one video encoding (layer).\n * this layer will have the additional spatial and temporal layers\n * defined via the scalabilityMode property.\n *\n * @param layers the layers to process.\n */ const toSvcEncodings = (layers)=>{\n    if (!layers) return;\n    // we take the highest quality layer, and we assign it to `q` encoder.\n    const withRid = (rid)=>(l)=>l.rid === rid;\n    const highestLayer = layers.find(withRid(\"f\")) || layers.find(withRid(\"h\")) || layers.find(withRid(\"q\"));\n    return [\n        {\n            ...highestLayer,\n            rid: \"q\"\n        }\n    ];\n};\n/**\n * Converts the rid to a video quality.\n */ const ridToVideoQuality = (rid)=>{\n    return rid === \"q\" ? VideoQuality.LOW_UNSPECIFIED : rid === \"h\" ? VideoQuality.MID : VideoQuality.HIGH; // default to HIGH\n};\n/**\n * Converts the given video layers to SFU video layers.\n */ const toVideoLayers = (layers = [])=>{\n    return layers.map((layer)=>({\n            rid: layer.rid || \"\",\n            bitrate: layer.maxBitrate || 0,\n            fps: layer.maxFramerate || 0,\n            quality: ridToVideoQuality(layer.rid || \"\"),\n            videoDimension: {\n                width: layer.width,\n                height: layer.height\n            }\n        }));\n};\n/**\n * Converts the spatial and temporal layers to a scalability mode.\n */ const toScalabilityMode = (spatialLayers, temporalLayers)=>`L${spatialLayers}T${temporalLayers}${spatialLayers > 1 ? \"_KEY\" : \"\"}`;\n/**\n * Determines the most optimal video layers for the given track.\n *\n * @param videoTrack the video track to find optimal layers for.\n * @param publishOption the publish options for the track.\n */ const computeVideoLayers = (videoTrack, publishOption)=>{\n    if (isAudioTrackType(publishOption.trackType)) return;\n    const optimalVideoLayers = [];\n    const settings = videoTrack.getSettings();\n    const { width = 0, height = 0 } = settings;\n    const { bitrate, codec, fps, maxSpatialLayers = 3, maxTemporalLayers = 3, videoDimension = {\n        width: 1280,\n        height: 720\n    } } = publishOption;\n    const maxBitrate = getComputedMaxBitrate(videoDimension, width, height, bitrate);\n    let downscaleFactor = 1;\n    let bitrateFactor = 1;\n    const svcCodec = isSvcCodec(codec?.name);\n    for (const rid of [\n        \"f\",\n        \"h\",\n        \"q\"\n    ].slice(0, maxSpatialLayers)){\n        const layer = {\n            active: true,\n            rid,\n            width: Math.round(width / downscaleFactor),\n            height: Math.round(height / downscaleFactor),\n            maxBitrate: maxBitrate / bitrateFactor || defaultBitratePerRid[rid],\n            maxFramerate: fps\n        };\n        if (svcCodec) {\n            // for SVC codecs, we need to set the scalability mode, and the\n            // codec will handle the rest (layers, temporal layers, etc.)\n            layer.scalabilityMode = toScalabilityMode(maxSpatialLayers, maxTemporalLayers);\n        } else {\n            // for non-SVC codecs, we need to downscale proportionally (simulcast)\n            layer.scaleResolutionDownBy = downscaleFactor;\n        }\n        downscaleFactor *= 2;\n        bitrateFactor *= 2;\n        // Reversing the order [f, h, q] to [q, h, f] as Chrome uses encoding index\n        // when deciding which layer to disable when CPU or bandwidth is constrained.\n        // Encodings should be ordered in increasing spatial resolution order.\n        optimalVideoLayers.unshift(layer);\n    }\n    // for simplicity, we start with all layers enabled, then this function\n    // will clear/reassign the layers that are not needed\n    return withSimulcastConstraints(settings, optimalVideoLayers);\n};\n/**\n * Computes the maximum bitrate for a given resolution.\n * If the current resolution is lower than the target resolution,\n * we want to proportionally reduce the target bitrate.\n * If the current resolution is higher than the target resolution,\n * we want to use the target bitrate.\n *\n * @param targetResolution the target resolution.\n * @param currentWidth the current width of the track.\n * @param currentHeight the current height of the track.\n * @param bitrate the target bitrate.\n */ const getComputedMaxBitrate = (targetResolution, currentWidth, currentHeight, bitrate)=>{\n    // if the current resolution is lower than the target resolution,\n    // we want to proportionally reduce the target bitrate\n    const { width: targetWidth, height: targetHeight } = targetResolution;\n    if (currentWidth < targetWidth || currentHeight < targetHeight) {\n        const currentPixels = currentWidth * currentHeight;\n        const targetPixels = targetWidth * targetHeight;\n        const reductionFactor = currentPixels / targetPixels;\n        return Math.round(bitrate * reductionFactor);\n    }\n    return bitrate;\n};\n/**\n * Browsers have different simulcast constraints for different video resolutions.\n *\n * This function modifies the provided list of video layers according to the\n * current implementation of simulcast constraints in the Chromium based browsers.\n *\n * https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/media/engine/simulcast.cc#90\n */ const withSimulcastConstraints = (settings, optimalVideoLayers)=>{\n    let layers;\n    const size = Math.max(settings.width || 0, settings.height || 0);\n    if (size <= 320) {\n        // provide only one layer 320x240 (q), the one with the highest quality\n        layers = optimalVideoLayers.filter((layer)=>layer.rid === \"f\");\n    } else if (size <= 640) {\n        // provide two layers, 160x120 (q) and 640x480 (h)\n        layers = optimalVideoLayers.filter((layer)=>layer.rid !== \"h\");\n    } else {\n        // provide three layers for sizes > 640x480\n        layers = optimalVideoLayers;\n    }\n    const ridMapping = [\n        \"q\",\n        \"h\",\n        \"f\"\n    ];\n    return layers.map((layer, index)=>({\n            ...layer,\n            rid: ridMapping[index]\n        }));\n};\n/**\n * Extracts the mid from the transceiver or the SDP.\n *\n * @param transceiver the transceiver.\n * @param transceiverInitIndex the index of the transceiver in the transceiver's init array.\n * @param sdp the SDP.\n */ const extractMid = (transceiver, transceiverInitIndex, sdp)=>{\n    if (transceiver.mid) return transceiver.mid;\n    if (!sdp) return String(transceiverInitIndex);\n    const track = transceiver.sender.track;\n    const parsedSdp = (0,sdp_transform__WEBPACK_IMPORTED_MODULE_2__.parse)(sdp);\n    const media = parsedSdp.media.find((m)=>{\n        return m.type === track.kind && // if `msid` is not present, we assume that the track is the first one\n        (m.msid?.includes(track.id) ?? true);\n    });\n    if (typeof media?.mid !== \"undefined\") return String(media.mid);\n    if (transceiverInitIndex < 0) return \"\";\n    return String(transceiverInitIndex);\n};\n/**\n * The `Publisher` is responsible for publishing/unpublishing media streams to/from the SFU\n *\n * @internal\n */ class Publisher extends BasePeerConnection {\n    /**\n     * Constructs a new `Publisher` instance.\n     */ constructor({ publishOptions, ...baseOptions }){\n        super(PeerType.PUBLISHER_UNSPECIFIED, baseOptions);\n        this.transceiverCache = new TransceiverCache();\n        /**\n         * Starts publishing the given track of the given media stream.\n         *\n         * Consecutive calls to this method will replace the stream.\n         * The previous stream will be stopped.\n         *\n         * @param track the track to publish.\n         * @param trackType the track type to publish.\n         */ this.publish = async (track, trackType)=>{\n            if (!this.publishOptions.some((o)=>o.trackType === trackType)) {\n                throw new Error(`No publish options found for ${TrackType[trackType]}`);\n            }\n            for (const publishOption of this.publishOptions){\n                if (publishOption.trackType !== trackType) continue;\n                // create a clone of the track as otherwise the same trackId will\n                // appear in the SDP in multiple transceivers\n                const trackToPublish = track.clone();\n                const transceiver = this.transceiverCache.get(publishOption);\n                if (!transceiver) {\n                    this.addTransceiver(trackToPublish, publishOption);\n                } else {\n                    await transceiver.sender.replaceTrack(trackToPublish);\n                }\n            }\n        };\n        /**\n         * Adds a new transceiver carrying the given track to the peer connection.\n         */ this.addTransceiver = (track, publishOption)=>{\n            const videoEncodings = computeVideoLayers(track, publishOption);\n            const sendEncodings = isSvcCodec(publishOption.codec?.name) ? toSvcEncodings(videoEncodings) : videoEncodings;\n            const transceiver = this.pc.addTransceiver(track, {\n                direction: \"sendonly\",\n                sendEncodings\n            });\n            const trackType = publishOption.trackType;\n            this.logger(\"debug\", `Added ${TrackType[trackType]} transceiver`);\n            this.transceiverCache.add(publishOption, transceiver);\n        };\n        /**\n         * Synchronizes the current Publisher state with the provided publish options.\n         */ this.syncPublishOptions = async ()=>{\n            // enable publishing with new options -> [av1, vp9]\n            for (const publishOption of this.publishOptions){\n                const { trackType } = publishOption;\n                if (!this.isPublishing(trackType)) continue;\n                if (this.transceiverCache.has(publishOption)) continue;\n                const item = this.transceiverCache.find((i)=>!!i.transceiver.sender.track && i.publishOption.trackType === trackType);\n                if (!item || !item.transceiver) continue;\n                // take the track from the existing transceiver for the same track type,\n                // clone it and publish it with the new publish options\n                const track = item.transceiver.sender.track.clone();\n                this.addTransceiver(track, publishOption);\n            }\n            // stop publishing with options not required anymore -> [vp9]\n            for (const item of this.transceiverCache.items()){\n                const { publishOption, transceiver } = item;\n                const hasPublishOption = this.publishOptions.some((option)=>option.id === publishOption.id && option.trackType === publishOption.trackType);\n                if (hasPublishOption) continue;\n                // it is safe to stop the track here, it is a clone\n                transceiver.sender.track?.stop();\n                await transceiver.sender.replaceTrack(null);\n            }\n        };\n        /**\n         * Returns true if the given track type is currently being published to the SFU.\n         *\n         * @param trackType the track type to check.\n         */ this.isPublishing = (trackType)=>{\n            for (const item of this.transceiverCache.items()){\n                if (item.publishOption.trackType !== trackType) continue;\n                const track = item.transceiver.sender.track;\n                if (!track) continue;\n                if (track.readyState === \"live\" && track.enabled) return true;\n            }\n            return false;\n        };\n        /**\n         * Maps the given track ID to the corresponding track type.\n         */ this.getTrackType = (trackId)=>{\n            for (const transceiverId of this.transceiverCache.items()){\n                const { publishOption, transceiver } = transceiverId;\n                if (transceiver.sender.track?.id === trackId) {\n                    return publishOption.trackType;\n                }\n            }\n            return undefined;\n        };\n        /**\n         * Stops the cloned track that is being published to the SFU.\n         */ this.stopTracks = (...trackTypes)=>{\n            for (const item of this.transceiverCache.items()){\n                const { publishOption, transceiver } = item;\n                if (!trackTypes.includes(publishOption.trackType)) continue;\n                transceiver.sender.track?.stop();\n            }\n        };\n        this.changePublishQuality = async (videoSender)=>{\n            const { trackType, layers, publishOptionId } = videoSender;\n            const enabledLayers = layers.filter((l)=>l.active);\n            const tag = \"Update publish quality:\";\n            this.logger(\"info\", `${tag} requested layers by SFU:`, enabledLayers);\n            const sender = this.transceiverCache.getWith(trackType, publishOptionId)?.sender;\n            if (!sender) {\n                return this.logger(\"warn\", `${tag} no video sender found.`);\n            }\n            const params = sender.getParameters();\n            if (params.encodings.length === 0) {\n                return this.logger(\"warn\", `${tag} there are no encodings set.`);\n            }\n            const [codecInUse] = params.codecs;\n            const usesSvcCodec = codecInUse && isSvcCodec(codecInUse.mimeType);\n            let changed = false;\n            for (const encoder of params.encodings){\n                const layer = usesSvcCodec ? enabledLayers[0] : enabledLayers.find((l)=>l.name === encoder.rid) ?? (params.encodings.length === 1 ? enabledLayers[0] : undefined);\n                // flip 'active' flag only when necessary\n                const shouldActivate = !!layer?.active;\n                if (shouldActivate !== encoder.active) {\n                    encoder.active = shouldActivate;\n                    changed = true;\n                }\n                // skip the rest of the settings if the layer is disabled or not found\n                if (!layer) continue;\n                const { maxFramerate, scaleResolutionDownBy, maxBitrate, scalabilityMode } = layer;\n                if (scaleResolutionDownBy >= 1 && scaleResolutionDownBy !== encoder.scaleResolutionDownBy) {\n                    encoder.scaleResolutionDownBy = scaleResolutionDownBy;\n                    changed = true;\n                }\n                if (maxBitrate > 0 && maxBitrate !== encoder.maxBitrate) {\n                    encoder.maxBitrate = maxBitrate;\n                    changed = true;\n                }\n                if (maxFramerate > 0 && maxFramerate !== encoder.maxFramerate) {\n                    encoder.maxFramerate = maxFramerate;\n                    changed = true;\n                }\n                // @ts-expect-error scalabilityMode is not in the typedefs yet\n                if (scalabilityMode && scalabilityMode !== encoder.scalabilityMode) {\n                    // @ts-expect-error scalabilityMode is not in the typedefs yet\n                    encoder.scalabilityMode = scalabilityMode;\n                    changed = true;\n                }\n            }\n            const activeEncoders = params.encodings.filter((e)=>e.active);\n            if (!changed) {\n                return this.logger(\"info\", `${tag} no change:`, activeEncoders);\n            }\n            await sender.setParameters(params);\n            this.logger(\"info\", `${tag} enabled rids:`, activeEncoders);\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger(\"debug\", \"Restarting ICE connection\");\n            const signalingState = this.pc.signalingState;\n            if (this.isIceRestarting || signalingState === \"have-local-offer\") {\n                this.logger(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            await this.negotiate({\n                iceRestart: true\n            });\n        };\n        this.onNegotiationNeeded = ()=>{\n            withoutConcurrency(\"publisher.negotiate\", ()=>this.negotiate()).catch((err)=>{\n                this.logger(\"error\", `Negotiation failed.`, err);\n                this.onUnrecoverableError?.();\n            });\n        };\n        /**\n         * Initiates a new offer/answer exchange with the currently connected SFU.\n         *\n         * @param options the optional offer options to use.\n         */ this.negotiate = async (options)=>{\n            const offer = await this.pc.createOffer(options);\n            const trackInfos = this.getAnnouncedTracks(offer.sdp);\n            if (trackInfos.length === 0) {\n                throw new Error(`Can't negotiate without announcing any tracks`);\n            }\n            try {\n                this.isIceRestarting = options?.iceRestart ?? false;\n                await this.pc.setLocalDescription(offer);\n                const { response } = await this.sfuClient.setPublisher({\n                    sdp: offer.sdp || \"\",\n                    tracks: trackInfos\n                });\n                if (response.error) throw new Error(response.error.message);\n                await this.pc.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: response.sdp\n                });\n            } finally{\n                this.isIceRestarting = false;\n            }\n            this.addTrickledIceCandidates();\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         */ this.getPublishedTracks = ()=>{\n            const tracks = [];\n            for (const { transceiver } of this.transceiverCache.items()){\n                const track = transceiver.sender.track;\n                if (track && track.readyState === \"live\") tracks.push(track);\n            }\n            return tracks;\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         * @param sdp an optional SDP to extract the `mid` from.\n         */ this.getAnnouncedTracks = (sdp)=>{\n            const trackInfos = [];\n            for (const bundle of this.transceiverCache.items()){\n                const { transceiver, publishOption } = bundle;\n                const track = transceiver.sender.track;\n                if (!track) continue;\n                trackInfos.push(this.toTrackInfo(transceiver, publishOption, sdp));\n            }\n            return trackInfos;\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         * This method shall be used for the reconnection flow.\n         * There we shouldn't announce the tracks that have been stopped due to a codec switch.\n         */ this.getAnnouncedTracksForReconnect = ()=>{\n            const sdp = this.pc.localDescription?.sdp;\n            const trackInfos = [];\n            for (const publishOption of this.publishOptions){\n                const transceiver = this.transceiverCache.get(publishOption);\n                if (!transceiver || !transceiver.sender.track) continue;\n                trackInfos.push(this.toTrackInfo(transceiver, publishOption, sdp));\n            }\n            return trackInfos;\n        };\n        /**\n         * Converts the given transceiver to a `TrackInfo` object.\n         */ this.toTrackInfo = (transceiver, publishOption, sdp)=>{\n            const track = transceiver.sender.track;\n            const isTrackLive = track.readyState === \"live\";\n            const layers = isTrackLive ? computeVideoLayers(track, publishOption) : this.transceiverCache.getLayers(publishOption);\n            this.transceiverCache.setLayers(publishOption, layers);\n            const isAudioTrack = isAudioTrackType(publishOption.trackType);\n            const isStereo = isAudioTrack && track.getSettings().channelCount === 2;\n            const transceiverIndex = this.transceiverCache.indexOf(transceiver);\n            const audioSettings = this.state.settings?.audio;\n            return {\n                trackId: track.id,\n                layers: toVideoLayers(layers),\n                trackType: publishOption.trackType,\n                mid: extractMid(transceiver, transceiverIndex, sdp),\n                stereo: isStereo,\n                dtx: isAudioTrack && !!audioSettings?.opus_dtx_enabled,\n                red: isAudioTrack && !!audioSettings?.redundant_coding_enabled,\n                muted: !isTrackLive,\n                codec: publishOption.codec,\n                publishOptionId: publishOption.id\n            };\n        };\n        this.publishOptions = publishOptions;\n        this.pc.addEventListener(\"negotiationneeded\", this.onNegotiationNeeded);\n        this.on(\"iceRestart\", (iceRestart)=>{\n            if (iceRestart.peerType !== PeerType.PUBLISHER_UNSPECIFIED) return;\n            this.restartIce().catch((err)=>{\n                this.logger(\"warn\", `ICERestart failed`, err);\n                this.onUnrecoverableError?.();\n            });\n        });\n        this.on(\"changePublishQuality\", async (event)=>{\n            for (const videoSender of event.videoSenders){\n                await this.changePublishQuality(videoSender);\n            }\n        });\n        this.on(\"changePublishOptions\", (event)=>{\n            this.publishOptions = event.publishOptions;\n            return this.syncPublishOptions();\n        });\n    }\n    /**\n     * Detaches the event handlers from the `RTCPeerConnection`.\n     * This is useful when we want to replace the `RTCPeerConnection`\n     * instance with a new one (in case of migration).\n     */ detachEventHandlers() {\n        super.detachEventHandlers();\n        this.pc.removeEventListener(\"negotiationneeded\", this.onNegotiationNeeded);\n    }\n}\n/**\n * A wrapper around the `RTCPeerConnection` that handles the incoming\n * media streams from the SFU.\n *\n * @internal\n */ class Subscriber extends BasePeerConnection {\n    /**\n     * Constructs a new `Subscriber` instance.\n     */ constructor(opts){\n        super(PeerType.SUBSCRIBER, opts);\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger(\"debug\", \"Restarting ICE connection\");\n            if (this.pc.signalingState === \"have-remote-offer\") {\n                this.logger(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            if (this.pc.connectionState === \"new\") {\n                this.logger(\"debug\", `ICE connection is not yet established, skipping restart.`);\n                return;\n            }\n            const previousIsIceRestarting = this.isIceRestarting;\n            try {\n                this.isIceRestarting = true;\n                await this.sfuClient.iceRestart({\n                    peerType: PeerType.SUBSCRIBER\n                });\n            } catch (e) {\n                // restore the previous state, as our intent for restarting ICE failed\n                this.isIceRestarting = previousIsIceRestarting;\n                throw e;\n            }\n        };\n        this.handleOnTrack = (e)=>{\n            const [primaryStream] = e.streams;\n            // example: `e3f6aaf8-b03d-4911-be36-83f47d37a76a:TRACK_TYPE_VIDEO`\n            const [trackId, rawTrackType] = primaryStream.id.split(\":\");\n            const participantToUpdate = this.state.participants.find((p)=>p.trackLookupPrefix === trackId);\n            this.logger(\"debug\", `[onTrack]: Got remote ${rawTrackType} track for userId: ${participantToUpdate?.userId}`, e.track.id, e.track);\n            const trackDebugInfo = `${participantToUpdate?.userId} ${rawTrackType}:${trackId}`;\n            e.track.addEventListener(\"mute\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track muted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"unmute\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track unmuted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"ended\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track ended: ${trackDebugInfo}`);\n                this.state.removeOrphanedTrack(primaryStream.id);\n            });\n            const trackType = toTrackType(rawTrackType);\n            if (!trackType) {\n                return this.logger(\"error\", `Unknown track type: ${rawTrackType}`);\n            }\n            if (!participantToUpdate) {\n                this.logger(\"warn\", `[onTrack]: Received track for unknown participant: ${trackId}`, e);\n                this.state.registerOrphanedTrack({\n                    id: primaryStream.id,\n                    trackLookupPrefix: trackId,\n                    track: primaryStream,\n                    trackType\n                });\n                return;\n            }\n            const streamKindProp = trackTypeToParticipantStreamKey(trackType);\n            if (!streamKindProp) {\n                this.logger(\"error\", `Unknown track type: ${rawTrackType}`);\n                return;\n            }\n            // get the previous stream to dispose it later\n            // usually this happens during migration, when the stream is replaced\n            // with a new one but the old one is still in the state\n            const previousStream = participantToUpdate[streamKindProp];\n            // replace the previous stream with the new one, prevents flickering\n            this.state.updateParticipant(participantToUpdate.sessionId, {\n                [streamKindProp]: primaryStream\n            });\n            // now, dispose the previous stream if it exists\n            if (previousStream) {\n                this.logger(\"info\", `[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${participantToUpdate.userId}`);\n                previousStream.getTracks().forEach((t)=>{\n                    t.stop();\n                    previousStream.removeTrack(t);\n                });\n            }\n        };\n        this.negotiate = async (subscriberOffer)=>{\n            this.logger(\"info\", `Received subscriberOffer`, subscriberOffer);\n            await this.pc.setRemoteDescription({\n                type: \"offer\",\n                sdp: subscriberOffer.sdp\n            });\n            this.addTrickledIceCandidates();\n            const answer = await this.pc.createAnswer();\n            await this.pc.setLocalDescription(answer);\n            await this.sfuClient.sendAnswer({\n                peerType: PeerType.SUBSCRIBER,\n                sdp: answer.sdp || \"\"\n            });\n            this.isIceRestarting = false;\n        };\n        this.pc.addEventListener(\"track\", this.handleOnTrack);\n        this.on(\"subscriberOffer\", async (subscriberOffer)=>{\n            return this.negotiate(subscriberOffer).catch((err)=>{\n                this.logger(\"error\", `Negotiation failed.`, err);\n            });\n        });\n    }\n    /**\n     * Detaches the event handlers from the `RTCPeerConnection`.\n     * This is useful when we want to replace the `RTCPeerConnection`\n     * instance with a new one (in case of migration).\n     */ detachEventHandlers() {\n        super.detachEventHandlers();\n        this.pc.removeEventListener(\"track\", this.handleOnTrack);\n    }\n}\nconst createWebSocketSignalChannel = (opts)=>{\n    const { endpoint, onMessage, logTag } = opts;\n    const logger = getLogger([\n        \"SfuClientWS\",\n        logTag\n    ]);\n    const ws = new WebSocket(endpoint);\n    ws.binaryType = \"arraybuffer\"; // do we need this?\n    ws.addEventListener(\"error\", (e)=>{\n        logger(\"error\", \"Signaling WS channel error\", e);\n    });\n    ws.addEventListener(\"close\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is closed\", e);\n    });\n    ws.addEventListener(\"open\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is open\", e);\n    });\n    ws.addEventListener(\"message\", (e)=>{\n        try {\n            const message = e.data instanceof ArrayBuffer ? SfuEvent.fromBinary(new Uint8Array(e.data)) : SfuEvent.fromJsonString(e.data.toString());\n            onMessage(message);\n        } catch (err) {\n            logger(\"error\", \"Failed to decode a message. Check whether the Proto models match.\", {\n                event: e,\n                error: err\n            });\n        }\n    });\n    return ws;\n};\nconst toRtcConfiguration = (config)=>{\n    return {\n        iceServers: config.map((ice)=>({\n                urls: ice.urls,\n                username: ice.username,\n                credential: ice.password\n            }))\n    };\n};\n/**\n * Saving a long-lived reference to a promise that can reject can be unsafe,\n * since rejecting the promise causes an unhandled rejection error (even if the\n * rejection is handled everywhere promise result is expected).\n *\n * To avoid that, we add both resolution and rejection handlers to the promise.\n * That way, the saved promise never rejects. A callback is provided as return\n * value to build a *new* promise, that resolves and rejects along with\n * the original promise.\n * @param promise Promise to wrap, which possibly rejects\n * @returns Callback to build a new promise, which resolves and rejects along\n * with the original promise\n */ function makeSafePromise(promise) {\n    let isPending = true;\n    const safePromise = promise.then((result)=>({\n            status: \"resolved\",\n            result\n        }), (error)=>({\n            status: \"rejected\",\n            error\n        })).finally(()=>isPending = false);\n    const unwrapPromise = ()=>safePromise.then((fulfillment)=>{\n            if (fulfillment.status === \"rejected\") throw fulfillment.error;\n            return fulfillment.result;\n        });\n    unwrapPromise.checkPending = ()=>isPending;\n    return unwrapPromise;\n}\n/**\n * Creates a new promise with resolvers.\n *\n * Based on:\n * - https://github.com/tc39/proposal-promise-with-resolvers/blob/main/polyfills.js\n */ const promiseWithResolvers = ()=>{\n    let resolve;\n    let reject;\n    const promise = new Promise((_resolve, _reject)=>{\n        resolve = _resolve;\n        reject = _reject;\n    });\n    let isResolved = false;\n    let isRejected = false;\n    const resolver = (value)=>{\n        isResolved = true;\n        resolve(value);\n    };\n    const rejecter = (reason)=>{\n        isRejected = true;\n        reject(reason);\n    };\n    return {\n        promise,\n        resolve: resolver,\n        reject: rejecter,\n        isResolved,\n        isRejected\n    };\n};\nconst uninitialized = Symbol(\"uninitialized\");\n/**\n * Lazily creates a value using a provided factory\n */ function lazy(factory) {\n    let value = uninitialized;\n    return ()=>{\n        if (value === uninitialized) {\n            value = factory();\n        }\n        return value;\n    };\n}\n// Do not modify this file manually. Instead, edit worker.ts\n// and the run ./generate-timer-worker.sh\nconst timerWorker = {\n    src: `const timerIdMapping = new Map();\nself.addEventListener('message', (event) => {\n    const request = event.data;\n    switch (request.type) {\n        case 'setTimeout':\n        case 'setInterval':\n            timerIdMapping.set(request.id, (request.type === 'setTimeout' ? setTimeout : setInterval)(() => {\n                tick(request.id);\n                if (request.type === 'setTimeout') {\n                    timerIdMapping.delete(request.id);\n                }\n            }, request.timeout));\n            break;\n        case 'clearTimeout':\n        case 'clearInterval':\n            (request.type === 'clearTimeout' ? clearTimeout : clearInterval)(timerIdMapping.get(request.id));\n            timerIdMapping.delete(request.id);\n            break;\n    }\n});\nfunction tick(id) {\n    const message = { type: 'tick', id };\n    self.postMessage(message);\n}`\n};\nclass TimerWorker {\n    constructor(){\n        this.currentTimerId = 1;\n        this.callbacks = new Map();\n        this.fallback = false;\n    }\n    setup({ useTimerWorker = true } = {}) {\n        if (!useTimerWorker) {\n            this.fallback = true;\n            return;\n        }\n        try {\n            const source = timerWorker.src;\n            const blob = new Blob([\n                source\n            ], {\n                type: \"application/javascript; charset=utf-8\"\n            });\n            const script = URL.createObjectURL(blob);\n            this.worker = new Worker(script, {\n                name: \"str-timer-worker\"\n            });\n            this.worker.addEventListener(\"message\", (event)=>{\n                const { type, id } = event.data;\n                if (type === \"tick\") {\n                    this.callbacks.get(id)?.();\n                }\n            });\n        } catch (err) {\n            getLogger([\n                \"timer-worker\"\n            ])(\"error\", err);\n            this.fallback = true;\n        }\n    }\n    destroy() {\n        this.callbacks.clear();\n        this.worker?.terminate();\n        this.worker = undefined;\n        this.fallback = false;\n    }\n    get ready() {\n        return this.fallback || Boolean(this.worker);\n    }\n    setInterval(callback, timeout) {\n        return this.setTimer(\"setInterval\", callback, timeout);\n    }\n    clearInterval(id) {\n        this.clearTimer(\"clearInterval\", id);\n    }\n    setTimeout(callback, timeout) {\n        return this.setTimer(\"setTimeout\", callback, timeout);\n    }\n    clearTimeout(id) {\n        this.clearTimer(\"clearTimeout\", id);\n    }\n    setTimer(type, callback, timeout) {\n        if (!this.ready) {\n            this.setup();\n        }\n        if (this.fallback) {\n            return (type === \"setTimeout\" ? setTimeout : setInterval)(callback, timeout);\n        }\n        const id = this.getTimerId();\n        this.callbacks.set(id, ()=>{\n            callback();\n            // Timeouts are one-off operations, so no need to keep callback reference\n            // after timer has fired\n            if (type === \"setTimeout\") {\n                this.callbacks.delete(id);\n            }\n        });\n        this.sendMessage({\n            type,\n            id,\n            timeout\n        });\n        return id;\n    }\n    clearTimer(type, id) {\n        if (!id) {\n            return;\n        }\n        if (!this.ready) {\n            this.setup();\n        }\n        if (this.fallback) {\n            (type === \"clearTimeout\" ? clearTimeout : clearInterval)(id);\n            return;\n        }\n        this.callbacks.delete(id);\n        this.sendMessage({\n            type,\n            id\n        });\n    }\n    getTimerId() {\n        return this.currentTimerId++;\n    }\n    sendMessage(message) {\n        if (!this.worker) {\n            throw new Error(\"Cannot use timer worker before it's set up\");\n        }\n        this.worker.postMessage(message);\n    }\n}\nlet timerWorkerEnabled = false;\nconst enableTimerWorker = ()=>{\n    timerWorkerEnabled = true;\n};\nconst getTimers = lazy(()=>{\n    const instance = new TimerWorker();\n    instance.setup({\n        useTimerWorker: timerWorkerEnabled\n    });\n    return instance;\n});\n/**\n * The client used for exchanging information with the SFU.\n */ class StreamSfuClient {\n    /**\n     * Constructs a new SFU client.\n     */ constructor({ dispatcher, credentials, sessionId, logTag, joinResponseTimeout = 5000, onSignalClose, streamClient }){\n        /**\n         * A buffer for ICE Candidates that are received before\n         * the Publisher and Subscriber Peer Connections are ready to handle them.\n         */ this.iceTrickleBuffer = new IceTrickleBuffer();\n        /**\n         * Flag to indicate if the client is in the process of leaving the call.\n         * This is set to `true` when the user initiates the leave process.\n         */ this.isLeaving = false;\n        this.pingIntervalInMs = 10 * 1000;\n        this.unhealthyTimeoutInMs = this.pingIntervalInMs + 5 * 1000;\n        /**\n         * Promise that resolves when the JoinResponse is received.\n         * Rejects after a certain threshold if the response is not received.\n         */ this.joinResponseTask = promiseWithResolvers();\n        /**\n         * A controller to abort the current requests.\n         */ this.abortController = new AbortController();\n        this.createWebSocket = ()=>{\n            this.signalWs = createWebSocketSignalChannel({\n                logTag: this.logTag,\n                endpoint: `${this.credentials.server.ws_endpoint}?tag=${this.logTag}`,\n                onMessage: (message)=>{\n                    this.lastMessageTimestamp = new Date();\n                    this.scheduleConnectionCheck();\n                    this.dispatcher.dispatch(message, this.logTag);\n                }\n            });\n            this.signalWs.addEventListener(\"close\", this.handleWebSocketClose);\n            this.signalReady = makeSafePromise(Promise.race([\n                new Promise((resolve)=>{\n                    const onOpen = ()=>{\n                        this.signalWs.removeEventListener(\"open\", onOpen);\n                        resolve(this.signalWs);\n                    };\n                    this.signalWs.addEventListener(\"open\", onOpen);\n                }),\n                new Promise((resolve, reject)=>{\n                    setTimeout(()=>reject(new Error(\"SFU WS connection timed out\")), this.joinResponseTimeout);\n                })\n            ]));\n        };\n        this.cleanUpWebSocket = ()=>{\n            this.signalWs.removeEventListener(\"close\", this.handleWebSocketClose);\n        };\n        this.handleWebSocketClose = ()=>{\n            this.signalWs.removeEventListener(\"close\", this.handleWebSocketClose);\n            getTimers().clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            this.onSignalClose?.();\n        };\n        this.close = (code = StreamSfuClient.NORMAL_CLOSURE, reason)=>{\n            if (this.signalWs.readyState === WebSocket.OPEN) {\n                this.logger(\"debug\", `Closing SFU WS connection: ${code} - ${reason}`);\n                this.signalWs.close(code, `js-client: ${reason}`);\n                this.cleanUpWebSocket();\n            }\n            this.dispose();\n        };\n        this.dispose = ()=>{\n            this.logger(\"debug\", \"Disposing SFU client\");\n            this.unsubscribeIceTrickle();\n            this.unsubscribeNetworkChanged();\n            clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            clearTimeout(this.migrateAwayTimeout);\n            this.abortController.abort();\n            this.migrationTask?.resolve();\n            this.iceTrickleBuffer.dispose();\n        };\n        this.leaveAndClose = async (reason)=>{\n            await this.joinTask;\n            try {\n                this.isLeaving = true;\n                await this.notifyLeave(reason);\n            } catch (err) {\n                this.logger(\"debug\", \"Error notifying SFU about leaving call\", err);\n            }\n            this.close(StreamSfuClient.NORMAL_CLOSURE, reason.substring(0, 115));\n        };\n        this.updateSubscriptions = async (tracks)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateSubscriptions({\n                    sessionId: this.sessionId,\n                    tracks\n                }), this.abortController.signal);\n        };\n        this.setPublisher = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.setPublisher({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendAnswer = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.sendAnswer({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceTrickle = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceTrickle({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceRestart = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceRestart({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.updateMuteStates = async (muteStates)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateMuteStates({\n                    muteStates,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendStats = async (stats)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.sendStats({\n                    ...stats,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.startNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.startNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.stopNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.stopNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.enterMigration = async (opts = {})=>{\n            this.isLeaving = true;\n            const { timeout = 7 * 1000 } = opts;\n            this.migrationTask?.reject(new Error(\"Cancelled previous migration\"));\n            const task = this.migrationTask = promiseWithResolvers();\n            const unsubscribe = this.dispatcher.on(\"participantMigrationComplete\", ()=>{\n                unsubscribe();\n                clearTimeout(this.migrateAwayTimeout);\n                task.resolve();\n            });\n            this.migrateAwayTimeout = setTimeout(()=>{\n                unsubscribe();\n                task.reject(new Error(`Migration (${this.logTag}) failed to complete in ${timeout}ms`));\n            }, timeout);\n            return task.promise;\n        };\n        this.join = async (data)=>{\n            // wait for the signal web socket to be ready before sending \"joinRequest\"\n            await this.signalReady();\n            if (this.joinResponseTask.isResolved || this.joinResponseTask.isRejected) {\n                // we need to lock the RPC requests until we receive a JoinResponse.\n                // that's why we have this primitive lock mechanism.\n                // the client starts with already initialized joinResponseTask,\n                // and this code creates a new one for the next join request.\n                this.joinResponseTask = promiseWithResolvers();\n            }\n            // capture a reference to the current joinResponseTask as it might\n            // be replaced with a new one in case a second join request is made\n            const current = this.joinResponseTask;\n            let timeoutId;\n            const unsubscribe = this.dispatcher.on(\"joinResponse\", (joinResponse)=>{\n                this.logger(\"debug\", \"Received joinResponse\", joinResponse);\n                clearTimeout(timeoutId);\n                unsubscribe();\n                this.keepAlive();\n                current.resolve(joinResponse);\n            });\n            timeoutId = setTimeout(()=>{\n                unsubscribe();\n                current.reject(new Error('Waiting for \"joinResponse\" has timed out'));\n            }, this.joinResponseTimeout);\n            await this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"joinRequest\",\n                    joinRequest: JoinRequest.create({\n                        ...data,\n                        sessionId: this.sessionId,\n                        token: this.credentials.token\n                    })\n                }\n            }));\n            return current.promise;\n        };\n        this.ping = async ()=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"healthCheckRequest\",\n                    healthCheckRequest: {}\n                }\n            }));\n        };\n        this.notifyLeave = async (reason)=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"leaveCallRequest\",\n                    leaveCallRequest: {\n                        sessionId: this.sessionId,\n                        reason\n                    }\n                }\n            }));\n        };\n        this.send = async (message)=>{\n            await this.signalReady(); // wait for the signal ws to be open\n            const msgJson = SfuRequest.toJson(message);\n            if (this.signalWs.readyState !== WebSocket.OPEN) {\n                this.logger(\"debug\", \"Signal WS is not open. Skipping message\", msgJson);\n                return;\n            }\n            this.logger(\"debug\", `Sending message to: ${this.edgeName}`, msgJson);\n            this.signalWs.send(SfuRequest.toBinary(message));\n        };\n        this.keepAlive = ()=>{\n            const timers = getTimers();\n            timers.clearInterval(this.keepAliveInterval);\n            this.keepAliveInterval = timers.setInterval(()=>{\n                this.ping().catch((e)=>{\n                    this.logger(\"error\", \"Error sending healthCheckRequest to SFU\", e);\n                });\n            }, this.pingIntervalInMs);\n        };\n        this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeout);\n            this.connectionCheckTimeout = setTimeout(()=>{\n                if (this.lastMessageTimestamp) {\n                    const timeSinceLastMessage = new Date().getTime() - this.lastMessageTimestamp.getTime();\n                    if (timeSinceLastMessage > this.unhealthyTimeoutInMs) {\n                        this.close(StreamSfuClient.ERROR_CONNECTION_UNHEALTHY, `SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`);\n                    }\n                }\n            }, this.unhealthyTimeoutInMs);\n        };\n        this.dispatcher = dispatcher;\n        this.sessionId = sessionId || generateUUIDv4();\n        this.onSignalClose = onSignalClose;\n        this.credentials = credentials;\n        const { server, token } = credentials;\n        this.edgeName = server.edge_name;\n        this.joinResponseTimeout = joinResponseTimeout;\n        this.logTag = logTag;\n        this.logger = getLogger([\n            \"SfuClient\",\n            logTag\n        ]);\n        this.rpc = createSignalClient({\n            baseUrl: server.url,\n            interceptors: [\n                withHeaders({\n                    Authorization: `Bearer ${token}`\n                }),\n                getLogLevel() === \"trace\" && withRequestLogger(this.logger, \"trace\")\n            ].filter((v)=>!!v)\n        });\n        // Special handling for the ICETrickle kind of events.\n        // The SFU might trigger these events before the initial RTC\n        // connection is established or \"JoinResponse\" received.\n        // In that case, those events (ICE candidates) need to be buffered\n        // and later added to the appropriate PeerConnection\n        // once the remoteDescription is known and set.\n        this.unsubscribeIceTrickle = dispatcher.on(\"iceTrickle\", (iceTrickle)=>{\n            this.iceTrickleBuffer.push(iceTrickle);\n        });\n        // listen to network changes to handle offline state\n        // we shouldn't attempt to recover websocket connection when offline\n        this.unsubscribeNetworkChanged = streamClient.on(\"network.changed\", (e)=>{\n            if (!e.online) {\n                this.networkAvailableTask = promiseWithResolvers();\n            } else {\n                this.networkAvailableTask?.resolve();\n            }\n        });\n        this.createWebSocket();\n    }\n    get isHealthy() {\n        return this.signalWs.readyState === WebSocket.OPEN;\n    }\n    get joinTask() {\n        return this.joinResponseTask.promise;\n    }\n}\n/**\n * The normal closure code. Used for controlled shutdowns.\n */ StreamSfuClient.NORMAL_CLOSURE = 1000;\n/**\n * The error code used when the SFU connection is unhealthy.\n * Usually, this means that no message has been received from the SFU for\n * a certain amount of time (`connectionCheckTimeout`).\n */ StreamSfuClient.ERROR_CONNECTION_UNHEALTHY = 4001;\n/**\n * The error code used when the SFU connection is disposed because a new\n * connection is established or is about to be established.\n * Here, we don't use 1000 (normal closure) because we don't want the\n * SFU to clean up the resources associated with the current participant.\n */ StreamSfuClient.DISPOSE_OLD_SOCKET = 4002;\n/**\n * Event handler that watched the delivery of `call.accepted`.\n * Once the event is received, the call is joined.\n */ const watchCallAccepted = (call)=>{\n    return async function onCallAccepted(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { state } = call;\n        if (event.call.created_by.id === call.currentUserId && state.callingState === CallingState.RINGING) {\n            await call.join();\n        }\n    };\n};\n/**\n * Event handler that watches delivery of `call.rejected` Websocket event.\n * Once the event is received, the call is left.\n */ const watchCallRejected = (call)=>{\n    return async function onCallRejected(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { call: eventCall } = event;\n        const { session: callSession } = eventCall;\n        if (!callSession) {\n            call.logger(\"warn\", \"No call session provided. Ignoring call.rejected event.\", event);\n            return;\n        }\n        const rejectedBy = callSession.rejected_by;\n        const { members, callingState } = call.state;\n        if (callingState !== CallingState.RINGING) {\n            call.logger(\"info\", \"Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.\", event);\n            return;\n        }\n        if (call.isCreatedByMe) {\n            const everyoneElseRejected = members.filter((m)=>m.user_id !== call.currentUserId).every((m)=>rejectedBy[m.user_id]);\n            if (everyoneElseRejected) {\n                call.logger(\"info\", \"everyone rejected, leaving the call\");\n                await call.leave({\n                    reason: \"ring: everyone rejected\"\n                });\n            }\n        } else {\n            if (rejectedBy[eventCall.created_by.id]) {\n                call.logger(\"info\", \"call creator rejected, leaving call\");\n                await call.leave({\n                    reason: \"ring: creator rejected\"\n                });\n            }\n        }\n    };\n};\n/**\n * Event handler that watches the delivery of `call.ended` Websocket event.\n */ const watchCallEnded = (call)=>{\n    return function onCallEnded() {\n        const { callingState } = call.state;\n        if (callingState !== CallingState.IDLE && callingState !== CallingState.LEFT) {\n            call.leave({\n                reason: \"call.ended event received\",\n                reject: false\n            }).catch((err)=>{\n                call.logger(\"error\", \"Failed to leave call after call.ended \", err);\n            });\n        }\n    };\n};\n/**\n * Watches for `callEnded` events.\n */ const watchSfuCallEnded = (call)=>{\n    return call.on(\"callEnded\", async (e)=>{\n        if (call.state.callingState === CallingState.LEFT) return;\n        try {\n            // `call.ended` event arrived after the call is already left\n            // and all event handlers are detached. We need to manually\n            // update the call state to reflect the call has ended.\n            call.state.setEndedAt(new Date());\n            const reason = CallEndedReason[e.reason];\n            await call.leave({\n                reason: `callEnded received: ${reason}`\n            });\n        } catch (err) {\n            call.logger(\"error\", \"Failed to leave call after being ended by the SFU\", err);\n        }\n    });\n};\n/**\n * Event handler that watches for `callGrantsUpdated` events.\n *\n * @param state the call state to update.\n */ const watchCallGrantsUpdated = (state)=>{\n    return function onCallGrantsUpdated(event) {\n        const { currentGrants } = event;\n        if (currentGrants) {\n            const { canPublishAudio, canPublishVideo, canScreenshare } = currentGrants;\n            const update = {\n                [OwnCapability.SEND_AUDIO]: canPublishAudio,\n                [OwnCapability.SEND_VIDEO]: canPublishVideo,\n                [OwnCapability.SCREENSHARE]: canScreenshare\n            };\n            const nextCapabilities = state.ownCapabilities.filter((capability)=>update[capability] !== false);\n            Object.entries(update).forEach(([capability, value])=>{\n                if (value && !nextCapabilities.includes(capability)) {\n                    nextCapabilities.push(capability);\n                }\n            });\n            state.setOwnCapabilities(nextCapabilities);\n        }\n    };\n};\nconst watchConnectionQualityChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"connectionQualityChanged\", (e)=>{\n        const { connectionQualityUpdates } = e;\n        if (!connectionQualityUpdates) return;\n        state.updateParticipants(connectionQualityUpdates.reduce((patches, update)=>{\n            const { sessionId, connectionQuality } = update;\n            patches[sessionId] = {\n                connectionQuality\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Updates the approximate number of participants in the call by peeking at the\n * health check events that our SFU sends.\n */ const watchParticipantCountChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"healthCheckResponse\", (e)=>{\n        const { participantCount } = e;\n        if (participantCount) {\n            state.setParticipantCount(participantCount.total);\n            state.setAnonymousParticipantCount(participantCount.anonymous);\n        }\n    });\n};\nconst watchLiveEnded = (dispatcher, call)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (e.error && e.error.code !== ErrorCode.LIVE_ENDED) return;\n        if (!call.permissionsContext.hasPermission(OwnCapability.JOIN_BACKSTAGE)) {\n            call.leave({\n                reason: \"live ended\"\n            }).catch((err)=>{\n                call.logger(\"error\", \"Failed to leave call after live ended\", err);\n            });\n        }\n    });\n};\n/**\n * Watches and logs the errors reported by the currently connected SFU.\n */ const watchSfuErrorReports = (dispatcher)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (!e.error) return;\n        const logger = getLogger([\n            \"SfuClient\"\n        ]);\n        const { error, reconnectStrategy } = e;\n        logger(\"error\", \"SFU reported error\", {\n            code: ErrorCode[error.code],\n            reconnectStrategy: WebsocketReconnectStrategy[reconnectStrategy],\n            message: error.message,\n            shouldRetry: error.shouldRetry\n        });\n    });\n};\n/**\n * Watches for `pinsUpdated` events and updates the pinned state of participants\n * in the call.\n */ const watchPinsUpdated = (state)=>{\n    return function onPinsUpdated(e) {\n        const { pins } = e;\n        state.setServerSidePins(pins);\n    };\n};\n/**\n * An event handler that handles soft mutes.\n *\n * @param call the call.\n */ const handleRemoteSoftMute = (call)=>{\n    return call.on(\"trackUnpublished\", async (event)=>{\n        const { cause, type, sessionId } = event;\n        const { localParticipant } = call.state;\n        if (cause === TrackUnpublishReason.MODERATION && sessionId === localParticipant?.sessionId) {\n            const logger = call.logger;\n            logger(\"info\", `Local participant's ${TrackType[type]} track is muted remotely`);\n            try {\n                if (type === TrackType.VIDEO) {\n                    await call.camera.disable();\n                } else if (type === TrackType.AUDIO) {\n                    await call.microphone.disable();\n                } else if (type === TrackType.SCREEN_SHARE || type === TrackType.SCREEN_SHARE_AUDIO) {\n                    await call.screenShare.disable();\n                } else {\n                    logger(\"warn\", \"Unsupported track type to soft mute\", TrackType[type]);\n                }\n            } catch (error) {\n                logger(\"error\", \"Failed to stop publishing\", error);\n            }\n        }\n    });\n};\n/**\n * Adds unique values to an array.\n *\n * @param arr the array to add to.\n * @param values the values to add.\n */ const pushToIfMissing = (arr, ...values)=>{\n    for (const v of values){\n        if (!arr.includes(v)) {\n            arr.push(v);\n        }\n    }\n    return arr;\n};\n/**\n * An event responder which handles the `participantJoined` event.\n */ const watchParticipantJoined = (state)=>{\n    return function onParticipantJoined(e) {\n        const { participant } = e;\n        if (!participant) return;\n        // `state.updateOrAddParticipant` acts as a safeguard against\n        // potential duplicate events from the SFU.\n        //\n        // Although the SFU should not send duplicate events, we have seen\n        // some race conditions in the past during the `join-flow`.\n        // The SFU would send participant info as part of the `join`\n        // response and then follow up with a `participantJoined` event for\n        // already announced participants.\n        const orphanedTracks = reconcileOrphanedTracks(state, participant);\n        state.updateOrAddParticipant(participant.sessionId, Object.assign(participant, orphanedTracks, {\n            viewportVisibilityState: {\n                videoTrack: VisibilityState.UNKNOWN,\n                screenShareTrack: VisibilityState.UNKNOWN\n            }\n        }));\n    };\n};\n/**\n * An event responder which handles the `participantLeft` event.\n */ const watchParticipantLeft = (state)=>{\n    return function onParticipantLeft(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.setParticipants((participants)=>participants.filter((p)=>p.sessionId !== participant.sessionId));\n    };\n};\n/**\n * An event responder which handles the `participantUpdated` event.\n */ const watchParticipantUpdated = (state)=>{\n    return function onParticipantUpdated(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.updateParticipant(participant.sessionId, participant);\n    };\n};\n/**\n * An event responder which handles the `trackPublished` event.\n * The SFU will send this event when a participant publishes a track.\n */ const watchTrackPublished = (state)=>{\n    return function onTrackPublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls.\n        // After a certain threshold, the SFU would stop emitting `participantJoined`\n        // events, and instead, it would only provide the participant's information\n        // once they start publishing a track.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: pushToIfMissing([\n                        ...p.publishedTracks\n                    ], type)\n                }));\n        }\n    };\n};\n/**\n * An event responder which handles the `trackUnpublished` event.\n * The SFU will send this event when a participant unpublishes a track.\n */ const watchTrackUnpublished = (state)=>{\n    return function onTrackUnpublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls. See `watchTrackPublished`.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: p.publishedTracks.filter((t)=>t !== type)\n                }));\n        }\n    };\n};\n/**\n * Reconciles orphaned tracks (if any) for the given participant.\n *\n * @param state the call state.\n * @param participant the participant.\n */ const reconcileOrphanedTracks = (state, participant)=>{\n    const orphanTracks = state.takeOrphanedTracks(participant.trackLookupPrefix);\n    if (!orphanTracks.length) return;\n    const reconciledTracks = {};\n    for (const orphan of orphanTracks){\n        const key = trackTypeToParticipantStreamKey(orphan.trackType);\n        if (!key) continue;\n        reconciledTracks[key] = orphan.track;\n    }\n    return reconciledTracks;\n};\n/**\n * Watches for `dominantSpeakerChanged` events.\n */ const watchDominantSpeakerChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"dominantSpeakerChanged\", (e)=>{\n        const { sessionId } = e;\n        if (sessionId === state.dominantSpeaker?.sessionId) return;\n        state.setParticipants((participants)=>participants.map((participant)=>{\n                // mark the new dominant speaker\n                if (participant.sessionId === sessionId) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: true\n                    };\n                }\n                // unmark the old dominant speaker\n                if (participant.isDominantSpeaker) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: false\n                    };\n                }\n                return participant; // no change\n            }));\n    });\n};\n/**\n * Watches for `audioLevelChanged` events.\n */ const watchAudioLevelChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"audioLevelChanged\", (e)=>{\n        const { audioLevels } = e;\n        state.updateParticipants(audioLevels.reduce((patches, current)=>{\n            patches[current.sessionId] = {\n                audioLevel: current.level,\n                isSpeaking: current.isSpeaking\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Registers the default event handlers for a call during its lifecycle.\n *\n * @param call the call to register event handlers for.\n * @param dispatcher the dispatcher.\n */ const registerEventHandlers = (call, dispatcher)=>{\n    const state = call.state;\n    const eventHandlers = [\n        call.on(\"call.ended\", watchCallEnded(call)),\n        watchSfuCallEnded(call),\n        watchLiveEnded(dispatcher, call),\n        watchSfuErrorReports(dispatcher),\n        watchConnectionQualityChanged(dispatcher, state),\n        watchParticipantCountChanged(dispatcher, state),\n        call.on(\"participantJoined\", watchParticipantJoined(state)),\n        call.on(\"participantLeft\", watchParticipantLeft(state)),\n        call.on(\"participantUpdated\", watchParticipantUpdated(state)),\n        call.on(\"trackPublished\", watchTrackPublished(state)),\n        call.on(\"trackUnpublished\", watchTrackUnpublished(state)),\n        watchAudioLevelChanged(dispatcher, state),\n        watchDominantSpeakerChanged(dispatcher, state),\n        call.on(\"callGrantsUpdated\", watchCallGrantsUpdated(state)),\n        call.on(\"pinsUpdated\", watchPinsUpdated(state)),\n        handleRemoteSoftMute(call)\n    ];\n    if (call.ringing) {\n        // these events are only relevant when the call is ringing\n        eventHandlers.push(registerRingingCallEventHandlers(call));\n    }\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Registers event handlers for a call that is of ringing type.\n *\n * @param call the call to register event handlers for.\n */ const registerRingingCallEventHandlers = (call)=>{\n    const coordinatorRingEvents = {\n        \"call.accepted\": watchCallAccepted(call),\n        \"call.rejected\": watchCallRejected(call)\n    };\n    const eventHandlers = Object.keys(coordinatorRingEvents).map((event)=>{\n        const eventName = event;\n        return call.on(eventName, coordinatorRingEvents[eventName]);\n    });\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Flatten the stats report into an array of stats objects.\n *\n * @param report the report to flatten.\n */ const flatten = (report)=>{\n    const stats = [];\n    report.forEach((s)=>{\n        stats.push(s);\n    });\n    return stats;\n};\nconst getSdkSignature = (clientDetails)=>{\n    const { sdk, ...platform } = clientDetails;\n    const sdkName = getSdkName(sdk);\n    const sdkVersion = getSdkVersion(sdk);\n    return {\n        sdkName,\n        sdkVersion,\n        ...platform\n    };\n};\nconst getSdkName = (sdk)=>{\n    return sdk && sdk.type === SdkType.REACT ? \"stream-react\" : sdk && sdk.type === SdkType.REACT_NATIVE ? \"stream-react-native\" : \"stream-js\";\n};\nconst getSdkVersion = (sdk)=>{\n    return sdk ? `${sdk.major}.${sdk.minor}.${sdk.patch}` : \"0.0.0-development\";\n};\n/**\n * Checks whether the current browser is Safari.\n */ const isSafari = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent || \"\");\n};\n/**\n * Checks whether the current browser is Firefox.\n */ const isFirefox = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Firefox\");\n};\n/**\n * Checks whether the current browser is Google Chrome.\n */ const isChrome = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Chrome\");\n};\nvar browsers = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    isChrome: isChrome,\n    isFirefox: isFirefox,\n    isSafari: isSafari\n});\n/**\n * Creates a new StatsReporter instance that collects metrics about the ongoing call and reports them to the state store\n */ const createStatsReporter = ({ subscriber, publisher, state, datacenter, pollingIntervalInMs = 2000 })=>{\n    const logger = getLogger([\n        \"stats\"\n    ]);\n    const getRawStatsForTrack = async (kind, selector)=>{\n        if (kind === \"subscriber\" && subscriber) {\n            return subscriber.getStats(selector);\n        } else if (kind === \"publisher\" && publisher) {\n            return publisher.getStats(selector);\n        } else {\n            return undefined;\n        }\n    };\n    const getStatsForStream = async (kind, tracks)=>{\n        const pc = kind === \"subscriber\" ? subscriber : publisher;\n        if (!pc) return [];\n        const statsForStream = [];\n        for (const track of tracks){\n            const report = await pc.getStats(track);\n            const stats = transform(report, {\n                // @ts-ignore\n                trackKind: track.kind,\n                kind\n            });\n            statsForStream.push(stats);\n        }\n        return statsForStream;\n    };\n    const startReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.add(sessionId);\n        void run();\n    };\n    const stopReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.delete(sessionId);\n        void run();\n    };\n    const sessionIdsToTrack = new Set();\n    /**\n     * The main stats reporting loop.\n     */ const run = async ()=>{\n        const participantStats = {};\n        if (sessionIdsToTrack.size > 0) {\n            const sessionIds = new Set(sessionIdsToTrack);\n            for (const participant of state.participants){\n                if (!sessionIds.has(participant.sessionId)) continue;\n                const { audioStream, isLocalParticipant, sessionId, userId, videoStream } = participant;\n                const kind = isLocalParticipant ? \"publisher\" : \"subscriber\";\n                try {\n                    const tracks = isLocalParticipant ? publisher?.getPublishedTracks() || [] : [\n                        ...videoStream?.getVideoTracks() || [],\n                        ...audioStream?.getAudioTracks() || []\n                    ];\n                    participantStats[sessionId] = await getStatsForStream(kind, tracks);\n                } catch (e) {\n                    logger(\"warn\", `Failed to collect ${kind} stats for ${userId}`, e);\n                }\n            }\n        }\n        const [subscriberStats, publisherStats] = await Promise.all([\n            subscriber.getStats().then((report)=>transform(report, {\n                    kind: \"subscriber\",\n                    trackKind: \"video\",\n                    publisher\n                })).then(aggregate),\n            publisher ? publisher.getStats().then((report)=>transform(report, {\n                    kind: \"publisher\",\n                    trackKind: \"video\",\n                    publisher\n                })).then(aggregate) : getEmptyStats()\n        ]);\n        const [subscriberRawStats, publisherRawStats] = await Promise.all([\n            getRawStatsForTrack(\"subscriber\"),\n            publisher ? getRawStatsForTrack(\"publisher\") : undefined\n        ]);\n        state.setCallStatsReport({\n            datacenter,\n            publisherStats,\n            subscriberStats,\n            subscriberRawStats,\n            publisherRawStats,\n            participants: participantStats,\n            timestamp: Date.now()\n        });\n    };\n    let timeoutId;\n    if (pollingIntervalInMs > 0) {\n        const loop = async ()=>{\n            await run().catch((e)=>{\n                logger(\"debug\", \"Failed to collect stats\", e);\n            });\n            timeoutId = setTimeout(loop, pollingIntervalInMs);\n        };\n        void loop();\n    }\n    const stop = ()=>{\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n    };\n    return {\n        getRawStatsForTrack,\n        getStatsForStream,\n        startReportingStatsFor,\n        stopReportingStatsFor,\n        stop\n    };\n};\n/**\n * Transforms raw RTC stats into a slimmer and uniform across browsers format.\n *\n * @param report the report to transform.\n * @param opts the transform options.\n */ const transform = (report, opts)=>{\n    const { trackKind, kind, publisher } = opts;\n    const direction = kind === \"subscriber\" ? \"inbound-rtp\" : \"outbound-rtp\";\n    const stats = flatten(report);\n    const streams = stats.filter((stat)=>stat.type === direction && stat.kind === trackKind).map((stat)=>{\n        const rtcStreamStats = stat;\n        const codec = stats.find((s)=>s.type === \"codec\" && s.id === rtcStreamStats.codecId);\n        const transport = stats.find((s)=>s.type === \"transport\" && s.id === rtcStreamStats.transportId);\n        let roundTripTime;\n        if (transport && transport.dtlsState === \"connected\") {\n            const candidatePair = stats.find((s)=>s.type === \"candidate-pair\" && s.id === transport.selectedCandidatePairId);\n            roundTripTime = candidatePair?.currentRoundTripTime;\n        }\n        let trackType;\n        if (kind === \"publisher\" && publisher) {\n            const firefox = isFirefox();\n            const mediaSource = stats.find((s)=>s.type === \"media-source\" && // Firefox doesn't have mediaSourceId, so we need to guess the media source\n                (firefox ? true : s.id === rtcStreamStats.mediaSourceId));\n            if (mediaSource) {\n                trackType = publisher.getTrackType(mediaSource.trackIdentifier);\n            }\n        }\n        return {\n            bytesSent: rtcStreamStats.bytesSent,\n            bytesReceived: rtcStreamStats.bytesReceived,\n            codec: codec?.mimeType,\n            currentRoundTripTime: roundTripTime,\n            frameHeight: rtcStreamStats.frameHeight,\n            frameWidth: rtcStreamStats.frameWidth,\n            framesPerSecond: rtcStreamStats.framesPerSecond,\n            jitter: rtcStreamStats.jitter,\n            kind: rtcStreamStats.kind,\n            mediaSourceId: rtcStreamStats.mediaSourceId,\n            // @ts-ignore: available in Chrome only, TS doesn't recognize this\n            qualityLimitationReason: rtcStreamStats.qualityLimitationReason,\n            rid: rtcStreamStats.rid,\n            ssrc: rtcStreamStats.ssrc,\n            trackType\n        };\n    });\n    return {\n        rawStats: report,\n        streams,\n        timestamp: Date.now()\n    };\n};\nconst getEmptyStats = (stats)=>{\n    return {\n        rawReport: stats ?? {\n            streams: [],\n            timestamp: Date.now()\n        },\n        totalBytesSent: 0,\n        totalBytesReceived: 0,\n        averageJitterInMs: 0,\n        averageRoundTripTimeInMs: 0,\n        qualityLimitationReasons: \"none\",\n        highestFrameWidth: 0,\n        highestFrameHeight: 0,\n        highestFramesPerSecond: 0,\n        codec: \"\",\n        codecPerTrackType: {},\n        timestamp: Date.now()\n    };\n};\n/**\n * Aggregates generic stats.\n *\n * @param stats the stats to aggregate.\n */ const aggregate = (stats)=>{\n    const aggregatedStats = getEmptyStats(stats);\n    let maxArea = -1;\n    const area = (w, h)=>w * h;\n    const qualityLimitationReasons = new Set();\n    const streams = stats.streams;\n    const report = streams.reduce((acc, stream)=>{\n        acc.totalBytesSent += stream.bytesSent || 0;\n        acc.totalBytesReceived += stream.bytesReceived || 0;\n        acc.averageJitterInMs += stream.jitter || 0;\n        acc.averageRoundTripTimeInMs += stream.currentRoundTripTime || 0;\n        // naive calculation of the highest resolution\n        const streamArea = area(stream.frameWidth || 0, stream.frameHeight || 0);\n        if (streamArea > maxArea) {\n            acc.highestFrameWidth = stream.frameWidth || 0;\n            acc.highestFrameHeight = stream.frameHeight || 0;\n            acc.highestFramesPerSecond = stream.framesPerSecond || 0;\n            maxArea = streamArea;\n        }\n        qualityLimitationReasons.add(stream.qualityLimitationReason || \"\");\n        return acc;\n    }, aggregatedStats);\n    if (streams.length > 0) {\n        report.averageJitterInMs = Math.round(report.averageJitterInMs / streams.length * 1000);\n        report.averageRoundTripTimeInMs = Math.round(report.averageRoundTripTimeInMs / streams.length * 1000);\n        // we take the first codec we find, as it should be the same for all streams\n        report.codec = streams[0].codec || \"\";\n        report.codecPerTrackType = streams.reduce((acc, stream)=>{\n            if (stream.trackType) {\n                acc[stream.trackType] = stream.codec || \"\";\n            }\n            return acc;\n        }, {});\n    }\n    const qualityLimitationReason = [\n        qualityLimitationReasons.has(\"cpu\") && \"cpu\",\n        qualityLimitationReasons.has(\"bandwidth\") && \"bandwidth\",\n        qualityLimitationReasons.has(\"other\") && \"other\"\n    ].filter(Boolean).join(\", \");\n    if (qualityLimitationReason) {\n        report.qualityLimitationReasons = qualityLimitationReason;\n    }\n    return report;\n};\nconst version = \"1.15.0\";\nconst [major, minor, patch] = version.split(\".\");\nlet sdkInfo = {\n    type: SdkType.PLAIN_JAVASCRIPT,\n    major,\n    minor,\n    patch\n};\nlet osInfo;\nlet deviceInfo;\nlet webRtcInfo;\nlet deviceState = {\n    oneofKind: undefined\n};\nconst setSdkInfo = (info)=>{\n    sdkInfo = info;\n};\nconst getSdkInfo = ()=>{\n    return sdkInfo;\n};\nconst setOSInfo = (info)=>{\n    osInfo = info;\n};\nconst getOSInfo = ()=>{\n    return osInfo;\n};\nconst setDeviceInfo = (info)=>{\n    deviceInfo = info;\n};\nconst getDeviceInfo = ()=>{\n    return deviceInfo;\n};\nconst getWebRTCInfo = ()=>{\n    return webRtcInfo;\n};\nconst setWebRTCInfo = (info)=>{\n    webRtcInfo = info;\n};\nconst setThermalState = (state)=>{\n    if (!osInfo) {\n        deviceState = {\n            oneofKind: undefined\n        };\n        return;\n    }\n    if (osInfo.name === \"android\") {\n        const thermalState = AndroidThermalState[state] || AndroidThermalState.UNSPECIFIED;\n        deviceState = {\n            oneofKind: \"android\",\n            android: {\n                thermalState,\n                isPowerSaverMode: deviceState?.oneofKind === \"android\" && deviceState.android.isPowerSaverMode\n            }\n        };\n    }\n    if (osInfo.name.toLowerCase() === \"ios\") {\n        const thermalState = AppleThermalState[state] || AppleThermalState.UNSPECIFIED;\n        deviceState = {\n            oneofKind: \"apple\",\n            apple: {\n                thermalState,\n                isLowPowerModeEnabled: deviceState?.oneofKind === \"apple\" && deviceState.apple.isLowPowerModeEnabled\n            }\n        };\n    }\n};\nconst setPowerState = (powerMode)=>{\n    if (!osInfo) {\n        deviceState = {\n            oneofKind: undefined\n        };\n        return;\n    }\n    if (osInfo.name === \"android\") {\n        deviceState = {\n            oneofKind: \"android\",\n            android: {\n                thermalState: deviceState?.oneofKind === \"android\" ? deviceState.android.thermalState : AndroidThermalState.UNSPECIFIED,\n                isPowerSaverMode: powerMode\n            }\n        };\n    }\n    if (osInfo.name.toLowerCase() === \"ios\") {\n        deviceState = {\n            oneofKind: \"apple\",\n            apple: {\n                thermalState: deviceState?.oneofKind === \"apple\" ? deviceState.apple.thermalState : AppleThermalState.UNSPECIFIED,\n                isLowPowerModeEnabled: powerMode\n            }\n        };\n    }\n};\nconst getDeviceState = ()=>{\n    return deviceState;\n};\nconst getClientDetails = ()=>{\n    if (isReactNative()) {\n        // Since RN doesn't support web, sharing browser info is not required\n        return {\n            sdk: getSdkInfo(),\n            os: getOSInfo(),\n            device: getDeviceInfo()\n        };\n    }\n    const userAgent = new ua_parser_js__WEBPACK_IMPORTED_MODULE_3__.UAParser(navigator.userAgent);\n    const { browser, os, device, cpu } = userAgent.getResult();\n    return {\n        sdk: getSdkInfo(),\n        browser: {\n            name: browser.name || navigator.userAgent,\n            version: browser.version || \"\"\n        },\n        os: {\n            name: os.name || \"\",\n            version: os.version || \"\",\n            architecture: cpu.architecture || \"\"\n        },\n        device: {\n            name: [\n                device.vendor,\n                device.model,\n                device.type\n            ].filter(Boolean).join(\" \"),\n            version: \"\"\n        }\n    };\n};\nclass SfuStatsReporter {\n    constructor(sfuClient, { options, clientDetails, subscriber, publisher, microphone, camera, state }){\n        this.logger = getLogger([\n            \"SfuStatsReporter\"\n        ]);\n        this.inputDevices = new Map();\n        this.observeDevice = (device, kind)=>{\n            const { hasBrowserPermission$ } = device.state;\n            this.unsubscribeDevicePermissionsSubscription?.();\n            this.unsubscribeDevicePermissionsSubscription = createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                hasBrowserPermission$,\n                this.state.ownCapabilities$\n            ]), ([hasPermission, ownCapabilities])=>{\n                // cleanup the previous listDevices() subscription in case\n                // permissions or capabilities have changed.\n                // we will subscribe again if everything is in order.\n                this.unsubscribeListDevicesSubscription?.();\n                const hasCapability = kind === \"mic\" ? ownCapabilities.includes(OwnCapability.SEND_AUDIO) : ownCapabilities.includes(OwnCapability.SEND_VIDEO);\n                if (!hasPermission || !hasCapability) {\n                    this.inputDevices.set(kind, {\n                        currentDevice: \"\",\n                        availableDevices: [],\n                        isPermitted: false\n                    });\n                    return;\n                }\n                this.unsubscribeListDevicesSubscription = createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                    device.listDevices(),\n                    device.state.selectedDevice$\n                ]), ([devices, deviceId])=>{\n                    const selected = devices.find((d)=>d.deviceId === deviceId);\n                    this.inputDevices.set(kind, {\n                        currentDevice: selected?.label || deviceId || \"\",\n                        availableDevices: devices.map((d)=>d.label),\n                        isPermitted: true\n                    });\n                });\n            });\n        };\n        this.sendConnectionTime = (connectionTimeSeconds)=>{\n            this.sendTelemetryData({\n                data: {\n                    oneofKind: \"connectionTimeSeconds\",\n                    connectionTimeSeconds\n                }\n            });\n        };\n        this.sendReconnectionTime = (strategy, timeSeconds)=>{\n            this.sendTelemetryData({\n                data: {\n                    oneofKind: \"reconnection\",\n                    reconnection: {\n                        strategy,\n                        timeSeconds\n                    }\n                }\n            });\n        };\n        this.sendTelemetryData = (telemetryData)=>{\n            // intentionally not awaiting the promise here\n            // to avoid impeding with the ongoing actions.\n            this.run(telemetryData).catch((err)=>{\n                this.logger(\"warn\", \"Failed to send telemetry data\", err);\n            });\n        };\n        this.run = async (telemetryData)=>{\n            const [subscriberStats, publisherStats] = await Promise.all([\n                this.subscriber.getStats().then(flatten).then(JSON.stringify),\n                this.publisher?.getStats().then(flatten).then(JSON.stringify) ?? \"[]\"\n            ]);\n            await this.sfuClient.sendStats({\n                sdk: this.sdkName,\n                sdkVersion: this.sdkVersion,\n                webrtcVersion: this.webRTCVersion,\n                subscriberStats,\n                publisherStats,\n                audioDevices: this.inputDevices.get(\"mic\"),\n                videoDevices: this.inputDevices.get(\"camera\"),\n                deviceState: getDeviceState(),\n                telemetry: telemetryData\n            });\n        };\n        this.start = ()=>{\n            if (this.options.reporting_interval_ms <= 0) return;\n            this.observeDevice(this.microphone, \"mic\");\n            this.observeDevice(this.camera, \"camera\");\n            clearInterval(this.intervalId);\n            this.intervalId = setInterval(()=>{\n                this.run().catch((err)=>{\n                    this.logger(\"warn\", \"Failed to report stats\", err);\n                });\n            }, this.options.reporting_interval_ms);\n        };\n        this.stop = ()=>{\n            this.unsubscribeDevicePermissionsSubscription?.();\n            this.unsubscribeDevicePermissionsSubscription = undefined;\n            this.unsubscribeListDevicesSubscription?.();\n            this.unsubscribeListDevicesSubscription = undefined;\n            this.inputDevices.clear();\n            clearInterval(this.intervalId);\n            this.intervalId = undefined;\n        };\n        this.sfuClient = sfuClient;\n        this.options = options;\n        this.subscriber = subscriber;\n        this.publisher = publisher;\n        this.microphone = microphone;\n        this.camera = camera;\n        this.state = state;\n        const { sdk, browser } = clientDetails;\n        this.sdkName = getSdkName(sdk);\n        this.sdkVersion = getSdkVersion(sdk);\n        // use the WebRTC version if set by the SDK (React Native) otherwise,\n        // use the browser version as a fallback\n        const webRTCInfo = getWebRTCInfo();\n        this.webRTCVersion = webRTCInfo?.version || `${browser?.name || \"\"}-${browser?.version || \"\"}` || \"N/A\";\n    }\n}\nconst DEFAULT_THRESHOLD = 0.35;\nclass ViewportTracker {\n    constructor(){\n        /**\n         * @private\n         */ this.elementHandlerMap = new Map();\n        /**\n         * @private\n         */ this.observer = null;\n        // in React children render before viewport is set, add\n        // them to the queue and observe them once the observer is ready\n        /**\n         * @private\n         */ this.queueSet = new Set();\n        /**\n         * Method to set scrollable viewport as root for the IntersectionObserver, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param viewportElement\n         * @param options\n         * @returns Unobserve\n         */ this.setViewport = (viewportElement, options)=>{\n            const cleanup = ()=>{\n                this.observer?.disconnect();\n                this.observer = null;\n                this.elementHandlerMap.clear();\n            };\n            this.observer = new IntersectionObserver((entries)=>{\n                entries.forEach((entry)=>{\n                    const handler = this.elementHandlerMap.get(entry.target);\n                    handler?.(entry);\n                });\n            }, {\n                root: viewportElement,\n                ...options,\n                threshold: options?.threshold ?? DEFAULT_THRESHOLD\n            });\n            if (this.queueSet.size) {\n                this.queueSet.forEach(([queueElement, queueHandler])=>{\n                    // check if element which requested observation is\n                    // a child of a viewport element, skip if isn't\n                    if (!viewportElement.contains(queueElement)) return;\n                    this.observer.observe(queueElement);\n                    this.elementHandlerMap.set(queueElement, queueHandler);\n                });\n                this.queueSet.clear();\n            }\n            return cleanup;\n        };\n        /**\n         * Method to set element to observe and handler to be triggered whenever IntersectionObserver\n         * detects a possible change in element's visibility within specified viewport, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param element\n         * @param handler\n         * @returns Unobserve\n         */ this.observe = (element, handler)=>{\n            const queueItem = [\n                element,\n                handler\n            ];\n            const cleanup = ()=>{\n                this.elementHandlerMap.delete(element);\n                this.observer?.unobserve(element);\n                this.queueSet.delete(queueItem);\n            };\n            if (this.elementHandlerMap.has(element)) return cleanup;\n            if (!this.observer) {\n                this.queueSet.add(queueItem);\n                return cleanup;\n            }\n            if (this.observer.root.contains(element)) {\n                this.elementHandlerMap.set(element, handler);\n                this.observer.observe(element);\n            }\n            return cleanup;\n        };\n    }\n}\nconst DEFAULT_VIEWPORT_VISIBILITY_STATE = {\n    videoTrack: VisibilityState.UNKNOWN,\n    screenShareTrack: VisibilityState.UNKNOWN\n};\nconst globalOverrideKey = Symbol(\"globalOverrideKey\");\n/**\n * A manager class that handles dynascale related tasks like:\n *\n * - binding video elements to session ids\n * - binding audio elements to session ids\n * - tracking element visibility\n * - updating subscriptions based on viewport visibility\n * - updating subscriptions based on video element dimensions\n * - updating subscriptions based on published tracks\n */ class DynascaleManager {\n    /**\n     * Creates a new DynascaleManager instance.\n     *\n     * @param call the call to manage.\n     */ constructor(callState, speaker){\n        /**\n         * The viewport tracker instance.\n         */ this.viewportTracker = new ViewportTracker();\n        this.logger = getLogger([\n            \"DynascaleManager\"\n        ]);\n        this.pendingSubscriptionsUpdate = null;\n        this.videoTrackSubscriptionOverridesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject({});\n        this.videoTrackSubscriptionOverrides$ = this.videoTrackSubscriptionOverridesSubject.asObservable();\n        this.incomingVideoSettings$ = this.videoTrackSubscriptionOverrides$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((overrides)=>{\n            const { [globalOverrideKey]: globalSettings, ...participants } = overrides;\n            return {\n                enabled: globalSettings?.enabled !== false,\n                preferredResolution: globalSettings?.enabled ? globalSettings.dimension : undefined,\n                participants: Object.fromEntries(Object.entries(participants).map(([sessionId, participantOverride])=>[\n                        sessionId,\n                        {\n                            enabled: participantOverride?.enabled !== false,\n                            preferredResolution: participantOverride?.enabled ? participantOverride.dimension : undefined\n                        }\n                    ])),\n                isParticipantVideoEnabled: (sessionId)=>overrides[sessionId]?.enabled ?? overrides[globalOverrideKey]?.enabled ?? true\n            };\n        }), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1));\n        this.setVideoTrackSubscriptionOverrides = (override, sessionIds)=>{\n            if (!sessionIds) {\n                return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, override ? {\n                    [globalOverrideKey]: override\n                } : {});\n            }\n            return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, (overrides)=>({\n                    ...overrides,\n                    ...Object.fromEntries(sessionIds.map((id)=>[\n                            id,\n                            override\n                        ]))\n                }));\n        };\n        this.applyTrackSubscriptions = (debounceType = DebounceType.SLOW)=>{\n            if (this.pendingSubscriptionsUpdate) {\n                clearTimeout(this.pendingSubscriptionsUpdate);\n            }\n            const updateSubscriptions = ()=>{\n                this.pendingSubscriptionsUpdate = null;\n                this.sfuClient?.updateSubscriptions(this.trackSubscriptions).catch((err)=>{\n                    this.logger(\"debug\", `Failed to update track subscriptions`, err);\n                });\n            };\n            if (debounceType) {\n                this.pendingSubscriptionsUpdate = setTimeout(updateSubscriptions, debounceType);\n            } else {\n                updateSubscriptions();\n            }\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         * @returns Untrack.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            const cleanup = this.viewportTracker.observe(element, (entry)=>{\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    // observer triggers when the element is \"moved\" to be a fullscreen element\n                    // keep it VISIBLE if that happens to prevent fullscreen with placeholder\n                    const isVisible = entry.isIntersecting || document.fullscreenElement === element ? VisibilityState.VISIBLE : VisibilityState.INVISIBLE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: isVisible\n                        }\n                    };\n                });\n            });\n            return ()=>{\n                cleanup();\n                // reset visibility state to UNKNOWN upon cleanup\n                // so that the layouts that are not actively observed\n                // can still function normally (runtime layout switching)\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: VisibilityState.UNKNOWN\n                        }\n                    };\n                });\n            };\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.viewportTracker.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const boundParticipant = this.callState.findParticipantBySessionId(sessionId);\n            if (!boundParticipant) return;\n            const requestTrackWithDimensions = (debounceType, dimension)=>{\n                if (dimension && (dimension.width === 0 || dimension.height === 0)) {\n                    // ignore 0x0 dimensions. this can happen when the video element\n                    // is not visible (e.g., has display: none).\n                    // we treat this as \"unsubscription\" as we don't want to keep\n                    // consuming bandwidth for a video that is not visible on the screen.\n                    this.logger(\"debug\", `Ignoring 0x0 dimension`, boundParticipant);\n                    dimension = undefined;\n                }\n                this.callState.updateParticipantTracks(trackType, {\n                    [sessionId]: {\n                        dimension\n                    }\n                });\n                this.applyTrackSubscriptions(debounceType);\n            };\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.find((participant)=>participant.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((participant)=>!!participant), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            /**\n             * Since the video elements are now being removed from the DOM (React SDK) upon\n             * visibility change, this subscription is not in use an stays here only for the\n             * plain JS integrations where integrators might choose not to remove the video\n             * elements from the DOM.\n             */ // keep copy for resize observer handler\n            let viewportVisibilityState;\n            const viewportVisibilityStateSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((p)=>p.viewportVisibilityState?.[trackType]), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)()).subscribe((nextViewportVisibilityState)=>{\n                // skip initial trigger\n                if (!viewportVisibilityState) {\n                    viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                    return;\n                }\n                viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                if (nextViewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return requestTrackWithDimensions(DebounceType.MEDIUM, undefined);\n                }\n                requestTrackWithDimensions(DebounceType.MEDIUM, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n            });\n            let lastDimensions;\n            const resizeObserver = boundParticipant.isLocalParticipant ? null : new ResizeObserver(()=>{\n                const currentDimensions = {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                };\n                // skip initial trigger\n                if (!lastDimensions) {\n                    lastDimensions = currentDimensions;\n                    return;\n                }\n                if (lastDimensions.width === currentDimensions.width && lastDimensions.height === currentDimensions.height || viewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return;\n                }\n                const relativeDelta = Math.max(currentDimensions.width / lastDimensions.width, currentDimensions.height / lastDimensions.height);\n                // Low quality video in an upscaled video element is very noticable.\n                // We try to upscale faster, and downscale slower. We also update debounce\n                // more if the size change is not significant, gurading against fast-firing\n                // resize events.\n                const debounceType = relativeDelta > 1.2 ? DebounceType.IMMEDIATE : DebounceType.MEDIUM;\n                requestTrackWithDimensions(debounceType, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n                lastDimensions = currentDimensions;\n            });\n            resizeObserver?.observe(videoElement);\n            // element renders and gets bound - track subscription gets\n            // triggered first other ones get skipped on initial subscriptions\n            const publishedTracksSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(\"publishedTracks\"), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((p)=>trackType === \"videoTrack\" ? hasVideo(p) : hasScreenShare(p)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)()).subscribe((isPublishing)=>{\n                if (isPublishing) {\n                    // the participant just started to publish a track\n                    requestTrackWithDimensions(DebounceType.IMMEDIATE, {\n                        width: videoElement.clientWidth,\n                        height: videoElement.clientHeight\n                    });\n                } else {\n                    // the participant just stopped publishing a track\n                    requestTrackWithDimensions(DebounceType.FAST, undefined);\n                }\n            });\n            videoElement.autoplay = true;\n            videoElement.playsInline = true;\n            // explicitly marking the element as muted will allow autoplay to work\n            // without prior user interaction:\n            // https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide\n            videoElement.muted = true;\n            const streamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(trackType === \"videoTrack\" ? \"videoStream\" : \"screenShareStream\")).subscribe((p)=>{\n                const source = trackType === \"videoTrack\" ? p.videoStream : p.screenShareStream;\n                if (videoElement.srcObject === source) return;\n                videoElement.srcObject = source ?? null;\n                if (isSafari() || isFirefox()) {\n                    setTimeout(()=>{\n                        videoElement.srcObject = source ?? null;\n                        videoElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                    // we add extra delay until we attempt to force-play\n                    // the participant's media stream in Firefox and Safari,\n                    // as they seem to have some timing issues\n                    }, 25);\n                }\n            });\n            return ()=>{\n                requestTrackWithDimensions(DebounceType.FAST, undefined);\n                viewportVisibilityStateSubscription?.unsubscribe();\n                publishedTracksSubscription?.unsubscribe();\n                streamSubscription.unsubscribe();\n                resizeObserver?.disconnect();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         * @returns a cleanup function that will unbind the audio element.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType)=>{\n            const participant = this.callState.findParticipantBySessionId(sessionId);\n            if (!participant || participant.isLocalParticipant) return;\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.find((p)=>p.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((p)=>!!p), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            const updateMediaStreamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(trackType === \"screenShareAudioTrack\" ? \"screenShareAudioStream\" : \"audioStream\")).subscribe((p)=>{\n                const source = trackType === \"screenShareAudioTrack\" ? p.screenShareAudioStream : p.audioStream;\n                if (audioElement.srcObject === source) return;\n                setTimeout(()=>{\n                    audioElement.srcObject = source ?? null;\n                    if (audioElement.srcObject) {\n                        audioElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                        // audio output device shall be set after the audio element is played\n                        // otherwise, the browser will not pick it up, and will always\n                        // play audio through the system's default device\n                        const { selectedDevice } = this.speaker.state;\n                        if (selectedDevice && \"setSinkId\" in audioElement) {\n                            audioElement.setSinkId(selectedDevice);\n                        }\n                    }\n                });\n            });\n            const sinkIdSubscription = !(\"setSinkId\" in audioElement) ? null : this.speaker.state.selectedDevice$.subscribe((deviceId)=>{\n                if (deviceId) {\n                    audioElement.setSinkId(deviceId);\n                }\n            });\n            const volumeSubscription = (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                this.speaker.state.volume$,\n                participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(\"audioVolume\"))\n            ]).subscribe(([volume, p])=>{\n                audioElement.volume = p.audioVolume ?? volume;\n            });\n            audioElement.autoplay = true;\n            return ()=>{\n                sinkIdSubscription?.unsubscribe();\n                volumeSubscription.unsubscribe();\n                updateMediaStreamSubscription.unsubscribe();\n            };\n        };\n        this.callState = callState;\n        this.speaker = speaker;\n    }\n    setSfuClient(sfuClient) {\n        this.sfuClient = sfuClient;\n    }\n    get trackSubscriptions() {\n        const subscriptions = [];\n        for (const p of this.callState.remoteParticipants){\n            // NOTE: audio tracks don't have to be requested explicitly\n            // as the SFU will implicitly subscribe us to all of them,\n            // once they become available.\n            if (p.videoDimension && hasVideo(p)) {\n                const override = this.videoTrackSubscriptionOverrides[p.sessionId] ?? this.videoTrackSubscriptionOverrides[globalOverrideKey];\n                if (override?.enabled !== false) {\n                    subscriptions.push({\n                        userId: p.userId,\n                        sessionId: p.sessionId,\n                        trackType: TrackType.VIDEO,\n                        dimension: override?.dimension ?? p.videoDimension\n                    });\n                }\n            }\n            if (p.screenShareDimension && hasScreenShare(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE,\n                    dimension: p.screenShareDimension\n                });\n            }\n            if (hasScreenShareAudio(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE_AUDIO\n                });\n            }\n        }\n        return subscriptions;\n    }\n    get videoTrackSubscriptionOverrides() {\n        return getCurrentValue(this.videoTrackSubscriptionOverrides$);\n    }\n}\n/**\n * Stores the permissions for the current user and exposes\n * a few helper methods which make it easier to work with permissions.\n *\n * This is an internal class meant to be used in combination with\n * a {@link Call} instance.\n *\n * @internal\n */ class PermissionsContext {\n    constructor(){\n        this.permissions = [];\n        /**\n         * Sets the permissions for the current user.\n         *\n         * @param permissions the permissions to set.\n         */ this.setPermissions = (permissions)=>{\n            this.permissions = permissions || [];\n        };\n        /**\n         * Sets the settings for the bound call.\n         * @param settings\n         */ this.setCallSettings = (settings)=>{\n            this.settings = settings;\n        };\n        /**\n         * Checks if the current user has a specific permission.\n         *\n         * @param permission the permission to check for.\n         */ this.hasPermission = (permission)=>{\n            return this.permissions.includes(permission);\n        };\n        /**\n         * Helper method that checks whether the current user has the permission\n         * to publish the given track type.\n         */ this.canPublish = (trackType)=>{\n            switch(trackType){\n                case TrackType.AUDIO:\n                    return this.hasPermission(OwnCapability.SEND_AUDIO);\n                case TrackType.VIDEO:\n                    return this.hasPermission(OwnCapability.SEND_VIDEO);\n                case TrackType.SCREEN_SHARE:\n                case TrackType.SCREEN_SHARE_AUDIO:\n                    return this.hasPermission(OwnCapability.SCREENSHARE);\n                case TrackType.UNSPECIFIED:\n                    return false;\n                default:\n                    ensureExhausted(trackType, \"Unknown track type\");\n            }\n        };\n        /**\n         * Checks if the current user can request a specific permission\n         * within the call.\n         *\n         * @param permission the permission to check for.\n         * @param settings the call settings to check against (optional).\n         */ this.canRequest = (permission, settings = this.settings)=>{\n            if (!settings) return false;\n            const { audio, video, screensharing } = settings;\n            switch(permission){\n                case OwnCapability.SEND_AUDIO:\n                    return audio.access_request_enabled;\n                case OwnCapability.SEND_VIDEO:\n                    return video.access_request_enabled;\n                case OwnCapability.SCREENSHARE:\n                    return screensharing.access_request_enabled;\n                default:\n                    return false;\n            }\n        };\n    }\n}\n/**\n * Represents a call type.\n */ class CallType {\n    /**\n     * Constructs a new CallType.\n     *\n     * @param name the name of the call type.\n     * @param options the options for the call type.\n     */ constructor(name, options = {\n        sortParticipantsBy: defaultSortPreset\n    }){\n        this.name = name;\n        this.options = options;\n    }\n}\n/**\n * A registry of {@link CallType}s.\n * You can register and unregister call types.\n */ class CallTypesRegistry {\n    /**\n     * Constructs a new CallTypesRegistry.\n     *\n     * @param callTypes the initial call types to register.\n     */ constructor(callTypes){\n        /**\n         * Registers a new call type.\n         *\n         * @param callType the call type to register.\n         */ this.register = (callType)=>{\n            this.callTypes[callType.name] = callType;\n        };\n        /**\n         * Unregisters a call type.\n         *\n         * @param name the name of the call type to unregister.\n         */ this.unregister = (name)=>{\n            delete this.callTypes[name];\n        };\n        /**\n         * Gets a call type by name.\n         *\n         * @param name the name of the call type to get.\n         */ this.get = (name)=>{\n            if (!this.callTypes[name]) {\n                this.register(new CallType(name));\n            }\n            return this.callTypes[name];\n        };\n        this.callTypes = callTypes.reduce((acc, callType)=>{\n            acc[callType.name] = callType;\n            return acc;\n        }, {});\n    }\n}\n/**\n * The default call types registry.\n * You can use this instance to dynamically register and unregister call types.\n */ const CallTypes = new CallTypesRegistry([\n    new CallType(\"default\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"development\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"livestream\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    }),\n    new CallType(\"audio_room\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    })\n]);\nclass BrowserPermission {\n    constructor(permission){\n        this.permission = permission;\n        this.disposeController = new AbortController();\n        this.wasPrompted = false;\n        this.listeners = new Set();\n        this.logger = getLogger([\n            \"permissions\"\n        ]);\n        const signal = this.disposeController.signal;\n        this.ready = (async ()=>{\n            const assumeGranted = (error)=>{\n                this.setState(\"prompt\");\n            };\n            if (!canQueryPermissions()) {\n                return assumeGranted();\n            }\n            try {\n                const status = await navigator.permissions.query({\n                    name: permission.queryName\n                });\n                if (!signal.aborted) {\n                    this.setState(status.state);\n                    status.addEventListener(\"change\", ()=>this.setState(status.state), {\n                        signal\n                    });\n                }\n            } catch (err) {\n                assumeGranted();\n            }\n        })();\n    }\n    dispose() {\n        this.state = undefined;\n        this.disposeController.abort();\n    }\n    async getState() {\n        await this.ready;\n        if (!this.state) {\n            throw new Error(\"BrowserPermission instance possibly disposed\");\n        }\n        return this.state;\n    }\n    async prompt({ forcePrompt = false, throwOnNotAllowed = false } = {}) {\n        return await withoutConcurrency(`permission-prompt-${this.permission.queryName}`, async ()=>{\n            if (await this.getState() !== \"prompt\" || this.wasPrompted && !forcePrompt) {\n                const isGranted = this.state === \"granted\";\n                if (!isGranted && throwOnNotAllowed) {\n                    throw new Error(\"Permission was not granted previously, and prompting again is not allowed\");\n                }\n                return isGranted;\n            }\n            try {\n                this.wasPrompted = true;\n                const stream = await navigator.mediaDevices.getUserMedia(this.permission.constraints);\n                disposeOfMediaStream(stream);\n                this.setState(\"granted\");\n                return true;\n            } catch (e) {\n                if (e && typeof e === \"object\" && \"name\" in e && (e.name === \"NotAllowedError\" || e.name === \"SecurityError\")) {\n                    this.logger(\"info\", \"Browser permission was not granted\", {\n                        permission: this.permission\n                    });\n                    this.setState(\"denied\");\n                    if (throwOnNotAllowed) {\n                        throw e;\n                    }\n                    return false;\n                }\n                this.logger(\"error\", `Failed to getUserMedia`, {\n                    error: e,\n                    permission: this.permission\n                });\n                throw e;\n            }\n        });\n    }\n    listen(cb) {\n        this.listeners.add(cb);\n        if (this.state) cb(this.state);\n        return ()=>this.listeners.delete(cb);\n    }\n    asObservable() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__.fromEventPattern)((handler)=>this.listen(handler), (handler, unlisten)=>unlisten()).pipe(// In some browsers, the 'change' event doesn't reliably emit and hence,\n        // permissionState stays in 'prompt' state forever.\n        // Typically, this happens when a user grants one-time permission.\n        // Instead of checking if a permission is granted, we check if it isn't denied\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((state)=>state !== \"denied\"));\n    }\n    setState(state) {\n        if (this.state !== state) {\n            this.state = state;\n            this.listeners.forEach((listener)=>listener(state));\n        }\n    }\n}\nfunction canQueryPermissions() {\n    return !isReactNative() && typeof navigator !== \"undefined\" && !!navigator.permissions?.query;\n}\n/**\n * Returns an Observable that emits the list of available devices\n * that meet the given constraints.\n *\n * @param permission a BrowserPermission instance.\n * @param kind the kind of devices to enumerate.\n */ const getDevices = (permission, kind)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.from)((async ()=>{\n        let devices = await navigator.mediaDevices.enumerateDevices();\n        // for privacy reasons, most browsers don't give you device labels\n        // unless you have a corresponding camera or microphone permission\n        const shouldPromptForBrowserPermission = devices.some((device)=>device.kind === kind && device.label === \"\");\n        if (shouldPromptForBrowserPermission && await permission.prompt()) {\n            devices = await navigator.mediaDevices.enumerateDevices();\n        }\n        return devices.filter((device)=>device.kind === kind && device.label !== \"\" && device.deviceId !== \"default\");\n    })());\n};\n/**\n * Tells if the browser supports audio output change on 'audio' elements,\n * see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId.\n */ const checkIfAudioOutputChangeSupported = ()=>{\n    if (typeof document === \"undefined\") return false;\n    const element = document.createElement(\"audio\");\n    return \"setSinkId\" in element;\n};\n/**\n * The default constraints used to request audio devices.\n */ const audioDeviceConstraints = {\n    audio: {\n        autoGainControl: true,\n        noiseSuppression: true,\n        echoCancellation: true\n    }\n};\n/**\n * The default constraints used to request video devices.\n */ const videoDeviceConstraints = {\n    video: {\n        width: 1280,\n        height: 720\n    }\n};\n/**\n * Keeps track of the browser permission to use microphone. This permission also\n * affects an ability to enumerate audio devices.\n */ const getAudioBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: audioDeviceConstraints,\n        queryName: \"microphone\"\n    }));\n/**\n * Keeps track of the browser permission to use camera. This permission also\n * affects an ability to enumerate video devices.\n */ const getVideoBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: videoDeviceConstraints,\n        queryName: \"camera\"\n    }));\nconst getDeviceChangeObserver = lazy(()=>{\n    // 'addEventListener' is not available in React Native, returning\n    // an observable that will never fire\n    if (!navigator.mediaDevices.addEventListener) return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.from)([]);\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_23__.fromEvent)(navigator.mediaDevices, \"devicechange\").pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)(()=>undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__.debounceTime)(500));\n});\n/**\n * Prompts the user for a permission to use audio devices (if not already granted\n * and was not prompted before) and lists the available 'audioinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audioinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'videoinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getVideoDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getVideoBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getVideoBrowserPermission(), \"videoinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'audiooutput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioOutputDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audiooutput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1));\n});\nconst getStream = async (constraints)=>{\n    const stream = await navigator.mediaDevices.getUserMedia(constraints);\n    if (isFirefox()) {\n        // When enumerating devices, Firefox will hide device labels unless there's been\n        // an active user media stream on the page. So we force device list updates after\n        // every successful getUserMedia call.\n        navigator.mediaDevices.dispatchEvent(new Event(\"devicechange\"));\n    }\n    return stream;\n};\nfunction isOverconstrainedError(error) {\n    return error && typeof error === \"object\" && (\"name\" in error && error.name === \"OverconstrainedError\" || \"message\" in error && typeof error.message === \"string\" && error.message.startsWith(\"OverconstrainedError\"));\n}\n/**\n * Returns an audio media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n * @param trackConstraints the constraints to use when requesting the stream.\n * @returns the new `MediaStream` fulfilling the given constraints.\n */ const getAudioStream = async (trackConstraints)=>{\n    const constraints = {\n        audio: {\n            ...audioDeviceConstraints.audio,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getAudioBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return await getStream(constraints);\n    } catch (error) {\n        if (isOverconstrainedError(error) && trackConstraints?.deviceId) {\n            const { deviceId, ...relaxedConstraints } = trackConstraints;\n            getLogger([\n                \"devices\"\n            ])(\"warn\", \"Failed to get audio stream, will try again with relaxed constraints\", {\n                error,\n                constraints,\n                relaxedConstraints\n            });\n            return getAudioStream(relaxedConstraints);\n        }\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get audio stream\", {\n            error,\n            constraints\n        });\n        throw error;\n    }\n};\n/**\n * Returns a video media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n * @param trackConstraints the constraints to use when requesting the stream.\n * @returns a new `MediaStream` fulfilling the given constraints.\n */ const getVideoStream = async (trackConstraints)=>{\n    const constraints = {\n        video: {\n            ...videoDeviceConstraints.video,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getVideoBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return await getStream(constraints);\n    } catch (error) {\n        if (isOverconstrainedError(error) && trackConstraints?.deviceId) {\n            const { deviceId, ...relaxedConstraints } = trackConstraints;\n            getLogger([\n                \"devices\"\n            ])(\"warn\", \"Failed to get video stream, will try again with relaxed constraints\", {\n                error,\n                constraints,\n                relaxedConstraints\n            });\n            return getVideoStream(relaxedConstraints);\n        }\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get video stream\", {\n            error,\n            constraints\n        });\n        throw error;\n    }\n};\n/**\n * Prompts the user for a permission to share a screen.\n * If the user grants the permission, a screen sharing stream is returned. Throws otherwise.\n *\n * The callers of this API are responsible to handle the possible errors.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n *\n * @param options any additional options to pass to the [`getDisplayMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia) API.\n */ const getScreenShareStream = async (options)=>{\n    try {\n        return await navigator.mediaDevices.getDisplayMedia({\n            video: true,\n            audio: {\n                channelCount: {\n                    ideal: 2\n                },\n                echoCancellation: false,\n                autoGainControl: false,\n                noiseSuppression: false\n            },\n            // @ts-expect-error - not present in types yet\n            systemAudio: \"include\",\n            ...options\n        });\n    } catch (e) {\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get screen share stream\", e);\n        throw e;\n    }\n};\nconst deviceIds$ = typeof navigator !== \"undefined\" && typeof navigator.mediaDevices !== \"undefined\" ? getDeviceChangeObserver().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>navigator.mediaDevices.enumerateDevices()), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1)) : undefined;\n/**\n * Deactivates MediaStream (stops and removes tracks) to be later garbage collected\n *\n * @param stream MediaStream\n * @returns void\n */ const disposeOfMediaStream = (stream)=>{\n    if (!stream.active) return;\n    stream.getTracks().forEach((track)=>{\n        track.stop();\n    });\n    // @ts-expect-error release() is present in react-native-webrtc and must be called to dispose the stream\n    if (typeof stream.release === \"function\") {\n        // @ts-expect-error\n        stream.release();\n    }\n};\nclass InputMediaDeviceManager {\n    constructor(call, state, trackType){\n        this.call = call;\n        this.state = state;\n        this.trackType = trackType;\n        /**\n         * if true, stops the media stream when call is left\n         */ this.stopOnLeave = true;\n        this.subscriptions = [];\n        this.isTrackStoppedDueToTrackEnd = false;\n        this.filters = [];\n        this.statusChangeConcurrencyTag = Symbol(\"statusChangeConcurrencyTag\");\n        this.filterRegistrationConcurrencyTag = Symbol(\"filterRegistrationConcurrencyTag\");\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s());\n        };\n        this.logger = getLogger([\n            `${TrackType[trackType].toLowerCase()} manager`\n        ]);\n        if (deviceIds$ && !isReactNative() && (this.trackType === TrackType.AUDIO || this.trackType === TrackType.VIDEO)) {\n            this.handleDisconnectedOrReplacedDevices();\n        }\n    }\n    /**\n     * Lists the available audio/video devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        return this.getDevices();\n    }\n    /**\n     * Returns `true` when this device is in enabled state.\n     */ get enabled() {\n        return this.state.status === \"enabled\";\n    }\n    /**\n     * Starts stream.\n     */ async enable() {\n        this.state.prevStatus = this.state.optimisticStatus;\n        if (this.state.optimisticStatus === \"enabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"enabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                await this.unmuteStream();\n                this.state.setStatus(\"enabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Stops or pauses the stream based on state.disableMode\n     * @param {boolean} [forceStop=false] when true, stops the tracks regardless of the state.disableMode\n     */ async disable(forceStop = false) {\n        this.state.prevStatus = this.state.optimisticStatus;\n        if (!forceStop && this.state.optimisticStatus === \"disabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"disabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                const stopTracks = forceStop || this.state.disableMode === \"stop-tracks\";\n                await this.muteStream(stopTracks);\n                this.state.setStatus(\"disabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a promise that resolves when all pe\n     */ async statusChangeSettled() {\n        await settled(this.statusChangeConcurrencyTag);\n    }\n    /**\n     * If status was previously enabled, it will re-enable the device.\n     */ async resume() {\n        if (this.state.prevStatus === \"enabled\" && this.state.status !== \"enabled\") {\n            await this.enable();\n        }\n    }\n    /**\n     * If the current device status is disabled, it will enable the device,\n     * else it will disable it.\n     */ async toggle() {\n        if (this.state.optimisticStatus === \"enabled\") {\n            return await this.disable();\n        } else {\n            return await this.enable();\n        }\n    }\n    /**\n     * Registers a filter that will be applied to the stream.\n     *\n     * The registered filter will get the existing stream, and it should return\n     * a new stream with the applied filter.\n     *\n     * @param filter the filter to register.\n     * @returns MediaStreamFilterRegistrationResult\n     */ registerFilter(filter) {\n        const entry = {\n            start: filter,\n            stop: undefined\n        };\n        const registered = withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n            this.filters.push(entry);\n            await this.applySettingsToStream();\n        });\n        return {\n            registered,\n            unregister: ()=>withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n                    entry.stop?.();\n                    this.filters = this.filters.filter((f)=>f !== entry);\n                    await this.applySettingsToStream();\n                })\n        };\n    }\n    /**\n     * Will set the default constraints for the device.\n     *\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.state.setDefaultConstraints(constraints);\n    }\n    /**\n     * Selects a device.\n     *\n     * Note: This method is not supported in React Native\n     * @param deviceId the device id to select.\n     */ async select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.\");\n        }\n        const prevDeviceId = this.state.selectedDevice;\n        if (deviceId === prevDeviceId) {\n            return;\n        }\n        try {\n            this.state.setDevice(deviceId);\n            await this.applySettingsToStream();\n        } catch (error) {\n            this.state.setDevice(prevDeviceId);\n            throw error;\n        }\n    }\n    async applySettingsToStream() {\n        await withCancellation(this.statusChangeConcurrencyTag, async ()=>{\n            if (this.enabled) {\n                await this.muteStream();\n                await this.unmuteStream();\n            }\n        });\n    }\n    publishStream(stream) {\n        return this.call.publish(stream, this.trackType);\n    }\n    stopPublishStream() {\n        return this.call.stopPublish(this.trackType);\n    }\n    getTracks() {\n        return this.state.mediaStream?.getTracks() ?? [];\n    }\n    async muteStream(stopTracks = true) {\n        const mediaStream = this.state.mediaStream;\n        if (!mediaStream) return;\n        this.logger(\"debug\", `${stopTracks ? \"Stopping\" : \"Disabling\"} stream`);\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.stopPublishStream();\n        }\n        this.muteLocalStream(stopTracks);\n        const allEnded = this.getTracks().every((t)=>t.readyState === \"ended\");\n        if (allEnded) {\n            // @ts-expect-error release() is present in react-native-webrtc\n            if (typeof mediaStream.release === \"function\") {\n                // @ts-expect-error called to dispose the stream in RN\n                mediaStream.release();\n            }\n            this.state.setMediaStream(undefined, undefined);\n            this.filters.forEach((entry)=>entry.stop?.());\n        }\n    }\n    disableTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.enabled) track.enabled = false;\n        });\n    }\n    enableTracks() {\n        this.getTracks().forEach((track)=>{\n            if (!track.enabled) track.enabled = true;\n        });\n    }\n    stopTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.readyState === \"live\") track.stop();\n        });\n    }\n    muteLocalStream(stopTracks) {\n        if (!this.state.mediaStream) {\n            return;\n        }\n        if (stopTracks) {\n            this.stopTracks();\n        } else {\n            this.disableTracks();\n        }\n    }\n    async unmuteStream() {\n        this.logger(\"debug\", \"Starting stream\");\n        let stream;\n        let rootStream;\n        if (this.state.mediaStream && this.getTracks().every((t)=>t.readyState === \"live\")) {\n            stream = this.state.mediaStream;\n            this.enableTracks();\n        } else {\n            const defaultConstraints = this.state.defaultConstraints;\n            const constraints = {\n                ...defaultConstraints,\n                deviceId: this.state.selectedDevice ? {\n                    exact: this.state.selectedDevice\n                } : undefined\n            };\n            /**\n             * Chains two media streams together.\n             *\n             * In our case, filters MediaStreams are derived from their parent MediaStream.\n             * However, once a child filter's track is stopped,\n             * the tracks of the parent MediaStream aren't automatically stopped.\n             * This leads to a situation where the camera indicator light is still on\n             * even though the user stopped publishing video.\n             *\n             * This function works around this issue by stopping the parent MediaStream's tracks\n             * as well once the child filter's tracks are stopped.\n             *\n             * It works by patching the stop() method of the child filter's tracks to also stop\n             * the parent MediaStream's tracks of the same type. Here we assume that\n             * the parent MediaStream has only one track of each type.\n             *\n             * @param parentStream the parent MediaStream. Omit for the root stream.\n             */ const chainWith = (parentStream)=>async (filterStream)=>{\n                    if (!parentStream) return filterStream;\n                    // TODO OL: take care of track.enabled property as well\n                    const parent = await parentStream;\n                    filterStream.getTracks().forEach((track)=>{\n                        const originalStop = track.stop;\n                        track.stop = function stop() {\n                            originalStop.call(track);\n                            parent.getTracks().forEach((parentTrack)=>{\n                                if (parentTrack.kind === track.kind) {\n                                    parentTrack.stop();\n                                }\n                            });\n                        };\n                    });\n                    parent.getTracks().forEach((parentTrack)=>{\n                        // When the parent stream abruptly ends, we propagate the event\n                        // to the filter stream.\n                        // This usually happens when the camera/microphone permissions\n                        // are revoked or when the device is disconnected.\n                        const handleParentTrackEnded = ()=>{\n                            filterStream.getTracks().forEach((track)=>{\n                                if (parentTrack.kind !== track.kind) return;\n                                track.stop();\n                                track.dispatchEvent(new Event(\"ended\")); // propagate the event\n                            });\n                        };\n                        parentTrack.addEventListener(\"ended\", handleParentTrackEnded);\n                        this.subscriptions.push(()=>{\n                            parentTrack.removeEventListener(\"ended\", handleParentTrackEnded);\n                        });\n                    });\n                    return filterStream;\n                };\n            // the rootStream represents the stream coming from the actual device\n            // e.g. camera or microphone stream\n            rootStream = this.getStream(constraints);\n            // we publish the last MediaStream of the chain\n            stream = await this.filters.reduce((parent, entry)=>parent.then((inputStream)=>{\n                    const { stop, output } = entry.start(inputStream);\n                    entry.stop = stop;\n                    return output;\n                }).then(chainWith(parent), (error)=>{\n                    this.logger(\"warn\", \"Filter failed to start and will be ignored\", error);\n                    return parent;\n                }), rootStream);\n        }\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.publishStream(stream);\n        }\n        if (this.state.mediaStream !== stream) {\n            this.state.setMediaStream(stream, await rootStream);\n            const handleTrackEnded = async ()=>{\n                await this.statusChangeSettled();\n                if (this.enabled) {\n                    this.isTrackStoppedDueToTrackEnd = true;\n                    setTimeout(()=>{\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    }, 2000);\n                    await this.disable();\n                }\n            };\n            const createTrackMuteHandler = (muted)=>()=>{\n                    this.call.notifyTrackMuteState(muted, this.trackType).catch((err)=>{\n                        this.logger(\"warn\", \"Error while notifying track mute state\", err);\n                    });\n                };\n            stream.getTracks().forEach((track)=>{\n                const muteHandler = createTrackMuteHandler(true);\n                const unmuteHandler = createTrackMuteHandler(false);\n                track.addEventListener(\"mute\", muteHandler);\n                track.addEventListener(\"unmute\", unmuteHandler);\n                track.addEventListener(\"ended\", handleTrackEnded);\n                this.subscriptions.push(()=>{\n                    track.removeEventListener(\"mute\", muteHandler);\n                    track.removeEventListener(\"unmute\", unmuteHandler);\n                    track.removeEventListener(\"ended\", handleTrackEnded);\n                });\n            });\n        }\n    }\n    get mediaDeviceKind() {\n        if (this.trackType === TrackType.AUDIO) {\n            return \"audioinput\";\n        }\n        if (this.trackType === TrackType.VIDEO) {\n            return \"videoinput\";\n        }\n        return \"\";\n    }\n    handleDisconnectedOrReplacedDevices() {\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n            deviceIds$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__.pairwise)()),\n            this.state.selectedDevice$\n        ]), async ([[prevDevices, currentDevices], deviceId])=>{\n            try {\n                if (!deviceId) return;\n                await this.statusChangeSettled();\n                let isDeviceDisconnected = false;\n                let isDeviceReplaced = false;\n                const currentDevice = this.findDevice(currentDevices, deviceId);\n                const prevDevice = this.findDevice(prevDevices, deviceId);\n                if (!currentDevice && prevDevice) {\n                    isDeviceDisconnected = true;\n                } else if (currentDevice && prevDevice && currentDevice.deviceId === prevDevice.deviceId && currentDevice.groupId !== prevDevice.groupId) {\n                    isDeviceReplaced = true;\n                }\n                if (isDeviceDisconnected) {\n                    await this.disable();\n                    await this.select(undefined);\n                }\n                if (isDeviceReplaced) {\n                    if (this.isTrackStoppedDueToTrackEnd && this.state.status === \"disabled\") {\n                        await this.enable();\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    } else {\n                        await this.applySettingsToStream();\n                    }\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Unexpected error while handling disconnected or replaced device\", err);\n            }\n        }));\n    }\n    findDevice(devices, deviceId) {\n        const kind = this.mediaDeviceKind;\n        return devices.find((d)=>d.deviceId === deviceId && d.kind === kind);\n    }\n}\nclass InputMediaDeviceManagerState {\n    /**\n     * Constructs new InputMediaDeviceManagerState instance.\n     *\n     * @param disableMode the disable mode to use.\n     * @param permission the BrowserPermission to use for querying.\n     * `undefined` means no permission is required.\n     */ constructor(disableMode = \"stop-tracks\", permission){\n        this.disableMode = disableMode;\n        this.statusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.optimisticStatusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.mediaStreamSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.defaultConstraintsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current media stream, or `undefined` if the device is currently disabled.\n         *\n         */ this.mediaStream$ = this.mediaStreamSubject.asObservable();\n        /**\n         * An Observable that emits the currently selected device\n         */ this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the device status\n         */ this.status$ = this.statusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable the reflects the requested device status. Useful for optimistic UIs\n         */ this.optimisticStatus$ = this.optimisticStatusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * The default constraints for the device.\n         */ this.defaultConstraints$ = this.defaultConstraintsSubject.asObservable();\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        this.hasBrowserPermission$ = permission ? permission.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.of)(true);\n    }\n    /**\n     * The device status\n     */ get status() {\n        return this.getCurrentValue(this.status$);\n    }\n    /**\n     * The requested device status. Useful for optimistic UIs\n     */ get optimisticStatus() {\n        return this.getCurrentValue(this.optimisticStatus$);\n    }\n    /**\n     * The currently selected device\n     */ get selectedDevice() {\n        return this.getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The current media stream, or `undefined` if the device is currently disabled.\n     */ get mediaStream() {\n        return this.getCurrentValue(this.mediaStream$);\n    }\n    /**\n     * @internal\n     * @param status\n     */ setStatus(status) {\n        this.setCurrentValue(this.statusSubject, status);\n    }\n    /**\n     * @internal\n     * @param pendingStatus\n     */ setPendingStatus(pendingStatus) {\n        this.setCurrentValue(this.optimisticStatusSubject, pendingStatus);\n    }\n    /**\n     * Updates the `mediaStream` state variable.\n     *\n     * @internal\n     * @param stream the stream to set.\n     * @param rootStream the root stream, applicable when filters are used\n     * as this is the stream that holds the actual deviceId information.\n     */ setMediaStream(stream, rootStream) {\n        this.setCurrentValue(this.mediaStreamSubject, stream);\n        if (rootStream) {\n            this.setDevice(this.getDeviceIdFromStream(rootStream));\n        }\n    }\n    /**\n     * @internal\n     * @param deviceId the device id to set.\n     */ setDevice(deviceId) {\n        this.setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * Gets the default constraints for the device.\n     */ get defaultConstraints() {\n        return this.getCurrentValue(this.defaultConstraints$);\n    }\n    /**\n     * Sets the default constraints for the device.\n     *\n     * @internal\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.setCurrentValue(this.defaultConstraintsSubject, constraints);\n    }\n}\nclass CameraManagerState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(\"stop-tracks\", getVideoBrowserPermission());\n        this.directionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.direction$ = this.directionSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * The preferred camera direction\n     * front - means the camera facing the user\n     * back - means the camera facing the environment\n     */ get direction() {\n        return this.getCurrentValue(this.direction$);\n    }\n    /**\n     * @internal\n     */ setDirection(direction) {\n        this.setCurrentValue(this.directionSubject, direction);\n    }\n    /**\n     * @internal\n     */ setMediaStream(stream, rootStream) {\n        super.setMediaStream(stream, rootStream);\n        if (stream) {\n            // RN getSettings() doesn't return facingMode, so we don't verify camera direction\n            const direction = isReactNative() ? this.direction : stream.getVideoTracks()[0]?.getSettings().facingMode === \"environment\" ? \"back\" : \"front\";\n            this.setDirection(direction);\n        }\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getVideoTracks();\n        return track?.getSettings().deviceId;\n    }\n}\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */ const isMobile = ()=>/Mobi/i.test(navigator.userAgent);\nclass CameraManager extends InputMediaDeviceManager {\n    /**\n     * Constructs a new CameraManager.\n     *\n     * @param call the call instance.\n     */ constructor(call){\n        super(call, new CameraManagerState(), TrackType.VIDEO);\n        this.targetResolution = {\n            width: 1280,\n            height: 720\n        };\n    }\n    isDirectionSupportedByDevice() {\n        return isReactNative() || isMobile();\n    }\n    /**\n     * Select the camera direction.\n     *\n     * @param direction the direction of the camera to select.\n     */ async selectDirection(direction) {\n        if (this.isDirectionSupportedByDevice()) {\n            this.state.setDirection(direction);\n            // Providing both device id and direction doesn't work, so we deselect the device\n            this.state.setDevice(undefined);\n            await this.applySettingsToStream();\n        } else {\n            this.logger(\"warn\", \"Camera direction ignored for desktop devices\");\n        }\n    }\n    /**\n     * Flips the camera direction: if it's front it will change to back, if it's back, it will change to front.\n     *\n     * Note: if there is no available camera with the desired direction, this method will do nothing.\n     * @returns\n     */ async flip() {\n        const newDirection = this.state.direction === \"front\" ? \"back\" : \"front\";\n        await this.selectDirection(newDirection);\n    }\n    /**\n     * @internal\n     */ async selectTargetResolution(resolution) {\n        this.targetResolution.height = resolution.height;\n        this.targetResolution.width = resolution.width;\n        if (this.state.optimisticStatus === \"enabled\") {\n            try {\n                await this.statusChangeSettled();\n            } catch (error) {\n                // couldn't enable device, target resolution will be applied the next time user attempts to start the device\n                this.logger(\"warn\", \"could not apply target resolution\", error);\n            }\n        }\n        if (this.enabled && this.state.mediaStream) {\n            const [videoTrack] = this.state.mediaStream.getVideoTracks();\n            if (!videoTrack) return;\n            const { width, height } = videoTrack.getSettings();\n            if (width !== this.targetResolution.width || height !== this.targetResolution.height) {\n                await this.applySettingsToStream();\n                this.logger(\"debug\", `${width}x${height} target resolution applied to media stream`);\n            }\n        }\n    }\n    /**\n     * Applies the video settings to the camera.\n     *\n     * @param settings the video settings to apply.\n     * @param publish whether to publish the stream after applying the settings.\n     */ async apply(settings, publish) {\n        const hasPublishedVideo = !!this.call.state.localParticipant?.videoStream;\n        const hasPermission = this.call.permissionsContext.hasPermission(OwnCapability.SEND_AUDIO);\n        if (hasPublishedVideo || !hasPermission) return;\n        // Wait for any in progress camera operation\n        await this.statusChangeSettled();\n        const { target_resolution, camera_facing, camera_default_on } = settings;\n        await this.selectTargetResolution(target_resolution);\n        // Set camera direction if it's not yet set\n        if (!this.state.direction && !this.state.selectedDevice) {\n            this.state.setDirection(camera_facing === \"front\" ? \"front\" : \"back\");\n        }\n        if (!publish) return;\n        const { mediaStream } = this.state;\n        if (this.enabled && mediaStream) {\n            // The camera is already enabled (e.g. lobby screen). Publish the stream\n            await this.publishStream(mediaStream);\n        } else if (this.state.status === undefined && camera_default_on) {\n            // Start camera if backend config specifies, and there is no local setting\n            await this.enable();\n        }\n    }\n    getDevices() {\n        return getVideoDevices();\n    }\n    getStream(constraints) {\n        constraints.width = this.targetResolution.width;\n        constraints.height = this.targetResolution.height;\n        // We can't set both device id and facing mode\n        // Device id has higher priority\n        if (!constraints.deviceId && this.state.direction && this.isDirectionSupportedByDevice()) {\n            constraints.facingMode = this.state.direction === \"front\" ? \"user\" : \"environment\";\n        }\n        return getVideoStream(constraints);\n    }\n}\nclass MicrophoneManagerState extends InputMediaDeviceManagerState {\n    constructor(disableMode){\n        super(disableMode, getAudioBrowserPermission());\n        this.speakingWhileMutedSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.speakingWhileMuted$ = this.speakingWhileMutedSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * `true` if the user's microphone is muted but they'are speaking.\n     *\n     * This feature is not available in the React Native SDK.\n     */ get speakingWhileMuted() {\n        return this.getCurrentValue(this.speakingWhileMuted$);\n    }\n    /**\n     * @internal\n     */ setSpeakingWhileMuted(isSpeaking) {\n        this.setCurrentValue(this.speakingWhileMutedSubject, isSpeaking);\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getAudioTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nconst DETECTION_FREQUENCY_IN_MS = 500;\nconst AUDIO_LEVEL_THRESHOLD$1 = 150;\nconst FFT_SIZE = 128;\n/**\n * Creates a new sound detector.\n *\n * @param audioStream the audio stream to observe. Depending on the provided configuration, this stream might be destroyed when the sound detector is stopped.\n * @param onSoundDetectedStateChanged a callback which is called when the sound state changes.\n * @param options custom options for the sound detector.\n * @returns a clean-up function which once invoked stops the sound detector.\n */ const createSoundDetector = (audioStream, onSoundDetectedStateChanged, options = {})=>{\n    const { detectionFrequencyInMs = DETECTION_FREQUENCY_IN_MS, audioLevelThreshold = AUDIO_LEVEL_THRESHOLD$1, fftSize = FFT_SIZE, destroyStreamOnStop = true } = options;\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    analyser.fftSize = fftSize;\n    const microphone = audioContext.createMediaStreamSource(audioStream);\n    microphone.connect(analyser);\n    const intervalId = setInterval(()=>{\n        const data = new Uint8Array(analyser.frequencyBinCount);\n        analyser.getByteFrequencyData(data);\n        const isSoundDetected = data.some((value)=>value >= audioLevelThreshold);\n        const averagedDataValue = data.reduce((pv, cv)=>pv + cv, 0) / data.length;\n        const percentage = averagedDataValue > audioLevelThreshold ? 100 : Math.round(averagedDataValue / audioLevelThreshold * 100);\n        // When the track is disabled, it takes time for the buffer to empty\n        // This check will ensure that we don't send anything if the track is disabled\n        if (audioStream.getAudioTracks()[0]?.enabled) {\n            onSoundDetectedStateChanged({\n                isSoundDetected,\n                audioLevel: percentage\n            });\n        } else {\n            onSoundDetectedStateChanged({\n                isSoundDetected: false,\n                audioLevel: 0\n            });\n        }\n    }, detectionFrequencyInMs);\n    return async function stop() {\n        clearInterval(intervalId);\n        // clean-up the AudioContext elements\n        microphone.disconnect();\n        analyser.disconnect();\n        if (audioContext.state !== \"closed\") {\n            await audioContext.close();\n        }\n        // stop the stream\n        if (destroyStreamOnStop) {\n            audioStream.getTracks().forEach((track)=>{\n                track.stop();\n                audioStream.removeTrack(track);\n            });\n        }\n    };\n};\nconst AUDIO_LEVEL_THRESHOLD = 0.2;\nclass RNSpeechDetector {\n    constructor(){\n        this.pc1 = new RTCPeerConnection({});\n        this.pc2 = new RTCPeerConnection({});\n    }\n    /**\n     * Starts the speech detection.\n     */ async start() {\n        try {\n            this.cleanupAudioStream();\n            const audioStream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            this.audioStream = audioStream;\n            this.pc1.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc2.addIceCandidate(e.candidate);\n            });\n            this.pc2.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc1.addIceCandidate(e.candidate);\n            });\n            audioStream.getTracks().forEach((track)=>this.pc1.addTrack(track, audioStream));\n            const offer = await this.pc1.createOffer({});\n            await this.pc2.setRemoteDescription(offer);\n            await this.pc1.setLocalDescription(offer);\n            const answer = await this.pc2.createAnswer();\n            await this.pc1.setRemoteDescription(answer);\n            await this.pc2.setLocalDescription(answer);\n            const audioTracks = audioStream.getAudioTracks();\n            // We need to mute the audio track for this temporary stream, or else you will hear yourself twice while in the call.\n            audioTracks.forEach((track)=>track.enabled = false);\n        } catch (error) {\n            console.error(\"Error connecting and negotiating between PeerConnections:\", error);\n        }\n    }\n    /**\n     * Stops the speech detection and releases all allocated resources.\n     */ stop() {\n        this.pc1.close();\n        this.pc2.close();\n        this.cleanupAudioStream();\n        if (this.intervalId) {\n            clearInterval(this.intervalId);\n        }\n    }\n    /**\n     * Public method that detects the audio levels and returns the status.\n     */ onSpeakingDetectedStateChange(onSoundDetectedStateChanged) {\n        this.intervalId = setInterval(async ()=>{\n            const stats = await this.pc1.getStats();\n            const report = flatten(stats);\n            // Audio levels are present inside stats of type `media-source` and of kind `audio`\n            const audioMediaSourceStats = report.find((stat)=>stat.type === \"media-source\" && stat.kind === \"audio\");\n            if (audioMediaSourceStats) {\n                const { audioLevel } = audioMediaSourceStats;\n                if (audioLevel) {\n                    if (audioLevel >= AUDIO_LEVEL_THRESHOLD) {\n                        onSoundDetectedStateChanged({\n                            isSoundDetected: true,\n                            audioLevel\n                        });\n                    } else {\n                        onSoundDetectedStateChanged({\n                            isSoundDetected: false,\n                            audioLevel: 0\n                        });\n                    }\n                }\n            }\n        }, 1000);\n        return ()=>{\n            clearInterval(this.intervalId);\n        };\n    }\n    cleanupAudioStream() {\n        if (!this.audioStream) {\n            return;\n        }\n        this.audioStream.getTracks().forEach((track)=>track.stop());\n        if (// @ts-expect-error release() is present in react-native-webrtc\n        typeof this.audioStream.release === \"function\") {\n            // @ts-expect-error called to dispose the stream in RN\n            this.audioStream.release();\n        }\n    }\n}\nclass MicrophoneManager extends InputMediaDeviceManager {\n    constructor(call, disableMode = isReactNative() ? \"disable-tracks\" : \"stop-tracks\"){\n        super(call, new MicrophoneManagerState(disableMode), TrackType.AUDIO);\n        this.speakingWhileMutedNotificationEnabled = true;\n        this.soundDetectorConcurrencyTag = Symbol(\"soundDetectorConcurrencyTag\");\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n            this.call.state.callingState$,\n            this.call.state.ownCapabilities$,\n            this.state.selectedDevice$,\n            this.state.status$\n        ]), async ([callingState, ownCapabilities, deviceId, status])=>{\n            try {\n                if (callingState === CallingState.LEFT) {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n                if (callingState !== CallingState.JOINED) return;\n                if (!this.speakingWhileMutedNotificationEnabled) return;\n                if (ownCapabilities.includes(OwnCapability.SEND_AUDIO)) {\n                    if (status === \"disabled\") {\n                        await this.startSpeakingWhileMutedDetection(deviceId);\n                    } else {\n                        await this.stopSpeakingWhileMutedDetection();\n                    }\n                } else {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Could not enable speaking while muted\", err);\n            }\n        }));\n        this.subscriptions.push(createSubscription(this.call.state.callingState$, (callingState)=>{\n            // do nothing when noise filtering isn't turned on\n            if (!this.noiseCancellationRegistration || !this.noiseCancellation) return;\n            const autoOn = this.call.state.settings?.audio.noise_cancellation?.mode === NoiseCancellationSettingsModeEnum.AUTO_ON;\n            if (autoOn && callingState === CallingState.JOINED) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.enable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to enable noise cancellation`, err);\n                    return this.call.notifyNoiseCancellationStopped();\n                });\n            } else if (callingState === CallingState.LEFT) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.disable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to disable noise cancellation`, err);\n                });\n            }\n        }));\n    }\n    /**\n     * Enables noise cancellation for the microphone.\n     *\n     * Note: not supported in React Native.\n     * @param noiseCancellation - a noise cancellation instance to use.\n     */ async enableNoiseCancellation(noiseCancellation) {\n        if (isReactNative()) {\n            throw new Error(\"Noise cancellation is not supported in React Native\");\n        }\n        const { ownCapabilities, settings } = this.call.state;\n        const hasNoiseCancellationCapability = ownCapabilities.includes(OwnCapability.ENABLE_NOISE_CANCELLATION);\n        if (!hasNoiseCancellationCapability) {\n            throw new Error(\"Noise cancellation is not available.\");\n        }\n        const noiseCancellationSettings = settings?.audio.noise_cancellation;\n        if (!noiseCancellationSettings || noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.DISABLED) {\n            throw new Error(\"Noise cancellation is disabled for this call type.\");\n        }\n        try {\n            this.noiseCancellation = noiseCancellation;\n            // listen for change events and notify the SFU\n            this.noiseCancellationChangeUnsubscribe = this.noiseCancellation.on(\"change\", (enabled)=>{\n                if (enabled) {\n                    this.call.notifyNoiseCancellationStarting().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStart failed`, err);\n                    });\n                } else {\n                    this.call.notifyNoiseCancellationStopped().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStop failed`, err);\n                    });\n                }\n            });\n            const registrationResult = this.registerFilter(noiseCancellation.toFilter());\n            this.noiseCancellationRegistration = registrationResult.registered;\n            this.unregisterNoiseCancellation = registrationResult.unregister;\n            await this.noiseCancellationRegistration;\n            // handles an edge case where a noise cancellation is enabled after\n            // the participant as joined the call -> we immediately enable NC\n            if (noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.AUTO_ON && this.call.state.callingState === CallingState.JOINED) {\n                noiseCancellation.enable();\n            }\n        } catch (e) {\n            this.logger(\"warn\", \"Failed to enable noise cancellation\", e);\n            await this.disableNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to disable noise cancellation\", err);\n            });\n        }\n    }\n    /**\n     * Disables noise cancellation for the microphone.\n     *\n     * Note: not supported in React Native.\n     */ async disableNoiseCancellation() {\n        if (isReactNative()) {\n            throw new Error(\"Noise cancellation is not supported in React Native\");\n        }\n        await (this.unregisterNoiseCancellation?.() ?? Promise.resolve()).then(()=>this.noiseCancellation?.disable()).then(()=>this.noiseCancellationChangeUnsubscribe?.()).catch((err)=>{\n            this.logger(\"warn\", \"Failed to unregister noise cancellation\", err);\n        });\n        await this.call.notifyNoiseCancellationStopped();\n    }\n    /**\n     * Enables speaking while muted notification.\n     */ async enableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = true;\n        if (this.state.status === \"disabled\") {\n            await this.startSpeakingWhileMutedDetection(this.state.selectedDevice);\n        }\n    }\n    /**\n     * Disables speaking while muted notification.\n     */ async disableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = false;\n        await this.stopSpeakingWhileMutedDetection();\n    }\n    /**\n     * Applies the audio settings to the microphone.\n     * @param settings the audio settings to apply.\n     * @param publish whether to publish the stream after applying the settings.\n     */ async apply(settings, publish) {\n        if (!publish) return;\n        const hasPublishedAudio = !!this.call.state.localParticipant?.audioStream;\n        const hasPermission = this.call.permissionsContext.hasPermission(OwnCapability.SEND_AUDIO);\n        if (hasPublishedAudio || !hasPermission) return;\n        // Wait for any in progress mic operation\n        await this.statusChangeSettled();\n        // Publish media stream that was set before we joined\n        const { mediaStream } = this.state;\n        if (this.enabled && mediaStream) {\n            // The mic is already enabled (e.g. lobby screen). Publish the stream\n            await this.publishStream(mediaStream);\n        } else if (this.state.status === undefined && settings.mic_default_on) {\n            // Start mic if backend config specifies, and there is no local setting\n            await this.enable();\n        }\n    }\n    getDevices() {\n        return getAudioDevices();\n    }\n    getStream(constraints) {\n        return getAudioStream(constraints);\n    }\n    async startSpeakingWhileMutedDetection(deviceId) {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            await this.stopSpeakingWhileMutedDetection();\n            if (isReactNative()) {\n                this.rnSpeechDetector = new RNSpeechDetector();\n                await this.rnSpeechDetector.start();\n                const unsubscribe = this.rnSpeechDetector?.onSpeakingDetectedStateChange((event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n                this.soundDetectorCleanup = ()=>{\n                    unsubscribe();\n                    this.rnSpeechDetector?.stop();\n                    this.rnSpeechDetector = undefined;\n                };\n            } else {\n                // Need to start a new stream that's not connected to publisher\n                const stream = await this.getStream({\n                    deviceId\n                });\n                this.soundDetectorCleanup = createSoundDetector(stream, (event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n            }\n        });\n    }\n    async stopSpeakingWhileMutedDetection() {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            if (!this.soundDetectorCleanup) return;\n            const soundDetectorCleanup = this.soundDetectorCleanup;\n            this.soundDetectorCleanup = undefined;\n            this.state.setSpeakingWhileMuted(false);\n            await soundDetectorCleanup();\n        });\n    }\n}\nclass ScreenShareState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(...arguments);\n        this.audioEnabledSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(true);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current screen share audio status.\n         */ this.audioEnabled$ = this.audioEnabledSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the current screen share settings.\n         */ this.settings$ = this.settingsSubject.asObservable();\n        /**\n         * @internal\n         */ this.getDeviceIdFromStream = (stream)=>{\n            const [track] = stream.getTracks();\n            return track?.getSettings().deviceId;\n        };\n    }\n    /**\n     * The current screen share audio status.\n     */ get audioEnabled() {\n        return this.getCurrentValue(this.audioEnabled$);\n    }\n    /**\n     * Set the current screen share audio status.\n     */ setAudioEnabled(isEnabled) {\n        this.setCurrentValue(this.audioEnabledSubject, isEnabled);\n    }\n    /**\n     * The current screen share settings.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Set the current screen share settings.\n     *\n     * @param settings the screen share settings to set.\n     */ setSettings(settings) {\n        this.setCurrentValue(this.settingsSubject, settings);\n    }\n}\nclass ScreenShareManager extends InputMediaDeviceManager {\n    constructor(call){\n        super(call, new ScreenShareState(), TrackType.SCREEN_SHARE);\n        this.subscriptions.push(createSubscription(call.state.settings$, (settings)=>{\n            const maybeTargetResolution = settings?.screensharing.target_resolution;\n            if (maybeTargetResolution) {\n                this.setDefaultConstraints({\n                    video: {\n                        width: maybeTargetResolution.width,\n                        height: maybeTargetResolution.height\n                    }\n                });\n            }\n        }));\n    }\n    /**\n     * Will enable screen share audio options on supported platforms.\n     *\n     * Note: for ongoing screen share, audio won't be enabled until you\n     * re-publish the screen share stream.\n     */ enableScreenShareAudio() {\n        this.state.setAudioEnabled(true);\n    }\n    /**\n     * Will disable screen share audio options on supported platforms.\n     */ async disableScreenShareAudio() {\n        this.state.setAudioEnabled(false);\n        if (this.call.publisher?.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n            await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO);\n        }\n    }\n    /**\n     * Returns the current screen share settings.\n     */ getSettings() {\n        return this.state.settings;\n    }\n    /**\n     * Sets the current screen share settings.\n     *\n     * @param settings the settings to set.\n     */ setSettings(settings) {\n        this.state.setSettings(settings);\n    }\n    getDevices() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.of)([]); // there are no devices to be listed for Screen Share\n    }\n    getStream(constraints) {\n        if (!this.state.audioEnabled) {\n            constraints.audio = false;\n        }\n        return getScreenShareStream(constraints);\n    }\n    async stopPublishStream() {\n        return this.call.stopPublish(TrackType.SCREEN_SHARE, TrackType.SCREEN_SHARE_AUDIO);\n    }\n    /**\n     * Overrides the default `select` method to throw an error.\n     *\n     * @param deviceId ignored.\n     */ async select(deviceId) {\n        throw new Error(\"This method is not supported in for Screen Share\");\n    }\n}\nclass SpeakerState {\n    constructor(){\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(\"\");\n        this.volumeSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(1);\n        /**\n         * [Tells if the browser supports audio output change on 'audio' elements](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId).\n         */ this.isDeviceSelectionSupported = checkIfAudioOutputChangeSupported();\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        this.volume$ = this.volumeSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * The currently selected device\n     *\n     * Note: this feature is not supported in React Native\n     */ get selectedDevice() {\n        return this.getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The currently selected volume\n     *\n     * Note: this feature is not supported in React Native\n     */ get volume() {\n        return this.getCurrentValue(this.volume$);\n    }\n    /**\n     * @internal\n     * @param deviceId\n     */ setDevice(deviceId) {\n        this.setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * @internal\n     * @param volume\n     */ setVolume(volume) {\n        this.setCurrentValue(this.volumeSubject, volume);\n    }\n}\nclass SpeakerManager {\n    constructor(call){\n        this.state = new SpeakerState();\n        this.subscriptions = [];\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s.unsubscribe());\n        };\n        this.call = call;\n        if (deviceIds$ && !isReactNative()) {\n            this.subscriptions.push((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                deviceIds$,\n                this.state.selectedDevice$\n            ]).subscribe(([devices, deviceId])=>{\n                if (!deviceId) {\n                    return;\n                }\n                const device = devices.find((d)=>d.deviceId === deviceId && d.kind === \"audiooutput\");\n                if (!device) {\n                    this.select(\"\");\n                }\n            }));\n        }\n    }\n    /**\n     * Lists the available audio output devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     * Note: This method is not supported in React Native\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        return getAudioOutputDevices();\n    }\n    /**\n     * Select a device.\n     *\n     * Note: This method is not supported in React Native\n     *\n     * @param deviceId empty string means the system default\n     */ select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        this.state.setDevice(deviceId);\n    }\n    /**\n     * Set the volume of the audio elements\n     * @param volume a number between 0 and 1.\n     *\n     * Note: This method is not supported in React Native\n     */ setVolume(volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1\");\n        }\n        this.state.setVolume(volume);\n    }\n    /**\n     * Set the volume of a participant.\n     *\n     * Note: This method is not supported in React Native.\n     *\n     * @param sessionId the participant's session id.\n     * @param volume a number between 0 and 1. Set it to `undefined` to use the default volume.\n     */ setParticipantVolume(sessionId, volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1, or undefined\");\n        }\n        this.call.state.updateParticipant(sessionId, {\n            audioVolume: volume\n        });\n    }\n}\n/**\n * An object representation of a `Call`.\n */ class Call {\n    /**\n     * Constructs a new `Call` instance.\n     *\n     * NOTE: Don't call the constructor directly, instead\n     * Use the [`StreamVideoClient.call`](./StreamVideoClient.md/#call)\n     * method to construct a `Call` instance.\n     */ constructor({ type, id, streamClient, members, ownCapabilities, sortParticipantsBy, clientStore, ringing = false, watching = false }){\n        /**\n         * The state of this call.\n         */ this.state = new CallState();\n        /**\n         * The permissions context of this call.\n         */ this.permissionsContext = new PermissionsContext();\n        /**\n         * The event dispatcher instance dedicated to this Call instance.\n         * @private\n         */ this.dispatcher = new Dispatcher();\n        this.sfuClientTag = 0;\n        this.reconnectConcurrencyTag = Symbol(\"reconnectConcurrencyTag\");\n        this.reconnectAttempts = 0;\n        this.reconnectStrategy = WebsocketReconnectStrategy.UNSPECIFIED;\n        this.fastReconnectDeadlineSeconds = 0;\n        this.disconnectionTimeoutSeconds = 0;\n        this.lastOfflineTimestamp = 0;\n        // maintain the order of publishing tracks to restore them after a reconnection\n        // it shouldn't contain duplicates\n        this.trackPublishOrder = [];\n        this.hasJoinedOnce = false;\n        this.deviceSettingsAppliedOnce = false;\n        this.initialized = false;\n        this.joinLeaveConcurrencyTag = Symbol(\"joinLeaveConcurrencyTag\");\n        /**\n         * A list hooks/functions to invoke when the call is left.\n         * A typical use case is to clean up some global event handlers.\n         * @private\n         */ this.leaveCallHooks = new Set();\n        this.streamClientEventHandlers = new Map();\n        this.setup = async ()=>{\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                if (this.initialized) return;\n                this.leaveCallHooks.add(this.on(\"all\", (event)=>{\n                    // update state with the latest event data\n                    this.state.updateFromEvent(event);\n                }));\n                this.leaveCallHooks.add(this.on(\"changePublishOptions\", (event)=>{\n                    this.currentPublishOptions = event.publishOptions;\n                }));\n                this.leaveCallHooks.add(registerEventHandlers(this, this.dispatcher));\n                this.registerEffects();\n                this.registerReconnectHandlers();\n                if (this.state.callingState === CallingState.LEFT) {\n                    this.state.setCallingState(CallingState.IDLE);\n                }\n                this.initialized = true;\n            });\n        };\n        this.registerEffects = ()=>{\n            this.leaveCallHooks.add(// handles updating the permissions context when the settings change.\n            createSubscription(this.state.settings$, (settings)=>{\n                if (!settings) return;\n                this.permissionsContext.setCallSettings(settings);\n            }));\n            this.leaveCallHooks.add(// handle the case when the user permissions are modified.\n            createSafeAsyncSubscription(this.state.ownCapabilities$, this.handleOwnCapabilitiesUpdated));\n            this.leaveCallHooks.add(// handles the case when the user is blocked by the call owner.\n            createSubscription(this.state.blockedUserIds$, async (blockedUserIds)=>{\n                if (!blockedUserIds || blockedUserIds.length === 0) return;\n                const currentUserId = this.currentUserId;\n                if (currentUserId && blockedUserIds.includes(currentUserId)) {\n                    this.logger(\"info\", \"Leaving call because of being blocked\");\n                    await this.leave({\n                        reason: \"user blocked\"\n                    }).catch((err)=>{\n                        this.logger(\"error\", \"Error leaving call after being blocked\", err);\n                    });\n                }\n            }));\n            this.leaveCallHooks.add(// cancel auto-drop when call is\n            createSubscription(this.state.session$, (session)=>{\n                if (!this.ringing) return;\n                const receiverId = this.clientStore.connectedUser?.id;\n                if (!receiverId) return;\n                const isAcceptedByMe = Boolean(session?.accepted_by[receiverId]);\n                const isRejectedByMe = Boolean(session?.rejected_by[receiverId]);\n                if (isAcceptedByMe || isRejectedByMe) {\n                    this.cancelAutoDrop();\n                }\n            }));\n            this.leaveCallHooks.add(// \"ringing\" mode effects and event handlers\n            createSubscription(this.ringingSubject, (isRinging)=>{\n                if (!isRinging) return;\n                const callSession = this.state.session;\n                const receiver_id = this.clientStore.connectedUser?.id;\n                const ended_at = callSession?.ended_at;\n                const created_by_id = this.state.createdBy?.id;\n                const rejected_by = callSession?.rejected_by;\n                const accepted_by = callSession?.accepted_by;\n                let leaveCallIdle = false;\n                if (ended_at) {\n                    // call was ended before it was accepted or rejected so we should leave it to idle\n                    leaveCallIdle = true;\n                } else if (created_by_id && rejected_by) {\n                    if (rejected_by[created_by_id]) {\n                        // call was cancelled by the caller\n                        leaveCallIdle = true;\n                    }\n                } else if (receiver_id && rejected_by) {\n                    if (rejected_by[receiver_id]) {\n                        // call was rejected by the receiver in some other device\n                        leaveCallIdle = true;\n                    }\n                } else if (receiver_id && accepted_by) {\n                    if (accepted_by[receiver_id]) {\n                        // call was accepted by the receiver in some other device\n                        leaveCallIdle = true;\n                    }\n                }\n                if (leaveCallIdle) {\n                    if (this.state.callingState !== CallingState.IDLE) {\n                        this.state.setCallingState(CallingState.IDLE);\n                    }\n                } else {\n                    if (this.state.callingState === CallingState.IDLE) {\n                        this.state.setCallingState(CallingState.RINGING);\n                    }\n                    this.scheduleAutoDrop();\n                    this.leaveCallHooks.add(registerRingingCallEventHandlers(this));\n                }\n            }));\n        };\n        this.handleOwnCapabilitiesUpdated = async (ownCapabilities)=>{\n            // update the permission context.\n            this.permissionsContext.setPermissions(ownCapabilities);\n            if (!this.publisher) return;\n            // check if the user still has publishing permissions and stop publishing if not.\n            const permissionToTrackType = {\n                [OwnCapability.SEND_AUDIO]: TrackType.AUDIO,\n                [OwnCapability.SEND_VIDEO]: TrackType.VIDEO,\n                [OwnCapability.SCREENSHARE]: TrackType.SCREEN_SHARE\n            };\n            for (const [permission, trackType] of Object.entries(permissionToTrackType)){\n                const hasPermission = this.permissionsContext.hasPermission(permission);\n                if (hasPermission) continue;\n                try {\n                    switch(trackType){\n                        case TrackType.AUDIO:\n                            if (this.microphone.enabled) await this.microphone.disable();\n                            break;\n                        case TrackType.VIDEO:\n                            if (this.camera.enabled) await this.camera.disable();\n                            break;\n                        case TrackType.SCREEN_SHARE:\n                            if (this.screenShare.enabled) await this.screenShare.disable();\n                            break;\n                    }\n                } catch (err) {\n                    this.logger(\"error\", `Can't disable mic/camera/screenshare after revoked permissions`, err);\n                }\n            }\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API. To remove a subscription, call the `off` method.\n         * Please note that subscribing to WebSocket events is an advanced use-case.\n         * For most use-cases, it should be enough to watch for state changes.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.on = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.on(eventName, fn);\n            }\n            const offHandler = this.streamClient.on(eventName, (e)=>{\n                const event = e;\n                if (event.call_cid && event.call_cid === this.cid) {\n                    fn(event);\n                }\n            });\n            // keep the 'off' reference returned by the stream client\n            this.streamClientEventHandlers.set(fn, offHandler);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.off = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.off(eventName, fn);\n            }\n            // unsubscribe from the stream client event by using the 'off' reference\n            const registeredOffHandler = this.streamClientEventHandlers.get(fn);\n            if (registeredOffHandler) {\n                registeredOffHandler();\n            }\n        };\n        /**\n         * Leave the call and stop the media streams that were published by the call.\n         */ this.leave = async ({ reject, reason = \"user is leaving the call\" } = {})=>{\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                const callingState = this.state.callingState;\n                if (callingState === CallingState.LEFT) {\n                    throw new Error(\"Cannot leave call that has already been left.\");\n                }\n                if (callingState === CallingState.JOINING) {\n                    const waitUntilCallJoined = ()=>{\n                        return new Promise((resolve)=>{\n                            this.state.callingState$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((state)=>state !== CallingState.JOINED, true)).subscribe(()=>resolve());\n                        });\n                    };\n                    await waitUntilCallJoined();\n                }\n                if (callingState === CallingState.RINGING && reject !== false) {\n                    if (reject) {\n                        await this.reject(reason);\n                    } else {\n                        // if reject was undefined, we still have to cancel the call automatically\n                        // when I am the creator and everyone else left the call\n                        const hasOtherParticipants = this.state.remoteParticipants.length > 0;\n                        if (this.isCreatedByMe && !hasOtherParticipants) {\n                            await this.reject(\"cancel\");\n                        }\n                    }\n                }\n                this.statsReporter?.stop();\n                this.statsReporter = undefined;\n                this.sfuStatsReporter?.stop();\n                this.sfuStatsReporter = undefined;\n                this.subscriber?.dispose();\n                this.subscriber = undefined;\n                this.publisher?.dispose();\n                this.publisher = undefined;\n                await this.sfuClient?.leaveAndClose(reason);\n                this.sfuClient = undefined;\n                this.dynascaleManager.setSfuClient(undefined);\n                this.state.setCallingState(CallingState.LEFT);\n                this.state.dispose();\n                // Call all leave call hooks, e.g. to clean up global event handlers\n                this.leaveCallHooks.forEach((hook)=>hook());\n                this.initialized = false;\n                this.hasJoinedOnce = false;\n                this.clientStore.unregisterCall(this);\n                this.camera.dispose();\n                this.microphone.dispose();\n                this.screenShare.dispose();\n                this.speaker.dispose();\n                const stopOnLeavePromises = [];\n                if (this.camera.stopOnLeave) {\n                    stopOnLeavePromises.push(this.camera.disable(true));\n                }\n                if (this.microphone.stopOnLeave) {\n                    stopOnLeavePromises.push(this.microphone.disable(true));\n                }\n                if (this.screenShare.stopOnLeave) {\n                    stopOnLeavePromises.push(this.screenShare.disable(true));\n                }\n                await Promise.all(stopOnLeavePromises);\n            });\n        };\n        /**\n         * Update from the call response from the \"call.ring\" event\n         * @internal\n         */ this.updateFromRingingEvent = async (event)=>{\n            await this.setup();\n            // call.ring event excludes the call creator in the members list\n            // as the creator does not get the ring event\n            // so update the member list accordingly\n            const { created_by, settings } = event.call;\n            const creator = this.state.members.find((m)=>m.user.id === created_by.id);\n            if (!creator) {\n                this.state.setMembers(event.members);\n            } else {\n                this.state.setMembers([\n                    creator,\n                    ...event.members\n                ]);\n            }\n            // update the call state with the latest event data\n            this.state.updateFromCallResponse(event.call);\n            this.watching = true;\n            this.ringingSubject.next(true);\n            // we remove the instance from the calls list to enable the following filter in useCalls hook\n            // const calls = useCalls().filter((c) => c.ringing);\n            const calls = this.clientStore.calls.filter((c)=>c.cid !== this.cid);\n            this.clientStore.setCalls([\n                this,\n                ...calls\n            ]);\n            await this.applyDeviceConfig(settings, false);\n        };\n        /**\n         * Loads the information about the call.\n         *\n         * @param params.ring if set to true, a `call.ring` event will be sent to the call members.\n         * @param params.notify if set to true, a `call.notification` event will be sent to the call members.\n         * @param params.members_limit the total number of members to return as part of the response.\n         */ this.get = async (params)=>{\n            await this.setup();\n            const response = await this.streamClient.get(this.streamClientBasePath, params);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (params?.ring || this.ringing) {\n                // the call response can indicate where the call is still ringing or not\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(response.call.settings, false);\n            return response;\n        };\n        /**\n         * Loads the information about the call and creates it if it doesn't exist.\n         *\n         * @param data the data to create the call with.\n         */ this.getOrCreate = async (data)=>{\n            await this.setup();\n            const response = await this.streamClient.post(this.streamClientBasePath, data);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (data?.ring || this.ringing) {\n                // the call response can indicate where the call is still ringing or not\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(response.call.settings, false);\n            return response;\n        };\n        /**\n         * Creates a call\n         *\n         * @param data the data to create the call with.\n         */ this.create = async (data)=>{\n            return this.getOrCreate(data);\n        };\n        /**\n         * A shortcut for {@link Call.get} with `ring` parameter set to `true`.\n         * Will send a `call.ring` event to the call members.\n         */ this.ring = async ()=>{\n            return await this.get({\n                ring: true\n            });\n        };\n        /**\n         * A shortcut for {@link Call.get} with `notify` parameter set to `true`.\n         * Will send a `call.notification` event to the call members.\n         */ this.notify = async ()=>{\n            return await this.get({\n                notify: true\n            });\n        };\n        /**\n         * Marks the incoming call as accepted.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.join} invokes this method automatically for you when joining a call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         */ this.accept = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/accept`);\n        };\n        /**\n         * Marks the incoming call as rejected.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.leave} invokes this method automatically for you when you leave or reject this call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         *\n         * @param reason the reason for rejecting the call.\n         */ this.reject = async (reason)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reject`, {\n                reason: reason\n            });\n        };\n        /**\n         * Will start to watch for call related WebSocket events and initiate a call session with the server.\n         *\n         * @returns a promise which resolves once the call join-flow has finished.\n         */ this.join = async (data)=>{\n            const connectStartTime = Date.now();\n            await this.setup();\n            const callingState = this.state.callingState;\n            if ([\n                CallingState.JOINED,\n                CallingState.JOINING\n            ].includes(callingState)) {\n                throw new Error(`Illegal State: call.join() shall be called only once`);\n            }\n            this.joinCallData = data;\n            this.logger(\"debug\", \"Starting join flow\");\n            this.state.setCallingState(CallingState.JOINING);\n            const performingMigration = this.reconnectStrategy === WebsocketReconnectStrategy.MIGRATE;\n            const performingRejoin = this.reconnectStrategy === WebsocketReconnectStrategy.REJOIN;\n            const performingFastReconnect = this.reconnectStrategy === WebsocketReconnectStrategy.FAST;\n            let statsOptions = this.sfuStatsReporter?.options;\n            if (!this.credentials || !statsOptions || performingRejoin || performingMigration) {\n                try {\n                    const joinResponse = await this.doJoinRequest(data);\n                    this.credentials = joinResponse.credentials;\n                    statsOptions = joinResponse.stats_options;\n                } catch (error) {\n                    // restore the previous call state if the join-flow fails\n                    this.state.setCallingState(callingState);\n                    throw error;\n                }\n            }\n            const previousSfuClient = this.sfuClient;\n            const previousSessionId = previousSfuClient?.sessionId;\n            const isWsHealthy = !!previousSfuClient?.isHealthy;\n            const sfuClient = performingRejoin || performingMigration || !isWsHealthy ? new StreamSfuClient({\n                logTag: String(this.sfuClientTag++),\n                dispatcher: this.dispatcher,\n                credentials: this.credentials,\n                streamClient: this.streamClient,\n                // a new session_id is necessary for the REJOIN strategy.\n                // we use the previous session_id if available\n                sessionId: performingRejoin ? undefined : previousSessionId,\n                onSignalClose: ()=>this.handleSfuSignalClose(sfuClient)\n            }) : previousSfuClient;\n            this.sfuClient = sfuClient;\n            this.dynascaleManager.setSfuClient(sfuClient);\n            const clientDetails = getClientDetails();\n            // we don't need to send JoinRequest if we are re-using an existing healthy SFU client\n            if (previousSfuClient !== sfuClient) {\n                // prepare a generic SDP and send it to the SFU.\n                // these are throw-away SDPs that the SFU will use to determine\n                // the capabilities of the client (codec support, etc.)\n                const [subscriberSdp, publisherSdp] = await Promise.all([\n                    getGenericSdp(\"recvonly\"),\n                    getGenericSdp(\"sendonly\")\n                ]);\n                const isReconnecting = this.reconnectStrategy !== WebsocketReconnectStrategy.UNSPECIFIED;\n                const reconnectDetails = isReconnecting ? this.getReconnectDetails(data?.migrating_from, previousSessionId) : undefined;\n                const preferredPublishOptions = !isReconnecting ? this.getPreferredPublishOptions() : this.currentPublishOptions || [];\n                const preferredSubscribeOptions = !isReconnecting ? this.getPreferredSubscribeOptions() : [];\n                const { callState, fastReconnectDeadlineSeconds, publishOptions } = await sfuClient.join({\n                    subscriberSdp,\n                    publisherSdp,\n                    clientDetails,\n                    fastReconnect: performingFastReconnect,\n                    reconnectDetails,\n                    preferredPublishOptions,\n                    preferredSubscribeOptions\n                });\n                this.currentPublishOptions = publishOptions;\n                this.fastReconnectDeadlineSeconds = fastReconnectDeadlineSeconds;\n                if (callState) {\n                    this.state.updateFromSfuCallState(callState, sfuClient.sessionId, reconnectDetails);\n                }\n            }\n            if (!performingMigration) {\n                // in MIGRATION, `JOINED` state is set in `this.reconnectMigrate()`\n                this.state.setCallingState(CallingState.JOINED);\n            }\n            this.hasJoinedOnce = true;\n            // when performing fast reconnect, or when we reuse the same SFU client,\n            // (ws remained healthy), we just need to restore the ICE connection\n            if (performingFastReconnect) {\n                // the SFU automatically issues an ICE restart on the subscriber\n                // we don't have to do it ourselves\n                await this.restoreICE(sfuClient, {\n                    includeSubscriber: false\n                });\n            } else {\n                const connectionConfig = toRtcConfiguration(this.credentials.ice_servers);\n                this.initPublisherAndSubscriber({\n                    sfuClient,\n                    connectionConfig,\n                    clientDetails,\n                    statsOptions,\n                    publishOptions: this.currentPublishOptions || [],\n                    closePreviousInstances: !performingMigration\n                });\n            }\n            // make sure we only track connection timing if we are not calling this method as part of a reconnection flow\n            if (!performingRejoin && !performingFastReconnect && !performingMigration) {\n                this.sfuStatsReporter?.sendConnectionTime((Date.now() - connectStartTime) / 1000);\n            }\n            if (performingRejoin) {\n                const strategy = WebsocketReconnectStrategy[this.reconnectStrategy];\n                await previousSfuClient?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${strategy}`);\n            } else if (!isWsHealthy) {\n                previousSfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, \"Closing unhealthy WS after reconnect\");\n            }\n            // device settings should be applied only once, we don't have to\n            // re-apply them on later reconnections or server-side data fetches\n            if (!this.deviceSettingsAppliedOnce && this.state.settings) {\n                await this.applyDeviceConfig(this.state.settings, true);\n                this.deviceSettingsAppliedOnce = true;\n            }\n            // We shouldn't persist the `ring` and `notify` state after joining the call\n            // as it's a one-time event and clashes with the potential reconnection attempts.\n            // When reconnecting, if provided with `ring: true` or `notify: true`,\n            // we will spam the other participants with push notifications and `call.ring` events.\n            delete this.joinCallData?.ring;\n            delete this.joinCallData?.notify;\n            // reset the reconnect strategy to unspecified after a successful reconnection\n            this.reconnectStrategy = WebsocketReconnectStrategy.UNSPECIFIED;\n            this.logger(\"info\", `Joined call ${this.cid}`);\n        };\n        /**\n         * Prepares Reconnect Details object.\n         * @internal\n         */ this.getReconnectDetails = (migratingFromSfuId, previousSessionId)=>{\n            const strategy = this.reconnectStrategy;\n            const performingRejoin = strategy === WebsocketReconnectStrategy.REJOIN;\n            const announcedTracks = this.publisher?.getAnnouncedTracksForReconnect() || [];\n            return {\n                strategy,\n                announcedTracks,\n                subscriptions: this.dynascaleManager.trackSubscriptions,\n                reconnectAttempt: this.reconnectAttempts,\n                fromSfuId: migratingFromSfuId || \"\",\n                previousSessionId: performingRejoin ? previousSessionId || \"\" : \"\"\n            };\n        };\n        /**\n         * Prepares the preferred codec for the call.\n         * This is an experimental client feature and subject to change.\n         * @internal\n         */ this.getPreferredPublishOptions = ()=>{\n            const { preferredCodec, fmtpLine, preferredBitrate, maxSimulcastLayers } = this.clientPublishOptions || {};\n            if (!preferredCodec && !preferredBitrate && !maxSimulcastLayers) return [];\n            const codec = preferredCodec ? Codec.create({\n                name: preferredCodec.split(\"/\").pop(),\n                fmtp: fmtpLine\n            }) : undefined;\n            const preferredPublishOptions = [\n                PublishOption.create({\n                    trackType: TrackType.VIDEO,\n                    codec,\n                    bitrate: preferredBitrate,\n                    maxSpatialLayers: maxSimulcastLayers\n                })\n            ];\n            const screenShareSettings = this.screenShare.getSettings();\n            if (screenShareSettings) {\n                preferredPublishOptions.push(PublishOption.create({\n                    trackType: TrackType.SCREEN_SHARE,\n                    fps: screenShareSettings.maxFramerate,\n                    bitrate: screenShareSettings.maxBitrate\n                }));\n            }\n            return preferredPublishOptions;\n        };\n        /**\n         * Prepares the preferred options for subscribing to tracks.\n         * This is an experimental client feature and subject to change.\n         * @internal\n         */ this.getPreferredSubscribeOptions = ()=>{\n            const { subscriberCodec, subscriberFmtpLine } = this.clientPublishOptions || {};\n            if (!subscriberCodec || !subscriberFmtpLine) return [];\n            return [\n                SubscribeOption.create({\n                    trackType: TrackType.VIDEO,\n                    codecs: [\n                        {\n                            name: subscriberCodec.split(\"/\").pop(),\n                            fmtp: subscriberFmtpLine\n                        }\n                    ]\n                })\n            ];\n        };\n        /**\n         * Performs an ICE restart on both the Publisher and Subscriber Peer Connections.\n         * Uses the provided SFU client to restore the ICE connection.\n         *\n         * This method can throw an error if the ICE restart fails.\n         * This error should be handled by the reconnect loop,\n         * and a new reconnection shall be attempted.\n         *\n         * @internal\n         */ this.restoreICE = async (nextSfuClient, opts = {})=>{\n            const { includeSubscriber = true, includePublisher = true } = opts;\n            if (this.subscriber) {\n                this.subscriber.setSfuClient(nextSfuClient);\n                if (includeSubscriber) {\n                    await this.subscriber.restartIce();\n                }\n            }\n            if (this.publisher) {\n                this.publisher.setSfuClient(nextSfuClient);\n                if (includePublisher) {\n                    await this.publisher.restartIce();\n                }\n            }\n        };\n        /**\n         * Initializes the Publisher and Subscriber Peer Connections.\n         * @internal\n         */ this.initPublisherAndSubscriber = (opts)=>{\n            const { sfuClient, connectionConfig, clientDetails, statsOptions, publishOptions, closePreviousInstances } = opts;\n            if (closePreviousInstances && this.subscriber) {\n                this.subscriber.dispose();\n            }\n            this.subscriber = new Subscriber({\n                sfuClient,\n                dispatcher: this.dispatcher,\n                state: this.state,\n                connectionConfig,\n                logTag: String(this.sfuClientTag),\n                onUnrecoverableError: ()=>{\n                    this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                        this.logger(\"warn\", \"[Reconnect] Error reconnecting after a subscriber error\", err);\n                    });\n                }\n            });\n            // anonymous users can't publish anything hence, there is no need\n            // to create Publisher Peer Connection for them\n            const isAnonymous = this.streamClient.user?.type === \"anonymous\";\n            if (!isAnonymous) {\n                if (closePreviousInstances && this.publisher) {\n                    this.publisher.dispose();\n                }\n                this.publisher = new Publisher({\n                    sfuClient,\n                    dispatcher: this.dispatcher,\n                    state: this.state,\n                    connectionConfig,\n                    publishOptions,\n                    logTag: String(this.sfuClientTag),\n                    onUnrecoverableError: ()=>{\n                        this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                            this.logger(\"warn\", \"[Reconnect] Error reconnecting after a publisher error\", err);\n                        });\n                    }\n                });\n            }\n            this.statsReporter?.stop();\n            this.statsReporter = createStatsReporter({\n                subscriber: this.subscriber,\n                publisher: this.publisher,\n                state: this.state,\n                datacenter: sfuClient.edgeName\n            });\n            this.sfuStatsReporter?.stop();\n            if (statsOptions?.reporting_interval_ms > 0) {\n                this.sfuStatsReporter = new SfuStatsReporter(sfuClient, {\n                    clientDetails,\n                    options: statsOptions,\n                    subscriber: this.subscriber,\n                    publisher: this.publisher,\n                    microphone: this.microphone,\n                    camera: this.camera,\n                    state: this.state\n                });\n                this.sfuStatsReporter.start();\n            }\n        };\n        /**\n         * Retrieves credentials for joining the call.\n         *\n         * @internal\n         *\n         * @param data the join call data.\n         */ this.doJoinRequest = async (data)=>{\n            const location = await this.streamClient.getLocationHint();\n            const request = {\n                ...data,\n                location\n            };\n            const joinResponse = await this.streamClient.post(`${this.streamClientBasePath}/join`, request);\n            this.state.updateFromCallResponse(joinResponse.call);\n            this.state.setMembers(joinResponse.members);\n            this.state.setOwnCapabilities(joinResponse.own_capabilities);\n            if (data?.ring && !this.ringing) {\n                this.ringingSubject.next(true);\n            }\n            if (this.ringing && !this.isCreatedByMe) {\n                // signals other users that I have accepted the incoming call.\n                await this.accept();\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            return joinResponse;\n        };\n        /**\n         * Handles the closing of the SFU signal connection.\n         *\n         * @internal\n         * @param sfuClient the SFU client instance that was closed.\n         */ this.handleSfuSignalClose = (sfuClient)=>{\n            this.logger(\"debug\", \"[Reconnect] SFU signal connection closed\");\n            // SFU WS closed before we finished current join, no need to schedule reconnect\n            // because join operation will fail\n            if (this.state.callingState === CallingState.JOINING) return;\n            // normal close, no need to reconnect\n            if (sfuClient.isLeaving) return;\n            this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n            });\n        };\n        /**\n         * Handles the reconnection flow.\n         *\n         * @internal\n         *\n         * @param strategy the reconnection strategy to use.\n         */ this.reconnect = async (strategy)=>{\n            if (this.state.callingState === CallingState.RECONNECTING || this.state.callingState === CallingState.RECONNECTING_FAILED) return;\n            return withoutConcurrency(this.reconnectConcurrencyTag, async ()=>{\n                this.logger(\"info\", `[Reconnect] Reconnecting with strategy ${WebsocketReconnectStrategy[strategy]}`);\n                let reconnectStartTime = Date.now();\n                this.reconnectStrategy = strategy;\n                do {\n                    if (this.disconnectionTimeoutSeconds > 0 && (Date.now() - reconnectStartTime) / 1000 > this.disconnectionTimeoutSeconds) {\n                        this.logger(\"warn\", \"[Reconnect] Stopping reconnection attempts after reaching disconnection timeout\");\n                        this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                        return;\n                    }\n                    // we don't increment reconnect attempts for the FAST strategy.\n                    if (this.reconnectStrategy !== WebsocketReconnectStrategy.FAST) {\n                        this.reconnectAttempts++;\n                    }\n                    const current = WebsocketReconnectStrategy[this.reconnectStrategy];\n                    try {\n                        // wait until the network is available\n                        await this.networkAvailableTask?.promise;\n                        switch(this.reconnectStrategy){\n                            case WebsocketReconnectStrategy.UNSPECIFIED:\n                            case WebsocketReconnectStrategy.DISCONNECT:\n                                this.logger(\"debug\", `[Reconnect] No-op strategy ${current}`);\n                                break;\n                            case WebsocketReconnectStrategy.FAST:\n                                await this.reconnectFast();\n                                break;\n                            case WebsocketReconnectStrategy.REJOIN:\n                                await this.reconnectRejoin();\n                                break;\n                            case WebsocketReconnectStrategy.MIGRATE:\n                                await this.reconnectMigrate();\n                                break;\n                            default:\n                                ensureExhausted(this.reconnectStrategy, \"Unknown reconnection strategy\");\n                                break;\n                        }\n                        break; // do-while loop, reconnection worked, exit the loop\n                    } catch (error) {\n                        if (error instanceof ErrorFromResponse && error.unrecoverable) {\n                            this.logger(\"warn\", `[Reconnect] Can't reconnect due to coordinator unrecoverable error`, error);\n                            this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                            return;\n                        }\n                        this.logger(\"warn\", `[Reconnect] ${current} (${this.reconnectAttempts}) failed. Attempting with REJOIN`, error);\n                        await sleep(500);\n                        this.reconnectStrategy = WebsocketReconnectStrategy.REJOIN;\n                    }\n                }while (this.state.callingState !== CallingState.JOINED && this.state.callingState !== CallingState.RECONNECTING_FAILED && this.state.callingState !== CallingState.LEFT);\n            });\n        };\n        /**\n         * Initiates the reconnection flow with the \"fast\" strategy.\n         * @internal\n         */ this.reconnectFast = async ()=>{\n            const reconnectStartTime = Date.now();\n            this.reconnectStrategy = WebsocketReconnectStrategy.FAST;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.join(this.joinCallData);\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.FAST, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Initiates the reconnection flow with the \"rejoin\" strategy.\n         * @internal\n         */ this.reconnectRejoin = async ()=>{\n            const reconnectStartTime = Date.now();\n            this.reconnectStrategy = WebsocketReconnectStrategy.REJOIN;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.join(this.joinCallData);\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.REJOIN, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Initiates the reconnection flow with the \"migrate\" strategy.\n         * @internal\n         */ this.reconnectMigrate = async ()=>{\n            const reconnectStartTime = Date.now();\n            const currentSfuClient = this.sfuClient;\n            if (!currentSfuClient) {\n                throw new Error(\"Cannot migrate without an active SFU client\");\n            }\n            this.reconnectStrategy = WebsocketReconnectStrategy.MIGRATE;\n            this.state.setCallingState(CallingState.MIGRATING);\n            const currentSubscriber = this.subscriber;\n            const currentPublisher = this.publisher;\n            currentSubscriber?.detachEventHandlers();\n            currentPublisher?.detachEventHandlers();\n            const migrationTask = makeSafePromise(currentSfuClient.enterMigration());\n            try {\n                const currentSfu = currentSfuClient.edgeName;\n                await this.join({\n                    ...this.joinCallData,\n                    migrating_from: currentSfu\n                });\n            } finally{\n                // cleanup the migration_from field after the migration is complete or failed\n                // as we don't want to keep dirty data in the join call data\n                delete this.joinCallData?.migrating_from;\n            }\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            try {\n                // Wait for the migration to complete, then close the previous SFU client\n                // and the peer connection instances. In case of failure, the migration\n                // task would throw an error and REJOIN would be attempted.\n                await migrationTask();\n                // in MIGRATE, we can consider the call as joined only after\n                // `participantMigrationComplete` event is received, signaled by\n                // the `migrationTask`\n                this.state.setCallingState(CallingState.JOINED);\n            } finally{\n                currentSubscriber?.dispose();\n                currentPublisher?.dispose();\n                // and close the previous SFU client, without specifying close code\n                currentSfuClient.close();\n            }\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.MIGRATE, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Registers the various event handlers for reconnection.\n         *\n         * @internal\n         */ this.registerReconnectHandlers = ()=>{\n            // handles the legacy \"goAway\" event\n            const unregisterGoAway = this.on(\"goAway\", ()=>{\n                this.reconnect(WebsocketReconnectStrategy.MIGRATE).catch((err)=>{\n                    this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n                });\n            });\n            // handles the \"error\" event, through which the SFU can request a reconnect\n            const unregisterOnError = this.on(\"error\", (e)=>{\n                const { reconnectStrategy: strategy } = e;\n                if (strategy === WebsocketReconnectStrategy.UNSPECIFIED) return;\n                if (strategy === WebsocketReconnectStrategy.DISCONNECT) {\n                    this.leave({\n                        reason: \"SFU instructed to disconnect\"\n                    }).catch((err)=>{\n                        this.logger(\"warn\", `Can't leave call after disconnect request`, err);\n                    });\n                } else {\n                    this.reconnect(strategy).catch((err)=>{\n                        this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n                    });\n                }\n            });\n            const unregisterNetworkChanged = this.streamClient.on(\"network.changed\", (e)=>{\n                if (!e.online) {\n                    this.logger(\"debug\", \"[Reconnect] Going offline\");\n                    if (!this.hasJoinedOnce) return;\n                    this.lastOfflineTimestamp = Date.now();\n                    // create a new task that would resolve when the network is available\n                    const networkAvailableTask = promiseWithResolvers();\n                    networkAvailableTask.promise.then(()=>{\n                        let strategy = WebsocketReconnectStrategy.FAST;\n                        if (this.lastOfflineTimestamp) {\n                            const offline = (Date.now() - this.lastOfflineTimestamp) / 1000;\n                            if (offline > this.fastReconnectDeadlineSeconds) {\n                                // We shouldn't attempt FAST if we have exceeded the deadline.\n                                // The SFU would have already wiped out the session.\n                                strategy = WebsocketReconnectStrategy.REJOIN;\n                            }\n                        }\n                        this.reconnect(strategy).catch((err)=>{\n                            this.logger(\"warn\", \"[Reconnect] Error reconnecting after going online\", err);\n                        });\n                    });\n                    this.networkAvailableTask = networkAvailableTask;\n                    this.sfuStatsReporter?.stop();\n                    this.state.setCallingState(CallingState.OFFLINE);\n                } else {\n                    this.logger(\"debug\", \"[Reconnect] Going online\");\n                    this.sfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, \"Closing WS to reconnect after going online\");\n                    // we went online, release the previous waiters and reset the state\n                    this.networkAvailableTask?.resolve();\n                    this.networkAvailableTask = undefined;\n                    this.sfuStatsReporter?.start();\n                }\n            });\n            this.leaveCallHooks.add(unregisterGoAway);\n            this.leaveCallHooks.add(unregisterOnError);\n            this.leaveCallHooks.add(unregisterNetworkChanged);\n        };\n        /**\n         * Restores the published tracks after a reconnection.\n         * @internal\n         */ this.restorePublishedTracks = async ()=>{\n            // the tracks need to be restored in their original order of publishing\n            // otherwise, we might get `m-lines order mismatch` errors\n            for (const trackType of this.trackPublishOrder){\n                let mediaStream;\n                switch(trackType){\n                    case TrackType.AUDIO:\n                        mediaStream = this.microphone.state.mediaStream;\n                        break;\n                    case TrackType.VIDEO:\n                        mediaStream = this.camera.state.mediaStream;\n                        break;\n                    case TrackType.SCREEN_SHARE:\n                        mediaStream = this.screenShare.state.mediaStream;\n                        break;\n                    // screen share audio can't exist without a screen share, so we handle it there\n                    case TrackType.SCREEN_SHARE_AUDIO:\n                    case TrackType.UNSPECIFIED:\n                        break;\n                    default:\n                        ensureExhausted(trackType, \"Unknown track type\");\n                        break;\n                }\n                if (mediaStream) await this.publish(mediaStream, trackType);\n            }\n        };\n        /**\n         * Restores the subscribed tracks after a reconnection.\n         * @internal\n         */ this.restoreSubscribedTracks = ()=>{\n            const { remoteParticipants } = this.state;\n            if (remoteParticipants.length <= 0) return;\n            this.dynascaleManager.applyTrackSubscriptions(undefined);\n        };\n        /**\n         * Starts publishing the given video stream to the call.\n         * @deprecated use `call.publish()`.\n         */ this.publishVideoStream = async (videoStream)=>{\n            await this.publish(videoStream, TrackType.VIDEO);\n        };\n        /**\n         * Starts publishing the given audio stream to the call.\n         * @deprecated use `call.publish()`\n         */ this.publishAudioStream = async (audioStream)=>{\n            await this.publish(audioStream, TrackType.AUDIO);\n        };\n        /**\n         * Starts publishing the given screen-share stream to the call.\n         * @deprecated use `call.publish()`\n         */ this.publishScreenShareStream = async (screenShareStream)=>{\n            await this.publish(screenShareStream, TrackType.SCREEN_SHARE);\n        };\n        /**\n         * Publishes the given media stream.\n         *\n         * @param mediaStream the media stream to publish.\n         * @param trackType the type of the track to announce.\n         */ this.publish = async (mediaStream, trackType)=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.canPublish(trackType)) {\n                throw new Error(`No permission to publish ${TrackType[trackType]}`);\n            }\n            if (!this.publisher) throw new Error(\"Publisher is not initialized\");\n            const [track] = isAudioTrackType(trackType) ? mediaStream.getAudioTracks() : mediaStream.getVideoTracks();\n            if (!track) {\n                throw new Error(`There is no ${TrackType[trackType]} track in the stream`);\n            }\n            if (track.readyState === \"ended\") {\n                throw new Error(`Can't publish ended tracks.`);\n            }\n            pushToIfMissing(this.trackPublishOrder, trackType);\n            await this.publisher.publish(track, trackType);\n            const trackTypes = [\n                trackType\n            ];\n            if (trackType === TrackType.SCREEN_SHARE) {\n                const [audioTrack] = mediaStream.getAudioTracks();\n                if (audioTrack) {\n                    pushToIfMissing(this.trackPublishOrder, TrackType.SCREEN_SHARE_AUDIO);\n                    await this.publisher.publish(audioTrack, TrackType.SCREEN_SHARE_AUDIO);\n                    trackTypes.push(TrackType.SCREEN_SHARE_AUDIO);\n                }\n            }\n            await this.updateLocalStreamState(mediaStream, ...trackTypes);\n        };\n        /**\n         * Stops publishing the given track type to the call, if it is currently being published.\n         *\n         * @param trackTypes the track types to stop publishing.\n         */ this.stopPublish = async (...trackTypes)=>{\n            if (!this.sfuClient || !this.publisher) return;\n            this.publisher.stopTracks(...trackTypes);\n            await this.updateLocalStreamState(undefined, ...trackTypes);\n        };\n        /**\n         * Updates the call state with the new stream.\n         *\n         * @param mediaStream the new stream to update the call state with.\n         * If undefined, the stream will be removed from the call state.\n         * @param trackTypes the track types to update the call state with.\n         */ this.updateLocalStreamState = async (mediaStream, ...trackTypes)=>{\n            if (!this.sfuClient || !this.sfuClient.sessionId) return;\n            await this.notifyTrackMuteState(!mediaStream, ...trackTypes);\n            const { sessionId } = this.sfuClient;\n            for (const trackType of trackTypes){\n                const streamStateProp = trackTypeToParticipantStreamKey(trackType);\n                if (!streamStateProp) continue;\n                this.state.updateParticipant(sessionId, (p)=>({\n                        publishedTracks: mediaStream ? pushToIfMissing([\n                            ...p.publishedTracks\n                        ], trackType) : p.publishedTracks.filter((t)=>t !== trackType),\n                        [streamStateProp]: mediaStream\n                    }));\n            }\n        };\n        /**\n         * Updates the preferred publishing options\n         *\n         * @internal\n         * @param options the options to use.\n         */ this.updatePublishOptions = (options)=>{\n            this.logger(\"warn\", \"[call.updatePublishOptions]: You are manually overriding the publish options for this call. \" + \"This is not recommended, and it can cause call stability/compatibility issues. Use with caution.\");\n            if (this.state.callingState === CallingState.JOINED) {\n                this.logger(\"warn\", \"Updating publish options after joining the call does not have an effect\");\n            }\n            this.clientPublishOptions = {\n                ...this.clientPublishOptions,\n                ...options\n            };\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has started.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStarting = async ()=>{\n            return this.sfuClient?.startNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify start of noise cancellation\", err);\n            });\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has stopped.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStopped = async ()=>{\n            return this.sfuClient?.stopNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify stop of noise cancellation\", err);\n            });\n        };\n        /**\n         * Notifies the SFU about the mute state of the given track types.\n         * @internal\n         */ this.notifyTrackMuteState = async (muted, ...trackTypes)=>{\n            if (!this.sfuClient) return;\n            await this.sfuClient.updateMuteStates(trackTypes.map((trackType)=>({\n                    trackType,\n                    muted\n                })));\n        };\n        /**\n         * Will enhance the reported stats with additional participant-specific information (`callStatsReport$` state [store variable](./StreamVideoClient.md/#readonlystatestore)).\n         * This is usually helpful when detailed stats for a specific participant are needed.\n         *\n         * @param sessionId the sessionId to start reporting for.\n         */ this.startReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.startReportingStatsFor(sessionId);\n        };\n        /**\n         * Opposite of `startReportingStatsFor`.\n         * Will turn off stats reporting for a specific participant.\n         *\n         * @param sessionId the sessionId to stop reporting for.\n         */ this.stopReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.stopReportingStatsFor(sessionId);\n        };\n        /**\n         * Resets the last sent reaction for the user holding the given `sessionId`. This is a local action, it won't reset the reaction on the backend.\n         *\n         * @param sessionId the session id.\n         */ this.resetReaction = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                reaction: undefined\n            });\n        };\n        /**\n         * Sets the list of criteria to sort the participants by.\n         *\n         * @param criteria the list of criteria to sort the participants by.\n         */ this.setSortParticipantsBy = (criteria)=>{\n            return this.state.setSortParticipantsBy(criteria);\n        };\n        /**\n         * Sends a reaction to the other call participants.\n         *\n         * @param reaction the reaction to send.\n         */ this.sendReaction = async (reaction)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reaction`, reaction);\n        };\n        /**\n         * Blocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to block.\n         */ this.blockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/block`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Unblocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to unblock.\n         */ this.unblockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unblock`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Mutes the current user.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteSelf = (type)=>{\n            const myUserId = this.currentUserId;\n            if (myUserId) {\n                return this.muteUser(myUserId, type);\n            }\n        };\n        /**\n         * Mutes all the other participants.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteOthers = (type)=>{\n            const trackType = muteTypeToTrackType(type);\n            if (!trackType) return;\n            const userIdsToMute = [];\n            for (const participant of this.state.remoteParticipants){\n                if (participant.publishedTracks.includes(trackType)) {\n                    userIdsToMute.push(participant.userId);\n                }\n            }\n            if (userIdsToMute.length > 0) {\n                return this.muteUser(userIdsToMute, type);\n            }\n        };\n        /**\n         * Mutes the user with the given `userId`.\n         *\n         * @param userId the id of the user to mute.\n         * @param type the type of the mute operation.\n         */ this.muteUser = (userId, type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                user_ids: Array.isArray(userId) ? userId : [\n                    userId\n                ],\n                [type]: true\n            });\n        };\n        /**\n         * Will mute all users in the call.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteAllUsers = (type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                mute_all_users: true,\n                [type]: true\n            });\n        };\n        /**\n         * Starts recording the call\n         */ this.startRecording = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_recording`, request ? request : {});\n        };\n        /**\n         * Stops recording the call\n         */ this.stopRecording = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_recording`, {});\n        };\n        /**\n         * Starts the transcription of the call.\n         *\n         * @param request the request data.\n         */ this.startTranscription = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_transcription`, request);\n        };\n        /**\n         * Stops the transcription of the call.\n         */ this.stopTranscription = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`);\n        };\n        /**\n         * Starts the closed captions of the call.\n         */ this.startClosedCaptions = async (options)=>{\n            const trx = this.state.setCaptioning(true); // optimistic update\n            try {\n                return await this.streamClient.post(`${this.streamClientBasePath}/start_closed_captions`, options);\n            } catch (err) {\n                trx.rollback(); // revert the optimistic update\n                throw err;\n            }\n        };\n        /**\n         * Stops the closed captions of the call.\n         */ this.stopClosedCaptions = async (options)=>{\n            const trx = this.state.setCaptioning(false); // optimistic update\n            try {\n                return await this.streamClient.post(`${this.streamClientBasePath}/stop_closed_captions`, options);\n            } catch (err) {\n                trx.rollback(); // revert the optimistic update\n                throw err;\n            }\n        };\n        /**\n         * Updates the closed caption settings.\n         *\n         * @param config the closed caption settings to apply\n         */ this.updateClosedCaptionSettings = (config)=>{\n            this.state.updateClosedCaptionSettings(config);\n        };\n        /**\n         * Sends a `call.permission_request` event to all users connected to the call.\n         * The call settings object contains information about which permissions can be requested during a call\n         * (for example, a user might be allowed to request permission to publish audio, but not video).\n         */ this.requestPermissions = async (data)=>{\n            const { permissions } = data;\n            const canRequestPermissions = permissions.every((permission)=>this.permissionsContext.canRequest(permission));\n            if (!canRequestPermissions) {\n                throw new Error(`You are not allowed to request permissions: ${permissions.join(\", \")}`);\n            }\n            return this.streamClient.post(`${this.streamClientBasePath}/request_permission`, data);\n        };\n        /**\n         * Allows you to grant certain permissions to a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be granted are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to grant permissions to.\n         * @param permissions the permissions to grant.\n         */ this.grantPermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                grant_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to revoke certain permissions from a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be revoked are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to revoke permissions from.\n         * @param permissions the permissions to revoke.\n         */ this.revokePermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                revoke_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to grant or revoke a specific permission to a user in a call. The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * When revoking a permission, this endpoint will also mute the relevant track from the user. This is similar to muting a user with the difference that the user will not be able to unmute afterwards.\n         *\n         * Supported permissions that can be granted or revoked: `send-audio`, `send-video` and `screenshare`.\n         *\n         * `call.permissions_updated` event is sent to all members of the call.\n         *\n         */ this.updateUserPermissions = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/user_permissions`, data);\n        };\n        /**\n         * Starts the livestreaming of the call.\n         *\n         * @param data the request data.\n         * @param params the request params.\n         */ this.goLive = async (data = {}, params)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/go_live`, data, params);\n        };\n        /**\n         * Stops the livestreaming of the call.\n         */ this.stopLive = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_live`, {});\n        };\n        /**\n         * Starts the broadcasting of the call.\n         */ this.startHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`, {});\n        };\n        /**\n         * Stops the broadcasting of the call.\n         */ this.stopHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`, {});\n        };\n        /**\n         * Updates the call settings or custom data.\n         *\n         * @param updates the updates to apply to the call.\n         */ this.update = async (updates)=>{\n            const response = await this.streamClient.patch(`${this.streamClientBasePath}`, updates);\n            const { call, members, own_capabilities } = response;\n            this.state.updateFromCallResponse(call);\n            this.state.setMembers(members);\n            this.state.setOwnCapabilities(own_capabilities);\n            return response;\n        };\n        /**\n         * Ends the call. Once the call is ended, it cannot be re-joined.\n         */ this.endCall = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mark_ended`);\n        };\n        /**\n         * Pins the given session to the top of the participants list.\n         *\n         * @param sessionId the sessionId to pin.\n         */ this.pin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: {\n                    isLocalPin: true,\n                    pinnedAt: Date.now()\n                }\n            });\n        };\n        /**\n         * Unpins the given session from the top of the participants list.\n         *\n         * @param sessionId the sessionId to unpin.\n         */ this.unpin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: undefined\n            });\n        };\n        /**\n         * Pins the given session to the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.pinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/pin`, request);\n        };\n        /**\n         * Unpins the given session from the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.unpinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unpin`, request);\n        };\n        /**\n         * Query call members with filter query. The result won't be stored in call state.\n         * @param request\n         * @returns\n         */ this.queryMembers = (request)=>{\n            return this.streamClient.post(\"/call/members\", {\n                ...request || {},\n                id: this.id,\n                type: this.type\n            });\n        };\n        /**\n         * Will update the call members.\n         *\n         * @param data the request data.\n         */ this.updateCallMembers = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/members`, data);\n        };\n        /**\n         * Schedules an auto-drop timeout based on the call settings.\n         * Applicable only for ringing calls.\n         */ this.scheduleAutoDrop = ()=>{\n            this.cancelAutoDrop();\n            const settings = this.state.settings;\n            if (!settings) return;\n            // ignore if the call is not ringing\n            if (this.state.callingState !== CallingState.RINGING) return;\n            const timeoutInMs = this.isCreatedByMe ? settings.ring.auto_cancel_timeout_ms : settings.ring.incoming_call_timeout_ms;\n            // 0 means no auto-drop\n            if (timeoutInMs <= 0) return;\n            this.dropTimeout = setTimeout(()=>{\n                // the call might have stopped ringing by this point,\n                // e.g. it was already accepted and joined\n                if (this.state.callingState !== CallingState.RINGING) return;\n                this.leave({\n                    reject: true,\n                    reason: \"timeout\"\n                }).catch((err)=>{\n                    this.logger(\"error\", \"Failed to drop call\", err);\n                });\n            }, timeoutInMs);\n        };\n        /**\n         * Cancels a scheduled auto-drop timeout.\n         */ this.cancelAutoDrop = ()=>{\n            clearTimeout(this.dropTimeout);\n            this.dropTimeout = undefined;\n        };\n        /**\n         * Retrieves the list of recordings for the current call or call session.\n         *\n         * If `callSessionId` is provided, it will return the recordings for that call session.\n         * Otherwise, all recordings for the current call will be returned.\n         *\n         * @param callSessionId the call session id to retrieve recordings for.\n         */ this.queryRecordings = async (callSessionId)=>{\n            let endpoint = this.streamClientBasePath;\n            if (callSessionId) {\n                endpoint = `${endpoint}/${callSessionId}`;\n            }\n            return this.streamClient.get(`${endpoint}/recordings`);\n        };\n        /**\n         * Retrieves the list of transcriptions for the current call.\n         *\n         * @returns the list of transcriptions.\n         */ this.queryTranscriptions = async ()=>{\n            return this.streamClient.get(`${this.streamClientBasePath}/transcriptions`);\n        };\n        /**\n         * Retrieve call statistics for a particular call session (historical).\n         * Here `callSessionID` is mandatory.\n         *\n         * @param callSessionID the call session ID to retrieve statistics for.\n         * @returns The call stats.\n         */ this.getCallStats = async (callSessionID)=>{\n            const endpoint = `${this.streamClientBasePath}/stats/${callSessionID}`;\n            return this.streamClient.get(endpoint);\n        };\n        /**\n         * Submit user feedback for the call\n         *\n         * @param rating Rating between 1 and 5 denoting the experience of the user in the call\n         * @param reason The reason/description for the rating\n         * @param custom Custom data\n         * @returns\n         */ this.submitFeedback = async (rating, { reason, custom } = {})=>{\n            if (rating < 1 || rating > 5) {\n                throw new Error(\"Rating must be between 1 and 5\");\n            }\n            const callSessionId = this.state.session?.id;\n            if (!callSessionId) {\n                throw new Error(\"Feedback can be submitted only in the context of a call session\");\n            }\n            const { sdkName, sdkVersion, ...platform } = getSdkSignature(getClientDetails());\n            // user sessionId is not available once the call has been left\n            // until we relax the backend validation, we'll send N/A\n            const userSessionId = this.sfuClient?.sessionId ?? \"N/A\";\n            const endpoint = `${this.streamClientBasePath}/feedback/${callSessionId}`;\n            return this.streamClient.post(endpoint, {\n                rating,\n                reason,\n                user_session_id: userSessionId,\n                sdk: sdkName,\n                sdk_version: sdkVersion,\n                custom: {\n                    ...custom,\n                    \"x-stream-platform-data\": platform\n                }\n            });\n        };\n        /**\n         * Sends a custom event to all call participants.\n         *\n         * @param payload the payload to send.\n         */ this.sendCustomEvent = async (payload)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/event`, {\n                custom: payload\n            });\n        };\n        /**\n         * Applies the device configuration from the backend.\n         *\n         * @internal\n         */ this.applyDeviceConfig = async (settings, publish)=>{\n            await this.camera.apply(settings.video, publish).catch((err)=>{\n                this.logger(\"warn\", \"Camera init failed\", err);\n            });\n            await this.microphone.apply(settings.audio, publish).catch((err)=>{\n                this.logger(\"warn\", \"Mic init failed\", err);\n            });\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the video mode.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            return this.dynascaleManager.trackElementVisibility(element, sessionId, trackType);\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.dynascaleManager.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const unbind = this.dynascaleManager.bindVideoElement(videoElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType = \"audioTrack\")=>{\n            const unbind = this.dynascaleManager.bindAudioElement(audioElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <img> element to this call's thumbnail (if enabled in settings).\n         *\n         * @param imageElement the image element to bind to.\n         * @param opts options for the binding.\n         */ this.bindCallThumbnailElement = (imageElement, opts = {})=>{\n            const handleError = ()=>{\n                imageElement.src = opts.fallbackImageSource || \"https://getstream.io/random_svg/?name=x&id=x\";\n            };\n            const unsubscribe = createSubscription(this.state.thumbnails$, (thumbnails)=>{\n                if (!thumbnails) return;\n                imageElement.addEventListener(\"error\", handleError);\n                const thumbnailUrl = new URL(thumbnails.image_url);\n                thumbnailUrl.searchParams.set(\"w\", String(imageElement.clientWidth));\n                thumbnailUrl.searchParams.set(\"h\", String(imageElement.clientHeight));\n                imageElement.src = thumbnailUrl.toString();\n            });\n            return ()=>{\n                unsubscribe();\n                imageElement.removeEventListener(\"error\", handleError);\n            };\n        };\n        /**\n         * Specify preference for incoming video resolution. The preference will\n         * be matched as close as possible, but actual resolution will depend\n         * on the video source quality and client network conditions. Will enable\n         * incoming video, if previously disabled.\n         *\n         * @param resolution preferred resolution, or `undefined` to clear preference\n         * @param sessionIds optionally specify session ids of the participants this\n         * preference has effect on. Affects all participants by default.\n         */ this.setPreferredIncomingVideoResolution = (resolution, sessionIds)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(resolution ? {\n                enabled: true,\n                dimension: resolution\n            } : undefined, sessionIds);\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Enables or disables incoming video from all remote call participants,\n         * and removes any preference for preferred resolution.\n         */ this.setIncomingVideoEnabled = (enabled)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(enabled ? undefined : {\n                enabled: false\n            });\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Sets the maximum amount of time a user can remain waiting for a reconnect\n         * after a network disruption\n         * @param timeoutSeconds Timeout in seconds, or 0 to keep reconnecting indefinetely\n         */ this.setDisconnectionTimeout = (timeoutSeconds)=>{\n            this.disconnectionTimeoutSeconds = timeoutSeconds;\n        };\n        this.type = type;\n        this.id = id;\n        this.cid = `${type}:${id}`;\n        this.ringingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(ringing);\n        this.watching = watching;\n        this.streamClient = streamClient;\n        this.clientStore = clientStore;\n        this.streamClientBasePath = `/call/${this.type}/${this.id}`;\n        this.logger = getLogger([\n            \"Call\"\n        ]);\n        const callTypeConfig = CallTypes.get(type);\n        const participantSorter = sortParticipantsBy || callTypeConfig.options.sortParticipantsBy;\n        if (participantSorter) {\n            this.state.setSortParticipantsBy(participantSorter);\n        }\n        this.state.setMembers(members || []);\n        this.state.setOwnCapabilities(ownCapabilities || []);\n        this.state.setCallingState(ringing ? CallingState.RINGING : CallingState.IDLE);\n        this.camera = new CameraManager(this);\n        this.microphone = new MicrophoneManager(this);\n        this.speaker = new SpeakerManager(this);\n        this.screenShare = new ScreenShareManager(this);\n        this.dynascaleManager = new DynascaleManager(this.state, this.speaker);\n    }\n    /**\n     * A flag indicating whether the call is \"ringing\" type of call.\n     */ get ringing() {\n        return getCurrentValue(this.ringingSubject);\n    }\n    /**\n     * Retrieves the current user ID.\n     */ get currentUserId() {\n        return this.clientStore.connectedUser?.id;\n    }\n    /**\n     * A flag indicating whether the call was created by the current user.\n     */ get isCreatedByMe() {\n        return this.state.createdBy?.id === this.currentUserId;\n    }\n}\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ class StableWSConnection {\n    constructor(client){\n        this._log = (msg, extra = {}, level = \"info\")=>{\n            this.client.logger(level, \"connection:\" + msg, {\n                ...extra\n            });\n        };\n        this.setClient = (client)=>{\n            this.client = client;\n        };\n        /**\n         * Builds and returns the url for websocket.\n         * @private\n         * @returns url string\n         */ this._buildUrl = ()=>{\n            const params = new URLSearchParams();\n            params.set(\"api_key\", this.client.key);\n            params.set(\"stream-auth-type\", this.client.getAuthType());\n            params.set(\"X-Stream-Client\", this.client.getUserAgent());\n            return `${this.client.wsBaseURL}/connect?${params.toString()}`;\n        };\n        /**\n         * onlineStatusChanged - this function is called when the browser connects or disconnects from the internet.\n         *\n         * @param {Event} event Event with type online or offline\n         *\n         */ this.onlineStatusChanged = (event)=>{\n            if (event.type === \"offline\") {\n                // mark the connection as down\n                this._log(\"onlineStatusChanged() - Status changing to offline\");\n                // we know that the app is offline so dispatch the unhealthy connection event immediately\n                this._setHealth(false, true);\n            } else if (event.type === \"online\") {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`);\n                if (!this.isHealthy) {\n                    this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        };\n        this.onopen = (wsID)=>{\n            if (this.wsID !== wsID) return;\n            const user = this.client.user;\n            if (!user) {\n                this.client.logger(\"error\", `User not set, can't connect to WS`);\n                return;\n            }\n            const token = this.client._getToken();\n            if (!token) {\n                this.client.logger(\"error\", `Token not set, can't connect authenticate`);\n                return;\n            }\n            const authMessage = {\n                token,\n                user_details: {\n                    id: user.id,\n                    name: user.name,\n                    image: user.image,\n                    custom: user.custom\n                }\n            };\n            this.ws?.send(JSON.stringify(authMessage));\n            this._log(\"onopen() - onopen callback\", {\n                wsID\n            });\n        };\n        this.onmessage = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onmessage() - onmessage callback\", {\n                event,\n                wsID\n            });\n            const data = typeof event.data === \"string\" ? JSON.parse(event.data) : null;\n            // we wait till the first message before we consider the connection open.\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose.\n            if (!this.isResolved && data && data.type === \"connection.error\") {\n                this.isResolved = true;\n                if (data.error) {\n                    this.rejectPromise?.(this._errorFromWSEvent(data, false));\n                    return;\n                }\n            }\n            // trigger the event..\n            this.lastEvent = new Date();\n            if (data && (data.type === \"health.check\" || data.type === \"connection.ok\")) {\n                // the initial health-check should come from the client\n                this.scheduleNextPing();\n            }\n            if (data && data.type === \"connection.ok\") {\n                this.resolvePromise?.(data);\n                this._setHealth(true);\n            }\n            if (data && data.type === \"connection.error\" && data.error) {\n                const { code } = data.error;\n                this.isHealthy = false;\n                this.isConnecting = false;\n                this.consecutiveFailures += 1;\n                if (code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                    clearTimeout(this.connectionCheckTimeoutRef);\n                    this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                    this._reconnect({\n                        refreshToken: true\n                    });\n                }\n            }\n            if (data) {\n                data.received_at = new Date();\n                this.client.dispatchEvent(data);\n            }\n            this.scheduleConnectionCheck();\n        };\n        this.onclose = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onclose() - onclose callback - \" + event.code, {\n                event,\n                wsID\n            });\n            if (event.code === KnownCodes.WS_CLOSED_SUCCESS) {\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                const error = new Error(`WS connection reject with error ${event.reason}`);\n                // @ts-expect-error\n                error.reason = event.reason;\n                // @ts-expect-error\n                error.code = event.code;\n                // @ts-expect-error\n                error.wasClean = event.wasClean;\n                // @ts-expect-error\n                error.target = event.target;\n                this.rejectPromise?.(error);\n                this._log(`onclose() - WS connection reject with error ${event.reason}`, {\n                    event\n                });\n            } else {\n                this.consecutiveFailures += 1;\n                this.totalFailures += 1;\n                this._setHealth(false);\n                this.isConnecting = false;\n                this.rejectPromise?.(this._errorFromWSEvent(event));\n                this._log(`onclose() - WS connection closed. Calling reconnect ...`, {\n                    event\n                });\n                // reconnect if its an abnormal failure\n                this._reconnect();\n            }\n        };\n        this.onerror = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this.consecutiveFailures += 1;\n            this.totalFailures += 1;\n            this._setHealth(false);\n            this.isConnecting = false;\n            this.rejectPromise?.(new Error(`WebSocket error: ${event}`));\n            this._log(`onerror() - WS connection resulted into error`, {\n                event\n            });\n            this._reconnect();\n        };\n        /**\n         * _setHealth - Sets the connection to healthy or unhealthy.\n         * Broadcasts an event in case the connection status changed.\n         *\n         * @param {boolean} healthy boolean indicating if the connection is healthy or not\n         * @param {boolean} dispatchImmediately boolean indicating to dispatch event immediately even if the connection is unhealthy\n         */ this._setHealth = (healthy, dispatchImmediately = false)=>{\n            if (healthy === this.isHealthy) return;\n            this.isHealthy = healthy;\n            if (this.isHealthy || dispatchImmediately) {\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n                return;\n            }\n            // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(()=>{\n                if (this.isHealthy) return;\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n            }, 5000);\n        };\n        /**\n         * _errorFromWSEvent - Creates an error object for the WS event\n         */ this._errorFromWSEvent = (event, isWSFailure = true)=>{\n            let code;\n            let statusCode;\n            let message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                message = event.reason;\n                statusCode = 0;\n            } else {\n                const { error } = event;\n                code = error.code;\n                message = error.message;\n                statusCode = error.StatusCode;\n            }\n            const msg = `WS failed with code: ${code} and reason: ${message}`;\n            this._log(msg, {\n                event\n            }, \"warn\");\n            const error = new Error(msg);\n            error.code = code;\n            /**\n             * StatusCode does not exist on any event types but has been left\n             * as is to preserve JS functionality during the TS implementation\n             */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        };\n        /**\n         * _setupPromise - sets up the this.connectOpen promise\n         */ this._setupConnectionPromise = ()=>{\n            this.isResolved = false;\n            /** a promise that is resolved once ws.open is called */ this.connectionOpenSafe = makeSafePromise(new Promise((resolve, reject)=>{\n                this.resolvePromise = resolve;\n                this.rejectPromise = reject;\n            }));\n        };\n        /**\n         * Schedules a next health check ping for websocket.\n         */ this.scheduleNextPing = ()=>{\n            const timers = getTimers();\n            if (this.healthCheckTimeoutRef) {\n                timers.clearTimeout(this.healthCheckTimeoutRef);\n            }\n            // 30 seconds is the recommended interval (messenger uses this)\n            this.healthCheckTimeoutRef = timers.setTimeout(()=>{\n                // send the healthcheck..., server replies with a health check event\n                const data = [\n                    {\n                        type: \"health.check\",\n                        client_id: this.client.clientID\n                    }\n                ];\n                // try to send on the connection\n                try {\n                    this.ws?.send(JSON.stringify(data));\n                } catch (e) {\n                // error will already be detected elsewhere\n                }\n            }, this.pingInterval);\n        };\n        /**\n         * scheduleConnectionCheck - schedules a check for time difference between last received event and now.\n         * If the difference is more than 35 seconds, it means our health check logic has failed and websocket needs\n         * to be reconnected.\n         */ this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeoutRef);\n            this.connectionCheckTimeoutRef = setTimeout(()=>{\n                const now = new Date();\n                if (this.lastEvent && now.getTime() - this.lastEvent.getTime() > this.connectionCheckTimeout) {\n                    this._log(\"scheduleConnectionCheck - going to reconnect\");\n                    this._setHealth(false);\n                    this._reconnect();\n                }\n            }, this.connectionCheckTimeout);\n        };\n        this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    /**\n     * connect - Connect to the WS URL\n     * the default 15s timeout allows between 2~3 tries\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async connect(timeout = 15000) {\n        if (this.isConnecting) {\n            throw Error(`You've called connect twice, can only attempt 1 connection at the time`);\n        }\n        this.isDisconnected = false;\n        try {\n            const healthCheck = await this._connect();\n            this.consecutiveFailures = 0;\n            this._log(`connect() - Established ws connection with healthcheck: ${healthCheck}`);\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (// @ts-ignore\n            error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                this._reconnect({\n                    refreshToken: true\n                });\n            } else {\n                // @ts-ignore\n                if (!error.isWSFailure) {\n                    // API rejected the connection and we should not retry\n                    throw new Error(JSON.stringify({\n                        // @ts-ignore\n                        code: error.code,\n                        // @ts-ignore\n                        StatusCode: error.StatusCode,\n                        // @ts-ignore\n                        message: error.message,\n                        // @ts-ignore\n                        isWSFailure: error.isWSFailure\n                    }));\n                }\n            }\n        }\n        return await this._waitForHealthy(timeout);\n    }\n    /**\n     * _waitForHealthy polls the promise connection to see if its resolved until it times out\n     * the default 15s timeout allows between 2~3 tries\n     * @param timeout duration(ms)\n     */ async _waitForHealthy(timeout = 15000) {\n        return Promise.race([\n            (async ()=>{\n                const interval = 50; // ms\n                for(let i = 0; i <= timeout; i += interval){\n                    try {\n                        return await this.connectionOpen;\n                    } catch (error) {\n                        if (i === timeout) {\n                            throw new Error(JSON.stringify({\n                                code: error.code,\n                                StatusCode: error.StatusCode,\n                                message: error.message,\n                                isWSFailure: error.isWSFailure\n                            }));\n                        }\n                        await sleep(interval);\n                    }\n                }\n            })(),\n            (async ()=>{\n                await sleep(timeout);\n                this.isConnecting = false;\n                throw new Error(JSON.stringify({\n                    code: \"\",\n                    StatusCode: \"\",\n                    message: \"initial WS connection could not be established\",\n                    isWSFailure: true\n                }));\n            })()\n        ]);\n    }\n    /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ disconnect(timeout) {\n        this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`);\n        this.wsID += 1;\n        this.isConnecting = false;\n        this.isDisconnected = true;\n        // start by removing all the listeners\n        if (this.healthCheckTimeoutRef) {\n            getTimers().clearInterval(this.healthCheckTimeoutRef);\n        }\n        if (this.connectionCheckTimeoutRef) {\n            clearInterval(this.connectionCheckTimeoutRef);\n        }\n        removeConnectionEventListeners(this.onlineStatusChanged);\n        this.isHealthy = false;\n        let isClosedPromise;\n        // and finally close...\n        // Assigning to local here because we will remove it from this before the\n        // promise resolves.\n        const { ws } = this;\n        if (ws && ws.close && ws.readyState === ws.OPEN) {\n            isClosedPromise = new Promise((resolve)=>{\n                const onclose = (event)=>{\n                    this._log(`disconnect() - resolving isClosedPromise ${event ? \"with\" : \"without\"} close frame`, {\n                        event\n                    });\n                    resolve();\n                };\n                ws.onclose = onclose;\n                // In case we don't receive close frame websocket server in time,\n                // lets not wait for more than 1 second.\n                setTimeout(onclose, timeout != null ? timeout : 1000);\n            });\n            this._log(`disconnect() - Manually closed connection by calling client.disconnect()`);\n            ws.close(KnownCodes.WS_CLOSED_SUCCESS, \"Manually closed connection by calling client.disconnect()\");\n        } else {\n            this._log(`disconnect() - ws connection doesn't exist or it is already closed.`);\n            isClosedPromise = Promise.resolve();\n        }\n        delete this.ws;\n        return isClosedPromise;\n    }\n    /**\n     * _connect - Connect to the WS endpoint\n     *\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async _connect() {\n        if (this.isConnecting) return; // simply ignore _connect if it's currently trying to connect\n        this.isConnecting = true;\n        this.requestID = randomId();\n        let isTokenReady = false;\n        try {\n            this._log(`_connect() - waiting for token`);\n            await this.client.tokenManager.tokenReady();\n            isTokenReady = true;\n        } catch (e) {\n        // token provider has failed before, so try again\n        }\n        try {\n            if (!isTokenReady) {\n                this._log(`_connect() - tokenProvider failed before, so going to retry`);\n                await this.client.tokenManager.loadToken();\n            }\n            if (!this.client.isConnectionIsPromisePending) {\n                this.client._setupConnectionIdPromise();\n            }\n            this._setupConnectionPromise();\n            const wsURL = this._buildUrl();\n            this._log(`_connect() - Connecting to ${wsURL}`, {\n                wsURL,\n                requestID: this.requestID\n            });\n            const WS = this.client.options.WebSocketImpl ?? WebSocket;\n            this.ws = new WS(wsURL);\n            this.ws.onopen = this.onopen.bind(this, this.wsID);\n            this.ws.onclose = this.onclose.bind(this, this.wsID);\n            this.ws.onerror = this.onerror.bind(this, this.wsID);\n            this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n            const response = await this.connectionOpen;\n            this.isConnecting = false;\n            if (response) {\n                this.connectionID = response.connection_id;\n                this.client.resolveConnectionId?.(this.connectionID);\n                return response;\n            }\n        } catch (err) {\n            await this.client._setupConnectionIdPromise();\n            this.isConnecting = false;\n            // @ts-ignore\n            this._log(`_connect() - Error - `, err);\n            this.client.rejectConnectionId?.(err);\n            throw err;\n        }\n    }\n    /**\n     * _reconnect - Retry the connection to WS endpoint\n     *\n     * @param {{ interval?: number; refreshToken?: boolean }} options Following options are available\n     *\n     * - `interval`\t{int}\t\t\tnumber of ms that function should wait before reconnecting\n     * - `refreshToken` {boolean}\treload/refresh user token be refreshed before attempting reconnection.\n     */ async _reconnect(options = {}) {\n        this._log(\"_reconnect() - Initiating the reconnect\");\n        // only allow 1 connection at the time\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (1) since already connecting or healthy\");\n            return;\n        }\n        // reconnect in case of on error or on close\n        // also reconnect if the health check cycle fails\n        let interval = options.interval;\n        if (!interval) {\n            interval = retryInterval(this.consecutiveFailures);\n        }\n        // reconnect, or try again after a little while...\n        await sleep(interval);\n        // Check once again if by some other call to _reconnect is active or connection is\n        // already restored, then no need to proceed.\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (2) since already connecting or healthy\");\n            return;\n        }\n        if (this.isDisconnected) {\n            this._log(\"_reconnect() - Abort (3) since disconnect() is called\");\n            return;\n        }\n        this._log(\"_reconnect() - Destroying current WS connection\");\n        // cleanup the old connection\n        this._destroyCurrentWSConnection();\n        if (options.refreshToken) {\n            await this.client.tokenManager.loadToken();\n        }\n        try {\n            await this._connect();\n            this._log(\"_reconnect() - Waiting for recoverCallBack\");\n            // await this.client.recoverState();\n            this._log(\"_reconnect() - Finished recoverCallBack\");\n            this.consecutiveFailures = 0;\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                return this._reconnect({\n                    refreshToken: true\n                });\n            }\n            // reconnect on WS failures, don't reconnect if there is a code bug\n            if (error.isWSFailure) {\n                this._log(\"_reconnect() - WS failure, so going to try to reconnect\");\n                this._reconnect();\n            }\n        }\n        this._log(\"_reconnect() - == END ==\");\n    }\n    /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ _destroyCurrentWSConnection() {\n        // increment the ID, meaning we will ignore all messages from the old\n        // ws connection from now on.\n        this.wsID += 1;\n        try {\n            this?.ws?.close();\n        } catch (e) {\n        // we don't care\n        }\n    }\n    get connectionOpen() {\n        return this.connectionOpenSafe?.();\n    }\n}\nfunction getUserFromToken(token) {\n    const fragments = token.split(\".\");\n    if (fragments.length !== 3) {\n        return \"\";\n    }\n    const b64Payload = fragments[1];\n    const payload = decodeBase64(b64Payload);\n    const data = JSON.parse(payload);\n    return data.user_id;\n}\n// base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nconst decodeBase64 = (s)=>{\n    const e = {}, w = String.fromCharCode, L = s.length;\n    let i, b = 0, c, x, l = 0, a, r = \"\";\n    const A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            ((a = b >>> (l -= 8) & 0xff) || x < L - 2) && (r += w(a));\n        }\n    }\n    return r;\n};\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ class TokenManager {\n    /**\n     * Constructor\n     */ constructor(secret){\n        /**\n         * Set the static string token or token provider.\n         * Token provider should return a token string or a promise which resolves to string token.\n         *\n         * @param {TokenOrProvider} tokenOrProvider - the token or token provider.\n         * @param {UserResponse} user - the user object.\n         * @param {boolean} isAnonymous - whether the user is anonymous or not.\n         */ this.setTokenOrProvider = async (tokenOrProvider, user, isAnonymous)=>{\n            this.validateToken(tokenOrProvider, user, isAnonymous);\n            this.user = user;\n            if (isFunction(tokenOrProvider)) {\n                this.tokenProvider = tokenOrProvider;\n                this.type = \"provider\";\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                this.token = tokenOrProvider;\n                this.type = \"static\";\n            }\n            await this.loadToken();\n        };\n        /**\n         * Resets the token manager.\n         * Useful for client disconnection or switching user.\n         */ this.reset = ()=>{\n            this.token = undefined;\n            this.tokenProvider = undefined;\n            this.type = \"static\";\n            this.user = undefined;\n            this.loadTokenPromise = null;\n        };\n        // Validates the user token.\n        this.validateToken = (tokenOrProvider, user, isAnonymous)=>{\n            // allow empty token for anon user\n            if (user && isAnonymous && !tokenOrProvider) return;\n            // Don't allow empty token for non-server side client.\n            if (!this.secret && !tokenOrProvider) {\n                throw new Error(\"UserWithId token can not be empty\");\n            }\n            if (tokenOrProvider && typeof tokenOrProvider !== \"string\" && !isFunction(tokenOrProvider)) {\n                throw new Error(\"user token should either be a string or a function\");\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                // Allow empty token for anonymous users\n                if (isAnonymous && tokenOrProvider === \"\") return;\n                const tokenUserId = getUserFromToken(tokenOrProvider);\n                if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === \"\" || !isAnonymous && tokenUserId !== user.id)) {\n                    throw new Error(\"userToken does not have a user_id or is not matching with user.id\");\n                }\n            }\n        };\n        // Resolves when token is ready. This function is simply to check if loadToken is in progress, in which\n        // case a function should wait.\n        this.tokenReady = ()=>this.loadTokenPromise;\n        // Fetches a token from tokenProvider function and sets in tokenManager.\n        // In case of static token, it will simply resolve to static token.\n        this.loadToken = ()=>{\n            this.loadTokenPromise = new Promise(async (resolve, reject)=>{\n                if (this.type === \"static\") {\n                    return resolve(this.token);\n                }\n                if (this.tokenProvider && typeof this.tokenProvider !== \"string\") {\n                    try {\n                        this.token = await this.tokenProvider();\n                    } catch (e) {\n                        return reject(new Error(`Call to tokenProvider failed with message: ${e}`));\n                    }\n                    resolve(this.token);\n                }\n            });\n            return this.loadTokenPromise;\n        };\n        // Returns a current token\n        this.getToken = ()=>{\n            if (this.token) {\n                return this.token;\n            }\n            if (this.user && !this.token) {\n                return this.token;\n            }\n            throw new Error(`User token is not set. Either client.connectUser wasn't called or client.disconnect was called`);\n        };\n        this.isStatic = ()=>this.type === \"static\";\n        this.loadTokenPromise = null;\n        this.secret = secret;\n        this.type = \"static\";\n    }\n}\nconst getLocationHint = async (hintUrl = `https://hint.stream-io-video.com/`, timeout = 2000, maxAttempts = 3)=>{\n    const logger = getLogger([\n        \"location-hint\"\n    ]);\n    let attempt = 0;\n    let locationHint = \"ERR\";\n    do {\n        const abortController = new AbortController();\n        const timeoutId = setTimeout(()=>abortController.abort(), timeout);\n        try {\n            const response = await fetch(hintUrl, {\n                method: \"HEAD\",\n                signal: abortController.signal\n            });\n            const awsPop = response.headers.get(\"x-amz-cf-pop\") || \"ERR\";\n            logger(\"debug\", `Location header: ${awsPop}`);\n            locationHint = awsPop.substring(0, 3); // AMS1-P2 -> AMS\n        } catch (e) {\n            logger(\"warn\", `Failed to get location hint from ${hintUrl}`, e);\n            locationHint = \"ERR\";\n        } finally{\n            clearTimeout(timeoutId);\n        }\n    }while (locationHint === \"ERR\" && ++attempt < maxAttempts);\n    return locationHint;\n};\nclass StreamClient {\n    /**\n     * Initialize a client.\n     *\n     * @param {string} key - the api key\n     * @param {StreamClientOptions} [options] - additional options, here you can pass custom options to axios instance\n     * @param {string} [options.secret] - the api secret\n     * @param {boolean} [options.browser] - enforce the client to be in browser mode\n     * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n     * @param {Logger} [options.Logger] - custom logger\n     * @param {number} [options.timeout] - default to 3000\n     * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n     */ constructor(key, options){\n        this.listeners = {};\n        this.getAuthType = ()=>{\n            return this.anonymous ? \"anonymous\" : \"jwt\";\n        };\n        this.setBaseURL = (baseURL)=>{\n            this.baseURL = baseURL;\n            this.wsBaseURL = this.baseURL.replace(\"http\", \"ws\").replace(\":3030\", \":8800\");\n        };\n        this.getLocationHint = async (hintUrl, timeout)=>{\n            const hint = await this.locationHint;\n            if (!hint || hint === \"ERR\") {\n                this.locationHint = getLocationHint(hintUrl ?? this.options.locationHintUrl, timeout ?? this.options.locationHintTimeout);\n                return this.locationHint;\n            }\n            return hint;\n        };\n        this._getConnectionID = ()=>this.wsConnection?.connectionID;\n        this._hasConnectionID = ()=>Boolean(this._getConnectionID());\n        /**\n         * connectUser - Set the current user and open a WebSocket connection\n         *\n         * @param user Data about this user. IE {name: \"john\"}\n         * @param {TokenOrProvider} userTokenOrProvider Token or provider\n         *\n         * @return {ConnectAPIResponse} Returns a promise that resolves when the connection is setup\n         */ this.connectUser = async (user, userTokenOrProvider)=>{\n            if (!user.id) {\n                throw new Error('The \"id\" field on the user is missing');\n            }\n            /**\n             * Calling connectUser multiple times is potentially the result of a  bad integration, however,\n             * If the user id remains the same we don't throw error\n             */ if (this.userID === user.id && this.setUserPromise) {\n                this.logger(\"warn\", \"Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.\");\n                return this.setUserPromise;\n            }\n            if (this.userID) {\n                throw new Error(\"Use client.disconnect() before trying to connect as a different user. connectUser was called twice.\");\n            }\n            if ((this._isUsingServerAuth() || this.node) && !this.options.allowServerSideConnect) {\n                this.logger(\"warn\", \"Please do not use connectUser server side. Use our @stream-io/node-sdk instead: https://getstream.io/video/docs/api/\");\n            }\n            // we generate the client id client side\n            this.userID = user.id;\n            this.anonymous = false;\n            const setTokenPromise = this._setToken(user, userTokenOrProvider, this.anonymous);\n            this._setUser(user);\n            const wsPromise = this.openConnection();\n            this.setUserPromise = Promise.all([\n                setTokenPromise,\n                wsPromise\n            ]).then((result)=>result[1]);\n            try {\n                addConnectionEventListeners(this.updateNetworkConnectionStatus);\n                return await this.setUserPromise;\n            } catch (err) {\n                if (this.persistUserOnConnectionFailure) {\n                    // cleanup client to allow the user to retry connectUser again\n                    this.closeConnection();\n                } else {\n                    this.disconnectUser();\n                }\n                throw err;\n            }\n        };\n        this._setToken = (user, userTokenOrProvider, isAnonymous)=>this.tokenManager.setTokenOrProvider(userTokenOrProvider, user, isAnonymous);\n        this._setUser = (user)=>{\n            /**\n             * This one is used by the frontend. This is a copy of the current user object stored on backend.\n             * It contains reserved properties and own user properties which are not present in `this._user`.\n             */ this.user = user;\n            this.userID = user.id;\n            // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n            this._user = {\n                ...user\n            };\n        };\n        /**\n         * Disconnects the websocket connection, without removing the user set on client.\n         * client.closeConnection will not trigger default auto-retry mechanism for reconnection. You need\n         * to call client.openConnection to reconnect to websocket.\n         *\n         * This is mainly useful on mobile side. You can only receive push notifications\n         * if you don't have active websocket connection.\n         * So when your app goes to background, you can call `client.closeConnection`.\n         * And when app comes back to foreground, call `client.openConnection`.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming succesful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.closeConnection = async (timeout)=>{\n            await this.wsConnection?.disconnect(timeout);\n        };\n        /**\n         * Creates a new WebSocket connection with the current user. Returns empty promise, if there is an active connection\n         */ this.openConnection = async ()=>{\n            if (!this.userID) {\n                throw Error(\"UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead\");\n            }\n            const wsPromise = this.wsPromiseSafe?.();\n            if (this.wsConnection?.isConnecting && wsPromise) {\n                this.logger(\"info\", \"client:openConnection() - connection already in progress\");\n                return await wsPromise;\n            }\n            if (this.wsConnection?.isHealthy && this._hasConnectionID()) {\n                this.logger(\"info\", \"client:openConnection() - openConnection called twice, healthy connection already exists\");\n                return;\n            }\n            await this._setupConnectionIdPromise();\n            this.clientID = `${this.userID}--${randomId()}`;\n            const newWsPromise = this.connect();\n            this.wsPromiseSafe = makeSafePromise(newWsPromise);\n            return await newWsPromise;\n        };\n        /**\n         * Disconnects the websocket and removes the user from client.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            this.logger(\"info\", \"client:disconnect() - Disconnecting the client\");\n            // remove the user specific fields\n            delete this.user;\n            delete this._user;\n            delete this.userID;\n            this.anonymous = false;\n            await this.closeConnection(timeout);\n            removeConnectionEventListeners(this.updateNetworkConnectionStatus);\n            this.tokenManager.reset();\n            this.connectionIdPromiseSafe = undefined;\n            this.rejectConnectionId = undefined;\n            this.resolveConnectionId = undefined;\n        };\n        this.connectGuestUser = async (user)=>{\n            this.guestUserCreatePromise = this.doAxiosRequest(\"post\", \"/guest\", {\n                user\n            }, {\n                publicEndpoint: true\n            });\n            const response = await this.guestUserCreatePromise;\n            this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise = undefined);\n            return this.connectUser(response.user, response.access_token);\n        };\n        /**\n         * connectAnonymousUser - Set an anonymous user and open a WebSocket connection\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            addConnectionEventListeners(this.updateNetworkConnectionStatus);\n            await this._setupConnectionIdPromise();\n            this.anonymous = true;\n            await this._setToken(user, tokenOrProvider, this.anonymous);\n            this._setUser(user);\n            // some endpoints require a connection_id to be resolved.\n            // as anonymous users aren't allowed to open WS connections, we just\n            // resolve the connection_id here.\n            this.resolveConnectionId?.();\n        };\n        /**\n         * on - Listen to events on all channels and users your watching\n         *\n         * client.on('message.new', event => {console.log(\"my new message\", event, channel.state.messages)})\n         *\n         * @param eventName The event type to listen for (optional)\n         * @param callback The callback to call\n         *\n         * @return  Returns a function which, when called, unsubscribes the event handler.\n         */ this.on = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Adding listener for ${eventName} event`);\n            this.listeners[eventName]?.push(callback);\n            return ()=>{\n                this.off(eventName, callback);\n            };\n        };\n        /**\n         * off - Remove the event handler\n         */ this.off = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Removing listener for ${eventName} event`);\n            this.listeners[eventName] = this.listeners[eventName]?.filter((value)=>value !== callback);\n        };\n        /**\n         * sets up the this.connectionIdPromise\n         */ this._setupConnectionIdPromise = ()=>{\n            /** a promise that is resolved once connection id is set */ this.connectionIdPromiseSafe = makeSafePromise(new Promise((resolve, reject)=>{\n                this.resolveConnectionId = resolve;\n                this.rejectConnectionId = reject;\n            }));\n        };\n        this._logApiRequest = (type, url, data, config)=>{\n            this.logger(\"trace\", `client: ${type} - Request - ${url}`, {\n                payload: data,\n                config\n            });\n        };\n        this._logApiResponse = (type, url, response)=>{\n            this.logger(\"trace\", `client:${type} - Response - url: ${url} > status ${response.status}`, {\n                response\n            });\n        };\n        this._logApiError = (type, url, error)=>{\n            this.logger(\"error\", `client:${type} - Error - url: ${url}`, {\n                url,\n                error\n            });\n        };\n        this.doAxiosRequest = async (type, url, data, options = {})=>{\n            if (!options.publicEndpoint) {\n                await Promise.all([\n                    this.tokenManager.tokenReady(),\n                    this.guestUserCreatePromise\n                ]);\n                // we need to wait for presence of connection id before making requests\n                try {\n                    await this.connectionIdPromise;\n                } catch (e) {\n                    // in case connection id was rejected\n                    // reconnection maybe in progress\n                    // we can wait for healthy connection to resolve, which rejects when 15s timeout is reached\n                    await this.wsConnection?._waitForHealthy();\n                    await this.connectionIdPromise;\n                }\n            }\n            const requestConfig = this._enrichAxiosOptions(options);\n            try {\n                let response;\n                this._logApiRequest(type, url, data, requestConfig);\n                switch(type){\n                    case \"get\":\n                        response = await this.axiosInstance.get(url, requestConfig);\n                        break;\n                    case \"delete\":\n                        response = await this.axiosInstance.delete(url, requestConfig);\n                        break;\n                    case \"post\":\n                        response = await this.axiosInstance.post(url, data, requestConfig);\n                        break;\n                    case \"put\":\n                        response = await this.axiosInstance.put(url, data, requestConfig);\n                        break;\n                    case \"patch\":\n                        response = await this.axiosInstance.patch(url, data, requestConfig);\n                        break;\n                    case \"options\":\n                        response = await this.axiosInstance.options(url, requestConfig);\n                        break;\n                    default:\n                        throw new Error(\"Invalid request type\");\n                }\n                this._logApiResponse(type, url, response);\n                this.consecutiveFailures = 0;\n                return this.handleResponse(response);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            } catch (e /**TODO: generalize error types  */ ) {\n                e.client_request_id = requestConfig.headers?.[\"x-client-request-id\"];\n                this.consecutiveFailures += 1;\n                if (e.response) {\n                    this._logApiError(type, url, e.response);\n                    /** connection_fallback depends on this token expiration logic */ if (e.response.data.code === KnownCodes.TOKEN_EXPIRED && !this.tokenManager.isStatic()) {\n                        if (this.consecutiveFailures > 1) {\n                            await sleep(retryInterval(this.consecutiveFailures));\n                        }\n                        await this.tokenManager.loadToken();\n                        return await this.doAxiosRequest(type, url, data, options);\n                    }\n                    return this.handleResponse(e.response);\n                } else {\n                    this._logApiError(type, url, e);\n                    // eslint-disable-next-line no-throw-literal\n                    throw e;\n                }\n            }\n        };\n        this.get = (url, params)=>{\n            return this.doAxiosRequest(\"get\", url, null, {\n                params\n            });\n        };\n        this.put = (url, data, params)=>{\n            return this.doAxiosRequest(\"put\", url, data, {\n                params\n            });\n        };\n        this.post = (url, data, params)=>{\n            return this.doAxiosRequest(\"post\", url, data, {\n                params\n            });\n        };\n        this.patch = (url, data, params)=>{\n            return this.doAxiosRequest(\"patch\", url, data, {\n                params\n            });\n        };\n        this.delete = (url, params)=>{\n            return this.doAxiosRequest(\"delete\", url, null, {\n                params\n            });\n        };\n        this.errorFromResponse = (response)=>{\n            const { data, status } = response;\n            const err = new ErrorFromResponse();\n            err.message = `Stream error code ${data.code}: ${data.message}`;\n            err.code = data.code;\n            err.unrecoverable = data.unrecoverable;\n            err.response = response;\n            err.status = status;\n            return err;\n        };\n        this.handleResponse = (response)=>{\n            const data = response.data;\n            if (isErrorResponse(response)) {\n                throw this.errorFromResponse(response);\n            }\n            return data;\n        };\n        this.dispatchEvent = (event)=>{\n            this.logger(\"debug\", `Dispatching event: ${event.type}`, event);\n            if (!this.listeners) return;\n            // call generic listeners\n            for (const listener of this.listeners.all || []){\n                listener(event);\n            }\n            // call type specific listeners\n            for (const listener of this.listeners[event.type] || []){\n                listener(event);\n            }\n        };\n        /**\n         * @private\n         */ this.connect = async ()=>{\n            if (!this.userID || !this._user) {\n                throw Error(\"Call connectUser or connectAnonymousUser before starting the connection\");\n            }\n            if (!this.wsBaseURL) throw Error(\"Websocket base url not set\");\n            if (!this.clientID) throw Error(\"clientID is not set\");\n            // The StableWSConnection handles all the reconnection logic.\n            this.wsConnection = new StableWSConnection(this);\n            this.logger(\"info\", \"StreamClient.connect: this.wsConnection.connect()\");\n            return await this.wsConnection.connect(this.defaultWSTimeout);\n        };\n        this.getUserAgent = ()=>{\n            const version = \"1.15.0\";\n            return this.userAgent || `stream-video-javascript-client-${this.node ? \"node\" : \"browser\"}-${version}`;\n        };\n        this.setUserAgent = (userAgent)=>{\n            this.userAgent = userAgent;\n        };\n        /**\n         * _isUsingServerAuth - Returns true if we're using server side auth\n         */ this._isUsingServerAuth = ()=>!!this.secret;\n        this._enrichAxiosOptions = (options = {\n            params: {},\n            headers: {},\n            config: {}\n        })=>{\n            const token = options.publicEndpoint && !this.user ? undefined : this._getToken();\n            const authorization = token ? {\n                Authorization: token\n            } : undefined;\n            if (!options.headers?.[\"x-client-request-id\"]) {\n                options.headers = {\n                    ...options.headers,\n                    \"x-client-request-id\": randomId()\n                };\n            }\n            return {\n                params: {\n                    user_id: this.userID,\n                    connection_id: this._getConnectionID(),\n                    api_key: this.key,\n                    ...options.params\n                },\n                headers: {\n                    ...authorization,\n                    \"stream-auth-type\": options.publicEndpoint && !this.user ? \"anonymous\" : this.getAuthType(),\n                    \"X-Stream-Client\": this.getUserAgent(),\n                    ...options.headers\n                },\n                ...options.config,\n                ...this.options.axiosRequestConfig\n            };\n        };\n        this._getToken = ()=>{\n            if (!this.tokenManager) return null;\n            return this.tokenManager.getToken();\n        };\n        this.updateNetworkConnectionStatus = (event)=>{\n            if (event.type === \"offline\") {\n                this.logger(\"debug\", \"device went offline\");\n                this.dispatchEvent({\n                    type: \"network.changed\",\n                    online: false\n                });\n            } else if (event.type === \"online\") {\n                this.logger(\"debug\", \"device went online\");\n                this.dispatchEvent({\n                    type: \"network.changed\",\n                    online: true\n                });\n            }\n        };\n        // set the key\n        this.key = key;\n        // set the secret\n        this.secret = options?.secret;\n        // set the options... and figure out defaults...\n        const inputOptions = options ? options : {\n            browser: \"undefined\" !== \"undefined\"\n        };\n        this.browser = inputOptions.browser || \"undefined\" !== \"undefined\";\n        this.node = !this.browser;\n        if (this.browser) {\n            this.locationHint = getLocationHint(options?.locationHintUrl, options?.locationHintTimeout, options?.locationHintMaxAttempts);\n        }\n        this.options = {\n            timeout: 5000,\n            withCredentials: false,\n            ...inputOptions\n        };\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_4___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.setBaseURL(this.options.baseURL || \"https://video.stream-io-api.com/video\");\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_30__[\"default\"].create({\n            ...this.options,\n            baseURL: this.baseURL\n        });\n        // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromiseSafe = null;\n        this.setUserPromise = null;\n        // mapping between channel groups and configs\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = this.options?.persistUserOnConnectionFailure;\n        // If it is a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.defaultWSTimeout = 15000;\n        this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : ()=>null;\n    }\n    get connectionIdPromise() {\n        return this.connectionIdPromiseSafe?.();\n    }\n    get isConnectionIsPromisePending() {\n        return this.connectionIdPromiseSafe?.checkPending() ?? false;\n    }\n    get wsPromise() {\n        return this.wsPromiseSafe?.();\n    }\n}\n/**\n * A `StreamVideoClient` instance lets you communicate with our API, and authenticate users.\n */ class StreamVideoClient {\n    constructor(apiKeyOrArgs, opts){\n        this.logLevel = \"warn\";\n        this.eventHandlersToUnregister = [];\n        this.connectionConcurrencyTag = Symbol(\"connectionConcurrencyTag\");\n        /**\n         * Connects the given user to the client.\n         * Only one user can connect at a time, if you want to change users, call `disconnectUser` before connecting a new user.\n         * If the connection is successful, the connected user [state variable](#readonlystatestore) will be updated accordingly.\n         *\n         * @param user the user to connect.\n         * @param token a token or a function that returns a token.\n         */ this.connectUser = async (user, token)=>{\n            if (user.type === \"anonymous\") {\n                user.id = \"!anon\";\n                return this.connectAnonymousUser(user, token);\n            }\n            let connectUser = ()=>{\n                return this.streamClient.connectUser(user, token);\n            };\n            if (user.type === \"guest\") {\n                connectUser = async ()=>{\n                    return this.streamClient.connectGuestUser(user);\n                };\n            }\n            const connectUserResponse = await withoutConcurrency(this.connectionConcurrencyTag, ()=>connectUser());\n            // connectUserResponse will be void if connectUser called twice for the same user\n            if (connectUserResponse?.me) {\n                this.writeableStateStore.setConnectedUser(connectUserResponse.me);\n            }\n            this.eventHandlersToUnregister.push(this.on(\"connection.changed\", (event)=>{\n                if (event.online) {\n                    const callsToReWatch = this.writeableStateStore.calls.filter((call)=>call.watching).map((call)=>call.cid);\n                    this.logger(\"info\", `Rewatching calls after connection changed ${callsToReWatch.join(\", \")}`);\n                    if (callsToReWatch.length > 0) {\n                        this.queryCalls({\n                            watch: true,\n                            filter_conditions: {\n                                cid: {\n                                    $in: callsToReWatch\n                                }\n                            },\n                            sort: [\n                                {\n                                    field: \"cid\",\n                                    direction: 1\n                                }\n                            ]\n                        }).catch((err)=>{\n                            this.logger(\"error\", \"Failed to re-watch calls\", err);\n                        });\n                    }\n                }\n            }));\n            this.eventHandlersToUnregister.push(this.on(\"call.created\", (event)=>{\n                const { call, members } = event;\n                if (user.id === call.created_by.id) {\n                    this.logger(\"warn\", \"Received `call.created` sent by the current user\");\n                    return;\n                }\n                this.logger(\"info\", `New call created and registered: ${call.cid}`);\n                const newCall = new Call({\n                    streamClient: this.streamClient,\n                    type: call.type,\n                    id: call.id,\n                    members,\n                    clientStore: this.writeableStateStore\n                });\n                newCall.state.updateFromCallResponse(call);\n                this.writeableStateStore.registerCall(newCall);\n            }));\n            this.eventHandlersToUnregister.push(this.on(\"call.ring\", async (event)=>{\n                const { call, members } = event;\n                if (user.id === call.created_by.id) {\n                    this.logger(\"debug\", \"Received `call.ring` sent by the current user so ignoring the event\");\n                    return;\n                }\n                // if `call.created` was received before `call.ring`.\n                // the client already has the call instance and we just need to update the state\n                const theCall = this.writeableStateStore.findCall(call.type, call.id);\n                if (theCall) {\n                    await theCall.updateFromRingingEvent(event);\n                } else {\n                    // if client doesn't have the call instance, create the instance and fetch the latest state\n                    // Note: related - we also have onRingingCall method to handle this case from push notifications\n                    const newCallInstance = new Call({\n                        streamClient: this.streamClient,\n                        type: call.type,\n                        id: call.id,\n                        members,\n                        clientStore: this.writeableStateStore,\n                        ringing: true\n                    });\n                    await newCallInstance.get();\n                }\n            }));\n            return connectUserResponse;\n        };\n        /**\n         * Disconnects the currently connected user from the client.\n         *\n         * If the connection is successfully disconnected, the connected user [state variable](#readonlystatestore) will be updated accordingly\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            if (!this.streamClient.user) {\n                return;\n            }\n            const userId = this.streamClient.user?.id;\n            const apiKey = this.streamClient.key;\n            const disconnectUser = ()=>this.streamClient.disconnectUser(timeout);\n            await withoutConcurrency(this.connectionConcurrencyTag, ()=>disconnectUser());\n            if (userId) {\n                StreamVideoClient._instanceMap.delete(apiKey + userId);\n            }\n            this.eventHandlersToUnregister.forEach((unregister)=>unregister());\n            this.eventHandlersToUnregister = [];\n            this.writeableStateStore.setConnectedUser(undefined);\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API.\n         * To remove a subscription, call the `off` method or, execute the returned unsubscribe function.\n         * Please note that subscribing to WebSocket events is an advanced use-case, for most use-cases it should be enough to watch for changes in the reactive [state store](#readonlystatestore).\n         *\n         * @param eventName the event name or 'all'.\n         * @param callback the callback which will be called when the event is emitted.\n         * @returns an unsubscribe function.\n         */ this.on = (eventName, callback)=>{\n            return this.streamClient.on(eventName, callback);\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param callback the callback which was passed to the `on` method.\n         */ this.off = (eventName, callback)=>{\n            return this.streamClient.off(eventName, callback);\n        };\n        /**\n         * Creates a new call.\n         *\n         * @param type the type of the call.\n         * @param id the id of the call.\n         */ this.call = (type, id)=>{\n            return new Call({\n                streamClient: this.streamClient,\n                id: id,\n                type: type,\n                clientStore: this.writeableStateStore\n            });\n        };\n        /**\n         * Creates a new guest user with the given data.\n         *\n         * @param data the data for the guest user.\n         */ this.createGuestUser = async (data)=>{\n            return this.streamClient.doAxiosRequest(\"post\", \"/guest\", data, {\n                publicEndpoint: true\n            });\n        };\n        /**\n         * Will query the API for calls matching the given filters.\n         *\n         * @param data the query data.\n         */ this.queryCalls = async (data = {})=>{\n            const response = await this.streamClient.post(\"/calls\", data);\n            const calls = [];\n            for (const c of response.calls){\n                const call = new Call({\n                    streamClient: this.streamClient,\n                    id: c.call.id,\n                    type: c.call.type,\n                    members: c.members,\n                    ownCapabilities: c.own_capabilities,\n                    watching: data.watch,\n                    clientStore: this.writeableStateStore\n                });\n                call.state.updateFromCallResponse(c.call);\n                await call.applyDeviceConfig(c.call.settings, false);\n                if (data.watch) {\n                    this.writeableStateStore.registerCall(call);\n                }\n                calls.push(call);\n            }\n            return {\n                ...response,\n                calls: calls\n            };\n        };\n        /**\n         * Retrieve the list of available call statistics reports matching a particular condition.\n         *\n         * @param data Filter and sort conditions for retrieving available call report summaries.\n         * @returns List with summary of available call reports matching the condition.\n         */ this.queryCallStats = async (data = {})=>{\n            return this.streamClient.post(`/call/stats`, data);\n        };\n        /**\n         * Retrieve the list of available reports aggregated from the call stats.\n         *\n         * @param data Specify filter conditions like from and to (within last 30 days) and the report types\n         * @returns Requested reports with (mostly) raw daily data for each report type requested\n         */ this.queryAggregateCallStats = async (data = {})=>{\n            return this.streamClient.post(`/stats`, data);\n        };\n        /**\n         * Returns a list of available data centers available for hosting calls.\n         */ this.edges = async ()=>{\n            return this.streamClient.get(`/edges`);\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         * @param {boolean} [voip_token] enables use of VoIP token for push notifications on iOS platform\n         */ this.addDevice = async (id, push_provider, push_provider_name, userID, voip_token)=>{\n            return await this.streamClient.post(\"/devices\", {\n                id,\n                push_provider,\n                voip_token,\n                ...userID != null ? {\n                    user_id: userID\n                } : {},\n                ...push_provider_name != null ? {\n                    push_provider_name\n                } : {}\n            });\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         */ this.addVoipDevice = async (id, push_provider, push_provider_name, userID)=>{\n            return await this.addDevice(id, push_provider, push_provider_name, userID, true);\n        };\n        /**\n         * getDevices - Returns the devices associated with a current user\n         * @param {string} [userID] User ID. Only works on serverside\n         */ this.getDevices = async (userID)=>{\n            return await this.streamClient.get(\"/devices\", userID ? {\n                user_id: userID\n            } : {});\n        };\n        /**\n         * removeDevice - Removes the device with the given id.\n         *\n         * @param {string} id The device id\n         * @param {string} [userID] The user id. Only specify this for serverside requests\n         */ this.removeDevice = async (id, userID)=>{\n            return await this.streamClient.delete(\"/devices\", {\n                id,\n                ...userID ? {\n                    user_id: userID\n                } : {}\n            });\n        };\n        /**\n         * A callback that can be used to create ringing calls from push notifications. If the call already exists, it will do nothing.\n         * @param call_cid\n         * @returns\n         */ this.onRingingCall = async (call_cid)=>{\n            // if we find the call and is already ringing, we don't need to create a new call\n            // as client would have received the call.ring state because the app had WS alive when receiving push notifications\n            let call = this.state.calls.find((c)=>c.cid === call_cid && c.ringing);\n            if (!call) {\n                // if not it means that WS is not alive when receiving the push notifications and we need to fetch the call\n                const [callType, callId] = call_cid.split(\":\");\n                call = new Call({\n                    streamClient: this.streamClient,\n                    type: callType,\n                    id: callId,\n                    clientStore: this.writeableStateStore,\n                    ringing: true\n                });\n                await call.get();\n            }\n            return call;\n        };\n        /**\n         * Connects the given anonymous user to the client.\n         *\n         * @param user the user to connect.\n         * @param tokenOrProvider a token or a function that returns a token.\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            const connectAnonymousUser = ()=>this.streamClient.connectAnonymousUser(user, tokenOrProvider);\n            return await withoutConcurrency(this.connectionConcurrencyTag, ()=>connectAnonymousUser());\n        };\n        let logger = logToConsole;\n        let logLevel = \"warn\";\n        if (typeof apiKeyOrArgs === \"string\") {\n            logLevel = opts?.logLevel || logLevel;\n            logger = opts?.logger || logger;\n            if (opts?.enableTimerWorker) enableTimerWorker();\n        } else {\n            logLevel = apiKeyOrArgs.options?.logLevel || logLevel;\n            logger = apiKeyOrArgs.options?.logger || logger;\n            if (apiKeyOrArgs.options?.enableTimerWorker) enableTimerWorker();\n        }\n        setLogger(logger, logLevel);\n        this.logger = getLogger([\n            \"client\"\n        ]);\n        const coordinatorLogger = getLogger([\n            \"coordinator\"\n        ]);\n        if (typeof apiKeyOrArgs === \"string\") {\n            this.streamClient = new StreamClient(apiKeyOrArgs, {\n                persistUserOnConnectionFailure: true,\n                ...opts,\n                logLevel,\n                logger: coordinatorLogger\n            });\n        } else {\n            this.streamClient = new StreamClient(apiKeyOrArgs.apiKey, {\n                persistUserOnConnectionFailure: true,\n                ...apiKeyOrArgs.options,\n                logLevel,\n                logger: coordinatorLogger\n            });\n            const sdkInfo = getSdkInfo();\n            if (sdkInfo) {\n                const sdkName = SdkType[sdkInfo.type].toLowerCase();\n                const sdkVersion = `${sdkInfo.major}.${sdkInfo.minor}.${sdkInfo.patch}`;\n                const userAgent = this.streamClient.getUserAgent();\n                this.streamClient.setUserAgent(`${userAgent}-video-${sdkName}-sdk-${sdkVersion}`);\n            }\n        }\n        this.writeableStateStore = new StreamVideoWriteableStateStore();\n        this.readOnlyStateStore = new StreamVideoReadOnlyStateStore(this.writeableStateStore);\n        if (typeof apiKeyOrArgs !== \"string\") {\n            const user = apiKeyOrArgs.user;\n            const token = apiKeyOrArgs.token || apiKeyOrArgs.tokenProvider;\n            if (user) {\n                let id = user.id;\n                if (user.type === \"anonymous\") {\n                    id = \"!anon\";\n                }\n                if (id) {\n                    if (StreamVideoClient._instanceMap.has(apiKeyOrArgs.apiKey + id)) {\n                        this.logger(\"warn\", `A StreamVideoClient already exists for ${user.type === \"anonymous\" ? \"an anonymous user\" : id}; Prefer using getOrCreateInstance method`);\n                    }\n                    user.id = id;\n                    StreamVideoClient._instanceMap.set(apiKeyOrArgs.apiKey + id, this);\n                }\n                this.connectUser(user, token).catch((err)=>{\n                    this.logger(\"error\", \"Failed to connect\", err);\n                });\n            }\n        }\n    }\n    static getOrCreateInstance(args) {\n        const user = args.user;\n        if (!user.id) {\n            if (args.user.type === \"anonymous\") {\n                user.id = \"!anon\";\n            } else {\n                throw new Error(\"User ID is required for a non-anonymous user\");\n            }\n        }\n        if (!args.token && !args.tokenProvider) {\n            if (args.user.type !== \"anonymous\" && args.user.type !== \"guest\") {\n                throw new Error(\"TokenProvider or token is required for a user that is not a guest or anonymous\");\n            }\n        }\n        let instance = StreamVideoClient._instanceMap.get(args.apiKey + user.id);\n        if (!instance) {\n            instance = new StreamVideoClient({\n                ...args,\n                user\n            });\n        }\n        return instance;\n    }\n    /**\n     * Return the reactive state store, use this if you want to be notified about changes to the client state\n     */ get state() {\n        return this.readOnlyStateStore;\n    }\n}\nStreamVideoClient._instanceMap = new Map();\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUJBQ0EscUJBMEhBOztDQUVHLEdBQ1UsTUFBQUEsd0NBQXdDO0lBQ25EQyxTQUFTO0lBQ1RDLFVBQVU7O0FBdURaOztDQUVHLEdBQ1UsTUFBQUMseUNBQXlDO0lBQ3BERixTQUFTO0lBQ1RDLFVBQVU7O0FBK0RaOztDQUVHLEdBQ1UsTUFBQUUsK0JBQStCO0lBQzFDQyxNQUFNO0lBQ05DLE9BQU87SUFDUEMsY0FBYzs7QUE0dUVoQjs7Q0FFRyxHQUNVLE1BQUFDLG1DQUFtQztJQUM5Q0MsVUFBVTtJQUNWQyxRQUFRO0lBQ1JDLElBQUk7O0FBS047O0NBRUcsR0FDVSxNQUFBQywyQ0FBMkM7SUFDdERQLE1BQU07SUFDTkMsT0FBTztJQUNQQyxjQUFjOztBQUtoQjs7Q0FFRyxHQUNVLE1BQUFNLDZDQUE2QztJQUN4RFIsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLGNBQWM7O0FBOEpoQjs7O0NBR0csR0FDVSxNQUFBTyx1QkFBdUI7SUFDbENDLHFCQUFxQjtJQUNyQkMsZ0JBQWdCO0lBQ2hCQyxnQkFBZ0I7SUFDaEJDLG1CQUFtQjtJQUNuQkMsYUFBYTtJQUNiQyxvQkFBb0I7SUFDcEJDLGdCQUFnQjtJQUNoQkMsb0JBQW9CO0lBQ3BCQyxjQUFjO0lBQ2RDLGdCQUFnQjtJQUNoQkMsV0FBVztJQUNYQyxjQUFjO0lBQ2RDLGVBQWU7SUFDZkMsY0FBYztJQUNkQyxhQUFhO0lBQ2JDLGtCQUFrQjtJQUNsQkMsZUFBZTtJQUNmQyxhQUFhO0lBQ2JDLGlCQUFpQjtJQUNqQkMsb0JBQW9CO0lBQ3BCQyxZQUFZO0lBQ1pDLGNBQWM7SUFDZEMsV0FBVztJQUNYQyxlQUFlO0lBQ2ZDLFlBQVk7SUFDWkMsb0JBQW9CO0lBQ3BCQyxzQkFBc0I7SUFDdEJDLGdCQUFnQjtJQUNoQkMsV0FBVztJQUNYQyxlQUFlO0lBQ2ZDLG9CQUFvQjtJQUNwQkMsZ0JBQWdCO0lBQ2hCQyx3QkFBd0I7SUFDeEJDLG9CQUFvQjtJQUNwQkMsZUFBZTtJQUNmQyxhQUFhOztBQWtkZjs7Q0FFRyxHQUNVLE1BQUFDLHNDQUFzQztJQUNqREMsVUFBVTtJQUNWQyxLQUFLO0lBQ0xDLFFBQVE7SUFDUkMsUUFBUTs7QUE0ekNWOztDQUVHLEdBQ1UsTUFBQUMsb0NBQW9DO0lBQy9DQyxXQUFXO0lBQ1hoRCxVQUFVO0lBQ1ZpRCxTQUFTOztBQTRDWDs7O0NBR0csR0FDVSxNQUFBQyxnQkFBZ0I7SUFDM0JDLGFBQWE7SUFDYkMscUJBQXFCO0lBQ3JCMUMsYUFBYTtJQUNiMkMsaUJBQWlCO0lBQ2pCQywyQkFBMkI7SUFDM0JDLFVBQVU7SUFDVkMsZ0JBQWdCO0lBQ2hCeEMsV0FBVztJQUNYeUMsaUJBQWlCO0lBQ2pCQyxZQUFZO0lBQ1pDLGtCQUFrQjtJQUNsQkMsV0FBVztJQUNYQyxvQkFBb0I7SUFDcEJDLGFBQWE7SUFDYkMsWUFBWTtJQUNaQyxZQUFZO0lBQ1pDLHNCQUFzQjtJQUN0QkMsNEJBQTRCO0lBQzVCQyxtQkFBbUI7SUFDbkJDLDBCQUEwQjtJQUMxQkMscUJBQXFCO0lBQ3JCQywyQkFBMkI7SUFDM0JDLGtCQUFrQjtJQUNsQkMseUJBQXlCO0lBQ3pCQyxhQUFhO0lBQ2JDLG9CQUFvQjtJQUNwQkMseUJBQXlCO0lBQ3pCQyxzQkFBc0I7O0FBc3lCeEI7O0NBRUcsR0FDVSxNQUFBQyxnQ0FBZ0M7SUFDM0M3QixXQUFXO0lBQ1hoRCxVQUFVO0lBQ1ZpRCxTQUFTOztBQUtYOztDQUVHLEdBQ1UsTUFBQTZCLG1DQUFtQztJQUM5Q0MsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLE9BQU87SUFDUEMsUUFBUTtJQUNSQyxRQUFRO0lBQ1JDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyxtQkFBbUI7SUFDbkJDLG9CQUFvQjtJQUNwQkMsb0JBQW9COztBQXF5QnRCOztDQUVHLEdBQ1UsTUFBQUMsb0RBQW9EO0lBQy9EekMsV0FBVztJQUNYaEQsVUFBVTtJQUNWaUQsU0FBUzs7QUFLWDs7Q0FFRyxHQUNVLE1BQUF5Qyx1Q0FBdUM7SUFDbEQxQyxXQUFXO0lBQ1hoRCxVQUFVO0lBQ1ZpRCxTQUFTOztBQStCWDs7Q0FFRyxHQUNVLE1BQUEwQyxxREFBcUQ7SUFDaEUzQyxXQUFXO0lBQ1hoRCxVQUFVO0lBQ1ZpRCxTQUFTOztBQUtYOztDQUVHLEdBQ1UsTUFBQTJDLHdDQUF3QztJQUNuRDVDLFdBQVc7SUFDWGhELFVBQVU7SUFDVmlELFNBQVM7O0FBNGtEWDs7Q0FFRyxHQUNVLE1BQUE0Qyx1Q0FBdUM7SUFDbERDLE9BQU87SUFDUEMsTUFBTTtJQUNOQyxVQUFVOztBQTJDWjs7Q0FFRyxHQUNVLE1BQUFDLHdDQUF3QztJQUNuREgsT0FBTztJQUNQQyxNQUFNO0lBQ05DLFVBQVU7O0FDbHpQTixNQUFPRSwwQkFBNkJDO0FBS3pDO0FDaERELHFCQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBc0hBOzs7Ozs7O0NBT0csR0FDSCxJQUFZQztBQUFaLFVBQVlBLFNBQVM7SUFDbkI7Ozs7S0FJRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7QUFDRixHQVBZQSxhQUFBQSxDQUFBQSxZQU9YO0FBQ0Q7QUFDQSxNQUFNQyxvQkFBb0JDLDZEQUFXQTtJQUNuQ0MsYUFBQTtRQUNFLEtBQUssQ0FBQywwQkFBMEI7WUFDOUI7Z0JBQ0VDLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05DLEdBQUcsRUFBQztnQkFDSkMsR0FBRztvQkFBRUYsTUFBTTtvQkFBV0csR0FBRyxJQUFNQztnQkFBSztZQUNyQztTQUNGOztJQUVIOztLQUVHLEdBQ0hDLGtCQUFrQkMsT0FBZSxFQUFFQyxPQUF5QjtRQUMxRCxJQUFJQyxPQUFtQjtRQUN2QixLQUFLLElBQUksQ0FBQ0MsR0FBR0MsRUFBRSxJQUFJQyxPQUFPQyxPQUFPLENBQUNOLFFBQVFPLE1BQU0sRUFBRztZQUNqREwsSUFBSSxDQUFDQyxFQUFFLEdBQUdMLE1BQU1VLE1BQU0sQ0FBQ0o7O1FBRXpCLE9BQU9GOztJQUVUOztLQUVHLEdBQ0hPLGlCQUNFUCxJQUFlLEVBQ2ZELE9BQXdCLEVBQ3hCUyxNQUFlO1FBRWYsSUFBSSxDQUFDQyxrRUFBWUEsQ0FBQ1QsT0FDaEIsTUFBTSxJQUFJVSxXQUFXekIsS0FBSyxDQUN4Qiw2QkFDRSxJQUFJLENBQUMwQixRQUFRLEdBQ2IsZ0JBQ0FDLHFFQUFlQSxDQUFDWixRQUNoQjtRQUVOLElBQUksQ0FBQ1EsUUFBUUEsU0FBUyxJQUFJLENBQUNLLE1BQU07UUFDakMsS0FBSyxJQUFJLENBQUNaLEdBQUdDLEVBQUUsSUFBSVEsV0FBV1AsTUFBTSxDQUFDQyxPQUFPLENBQUNKLE1BQU87WUFDbERRLE9BQU9ILE1BQU0sQ0FBQ0osRUFBRSxHQUFHTCxNQUFNa0IsUUFBUSxDQUFDWjs7UUFFcEMsT0FBT007O0FBRVY7QUFDRDs7Q0FFRyxHQUNJLE1BQU1PLFNBQVMsSUFBSTVCO0FBQzFCO0FBQ0EsTUFBTTZCLG1CQUFtQjVCLDZEQUFXQTtJQUNsQ0MsYUFBQTtRQUNFLEtBQUssQ0FBQyx5QkFBeUI7WUFDN0I7Z0JBQ0VDLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNO3dCQUFDO3dCQUE2QlQ7cUJBQVU7WUFDbEQ7WUFDRDtnQkFDRUksSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU1vQjtZQUNWO1lBQ0Q7Z0JBQ0V6QixJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTXVCO1lBQ1Y7U0FDRjs7SUFFSDs7S0FFRyxHQUNIckIsa0JBQWtCQyxPQUFjLEVBQUVDLE9BQXlCO1FBQ3pELElBQUlELFFBQVFOLElBQUksQ0FBQzJCLFNBQVMsS0FBS0MsV0FBVyxNQUFNLElBQUlWLFdBQVd6QixLQUFLO1FBQ3BFLE9BQVFhLFFBQVFOLElBQUksQ0FBQzJCLFNBQVM7WUFDNUIsS0FBS0M7Z0JBQ0gsTUFBTSxJQUFJVixXQUFXekIsS0FBSztZQUM1QixLQUFLO2dCQUNILE9BQU9hLFFBQVFOLElBQUksQ0FBQzZCLFNBQVM7WUFDL0IsS0FBSztnQkFDSCxPQUFPO1lBQ1QsS0FBSztnQkFDSCxJQUFJQyxjQUFjeEIsUUFBUU4sSUFBSSxDQUFDOEIsV0FBVztnQkFDMUMsSUFBSSxPQUFPQSxlQUFlLFlBQVksQ0FBQ0MsT0FBT0MsUUFBUSxDQUFDRixjQUNyRCxNQUFNLElBQUlaLFdBQVd6QixLQUFLO2dCQUM1QixPQUFPcUM7WUFDVCxLQUFLO2dCQUNILE9BQU94QixRQUFRTixJQUFJLENBQUNpQyxXQUFXO1lBQ2pDLEtBQUs7Z0JBQ0gsSUFBSUMsaUJBQWlCLElBQUksQ0FBQ3JCLE1BQU0sQ0FBQ3NCLElBQUksQ0FBQyxDQUFDQyxJQUFNQSxFQUFFdEMsRUFBRSxLQUFLO2dCQUN0RCxJQUFJb0MsZ0JBQWdCbEMsU0FBUyxXQUFXLE1BQU0sSUFBSWtCLFdBQVd6QixLQUFLO2dCQUNsRSxPQUFPeUMsZUFBZS9CLENBQUMsR0FBR1csTUFBTSxDQUFDUixRQUFRTixJQUFJLENBQUNxQyxTQUFTO1lBQ3pELEtBQUs7Z0JBQ0gsSUFBSUMsbUJBQW1CLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQ3NCLElBQUksQ0FBQyxDQUFDQyxJQUFNQSxFQUFFdEMsRUFBRSxLQUFLO2dCQUN4RCxJQUFJd0Msa0JBQWtCdEMsU0FBUyxXQUFXLE1BQU0sSUFBSWtCLFdBQVd6QixLQUFLO2dCQUNwRSxPQUFPNkMsaUJBQWlCbkMsQ0FBQyxHQUFHVyxNQUFNLENBQUNSLFFBQVFOLElBQUksQ0FBQ3VDLFdBQVc7OztJQUdqRTs7S0FFRyxHQUNIeEIsaUJBQ0VQLElBQWUsRUFDZkQsT0FBd0IsRUFDeEJTLE1BQWM7UUFFZCxJQUFJLENBQUNBLFFBQVFBLFNBQVMsSUFBSSxDQUFDSyxNQUFNO1FBQ2pDLE9BQVEsT0FBT2I7WUFDYixLQUFLO2dCQUNIUSxPQUFPaEIsSUFBSSxHQUFHO29CQUFFMkIsV0FBVztvQkFBZUcsYUFBYXRCO2dCQUFJO2dCQUMzRDtZQUNGLEtBQUs7Z0JBQ0hRLE9BQU9oQixJQUFJLEdBQUc7b0JBQUUyQixXQUFXO29CQUFlTSxhQUFhekI7Z0JBQUk7Z0JBQzNEO1lBQ0YsS0FBSztnQkFDSFEsT0FBT2hCLElBQUksR0FBRztvQkFBRTJCLFdBQVc7b0JBQWFFLFdBQVdyQjtnQkFBSTtnQkFDdkQ7WUFDRixLQUFLO2dCQUNILElBQUlBLFNBQVMsTUFBTTtvQkFDakJRLE9BQU9oQixJQUFJLEdBQUc7d0JBQ1oyQixXQUFXO3dCQUNYYSxXQUFXOUMsVUFBVStDLFVBQVU7O3VCQUU1QixJQUFJdkIsV0FBV3dCLEtBQUssQ0FBQ0MsT0FBTyxDQUFDbkMsT0FBTztvQkFDekNRLE9BQU9oQixJQUFJLEdBQUc7d0JBQ1oyQixXQUFXO3dCQUNYVSxXQUFXWCxVQUFVSixRQUFRLENBQUNkOzt1QkFFM0I7b0JBQ0xRLE9BQU9oQixJQUFJLEdBQUc7d0JBQ1oyQixXQUFXO3dCQUNYWSxhQUFhaEIsT0FBT0QsUUFBUSxDQUFDZDs7O2dCQUdqQztZQUNGO2dCQUNFLE1BQU0sSUFBSVUsV0FBV3pCLEtBQUssQ0FDeEIscUJBQ0UsSUFBSSxDQUFDMEIsUUFBUSxHQUNiLGdCQUNBQyxxRUFBZUEsQ0FBQ1o7O1FBR3hCLE9BQU9ROztBQUVWO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNWixRQUFRLElBQUlvQjtBQUN6QjtBQUNBLE1BQU1vQix1QkFBdUJoRCw2REFBV0E7SUFDdENDLGFBQUE7UUFDRSxLQUFLLENBQUMsNkJBQTZCO1lBQ2pDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNONkMsUUFBUSxFQUFDO2dCQUNUMUMsR0FBRyxJQUFNQztZQUNWO1NBQ0Y7O0lBRUg7O0tBRUcsR0FDSEMsa0JBQWtCQyxPQUFrQixFQUFFQyxPQUF5QjtRQUM3RCxPQUFPRCxRQUFRd0MsTUFBTSxDQUFDQyxHQUFHLENBQUMsQ0FBQ3JDLElBQU1OLE1BQU1VLE1BQU0sQ0FBQ0o7O0lBRWhEOztLQUVHLEdBQ0hLLGlCQUNFUCxJQUFlLEVBQ2ZELE9BQXdCLEVBQ3hCUyxNQUFrQjtRQUVsQixJQUFJLENBQUNFLFdBQVd3QixLQUFLLENBQUNDLE9BQU8sQ0FBQ25DLE9BQzVCLE1BQU0sSUFBSVUsV0FBV3pCLEtBQUssQ0FDeEIscUJBQ0UsSUFBSSxDQUFDMEIsUUFBUSxHQUNiLGdCQUNBQyxxRUFBZUEsQ0FBQ1o7UUFFdEIsSUFBSSxDQUFDUSxRQUFRQSxTQUFTLElBQUksQ0FBQ0ssTUFBTTtRQUNqQyxJQUFJeUIsU0FBU3RDLEtBQUt1QyxHQUFHLENBQUMsQ0FBQ3JDLElBQU1OLE1BQU1rQixRQUFRLENBQUNaO1FBQzVDTSxPQUFPOEIsTUFBTSxDQUFDRSxJQUFJLElBQUlGO1FBQ3RCLE9BQU85Qjs7QUFFVjtBQUNEOztDQUVHLEdBQ0ksTUFBTVUsWUFBWSxJQUFJa0I7QUN0WTdCLHFCQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkhBO0FBQ0EsTUFBTUssdUJBQXVCckQsNkRBQVdBO0lBQ3RDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLDZCQUE2QjtZQUNqQztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBV0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDOUM7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQzdDOztJQUVIOztLQUVHLEdBQ0grQyxNQUFHO1FBQ0QsTUFBTUMsTUFBTSxJQUFJLENBQUM5QixNQUFNO1FBQ3ZCLE1BQU0rQixLQUFLQyxLQUFLSCxHQUFHO1FBQ25CQyxJQUFJRyxPQUFPLEdBQUdDLHdEQUFNQSxDQUFDQyxJQUFJLENBQUNDLEtBQUtDLEtBQUssQ0FBQ04sS0FBSyxPQUFPTyxRQUFRO1FBQ3pEUixJQUFJUyxLQUFLLEdBQUcsS0FBTSxPQUFRO1FBQzFCLE9BQU9UOztJQUVUOztLQUVHLEdBQ0hVLE9BQU92RCxPQUFrQjtRQUN2QixPQUFPLElBQUkrQyxLQUNURSx3REFBTUEsQ0FBQ0MsSUFBSSxDQUFDbEQsUUFBUWdELE9BQU8sRUFBRVEsUUFBUSxLQUFLLE9BQ3hDTCxLQUFLTSxJQUFJLENBQUN6RCxRQUFRc0QsS0FBSyxHQUFHOztJQUdoQzs7S0FFRyxHQUNISSxTQUFTQyxJQUFVO1FBQ2pCLE1BQU1kLE1BQU0sSUFBSSxDQUFDOUIsTUFBTTtRQUN2QixNQUFNK0IsS0FBS2EsS0FBS0MsT0FBTztRQUN2QmYsSUFBSUcsT0FBTyxHQUFHQyx3REFBTUEsQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLQyxLQUFLLENBQUNOLEtBQUssT0FBT08sUUFBUTtRQUN6RFIsSUFBSVMsS0FBSyxHQUFHLEtBQU0sT0FBUTtRQUMxQixPQUFPVDs7SUFFVDs7O0tBR0csR0FDSDlDLGtCQUFrQkMsT0FBa0IsRUFBRUMsT0FBeUI7UUFDN0QsSUFBSTZDLEtBQUtHLHdEQUFNQSxDQUFDQyxJQUFJLENBQUNsRCxRQUFRZ0QsT0FBTyxFQUFFUSxRQUFRLEtBQUs7UUFDbkQsSUFDRVYsS0FBS0MsS0FBS2MsS0FBSyxDQUFDLDJCQUNoQmYsS0FBS0MsS0FBS2MsS0FBSyxDQUFDLHlCQUVoQixNQUFNLElBQUkxRSxNQUNSO1FBRUosSUFBSWEsUUFBUXNELEtBQUssR0FBRyxHQUNsQixNQUFNLElBQUluRSxNQUNSO1FBRUosSUFBSTJFLElBQUk7UUFDUixJQUFJOUQsUUFBUXNELEtBQUssR0FBRyxHQUFHO1lBQ3JCLElBQUlTLFdBQVcsQ0FBQy9ELFFBQVFzRCxLQUFLLEdBQUcsWUFBWUQsUUFBUSxHQUFHVyxTQUFTLENBQUM7WUFDakUsSUFBSUQsU0FBU0MsU0FBUyxDQUFDLE9BQU8sVUFDNUJGLElBQUksTUFBTUMsU0FBU0MsU0FBUyxDQUFDLEdBQUcsS0FBSztpQkFDbEMsSUFBSUQsU0FBU0MsU0FBUyxDQUFDLE9BQU8sT0FDakNGLElBQUksTUFBTUMsU0FBU0MsU0FBUyxDQUFDLEdBQUcsS0FBSztpQkFDbENGLElBQUksTUFBTUMsV0FBVzs7UUFFNUIsT0FBTyxJQUFJaEIsS0FBS0QsSUFBSW1CLFdBQVcsR0FBR0MsT0FBTyxDQUFDLFNBQVNKOztJQUVyRDs7O0tBR0csR0FDSHJELGlCQUNFUCxJQUFlLEVBQ2ZELE9BQXdCLEVBQ3hCUyxNQUFrQjtRQUVsQixJQUFJLE9BQU9SLFNBQVMsVUFDbEIsTUFBTSxJQUFJZixNQUNSLHlDQUF5QzJCLHFFQUFlQSxDQUFDWixRQUFRO1FBRXJFLElBQUlpRSxVQUFVakUsS0FBS2tFLEtBQUssQ0FDdEI7UUFFRixJQUFJLENBQUNELFNBQ0gsTUFBTSxJQUFJaEYsTUFBTTtRQUNsQixJQUFJMkQsS0FBS0MsS0FBS2MsS0FBSyxDQUNqQk0sT0FBTyxDQUFDLEVBQUUsR0FDUixNQUNBQSxPQUFPLENBQUMsRUFBRSxHQUNWLE1BQ0FBLE9BQU8sQ0FBQyxFQUFFLEdBQ1YsTUFDQUEsT0FBTyxDQUFDLEVBQUUsR0FDVixNQUNBQSxPQUFPLENBQUMsRUFBRSxHQUNWLE1BQ0FBLE9BQU8sQ0FBQyxFQUFFLEdBQ1RBLENBQUFBLE9BQU8sQ0FBQyxFQUFFLEdBQUdBLE9BQU8sQ0FBQyxFQUFFLEdBQUc7UUFFL0IsSUFBSTFDLE9BQU80QyxLQUFLLENBQUN2QixLQUNmLE1BQU0sSUFBSTNELE1BQU07UUFDbEIsSUFDRTJELEtBQUtDLEtBQUtjLEtBQUssQ0FBQywyQkFDaEJmLEtBQUtDLEtBQUtjLEtBQUssQ0FBQyx5QkFFaEIsTUFBTSxJQUFJakQsV0FBV3pCLEtBQUssQ0FDeEI7UUFFSixJQUFJLENBQUN1QixRQUFRQSxTQUFTLElBQUksQ0FBQ0ssTUFBTTtRQUNqQ0wsT0FBT3NDLE9BQU8sR0FBR0Msd0RBQU1BLENBQUNDLElBQUksQ0FBQ0osS0FBSyxNQUFNTyxRQUFRO1FBQ2hEM0MsT0FBTzRDLEtBQUssR0FBRztRQUNmLElBQUlhLE9BQU8sQ0FBQyxFQUFFLEVBQ1p6RCxPQUFPNEMsS0FBSyxHQUNWZ0IsU0FBUyxNQUFNSCxPQUFPLENBQUMsRUFBRSxHQUFHLElBQUk1QixNQUFNLENBQUMsSUFBSTRCLE9BQU8sQ0FBQyxFQUFFLENBQUNJLE1BQU0sS0FDNUQ7UUFDSixPQUFPN0Q7O0FBRVY7QUFDRDs7Q0FFRyxHQUNJLE1BQU04RCxZQUFZLElBQUk3QjtBQ3BSN0IscUJBQ0E7QUFDQTtBQUNBO0FBMmtCQTs7Q0FFRyxHQUNILElBQVk4QjtBQUFaLFVBQVlBLFFBQVE7SUFDbEI7Ozs7S0FJRyxHQUNIQSxRQUFBLENBQUFBLFFBQUE7SUFDQTs7S0FFRyxHQUNIQSxRQUFBLENBQUFBLFFBQUE7QUFDRixHQVhZQSxZQUFBQSxDQUFBQSxXQVdYO0FBQ0Q7O0NBRUcsR0FDSCxJQUFZQztBQUFaLFVBQVlBLGlCQUFpQjtJQUMzQjs7S0FFRyxHQUNIQSxpQkFBQSxDQUFBQSxpQkFBQTtJQUNBOztLQUVHLEdBQ0hBLGlCQUFBLENBQUFBLGlCQUFBO0lBQ0E7O0tBRUcsR0FDSEEsaUJBQUEsQ0FBQUEsaUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxpQkFBQSxDQUFBQSxpQkFBQTtBQUNGLEdBakJZQSxxQkFBQUEsQ0FBQUEsb0JBaUJYO0FBQ0Q7O0NBRUcsR0FDSCxJQUFZQztBQUFaLFVBQVlBLFlBQVk7SUFDdEI7O0tBRUcsR0FDSEEsWUFBQSxDQUFBQSxZQUFBO0lBQ0E7O0tBRUcsR0FDSEEsWUFBQSxDQUFBQSxZQUFBO0lBQ0E7O0tBRUcsR0FDSEEsWUFBQSxDQUFBQSxZQUFBO0lBQ0E7O0tBRUcsR0FDSEEsWUFBQSxDQUFBQSxZQUFBO0FBQ0YsR0FqQllBLGdCQUFBQSxDQUFBQSxlQWlCWDtBQUNEOztDQUVHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxTQUFTO0lBQ25COztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtBQUNGLEdBckJZQSxhQUFBQSxDQUFBQSxZQXFCWDtBQUNEOztDQUVHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxTQUFTO0lBQ25COztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtBQUNGLEdBakZZQSxhQUFBQSxDQUFBQSxZQWlGWDtBQUNEOztDQUVHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxPQUFPO0lBQ2pCOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtBQUNGLEdBekNZQSxXQUFBQSxDQUFBQSxVQXlDWDtBQUNEOztDQUVHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxvQkFBb0I7SUFDOUI7Ozs7O0tBS0csR0FDSEEsb0JBQUEsQ0FBQUEsb0JBQUE7SUFDQTs7OztLQUlHLEdBQ0hBLG9CQUFBLENBQUFBLG9CQUFBO0lBQ0E7Ozs7O0tBS0csR0FDSEEsb0JBQUEsQ0FBQUEsb0JBQUE7SUFDQTs7Ozs7Ozs7S0FRRyxHQUNIQSxvQkFBQSxDQUFBQSxvQkFBQTtBQUNGLEdBL0JZQSx3QkFBQUEsQ0FBQUEsdUJBK0JYO0FBQ0Q7Ozs7O0NBS0csR0FDSCxJQUFZQztBQUFaLFVBQVlBLFlBQVk7SUFDdEI7O0tBRUcsR0FDSEEsWUFBQSxDQUFBQSxZQUFBO0lBQ0E7O0tBRUcsR0FDSEEsWUFBQSxDQUFBQSxZQUFBO0lBQ0E7O0tBRUcsR0FDSEEsWUFBQSxDQUFBQSxZQUFBO0FBQ0YsR0FiWUEsZ0JBQUFBLENBQUFBLGVBYVg7QUFDRDs7OztDQUlHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxlQUFlO0lBQ3pCOztLQUVHLEdBQ0hBLGVBQUEsQ0FBQUEsZUFBQTtJQUNBOztLQUVHLEdBQ0hBLGVBQUEsQ0FBQUEsZUFBQTtJQUNBOztLQUVHLEdBQ0hBLGVBQUEsQ0FBQUEsZUFBQTtJQUNBOztLQUVHLEdBQ0hBLGVBQUEsQ0FBQUEsZUFBQTtJQUNBOztLQUVHLEdBQ0hBLGVBQUEsQ0FBQUEsZUFBQTtBQUNGLEdBckJZQSxtQkFBQUEsQ0FBQUEsa0JBcUJYO0FBQ0Q7Ozs7Q0FJRyxHQUNILElBQVlDO0FBQVosVUFBWUEsMEJBQTBCO0lBQ3BDOztLQUVHLEdBQ0hBLDBCQUFBLENBQUFBLDBCQUFBO0lBQ0E7Ozs7S0FJRyxHQUNIQSwwQkFBQSxDQUFBQSwwQkFBQTtJQUNBOzs7OztLQUtHLEdBQ0hBLDBCQUFBLENBQUFBLDBCQUFBO0lBQ0E7Ozs7O0tBS0csR0FDSEEsMEJBQUEsQ0FBQUEsMEJBQUE7SUFDQTs7OztLQUlHLEdBQ0hBLDBCQUFBLENBQUFBLDBCQUFBO0FBQ0YsR0EvQllBLDhCQUFBQSxDQUFBQSw2QkErQlg7QUFDRDs7Ozs7Q0FLRyxHQUNILElBQVlDO0FBQVosVUFBWUEsbUJBQW1CO0lBQzdCOztLQUVHLEdBQ0hBLG1CQUFBLENBQUFBLG1CQUFBO0lBQ0E7O0tBRUcsR0FDSEEsbUJBQUEsQ0FBQUEsbUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxtQkFBQSxDQUFBQSxtQkFBQTtJQUNBOztLQUVHLEdBQ0hBLG1CQUFBLENBQUFBLG1CQUFBO0lBQ0E7O0tBRUcsR0FDSEEsbUJBQUEsQ0FBQUEsbUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxtQkFBQSxDQUFBQSxtQkFBQTtJQUNBOztLQUVHLEdBQ0hBLG1CQUFBLENBQUFBLG1CQUFBO0lBQ0E7O0tBRUcsR0FDSEEsbUJBQUEsQ0FBQUEsbUJBQUE7QUFDRixHQWpDWUEsdUJBQUFBLENBQUFBLHNCQWlDWDtBQUNEOzs7OztDQUtHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxpQkFBaUI7SUFDM0I7O0tBRUcsR0FDSEEsaUJBQUEsQ0FBQUEsaUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxpQkFBQSxDQUFBQSxpQkFBQTtJQUNBOztLQUVHLEdBQ0hBLGlCQUFBLENBQUFBLGlCQUFBO0lBQ0E7O0tBRUcsR0FDSEEsaUJBQUEsQ0FBQUEsaUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxpQkFBQSxDQUFBQSxpQkFBQTtBQUNGLEdBckJZQSxxQkFBQUEsQ0FBQUEsb0JBcUJYO0FBQ0Q7QUFDQSxNQUFNQyx1QkFBdUIvRiw2REFBV0E7SUFDdENDLGFBQUE7UUFDRSxLQUFLLENBQUMscUNBQXFDO1lBQ3pDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNONkMsUUFBUSxFQUFDO2dCQUNUMUMsR0FBRyxJQUFNeUY7WUFDVjtZQUNEO2dCQUFFOUYsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNMkU7WUFBUztZQUNoRTtnQkFDRWhGLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTBGO1lBQ1Y7WUFDRDtnQkFDRS9GLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLElBQU0yRjtZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLGNBQVksSUFBSUo7QUFDN0I7QUFDQSxNQUFNSyw4QkFBOEJwRyw2REFBV0E7SUFDN0NDLGFBQUE7UUFDRSxLQUFLLENBQUMsNENBQTRDO1lBQ2hEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFTQyxNQUFNO2dCQUFVRyxHQUFHLEdBQUU7WUFBQTtZQUM3QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBYUMsTUFBTTtnQkFBVUcsR0FBRyxHQUFFO1lBQUE7U0FDbEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0wRixtQkFBbUIsSUFBSUc7QUFDcEM7QUFDQSxNQUFNQyxpQkFBaUJyRyw2REFBV0E7SUFDaENDLGFBQUE7UUFDRSxLQUFLLENBQUMsK0JBQStCO1lBQ25DO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFXQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDbEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0yRixNQUFNLElBQUlHO0FBQ3ZCO0FBQ0EsTUFBTUMseUJBQXlCdEcsNkRBQVdBO0lBQ3hDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHVDQUF1QztZQUMzQztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBV0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDOUM7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNONkMsUUFBUSxFQUFDO2dCQUNUMUMsR0FBRyxJQUFNO3dCQUNQO3dCQUNBK0U7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUFFcEYsSUFBSTtnQkFBR0MsTUFBTTtnQkFBYUMsTUFBTTtnQkFBV0csR0FBRyxJQUFNMkU7WUFBUztZQUMvRDtnQkFDRWhGLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQTZFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFBRWxGLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWVDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2xEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFlQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNsRDtnQkFBRUwsSUFBSTtnQkFBSUMsTUFBTTtnQkFBUUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDNUM7Z0JBQUVMLElBQUk7Z0JBQUlDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzdDO2dCQUFFTCxJQUFJO2dCQUFJQyxNQUFNO2dCQUFVQyxNQUFNO2dCQUFXRyxHQUFHLElBQU1vQjtZQUFNO1lBQzFEO2dCQUNFekIsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsRUFBQztZQUNMO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU15RixjQUFjLElBQUlNO0FBQy9CO0FBQ0EsTUFBTUMsMkJBQTJCdkcsNkRBQVdBO0lBQzFDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHlDQUF5QztZQUM3QztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBOEU7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUFFbkYsSUFBSTtnQkFBR0MsTUFBTTtnQkFBV0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDL0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1pRyxnQkFBZ0IsSUFBSUQ7QUFDakM7QUFDQSxNQUFNRSw0QkFBNEJ6Ryw2REFBV0E7SUFDM0NDLGFBQUE7UUFDRSxLQUFLLENBQUMsMENBQTBDO1lBQzlDO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFTQyxNQUFNO2dCQUFVRyxHQUFHLEdBQUU7WUFBQTtZQUM3QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBVUMsTUFBTTtnQkFBVUcsR0FBRyxHQUFFO1lBQUE7U0FDL0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1tRyxpQkFBaUIsSUFBSUQ7QUFDbEM7QUFDQSxNQUFNRSx3QkFBd0IzRyw2REFBV0E7SUFDdkNDLGFBQUE7UUFDRSxLQUFLLENBQUMsc0NBQXNDO1lBQzFDO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFPQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMxQztnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNbUc7WUFDVjtZQUNEO2dCQUFFeEcsSUFBSTtnQkFBR0MsTUFBTTtnQkFBV0MsTUFBTTtnQkFBVUcsR0FBRyxHQUFFO1lBQUE7WUFDL0M7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQU9DLE1BQU07Z0JBQVVHLEdBQUcsR0FBRTtZQUFBO1lBQzNDO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0E4RTt3QkFDQTtxQkFDRDtZQUNGO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU11QixhQUFhLElBQUlEO0FBQzlCO0FBQ0EsTUFBTUUsNkJBQTZCN0csNkRBQVdBO0lBQzVDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLDJDQUEyQztZQUMvQztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBK0U7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUNFcEYsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsSUFBTXVHO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTUMsa0JBQWtCLElBQUlGO0FBQ25DO0FBQ0EsTUFBTUcsMkJBQTJCaEgsNkRBQVdBO0lBQzFDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHlDQUF5QztZQUM3QztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBK0U7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUFFcEYsSUFBSTtnQkFBR0MsTUFBTTtnQkFBU0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNdUc7WUFBSztZQUN2RDtnQkFBRTVHLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVdDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzlDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFPQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMxQztnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNbUc7WUFDVjtZQUNEO2dCQUFFeEcsSUFBSTtnQkFBR0MsTUFBTTtnQkFBTUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDMUM7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0wRyxnQkFBZ0IsSUFBSUQ7QUFDakM7QUFDQSxNQUFNRSxtQkFBbUJsSCw2REFBV0E7SUFDbENDLGFBQUE7UUFDRSxLQUFLLENBQUMsaUNBQWlDO1lBQ3JDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEdBQUU7WUFDTjtZQUNEO2dCQUFFTCxJQUFJO2dCQUFJQyxNQUFNO2dCQUFRQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM1QztnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxHQUFFO1lBQ047WUFDRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFBRUwsSUFBSTtnQkFBSUMsTUFBTTtnQkFBUUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDN0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU11RyxRQUFRLElBQUlJO0FBQ3pCO3dCQUNBLE1BQU1DLHdCQUF3Qm5ILDZEQUFXQTtJQUN2Q0MsYUFBQTtRQUNFLEtBQUssQ0FBQyxzQ0FBc0M7WUFDMUM7Z0JBQ0VDLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFBQzt3QkFBb0M0RTt3QkFBVTtxQkFBYTtZQUN0RTtZQUNEO2dCQUNFakYsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDbEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU02RyxlQUFhLElBQUlEO0FBQzlCO0FBQ0EsTUFBTUUsdUJBQXVCckgsNkRBQVdBO0lBQ3RDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHFDQUFxQztZQUN6QztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBWUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDL0M7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQStFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFDRXBGLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLElBQU1xRztZQUNWO1lBQ0Q7Z0JBQUUxRyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFPQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMxQztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBT0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDMUM7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVVDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzdDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFPQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMxQztnQkFBRUwsSUFBSTtnQkFBSUMsTUFBTTtnQkFBU0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDN0M7Z0JBQUVMLElBQUk7Z0JBQUlDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXVHO1lBQUs7WUFDeEQ7Z0JBQ0U1RyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNK0csWUFBWSxJQUFJRDtBQUM3QjttQkFDQSxNQUFNRSxtQkFBbUJ2SCw2REFBV0E7SUFDbENDLGFBQUE7UUFDRSxLQUFLLENBQUMsaUNBQWlDO1lBQ3JDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0FnRjt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQUVyRixJQUFJO2dCQUFHQyxNQUFNO2dCQUFXQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBZ0JDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQ3BEOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNVixVQUFRLElBQUkwSDtBQUN6QjtBQUNBLE1BQU1DLDJCQUEyQnhILDZEQUFXQTtJQUMxQ0MsYUFBQTtRQUNFLEtBQUssQ0FBQyx5Q0FBeUM7WUFDN0M7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQU9DLE1BQU07Z0JBQVdHLEdBQUcsSUFBTWtIO1lBQUc7WUFDbkQ7Z0JBQUV2SCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFNQyxNQUFNO2dCQUFXRyxHQUFHLElBQU1tSDtZQUFFO1lBQ2pEO2dCQUFFeEgsSUFBSTtnQkFBR0MsTUFBTTtnQkFBV0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNb0g7WUFBTztZQUMzRDtnQkFBRXpILElBQUk7Z0JBQUdDLE1BQU07Z0JBQVVDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXFIO1lBQU07U0FDMUQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLGdCQUFnQixJQUFJTDtBQUNqQztBQUNBLE1BQU1NLGlCQUFpQjlILDZEQUFXQTtJQUNoQ0MsYUFBQTtRQUNFLEtBQUssQ0FBQywrQkFBK0I7WUFDbkM7Z0JBQ0VDLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFBQzt3QkFBbUNpRjt3QkFBUztxQkFBWTtZQUNuRTtZQUNEO2dCQUFFdEYsSUFBSTtnQkFBR0MsTUFBTTtnQkFBU0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDNUM7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzVDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFTQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUM3Qzs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWtILE1BQU0sSUFBSUs7QUFDdkI7QUFDQSxNQUFNQyxnQkFBZ0IvSCw2REFBV0E7SUFDL0JDLGFBQUE7UUFDRSxLQUFLLENBQUMsOEJBQThCO1lBQ2xDO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFRQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMzQztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBV0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDOUM7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1tSCxLQUFLLElBQUlLO0FBQ3RCO0FBQ0EsTUFBTUMscUJBQXFCaEksNkRBQVdBO0lBQ3BDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLG1DQUFtQztZQUN2QztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBUUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDM0M7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVdDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQy9DOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNb0gsVUFBVSxJQUFJSztBQUMzQjtBQUNBLE1BQU1DLG9CQUFvQmpJLDZEQUFXQTtJQUNuQ0MsYUFBQTtRQUNFLEtBQUssQ0FBQyxrQ0FBa0M7WUFDdEM7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVFDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzNDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFXQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUMvQzs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXFILFNBQVMsSUFBSUs7QUFDMUI7QUFDQSxNQUFNQyxrQkFBa0JsSSw2REFBV0E7SUFDakNDLGFBQUE7UUFDRSxLQUFLLENBQUMsZ0NBQWdDO1lBQ3BDO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFRQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMzQztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBTUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDekM7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVVDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTW9CO1lBQU07WUFDekQ7Z0JBQUV6QixJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFXRyxHQUFHLElBQU0yRTtZQUFTO1lBQ2hFO2dCQUFFaEYsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNMkU7WUFBUztTQUNqRTs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWlELFNBQU8sSUFBSUQ7QUFDeEI7QUFDQSxNQUFNRSx3QkFBd0JwSSw2REFBV0E7SUFDdkNDLGFBQUE7UUFDRSxLQUFLLENBQUMsc0NBQXNDO1lBQzFDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNOEgsYUFBYSxJQUFJRDtBQUM5QjtBQUNBLE1BQU1FLDBCQUEwQnRJLDZEQUFXQTtJQUN6Q0MsYUFBQTtRQUNFLEtBQUssQ0FBQyx3Q0FBd0M7WUFDNUM7Z0JBQ0VDLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFnQkMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDcEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1nSSxlQUFlLElBQUlEO0FBQ2hDO0FBQ0EsTUFBTUUsMEJBQTBCeEksNkRBQVdBO0lBQ3pDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHdDQUF3QztZQUM1QztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBc0Y7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUNFM0YsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWtJLGVBQWUsSUFBSUQ7QUFDaEM7QUFDQSxNQUFNRSx3QkFBd0IxSSw2REFBV0E7SUFDdkNDLGFBQUE7UUFDRSxLQUFLLENBQUMsc0NBQXNDO1lBQzFDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0F1Rjt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQ0U1RixJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNb0ksYUFBYSxJQUFJRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeGlEOUIscUJBQ0E7QUFDQTtBQUNBO0FBa1dBO0FBQ0EsTUFBTUUsMkNBQTJDNUksNkRBQVdBO0lBQzFEQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHlEQUF5RDtZQUM3RDtnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDbEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1zSSxnQ0FDWCxJQUFJRDtBQUNOO0FBQ0EsTUFBTUUsNENBQTRDOUksNkRBQVdBO0lBQzNEQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLDBEQUEwRDtZQUM5RDtnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBU0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNVjtZQUFLO1NBQ3hEOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNa0osaUNBQ1gsSUFBSUQ7QUFDTjtBQUNBLE1BQU1FLDBDQUEwQ2hKLDZEQUFXQTtJQUN6REMsYUFBQTtRQUNFLEtBQUssQ0FBQyx3REFBd0Q7WUFDNUQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQ2xEOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNMEksK0JBQ1gsSUFBSUQ7QUFDTjtBQUNBLE1BQU1FLDJDQUEyQ2xKLDZEQUFXQTtJQUMxREMsYUFBQTtRQUNFLEtBQUssQ0FBQyx5REFBeUQ7WUFDN0Q7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTVY7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXNKLGdDQUNYLElBQUlEO0FBQ047QUFDQSxNQUFNRSwwQkFBMEJwSiw2REFBV0E7SUFDekNDLGFBQUE7UUFDRSxLQUFLLENBQUMsd0NBQXdDO1lBQzVDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0FxRjt3QkFDQTtxQkFDRDtZQUNGO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU15RCxlQUFlLElBQUlEO0FBQ2hDO0FBQ0EsTUFBTUUsdUJBQXVCdEosNkRBQVdBO0lBQ3RDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHFDQUFxQztZQUN6QztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTThJO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTUUsWUFBWSxJQUFJRDtBQUM3QjtBQUNBLE1BQU1FLDhCQUE4QnhKLDZEQUFXQTtJQUM3Q0MsYUFBQTtRQUNFLEtBQUssQ0FBQyw0Q0FBNEM7WUFDaEQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFPQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMxQztnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBaUJDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTWdJO1lBQVk7WUFDdEU7Z0JBQUVySSxJQUFJO2dCQUFHQyxNQUFNO2dCQUFpQkMsTUFBTTtnQkFBV0csR0FBRyxJQUFNZ0k7WUFBWTtZQUN0RTtnQkFDRXJJLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNa0k7WUFDVjtZQUNEO2dCQUNFdkksSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU1vSTtZQUNWO1lBQ0Q7Z0JBQUV6SSxJQUFJO2dCQUFJQyxNQUFNO2dCQUFhQyxNQUFNO2dCQUFXRyxHQUFHLElBQU1nSjtZQUFTO1NBQ2pFOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNRSxtQkFBbUIsSUFBSUQ7QUFDcEM7QUFDQSxNQUFNRSwrQkFBK0IxSiw2REFBV0E7SUFDOUNDLGFBQUE7UUFDRSxLQUFLLENBQUMsNkNBQTZDO1lBQ2pEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFTQyxNQUFNO2dCQUFXRyxHQUFHLElBQU1WO1lBQUs7U0FDeEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU04SixvQkFBb0IsSUFBSUQ7QUFDckM7QUFDQSxNQUFNRSwrQkFBK0I1Siw2REFBV0E7SUFDOUNDLGFBQUE7UUFDRSxLQUFLLENBQUMsNkNBQTZDO1lBQ2pEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUFDO3dCQUFvQzRFO3dCQUFVO3FCQUFhO1lBQ3RFO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0wRSxvQkFBb0IsSUFBSUQ7QUFDckM7QUFDQSxNQUFNRSxnQ0FBZ0M5Siw2REFBV0E7SUFDL0NDLGFBQUE7UUFDRSxLQUFLLENBQUMsOENBQThDO1lBQ2xEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFTQyxNQUFNO2dCQUFXRyxHQUFHLElBQU1WO1lBQUs7U0FDeEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1rSyxxQkFBcUIsSUFBSUQ7QUFDdEM7QUFDQSxNQUFNRSxxQ0FBcUNoSyw2REFBV0E7SUFDcERDLGFBQUE7UUFDRSxLQUFLLENBQUMsbURBQW1EO1lBQ3ZEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsSUFBTTBKO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTUMsMEJBQTBCLElBQUlGO0FBQzNDO0FBQ0EsTUFBTUcsc0NBQXNDbkssNkRBQVdBO0lBQ3JEQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLG9EQUFvRDtZQUN4RDtnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBU0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNVjtZQUFLO1NBQ3hEOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNdUssMkJBQTJCLElBQUlEO0FBQzVDO0FBQ0EsTUFBTUUsNEJBQTRCckssNkRBQVdBO0lBQzNDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQztZQUM5QztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBK0U7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUFFcEYsSUFBSTtnQkFBR0MsTUFBTTtnQkFBU0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDN0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0wSixpQkFBaUIsSUFBSUk7QUFDbEM7QUFDQSxNQUFNQyw4QkFBOEJ0Syw2REFBV0E7SUFDN0NDLGFBQUE7UUFDRSxLQUFLLENBQUMsNENBQTRDO1lBQ2hEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFTQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUM3Qzs7QUFFSjtBQUNEOztDQUVHLEdBQzZCLElBQUkrSjtBQUNwQztBQUNBLE1BQU1DLDhCQUE4QnZLLDZEQUFXQTtJQUM3Q0MsYUFBQTtRQUNFLEtBQUssQ0FBQyw0Q0FBNEM7WUFDaEQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQzdDOztBQUVKO0FBQ0Q7O0NBRUcsR0FDNkIsSUFBSWdLO0FBQ3BDO0FBQ0EsTUFBTUMsd0NBQXdDeEssNkRBQVdBO0lBQ3ZEQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHNEQUFzRDtZQUMxRDtnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLElBQU1rSztZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLDZCQUE2QixJQUFJRjtBQUM5QztBQUNBLE1BQU1HLHlDQUF5QzNLLDZEQUFXQTtJQUN4REMsYUFBQTtRQUNFLEtBQUssQ0FBQyx1REFBdUQ7WUFDM0Q7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTVY7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTStLLDhCQUNYLElBQUlEO0FBQ047QUFDQSxNQUFNRSxzQ0FBc0M3Syw2REFBV0E7SUFDckRDLGFBQUE7UUFDRSxLQUFLLENBQUMsb0RBQW9EO1lBQ3hEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFXQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQStFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFBRXBGLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWFDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTW1HO1lBQWM7U0FDckU7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0rRCwyQkFBMkIsSUFBSUk7QUFDNUM7QUFDQSxNQUFNQywrQkFBK0I5Syw2REFBV0E7SUFDOUNDLGFBQUE7UUFDRSxLQUFLLENBQUMsNkNBQTZDO1lBQ2pEO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQUM7d0JBQW9DNEU7d0JBQVU7cUJBQWE7WUFDdEU7WUFDRDtnQkFBRWpGLElBQUk7Z0JBQUdDLE1BQU07Z0JBQU9DLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzFDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUNsRDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXdLLG9CQUFvQixJQUFJRDtBQUNyQztBQUNBLE1BQU1FLGdDQUFnQ2hMLDZEQUFXQTtJQUMvQ0MsYUFBQTtRQUNFLEtBQUssQ0FBQyw4Q0FBOEM7WUFDbEQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTVY7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTW9MLHFCQUFxQixJQUFJRDtBQUN0QztBQUNBLE1BQU1FLGdDQUFnQ2xMLDZEQUFXQTtJQUMvQ0MsYUFBQTtRQUNFLEtBQUssQ0FBQyw4Q0FBOEM7WUFDbEQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTVY7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXNMLHFCQUFxQixJQUFJRDtBQUN0QztBQUNBLE1BQU1FLGlDQUFpQ3BMLDZEQUFXQTtJQUNoREMsYUFBQTtRQUNFLEtBQUssQ0FBQywrQ0FBK0M7WUFDbkQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQU9DLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzFDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsSUFBTStHO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTStELHNCQUFzQixJQUFJRDtBQUN2QztBQUNBLE1BQU1FLGtDQUFrQ3RMLDZEQUFXQTtJQUNqREMsYUFBQTtRQUNFLEtBQUssQ0FBQyxnREFBZ0Q7WUFDcEQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQU9DLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzFDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBZUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDbEQ7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTVY7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTTBMLHVCQUF1QixJQUFJRDtBQUN4Qzs7Q0FFRyxHQUNJLE1BQU1FLGVBQWUsSUFBSUMsaUVBQVdBLENBQ3pDLHdDQUNBO0lBQ0U7UUFDRXRMLE1BQU07UUFDTlEsU0FBUztRQUNUK0ssR0FBR0w7UUFDSE0sR0FBR0o7SUFDSjtJQUNEO1FBQ0VwTCxNQUFNO1FBQ05RLFNBQVM7UUFDVCtLLEdBQUdYO1FBQ0hZLEdBQUdWO0lBQ0o7SUFDRDtRQUFFOUssTUFBTTtRQUFjUSxTQUFTO1FBQUkrSyxHQUFHdEU7UUFBWXVFLEdBQUdSO0lBQWtCO0lBQ3ZFO1FBQ0VoTCxNQUFNO1FBQ05RLFNBQVM7UUFDVCtLLEdBQUdoQjtRQUNIaUIsR0FBR2Y7SUFDSjtJQUNEO1FBQ0V6SyxNQUFNO1FBQ05RLFNBQVM7UUFDVCtLLEdBQUd4QjtRQUNIeUIsR0FBR3ZCO0lBQ0o7SUFDRDtRQUNFakssTUFBTTtRQUNOUSxTQUFTO1FBQ1QrSyxHQUFHN0I7UUFDSDhCLEdBQUc1QjtJQUNKO0lBQ0Q7UUFDRTVKLE1BQU07UUFDTlEsU0FBUztRQUNUK0ssR0FBR2pDO1FBQ0hrQyxHQUFHaEM7SUFDSjtJQUNEO1FBQ0V4SixNQUFNO1FBQ05RLFNBQVM7UUFDVCtLLEdBQUc3QztRQUNIOEMsR0FBRzVDO0lBQ0o7SUFDRDtRQUNFNUksTUFBTTtRQUNOUSxTQUFTO1FBQ1QrSyxHQUFHekM7UUFDSDBDLEdBQUd4QztJQUNKO0NBQ0Y7QUN2ekJILHFCQUNBO0FBQ0E7QUFDQTtBQWsyQkE7QUFDQSxNQUFNeUMsc0JBQXNCNUwsNkRBQVdBO0lBQ3JDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLG1DQUFtQztZQUN2QztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU1zTDtZQUNWO1lBQ0Q7Z0JBQ0UzTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTXVMO1lBQ1Y7WUFDRDtnQkFDRTVMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNd0w7WUFDVjtZQUNEO2dCQUNFN0wsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU15TDtZQUNWO1lBQ0Q7Z0JBQ0U5TCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTTBMO1lBQ1Y7WUFDRDtnQkFDRS9MLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNMkw7WUFDVjtZQUNEO2dCQUNFaE0sSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU00TDtZQUNWO1lBQ0Q7Z0JBQ0VqTSxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTTZMO1lBQ1Y7WUFDRDtnQkFDRWxNLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNOEw7WUFDVjtZQUNEO2dCQUNFbk0sSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU0rTDtZQUNWO1lBQ0Q7Z0JBQ0VwTSxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTWdNO1lBQ1Y7WUFDRDtnQkFDRXJNLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNaU07WUFDVjtZQUNEO2dCQUNFdE0sSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU1rTTtZQUNWO1lBQ0Q7Z0JBQ0V2TSxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTVY7WUFDVjtZQUNEO2dCQUNFSyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTW1NO1lBQ1Y7WUFDRDtnQkFDRXhNLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNb007WUFDVjtZQUNEO2dCQUNFek0sSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU1xTTtZQUNWO1lBQ0Q7Z0JBQ0UxTSxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTXNNO1lBQ1Y7WUFDRDtnQkFDRTNNLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNdU07WUFDVjtZQUNEO2dCQUNFNU0sSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU13TTtZQUNWO1lBQ0Q7Z0JBQ0U3TSxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTXlNO1lBQ1Y7WUFDRDtnQkFDRTlNLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNME07WUFDVjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNQyxXQUFXLElBQUl0QjtBQUM1QjtBQUNBLE1BQU11QixrQ0FBa0NuTiw2REFBV0E7SUFDakRDLGFBQUE7UUFDRSxLQUFLLENBQUMsK0NBQStDO1lBQ25EO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNONkMsUUFBUSxFQUFDO2dCQUNUMUMsR0FBRyxJQUFNMEc7WUFDVjtZQUNEO2dCQUFFL0csSUFBSTtnQkFBR0MsTUFBTTtnQkFBVUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDOUM7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0wTSx1QkFBdUIsSUFBSUU7QUFDeEM7QUFDQSxNQUFNQywwQ0FBMENwTiw2REFBV0E7SUFDekRDLGFBQUE7UUFDRSxLQUFLLENBQUMsdURBQXVELEVBQUU7O0FBRWxFO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNb04sK0JBQ1gsSUFBSUQ7QUFDTjtBQUNBLE1BQU1FLDBDQUEwQ3ROLDZEQUFXQTtJQUN6REMsYUFBQTtRQUNFLEtBQUssQ0FBQyx1REFBdUQsRUFBRTs7QUFFbEU7QUFDRDs7Q0FFRyxHQUNJLE1BQU0rTSwrQkFDWCxJQUFJTTtBQUNOO0FBQ0EsTUFBTUMseUJBQXlCdk4sNkRBQVdBO0lBQ3hDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHNDQUFzQztZQUMxQztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsSUFBTTJGO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTTJHLGNBQWMsSUFBSVU7QUFDL0I7QUFDQSxNQUFNaEcsbUJBQW1CdkgsNkRBQVdBO0lBQ2xDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLGdDQUFnQztZQUNwQztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBU0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNaU47WUFBTTtZQUN4RDtnQkFDRXROLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQXFGO3dCQUNBO3FCQUNEO1lBQ0Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTS9GLFVBQVEsSUFBSTBIO0FBQ3pCO0FBQ0EsTUFBTUosd0JBQXdCbkgsNkRBQVdBO0lBQ3ZDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHFDQUFxQztZQUN6QztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUFDO3dCQUFvQzRFO3dCQUFVO3FCQUFhO1lBQ3RFO1lBQ0Q7Z0JBQ0VqRixJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNNkcsYUFBYSxJQUFJRDtBQUM5QjtBQUNBLE1BQU1zRyx3QkFBd0J6Tiw2REFBV0E7SUFDdkNDLGFBQUE7UUFDRSxLQUFLLENBQUMscUNBQXFDO1lBQ3pDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQUM7d0JBQW9DNEU7d0JBQVU7cUJBQWE7WUFDdEU7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXlILGFBQWEsSUFBSWE7QUFDOUI7QUFDQSxNQUFNQyx3QkFBd0IxTiw2REFBV0E7SUFDdkNDLGFBQUE7UUFDRSxLQUFLLENBQUMscUNBQXFDO1lBQ3pDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNOeUIsT0FBTztnQkFDUHRCLEdBQUcsSUFBTW9OO1lBQ1Y7WUFDRDtnQkFDRXpOLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ055QixPQUFPO2dCQUNQdEIsR0FBRyxJQUFNcU47WUFDVjtZQUNEO2dCQUNFMU4sSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTnlCLE9BQU87Z0JBQ1B0QixHQUFHLElBQU1zTjtZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLGFBQWEsSUFBSUo7QUFDOUI7QUFDQSxNQUFNSyw4QkFBOEIvTiw2REFBV0E7SUFDN0NDLGFBQUE7UUFDRSxLQUFLLENBQUMsMkNBQTJDO1lBQy9DO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBVUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDOUM7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1zTixtQkFBbUIsSUFBSUU7QUFDcEM7QUFDQSxNQUFNQyxnQ0FBZ0NoTyw2REFBV0E7SUFDL0NDLGFBQUE7UUFDRSxLQUFLLENBQUMsNkNBQTZDLEVBQUU7O0FBRXhEO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNMk4scUJBQXFCLElBQUlJO0FBQ3RDO0FBQ0EsTUFBTUMsaUNBQWlDak8sNkRBQVdBO0lBQ2hEQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLDhDQUE4QztZQUNsRDtnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNMEY7WUFDVjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNc0csc0JBQXNCLElBQUkwQjtBQUN2QztBQUNBLE1BQU1DLDRCQUE0QmxPLDZEQUFXQTtJQUMzQ0MsYUFBQTtRQUNFLEtBQUssQ0FBQyx5Q0FBeUM7WUFDN0M7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVdDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzlDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBK0U7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUFFcEYsSUFBSTtnQkFBR0MsTUFBTTtnQkFBZUMsTUFBTTtnQkFBV0csR0FBRyxJQUFNeUY7WUFBVztTQUNwRTs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXdHLGlCQUFpQixJQUFJMEI7QUFDbEM7QUFDQSxNQUFNQyw4QkFBOEJuTyw2REFBV0E7SUFDN0NDLGFBQUE7UUFDRSxLQUFLLENBQUMsMkNBQTJDO1lBQy9DO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFXQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQStFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFDRXBGLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQWtGO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFBRXZGLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWVDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXlGO1lBQVc7U0FDcEU7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU15RyxtQkFBbUIsSUFBSTBCO0FBQ3BDO0FBQ0EsTUFBTUMseUJBQXlCcE8sNkRBQVdBO0lBQ3hDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHNDQUFzQztZQUMxQztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBU0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDNUM7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU1zSDtZQUNWO1lBQ0Q7Z0JBQUUzSCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFhQyxNQUFNO2dCQUFXRyxHQUFHLElBQU04TjtZQUFTO1lBQy9EO2dCQUNFbk8sSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNK047WUFDVjtZQUNEO2dCQUNFcE8sSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsSUFBTTBHO1lBQ1Y7WUFDRDtnQkFDRS9HLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLElBQU13RztZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU00RyxjQUFjLElBQUlTO0FBQy9CO0FBQ0EsTUFBTUcsOEJBQThCdk8sNkRBQVdBO0lBQzdDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLDJDQUEyQztZQUMvQztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBcUY7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUNFMUYsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsSUFBTStHO1lBQ1Y7WUFDRDtnQkFDRXBILElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLElBQU1rSztZQUNWO1lBQ0Q7Z0JBQ0V2SyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEdBQUU7WUFDTjtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNK04sbUJBQW1CLElBQUlDO0FBQ3BDO0FBQ0EsTUFBTUMsdUJBQXVCeE8sNkRBQVdBO0lBQ3RDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLG9DQUFvQztZQUN4QztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUwsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsSUFBTStHO1lBQ1Y7WUFDRDtnQkFDRXBILElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLElBQU1rSztZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU00RCxZQUFZLElBQUlHO0FBQzdCO0FBQ0EsTUFBTUMsMEJBQTBCek8sNkRBQVdBO0lBQ3pDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHVDQUF1QztZQUMzQztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNNEY7WUFBUztZQUNoRTtnQkFBRWpHLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWVDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2xEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNONkMsUUFBUSxFQUFDO2dCQUNUMUMsR0FBRyxJQUFNMEc7WUFDVjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNcUYsZUFBZSxJQUFJbUM7QUFDaEM7QUFDQSxNQUFNQywrQkFBK0IxTyw2REFBV0E7SUFDOUNDLGFBQUE7UUFDRSxLQUFLLENBQUMsNENBQTRDO1lBQ2hEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFZQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMvQztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBZUMsTUFBTTtnQkFBV0csR0FBRyxJQUFNeUY7WUFBVztTQUNwRTs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTW1HLG9CQUFvQixJQUFJdUM7QUFDckM7QUFDQSxNQUFNQyw2QkFBNkIzTyw2REFBV0E7SUFDNUNDLGFBQUE7UUFDRSxLQUFLLENBQUMsMENBQTBDO1lBQzlDO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFZQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMvQztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBZUMsTUFBTTtnQkFBV0csR0FBRyxJQUFNeUY7WUFBVztTQUNwRTs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTW9HLGtCQUFrQixJQUFJdUM7QUFDbkM7QUFDQSxNQUFNQyxnQ0FBZ0M1Tyw2REFBV0E7SUFDL0NDLGFBQUE7UUFDRSxLQUFLLENBQUMsNkNBQTZDO1lBQ2pEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFZQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMvQztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBZUMsTUFBTTtnQkFBV0csR0FBRyxJQUFNeUY7WUFBVztTQUNwRTs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTStHLHFCQUFxQixJQUFJNkI7QUFDdEM7QUFDQSxNQUFNQyw2QkFBNkI3Tyw2REFBV0E7SUFDNUNDLGFBQUE7UUFDRSxLQUFLLENBQUMsMENBQTBDO1lBQzlDO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFlQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNsRDtnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBT0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDM0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1zTCxrQkFBa0IsSUFBSWdEO0FBQ25DO0FBQ0EsTUFBTUMsNkJBQTZCOU8sNkRBQVdBO0lBQzVDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQztZQUM5QztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBT0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDM0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU11TCxrQkFBa0IsSUFBSWdEO0FBQ25DO0FBQ0EsTUFBTUMsc0NBQXNDL08sNkRBQVdBO0lBQ3JEQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLG1EQUFtRDtZQUN2RDtnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTjZDLFFBQVEsRUFBQztnQkFDVDFDLEdBQUcsSUFBTXlPO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWpELDJCQUEyQixJQUFJZ0Q7QUFDNUM7QUFDQSxNQUFNRSxtQ0FBbUNqUCw2REFBV0E7SUFDbERDLGFBQUE7UUFDRSxLQUFLLENBQUMsZ0RBQWdEO1lBQ3BEO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFXQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQTZFO3dCQUNBO3FCQUNEO1lBQ0Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTTRKLHdCQUF3QixJQUFJQztBQUN6QztBQUNBLE1BQU1DLG9DQUFvQ2xQLDZEQUFXQTtJQUNuREMsYUFBQTtRQUNFLEtBQUssQ0FBQyxpREFBaUQ7WUFDckQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVdDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzlDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFjQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUNsRDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTThMLHlCQUF5QixJQUFJNkM7QUFDMUM7QUFDQSxNQUFNQyx3QkFBd0JuUCw2REFBV0E7SUFDdkNDLGFBQUE7UUFDRSxLQUFLLENBQUMscUNBQXFDO1lBQ3pDO2dCQUFFQyxJQUFJO2dCQUFHQyxNQUFNO2dCQUFXQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBY0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzVDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFlQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUNuRDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTTZPLGFBQWEsSUFBSUQ7QUFDOUI7QUFDQSxNQUFNRSwrQkFBK0JyUCw2REFBV0E7SUFDOUNDLGFBQUE7UUFDRSxLQUFLLENBQUMsNENBQTRDO1lBQ2hEO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNONkMsUUFBUSxFQUFDO2dCQUNUMUMsR0FBRyxJQUFNNk87WUFDVjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNcEQsb0JBQW9CLElBQUlxRDtBQUNyQztBQUNBLE1BQU1DLHlCQUF5QnRQLDZEQUFXQTtJQUN4Q0MsYUFBQTtRQUNFLEtBQUssQ0FBQyxzQ0FBc0M7WUFDMUM7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXVHO1lBQUs7WUFDdkQ7Z0JBQ0U1RyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0ErRTt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQ0VwRixJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNZ1AsY0FBYyxJQUFJRDtBQUMvQjtBQUNBLE1BQU1FLCtCQUErQnhQLDZEQUFXQTtJQUM5Q0MsYUFBQTtRQUNFLEtBQUssQ0FBQyw0Q0FBNEM7WUFDaEQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVFDLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzNDO2dCQUFFTCxJQUFJO2dCQUFHQyxNQUFNO2dCQUFVQyxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM3QztnQkFBRUwsSUFBSTtnQkFBR0MsTUFBTTtnQkFBZUMsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDbEQ7Z0JBQ0VMLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQUVMLElBQUk7Z0JBQUdDLE1BQU07Z0JBQVNDLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXVHO1lBQUs7WUFDdkQ7Z0JBQ0U1RyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEdBQUU7WUFDTjtZQUNEO2dCQUNFTCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNa1Asb0JBQW9CLElBQUlEO0FBQ3JDO0FBQ0EsTUFBTUUseUJBQXlCMVAsNkRBQVdBO0lBQ3hDQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLHNDQUFzQztZQUMxQztnQkFBRUMsSUFBSTtnQkFBR0MsTUFBTTtnQkFBU0MsTUFBTTtnQkFBV0csR0FBRyxJQUFNdUc7WUFBSztZQUN2RDtnQkFDRTVHLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLElBQU1rUDtZQUNWO1lBQ0Q7Z0JBQ0V2UCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0ErRTt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQ0VwRixJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNb1AsY0FBYyxJQUFJRDtBQUMvQjtBQUNBLE1BQU1FLGtDQUFrQzVQLDZEQUFXQTtJQUNqREMsYUFBQTtRQUNFLEtBQUssQ0FBQywrQ0FBK0M7WUFDbkQ7Z0JBQ0VDLElBQUk7Z0JBQ0pDLE1BQU07Z0JBQ05DLE1BQU07Z0JBQ042QyxRQUFRLEVBQUM7Z0JBQ1QxQyxHQUFHLElBQU1nUDtZQUNWO1lBQ0Q7Z0JBQ0VyUCxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNONkMsUUFBUSxFQUFDO2dCQUNUMUMsR0FBRyxJQUFNb1A7WUFDVjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNekQsdUJBQXVCLElBQUkwRDtBQUN4QztBQUNBLE1BQU1DLCtCQUErQjdQLDZEQUFXQTtJQUM5Q0MsYUFBQTtRQUNFLEtBQUssQ0FBQyw0Q0FBNEM7WUFDaEQ7Z0JBQUVDLElBQUk7Z0JBQUdDLE1BQU07Z0JBQWtCQyxNQUFNO2dCQUFXRyxHQUFHLElBQU04SDtZQUFVO1lBQ3JFO2dCQUFFbkksSUFBSTtnQkFBR0MsTUFBTTtnQkFBV0MsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDL0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1tTSxvQkFBb0IsSUFBSW1EO0FBQ3JDO0FBQ0EsTUFBTUMsb0JBQW9COVAsNkRBQVdBO0lBQ25DQyxhQUFBO1FBQ0UsS0FBSyxDQUFDLGlDQUFpQztZQUNyQztnQkFDRUMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBbUY7d0JBQ0E7cUJBQ0Q7WUFDRjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNaUgsU0FBUyxJQUFJbUQ7QUFDMUI7QUFDQSxNQUFNQyx1QkFBdUIvUCw2REFBV0E7SUFDdENDLGFBQUE7UUFDRSxLQUFLLENBQUMsb0NBQW9DO1lBQ3hDO2dCQUNFQyxJQUFJO2dCQUNKQyxNQUFNO2dCQUNOQyxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0FvRjt3QkFDQTtxQkFDRDtZQUNGO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1tSCxZQUFZLElBQUlpRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lDL3REakJDO0FBQVosVUFBWUEsZUFBZTtJQUN6QkEsZUFBQTtJQUNBQSxlQUFBO0lBQ0FBLGVBQUE7QUFDRixHQUpZQSxtQkFBQUEsQ0FBQUEsa0JBSVg7SUFFV0M7QUFBWixVQUFZQSxZQUFZO0lBQ3RCQSxZQUFBLENBQUFBLFlBQUE7SUFDQUEsWUFBQSxDQUFBQSxZQUFBO0lBQ0FBLFlBQUEsQ0FBQUEsWUFBQTtJQUNBQSxZQUFBLENBQUFBLFlBQUE7QUFDRixHQUxZQSxnQkFBQUEsQ0FBQUEsZUFLWDtBQzBFRDs7Q0FFRyxTQUNVQztJQUlYalEsWUFBNkJrUSxVQUF3QjtRQUF4QixJQUFVLENBQUFBLFVBQUEsR0FBVkE7UUFIN0IsS0FBQTVPLFFBQVEsR0FBR2lLLGFBQWFqSyxRQUFRO1FBQ2hDLEtBQUE2TyxPQUFPLEdBQUc1RSxhQUFhNEUsT0FBTztRQUM5QixLQUFBelAsT0FBTyxHQUFHNkssYUFBYTdLLE9BQU87O0lBRTlCOzs7O0tBSUcsR0FDSDBQLGFBQ0VDLEtBQTBCLEVBQzFCM1AsT0FBb0I7UUFFcEIsTUFBTTRQLFNBQVMsSUFBSSxDQUFDSCxPQUFPLENBQUMsRUFBRSxFQUM1QkksTUFBTSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sWUFBWSxDQUFDOVA7UUFDckMsT0FBTytQLHdFQUFjQSxDQUNuQixTQUNBLElBQUksQ0FBQ1AsVUFBVSxFQUNmSSxRQUNBQyxLQUNBRjs7SUFHSjs7OztLQUlHLEdBQ0hLLFdBQ0VMLEtBQXdCLEVBQ3hCM1AsT0FBb0I7UUFFcEIsTUFBTTRQLFNBQVMsSUFBSSxDQUFDSCxPQUFPLENBQUMsRUFBRSxFQUM1QkksTUFBTSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sWUFBWSxDQUFDOVA7UUFDckMsT0FBTytQLHdFQUFjQSxDQUNuQixTQUNBLElBQUksQ0FBQ1AsVUFBVSxFQUNmSSxRQUNBQyxLQUNBRjs7SUFHSjs7OztLQUlHLEdBQ0hNLFdBQ0VOLEtBQWlCLEVBQ2pCM1AsT0FBb0I7UUFFcEIsTUFBTTRQLFNBQVMsSUFBSSxDQUFDSCxPQUFPLENBQUMsRUFBRSxFQUM1QkksTUFBTSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sWUFBWSxDQUFDOVA7UUFDckMsT0FBTytQLHdFQUFjQSxDQUNuQixTQUNBLElBQUksQ0FBQ1AsVUFBVSxFQUNmSSxRQUNBQyxLQUNBRjs7SUFHSjs7Ozs7S0FLRyxHQUNITyxvQkFDRVAsS0FBaUMsRUFDakMzUCxPQUFvQjtRQUVwQixNQUFNNFAsU0FBUyxJQUFJLENBQUNILE9BQU8sQ0FBQyxFQUFFLEVBQzVCSSxNQUFNLElBQUksQ0FBQ0wsVUFBVSxDQUFDTSxZQUFZLENBQUM5UDtRQUNyQyxPQUFPK1Asd0VBQWNBLENBR25CLFNBQVMsSUFBSSxDQUFDUCxVQUFVLEVBQUVJLFFBQVFDLEtBQUtGOztJQUUzQzs7S0FFRyxHQUNIUSxpQkFDRVIsS0FBOEIsRUFDOUIzUCxPQUFvQjtRQUVwQixNQUFNNFAsU0FBUyxJQUFJLENBQUNILE9BQU8sQ0FBQyxFQUFFLEVBQzVCSSxNQUFNLElBQUksQ0FBQ0wsVUFBVSxDQUFDTSxZQUFZLENBQUM5UDtRQUNyQyxPQUFPK1Asd0VBQWNBLENBQ25CLFNBQ0EsSUFBSSxDQUFDUCxVQUFVLEVBQ2ZJLFFBQ0FDLEtBQ0FGOztJQUdKOztLQUVHLEdBQ0hTLFdBQ0VULEtBQXdCLEVBQ3hCM1AsT0FBb0I7UUFFcEIsTUFBTTRQLFNBQVMsSUFBSSxDQUFDSCxPQUFPLENBQUMsRUFBRSxFQUM1QkksTUFBTSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sWUFBWSxDQUFDOVA7UUFDckMsT0FBTytQLHdFQUFjQSxDQUNuQixTQUNBLElBQUksQ0FBQ1AsVUFBVSxFQUNmSSxRQUNBQyxLQUNBRjs7SUFHSjs7S0FFRyxHQUNIVSxVQUNFVixLQUF1QixFQUN2QjNQLE9BQW9CO1FBRXBCLE1BQU00UCxTQUFTLElBQUksQ0FBQ0gsT0FBTyxDQUFDLEVBQUUsRUFDNUJJLE1BQU0sSUFBSSxDQUFDTCxVQUFVLENBQUNNLFlBQVksQ0FBQzlQO1FBQ3JDLE9BQU8rUCx3RUFBY0EsQ0FDbkIsU0FDQSxJQUFJLENBQUNQLFVBQVUsRUFDZkksUUFDQUMsS0FDQUY7O0lBR0o7O0tBRUcsR0FDSFcsdUJBQ0VYLEtBQW9DLEVBQ3BDM1AsT0FBb0I7UUFFcEIsTUFBTTRQLFNBQVMsSUFBSSxDQUFDSCxPQUFPLENBQUMsRUFBRSxFQUM1QkksTUFBTSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sWUFBWSxDQUFDOVA7UUFDckMsT0FBTytQLHdFQUFjQSxDQUduQixTQUFTLElBQUksQ0FBQ1AsVUFBVSxFQUFFSSxRQUFRQyxLQUFLRjs7SUFFM0M7O0tBRUcsR0FDSFksc0JBQ0VaLEtBQW1DLEVBQ25DM1AsT0FBb0I7UUFFcEIsTUFBTTRQLFNBQVMsSUFBSSxDQUFDSCxPQUFPLENBQUMsRUFBRSxFQUM1QkksTUFBTSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sWUFBWSxDQUFDOVA7UUFDckMsT0FBTytQLHdFQUFjQSxDQUduQixTQUFTLElBQUksQ0FBQ1AsVUFBVSxFQUFFSSxRQUFRQyxLQUFLRjs7QUFFNUM7QUM1UEQsTUFBTWEsaUJBQStCO0lBQ25DQyxTQUFTO0lBQ1RDLFVBQVU7SUFDVkMsU0FBUyxJQUFJO0lBQ2JDLGFBQWE7UUFDWEMscUJBQXFCO0lBQ3RCOztBQUdJLE1BQU1DLGNBQWMsQ0FDekJDO0lBRUEsT0FBTztRQUNMQyxnQkFDRUMsSUFBaUIsRUFDakJyQixNQUFrQixFQUNsQkQsS0FBYSxFQUNiM1AsT0FBbUI7WUFFbkJBLFFBQVFrUixJQUFJLEdBQUc7Z0JBQUUsR0FBR2xSLFFBQVFrUixJQUFJO2dCQUFFLEdBQUdILE9BQU87WUFBQTtZQUM1QyxPQUFPRSxLQUFLckIsUUFBUUQsT0FBTzNQOzs7QUFHakM7QUFFTyxNQUFNbVIsb0JBQW9CLENBQy9CQyxRQUNBQztJQUVBLE9BQU87UUFDTEwsZ0JBQWdCLENBQ2RDLE1BQ0FyQixRQUNBRCxPQUNBM1A7WUFFQSxJQUFJc1I7WUFDSixJQUFJO2dCQUNGQSxhQUFhTCxLQUFLckIsUUFBUUQsT0FBTzNQO3FCQUN6QjtnQkFDUm9SLE9BQU9DLE9BQU8sMEJBQTBCekIsT0FBT3BRLElBQUksRUFBRSxFQUFFO29CQUNyRCtSLFNBQVNELFlBQVlDO29CQUNyQlIsU0FBU08sWUFBWUU7b0JBQ3JCQyxVQUFVSCxZQUFZRztnQkFDdkI7O1lBRUgsT0FBT0g7OztBQUdiO0FBRUE7Ozs7Q0FJRyxHQUNJLE1BQU1JLHFCQUFxQixDQUFDMVI7SUFDakMsTUFBTTJSLFlBQVksSUFBSUMsOEVBQW1CQSxDQUFDO1FBQ3hDLEdBQUdwQixjQUFjO1FBQ2pCLEdBQUd4USxPQUFPO0lBQ1g7SUFFRCxPQUFPLElBQUl1UCxtQkFBbUJvQztBQUNoQztBQ3pFTyxNQUFNRSxRQUFRLENBQUNDLElBQWMsSUFBSUMsUUFBUSxDQUFDQyxJQUFNQyxXQUFXRCxHQUFHRjtBQUUvRCxTQUFVSSxXQUFjQyxLQUFtQjtJQUMvQyxPQUNFQSxTQUNDL1IsQ0FBQUEsT0FBT2dTLFNBQVMsQ0FBQ2hQLFFBQVEsQ0FBQ2lQLElBQUksQ0FBQ0YsV0FBVyx1QkFDekMsZUFBZSxPQUFPQSxTQUN0QkEsaUJBQWlCRyxRQUFBO0FBRXZCO0FBRUE7O0NBRUcsR0FDSSxNQUFNQyxhQUFhO0lBQ3hCQyxlQUFlO0lBQ2ZDLG1CQUFtQjtJQUNuQkMsb0JBQW9CO0lBQ3BCQyxxQkFBcUI7O0FBR3ZCOzs7O0NBSUcsR0FDRyxTQUFVQyxjQUFjQyxnQkFBd0I7O0lBRXBELE1BQU1DLE1BQU01UCxLQUFLNlAsR0FBRyxDQUFDLE1BQU1GLG1CQUFtQixNQUFNO0lBQ3BELE1BQU1FLE1BQU03UCxLQUFLNlAsR0FBRyxDQUFDN1AsS0FBSzRQLEdBQUcsQ0FBQyxLQUFLLENBQUNELG1CQUFtQixLQUFLLE9BQU87SUFDbkUsT0FBTzNQLEtBQUtDLEtBQUssQ0FBQ0QsS0FBSzhQLE1BQU0sS0FBTUYsQ0FBQUEsTUFBTUMsR0FBQSxJQUFPQTtBQUNsRDtTQUVnQkU7SUFDZCxPQUFPQztBQUNUO0FBRUEsU0FBU0MsSUFBSUMsS0FBaUI7SUFDNUIsSUFBSUMsSUFBSTtJQUNSLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJRixNQUFNOU8sTUFBTSxFQUFFZ1AsSUFBSztRQUNyQ0QsS0FBS0QsS0FBSyxDQUFDRSxFQUFFLENBQUNsUSxRQUFRLENBQUMsSUFBSW1RLFFBQVEsQ0FBQyxHQUFHOztJQUV6QyxPQUFPRjtBQUNUO0FBRUE7U0FDZ0JIO0lBQ2QsTUFBTUUsUUFBUUksZUFBZTtJQUM3QkosS0FBSyxDQUFDLEVBQUUsR0FBRyxLQUFNLENBQUMsRUFBRSxHQUFHLE9BQVEsTUFBSztJQUNwQ0EsS0FBSyxDQUFDLEVBQUUsR0FBRyxLQUFNLENBQUMsRUFBRSxHQUFHLE9BQVEsTUFBSztJQUVwQyxPQUNFRCxJQUFJQyxNQUFNSyxRQUFRLENBQUMsR0FBRyxNQUN0QixNQUNBTixJQUFJQyxNQUFNSyxRQUFRLENBQUMsR0FBRyxNQUN0QixNQUNBTixJQUFJQyxNQUFNSyxRQUFRLENBQUMsR0FBRyxNQUN0QixNQUNBTixJQUFJQyxNQUFNSyxRQUFRLENBQUMsR0FBRyxPQUN0QixNQUNBTixJQUFJQyxNQUFNSyxRQUFRLENBQUMsSUFBSTtBQUUzQjtBQUVBLFNBQVNDLDhCQUE4Qk4sS0FBaUI7SUFDdEQsTUFBTU4sTUFBTTVQLEtBQUt5USxHQUFHLENBQUMsR0FBRyxJQUFLUCxNQUFNUSxVQUFVLEdBQUlSLE1BQU05TyxNQUFNO0lBQzdELElBQUssSUFBSWdQLElBQUksR0FBR0EsSUFBSUYsTUFBTTlPLE1BQU0sRUFBRWdQLElBQUs7UUFDckNGLEtBQUssQ0FBQ0UsRUFBRSxHQUFHcFEsS0FBSzhQLE1BQU0sS0FBS0Y7O0FBRS9CO0FBR0EsTUFBTWUsa0JBQWtCLENBQUM7SUFDdkIsSUFDRSxPQUFPQyxXQUFXLGVBQ2xCLE9BQU9BLFFBQVFELG9CQUFvQixhQUNuQztRQUNBLE9BQU9DLE9BQU9ELGVBQWUsQ0FBQ0UsSUFBSSxDQUFDRDtXQUM5QixJQUFJLE9BQU9FLGFBQWEsYUFBYTtRQUMxQyxPQUFPQSxTQUFTSCxlQUFlLENBQUNFLElBQUksQ0FBQ0M7V0FDaEM7UUFDTCxPQUFPTjs7QUFFWDtBQUVBLFNBQVNGLGVBQWVsUCxNQUFjO0lBQ3BDLE1BQU04TyxRQUFRLElBQUlhLFdBQVczUDtJQUM3QnVQLGdCQUFnQlQ7SUFDaEIsT0FBT0E7QUFDVDtBQWFBOztDQUVHLEdBQ0csU0FBVWMsNEJBQTRCQyxFQUFzQjtJQUNoRSxJQUFJLEtBQXdELEVBQUU7QUFJaEU7QUFFTSxTQUFVRywrQkFBK0JILEVBQXNCO0lBQ25FLElBQUksS0FBMkQsRUFBRTtBQUluRTtBQUVNLFNBQVVLLGdCQUNkQyxHQUEyQjtJQUUzQixPQUFPLENBQUNBLElBQUlDLE1BQU0sSUFBSUQsSUFBSUMsTUFBTSxHQUFHLE9BQU8sT0FBT0QsSUFBSUMsTUFBTTtBQUM3RDtBQUVBO0FBQ00sU0FBVUMsYUFDZEYsR0FBc0M7SUFFdEMsT0FBUUEsSUFBbUJHLElBQUksS0FBS3ZUO0FBQ3RDO0FDdElBOztDQUVHLEdBQ0ksTUFBTXdULGdCQUFnQjtJQUMzQixJQUFJLE9BQU9DLGNBQWMsYUFBYSxPQUFPO0lBQzdDLE9BQU9BLFVBQVVDLE9BQU8sRUFBRUMsa0JBQWtCO0FBQzlDO0FDSEE7QUFDYSxNQUFBQyxZQUFzQzdVLE9BQU84VSxNQUFNLENBQUM7SUFDL0RDLE9BQU87SUFDUEMsT0FBTztJQUNQQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsT0FBTztBQUNSO0FBRUQsSUFBSW5FO0FBQ0osSUFBSUMsUUFBa0I7QUFFZixNQUFNbUUsZUFBdUIsQ0FBQ0MsVUFBVTFWLFNBQVMsR0FBRzJWO0lBQ3pELElBQUlDO0lBQ0osT0FBUUY7UUFDTixLQUFLO1lBQ0gsSUFBSVosaUJBQWlCO2dCQUNuQjlVLFVBQVUsVUFBVUEsUUFBTyxDQUFFO2dCQUM3QjRWLFlBQVlDLFFBQVFQLElBQUk7Z0JBQ3hCOztZQUVGTSxZQUFZQyxRQUFRTCxLQUFLO1lBQ3pCO1FBQ0YsS0FBSztZQUNILElBQUlWLGlCQUFpQjtnQkFDbkI5VSxVQUFVLFNBQVNBLFFBQU8sQ0FBRTtnQkFDNUI0VixZQUFZQyxRQUFRUCxJQUFJO2dCQUN4Qjs7WUFFRk0sWUFBWUMsUUFBUU4sSUFBSTtZQUN4QjtRQUNGLEtBQUs7WUFDSEssWUFBWUMsUUFBUVAsSUFBSTtZQUN4QjtRQUNGLEtBQUs7WUFDSE0sWUFBWUMsUUFBUVQsS0FBSztZQUN6QjtRQUNGO1lBQ0VRLFlBQVlDLFFBQVFDLEdBQUc7WUFDdkI7O0lBR0pGLFVBQVU1VixZQUFZMlY7QUFDeEI7TUFFYUksWUFBWSxDQUFDQyxHQUFXQztJQUNuQzVFLFNBQVMyRTtJQUNULElBQUlDLEtBQUs7UUFDUEMsWUFBWUQ7O0FBRWhCO0FBRWEsTUFBQUMsY0FBYyxDQUFDRjtJQUMxQjFFLFFBQVEwRTtBQUNWO01BRWFHLGNBQWMsSUFBZ0I3RTtBQUU5QixNQUFBOEUsWUFBWSxDQUFDQztJQUN4QixNQUFNQyxlQUFlakYsVUFBVW9FO0lBQy9CLE1BQU1jLE9BQU8sQ0FBQ0YsWUFBWSxFQUFFLEVBQUVHLE1BQU0sQ0FBQ0MsU0FBU0MsSUFBSSxDQUFDO0lBQ25ELE1BQU1DLFNBQWlCLENBQUNqQixVQUFVMVYsU0FBUyxHQUFHMlY7UUFDNUMsSUFBSVQsU0FBUyxDQUFDUSxTQUFTLElBQUlSLFNBQVMsQ0FBQzVELE1BQU0sRUFBRTtZQUMzQ2dGLGFBQWFaLFVBQVUsSUFBSWEsS0FBSSxLQUFNdlcsUUFBTyxDQUFFLEtBQUsyVjs7SUFFdkQ7SUFDQSxPQUFPZ0I7QUFDVDtBQ2hEQTs7Ozs7Ozs7Q0FRRyxHQUNJLE1BQU1DLFlBQVksT0FJdkJDLEtBQ0FDO0lBRUEsSUFBSUMsVUFBVTtJQUNkLElBQUlKLFNBQThDclY7SUFDbEQsR0FBRztRQUNELElBQUl5VixVQUFVLEdBQUcsTUFBTWpGLE1BQU1lLGNBQWNrRTtRQUMzQyxJQUFJO1lBQ0ZKLFNBQVMsTUFBTUU7VUFDZixPQUFPRyxLQUFLO1lBQ1osTUFBTUMscUJBQ0pELGVBQWVFLCtEQUFRQSxJQUN2QkYsSUFBSW5DLElBQUksS0FBS3NDLHlFQUFjLENBQUNBLHlFQUFjQSxDQUFDQyxTQUFTLENBQUM7WUFDdkQsTUFBTUMsWUFBWVAsUUFBUVEsV0FBVztZQUNyQyxJQUFJTCxzQkFBc0JJLFdBQVcsTUFBTUw7WUFDM0NaLFVBQVU7Z0JBQUM7Z0JBQWM7YUFBTSxFQUFFLFNBQVMsZUFBZVcsUUFBTyxFQUFHLEVBQUVDO1lBQ3JFRDs7WUFFSyxDQUFDSixVQUFVQSxPQUFPakYsUUFBUSxDQUFDOEQsS0FBSyxFQUFFK0IsYUFBYTtJQUV4RCxPQUFPWjtBQUNUO0FDeERBOzs7Ozs7Q0FNRyxHQUNJLE1BQU1hLGdCQUFnQixPQUFPQztJQUNsQyxNQUFNQyxTQUFTLElBQUlDO0lBQ25CRCxPQUFPRSxjQUFjLENBQUMsU0FBUztRQUFFSDtJQUFTO0lBQzFDQyxPQUFPRSxjQUFjLENBQUMsU0FBUztRQUFFSDtJQUFTO0lBRTFDLE1BQU1JLFFBQVEsTUFBTUgsT0FBT0ksV0FBVztJQUN0QyxNQUFNQyxNQUFNRixNQUFNRSxHQUFHLElBQUk7SUFFekJMLE9BQU9NLGVBQWUsR0FBR0MsT0FBTyxDQUFDLENBQUNDO1FBQ2hDQSxFQUFFQyxJQUFJO0lBQ1I7SUFDQVQsT0FBT1UsS0FBSztJQUNaLE9BQU9MO0FBQ1Q7QUFFQTs7OztDQUlHLEdBQ0ksTUFBTU0sYUFBYSxDQUFDQztJQUN6QixJQUFJLENBQUNBLGlCQUFpQixPQUFPO0lBQzdCQSxrQkFBa0JBLGdCQUFnQnJELFdBQVc7SUFDN0MsT0FDRXFELG9CQUFvQixTQUNwQkEsb0JBQW9CLFNBQ3BCQSxvQkFBb0IsZUFDcEJBLG9CQUFvQjtBQUV4QjtBQ2RBLE1BQU1DLGdCQUF1RDtJQUMzREMsaUJBQWlCbFg7SUFDakJtWCxpQkFBaUJuWDtJQUNqQm9YLDBCQUEwQnBYO0lBQzFCcVgsbUJBQW1Cclg7SUFDbkI0TyxZQUFZNU87SUFDWnNYLHNCQUFzQnRYO0lBQ3RCdVgsbUJBQW1Cdlg7SUFDbkJ3WCxpQkFBaUJ4WDtJQUNqQnlYLHdCQUF3QnpYO0lBQ3hCMFgsY0FBYzFYO0lBQ2QyWCxxQkFBcUIzWDtJQUNyQjRYLGdCQUFnQjVYO0lBQ2hCNlgsa0JBQWtCN1g7SUFDbEJrVSxPQUFPbFU7SUFDUDhYLG1CQUFtQjlYO0lBQ25CK1gsUUFBUS9YO0lBQ1IrTyxZQUFZL087SUFDWmdZLGFBQWFoWTtJQUNiaVksV0FBV2pZO0lBQ1hrWSxvQkFBb0JsWTtJQUNwQm1ZLDhCQUE4Qm5ZO0lBQzlCb1ksc0JBQXNCcFk7O0FBR2pCLE1BQU1xWSxhQUFhLENBQ3hCQztJQUVBLE9BQU92WixPQUFPZ1MsU0FBUyxDQUFDd0gsY0FBYyxDQUFDdkgsSUFBSSxDQUFDaUcsZUFBZXFCO0FBQzdEO01BRWFFO0lBQWJ2YSxhQUFBO1FBQ21CLEtBQUE4UixNQUFNLEdBQUcrRSxVQUFVO1lBQUM7U0FBYTtRQUMxQyxJQUFXLENBQUEyRCxXQUFBLEdBRWY7UUFFSixLQUFBQyxRQUFRLEdBQUcsQ0FDVGhhLFNBQ0FpYSxTQUFpQixHQUFHO1lBRXBCLE1BQU1DLFlBQVlsYSxRQUFRbWEsWUFBWSxDQUFDOVksU0FBUztZQUNoRCxJQUFJLENBQUM2WSxXQUFXO1lBQ2hCLE1BQU1FLFVBQVVwYSxRQUFRbWEsWUFBWSxDQUFDRCxVQUFVO1lBQy9DLElBQUksQ0FBQzdJLE1BQU0sQ0FBQyxTQUFTLGVBQWU2SSxVQUFTLFFBQVNELE9BQU0sQ0FBRSxFQUFFRztZQUNoRSxNQUFNQyxZQUFZLElBQUksQ0FBQ04sV0FBVyxDQUFDRyxVQUFVO1lBQzdDLElBQUksQ0FBQ0csV0FBVztZQUNoQixLQUFLLE1BQU1DLE1BQU1ELFVBQVc7Z0JBQzFCLElBQUk7b0JBQ0ZDLEdBQUdGO2tCQUNILE9BQU9HLEdBQUc7b0JBQ1YsSUFBSSxDQUFDbEosTUFBTSxDQUFDLFFBQVEsOEJBQThCa0o7OztRQUd4RDtRQUVBLEtBQUFDLEVBQUUsR0FBRyxDQUNIWixXQUNBVTs7WUFFQSxFQUFBRyxLQUFDLElBQUksQ0FBQ1YsV0FBVyxFQUFDSCxVQUFBLElBQUFhLENBQUFBLEVBQUEsQ0FBQWIsVUFBZSxLQUFFLEdBQUVsWCxJQUFJLENBQUM0WDtZQUMxQyxPQUFPO2dCQUNMLElBQUksQ0FBQ0ksR0FBRyxDQUFDZCxXQUFXVTtZQUN0QjtRQUNGO1FBRUEsS0FBQUksR0FBRyxHQUFHLENBQ0pkLFdBQ0FVO1lBRUEsSUFBSSxDQUFDUCxXQUFXLENBQUNILFVBQVUsR0FBRyxDQUFDLElBQUksQ0FBQ0csV0FBVyxDQUFDSCxVQUFVLElBQUksRUFBRSxFQUFFcEQsTUFBTSxDQUN0RSxDQUFDMVUsSUFBTUEsTUFBTXdZO1FBRWpCOztBQUNEO0FDM0ZEOzs7Q0FHRyxTQUNVSztJQUFicGIsYUFBQTtRQUNXLEtBQUFxYixvQkFBb0IsR0FBRyxJQUFJQyw2UUFBYUE7UUFDeEMsS0FBQUMsbUJBQW1CLEdBQUcsSUFBSUQsNlFBQWFBO1FBRWhELEtBQUFuWSxJQUFJLEdBQUcsQ0FBQ3dOO1lBQ04sTUFBTTZLLGVBQWVDLGVBQWU5SztZQUNwQyxJQUFJLENBQUM2SyxjQUFjO1lBRW5CLElBQUk3SyxXQUFXK0ssUUFBUSxLQUFLeFcsU0FBU3lXLFVBQVUsRUFBRTtnQkFDL0MsSUFBSSxDQUFDTixvQkFBb0IsQ0FBQzFKLElBQUksQ0FBQzZKO21CQUMxQixJQUFJN0ssV0FBVytLLFFBQVEsS0FBS3hXLFNBQVMwVyxxQkFBcUIsRUFBRTtnQkFDakUsSUFBSSxDQUFDTCxtQkFBbUIsQ0FBQzVKLElBQUksQ0FBQzZKO21CQUN6QjtnQkFDTCxNQUFNMUosU0FBUytFLFVBQVU7b0JBQUM7aUJBQWE7Z0JBQ3ZDL0UsT0FBTyxRQUFRLCtCQUErQixFQUFFbkI7O1FBRXBEO1FBRUEsSUFBTyxDQUFBa0wsT0FBQSxHQUFHO1lBQ1IsSUFBSSxDQUFDUixvQkFBb0IsQ0FBQ1MsUUFBUTtZQUNsQyxJQUFJLENBQUNQLG1CQUFtQixDQUFDTyxRQUFRO1FBQ25DOztBQUNEO0FBRUQsTUFBTUwsaUJBQWlCLENBQ3JCOUs7SUFFQSxJQUFJO1FBQ0YsT0FBT29MLEtBQUt6WCxLQUFLLENBQUNxTSxXQUFXNkssWUFBWTtNQUN6QyxPQUFPUixHQUFHO1FBQ1YsTUFBTWxKLFNBQVMrRSxVQUFVO1lBQUM7U0FBYTtRQUN2Qy9FLE9BQU8sU0FBUyw2QkFBNkIsRUFBRWtKLEdBQUdySztRQUNsRCxPQUFPNU87O0FBRVg7QUM5QkE7Ozs7Ozs7OztDQVNHLEdBQ0ksTUFBTWlhLHFCQUFxQkMsYUFBYUM7QUFFL0M7Ozs7Ozs7Ozs7Ozs7OztDQWVHLEdBQ0ksTUFBTUMsbUJBQW1CRixhQUFhRztBQUU3QyxNQUFNQyxrQkFBa0IsSUFBSUM7QUFNckIsZUFBZUMsUUFBUUMsR0FBb0I7SUFDaEQsTUFBTUgsZ0JBQWdCSSxHQUFHLENBQUNELE1BQU1FO0FBQ2xDO0FBRUE7Ozs7Ozs7Ozs7Q0FVRyxHQUNILFNBQVNULGFBQXFDVSxPQUEyQjtJQUN2RSxPQUFPLFNBQVNDLElBQUlKLEdBQW9CLEVBQUUzSCxFQUE4QjtRQUN0RSxNQUFNLEVBQUVBLElBQUlnSSxPQUFPLEVBQUVDLFdBQVcsRUFBRSxHQUFHSCxRQUFRSCxLQUFLM0g7UUFDbEQsTUFBTWtJLFVBQVVWLGdCQUFnQkksR0FBRyxDQUFDRDtRQUNwQ08sU0FBU0Q7UUFDVCxNQUFNSixVQUFVSyxVQUNaQSxRQUFRTCxPQUFPLENBQUNNLElBQUksQ0FBQ0gsU0FBU0EsV0FDOUJBO1FBQ0pSLGdCQUFnQlksR0FBRyxDQUFDVCxLQUFLO1lBQUVFO1lBQVNJO1FBQVc7UUFDL0MsT0FBT0o7SUFDVDtBQUNGO0FBRUE7Ozs7Q0FJRyxHQUNILFNBQVNSLDZCQUNQTSxHQUFvQixFQUNwQjNILEVBQW9CO0lBRXBCLElBQUlxSSxrQkFBa0I7SUFDdEIsTUFBTUwsVUFBVSxJQUNkaEksS0FBS3NJLE9BQU8sQ0FBQztZQUNYLElBQUksQ0FBQ0QsaUJBQWlCO2dCQUNwQmIsZ0JBQWdCZSxNQUFNLENBQUNaOztRQUUzQjtJQUNGLE1BQU1NLGNBQWMsSUFBT0ksa0JBQWtCO0lBQzdDLE9BQU87UUFBRXJJLElBQUlnSTtRQUFTQztJQUFXO0FBQ25DO0FBRUE7Ozs7Ozs7O0NBUUcsR0FDSCxTQUFTVixxQkFDUEksR0FBb0IsRUFDcEIzSCxFQUFvRDtJQUVwRCxNQUFNd0ksS0FBSyxJQUFJQztJQUNmLE1BQU1ULFVBQVU7UUFDZCxJQUFJUSxHQUFHOUYsTUFBTSxDQUFDUSxPQUFPLEVBQUU7WUFDckIsT0FBT3RGLFFBQVE4SyxPQUFPLENBQUM7O1FBR3pCLE9BQU8xSSxHQUFHd0ksR0FBRzlGLE1BQU0sRUFBRTRGLE9BQU8sQ0FBQztZQUMzQixJQUFJLENBQUNFLEdBQUc5RixNQUFNLENBQUNRLE9BQU8sRUFBRTtnQkFDdEJzRSxnQkFBZ0JlLE1BQU0sQ0FBQ1o7O1FBRTNCO0lBQ0Y7SUFDQSxNQUFNTSxjQUFjLElBQU1PLEdBQUdHLEtBQUs7SUFDbEMsT0FBTztRQUFFM0ksSUFBSWdJO1FBQVNDO0lBQVc7QUFDbkM7QUNqSEE7Ozs7Q0FJRyxHQUNILE1BQU1XLGtCQUFrQixDQUFJQyxTQUMxQixPQUFPQSxXQUFXO0FBRXBCOzs7OztDQUtHLEdBQ0ksTUFBTUMsa0JBQWtCLENBQUlDO0lBQ2pDLElBQUkvSztJQUNKLElBQUk0RSxNQUF5QjFWO0lBQzdCOGIsaVJBQWFBLENBQUM7UUFBQ0Q7S0FBWSxFQUN4QkUsU0FBUyxDQUFDO1FBQ1RuTSxNQUFNLENBQUMsQ0FBQzlRLEVBQUU7WUFDUmdTLFFBQVFoUzs7UUFFVm9WLE9BQU8sQ0FBQytFO1lBQ052RCxNQUFNdUQ7O09BR1QrQyxXQUFXO0lBRWQsSUFBSXRHLEtBQUssTUFBTUE7SUFDZixPQUFPNUU7QUFDVDtBQUVBOzs7Ozs7OztDQVFHLEdBQ0ksTUFBTW1MLGtCQUFrQixDQUFJQyxTQUFxQlA7SUFDdEQsTUFBTS9MLE9BQU84TCxnQkFBZ0JDLFVBQ3pCQSxPQUFPQyxnQkFBZ0JNLFlBQ3ZCUDtJQUVKTyxRQUFRdE0sSUFBSSxDQUFDQTtJQUNiLE9BQU9BO0FBQ1Q7QUFFQTs7Ozs7Ozs7Q0FRRyxHQUNJLE1BQU11TSxjQUFjLENBQ3pCRCxTQUNBUDtJQUVBLE1BQU1TLFlBQVlGLFFBQVFHLFFBQVE7SUFDbEMsTUFBTXZMLFFBQVFtTCxnQkFBZ0JDLFNBQVNQO0lBQ3ZDLE9BQU87UUFDTFM7UUFDQXRMO1FBQ0F3TCxVQUFVLElBQU1MLGdCQUFnQkMsU0FBU0U7O0FBRTdDO0FBRUE7Ozs7OztDQU1HLEdBQ0ksTUFBTUcscUJBQXFCLENBQ2hDQyxZQUNBQyxTQUNBQyxVQUFnQyxDQUFDeEksUUFDL0JZLFVBQVU7UUFBQztLQUFVLEVBQUUsUUFBUSxrQ0FBa0NaLE1BQU07SUFFekUsTUFBTXlJLGVBQWVILFdBQVdULFNBQVMsQ0FBQztRQUFFbk0sTUFBTTZNO1FBQVN2SSxPQUFPd0k7SUFBTztJQUN6RSxPQUFPO1FBQ0xDLGFBQWFYLFdBQVc7SUFDMUI7QUFDRjtBQUVBOzs7Ozs7O0NBT0csR0FDSSxNQUFNWSw4QkFBOEIsQ0FDekNKLFlBQ0FDO0lBRUEsTUFBTWhDLE1BQU1vQztJQUNaLE9BQU9OLG1CQUFtQkMsWUFBWSxDQUFDMUw7UUFDckNtSixtQkFBbUJRLEtBQUssSUFBTWdDLFFBQVEzTDtJQUN4QztBQUNGOzs7Ozs7Ozs7QUN0SEE7O0NBRUcsT0FDU2dNO0FBQVosVUFBWUEsWUFBWTtJQUN0Qjs7S0FFRyxHQUNIQSxZQUFBO0lBRUE7O0tBRUcsR0FDSEEsWUFBQTtJQUVBOzs7S0FHRyxHQUNIQSxZQUFBO0lBRUE7O0tBRUcsR0FDSEEsWUFBQTtJQUVBOztLQUVHLEdBQ0hBLFlBQUE7SUFFQTs7S0FFRyxHQUNIQSxZQUFBO0lBRUE7O0tBRUcsR0FDSEEsWUFBQTtJQUVBOztLQUVHLEdBQ0hBLFlBQUE7SUFFQTs7S0FFRyxHQUNIQSxZQUFBO0lBRUE7O0tBRUcsR0FDSEEsWUFBQTtBQUNGLEdBbkRZQSxnQkFBQUEsQ0FBQUEsZUFtRFg7TUM5Q1lDO0lBYVg5ZSxhQUFBO1FBWkE7O1NBRUcsR0FDSCxLQUFBK2Usb0JBQW9CLEdBQUcsSUFBSUMsK1FBQWVBLENBQ3hDamQ7UUFHRjs7U0FFRyxHQUNILEtBQUFrZCxZQUFZLEdBQUcsSUFBSUQsK1FBQWVBLENBQVMsRUFBRTtRQTRCN0M7Ozs7O1NBS0csR0FDSCxLQUFBRSxnQkFBZ0IsR0FBRyxDQUFDQztZQUNsQixPQUFPQyxnQkFBd0IsSUFBSSxDQUFDTCxvQkFBb0IsRUFBRUk7UUFDNUQ7UUFTQTs7O1NBR0csR0FDSCxLQUFBRSxRQUFRLEdBQUcsQ0FBQ0M7WUFDVixPQUFPRixnQkFBd0IsSUFBSSxDQUFDSCxZQUFZLEVBQUVLO1FBQ3BEO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFDLFlBQVksR0FBRyxDQUFDeE07WUFDZCxJQUFJLENBQUMsSUFBSSxDQUFDdU0sS0FBSyxDQUFDaGQsSUFBSSxDQUFDLENBQUNrZCxJQUFNQSxFQUFFQyxHQUFHLEtBQUsxTSxLQUFLME0sR0FBRyxHQUFHO2dCQUMvQyxJQUFJLENBQUNKLFFBQVEsQ0FBQyxDQUFDQyxRQUFVOzJCQUFJQTt3QkFBT3ZNO3FCQUFLOztRQUU3QztRQUVBOzs7O1NBSUcsR0FDSCxLQUFBMk0sY0FBYyxHQUFHLENBQUMzTTtZQUNoQixPQUFPLElBQUksQ0FBQ3NNLFFBQVEsQ0FBQyxDQUFDQyxRQUFVQSxNQUFNckksTUFBTSxDQUFDLENBQUN1SSxJQUFNQSxNQUFNek07UUFDNUQ7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUE0TSxRQUFRLEdBQUcsQ0FBQ0MsTUFBY0M7WUFDeEIsT0FBTyxJQUFJLENBQUNQLEtBQUssQ0FBQ2hkLElBQUksQ0FBQyxDQUFDa2QsSUFBTUEsRUFBRUksSUFBSSxLQUFLQSxRQUFRSixFQUFFSyxFQUFFLEtBQUtBO1FBQzVEO1FBOUVFLElBQUksQ0FBQ2Qsb0JBQW9CLENBQUNqQixTQUFTLENBQUMsT0FBT3FCOztZQUV6QyxJQUFJLENBQUNBLE1BQU07Z0JBQ1QsTUFBTXJOLFNBQVMrRSxVQUFVO29CQUFDO2lCQUFlO2dCQUN6QyxLQUFLLE1BQU05RCxRQUFRLElBQUksQ0FBQ3VNLEtBQUssQ0FBRTtvQkFDN0IsSUFBSXZNLEtBQUsrTSxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFtQixJQUFJLEVBQUU7b0JBRW5EbE8sT0FBTyxRQUFRLG9DQUFvQ2lCLEtBQUswTSxHQUFHLENBQUU7b0JBQzdELE1BQU0xTSxLQUNIa04sS0FBSyxDQUFDO3dCQUFFQyxRQUFRO29CQUFnQyxHQUNoREMsS0FBSyxDQUFDLENBQUMxSTt3QkFDTjNGLE9BQU8sU0FBUyxDQUF1QixzQkFBQWlCLEtBQUswTSxHQUFHLENBQUUsR0FBRWhJO29CQUNyRDs7O1FBR1I7O0lBR0Y7O0tBRUcsR0FDSCxJQUFJMkksZ0JBQWE7UUFDZixPQUFPQyxnQkFBd0IsSUFBSSxDQUFDdEIsb0JBQW9COztJQWExRDs7S0FFRyxHQUNILElBQUlPLFFBQUs7UUFDUCxPQUFPZSxnQkFBd0IsSUFBSSxDQUFDcEIsWUFBWTs7QUF3Q25EO0FBRUQ7Ozs7Q0FJRyxTQUNVcUI7SUFtQlh0Z0IsWUFBWXVnQixLQUFxQztRQVJqRDs7Ozs7U0FLRyxHQUNILEtBQUE1QyxlQUFlLEdBQUcwQzs7UUFJaEIsSUFBSSxDQUFDRyxjQUFjLEdBQUdELE1BQU14QixvQkFBb0IsQ0FBQzBCLFlBQVk7UUFDN0QsSUFBSSxDQUFDQyxNQUFNLEdBQUdILE1BQU10QixZQUFZLENBQUN3QixZQUFZOztJQUcvQzs7S0FFRyxHQUNILElBQUlMLGdCQUFhO1FBQ2YsT0FBT0MsZ0JBQXdCLElBQUksQ0FBQ0csY0FBYzs7SUFHcEQ7O0tBRUcsR0FDSCxJQUFJbEIsUUFBSztRQUNQLE9BQU9lLGdCQUF3QixJQUFJLENBQUNLLE1BQU07O0FBRTdDO0FDN0lEOzs7Ozs7Q0FNRyxTQUNVQyxxQkFBcUIsQ0FDaEMsR0FBR0M7SUFFSCxPQUFPLENBQUNDLEdBQUdDO1FBQ1QsS0FBSyxNQUFNQyxjQUFjSCxZQUFhO1lBQ3BDLE1BQU14SixTQUFTMkosV0FBV0YsR0FBR0M7WUFDN0IsSUFBSTFKLFdBQVcsR0FBRyxPQUFPQTs7UUFFM0IsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7Ozs7Ozs7Q0FRRyxHQUNVLE1BQUE0SixhQUFhLENBQUlEO0lBQzVCLE9BQU8sQ0FBQ0YsR0FBR0MsSUFBTUMsV0FBV0QsR0FBR0Q7QUFDakM7QUFFQTs7Ozs7Ozs7O0NBU0csR0FDVSxNQUFBSSxjQUFjLENBQUlDO0lBQzdCLE9BQU8sQ0FBQ0g7UUFDTixPQUFPLENBQUNGLEdBQUdDO1lBQ1QsSUFBSSxDQUFDSSxVQUFVTCxHQUFHQyxJQUFJLE9BQU87WUFDN0IsT0FBT0MsV0FBV0YsR0FBR0M7UUFDdkI7SUFDRjtBQUNGO0FBRUE7O0NBRUcsR0FDSSxNQUFNSyxpQkFBaUI7SUFDNUIsT0FBTyxJQUFNO0FBQ2Y7QUMxREE7Ozs7Q0FJRyxHQUNVLE1BQUFDLFdBQVcsQ0FBQ0MsSUFDdkJBLEVBQUVDLGVBQWUsQ0FBQ0MsUUFBUSxDQUFDbGMsVUFBVW1jLEtBQUs7QUFFNUM7Ozs7Q0FJRyxHQUNVLE1BQUFDLFdBQVcsQ0FBQ0osSUFDdkJBLEVBQUVDLGVBQWUsQ0FBQ0MsUUFBUSxDQUFDbGMsVUFBVXFjLEtBQUs7QUFFNUM7Ozs7Q0FJRyxHQUNVLE1BQUFDLGlCQUFpQixDQUFDTixJQUM3QkEsRUFBRUMsZUFBZSxDQUFDQyxRQUFRLENBQUNsYyxVQUFVdWMsWUFBWTtBQUVuRDs7OztDQUlHLEdBQ1UsTUFBQUMsc0JBQXNCLENBQUNSLElBQ2xDQSxFQUFFQyxlQUFlLENBQUNDLFFBQVEsQ0FBQ2xjLFVBQVV5YyxrQkFBa0I7QUFFekQ7Ozs7Q0FJRyxHQUNJLE1BQU1DLFdBQVcsQ0FBQ1YsSUFDdkIsQ0FBQyxDQUFDQSxFQUFFVyxHQUFHLElBQUtYLENBQUFBLEVBQUVXLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJWixFQUFFVyxHQUFHLENBQUNFLFFBQVEsR0FBRztBQ2pDbkQ7Ozs7O0NBS0csU0FDVUMsa0JBQXNELENBQUN0QixHQUFHQztJQUNyRSxJQUFJRCxFQUFFdUIsaUJBQWlCLElBQUksQ0FBQ3RCLEVBQUVzQixpQkFBaUIsRUFBRSxPQUFPLENBQUM7SUFDekQsSUFBSSxDQUFDdkIsRUFBRXVCLGlCQUFpQixJQUFJdEIsRUFBRXNCLGlCQUFpQixFQUFFLE9BQU87SUFDeEQsT0FBTztBQUNUO0FBRUE7Ozs7O0NBS0csU0FDVUMsV0FBK0MsQ0FBQ3hCLEdBQUdDO0lBQzlELElBQUlELEVBQUV5QixVQUFVLElBQUksQ0FBQ3hCLEVBQUV3QixVQUFVLEVBQUUsT0FBTyxDQUFDO0lBQzNDLElBQUksQ0FBQ3pCLEVBQUV5QixVQUFVLElBQUl4QixFQUFFd0IsVUFBVSxFQUFFLE9BQU87SUFDMUMsT0FBTztBQUNUO0FBRUE7Ozs7O0NBS0csU0FDVUMsZ0JBQW9ELENBQUMxQixHQUFHQztJQUNuRSxJQUFJYSxlQUFlZCxNQUFNLENBQUNjLGVBQWViLElBQUksT0FBTyxDQUFDO0lBQ3JELElBQUksQ0FBQ2EsZUFBZWQsTUFBTWMsZUFBZWIsSUFBSSxPQUFPO0lBQ3BELE9BQU87QUFDVDtBQUVBOzs7OztDQUtHLFNBQ1UwQixrQkFBc0QsQ0FBQzNCLEdBQUdDO0lBQ3JFLElBQUlNLFNBQVNQLE1BQU0sQ0FBQ08sU0FBU04sSUFBSSxPQUFPLENBQUM7SUFDekMsSUFBSSxDQUFDTSxTQUFTUCxNQUFNTyxTQUFTTixJQUFJLE9BQU87SUFDeEMsT0FBTztBQUNUO0FBRUE7Ozs7O0NBS0csU0FDVTJCLGtCQUFzRCxDQUFDNUIsR0FBR0M7SUFDckUsSUFBSVcsU0FBU1osTUFBTSxDQUFDWSxTQUFTWCxJQUFJLE9BQU8sQ0FBQztJQUN6QyxJQUFJLENBQUNXLFNBQVNaLE1BQU1ZLFNBQVNYLElBQUksT0FBTztJQUN4QyxPQUFPO0FBQ1Q7QUFFQTs7Ozs7Q0FLRyxTQUNVNEIsU0FBNkMsQ0FBQzdCLEdBQUdDO0lBQzVELElBQUlELEVBQUVtQixHQUFHLElBQUlsQixFQUFFa0IsR0FBRyxFQUFFO1FBQ2xCLElBQUksQ0FBQ25CLEVBQUVtQixHQUFHLENBQUNDLFVBQVUsSUFBSW5CLEVBQUVrQixHQUFHLENBQUNDLFVBQVUsRUFBRSxPQUFPLENBQUM7UUFDbkQsSUFBSXBCLEVBQUVtQixHQUFHLENBQUNDLFVBQVUsSUFBSSxDQUFDbkIsRUFBRWtCLEdBQUcsQ0FBQ0MsVUFBVSxFQUFFLE9BQU87UUFDbEQsSUFBSXBCLEVBQUVtQixHQUFHLENBQUNFLFFBQVEsR0FBR3BCLEVBQUVrQixHQUFHLENBQUNFLFFBQVEsRUFBRSxPQUFPLENBQUM7UUFDN0MsSUFBSXJCLEVBQUVtQixHQUFHLENBQUNFLFFBQVEsR0FBR3BCLEVBQUVrQixHQUFHLENBQUNFLFFBQVEsRUFBRSxPQUFPOztJQUc5QyxJQUFJckIsRUFBRW1CLEdBQUcsSUFBSSxDQUFDbEIsRUFBRWtCLEdBQUcsRUFBRSxPQUFPLENBQUM7SUFDN0IsSUFBSSxDQUFDbkIsRUFBRW1CLEdBQUcsSUFBSWxCLEVBQUVrQixHQUFHLEVBQUUsT0FBTztJQUU1QixPQUFPO0FBQ1Q7QUFFQTs7Ozs7Q0FLRyxHQUNVLE1BQUFXLGVBQWUsQ0FDMUIvQztJQUVBLE9BQU8sQ0FBQ2lCLEdBQUdDO1FBQ1QsSUFBSUQsRUFBRStCLFFBQVEsRUFBRWhELFNBQVNBLFFBQVFrQixFQUFFOEIsUUFBUSxFQUFFaEQsU0FBU0EsTUFBTSxPQUFPLENBQUM7UUFDcEUsSUFBSWlCLEVBQUUrQixRQUFRLEVBQUVoRCxTQUFTQSxRQUFRa0IsRUFBRThCLFFBQVEsRUFBRWhELFNBQVNBLE1BQU0sT0FBTztRQUNuRSxPQUFPO0lBQ1Q7QUFDRjtBQUVBOzs7OztDQUtHLEdBQ0ksTUFBTWlELE9BQ1gsQ0FBQyxHQUFHQyxRQUNKLENBQUNqQyxHQUFHQztRQUNGLElBQUlpQyxXQUFXbEMsR0FBR2lDLFVBQVUsQ0FBQ0MsV0FBV2pDLEdBQUdnQyxRQUFRLE9BQU8sQ0FBQztRQUMzRCxJQUFJLENBQUNDLFdBQVdsQyxHQUFHaUMsVUFBVUMsV0FBV2pDLEdBQUdnQyxRQUFRLE9BQU87UUFDMUQsT0FBTztJQUNUO0FBRUY7Ozs7O0NBS0csU0FDVTVpQixPQUEyQyxDQUFDMmdCLEdBQUdDO0lBQzFELElBQUlELEVBQUUzZ0IsSUFBSSxHQUFHNGdCLEVBQUU1Z0IsSUFBSSxFQUFFLE9BQU8sQ0FBQztJQUM3QixJQUFJMmdCLEVBQUUzZ0IsSUFBSSxHQUFHNGdCLEVBQUU1Z0IsSUFBSSxFQUFFLE9BQU87SUFDNUIsT0FBTztBQUNUO0FBRUEsTUFBTTZpQixhQUFhLENBQUMxQixHQUEyQnlCLFFBQzdDLENBQUN6QixFQUFFeUIsS0FBSyxJQUFJLEVBQUUsRUFBRUUsSUFBSSxDQUFDLENBQUN0USxJQUFNb1EsTUFBTXZCLFFBQVEsQ0FBQzdPO0FDdEg3QztBQUNBO0FBQ0E7QUFDQSxNQUFNdVEsZ0JBQWdCaEMsWUFDcEIsQ0FBQ0osR0FBMkJDLElBQzFCRCxFQUFFcUMsdUJBQXVCLEVBQUVDLGVBQWVwVCxnQkFBZ0JxVCxTQUFTLElBQ25FdEMsRUFBRW9DLHVCQUF1QixFQUFFQyxlQUFlcFQsZ0JBQWdCcVQsU0FBUztBQUd2RTs7OztDQUlHLEdBQ0gsTUFBTUMseUJBQXlCcEMsWUFDN0IsQ0FBQ0osR0FBMkJDLElBQzFCRCxFQUFFcUMsdUJBQXVCLEVBQUVDLGVBQWVwVCxnQkFBZ0JxVCxTQUFTLElBQ25FdkMsRUFBRXFDLHVCQUF1QixFQUFFQyxlQUFlcFQsZ0JBQWdCdVQsT0FBTyxJQUNqRXhDLEVBQUVvQyx1QkFBdUIsRUFBRUMsZUFBZXBULGdCQUFnQnFULFNBQVMsSUFDbkV0QyxFQUFFb0MsdUJBQXVCLEVBQUVDLGVBQWVwVCxnQkFBZ0J1VCxPQUFPO0FBR3JFOztDQUVHLEdBQ0ksTUFBTUMsb0JBQW9CNUMsbUJBQy9CK0IsUUFDQUgsZUFDQVUsY0FDRXRDLG1CQUNFd0IsaUJBQ0FFLFVBQ0FNLGFBQWEsZ0JBQ2JILGlCQUNBQztBQU1OOztDQUVHLEdBQ0ksTUFBTWUsMEJBQTBCN0MsbUJBQ3JDK0IsUUFDQUgsZUFDQUosaUJBQ0FjLGNBQ0V0QyxtQkFDRTBCLFVBQ0FNLGFBQWEsZ0JBQ2JILGlCQUNBQztBQU1OOzs7Q0FHRyxHQUNVLE1BQUFnQiw0QkFBNEI5QyxtQkFDdkMrQixRQUNBVyx1QkFDRTFDLG1CQUNFd0IsaUJBQ0FFLFVBQ0FNLGFBQWEsZ0JBQ2JILGlCQUNBQztBQU1OOztDQUVHLEdBQ0ksTUFBTWlCLGtDQUFrQy9DLG1CQUM3Q3NDLGNBQ0V0QyxtQkFDRXdCLGlCQUNBRSxVQUNBTSxhQUFhLGdCQUNiSCxpQkFDQUMsbUJBR0pJLEtBQUssU0FBUyxRQUFRO0FDN0N4Qjs7Q0FFRyxHQUNILE1BQU1jLGdCQUFnQztJQUNwQ0MsY0FBYztJQUNkQyxLQUFLO1FBQUVDLGNBQWM7SUFBRTtJQUN2QkMsT0FBTyxFQUFFOztBQVVYOzs7Q0FHRyxTQUNVN2Q7SUFvUFg7OztLQUdHLEdBQ0hsRyxhQUFBO1FBdlBRLEtBQUFna0IsZ0JBQWdCLEdBQUcsSUFBSWhGLCtRQUFlQSxDQUFVO1FBQ2hELEtBQUFpRixxQkFBcUIsR0FBRyxJQUFJakYsK1FBQWVBLENBQVcsRUFBRTtRQUN4RCxJQUFnQixDQUFBa0YsZ0JBQUEsR0FBRyxJQUFJbEYsK1FBQWVBLENBQU8sSUFBSXhiO1FBQ2pELEtBQUEyZ0IsY0FBYyxHQUFHLElBQUluRiwrUUFBZUEsQ0FBbUJqZDtRQUN2RCxLQUFBcWlCLGVBQWUsR0FBRyxJQUFJcEYsK1FBQWVBLENBQW1CamQ7UUFDeEQsSUFBZ0IsQ0FBQXNpQixnQkFBQSxHQUFHLElBQUlyRiwrUUFBZUEsQ0FBTyxJQUFJeGI7UUFDakQsS0FBQThnQixnQkFBZ0IsR0FBRyxJQUFJdEYsK1FBQWVBLENBQzVDamQ7UUFFTSxLQUFBd2lCLGFBQWEsR0FBRyxJQUFJdkYsK1FBQWVBLENBQXNCO1FBQ3pELEtBQUF3RixhQUFhLEdBQUcsSUFBSXhGLCtRQUFlQSxDQUN6Q2pkO1FBRU0sS0FBQTBpQixjQUFjLEdBQUcsSUFBSXpGLCtRQUFlQSxDQUMxQ2pkO1FBRU0sS0FBQTJpQixnQkFBZ0IsR0FBRyxJQUFJMUYsK1FBQWVBLENBQVU7UUFDaEQsS0FBQTJGLGNBQWMsR0FBRyxJQUFJM0YsK1FBQWVBLENBQzFDamQ7UUFFTSxLQUFBNmlCLGVBQWUsR0FBRyxJQUFJNUYsK1FBQWVBLENBRTNDamQ7UUFDTSxLQUFBOGlCLG1CQUFtQixHQUFHLElBQUk3RiwrUUFBZUEsQ0FBVTtRQUNuRCxLQUFBOEYsaUJBQWlCLEdBQUcsSUFBSTlGLCtRQUFlQSxDQUFVO1FBQ2pELEtBQUErRixjQUFjLEdBQUcsSUFBSS9GLCtRQUFlQSxDQUMxQ2pkO1FBRU0sS0FBQWlqQixpQkFBaUIsR0FBRyxJQUFJaEcsK1FBQWVBLENBRTdDamQ7UUFDTSxLQUFBa2pCLGNBQWMsR0FBRyxJQUFJakcsK1FBQWVBLENBQW1CLEVBQUU7UUFDekQsS0FBQWtHLHNCQUFzQixHQUFHLElBQUlsRywrUUFBZUEsQ0FBa0IsRUFBRTtRQUNoRSxJQUFtQixDQUFBbUcsbUJBQUEsR0FBRyxJQUFJbkcsK1FBQWVBLENBQy9DSCxhQUFheUUsT0FBTztRQUVkLEtBQUE4QixnQkFBZ0IsR0FBRyxJQUFJcEcsK1FBQWVBLENBQW1CamQ7UUFDekQsS0FBQXNqQix1QkFBdUIsR0FBRyxJQUFJckcsK1FBQWVBLENBQVM7UUFDdEQsS0FBQXNHLGdDQUFnQyxHQUFHLElBQUl0RywrUUFBZUEsQ0FBUztRQUMvRCxLQUFBdUcsbUJBQW1CLEdBQUcsSUFBSXZHLCtRQUFlQSxDQUMvQyxFQUFFO1FBRUksS0FBQXdHLHNCQUFzQixHQUFHLElBQUl4RywrUUFBZUEsQ0FFbERqZDtRQUNNLEtBQUEwakIscUJBQXFCLEdBQUcsSUFBSXpHLCtRQUFlQSxDQUFzQixFQUFFOzs7OztRQU1uRSxJQUFjLENBQUEwRyxjQUFBLEdBQW9CLEVBQUU7UUE2S25DLEtBQUE1VCxNQUFNLEdBQUcrRSxVQUFVO1lBQUM7U0FBWTtRQUV6Qzs7U0FFRyxHQUNLLElBQWtCLENBQUE4TyxrQkFBQSxHQUFHcEM7UUFNckIsS0FBQXFDLG1CQUFtQixHQUFHLElBQUl0SjtRQXVMbEM7O1NBRUcsR0FDSCxJQUFPLENBQUFULE9BQUEsR0FBRztZQUNSLEtBQUssTUFBTSxDQUFDZ0ssT0FBT0MsT0FBTyxJQUFJLElBQUksQ0FBQ0YsbUJBQW1CLENBQUM3a0IsT0FBTyxHQUFJO2dCQUNoRWdsQixhQUFhRDtnQkFDYixJQUFJLENBQUNGLG1CQUFtQixDQUFDeEksTUFBTSxDQUFDeUk7O1FBRXBDO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBRyxxQkFBcUIsR0FBRyxDQUFDakY7WUFDdkIsSUFBSSxDQUFDNEUsa0JBQWtCLEdBQUc1RTs7WUFFMUIsSUFBSSxDQUFDL0MsZUFBZSxDQUFDLElBQUksQ0FBQ3VILG1CQUFtQixFQUFFLENBQUNVLEtBQU9BO1FBQ3pEO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBdEksZUFBZSxHQUFHMEM7UUFFbEI7Ozs7Ozs7Ozs7U0FVRyxHQUNILEtBQUFyQyxlQUFlLEdBQUdvQjtRQVVsQjs7Ozs7U0FLRyxHQUNILEtBQUE4RyxtQkFBbUIsR0FBRyxDQUFDQztZQUNyQixPQUFPLElBQUksQ0FBQ25JLGVBQWUsQ0FBQyxJQUFJLENBQUNxSCx1QkFBdUIsRUFBRWM7UUFDNUQ7UUFVQTs7Ozs7U0FLRyxHQUNILEtBQUFDLFlBQVksR0FBRyxDQUFDQztZQUNkLE9BQU8sSUFBSSxDQUFDckksZUFBZSxDQUFDLElBQUksQ0FBQ29ILGdCQUFnQixFQUFFaUI7UUFDckQ7UUFTQTs7Ozs7U0FLRyxHQUNILEtBQUFDLGFBQWEsR0FBRyxDQUFDQztZQUNmLE9BQU9DLFlBQW9CLElBQUksQ0FBQzFCLGlCQUFpQixFQUFFeUI7UUFDckQ7UUFVQTs7Ozs7U0FLRyxHQUNILEtBQUFFLDRCQUE0QixHQUFHLENBQUNOO1lBQzlCLE9BQU8sSUFBSSxDQUFDbkksZUFBZSxDQUFDLElBQUksQ0FBQ3NILGdDQUFnQyxFQUFFYTtRQUNyRTtRQVNBOzs7Ozs7U0FNRyxHQUNILEtBQUFPLGVBQWUsR0FBRyxDQUFDQztZQUNqQixPQUFPLElBQUksQ0FBQzNJLGVBQWUsQ0FBQyxJQUFJLENBQUN1SCxtQkFBbUIsRUFBRW9CO1FBQ3hEO1FBNENBOzs7OztTQUtHLEdBQ0gsS0FBQUMsZUFBZSxHQUFHLENBQUM5RztZQUNqQixPQUFPLElBQUksQ0FBQzlCLGVBQWUsQ0FBQyxJQUFJLENBQUNtSCxtQkFBbUIsRUFBRXJGO1FBQ3hEO1FBU0E7Ozs7O1NBS0csR0FDSCxLQUFBK0csa0JBQWtCLEdBQUcsQ0FBQ0M7WUFDcEIsT0FBTyxJQUFJLENBQUM5SSxlQUFlLENBQUMsSUFBSSxDQUFDd0gsc0JBQXNCLEVBQUVzQjtRQUMzRDtRQVNBOzs7OztTQUtHLEdBQ0gsS0FBQUMsVUFBVSxHQUFHLENBQUNDO1lBQ1osSUFBSSxDQUFDaEosZUFBZSxDQUFDLElBQUksQ0FBQ2lILGNBQWMsRUFBRStCO1FBQzVDO1FBU0E7Ozs7O1NBS0csR0FDSCxLQUFBQyxrQkFBa0IsR0FBRyxDQUFDQztZQUNwQixPQUFPLElBQUksQ0FBQ2xKLGVBQWUsQ0FBQyxJQUFJLENBQUNrSCxzQkFBc0IsRUFBRWdDO1FBQzNEO1FBOEJBOzs7U0FHRyxHQUNILEtBQUFDLFVBQVUsR0FBRyxDQUFDQztZQUNaLE9BQU8sSUFBSSxDQUFDcEosZUFBZSxDQUFDLElBQUksQ0FBQ21HLGNBQWMsRUFBRWlEO1FBQ25EO1FBNkZBOzs7OztTQUtHLEdBQ0gsS0FBQUMsMEJBQTBCLEdBQUcsQ0FDM0JDO1lBRUEsT0FBTyxJQUFJLENBQUNYLFlBQVksQ0FBQ3JrQixJQUFJLENBQUMsQ0FBQytlLElBQU1BLEVBQUVpRyxTQUFTLEtBQUtBO1FBQ3ZEO1FBRUE7O1NBRUcsR0FDSCxJQUErQixDQUFBQywrQkFBQSxHQUFHO1lBQ2hDLE9BQU8sSUFBSSxDQUFDWixZQUFZLENBQUNhLE1BQU0sQ0FFNUIsQ0FBQ0MsYUFBYUM7Z0JBQ2ZELFdBQVcsQ0FBQ0MsWUFBWUosU0FBUyxDQUFDLEdBQUdJO2dCQUNyQyxPQUFPRDtlQUNOO1FBQ0w7UUFFQTs7Ozs7Ozs7O1NBU0csR0FDSCxLQUFBRSxpQkFBaUIsR0FBRyxDQUNsQkwsV0FDQU07WUFJQSxNQUFNRixjQUFjLElBQUksQ0FBQ0wsMEJBQTBCLENBQUNDO1lBQ3BELElBQUksQ0FBQ0ksYUFBYTtnQkFDaEIsSUFBSSxDQUFDNVYsTUFBTSxDQUFDLFFBQVEsQ0FBOEIsNkJBQUF3VixVQUFxQjtnQkFDdkU7O1lBR0YsTUFBTU8sV0FBVyxPQUFPRCxVQUFVLGFBQWFBLE1BQU1GLGVBQWVFO1lBQ3BFLE1BQU1FLHFCQUE2QztnQkFDakQsR0FBR0osV0FBVztnQkFDZCxHQUFHRyxRQUFROztZQUViLE9BQU8sSUFBSSxDQUFDbkIsZUFBZSxDQUFDLENBQUNDLGVBQzNCQSxhQUFhempCLEdBQUcsQ0FBQyxDQUFDbWUsSUFDaEJBLEVBQUVpRyxTQUFTLEtBQUtBLFlBQVlRLHFCQUFxQnpHO1FBR3ZEO1FBRUE7Ozs7Ozs7U0FPRyxHQUNILEtBQUEwRyxzQkFBc0IsR0FBRyxDQUN2QlQsV0FDQUk7WUFFQSxPQUFPLElBQUksQ0FBQ2hCLGVBQWUsQ0FBQyxDQUFDQztnQkFDM0IsSUFBSXFCLE1BQU07Z0JBQ1YsTUFBTUMsbUJBQW1CdEIsYUFBYXpqQixHQUFHLENBQUMsQ0FBQ21lO29CQUN6QyxJQUFJQSxFQUFFaUcsU0FBUyxLQUFLQSxXQUFXO3dCQUM3QlUsTUFBTTt3QkFDTixPQUFPOzRCQUNMLEdBQUczRyxDQUFDOzRCQUNKLEdBQUdxRyxXQUFXOzs7b0JBR2xCLE9BQU9yRztnQkFDVDtnQkFDQSxJQUFJMkcsS0FBS0MsaUJBQWlCOWtCLElBQUksQ0FBQ3VrQjtnQkFDL0IsT0FBT087WUFDVDtRQUNGO1FBRUE7Ozs7Ozs7O1NBUUcsR0FDSCxLQUFBQyxrQkFBa0IsR0FBRyxDQUFDTjtZQUNwQixJQUFJOW1CLE9BQU9xbkIsSUFBSSxDQUFDUCxPQUFPNWlCLE1BQU0sS0FBSyxHQUFHLE9BQU8sSUFBSSxDQUFDMmhCLFlBQVk7WUFDN0QsT0FBTyxJQUFJLENBQUNELGVBQWUsQ0FBQyxDQUFDQyxlQUMzQkEsYUFBYXpqQixHQUFHLENBQUMsQ0FBQ21lO29CQUNoQixNQUFNd0csV0FBV0QsS0FBSyxDQUFDdkcsRUFBRWlHLFNBQVMsQ0FBQztvQkFDbkMsSUFBSU8sVUFBVTt3QkFDWixPQUFPOzRCQUNMLEdBQUd4RyxDQUFDOzRCQUNKLEdBQUd3RyxRQUFROzs7b0JBR2YsT0FBT3hHOztRQUdiO1FBRUE7Ozs7Ozs7U0FPRyxHQUNILEtBQUErRyx1QkFBdUIsR0FBRyxDQUN4QkMsV0FDQUM7WUFFQSxPQUFPLElBQUksQ0FBQ0osa0JBQWtCLENBQzVCcG5CLE9BQU9DLE9BQU8sQ0FBQ3VuQixTQUFTZCxNQUFNLENBQzVCLENBQUNlLEtBQUssQ0FBQ2pCLFdBQVdrQixPQUFPO2dCQUN2QixJQUFJQSxPQUFPQyxTQUFTLEVBQUU7b0JBQ3BCRCxPQUFPQyxTQUFTLENBQUNDLE1BQU0sR0FBRzlrQixLQUFLTSxJQUFJLENBQUNza0IsT0FBT0MsU0FBUyxDQUFDQyxNQUFNO29CQUMzREYsT0FBT0MsU0FBUyxDQUFDRSxLQUFLLEdBQUcva0IsS0FBS00sSUFBSSxDQUFDc2tCLE9BQU9DLFNBQVMsQ0FBQ0UsS0FBSzs7Z0JBRTNELE1BQU1DLE9BQ0pQLGNBQWMsZUFDVixtQkFDQUEsY0FBYyxxQkFDWix5QkFDQXRtQjtnQkFDUixJQUFJNm1CLE1BQU07b0JBQ1JMLEdBQUcsQ0FBQ2pCLFVBQVUsR0FBRzt3QkFDZixDQUFDc0IsS0FBSSxFQUFHSixPQUFPQyxTQUFTOzs7Z0JBRzVCLE9BQU9GO1lBQ1QsR0FDQTtRQUdOO1FBRUE7Ozs7OztTQU1HLEdBQ0gsS0FBQU0sZUFBZSxHQUFHLENBQUNDO1lBQ2pCLE1BQU1wTCxTQUFTLElBQUksQ0FBQ3FMLGFBQWEsQ0FBQ0QsTUFBTWxKLElBQUksQ0FBQztZQUM3QyxJQUFJbEMsUUFBUTtnQkFDVkEsT0FBT29MOztRQUVYO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFFLGlCQUFpQixHQUFHLENBQUNDO1lBQ25CLE1BQU1DLGFBQWFELEtBQUt6QixNQUFNLENBQzVCLENBQUMyQixRQUFRbkg7Z0JBQ1BtSCxNQUFNLENBQUNuSCxJQUFJc0YsU0FBUyxDQUFDLEdBQUc5akIsS0FBS0gsR0FBRztnQkFDaEMsT0FBTzhsQjtlQUVUO1lBR0YsT0FBTyxJQUFJLENBQUN6QyxlQUFlLENBQUMsQ0FBQ0MsZUFDM0JBLGFBQWF6akIsR0FBRyxDQUFDLENBQUN3a0I7b0JBQ2hCLE1BQU0wQixxQkFBcUJGLFVBQVUsQ0FBQ3hCLFlBQVlKLFNBQVMsQ0FBQzs7b0JBRTVELElBQUk4QixvQkFBb0I7d0JBQ3RCLE9BQU87NEJBQ0wsR0FBRzFCLFdBQVc7NEJBQ2QxRixLQUFLO2dDQUNIQyxZQUFZO2dDQUNaQyxVQUFVa0g7NEJBQ1g7Ozs7O29CQUtMLElBQUkxQixZQUFZMUYsR0FBRyxJQUFJLENBQUMwRixZQUFZMUYsR0FBRyxDQUFDQyxVQUFVLEVBQUU7d0JBQ2xELE9BQU87NEJBQ0wsR0FBR3lGLFdBQVc7NEJBQ2QxRixLQUFLamdCOzs7O29CQUlULE9BQU8ybEI7O1FBR2I7UUFFQTs7Ozs7O1NBTUcsR0FDSCxLQUFBMkIscUJBQXFCLEdBQUcsQ0FBQ0M7WUFDdkIsSUFBSSxDQUFDNUQsY0FBYyxDQUFDdmlCLElBQUksQ0FBQ21tQjtRQUMzQjtRQUVBOzs7Ozs7U0FNRyxHQUNILEtBQUFDLG1CQUFtQixHQUFHLENBQUMxSjtZQUNyQixJQUFJLENBQUM2RixjQUFjLEdBQUcsSUFBSSxDQUFDQSxjQUFjLENBQUN6TyxNQUFNLENBQUMsQ0FBQ3VTLElBQU1BLEVBQUUzSixFQUFFLEtBQUtBO1FBQ25FO1FBRUE7Ozs7Ozs7U0FPRyxHQUNILEtBQUE0SixrQkFBa0IsR0FBRyxDQUFDQztZQUNwQixNQUFNQyxVQUFVLElBQUksQ0FBQ2pFLGNBQWMsQ0FBQ3pPLE1BQU0sQ0FDeEMsQ0FBQzJTLFNBQVdBLE9BQU9GLGlCQUFpQixLQUFLQTtZQUUzQyxJQUFJQyxRQUFRM2tCLE1BQU0sR0FBRyxHQUFHO2dCQUN0QixJQUFJLENBQUMwZ0IsY0FBYyxHQUFHLElBQUksQ0FBQ0EsY0FBYyxDQUFDek8sTUFBTSxDQUM5QyxDQUFDMlMsU0FBV0EsT0FBT0YsaUJBQWlCLEtBQUtBOztZQUc3QyxPQUFPQztRQUNUO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFFLDJCQUEyQixHQUFHLENBQUNDO1lBQzdCLElBQUksQ0FBQ0Msc0JBQXNCLEdBQUc7Z0JBQUUsR0FBRyxJQUFJLENBQUNBLHNCQUFzQjtnQkFBRSxHQUFHRCxNQUFNO1lBQUE7UUFDM0U7UUFFQTs7Ozs7O1NBTUcsR0FDSCxLQUFBRSxzQkFBc0IsR0FBRyxDQUFDalg7WUFDeEIsSUFBSSxDQUFDaUwsZUFBZSxDQUFDLElBQUksQ0FBQ2dHLGdCQUFnQixFQUFFalIsS0FBS2tYLFNBQVM7WUFDMUQsSUFBSSxDQUFDak0sZUFBZSxDQUFDLElBQUksQ0FBQ2lHLHFCQUFxQixFQUFFbFIsS0FBS21YLGdCQUFnQjtZQUN0RSxJQUFJLENBQUNsTSxlQUFlLENBQUMsSUFBSSxDQUFDa0csZ0JBQWdCLEVBQUUsSUFBSTFnQixLQUFLdVAsS0FBS29YLFVBQVU7WUFDcEUsSUFBSSxDQUFDbk0sZUFBZSxDQUFDLElBQUksQ0FBQ3FHLGdCQUFnQixFQUFFLElBQUk3Z0IsS0FBS3VQLEtBQUtxWCxVQUFVO1lBQ3BFLElBQUksQ0FBQ3BNLGVBQWUsQ0FDbEIsSUFBSSxDQUFDb0csZUFBZSxFQUNwQnJSLEtBQUtzWCxTQUFTLEdBQUcsSUFBSTdtQixLQUFLdVAsS0FBS3NYLFNBQVMsSUFBSXRvQjtZQUU5QyxJQUFJLENBQUNvbEIsVUFBVSxDQUFDcFUsS0FBS3VYLFFBQVEsR0FBRyxJQUFJOW1CLEtBQUt1UCxLQUFLdVgsUUFBUSxJQUFJdm9CO1lBQzFELElBQUksQ0FBQ2ljLGVBQWUsQ0FBQyxJQUFJLENBQUNzRyxnQkFBZ0IsRUFBRXZSLEtBQUt3WCxVQUFVO1lBQzNELElBQUksQ0FBQ3ZNLGVBQWUsQ0FBQyxJQUFJLENBQUN1RyxhQUFhLEVBQUV4UixLQUFLeVgsTUFBTTtZQUNwRCxJQUFJLENBQUN4TSxlQUFlLENBQUMsSUFBSSxDQUFDd0csYUFBYSxFQUFFelIsS0FBSzBYLE1BQU07WUFDcEQsSUFBSSxDQUFDek0sZUFBZSxDQUFDLElBQUksQ0FBQ3lHLGNBQWMsRUFBRTFSLEtBQUsyWCxPQUFPO1lBQ3RELElBQUksQ0FBQzFNLGVBQWUsQ0FBQyxJQUFJLENBQUMwRyxnQkFBZ0IsRUFBRTNSLEtBQUs0WCxTQUFTO1lBQzFELE1BQU01VyxJQUFJLElBQUksQ0FBQ2lLLGVBQWUsQ0FBQyxJQUFJLENBQUMyRyxjQUFjLEVBQUU1UixLQUFLNlgsT0FBTztZQUNoRSxJQUFJLENBQUNDLGlDQUFpQyxDQUFDOVc7WUFDdkMsSUFBSSxDQUFDaUssZUFBZSxDQUFDLElBQUksQ0FBQzRHLGVBQWUsRUFBRTdSLEtBQUsrWCxRQUFRO1lBQ3hELElBQUksQ0FBQzlNLGVBQWUsQ0FBQyxJQUFJLENBQUM2RyxtQkFBbUIsRUFBRTlSLEtBQUtnWSxZQUFZO1lBQ2hFLElBQUksQ0FBQy9NLGVBQWUsQ0FBQyxJQUFJLENBQUM4RyxpQkFBaUIsRUFBRS9SLEtBQUt3VCxVQUFVO1lBQzVELElBQUksQ0FBQ3ZJLGVBQWUsQ0FBQyxJQUFJLENBQUNnSCxpQkFBaUIsRUFBRWpTLEtBQUtpWSxVQUFVO1FBQzlEO1FBRUE7Ozs7Ozs7O1NBUUcsR0FDSCxJQUFzQixDQUFBQyxzQkFBQSxHQUFHLENBQ3ZCQyxXQUNBQyxrQkFDQUM7WUFFQSxNQUFNLEVBQUV6RSxZQUFZLEVBQUUwRSxnQkFBZ0IsRUFBRWhGLFNBQVMsRUFBRTRDLElBQUksRUFBRSxHQUFHaUM7WUFDNUQsTUFBTUksdUJBQ0pGLGtCQUFrQkcsZ0JBQWdCcm9CLElBQUksQ0FBQ3lWLElBQU1BLEVBQUUwUCxTQUFTLEtBQUssRUFBRTtZQUNqRSxJQUFJLENBQUMzQixlQUFlLENBQUM7Z0JBQ25CLE1BQU04RSxvQkFBb0IsSUFBSSxDQUFDakUsK0JBQStCO2dCQUM5RCxPQUFPWixhQUFhempCLEdBQUcsQ0FBeUIsQ0FBQ21lOzs7O29CQUkvQyxNQUFNb0ssc0JBQXNCRCxpQkFBaUIsQ0FBQ25LLEVBQUVpRyxTQUFTLENBQUM7b0JBQzFELE1BQU1vRSxxQkFBcUJySyxFQUFFaUcsU0FBUyxLQUFLNkQ7b0JBQzNDLE9BQU9ycUIsT0FBTzZxQixNQUFNLENBQUMsSUFBSUYscUJBQXFCcEssR0FBRzt3QkFDL0NxSzt3QkFDQXBLLGlCQUFpQm9LLHFCQUNiSix1QkFDQWpLLEVBQUVDLGVBQWU7d0JBQ3JCNEIseUJBQ0V1SSxxQkFBcUJ2SSwyQkFBMkI7NEJBQzlDQyxZQUFZcFQsZ0JBQWdCdVQsT0FBTzs0QkFDbkNzSSxrQkFBa0I3YixnQkFBZ0J1VCxPQUFPO3dCQUMxQztvQkFDc0M7Z0JBQzdDO1lBQ0Y7WUFFQSxJQUFJLENBQUM0QyxtQkFBbUIsQ0FBQ21GLGtCQUFrQlEsU0FBUztZQUNwRCxJQUFJLENBQUNwRiw0QkFBNEIsQ0FBQzRFLGtCQUFrQlMsYUFBYTtZQUNqRSxJQUFJLENBQUMxRixZQUFZLENBQUNDLFlBQVlwaEIsVUFBVWpCLE1BQU0sQ0FBQ3FpQixhQUFhLElBQUk3aUI7WUFDaEUsSUFBSSxDQUFDd2xCLGlCQUFpQixDQUFDQztRQUN6QjtRQUVRLEtBQUE4Qyx1QkFBdUIsR0FBRyxDQUFDakQ7WUFDakMsSUFBSSxDQUFDa0Isc0JBQXNCLENBQUNsQixNQUFNL1YsSUFBSTtZQUN0QyxJQUFJLENBQUNpTCxlQUFlLENBQUMsSUFBSSxDQUFDaUgsY0FBYyxFQUFFLENBQUMrQixVQUN6Q0EsUUFBUS9QLE1BQU0sQ0FBQyxDQUFDekUsSUFBTXNXLE1BQU05QixPQUFPLENBQUNnRixPQUFPLENBQUN4WixFQUFFeVosT0FBTyxNQUFNLENBQUM7UUFFaEU7UUFFUSxLQUFBQyxxQkFBcUIsR0FBRyxDQUFDcEQ7WUFDL0IsSUFBSSxDQUFDa0Isc0JBQXNCLENBQUNsQixNQUFNL1YsSUFBSTtZQUN0QyxJQUFJLENBQUNpTCxlQUFlLENBQUMsSUFBSSxDQUFDaUgsY0FBYyxFQUFFLENBQUMrQixVQUFZO3VCQUNsREE7dUJBQ0E4QixNQUFNOUIsT0FBTztpQkFDakI7UUFDSDtRQUVRLElBQTZCLENBQUFtRiw2QkFBQSxHQUFHO1lBQ3RDLElBQUksQ0FBQ25PLGVBQWUsQ0FBQyxJQUFJLENBQUN3RyxhQUFhLEVBQUUsQ0FBQ2lHLFNBQVM5RyxhQUFhLEdBQU07b0JBQ3BFLEdBQUc4RyxNQUFNO29CQUNUN0csY0FBYztnQkFDZjtRQUNIO1FBRVEsSUFBK0IsQ0FBQXdJLCtCQUFBLEdBQUc7WUFDeEMsSUFBSSxDQUFDcE8sZUFBZSxDQUFDLElBQUksQ0FBQ3dHLGFBQWEsRUFBRSxDQUFDaUcsU0FBUzlHLGFBQWEsR0FBTTtvQkFDcEUsR0FBRzhHLE1BQU07b0JBQ1Q3RyxjQUFjO2dCQUNmO1FBQ0g7UUFFUSxLQUFBeUksNkJBQTZCLEdBQUcsQ0FDdEN2RDtZQUVBLElBQUksQ0FBQzlLLGVBQWUsQ0FBQyxJQUFJLENBQUN3RyxhQUFhLEVBQUUsQ0FBQ2lHLFNBQVM5RyxhQUFhLEdBQU07b0JBQ3BFLEdBQUc4RyxNQUFNO29CQUNUN0csY0FBYztvQkFDZEMsS0FBSzt3QkFDSCxHQUFHNEcsT0FBTzVHLEdBQUc7d0JBQ2JDLGNBQWNnRixNQUFNd0QsZ0JBQWdCO29CQUNyQztnQkFDRjtRQUNIO1FBRVEsS0FBQXpCLGlDQUFpQyxHQUFHLENBQzFDRDs7O1lBSUEsSUFBSSxDQUFDQSxXQUFXLElBQUksQ0FBQzdLLFlBQVksS0FBS2xCLGFBQWEwTixNQUFNLEVBQUU7WUFDM0QsTUFBTUMsY0FBYzFyQixPQUFPbUMsTUFBTSxDQUMvQjJuQixRQUFRNkIsMEJBQTBCLEVBQ2xDakYsTUFBTSxDQUFDLENBQUNxRSxPQUFPYSxjQUFnQmIsUUFBUWEsYUFBYTtZQUN0RCxNQUFNckIsbUJBQW1Cem5CLEtBQUs0UCxHQUFHLENBQUNnWixhQUFhNUIsUUFBUWpFLFlBQVksQ0FBQzNoQixNQUFNO1lBQzFFLElBQUksQ0FBQ2toQixtQkFBbUIsQ0FBQ21GO1lBQ3pCLElBQUksQ0FBQzVFLDRCQUE0QixDQUFDbUUsUUFBUStCLDJCQUEyQixJQUFJO1FBQzNFO1FBRVEsS0FBQUMsdUNBQXVDLEdBQUcsQ0FDaEQ5RDtZQUVBLE1BQU0vVSxJQUFJLElBQUksQ0FBQ2lLLGVBQWUsQ0FBQyxJQUFJLENBQUMyRyxjQUFjLEVBQUUsQ0FBQ2lHO2dCQUNuRCxJQUFJLENBQUNBLFNBQVMsT0FBT0E7Z0JBQ3JCLE9BQU87b0JBQ0wsR0FBR0EsT0FBTztvQkFDVitCLDZCQUE2QjdELE1BQU02RCwyQkFBMkI7b0JBQzlERiw0QkFBNEIzRCxNQUFNMkQsMEJBQTBCOztZQUVoRTtZQUNBLElBQUksQ0FBQzVCLGlDQUFpQyxDQUFDOVc7UUFDekM7UUFFUSxLQUFBOFksZ0NBQWdDLEdBQUcsQ0FDekMvRDtZQUVBLE1BQU0vVSxJQUFJLElBQUksQ0FBQ2lLLGVBQWUsQ0FBQyxJQUFJLENBQUMyRyxjQUFjLEVBQUUsQ0FBQ2lHO2dCQUNuRCxJQUFJLENBQUNBLFNBQVMsT0FBT0E7Z0JBQ3JCLE1BQU0sRUFBRWpFLFlBQVksRUFBRThGLDBCQUEwQixFQUFFLEdBQUc3QjtnQkFDckQsTUFBTSxFQUFFekwsSUFBSSxFQUFFMk4sZUFBZSxFQUFFLEdBQUdoRSxNQUFNcEIsV0FBVztnQkFDbkQsT0FBTztvQkFDTCxHQUFHa0QsT0FBTztvQkFDVmpFLGNBQWNBLGFBQWExUCxNQUFNLENBQy9CLENBQUNvSyxJQUFNQSxFQUFFeUwsZUFBZSxLQUFLQTtvQkFFL0JMLDRCQUE0Qjt3QkFDMUIsR0FBR0EsMEJBQTBCO3dCQUM3QixDQUFDdE4sS0FBSzBELElBQUksR0FBR2pmLEtBQUs0UCxHQUFHLENBQ25CLEdBQ0EsQ0FBQ2laLDBCQUEwQixDQUFDdE4sS0FBSzBELElBQUksQ0FBQyxJQUFJLEtBQUs7b0JBRWxEOztZQUVMO1lBQ0EsSUFBSSxDQUFDZ0ksaUNBQWlDLENBQUM5VztRQUN6QztRQUVRLEtBQUFnWixrQ0FBa0MsR0FBRyxDQUMzQ2pFO1lBRUEsTUFBTS9VLElBQUksSUFBSSxDQUFDaUssZUFBZSxDQUFDLElBQUksQ0FBQzJHLGNBQWMsRUFBRSxDQUFDaUc7Z0JBQ25ELElBQUksQ0FBQ0EsU0FBUyxPQUFPQTtnQkFDckIsTUFBTSxFQUFFakUsWUFBWSxFQUFFOEYsMEJBQTBCLEVBQUUsR0FBRzdCO2dCQUNyRCxNQUFNLEVBQUV6TCxJQUFJLEVBQUUyTixlQUFlLEVBQUUsR0FBR2hFLE1BQU1wQixXQUFXOzs7OztnQkFLbkQsSUFBSXNGLDBCQUEwQjtnQkFDOUIsTUFBTUMsc0JBQXNCdEcsYUFBYXpqQixHQUFHLENBQUMsQ0FBQ21lO29CQUM1QyxJQUFJQSxFQUFFeUwsZUFBZSxLQUFLQSxpQkFBaUI7d0JBQ3pDRSwwQkFBMEI7d0JBQzFCLE9BQU9sRSxNQUFNcEIsV0FBVzs7b0JBRTFCLE9BQU9yRztnQkFDVDtnQkFDQSxJQUFJMkwseUJBQXlCOztvQkFFM0JDLG9CQUFvQjlwQixJQUFJLENBQUMybEIsTUFBTXBCLFdBQVc7Ozs7Z0JBSzVDLE1BQU13RixZQUFZRiwwQkFBMEIsSUFBSTtnQkFDaEQsT0FBTztvQkFDTCxHQUFHcEMsT0FBTztvQkFDVmpFLGNBQWNzRztvQkFDZFIsNEJBQTRCO3dCQUMxQixHQUFHQSwwQkFBMEI7d0JBQzdCLENBQUN0TixLQUFLMEQsSUFBSSxHQUFHLENBQUM0SiwwQkFBMEIsQ0FBQ3ROLEtBQUswRCxJQUFJLENBQUMsSUFBSSxLQUFLcUs7b0JBQzdEOztZQUVMO1lBQ0EsSUFBSSxDQUFDckMsaUNBQWlDLENBQUM5VztRQUN6QztRQUVRLEtBQUFvWixhQUFhLEdBQUcsQ0FDdEJyRTtZQUVBLElBQUksQ0FBQ2tCLHNCQUFzQixDQUFDbEIsTUFBTS9WLElBQUk7WUFDdEMsSUFBSSxDQUFDaUwsZUFBZSxDQUFDLElBQUksQ0FBQ2lILGNBQWMsRUFBRSxDQUFDK0IsVUFDekNBLFFBQVE5akIsR0FBRyxDQUFDLENBQUNrcUI7b0JBQ1gsTUFBTUMsZUFBZXZFLE1BQU05QixPQUFPLENBQUMxa0IsSUFBSSxDQUNyQyxDQUFDa1EsSUFBTUEsRUFBRXlaLE9BQU8sS0FBS21CLE9BQU9uQixPQUFPO29CQUVyQyxPQUFPb0IsZUFBZUEsZUFBZUQ7O1FBRzNDO1FBRVEsS0FBQUUseUJBQXlCLEdBQUcsQ0FBQ3hFO1lBQ25DLE1BQU0sRUFBRTNKLElBQUksRUFBRXFMLE1BQU0sRUFBRTVLLElBQUksRUFBRTJOLFVBQVUsRUFBRSxHQUFHekUsTUFBTWxHLFFBQVE7WUFDekQsSUFBSSxDQUFDOEQsZUFBZSxDQUFDLENBQUNDO2dCQUNwQixPQUFPQSxhQUFhempCLEdBQUcsQ0FBQyxDQUFDbWU7O29CQUV2QixJQUFJQSxFQUFFbU0sTUFBTSxLQUFLck8sS0FBS1UsRUFBRSxFQUFFLE9BQU93Qjs7b0JBRWpDLE9BQU87d0JBQ0wsR0FBR0EsQ0FBQzt3QkFDSnVCLFVBQVU7NEJBQ1JoRDs0QkFDQTJOOzRCQUNBL0M7d0JBQ0Q7O2dCQUVMO1lBQ0Y7UUFDRjtRQUVRLEtBQUFpRCxXQUFXLEdBQUcsQ0FBQzNFO1lBQ3JCLElBQUksQ0FBQzlLLGVBQWUsQ0FBQyxJQUFJLENBQUNpRyxxQkFBcUIsRUFBRSxDQUFDeUo7Z0JBQ2hELElBQUksQ0FBQ0EsU0FBUyxPQUFPQTtnQkFDckIsT0FBT0EsUUFBUXpXLE1BQU0sQ0FBQyxDQUFDNEksS0FBT0EsT0FBT2lKLE1BQU0zSixJQUFJLENBQUNVLEVBQUU7WUFDcEQ7UUFDRjtRQUVRLEtBQUE4TixTQUFTLEdBQUcsQ0FBQzdFO1lBQ25CLElBQUksQ0FBQzlLLGVBQWUsQ0FBQyxJQUFJLENBQUNpRyxxQkFBcUIsRUFBRSxDQUFDeUosVUFBWTt1QkFDeERBLFdBQVcsRUFBRTtvQkFDakI1RSxNQUFNM0osSUFBSSxDQUFDVSxFQUFFO2lCQUNkO1FBQ0g7UUFFUSxLQUFBK04scUJBQXFCLEdBQUcsQ0FBQzlFO1lBQy9CLElBQUlBLE1BQU0zSixJQUFJLENBQUNVLEVBQUUsS0FBSyxJQUFJLENBQUNnTyxnQkFBZ0IsRUFBRUwsUUFBUTtnQkFDbkQsSUFBSSxDQUFDeFAsZUFBZSxDQUFDLElBQUksQ0FBQ2tILHNCQUFzQixFQUFFNEQsTUFBTWdGLGdCQUFnQjs7UUFFNUU7UUFFUSxLQUFBQyx3QkFBd0IsR0FBRyxDQUFDakY7WUFDbEMsSUFBSSxDQUFDOUssZUFBZSxDQUFDLElBQUksQ0FBQ3lILHFCQUFxQixFQUFFLENBQUN1STtnQkFDaEQsTUFBTSxFQUFFQyxjQUFjLEVBQUUsR0FBR25GO2dCQUUzQixNQUFNb0YsUUFBUSxDQUFDMU8sSUFBeUIsR0FBR0EsRUFBRTJPLFVBQVUsQ0FBSSxHQUFBM08sRUFBRTRPLFVBQVUsRUFBRTtnQkFDekUsTUFBTUMsYUFBYUgsTUFBTUQ7Z0JBRXpCLE1BQU1LLFlBQVlOLE1BQU1oTCxJQUFJLENBQUMsQ0FBQ3VMLFVBQVlMLE1BQU1LLGFBQWFGO2dCQUM3RCxJQUFJQyxXQUFXLE9BQU9OO2dCQUV0QixNQUFNUSxZQUFZO3VCQUFJUjtvQkFBT0M7aUJBQWU7Z0JBRTVDLE1BQU0sRUFBRVEsdUJBQXVCLElBQUksRUFBRUMscUJBQXFCLENBQUMsRUFBRSxHQUMzRCxJQUFJLENBQUMzRSxzQkFBc0IsSUFBSTs7Z0JBRWpDLElBQUkwRSx1QkFBdUIsR0FBRztvQkFDNUIsTUFBTTNJLFNBQVNuVCxXQUFXO3dCQUN4QixJQUFJLENBQUNxTCxlQUFlLENBQUMsSUFBSSxDQUFDeUgscUJBQXFCLEVBQUUsQ0FBQ2tKLFdBQ2hEQSxTQUFTMVgsTUFBTSxDQUFDLENBQUNzWCxVQUFZQSxZQUFZTjt3QkFFM0MsSUFBSSxDQUFDckksbUJBQW1CLENBQUN4SSxNQUFNLENBQUNpUjt1QkFDL0JJO29CQUNILElBQUksQ0FBQzdJLG1CQUFtQixDQUFDM0ksR0FBRyxDQUFDb1IsWUFBWXZJOztvQkFHekMsSUFBSyxJQUFJOVIsSUFBSSxHQUFHQSxJQUFJd2EsVUFBVXhwQixNQUFNLEdBQUcwcEIsb0JBQW9CMWEsSUFBSzt3QkFDOUQsTUFBTTRhLE1BQU1WLE1BQU1NLFNBQVMsQ0FBQ3hhLEVBQUU7d0JBQzlCLE1BQU02YSxPQUFPLElBQUksQ0FBQ2pKLG1CQUFtQixDQUFDbkosR0FBRyxDQUFDbVM7d0JBQzFDN0ksYUFBYThJO3dCQUNiLElBQUksQ0FBQ2pKLG1CQUFtQixDQUFDeEksTUFBTSxDQUFDd1I7Ozs7Z0JBS3BDLE9BQU9KLFVBQVVNLEtBQUssQ0FBQyxDQUFDSjtZQUMxQjtRQUNGO1FBNWpDRSxJQUFJLENBQUNLLGFBQWEsR0FBRyxJQUFJLENBQUN4SixtQkFBbUIsQ0FBQzlFLFlBQVksR0FBR3VPLElBQUk7O1FBRy9EOXJCLHVRQUFHQSxDQUFDLENBQUMraUIsS0FBT0EsR0FBR2dKLElBQUksQ0FBQyxJQUFJLENBQUN0SixrQkFBa0IsSUFDM0N1SiwrUUFBV0EsQ0FBQztZQUFFQyxZQUFZO1lBQUdDLFVBQVU7UUFBSTtRQUc3QyxJQUFJLENBQUNDLGlCQUFpQixHQUFHLElBQUksQ0FBQ04sYUFBYSxDQUFDQyxJQUFJLENBQzlDOXJCLHVRQUFHQSxDQUFDLENBQUN5akIsZUFBaUJBLGFBQWFya0IsSUFBSSxDQUFDLENBQUMrZSxJQUFNQSxFQUFFcUssa0JBQWtCLElBQ25Fd0QsK1FBQVdBLENBQUM7WUFBRUMsWUFBWTtZQUFHQyxVQUFVO1FBQUk7UUFHN0MsSUFBSSxDQUFDRSxtQkFBbUIsR0FBRyxJQUFJLENBQUNQLGFBQWEsQ0FBQ0MsSUFBSSxDQUNoRDlyQix1UUFBR0EsQ0FBQyxDQUFDeWpCLGVBQWlCQSxhQUFhMVAsTUFBTSxDQUFDLENBQUNvSyxJQUFNLENBQUNBLEVBQUVxSyxrQkFBa0IsSUFDdEV3RCwrUUFBV0EsQ0FBQztZQUFFQyxZQUFZO1lBQUdDLFVBQVU7UUFBSTtRQUc3QyxJQUFJLENBQUNHLG1CQUFtQixHQUFHLElBQUksQ0FBQ1IsYUFBYSxDQUFDQyxJQUFJLENBQ2hEOXJCLHVRQUFHQSxDQUFDLENBQUN5akIsZUFBaUJBLGFBQWExUCxNQUFNLENBQUMsQ0FBQ29LLElBQU0sQ0FBQyxDQUFDQSxFQUFFVyxHQUFHLElBQ3hEa04sK1FBQVdBLENBQUM7WUFBRUMsWUFBWTtZQUFHQyxVQUFVO1FBQUk7UUFHN0MsSUFBSSxDQUFDSSxnQkFBZ0IsR0FBRyxJQUFJLENBQUNULGFBQWEsQ0FBQ0MsSUFBSSxDQUM3QzlyQix1UUFBR0EsQ0FBQyxDQUFDeWpCLGVBQWlCQSxhQUFhcmtCLElBQUksQ0FBQyxDQUFDK2UsSUFBTUEsRUFBRWUsaUJBQWlCLElBQ2xFOE0sK1FBQVdBLENBQUM7WUFBRUMsWUFBWTtZQUFHQyxVQUFVO1FBQUk7UUFHN0MsSUFBSSxDQUFDSyxzQkFBc0IsR0FBRyxJQUFJLENBQUNWLGFBQWEsQ0FBQ0MsSUFBSSxDQUNuRDlyQix1UUFBR0EsQ0FBQyxDQUFDeWpCLGVBQWlCQSxhQUFhM0QsSUFBSSxDQUFDLENBQUMzQixJQUFNTSxlQUFlTixNQUM5RHFPLHdSQUFvQkEsSUFDcEJSLCtRQUFXQSxDQUFDO1lBQUVDLFlBQVk7WUFBR0MsVUFBVTtRQUFJOztRQUk3QyxJQUFJLENBQUNPLFVBQVUsR0FBRyxJQUFJLENBQUN6TCxnQkFBZ0IsQ0FBQ3pELFlBQVk7UUFDcEQsSUFBSSxDQUFDbVAsUUFBUSxHQUFHLElBQUksQ0FBQ3pMLGNBQWMsQ0FBQzFELFlBQVk7UUFDaEQsSUFBSSxDQUFDb1AsU0FBUyxHQUFHLElBQUksQ0FBQ3pMLGVBQWUsQ0FBQzNELFlBQVk7UUFDbEQsSUFBSSxDQUFDcVAsVUFBVSxHQUFHLElBQUksQ0FBQzFLLGdCQUFnQixDQUFDM0UsWUFBWTtRQUNwRCxJQUFJLENBQUNzUCxVQUFVLEdBQUcsSUFBSSxDQUFDMUwsZ0JBQWdCLENBQUM1RCxZQUFZO1FBRXBELElBQUksQ0FBQ3VQLGdCQUFnQixHQUFHLElBQUksQ0FBQ3hLLHNCQUFzQixDQUFDL0UsWUFBWTtRQUNoRSxJQUFJLENBQUN3UCxRQUFRLEdBQUcsSUFBSSxDQUFDaEwsY0FBYyxDQUFDeEUsWUFBWTs7UUFHaEQsSUFBSSxDQUFDeVAsVUFBVSxHQUFHLElBQUksQ0FBQzVMLGdCQUFnQixDQUFDN0QsWUFBWTtRQUNwRCxJQUFJLENBQUMwUCxPQUFPLEdBQUcsSUFBSSxDQUFDNUwsYUFBYSxDQUFDOUQsWUFBWTtRQUM5QyxJQUFJLENBQUMyUCxPQUFPLEdBQUcsSUFBSSxDQUFDNUwsYUFBYSxDQUFDL0QsWUFBWTtRQUM5QyxJQUFJLENBQUM0UCxRQUFRLEdBQUcsSUFBSSxDQUFDNUwsY0FBYyxDQUFDaEUsWUFBWTtRQUNoRCxJQUFJLENBQUM2UCxRQUFRLEdBQUcsSUFBSSxDQUFDM0wsY0FBYyxDQUFDbEUsWUFBWTtRQUNoRCxJQUFJLENBQUM4UCxTQUFTLEdBQUcsSUFBSSxDQUFDM0wsZUFBZSxDQUFDbkUsWUFBWTtRQUNsRCxJQUFJLENBQUMrUCxRQUFRLEdBQUcsSUFBSSxDQUFDekwsY0FBYyxDQUFDdEUsWUFBWTtRQUNoRCxJQUFJLENBQUNnUSxXQUFXLEdBQUcsSUFBSSxDQUFDekwsaUJBQWlCLENBQUN2RSxZQUFZO1FBQ3RELElBQUksQ0FBQ2lRLGVBQWUsR0FBRyxJQUFJLENBQUNqTCxxQkFBcUIsQ0FBQ2hGLFlBQVk7UUFFOUQ7OztTQUdHLEdBQ0gsTUFBTWtRLGlCQUFpQixDQUFJOVAsR0FBYUM7WUFDdEMsSUFBSUQsRUFBRTdiLE1BQU0sS0FBSzhiLEVBQUU5YixNQUFNLEVBQUUsT0FBTztZQUNsQyxLQUFLLE1BQU00ckIsUUFBUS9QLEVBQUcsSUFBSSxDQUFDQyxFQUFFUyxRQUFRLENBQUNxUCxPQUFPLE9BQU87WUFDcEQsS0FBSyxNQUFNQSxRQUFROVAsRUFBRyxJQUFJLENBQUNELEVBQUVVLFFBQVEsQ0FBQ3FQLE9BQU8sT0FBTztZQUNwRCxPQUFPO1FBQ1Q7UUFFQTs7O1NBR0csR0FDSCxNQUFNQyxNQUFNLENBQ1Y1UyxTQUNBOEMsYUFFQTlDLFFBQVF3QyxZQUFZLEdBQUd1TyxJQUFJLENBQUNVLHdSQUFvQkEsQ0FBQzNPOztRQUduRCxJQUFJLENBQUMrUCwwQkFBMEIsR0FBR0QsSUFDaEMsSUFBSSxDQUFDdkwsZ0NBQWdDO1FBRXZDLElBQUksQ0FBQ3lMLGVBQWUsR0FBR0YsSUFBSSxJQUFJLENBQUM1TSxxQkFBcUIsRUFBRTBNO1FBQ3ZELElBQUksQ0FBQ0ssVUFBVSxHQUFHSCxJQUFJLElBQUksQ0FBQzdNLGdCQUFnQjtRQUMzQyxJQUFJLENBQUNpTixhQUFhLEdBQUdKLElBQUksSUFBSSxDQUFDMUwsbUJBQW1CO1FBQ2pELElBQUksQ0FBQytMLGdCQUFnQixHQUFHTCxJQUFJLElBQUksQ0FBQzNMLHNCQUFzQixFQUFFeUw7UUFDekQsSUFBSSxDQUFDUSxpQkFBaUIsR0FBR04sSUFBSSxJQUFJLENBQUN4TCx1QkFBdUI7UUFDekQsSUFBSSxDQUFDK0wsVUFBVSxHQUFHUCxJQUFJLElBQUksQ0FBQ25NLGdCQUFnQjtRQUMzQyxJQUFJLENBQUMyTSxhQUFhLEdBQUdSLElBQUksSUFBSSxDQUFDaE0sbUJBQW1CO1FBQ2pELElBQUksQ0FBQ3lNLFdBQVcsR0FBR1QsSUFBSSxJQUFJLENBQUMvTCxpQkFBaUI7UUFFN0MsSUFBSSxDQUFDaUUsYUFBYSxHQUFHOztZQUVuQixnQkFBZ0JobkI7WUFDaEIsMkJBQTJCQTtZQUMzQix3QkFBd0JBO1lBQ3hCLDRCQUE0QkE7WUFDNUIsbUJBQW1CQTtZQUNuQixvQkFBb0JBO1lBQ3BCLGlCQUFpQkE7WUFDakIsZ0JBQWdCQTtZQUNoQixlQUFlQTtZQUNmLG9CQUFvQkE7WUFDcEIsZ0JBQWdCQTtZQUNoQixjQUFjQTtZQUNkLHlCQUF5QkE7WUFDekIsb0JBQW9CQTtZQUNwQixpQkFBaUJBO1lBQ2pCLGdCQUFnQkE7WUFDaEJ5b0IsUUFBUXpvQjs7WUFHUixpQkFBaUIsQ0FBQ2laLElBQU0sSUFBSSxDQUFDZ1Asc0JBQXNCLENBQUNoUCxFQUFFakksSUFBSTtZQUMxRCxxQkFBcUIsSUFBSSxDQUFDNGEsU0FBUztZQUNuQyx1QkFBdUIsSUFBSSxDQUFDSSx3QkFBd0I7WUFDcEQsK0JBQStCO2dCQUM3QixJQUFJLENBQUMvUCxlQUFlLENBQUMsSUFBSSxDQUFDOEcsaUJBQWlCLEVBQUU7O1lBRS9DLGdDQUFnQztnQkFDOUIsSUFBSSxDQUFDOUcsZUFBZSxDQUFDLElBQUksQ0FBQzhHLGlCQUFpQixFQUFFOztZQUUvQyxnQ0FBZ0M7Z0JBQzlCLElBQUksQ0FBQzlHLGVBQWUsQ0FBQyxJQUFJLENBQUM4RyxpQkFBaUIsRUFBRTs7WUFFL0MsZ0JBQWdCLENBQUM5SixJQUFNLElBQUksQ0FBQ2dQLHNCQUFzQixDQUFDaFAsRUFBRWpJLElBQUk7WUFDekQsY0FBYyxDQUFDaUk7Z0JBQ2IsSUFBSSxDQUFDZ1Asc0JBQXNCLENBQUNoUCxFQUFFakksSUFBSTtnQkFDbEMsSUFBSSxDQUFDaUwsZUFBZSxDQUFDLElBQUksQ0FBQytHLGNBQWMsRUFBRS9KLEVBQUVtRSxJQUFJOztZQUVsRCxnQ0FBZ0MsSUFBSSxDQUFDaU4sK0JBQStCO1lBQ3BFLGlDQUFpQyxJQUFJLENBQUNDLDZCQUE2QjtZQUNuRSxpQ0FBaUMsSUFBSSxDQUFDRiw2QkFBNkI7WUFDbkUscUJBQXFCLENBQUNuUixJQUFNLElBQUksQ0FBQ2dQLHNCQUFzQixDQUFDaFAsRUFBRWpJLElBQUk7WUFDOUQscUJBQXFCLElBQUksQ0FBQ21aLHFCQUFxQjtZQUMvQyx1QkFBdUIsSUFBSSxDQUFDSCx1QkFBdUI7WUFDbkQsa0NBQWtDLElBQUksQ0FBQ29CLGFBQWE7WUFDcEQsdUJBQXVCLElBQUksQ0FBQ0EsYUFBYTtZQUN6QyxxQkFBcUIsQ0FBQ25TO2dCQUNwQixJQUFJLENBQUNnUCxzQkFBc0IsQ0FBQ2hQLEVBQUVqSSxJQUFJO2dCQUNsQyxJQUFJLENBQUNnVSxVQUFVLENBQUMvTCxFQUFFZ00sT0FBTzs7WUFFM0IsNEJBQTRCLElBQUksQ0FBQzRHLHFCQUFxQjtZQUN0RCxxQkFBcUIsSUFBSSxDQUFDTix5QkFBeUI7WUFDbkQsMEJBQTBCLElBQ3hCLElBQUksQ0FBQ3RQLGVBQWUsQ0FBQyxJQUFJLENBQUMwRyxnQkFBZ0IsRUFBRTtZQUM5QywwQkFBMEIsSUFDeEIsSUFBSSxDQUFDMUcsZUFBZSxDQUFDLElBQUksQ0FBQzBHLGdCQUFnQixFQUFFO1lBQzlDLHlCQUF5QixJQUN2QixJQUFJLENBQUMxRyxlQUFlLENBQUMsSUFBSSxDQUFDMEcsZ0JBQWdCLEVBQUU7WUFDOUMsaUJBQWlCLENBQUMxSixJQUFNLElBQUksQ0FBQ2dQLHNCQUFzQixDQUFDaFAsRUFBRWpJLElBQUk7WUFDMUQsYUFBYSxDQUFDaUksSUFBTSxJQUFJLENBQUNnUCxzQkFBc0IsQ0FBQ2hQLEVBQUVqSSxJQUFJO1lBQ3RELGVBQWUsQ0FBQ2lJLElBQU0sSUFBSSxDQUFDZ1Asc0JBQXNCLENBQUNoUCxFQUFFakksSUFBSTtZQUN4RCxzQkFBc0IsQ0FBQ2lJLElBQU0sSUFBSSxDQUFDZ1Asc0JBQXNCLENBQUNoUCxFQUFFakksSUFBSTtZQUMvRCwwQ0FDRSxJQUFJLENBQUM2Wix1Q0FBdUM7WUFDOUMsbUNBQ0UsSUFBSSxDQUFDRyxrQ0FBa0M7WUFDekMsaUNBQWlDLElBQUksQ0FBQ0YsZ0NBQWdDO1lBQ3RFLHdCQUF3QixDQUFDN1IsSUFBTSxJQUFJLENBQUNnUCxzQkFBc0IsQ0FBQ2hQLEVBQUVqSSxJQUFJO1lBQ2pFLDhCQUE4QjtnQkFDNUIsSUFBSSxDQUFDaUwsZUFBZSxDQUFDLElBQUksQ0FBQzZHLG1CQUFtQixFQUFFOztZQUVqRCw4QkFBOEI7Z0JBQzVCLElBQUksQ0FBQzdHLGVBQWUsQ0FBQyxJQUFJLENBQUM2RyxtQkFBbUIsRUFBRTs7WUFFakQsNkJBQTZCO2dCQUMzQixJQUFJLENBQUM3RyxlQUFlLENBQUMsSUFBSSxDQUFDNkcsbUJBQW1CLEVBQUU7O1lBRWpELHVCQUF1QixJQUFJLENBQUM0SSxXQUFXO1lBQ3ZDLGdCQUFnQixDQUFDelMsSUFBTSxJQUFJLENBQUNnUCxzQkFBc0IsQ0FBQ2hQLEVBQUVqSSxJQUFJOzs7SUErQzdEOzs7S0FHRyxHQUNILElBQUlzWSxtQkFBZ0I7UUFDbEIsT0FBTyxJQUFJLENBQUMxTixlQUFlLENBQUMsSUFBSSxDQUFDd1QsaUJBQWlCOztJQWFwRDs7O0tBR0csR0FDSCxJQUFJOUssWUFBUztRQUNYLE9BQU8sSUFBSSxDQUFDMUksZUFBZSxDQUFDLElBQUksQ0FBQ21TLFVBQVU7O0lBYTdDOztLQUVHLEdBQ0gsSUFBSXZKLGFBQVU7UUFDWixPQUFPLElBQUksQ0FBQzVJLGVBQWUsQ0FBQyxJQUFJLENBQUMyVCxXQUFXOztJQWE5Qzs7O0tBR0csR0FDSCxJQUFJQyw0QkFBeUI7UUFDM0IsT0FBTyxJQUFJLENBQUM1VCxlQUFlLENBQUMsSUFBSSxDQUFDbVQsMEJBQTBCOztJQWE3RDs7S0FFRyxHQUNILElBQUluSyxlQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUNoSixlQUFlLENBQUMsSUFBSSxDQUFDb1IsYUFBYTs7SUFjaEQ7O0tBRUcsR0FDSCxJQUFJbEIsbUJBQWdCO1FBQ2xCLE9BQU8sSUFBSSxDQUFDbFEsZUFBZSxDQUFDLElBQUksQ0FBQzBSLGlCQUFpQjs7SUFHcEQ7O0tBRUcsR0FDSCxJQUFJbUMscUJBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDN1QsZUFBZSxDQUFDLElBQUksQ0FBQzJSLG1CQUFtQjs7SUFHdEQ7O0tBRUcsR0FDSCxJQUFJbk4sa0JBQWU7UUFDakIsT0FBTyxJQUFJLENBQUN4RSxlQUFlLENBQUMsSUFBSSxDQUFDNlIsZ0JBQWdCOztJQUduRDs7S0FFRyxHQUNILElBQUlpQyxxQkFBa0I7UUFDcEIsT0FBTyxJQUFJLENBQUM5VCxlQUFlLENBQUMsSUFBSSxDQUFDNFIsbUJBQW1COztJQUd0RDs7S0FFRyxHQUNILElBQUltQyx3QkFBcUI7UUFDdkIsT0FBTyxJQUFJLENBQUMvVCxlQUFlLENBQUMsSUFBSSxDQUFDOFIsc0JBQXNCOztJQUd6RDs7S0FFRyxHQUNILElBQUkxUCxlQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUNwQyxlQUFlLENBQUMsSUFBSSxDQUFDc1QsYUFBYTs7SUFhaEQ7O0tBRUcsR0FDSCxJQUFJVSxrQkFBZTtRQUNqQixPQUFPLElBQUksQ0FBQ2hVLGVBQWUsQ0FBQyxJQUFJLENBQUNxUyxnQkFBZ0I7O0lBYW5EOztLQUVHLEdBQ0gsSUFBSWhKLFVBQU87UUFDVCxPQUFPLElBQUksQ0FBQ3JKLGVBQWUsQ0FBQyxJQUFJLENBQUNzUyxRQUFROztJQWEzQzs7S0FFRyxHQUNILElBQUkyQixrQkFBZTtRQUNqQixPQUFPLElBQUksQ0FBQ2pVLGVBQWUsQ0FBQyxJQUFJLENBQUN1VCxnQkFBZ0I7O0lBYW5EOztLQUVHLEdBQ0gsSUFBSWpILFlBQVM7UUFDWCxPQUFPLElBQUksQ0FBQ3RNLGVBQWUsQ0FBQyxJQUFJLENBQUNxVCxVQUFVOztJQUc3Qzs7S0FFRyxHQUNILElBQUlhLGlCQUFjO1FBQ2hCLE9BQU8sSUFBSSxDQUFDbFUsZUFBZSxDQUFDLElBQUksQ0FBQ29ULGVBQWU7O0lBR2xEOztLQUVHLEdBQ0gsSUFBSWUsWUFBUztRQUNYLE9BQU8sSUFBSSxDQUFDblUsZUFBZSxDQUFDLElBQUksQ0FBQ2dTLFVBQVU7O0lBRzdDOztLQUVHLEdBQ0gsSUFBSXZJLFVBQU87UUFDVCxPQUFPLElBQUksQ0FBQ3pKLGVBQWUsQ0FBQyxJQUFJLENBQUNpUyxRQUFROztJQVczQzs7S0FFRyxHQUNILElBQUltQyxXQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUNwVSxlQUFlLENBQUMsSUFBSSxDQUFDa1MsU0FBUzs7SUFHNUM7O0tBRUcsR0FDSCxJQUFJbUMsWUFBUztRQUNYLE9BQU8sSUFBSSxDQUFDclUsZUFBZSxDQUFDLElBQUksQ0FBQ29TLFVBQVU7O0lBRzdDOztLQUVHLEdBQ0gsSUFBSWtDLFlBQVM7UUFDWCxPQUFPLElBQUksQ0FBQ3RVLGVBQWUsQ0FBQyxJQUFJLENBQUN1UyxVQUFVOztJQUc3Qzs7S0FFRyxHQUNILElBQUkxRixTQUFNO1FBQ1IsT0FBTyxJQUFJLENBQUM3TSxlQUFlLENBQUMsSUFBSSxDQUFDd1MsT0FBTzs7SUFHMUM7O0tBRUcsR0FDSCxJQUFJMUYsU0FBTTtRQUNSLE9BQU8sSUFBSSxDQUFDOU0sZUFBZSxDQUFDLElBQUksQ0FBQ3lTLE9BQU87O0lBRzFDOztLQUVHLEdBQ0gsSUFBSTFGLFVBQU87UUFDVCxPQUFPLElBQUksQ0FBQy9NLGVBQWUsQ0FBQyxJQUFJLENBQUMwUyxRQUFROztJQUczQzs7S0FFRyxHQUNILElBQUkxRixZQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUNoTixlQUFlLENBQUMsSUFBSSxDQUFDeVQsVUFBVTs7SUFHN0M7O0tBRUcsR0FDSCxJQUFJeEcsVUFBTztRQUNULE9BQU8sSUFBSSxDQUFDak4sZUFBZSxDQUFDLElBQUksQ0FBQzJTLFFBQVE7O0lBRzNDOztLQUVHLEdBQ0gsSUFBSXhGLFdBQVE7UUFDVixPQUFPLElBQUksQ0FBQ25OLGVBQWUsQ0FBQyxJQUFJLENBQUM0UyxTQUFTOztJQUc1Qzs7S0FFRyxHQUNILElBQUl4RixlQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUNwTixlQUFlLENBQUMsSUFBSSxDQUFDMFQsYUFBYTs7SUFHaEQ7O0tBRUcsR0FDSCxJQUFJYSxVQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUN2VSxlQUFlLENBQUMsSUFBSSxDQUFDNlMsUUFBUTs7SUFHM0M7O0tBRUcsR0FDSCxJQUFJeEYsYUFBVTtRQUNaLE9BQU8sSUFBSSxDQUFDck4sZUFBZSxDQUFDLElBQUksQ0FBQzhTLFdBQVc7O0lBRzlDOztLQUVHLEdBQ0gsSUFBSTBCLGlCQUFjO1FBQ2hCLE9BQU8sSUFBSSxDQUFDeFUsZUFBZSxDQUFDLElBQUksQ0FBQytTLGVBQWU7O0FBNGlCbkQ7QUM5MkNEOzs7Q0FHRyxTQUNtQjBCO0lBY3BCOztLQUVHLEdBQ0hweUIsWUFDRTBiLFFBQWtCLEVBQ2xCLEVBQ0UyVyxTQUFTLEVBQ1RDLGdCQUFnQixFQUNoQnhTLEtBQUssRUFDTHlTLFVBQVUsRUFDVkMsb0JBQW9CLEVBQ3BCOVgsTUFBTSxFQUNpQjtRQWpCakIsSUFBZSxDQUFBK1gsZUFBQSxHQUFHO1FBRVgsSUFBYSxDQUFBQyxhQUFBLEdBQW1CLEVBQUU7UUFzQ25EOztTQUVHLEdBQ0gsSUFBTyxDQUFBN1csT0FBQSxHQUFHO1lBQ1IsSUFBSSxDQUFDOFcsbUJBQW1CO1lBQ3hCLElBQUksQ0FBQ0MsRUFBRSxDQUFDL1osS0FBSztRQUNmO1FBMEJBOzs7U0FHRyxHQUNPLEtBQUFvQyxFQUFFLEdBQUcsQ0FDYjZOLE9BQ0EvTjtZQUVBLElBQUksQ0FBQzJYLGFBQWEsQ0FBQ3Z2QixJQUFJLENBQ3JCLElBQUksQ0FBQ292QixVQUFVLENBQUN0WCxFQUFFLENBQUM2TixPQUFPLENBQUM5TjtnQkFDekJnQixtQkFBbUIsTUFBTThNLE1BQUssQ0FBRSxFQUFFLFVBQVkvTixHQUFHQyxJQUFJbUYsS0FBSyxDQUFDLENBQUMxSTtvQkFDMUQsSUFBSSxDQUFDM0YsTUFBTSxDQUFDLFFBQVEsQ0FBa0IsaUJBQUFnWCxNQUFPLEdBQUVyUjtnQkFDakQ7O1FBR047UUFFQTs7U0FFRyxHQUNPLElBQXdCLENBQUFvYix3QkFBQSxHQUFHO1lBQ25DLE1BQU0sRUFBRUMsZ0JBQWdCLEVBQUUsR0FBRyxJQUFJLENBQUNULFNBQVM7WUFDM0MsTUFBTTlULGFBQ0osSUFBSSxDQUFDN0MsUUFBUSxLQUFLeFcsU0FBU3lXLFVBQVUsR0FDakNtWCxpQkFBaUJ6WCxvQkFBb0IsR0FDckN5WCxpQkFBaUJ2WCxtQkFBbUI7WUFFMUMsSUFBSSxDQUFDd1gscUJBQXFCO1lBQzFCLElBQUksQ0FBQ0EscUJBQXFCLEdBQUdwVSw0QkFDM0JKLFlBQ0EsT0FBT3lVO2dCQUNMLE9BQU8sSUFBSSxDQUFDSixFQUFFLENBQUNLLGVBQWUsQ0FBQ0QsV0FBVzdTLEtBQUssQ0FBQyxDQUFDbkY7b0JBQy9DLElBQUksQ0FBQ2xKLE1BQU0sQ0FBQyxRQUFRLENBQXFCLHNCQUFFa0osR0FBR2dZO2dCQUNoRDtZQUNGO1FBRUo7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQUUsWUFBWSxHQUFHLENBQUNiO1lBQ2QsSUFBSSxDQUFDQSxTQUFTLEdBQUdBO1FBQ25CO1FBRUE7OztTQUdHLEdBQ0gsS0FBQWMsUUFBUSxHQUFHLENBQUNDO1lBQ1YsT0FBTyxJQUFJLENBQUNSLEVBQUUsQ0FBQ08sUUFBUSxDQUFDQztRQUMxQjtRQUVBOzs7U0FHRyxHQUNLLEtBQUFDLGNBQWMsR0FBRyxDQUFDclk7WUFDeEIsTUFBTSxFQUFFZ1ksU0FBUyxFQUFFLEdBQUdoWTtZQUN0QixJQUFJLENBQUNnWSxXQUFXO2dCQUNkLElBQUksQ0FBQ2xoQixNQUFNLENBQUMsU0FBUztnQkFDckI7O1lBR0YsTUFBTTBKLGVBQWUsSUFBSSxDQUFDOFgsTUFBTSxDQUFDTjtZQUNqQyxJQUFJLENBQUNYLFNBQVMsQ0FDWDFoQixVQUFVLENBQUM7Z0JBQUUrSyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtnQkFBRUY7WUFBWSxHQUNsRDJFLEtBQUssQ0FBQyxDQUFDMUksTUFBUSxJQUFJLENBQUMzRixNQUFNLENBQUMsUUFBUSxtQkFBbUIsRUFBRTJGO1FBQzdEO1FBRUE7O1NBRUcsR0FDSyxLQUFBNmIsTUFBTSxHQUFHLENBQUNOO1lBQ2hCLElBQUksQ0FBQ0EsVUFBVU8sZ0JBQWdCLEVBQUU7O2dCQUUvQixNQUFNQyxXQUFXUixVQUFVQSxTQUFTLENBQUNTLEtBQUssQ0FBQztnQkFDM0MsTUFBTUMsYUFBYUYsU0FBU0csU0FBUyxDQUFDLENBQUM1ZixJQUFNQSxNQUFNLFdBQVc7Z0JBQzlELE1BQU13ZixtQkFBbUJDLFFBQVEsQ0FBQ0UsV0FBVztnQkFDN0MsT0FBTzNYLEtBQUs2WCxTQUFTLENBQUM7b0JBQUUsR0FBR1osU0FBUztvQkFBRU87Z0JBQWdCOztZQUV4RCxPQUFPeFgsS0FBSzZYLFNBQVMsQ0FBQ1osVUFBVU0sTUFBTTtRQUN4QztRQUVBOztTQUVHLEdBQ0ssSUFBMEIsQ0FBQU8sMEJBQUEsR0FBRztZQUNuQyxNQUFNL1QsUUFBUSxJQUFJLENBQUM4UyxFQUFFLENBQUNrQixrQkFBa0I7WUFDeEMsSUFBSSxDQUFDaGlCLE1BQU0sQ0FBQyxTQUFTLENBQThCLCtCQUFFZ087WUFFckQsSUFBSSxJQUFJLENBQUNBLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYWtWLFlBQVksRUFBRTs7WUFHM0QsSUFBSSxJQUFJLENBQUN0QixlQUFlLEVBQUU7WUFFMUIsSUFBSTNTLFVBQVUsWUFBWUEsVUFBVSxnQkFBZ0I7Z0JBQ2xELElBQUksQ0FBQ2hPLE1BQU0sQ0FBQyxTQUFTLDJCQUEyQjtnQkFDaEQsSUFBSSxDQUFDa2lCLFVBQVUsR0FBRzdULEtBQUssQ0FBQyxDQUFDbkY7b0JBQ3ZCLElBQUksQ0FBQ2xKLE1BQU0sQ0FBQyxTQUFTLENBQW9CLHFCQUFFa0o7b0JBQzNDLElBQUksQ0FBQ3dYLG9CQUFvQjtnQkFDM0I7O1FBRUo7UUFFQTs7U0FFRyxHQUNLLEtBQUF5QixtQkFBbUIsR0FBRyxDQUFDalo7WUFDN0IsTUFBTWtaLGVBQ0psWixhQUFhbVosa0NBQ2IsQ0FBRyxFQUFBblosRUFBRW9aLFNBQVMsS0FBS3BaLEVBQUVxWixTQUFTLEVBQUU7WUFDbEMsTUFBTUMsV0FBVyxJQUFJLENBQUMxQixFQUFFLENBQUNrQixrQkFBa0I7WUFDM0MsTUFBTTNkLFdBQ0ptZSxhQUFhLGVBQWVBLGFBQWEsYUFBYSxVQUFVO1lBQ2xFLElBQUksQ0FBQ3hpQixNQUFNLENBQUNxRSxVQUFVLENBQXFCLHNCQUFFK2Q7UUFDL0M7UUFFQTs7U0FFRyxHQUNLLElBQWlCLENBQUFLLGlCQUFBLEdBQUc7WUFDMUIsSUFBSSxDQUFDemlCLE1BQU0sQ0FBQyxTQUFTLHFCQUFxQixFQUFFLElBQUksQ0FBQzhnQixFQUFFLENBQUM0QixpQkFBaUI7UUFDdkU7UUFFQTs7U0FFRyxHQUNLLElBQWlCLENBQUFDLGlCQUFBLEdBQUc7WUFDMUIsSUFBSSxDQUFDM2lCLE1BQU0sQ0FBQyxTQUFTLHlCQUF5QixFQUFFLElBQUksQ0FBQzhnQixFQUFFLENBQUM4QixjQUFjO1FBQ3hFO1FBekxFLElBQUksQ0FBQ2haLFFBQVEsR0FBR0E7UUFDaEIsSUFBSSxDQUFDMlcsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUN2UyxLQUFLLEdBQUdBO1FBQ2IsSUFBSSxDQUFDeVMsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNDLG9CQUFvQixHQUFHQTtRQUM1QixJQUFJLENBQUMxZ0IsTUFBTSxHQUFHK0UsVUFBVTtZQUN0QjZFLGFBQWF4VyxTQUFTeVcsVUFBVSxHQUFHLGVBQWU7WUFDbERqQjtTQUNEO1FBRUQsSUFBSSxDQUFDa1ksRUFBRSxHQUFHLElBQUl4YSxrQkFBa0JrYTtRQUNoQyxJQUFJLENBQUNNLEVBQUUsQ0FBQzdkLGdCQUFnQixDQUFDLGdCQUFnQixJQUFJLENBQUNzZSxjQUFjO1FBQzVELElBQUksQ0FBQ1QsRUFBRSxDQUFDN2QsZ0JBQWdCLENBQUMscUJBQXFCLElBQUksQ0FBQ2tmLG1CQUFtQjtRQUN0RSxJQUFJLENBQUNyQixFQUFFLENBQUM3ZCxnQkFBZ0IsQ0FDdEIsNEJBQ0EsSUFBSSxDQUFDOGUsMEJBQTBCO1FBRWpDLElBQUksQ0FBQ2pCLEVBQUUsQ0FBQzdkLGdCQUFnQixDQUFDLDJCQUEyQixJQUFJLENBQUN3ZixpQkFBaUI7UUFDMUUsSUFBSSxDQUFDM0IsRUFBRSxDQUFDN2QsZ0JBQWdCLENBQUMsd0JBQXdCLElBQUksQ0FBQzBmLGlCQUFpQjs7SUFXekU7O0tBRUcsR0FDTzlCLHNCQUFtQjtRQUMzQixJQUFJLENBQUNDLEVBQUUsQ0FBQzNkLG1CQUFtQixDQUFDLGdCQUFnQixJQUFJLENBQUNvZSxjQUFjO1FBQy9ELElBQUksQ0FBQ1QsRUFBRSxDQUFDM2QsbUJBQW1CLENBQUMscUJBQXFCLElBQUksQ0FBQ2dmLG1CQUFtQjtRQUN6RSxJQUFJLENBQUNyQixFQUFFLENBQUMzZCxtQkFBbUIsQ0FBQyx3QkFBd0IsSUFBSSxDQUFDd2YsaUJBQWlCO1FBQzFFLElBQUksQ0FBQzdCLEVBQUUsQ0FBQzNkLG1CQUFtQixDQUN6Qiw0QkFDQSxJQUFJLENBQUM0ZSwwQkFBMEI7UUFFakMsSUFBSSxDQUFDakIsRUFBRSxDQUFDM2QsbUJBQW1CLENBQ3pCLDJCQUNBLElBQUksQ0FBQ3NmLGlCQUFpQjtRQUV4QixJQUFJLENBQUN4QixxQkFBcUI7UUFDMUIsSUFBSSxDQUFDTCxhQUFhLENBQUNoYSxPQUFPLENBQUMsQ0FBQ3FGLGNBQWdCQTs7QUE2SS9DO01Dbk9ZNFc7SUFBYjMwQixhQUFBO1FBQ21CLElBQUssQ0FBQTQwQixLQUFBLEdBQW9CLEVBQUU7UUFDM0IsSUFBTSxDQUFBQyxNQUFBLEdBQXVCLEVBQUU7UUFFaEQ7Ozs7U0FJRyxHQUNjLElBQWdCLENBQUFDLGdCQUFBLEdBQXdCLEVBQUU7UUFFM0Q7O1NBRUcsR0FDSCxLQUFBOU0sR0FBRyxHQUFHLENBQUMrTSxlQUE4QkM7WUFDbkMsSUFBSSxDQUFDSixLQUFLLENBQUN6eEIsSUFBSSxDQUFDO2dCQUFFNHhCO2dCQUFlQztZQUFXO1lBQzVDLElBQUksQ0FBQ0YsZ0JBQWdCLENBQUMzeEIsSUFBSSxDQUFDNnhCO1FBQzdCO1FBRUE7O1NBRUcsR0FDSCxLQUFBdlksR0FBRyxHQUFHLENBQUNzWTtZQUNMLE9BQU8sSUFBSSxDQUFDRSxlQUFlLENBQUNGLGdCQUFnQkM7UUFDOUM7UUFFQTs7U0FFRyxHQUNILEtBQUFFLE9BQU8sR0FBRyxDQUFDN00sV0FBc0J4STtZQUMvQixPQUFPLElBQUksQ0FBQ29WLGVBQWUsQ0FBQztnQkFBRTVNO2dCQUFXeEk7WUFBRSxJQUFLbVY7UUFDbEQ7UUFFQTs7U0FFRyxHQUNILEtBQUFHLEdBQUcsR0FBRyxDQUFDSjtZQUNMLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQ3RZLEdBQUcsQ0FBQ3NZO1FBQ3BCO1FBRUE7O1NBRUcsR0FDSCxLQUFBenlCLElBQUksR0FBRyxDQUNMNGU7WUFFQSxPQUFPLElBQUksQ0FBQzBULEtBQUssQ0FBQ3R5QixJQUFJLENBQUM0ZTtRQUN6QjtRQUVBOztTQUVHLEdBQ0gsSUFBSyxDQUFBa1UsS0FBQSxHQUFHO1lBQ04sT0FBTyxJQUFJLENBQUNSLEtBQUs7UUFDbkI7UUFFQTs7U0FFRyxHQUNILEtBQUE1SSxPQUFPLEdBQUcsQ0FBQ2dKO1lBQ1QsT0FBTyxJQUFJLENBQUNGLGdCQUFnQixDQUFDOUksT0FBTyxDQUFDZ0o7UUFDdkM7UUFFQTs7U0FFRyxHQUNILEtBQUFLLFNBQVMsR0FBRyxDQUNWTjtZQUVBLE1BQU1PLFFBQVEsSUFBSSxDQUFDVCxNQUFNLENBQUN2eUIsSUFBSSxDQUM1QixDQUFDc3VCLE9BQ0NBLEtBQUttRSxhQUFhLENBQUNsVixFQUFFLEtBQUtrVixjQUFjbFYsRUFBRSxJQUMxQytRLEtBQUttRSxhQUFhLENBQUMxTSxTQUFTLEtBQUswTSxjQUFjMU0sU0FBUztZQUU1RCxPQUFPaU4sT0FBT1Q7UUFDaEI7UUFFQTs7U0FFRyxHQUNILEtBQUFVLFNBQVMsR0FBRyxDQUNWUixlQUNBRixTQUE4QixFQUFFO1lBRWhDLE1BQU1TLFFBQVEsSUFBSSxDQUFDRSxTQUFTLENBQUNUO1lBQzdCLElBQUlPLE9BQU87Z0JBQ1RBLE1BQU1ULE1BQU0sR0FBR0E7bUJBQ1Y7Z0JBQ0wsSUFBSSxDQUFDQSxNQUFNLENBQUMxeEIsSUFBSSxDQUFDO29CQUFFNHhCO29CQUFlRjtnQkFBTTs7UUFFNUM7UUFFUSxLQUFBSSxlQUFlLEdBQUcsQ0FBQ0Y7WUFDekIsT0FBTyxJQUFJLENBQUNILEtBQUssQ0FBQ3R5QixJQUFJLENBQ3BCLENBQUNzdUIsT0FDQ0EsS0FBS21FLGFBQWEsQ0FBQ2xWLEVBQUUsS0FBS2tWLGNBQWNsVixFQUFFLElBQzFDK1EsS0FBS21FLGFBQWEsQ0FBQzFNLFNBQVMsS0FBSzBNLGNBQWMxTSxTQUFTO1FBRTlEO1FBRVEsS0FBQW1OLFNBQVMsR0FBRyxDQUFDVDtZQUNuQixPQUFPLElBQUksQ0FBQ0YsTUFBTSxDQUFDdnlCLElBQUksQ0FDckIsQ0FBQ3N1QixPQUNDQSxLQUFLbUUsYUFBYSxDQUFDbFYsRUFBRSxLQUFLa1YsY0FBY2xWLEVBQUUsSUFDMUMrUSxLQUFLbUUsYUFBYSxDQUFDMU0sU0FBUyxLQUFLME0sY0FBYzFNLFNBQVM7UUFFOUQ7O0FBQ0Q7QUNySE0sTUFBTW9OLGtCQUFrQixDQUFDQyxHQUFVajFCO0lBQ3hDb1csVUFBVTtRQUFDO0tBQVUsRUFBRSxRQUFRcFcsU0FBU2kxQjtBQUMxQztBQ0FPLE1BQU1DLGtDQUFrQyxDQUM3Q3ROO0lBT0EsT0FBUUE7UUFDTixLQUFLaGpCLFVBQVV1YyxZQUFZO1lBQ3pCLE9BQU87UUFDVCxLQUFLdmMsVUFBVXljLGtCQUFrQjtZQUMvQixPQUFPO1FBQ1QsS0FBS3pjLFVBQVVtYyxLQUFLO1lBQ2xCLE9BQU87UUFDVCxLQUFLbmMsVUFBVXFjLEtBQUs7WUFDbEIsT0FBTztRQUNULEtBQUtyYyxVQUFVdXdCLFdBQVc7WUFDeEIsTUFBTSxJQUFJaDJCLE1BQU07UUFDbEI7WUFDRTYxQixnQkFBZ0JwTixXQUFXOztBQUVqQztBQUVPLE1BQU13TixzQkFBc0IsQ0FDakNDO0lBRUEsT0FBUUE7UUFDTixLQUFLO1lBQ0gsT0FBT3p3QixVQUFVcWMsS0FBSztRQUN4QixLQUFLO1lBQ0gsT0FBT3JjLFVBQVVtYyxLQUFLO1FBQ3hCLEtBQUs7WUFDSCxPQUFPbmMsVUFBVXVjLFlBQVk7UUFDL0IsS0FBSztZQUNILE9BQU92YyxVQUFVeWMsa0JBQWtCO1FBQ3JDO1lBQ0UyVCxnQkFBZ0JLLFVBQVU7O0FBRWhDO0FBRU8sTUFBTUMsY0FBYyxDQUFDMU47SUFDMUIsT0FBUUE7UUFDTixLQUFLO1lBQ0gsT0FBT2hqQixVQUFVcWMsS0FBSztRQUN4QixLQUFLO1lBQ0gsT0FBT3JjLFVBQVVtYyxLQUFLO1FBQ3hCLEtBQUs7WUFDSCxPQUFPbmMsVUFBVXVjLFlBQVk7UUFDL0IsS0FBSztZQUNILE9BQU92YyxVQUFVeWMsa0JBQWtCO1FBQ3JDO1lBQ0UsT0FBTy9mOztBQUViO0FBRU8sTUFBTWkwQixtQkFBbUIsQ0FBQzNOLFlBQy9CQSxjQUFjaGpCLFVBQVVxYyxLQUFLLElBQUkyRyxjQUFjaGpCLFVBQVV5YyxrQkFBa0I7QUM3QzdFLE1BQU1tVSx1QkFBK0M7SUFDbkRDLEdBQUc7SUFDSEMsR0FBRztJQUNINXpCLEdBQUc7O0FBR0w7Ozs7OztDQU1HLEdBQ0ksTUFBTTZ6QixpQkFBaUIsQ0FDNUJ2QjtJQUVBLElBQUksQ0FBQ0EsUUFBUTs7SUFFYixNQUFNd0IsVUFBVSxDQUFDQyxNQUFnQixDQUFDN2YsSUFBeUJBLEVBQUU2ZixHQUFHLEtBQUtBO0lBQ3JFLE1BQU1DLGVBQ0oxQixPQUFPdnlCLElBQUksQ0FBQyt6QixRQUFRLFNBQ3BCeEIsT0FBT3Z5QixJQUFJLENBQUMrekIsUUFBUSxTQUNwQnhCLE9BQU92eUIsSUFBSSxDQUFDK3pCLFFBQVE7SUFDdEIsT0FBTztRQUFDO1lBQUUsR0FBR0UsWUFBWTtZQUFFRCxLQUFLO1FBQUc7S0FBRztBQUN4QztBQUVBOztDQUVHLEdBQ0ksTUFBTUUsb0JBQW9CLENBQUNGO0lBQ2hDLE9BQU9BLFFBQVEsTUFDWGx4QixhQUFhcXhCLGVBQWUsR0FDNUJILFFBQVEsTUFDTmx4QixhQUFhc3hCLEdBQUcsR0FDaEJ0eEIsYUFBYXV4QixJQUFJLEVBQUM7QUFDMUI7QUFFQTs7Q0FFRyxHQUNJLE1BQU1DLGdCQUFnQixDQUMzQi9CLFNBQTBDLEVBQUU7SUFFNUMsT0FBT0EsT0FBTzN4QixHQUFHLENBQWEsQ0FBQzJ6QixRQUFXO1lBQ3hDUCxLQUFLTyxNQUFNUCxHQUFHLElBQUk7WUFDbEJRLFNBQVNELE1BQU1FLFVBQVUsSUFBSTtZQUM3QkMsS0FBS0gsTUFBTUksWUFBWSxJQUFJO1lBQzNCQyxTQUFTVixrQkFBa0JLLE1BQU1QLEdBQUcsSUFBSTtZQUN4Q2EsZ0JBQWdCO2dCQUFFeE8sT0FBT2tPLE1BQU1sTyxLQUFLO2dCQUFFRCxRQUFRbU8sTUFBTW5PLE1BQU07WUFBQTtRQUMzRDtBQUNIO0FBRUE7O0NBRUcsR0FDSCxNQUFNME8sb0JBQW9CLENBQUNDLGVBQXVCQyxpQkFDaEQsQ0FBSSxHQUFBRCxjQUFpQixHQUFBQyxlQUFjLEVBQUdELGdCQUFnQixJQUFJLFNBQVMsR0FBRSxDQUFFO0FBRXpFOzs7OztDQUtHLEdBQ0ksTUFBTUUscUJBQXFCLENBQ2hDcFUsWUFDQTRSO0lBRUEsSUFBSWlCLGlCQUFpQmpCLGNBQWMxTSxTQUFTLEdBQUc7SUFDL0MsTUFBTW1QLHFCQUEwQyxFQUFFO0lBQ2xELE1BQU0xTSxXQUFXM0gsV0FBV3NVLFdBQVc7SUFDdkMsTUFBTSxFQUFFOU8sUUFBUSxDQUFDLEVBQUVELFNBQVMsQ0FBQyxFQUFFLEdBQUdvQztJQUNsQyxNQUFNLEVBQ0pnTSxPQUFPLEVBQ1BZLEtBQUssRUFDTFYsR0FBRyxFQUNIVyxtQkFBbUIsQ0FBQyxFQUNwQkMsb0JBQW9CLENBQUMsRUFDckJULGlCQUFpQjtRQUFFeE8sT0FBTztRQUFNRCxRQUFRO0lBQUcsQ0FBRSxFQUM5QyxHQUFHcU07SUFDSixNQUFNZ0MsYUFBYWMsc0JBQ2pCVixnQkFDQXhPLE9BQ0FELFFBQ0FvTztJQUVGLElBQUlnQixrQkFBa0I7SUFDdEIsSUFBSUMsZ0JBQWdCO0lBQ3BCLE1BQU1DLFdBQVdsZixXQUFXNGUsT0FBT3gzQjtJQUNuQyxLQUFLLE1BQU1vMkIsT0FBTztRQUFDO1FBQUs7UUFBSztLQUFJLENBQUN4SCxLQUFLLENBQUMsR0FBRzZJLGtCQUFtQjtRQUM1RCxNQUFNZCxRQUEyQjtZQUMvQm9CLFFBQVE7WUFDUjNCO1lBQ0EzTixPQUFPL2tCLEtBQUtzMEIsS0FBSyxDQUFDdlAsUUFBUW1QO1lBQzFCcFAsUUFBUTlrQixLQUFLczBCLEtBQUssQ0FBQ3hQLFNBQVNvUDtZQUM1QmYsWUFBWUEsYUFBYWdCLGlCQUFpQjlCLG9CQUFvQixDQUFDSyxJQUFJO1lBQ25FVyxjQUFjRDs7UUFFaEIsSUFBSWdCLFVBQVU7OztZQUdabkIsTUFBTXNCLGVBQWUsR0FBR2Ysa0JBQ3RCTyxrQkFDQUM7ZUFFRzs7WUFFTGYsTUFBTXVCLHFCQUFxQixHQUFHTjs7UUFHaENBLG1CQUFtQjtRQUNuQkMsaUJBQWlCOzs7O1FBS2pCUCxtQkFBbUJhLE9BQU8sQ0FBQ3hCOzs7O0lBSzdCLE9BQU95Qix5QkFBeUJ4TixVQUFVME07QUFDNUM7QUFFQTs7Ozs7Ozs7Ozs7Q0FXRyxHQUNJLE1BQU1LLHdCQUF3QixDQUNuQ1Usa0JBQ0FDLGNBQ0FDLGVBQ0EzQjs7O0lBSUEsTUFBTSxFQUFFbk8sT0FBTytQLFdBQVcsRUFBRWhRLFFBQVFpUSxZQUFZLEVBQUUsR0FBR0o7SUFDckQsSUFBSUMsZUFBZUUsZUFBZUQsZ0JBQWdCRSxjQUFjO1FBQzlELE1BQU1DLGdCQUFnQkosZUFBZUM7UUFDckMsTUFBTUksZUFBZUgsY0FBY0M7UUFDbkMsTUFBTUcsa0JBQWtCRixnQkFBZ0JDO1FBQ3hDLE9BQU9qMUIsS0FBS3MwQixLQUFLLENBQUNwQixVQUFVZ0M7O0lBRTlCLE9BQU9oQztBQUNUO0FBRUE7Ozs7Ozs7Q0FPRyxHQUNILE1BQU13QiwyQkFBMkIsQ0FDL0J4TixVQUNBME07SUFFQSxJQUFJM0M7SUFFSixNQUFNa0UsT0FBT24xQixLQUFLNFAsR0FBRyxDQUFDc1gsU0FBU25DLEtBQUssSUFBSSxHQUFHbUMsU0FBU3BDLE1BQU0sSUFBSTtJQUM5RCxJQUFJcVEsUUFBUSxLQUFLOztRQUVmbEUsU0FBUzJDLG1CQUFtQnZnQixNQUFNLENBQUMsQ0FBQzRmLFFBQVVBLE1BQU1QLEdBQUcsS0FBSztXQUN2RCxJQUFJeUMsUUFBUSxLQUFLOztRQUV0QmxFLFNBQVMyQyxtQkFBbUJ2Z0IsTUFBTSxDQUFDLENBQUM0ZixRQUFVQSxNQUFNUCxHQUFHLEtBQUs7V0FDdkQ7O1FBRUx6QixTQUFTMkM7O0lBR1gsTUFBTXdCLGFBQWE7UUFBQztRQUFLO1FBQUs7S0FBSTtJQUNsQyxPQUFPbkUsT0FBTzN4QixHQUFHLENBQW9CLENBQUMyekIsT0FBT29DLFFBQVc7WUFDdEQsR0FBR3BDLEtBQUs7WUFDUlAsS0FBSzBDLFVBQVUsQ0FBQ0MsTUFBTTtRQUN2QjtBQUNIO0FDdk1BOzs7Ozs7Q0FNRyxHQUNJLE1BQU1DLGFBQWEsQ0FDeEJsRSxhQUNBbUUsc0JBQ0EzZ0I7SUFFQSxJQUFJd2MsWUFBWW9FLEdBQUcsRUFBRSxPQUFPcEUsWUFBWW9FLEdBQUc7SUFDM0MsSUFBSSxDQUFDNWdCLEtBQUssT0FBTzZnQixPQUFPRjtJQUV4QixNQUFNRyxRQUFRdEUsWUFBWXVFLE1BQU0sQ0FBQ0QsS0FBTTtJQUN2QyxNQUFNRSxZQUFZbDFCLG9EQUFLQSxDQUFDa1U7SUFDeEIsTUFBTWloQixRQUFRRCxVQUFVQyxLQUFLLENBQUNuM0IsSUFBSSxDQUFDLENBQUNrUTtRQUNsQyxPQUNFQSxFQUFFb04sSUFBSSxLQUFLMFosTUFBTW41QixJQUFJO1FBRXBCcVMsQ0FBQUEsRUFBRWtuQixJQUFJLEVBQUVuWSxTQUFTK1gsTUFBTXpaLEVBQUUsS0FBSztJQUVuQztJQUNBLElBQUksT0FBTzRaLE9BQU9MLFFBQVEsYUFBYSxPQUFPQyxPQUFPSSxNQUFNTCxHQUFHO0lBQzlELElBQUlELHVCQUF1QixHQUFHLE9BQU87SUFDckMsT0FBT0UsT0FBT0Y7QUFDaEI7QUNIQTs7OztDQUlHLEdBQ0csTUFBT1Esa0JBQWtCdkg7SUFJN0I7O0tBRUcsR0FDSHB5QixZQUFZLEVBQUU0NUIsY0FBYyxFQUFFLEdBQUdDLGFBQXVDO1FBQ3RFLEtBQUssQ0FBQzMwQixTQUFTMFcscUJBQXFCLEVBQUVpZTtRQVB2QixLQUFBQyxnQkFBZ0IsR0FBRyxJQUFJbkY7UUF5Q3hDOzs7Ozs7OztTQVFHLEdBQ0gsS0FBQW9GLE9BQU8sR0FBRyxPQUFPVCxPQUF5QmpSO1lBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUN1UixjQUFjLENBQUM1VyxJQUFJLENBQUMsQ0FBQ3dHLElBQU1BLEVBQUVuQixTQUFTLEtBQUtBLFlBQVk7Z0JBQy9ELE1BQU0sSUFBSXpvQixNQUFNLENBQWdDLCtCQUFBeUYsU0FBUyxDQUFDZ2pCLFVBQVUsQ0FBRTs7WUFHeEUsS0FBSyxNQUFNME0saUJBQWlCLElBQUksQ0FBQzZFLGNBQWMsQ0FBRTtnQkFDL0MsSUFBSTdFLGNBQWMxTSxTQUFTLEtBQUtBLFdBQVc7OztnQkFJM0MsTUFBTTJSLGlCQUFpQlYsTUFBTVcsS0FBSztnQkFFbEMsTUFBTWpGLGNBQWMsSUFBSSxDQUFDOEUsZ0JBQWdCLENBQUNyZCxHQUFHLENBQUNzWTtnQkFDOUMsSUFBSSxDQUFDQyxhQUFhO29CQUNoQixJQUFJLENBQUMzYyxjQUFjLENBQUMyaEIsZ0JBQWdCakY7dUJBQy9CO29CQUNMLE1BQU1DLFlBQVl1RSxNQUFNLENBQUNXLFlBQVksQ0FBQ0Y7OztRQUc1QztRQUVBOztTQUVHLEdBQ0ssS0FBQTNoQixjQUFjLEdBQUcsQ0FDdkJpaEIsT0FDQXZFO1lBRUEsTUFBTW9GLGlCQUFpQjVDLG1CQUFtQitCLE9BQU92RTtZQUNqRCxNQUFNcUYsZ0JBQWdCdGhCLFdBQVdpYyxjQUFjMkMsS0FBSyxFQUFFeDNCLFFBQ2xEazJCLGVBQWUrRCxrQkFDZkE7WUFDSixNQUFNbkYsY0FBYyxJQUFJLENBQUNwQyxFQUFFLENBQUN2YSxjQUFjLENBQUNpaEIsT0FBTztnQkFDaERwaEIsV0FBVztnQkFDWGtpQjtZQUNEO1lBRUQsTUFBTS9SLFlBQVkwTSxjQUFjMU0sU0FBUztZQUN6QyxJQUFJLENBQUN2VyxNQUFNLENBQUMsU0FBUyxTQUFTek0sU0FBUyxDQUFDZ2pCLFVBQVUsQ0FBYztZQUNoRSxJQUFJLENBQUN5UixnQkFBZ0IsQ0FBQzlSLEdBQUcsQ0FBQytNLGVBQWVDO1FBQzNDO1FBRUE7O1NBRUcsR0FDSyxJQUFrQixDQUFBcUYsa0JBQUEsR0FBRzs7WUFFM0IsS0FBSyxNQUFNdEYsaUJBQWlCLElBQUksQ0FBQzZFLGNBQWMsQ0FBRTtnQkFDL0MsTUFBTSxFQUFFdlIsU0FBUyxFQUFFLEdBQUcwTTtnQkFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQ3VGLFlBQVksQ0FBQ2pTLFlBQVk7Z0JBQ25DLElBQUksSUFBSSxDQUFDeVIsZ0JBQWdCLENBQUMzRSxHQUFHLENBQUNKLGdCQUFnQjtnQkFFOUMsTUFBTW5FLE9BQU8sSUFBSSxDQUFDa0osZ0JBQWdCLENBQUN4M0IsSUFBSSxDQUNyQyxDQUFDMFIsSUFDQyxDQUFDLENBQUNBLEVBQUVnaEIsV0FBVyxDQUFDdUUsTUFBTSxDQUFDRCxLQUFLLElBQzVCdGxCLEVBQUUrZ0IsYUFBYSxDQUFDMU0sU0FBUyxLQUFLQTtnQkFFbEMsSUFBSSxDQUFDdUksUUFBUSxDQUFDQSxLQUFLb0UsV0FBVyxFQUFFOzs7Z0JBSWhDLE1BQU1zRSxRQUFRMUksS0FBS29FLFdBQVcsQ0FBQ3VFLE1BQU0sQ0FBQ0QsS0FBTSxDQUFDVyxLQUFLO2dCQUNsRCxJQUFJLENBQUM1aEIsY0FBYyxDQUFDaWhCLE9BQU92RTs7O1lBSTdCLEtBQUssTUFBTW5FLFFBQVEsSUFBSSxDQUFDa0osZ0JBQWdCLENBQUMxRSxLQUFLLEdBQUk7Z0JBQ2hELE1BQU0sRUFBRUwsYUFBYSxFQUFFQyxXQUFXLEVBQUUsR0FBR3BFO2dCQUN2QyxNQUFNMkosbUJBQW1CLElBQUksQ0FBQ1gsY0FBYyxDQUFDNVcsSUFBSSxDQUMvQyxDQUFDd1gsU0FDQ0EsT0FBTzNhLEVBQUUsS0FBS2tWLGNBQWNsVixFQUFFLElBQzlCMmEsT0FBT25TLFNBQVMsS0FBSzBNLGNBQWMxTSxTQUFTO2dCQUVoRCxJQUFJa1Msa0JBQWtCOztnQkFFdEJ2RixZQUFZdUUsTUFBTSxDQUFDRCxLQUFLLEVBQUUxZ0I7Z0JBQzFCLE1BQU1vYyxZQUFZdUUsTUFBTSxDQUFDVyxZQUFZLENBQUM7O1FBRTFDO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFJLFlBQVksR0FBRyxDQUFDalM7WUFDZCxLQUFLLE1BQU11SSxRQUFRLElBQUksQ0FBQ2tKLGdCQUFnQixDQUFDMUUsS0FBSyxHQUFJO2dCQUNoRCxJQUFJeEUsS0FBS21FLGFBQWEsQ0FBQzFNLFNBQVMsS0FBS0EsV0FBVztnQkFFaEQsTUFBTWlSLFFBQVExSSxLQUFLb0UsV0FBVyxDQUFDdUUsTUFBTSxDQUFDRCxLQUFLO2dCQUMzQyxJQUFJLENBQUNBLE9BQU87Z0JBRVosSUFBSUEsTUFBTW1CLFVBQVUsS0FBSyxVQUFVbkIsTUFBTW9CLE9BQU8sRUFBRSxPQUFPOztZQUUzRCxPQUFPO1FBQ1Q7UUFFQTs7U0FFRyxHQUNILEtBQUFDLFlBQVksR0FBRyxDQUFDQztZQUNkLEtBQUssTUFBTUMsaUJBQWlCLElBQUksQ0FBQ2YsZ0JBQWdCLENBQUMxRSxLQUFLLEdBQUk7Z0JBQ3pELE1BQU0sRUFBRUwsYUFBYSxFQUFFQyxXQUFXLEVBQUUsR0FBRzZGO2dCQUN2QyxJQUFJN0YsWUFBWXVFLE1BQU0sQ0FBQ0QsS0FBSyxFQUFFelosT0FBTythLFNBQVM7b0JBQzVDLE9BQU83RixjQUFjMU0sU0FBUzs7O1lBR2xDLE9BQU90bUI7UUFDVDtRQUVBOztTQUVHLEdBQ0gsS0FBQSs0QixVQUFVLEdBQUcsQ0FBQyxHQUFHQztZQUNmLEtBQUssTUFBTW5LLFFBQVEsSUFBSSxDQUFDa0osZ0JBQWdCLENBQUMxRSxLQUFLLEdBQUk7Z0JBQ2hELE1BQU0sRUFBRUwsYUFBYSxFQUFFQyxXQUFXLEVBQUUsR0FBR3BFO2dCQUN2QyxJQUFJLENBQUNtSyxXQUFXeFosUUFBUSxDQUFDd1QsY0FBYzFNLFNBQVMsR0FBRztnQkFDbkQyTSxZQUFZdUUsTUFBTSxDQUFDRCxLQUFLLEVBQUUxZ0I7O1FBRTlCO1FBRVEsS0FBQVMsb0JBQW9CLEdBQUcsT0FBTzJoQjtZQUNwQyxNQUFNLEVBQUUzUyxTQUFTLEVBQUV3TSxNQUFNLEVBQUVvRyxlQUFlLEVBQUUsR0FBR0Q7WUFDL0MsTUFBTUUsZ0JBQWdCckcsT0FBTzVkLE1BQU0sQ0FBQyxDQUFDUixJQUFNQSxFQUFFd2hCLE1BQU07WUFFbkQsTUFBTXpiLE1BQU07WUFDWixJQUFJLENBQUMxSyxNQUFNLENBQUMsUUFBUSxDQUFHLEVBQUEwSyxJQUE4Qiw0QkFBRTBlO1lBRXZELE1BQU0zQixTQUFTLElBQUksQ0FBQ08sZ0JBQWdCLENBQUM1RSxPQUFPLENBQzFDN00sV0FDQTRTLGtCQUNDMUI7WUFDSCxJQUFJLENBQUNBLFFBQVE7Z0JBQ1gsT0FBTyxJQUFJLENBQUN6bkIsTUFBTSxDQUFDLFFBQVEsQ0FBRyxFQUFBMEssSUFBNEI7O1lBRzVELE1BQU0yZSxTQUFTNUIsT0FBTzZCLGFBQWE7WUFDbkMsSUFBSUQsT0FBT0UsU0FBUyxDQUFDcjJCLE1BQU0sS0FBSyxHQUFHO2dCQUNqQyxPQUFPLElBQUksQ0FBQzhNLE1BQU0sQ0FBQyxRQUFRLENBQUcsRUFBQTBLLElBQWlDOztZQUdqRSxNQUFNLENBQUM4ZSxXQUFXLEdBQUdILE9BQU9JLE1BQU07WUFDbEMsTUFBTUMsZUFBZUYsY0FBY3hpQixXQUFXd2lCLFdBQVdHLFFBQVE7WUFFakUsSUFBSUMsVUFBVTtZQUNkLEtBQUssTUFBTUMsV0FBV1IsT0FBT0UsU0FBUyxDQUFFO2dCQUN0QyxNQUFNeEUsUUFBUTJFLGVBRVZOLGFBQWEsQ0FBQyxFQUFFLEdBRWhCQSxjQUFjNTRCLElBQUksQ0FBQyxDQUFDbVUsSUFBTUEsRUFBRXZXLElBQUksS0FBS3k3QixRQUFRckYsR0FBRyxLQUMvQzZFLENBQUFBLE9BQU9FLFNBQVMsQ0FBQ3IyQixNQUFNLEtBQUssSUFBSWsyQixhQUFhLENBQUMsRUFBRSxHQUFHbjVCLFNBQUE7O2dCQUd4RCxNQUFNNjVCLGlCQUFpQixDQUFDLENBQUMvRSxPQUFPb0I7Z0JBQ2hDLElBQUkyRCxtQkFBbUJELFFBQVExRCxNQUFNLEVBQUU7b0JBQ3JDMEQsUUFBUTFELE1BQU0sR0FBRzJEO29CQUNqQkYsVUFBVTs7O2dCQUlaLElBQUksQ0FBQzdFLE9BQU87Z0JBRVosTUFBTSxFQUNKSSxZQUFZLEVBQ1ptQixxQkFBcUIsRUFDckJyQixVQUFVLEVBQ1ZvQixlQUFlLEVBQ2hCLEdBQUd0QjtnQkFDSixJQUNFdUIseUJBQXlCLEtBQ3pCQSwwQkFBMEJ1RCxRQUFRdkQscUJBQXFCLEVBQ3ZEO29CQUNBdUQsUUFBUXZELHFCQUFxQixHQUFHQTtvQkFDaENzRCxVQUFVOztnQkFFWixJQUFJM0UsYUFBYSxLQUFLQSxlQUFlNEUsUUFBUTVFLFVBQVUsRUFBRTtvQkFDdkQ0RSxRQUFRNUUsVUFBVSxHQUFHQTtvQkFDckIyRSxVQUFVOztnQkFFWixJQUFJekUsZUFBZSxLQUFLQSxpQkFBaUIwRSxRQUFRMUUsWUFBWSxFQUFFO29CQUM3RDBFLFFBQVExRSxZQUFZLEdBQUdBO29CQUN2QnlFLFVBQVU7OztnQkFHWixJQUFJdkQsbUJBQW1CQSxvQkFBb0J3RCxRQUFReEQsZUFBZSxFQUFFOztvQkFFbEV3RCxRQUFReEQsZUFBZSxHQUFHQTtvQkFDMUJ1RCxVQUFVOzs7WUFJZCxNQUFNRyxpQkFBaUJWLE9BQU9FLFNBQVMsQ0FBQ3BrQixNQUFNLENBQUMsQ0FBQytELElBQU1BLEVBQUVpZCxNQUFNO1lBQzlELElBQUksQ0FBQ3lELFNBQVM7Z0JBQ1osT0FBTyxJQUFJLENBQUM1cEIsTUFBTSxDQUFDLFFBQVEsQ0FBRyxFQUFBMEssSUFBZ0IsY0FBRXFmOztZQUdsRCxNQUFNdEMsT0FBT3VDLGFBQWEsQ0FBQ1g7WUFDM0IsSUFBSSxDQUFDcnBCLE1BQU0sQ0FBQyxRQUFRLENBQUcsRUFBQTBLLElBQW1CLGlCQUFFcWY7UUFDOUM7UUFFQTs7U0FFRyxHQUNILElBQVUsQ0FBQTdILFVBQUEsR0FBRztZQUNYLElBQUksQ0FBQ2xpQixNQUFNLENBQUMsU0FBUztZQUNyQixNQUFNNGlCLGlCQUFpQixJQUFJLENBQUM5QixFQUFFLENBQUM4QixjQUFjO1lBQzdDLElBQUksSUFBSSxDQUFDakMsZUFBZSxJQUFJaUMsbUJBQW1CLG9CQUFvQjtnQkFDakUsSUFBSSxDQUFDNWlCLE1BQU0sQ0FBQyxTQUFTO2dCQUNyQjs7WUFFRixNQUFNLElBQUksQ0FBQ2lxQixTQUFTLENBQUM7Z0JBQUVqckIsWUFBWTtZQUFJO1FBQ3pDO1FBRVEsSUFBbUIsQ0FBQWtyQixtQkFBQSxHQUFHO1lBQzVCaGdCLG1CQUFtQix1QkFBdUIsSUFBTSxJQUFJLENBQUMrZixTQUFTLElBQUk1YixLQUFLLENBQ3JFLENBQUMxSTtnQkFDQyxJQUFJLENBQUMzRixNQUFNLENBQUMsU0FBUyxDQUFxQixzQkFBRTJGO2dCQUM1QyxJQUFJLENBQUMrYSxvQkFBb0I7WUFDM0I7UUFFSjtRQUVBOzs7O1NBSUcsR0FDSyxLQUFBdUosU0FBUyxHQUFHLE9BQU9yN0I7WUFDekIsTUFBTTRYLFFBQVEsTUFBTSxJQUFJLENBQUNzYSxFQUFFLENBQUNyYSxXQUFXLENBQUM3WDtZQUN4QyxNQUFNdTdCLGFBQWEsSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQzVqQixNQUFNRSxHQUFHO1lBQ3BELElBQUl5akIsV0FBV2ozQixNQUFNLEtBQUssR0FBRztnQkFDM0IsTUFBTSxJQUFJcEYsTUFBTSwrQ0FBK0M7O1lBR2pFLElBQUk7Z0JBQ0YsSUFBSSxDQUFDNnlCLGVBQWUsR0FBRy94QixTQUFTb1EsY0FBYztnQkFDOUMsTUFBTSxJQUFJLENBQUM4aEIsRUFBRSxDQUFDdUosbUJBQW1CLENBQUM3akI7Z0JBRWxDLE1BQU0sRUFBRW5HLFFBQVEsRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDa2dCLFNBQVMsQ0FBQ2ppQixZQUFZLENBQUM7b0JBQ3JEb0ksS0FBS0YsTUFBTUUsR0FBRyxJQUFJO29CQUNsQjRqQixRQUFRSDtnQkFDVDtnQkFFRCxJQUFJOXBCLFNBQVM4RCxLQUFLLEVBQUUsTUFBTSxJQUFJclcsTUFBTXVTLFNBQVM4RCxLQUFLLENBQUN4VixPQUFPO2dCQUMxRCxNQUFNLElBQUksQ0FBQ215QixFQUFFLENBQUN5SixvQkFBb0IsQ0FBQztvQkFBRXpjLE1BQU07b0JBQVVwSCxLQUFLckcsU0FBU3FHLEdBQUc7Z0JBQUE7cUJBQzlEO2dCQUNSLElBQUksQ0FBQ2lhLGVBQWUsR0FBRzs7WUFHekIsSUFBSSxDQUFDSSx3QkFBd0I7UUFDL0I7UUFFQTs7U0FFRyxHQUNILElBQWtCLENBQUF5SixrQkFBQSxHQUFHO1lBQ25CLE1BQU1GLFNBQTZCLEVBQUU7WUFDckMsS0FBSyxNQUFNLEVBQUVwSCxXQUFXLEVBQUUsSUFBSSxJQUFJLENBQUM4RSxnQkFBZ0IsQ0FBQzFFLEtBQUssR0FBSTtnQkFDM0QsTUFBTWtFLFFBQVF0RSxZQUFZdUUsTUFBTSxDQUFDRCxLQUFLO2dCQUN0QyxJQUFJQSxTQUFTQSxNQUFNbUIsVUFBVSxLQUFLLFFBQVEyQixPQUFPajVCLElBQUksQ0FBQ20yQjs7WUFFeEQsT0FBTzhDO1FBQ1Q7UUFFQTs7O1NBR0csR0FDSCxLQUFBRixrQkFBa0IsR0FBRyxDQUFDMWpCO1lBQ3BCLE1BQU15akIsYUFBMEIsRUFBRTtZQUNsQyxLQUFLLE1BQU1NLFVBQVUsSUFBSSxDQUFDekMsZ0JBQWdCLENBQUMxRSxLQUFLLEdBQUk7Z0JBQ2xELE1BQU0sRUFBRUosV0FBVyxFQUFFRCxhQUFhLEVBQUUsR0FBR3dIO2dCQUN2QyxNQUFNakQsUUFBUXRFLFlBQVl1RSxNQUFNLENBQUNELEtBQUs7Z0JBQ3RDLElBQUksQ0FBQ0EsT0FBTztnQkFFWjJDLFdBQVc5NEIsSUFBSSxDQUFDLElBQUksQ0FBQ3E1QixXQUFXLENBQUN4SCxhQUFhRCxlQUFldmM7O1lBRS9ELE9BQU95akI7UUFDVDtRQUVBOzs7O1NBSUcsR0FDSCxJQUE4QixDQUFBUSw4QkFBQSxHQUFHO1lBQy9CLE1BQU1qa0IsTUFBTSxJQUFJLENBQUNvYSxFQUFFLENBQUM4SixnQkFBZ0IsRUFBRWxrQjtZQUN0QyxNQUFNeWpCLGFBQTBCLEVBQUU7WUFDbEMsS0FBSyxNQUFNbEgsaUJBQWlCLElBQUksQ0FBQzZFLGNBQWMsQ0FBRTtnQkFDL0MsTUFBTTVFLGNBQWMsSUFBSSxDQUFDOEUsZ0JBQWdCLENBQUNyZCxHQUFHLENBQUNzWTtnQkFDOUMsSUFBSSxDQUFDQyxlQUFlLENBQUNBLFlBQVl1RSxNQUFNLENBQUNELEtBQUssRUFBRTtnQkFFL0MyQyxXQUFXOTRCLElBQUksQ0FBQyxJQUFJLENBQUNxNUIsV0FBVyxDQUFDeEgsYUFBYUQsZUFBZXZjOztZQUUvRCxPQUFPeWpCO1FBQ1Q7UUFFQTs7U0FFRyxHQUNLLElBQVcsQ0FBQU8sV0FBQSxHQUFHLENBQ3BCeEgsYUFDQUQsZUFDQXZjO1lBRUEsTUFBTThnQixRQUFRdEUsWUFBWXVFLE1BQU0sQ0FBQ0QsS0FBTTtZQUN2QyxNQUFNcUQsY0FBY3JELE1BQU1tQixVQUFVLEtBQUs7WUFDekMsTUFBTTVGLFNBQVM4SCxjQUNYcEYsbUJBQW1CK0IsT0FBT3ZFLGlCQUMxQixJQUFJLENBQUMrRSxnQkFBZ0IsQ0FBQ3pFLFNBQVMsQ0FBQ047WUFDcEMsSUFBSSxDQUFDK0UsZ0JBQWdCLENBQUN2RSxTQUFTLENBQUNSLGVBQWVGO1lBRS9DLE1BQU0rSCxlQUFlNUcsaUJBQWlCakIsY0FBYzFNLFNBQVM7WUFDN0QsTUFBTXdVLFdBQVdELGdCQUFnQnRELE1BQU03QixXQUFXLEdBQUdxRixZQUFZLEtBQUs7WUFDdEUsTUFBTUMsbUJBQW1CLElBQUksQ0FBQ2pELGdCQUFnQixDQUFDOU4sT0FBTyxDQUFDZ0o7WUFDdkQsTUFBTWdJLGdCQUFnQixJQUFJLENBQUNsZCxLQUFLLENBQUNnTCxRQUFRLEVBQUVtUztZQUUzQyxPQUFPO2dCQUNMckMsU0FBU3RCLE1BQU16WixFQUFFO2dCQUNqQmdWLFFBQVErQixjQUFjL0I7Z0JBQ3RCeE0sV0FBVzBNLGNBQWMxTSxTQUFTO2dCQUNsQytRLEtBQUtGLFdBQVdsRSxhQUFhK0gsa0JBQWtCdmtCO2dCQUMvQzBrQixRQUFRTDtnQkFDUk0sS0FBS1AsZ0JBQWdCLENBQUMsQ0FBQ0ksZUFBZUk7Z0JBQ3RDQyxLQUFLVCxnQkFBZ0IsQ0FBQyxDQUFDSSxlQUFlTTtnQkFDdENDLE9BQU8sQ0FBQ1o7Z0JBQ1JqRixPQUFPM0MsY0FBYzJDLEtBQUs7Z0JBQzFCdUQsaUJBQWlCbEcsY0FBY2xWLEVBQUU7O1FBRXJDO1FBcFhFLElBQUksQ0FBQytaLGNBQWMsR0FBR0E7UUFDdEIsSUFBSSxDQUFDaEgsRUFBRSxDQUFDN2QsZ0JBQWdCLENBQUMscUJBQXFCLElBQUksQ0FBQ2luQixtQkFBbUI7UUFFdEUsSUFBSSxDQUFDL2dCLEVBQUUsQ0FBQyxjQUFjLENBQUNuSztZQUNyQixJQUFJQSxXQUFXNEssUUFBUSxLQUFLeFcsU0FBUzBXLHFCQUFxQixFQUFFO1lBQzVELElBQUksQ0FBQ29ZLFVBQVUsR0FBRzdULEtBQUssQ0FBQyxDQUFDMUk7Z0JBQ3ZCLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLENBQW1CLG9CQUFFMkY7Z0JBQ3pDLElBQUksQ0FBQythLG9CQUFvQjtZQUMzQjtRQUNGO1FBRUEsSUFBSSxDQUFDdlgsRUFBRSxDQUFDLHdCQUF3QixPQUFPNk47WUFDckMsS0FBSyxNQUFNa1MsZUFBZWxTLE1BQU0wVSxZQUFZLENBQUU7Z0JBQzVDLE1BQU0sSUFBSSxDQUFDbmtCLG9CQUFvQixDQUFDMmhCOztRQUVwQztRQUVBLElBQUksQ0FBQy9mLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQzZOO1lBQy9CLElBQUksQ0FBQzhRLGNBQWMsR0FBRzlRLE1BQU04USxjQUFjO1lBQzFDLE9BQU8sSUFBSSxDQUFDUyxrQkFBa0I7UUFDaEM7O0lBR0Y7Ozs7S0FJRyxHQUNIMUgsc0JBQW1CO1FBQ2pCLEtBQUssQ0FBQ0E7UUFDTixJQUFJLENBQUNDLEVBQUUsQ0FBQzNkLG1CQUFtQixDQUFDLHFCQUFxQixJQUFJLENBQUMrbUIsbUJBQW1COztBQXVWNUU7QUNyWkQ7Ozs7O0NBS0csR0FDRyxNQUFPeUIsbUJBQW1Cckw7SUFDOUI7O0tBRUcsR0FDSHB5QixZQUFZMDlCLElBQTRCO1FBQ3RDLEtBQUssQ0FBQ3g0QixTQUFTeVcsVUFBVSxFQUFFK2hCO1FBb0I3Qjs7U0FFRyxHQUNILElBQVUsQ0FBQTFKLFVBQUEsR0FBRztZQUNYLElBQUksQ0FBQ2xpQixNQUFNLENBQUMsU0FBUztZQUNyQixJQUFJLElBQUksQ0FBQzhnQixFQUFFLENBQUM4QixjQUFjLEtBQUsscUJBQXFCO2dCQUNsRCxJQUFJLENBQUM1aUIsTUFBTSxDQUFDLFNBQVM7Z0JBQ3JCOztZQUVGLElBQUksSUFBSSxDQUFDOGdCLEVBQUUsQ0FBQytLLGVBQWUsS0FBSyxPQUFPO2dCQUNyQyxJQUFJLENBQUM3ckIsTUFBTSxDQUNULFNBQ0EsMERBQTBEO2dCQUU1RDs7WUFFRixNQUFNOHJCLDBCQUEwQixJQUFJLENBQUNuTCxlQUFlO1lBQ3BELElBQUk7Z0JBQ0YsSUFBSSxDQUFDQSxlQUFlLEdBQUc7Z0JBQ3ZCLE1BQU0sSUFBSSxDQUFDSixTQUFTLENBQUN2aEIsVUFBVSxDQUFDO29CQUM5QjRLLFVBQVV4VyxTQUFTeVcsVUFBVTtnQkFDOUI7Y0FDRCxPQUFPWCxHQUFHOztnQkFFVixJQUFJLENBQUN5WCxlQUFlLEdBQUdtTDtnQkFDdkIsTUFBTTVpQjs7UUFFVjtRQUVRLEtBQUE2aUIsYUFBYSxHQUFHLENBQUM3aUI7WUFDdkIsTUFBTSxDQUFDOGlCLGNBQWMsR0FBRzlpQixFQUFFK2lCLE9BQU87O1lBRWpDLE1BQU0sQ0FBQ25ELFNBQVNvRCxhQUFhLEdBQUdGLGNBQWNqZSxFQUFFLENBQUM0VCxLQUFLLENBQUM7WUFDdkQsTUFBTXdLLHNCQUFzQixJQUFJLENBQUNuZSxLQUFLLENBQUM2RyxZQUFZLENBQUNya0IsSUFBSSxDQUN0RCxDQUFDK2UsSUFBTUEsRUFBRXFJLGlCQUFpQixLQUFLa1I7WUFFakMsSUFBSSxDQUFDOW9CLE1BQU0sQ0FDVCxTQUNBLENBQXlCLHdCQUFBa3NCLGFBQWtDLHFCQUFBQyxxQkFBcUJ6USxPQUFNLENBQUUsRUFDeEZ4UyxFQUFFc2UsS0FBSyxDQUFDelosRUFBRSxFQUNWN0UsRUFBRXNlLEtBQUs7WUFHVCxNQUFNNEUsaUJBQWlCLEdBQUdELHFCQUFxQnpRLE9BQU0sR0FBSXdRLGFBQVksR0FBSXBELFFBQU8sQ0FBRTtZQUNsRjVmLEVBQUVzZSxLQUFLLENBQUN2a0IsZ0JBQWdCLENBQUMsUUFBUTtnQkFDL0IsSUFBSSxDQUFDakQsTUFBTSxDQUFDLFFBQVEsQ0FBMkIsMEJBQUFvc0IsZUFBZ0I7WUFDakU7WUFFQWxqQixFQUFFc2UsS0FBSyxDQUFDdmtCLGdCQUFnQixDQUFDLFVBQVU7Z0JBQ2pDLElBQUksQ0FBQ2pELE1BQU0sQ0FBQyxRQUFRLENBQTZCLDRCQUFBb3NCLGVBQWdCO1lBQ25FO1lBRUFsakIsRUFBRXNlLEtBQUssQ0FBQ3ZrQixnQkFBZ0IsQ0FBQyxTQUFTO2dCQUNoQyxJQUFJLENBQUNqRCxNQUFNLENBQUMsUUFBUSxDQUEyQiwwQkFBQW9zQixlQUFnQjtnQkFDL0QsSUFBSSxDQUFDcGUsS0FBSyxDQUFDeUosbUJBQW1CLENBQUN1VSxjQUFjamUsRUFBRTtZQUNqRDtZQUVBLE1BQU13SSxZQUFZME4sWUFBWWlJO1lBQzlCLElBQUksQ0FBQzNWLFdBQVc7Z0JBQ2QsT0FBTyxJQUFJLENBQUN2VyxNQUFNLENBQUMsU0FBUyxDQUF1QixzQkFBQWtzQixhQUFjOztZQUduRSxJQUFJLENBQUNDLHFCQUFxQjtnQkFDeEIsSUFBSSxDQUFDbnNCLE1BQU0sQ0FDVCxRQUNBLENBQXNELHFEQUFBOG9CLFFBQVMsR0FDL0Q1ZjtnQkFFRixJQUFJLENBQUM4RSxLQUFLLENBQUN1SixxQkFBcUIsQ0FBQztvQkFDL0J4SixJQUFJaWUsY0FBY2plLEVBQUU7b0JBQ3BCNkosbUJBQW1Ca1I7b0JBQ25CdEIsT0FBT3dFO29CQUNQelY7Z0JBQ0Q7Z0JBQ0Q7O1lBR0YsTUFBTThWLGlCQUFpQnhJLGdDQUFnQ3ROO1lBQ3ZELElBQUksQ0FBQzhWLGdCQUFnQjtnQkFDbkIsSUFBSSxDQUFDcnNCLE1BQU0sQ0FBQyxTQUFTLENBQXVCLHNCQUFBa3NCLGFBQWM7Z0JBQzFEOzs7OztZQU1GLE1BQU1JLGlCQUFpQkgsbUJBQW1CLENBQUNFLGVBQWU7O1lBRzFELElBQUksQ0FBQ3JlLEtBQUssQ0FBQzZILGlCQUFpQixDQUFDc1csb0JBQW9CM1csU0FBUyxFQUFFO2dCQUMxRCxDQUFDNlcsZUFBYyxFQUFHTDtZQUNuQjs7WUFHRCxJQUFJTSxnQkFBZ0I7Z0JBQ2xCLElBQUksQ0FBQ3RzQixNQUFNLENBQ1QsUUFDQSwwQ0FBMENrSixFQUFFc2UsS0FBSyxDQUFDbjVCLElBQUksQ0FBdUIsc0JBQUE4OUIsb0JBQW9CelEsTUFBTSxFQUFFO2dCQUUzRzRRLGVBQWVDLFNBQVMsR0FBRzNsQixPQUFPLENBQUMsQ0FBQ0M7b0JBQ2xDQSxFQUFFQyxJQUFJO29CQUNOd2xCLGVBQWVFLFdBQVcsQ0FBQzNsQjtnQkFDN0I7O1FBRUo7UUFFUSxLQUFBb2pCLFNBQVMsR0FBRyxPQUFPOWlCO1lBQ3pCLElBQUksQ0FBQ25ILE1BQU0sQ0FBQyxRQUFRLENBQTBCLDJCQUFFbUg7WUFFaEQsTUFBTSxJQUFJLENBQUMyWixFQUFFLENBQUN5SixvQkFBb0IsQ0FBQztnQkFDakN6YyxNQUFNO2dCQUNOcEgsS0FBS1MsZ0JBQWdCVCxHQUFHO1lBQ3pCO1lBRUQsSUFBSSxDQUFDcWEsd0JBQXdCO1lBRTdCLE1BQU0wTCxTQUFTLE1BQU0sSUFBSSxDQUFDM0wsRUFBRSxDQUFDNEwsWUFBWTtZQUN6QyxNQUFNLElBQUksQ0FBQzVMLEVBQUUsQ0FBQ3VKLG1CQUFtQixDQUFDb0M7WUFFbEMsTUFBTSxJQUFJLENBQUNsTSxTQUFTLENBQUMzaEIsVUFBVSxDQUFDO2dCQUM5QmdMLFVBQVV4VyxTQUFTeVcsVUFBVTtnQkFDN0JuRCxLQUFLK2xCLE9BQU8vbEIsR0FBRyxJQUFJO1lBQ3BCO1lBRUQsSUFBSSxDQUFDaWEsZUFBZSxHQUFHO1FBQ3pCO1FBaEpFLElBQUksQ0FBQ0csRUFBRSxDQUFDN2QsZ0JBQWdCLENBQUMsU0FBUyxJQUFJLENBQUM4b0IsYUFBYTtRQUVwRCxJQUFJLENBQUM1aUIsRUFBRSxDQUFDLG1CQUFtQixPQUFPaEM7WUFDaEMsT0FBTyxJQUFJLENBQUM4aUIsU0FBUyxDQUFDOWlCLGlCQUFpQmtILEtBQUssQ0FBQyxDQUFDMUk7Z0JBQzVDLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxTQUFTLENBQXFCLHNCQUFFMkY7WUFDOUM7UUFDRjs7SUFHRjs7OztLQUlHLEdBQ0hrYixzQkFBbUI7UUFDakIsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0MsRUFBRSxDQUFDM2QsbUJBQW1CLENBQUMsU0FBUyxJQUFJLENBQUM0b0IsYUFBYTs7QUFpSTFEO0FDaktNLE1BQU1ZLCtCQUErQixDQUFDZjtJQUszQyxNQUFNLEVBQUVnQixRQUFRLEVBQUVDLFNBQVMsRUFBRWprQixNQUFNLEVBQUUsR0FBR2dqQjtJQUN4QyxNQUFNNXJCLFNBQVMrRSxVQUFVO1FBQUM7UUFBZTZEO0tBQU87SUFDaEQsTUFBTWtrQixLQUFLLElBQUlDLFVBQVVIO0lBQ3pCRSxHQUFHRSxVQUFVLEdBQUcsZUFBYztJQUU5QkYsR0FBRzdwQixnQkFBZ0IsQ0FBQyxTQUFTLENBQUNpRztRQUM1QmxKLE9BQU8sU0FBUyw4QkFBOEJrSjtJQUNoRDtJQUVBNGpCLEdBQUc3cEIsZ0JBQWdCLENBQUMsU0FBUyxDQUFDaUc7UUFDNUJsSixPQUFPLFFBQVEsa0NBQWtDa0o7SUFDbkQ7SUFFQTRqQixHQUFHN3BCLGdCQUFnQixDQUFDLFFBQVEsQ0FBQ2lHO1FBQzNCbEosT0FBTyxRQUFRLGdDQUFnQ2tKO0lBQ2pEO0lBRUE0akIsR0FBRzdwQixnQkFBZ0IsQ0FBQyxXQUFXLENBQUNpRztRQUM5QixJQUFJO1lBQ0YsTUFBTXZhLFVBQ0p1YSxFQUFFK2pCLElBQUksWUFBWUMsY0FDZC94QixTQUFTZ3lCLFVBQVUsQ0FBQyxJQUFJdHFCLFdBQVdxRyxFQUFFK2pCLElBQUksS0FDekM5eEIsU0FBU2l5QixjQUFjLENBQUNsa0IsRUFBRStqQixJQUFJLENBQUNqN0IsUUFBUTtZQUU3QzY2QixVQUFVbCtCO1VBQ1YsT0FBT2dYLEtBQUs7WUFDWjNGLE9BQ0UsU0FDQSxxRUFDQTtnQkFBRWdYLE9BQU85TjtnQkFBRy9FLE9BQU93QjtZQUFHOztJQUc1QjtJQUNBLE9BQU9tbkI7QUFDVDtBQ3pDTyxNQUFNTyxxQkFBcUIsQ0FBQ3JWO0lBQ2pDLE9BQU87UUFDTHNWLFlBQVl0VixPQUFPNW1CLEdBQUcsQ0FBQyxDQUFDbThCLE1BQVM7Z0JBQy9CQyxNQUFNRCxJQUFJQyxJQUFJO2dCQUNkQyxVQUFVRixJQUFJRSxRQUFRO2dCQUN0QkMsWUFBWUgsSUFBSUksUUFBUTtZQUN6Qjs7QUFFTDtBQ0tBOzs7Ozs7Ozs7Ozs7Q0FZRyxHQUNHLFNBQVVDLGdCQUFtQmhqQixPQUFtQjtJQUNwRCxJQUFJaWpCLFlBQVk7SUFFaEIsTUFBTUMsY0FBdUNsakIsUUFDMUNNLElBQUksQ0FDSCxDQUFDNUYsU0FBWTtZQUFFaEMsUUFBUTtZQUFxQmdDO1FBQU0sSUFDbEQsQ0FBQ25CLFFBQVc7WUFBRWIsUUFBUTtZQUFxQmE7UUFBSyxJQUVqRGtILE9BQU8sQ0FBQyxJQUFPd2lCLFlBQVk7SUFFOUIsTUFBTUUsZ0JBQWdCLElBQ3BCRCxZQUFZNWlCLElBQUksQ0FBQyxDQUFDOGlCO1lBQ2hCLElBQUlBLFlBQVkxcUIsTUFBTSxLQUFLLFlBQVksTUFBTTBxQixZQUFZN3BCLEtBQUs7WUFDOUQsT0FBTzZwQixZQUFZMW9CLE1BQU07UUFDM0I7SUFFRnlvQixjQUFjRSxZQUFZLEdBQUcsSUFBTUo7SUFDbkMsT0FBT0U7QUFDVDtBQVVBOzs7OztDQUtHLEdBQ0ksTUFBTUcsdUJBQXVCO0lBQ2xDLElBQUl6aUI7SUFDSixJQUFJMGlCO0lBQ0osTUFBTXZqQixVQUFVLElBQUlqSyxRQUFXLENBQUN5dEIsVUFBVUM7UUFDeEM1aUIsVUFBVTJpQjtRQUNWRCxTQUFTRTtJQUNYO0lBRUEsSUFBSUMsYUFBYTtJQUNqQixJQUFJQyxhQUFhO0lBRWpCLE1BQU1DLFdBQVcsQ0FBQ3p0QjtRQUNoQnV0QixhQUFhO1FBQ2I3aUIsUUFBUTFLO0lBQ1Y7SUFFQSxNQUFNMHRCLFdBQVcsQ0FBQ3JnQjtRQUNoQm1nQixhQUFhO1FBQ2JKLE9BQU8vZjtJQUNUO0lBRUEsT0FBTztRQUNMeEQ7UUFDQWEsU0FBUytpQjtRQUNUTCxRQUFRTTtRQUNSSDtRQUNBQzs7QUFFSjtBQzFGQSxNQUFNRyxnQkFBZ0I1aEIsT0FBTztBQUU3Qjs7Q0FFRyxHQUNHLFNBQVU2aEIsS0FBUUMsT0FBZ0I7SUFDdEMsSUFBSTd0QixRQUFrQzJ0QjtJQUN0QyxPQUFPO1FBQ0wsSUFBSTN0QixVQUFVMnRCLGVBQWU7WUFDM0IzdEIsUUFBUTZ0Qjs7UUFHVixPQUFPN3RCO0lBQ1Q7QUFDRjtBQ2RBO0FBQ0E7QUFDTyxNQUFNOHRCLGNBQWM7SUFDekJDLEtBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBdUJMOztBQ3JCRixNQUFNQztJQUFON2dDLGFBQUE7UUFDVSxJQUFjLENBQUE4Z0MsY0FBQSxHQUFHO1FBQ2pCLEtBQUFDLFNBQVMsR0FBRyxJQUFJemtCO1FBRWhCLElBQVEsQ0FBQTBrQixRQUFBLEdBQUc7O0lBRW5CQyxNQUFNLEVBQUVDLGlCQUFpQixJQUFJLEtBQW1DLEVBQUU7UUFDaEUsSUFBSSxDQUFDQSxnQkFBZ0I7WUFDbkIsSUFBSSxDQUFDRixRQUFRLEdBQUc7WUFDaEI7O1FBR0YsSUFBSTtZQUNGLE1BQU1HLFNBQVNSLFlBQVlDLEdBQUc7WUFDOUIsTUFBTVEsT0FBTyxJQUFJQyxLQUFLO2dCQUFDRjthQUFPLEVBQUU7Z0JBQzlCdmhCLE1BQU07WUFDUDtZQUNELE1BQU0waEIsU0FBU0MsSUFBSUMsZUFBZSxDQUFDSjtZQUNuQyxJQUFJLENBQUNLLE1BQU0sR0FBRyxJQUFJQyxPQUFPSixRQUFRO2dCQUFFcGhDLE1BQU07WUFBa0I7WUFDM0QsSUFBSSxDQUFDdWhDLE1BQU0sQ0FBQzFzQixnQkFBZ0IsQ0FBQyxXQUFXLENBQUMrVDtnQkFDdkMsTUFBTSxFQUFFbEosSUFBSSxFQUFFQyxFQUFFLEVBQUUsR0FBR2lKLE1BQU1pVyxJQUF3QjtnQkFDbkQsSUFBSW5mLFNBQVMsUUFBUTtvQkFDbkIsSUFBSSxDQUFDbWhCLFNBQVMsQ0FBQ3RrQixHQUFHLENBQUNvRDs7WUFFdkI7VUFDQSxPQUFPcEksS0FBVTtZQUNqQlosVUFBVTtnQkFBQzthQUFlLEVBQUUsU0FBU1k7WUFDckMsSUFBSSxDQUFDdXBCLFFBQVEsR0FBRzs7O0lBSXBCVyxVQUFPO1FBQ0wsSUFBSSxDQUFDWixTQUFTLENBQUNhLEtBQUs7UUFDcEIsSUFBSSxDQUFDSCxNQUFNLEVBQUVJO1FBQ2IsSUFBSSxDQUFDSixNQUFNLEdBQUcxL0I7UUFDZCxJQUFJLENBQUNpL0IsUUFBUSxHQUFHOztJQUdsQixJQUFJYyxRQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUNkLFFBQVEsSUFBSTlwQixRQUFRLElBQUksQ0FBQ3VxQixNQUFNOztJQUc3Q00sWUFBWUMsUUFBb0IsRUFBRTN3QixPQUFlO1FBQy9DLE9BQU8sSUFBSSxDQUFDNHdCLFFBQVEsQ0FBQyxlQUFlRCxVQUFVM3dCOztJQUdoRDZ3QixjQUFjcmlCLEVBQVc7UUFDdkIsSUFBSSxDQUFDc2lCLFVBQVUsQ0FBQyxpQkFBaUJ0aUI7O0lBR25DbE4sV0FBV3F2QixRQUFvQixFQUFFM3dCLE9BQWU7UUFDOUMsT0FBTyxJQUFJLENBQUM0d0IsUUFBUSxDQUFDLGNBQWNELFVBQVUzd0I7O0lBRy9DMFUsYUFBYWxHLEVBQVc7UUFDdEIsSUFBSSxDQUFDc2lCLFVBQVUsQ0FBQyxnQkFBZ0J0aUI7O0lBRzFCb2lCLFNBQ05yaUIsSUFBa0MsRUFDbENvaUIsUUFBb0IsRUFDcEIzd0IsT0FBZTtRQUVmLElBQUksQ0FBQyxJQUFJLENBQUN5d0IsS0FBSyxFQUFFO1lBQ2YsSUFBSSxDQUFDYixLQUFLOztRQUdaLElBQUksSUFBSSxDQUFDRCxRQUFRLEVBQUU7WUFDakIsT0FBTyxDQUFDcGhCLFNBQVMsZUFBZWpOLGFBQWFvdkIsV0FBQSxFQUMzQ0MsVUFDQTN3Qjs7UUFJSixNQUFNd08sS0FBSyxJQUFJLENBQUN1aUIsVUFBVTtRQUUxQixJQUFJLENBQUNyQixTQUFTLENBQUM5akIsR0FBRyxDQUFDNEMsSUFBSTtZQUNyQm1pQjs7O1lBSUEsSUFBSXBpQixTQUFTLGNBQWM7Z0JBQ3pCLElBQUksQ0FBQ21oQixTQUFTLENBQUMzakIsTUFBTSxDQUFDeUM7O1FBRTFCO1FBRUEsSUFBSSxDQUFDd2lCLFdBQVcsQ0FBQztZQUFFemlCO1lBQU1DO1lBQUl4TztRQUFPO1FBQ3BDLE9BQU93Tzs7SUFHRHNpQixXQUFXdmlCLElBQXNDLEVBQUVDLEVBQVc7UUFDcEUsSUFBSSxDQUFDQSxJQUFJO1lBQ1A7O1FBR0YsSUFBSSxDQUFDLElBQUksQ0FBQ2lpQixLQUFLLEVBQUU7WUFDZixJQUFJLENBQUNiLEtBQUs7O1FBR1osSUFBSSxJQUFJLENBQUNELFFBQVEsRUFBRTtZQUNoQnBoQixDQUFBQSxTQUFTLGlCQUFpQm1HLGVBQWVtYyxhQUFBLEVBQWVyaUI7WUFDekQ7O1FBR0YsSUFBSSxDQUFDa2hCLFNBQVMsQ0FBQzNqQixNQUFNLENBQUN5QztRQUN0QixJQUFJLENBQUN3aUIsV0FBVyxDQUFDO1lBQUV6aUI7WUFBTUM7UUFBRTs7SUFHckJ1aUIsYUFBVTtRQUNoQixPQUFPLElBQUksQ0FBQ3RCLGNBQWM7O0lBR3BCdUIsWUFBWTVoQyxPQUEyQjtRQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDZ2hDLE1BQU0sRUFBRTtZQUNoQixNQUFNLElBQUk3aEMsTUFBTTs7UUFHbEIsSUFBSSxDQUFDNmhDLE1BQU0sQ0FBQ2EsV0FBVyxDQUFDN2hDOztBQUUzQjtBQUVELElBQUk4aEMscUJBQXFCO0FBRWxCLE1BQU1DLG9CQUFvQjtJQUMvQkQscUJBQXFCO0FBQ3ZCO0FBRU8sTUFBTUUsWUFBWWhDLEtBQUs7SUFDNUIsTUFBTWlDLFdBQVcsSUFBSTdCO0lBQ3JCNkIsU0FBU3pCLEtBQUssQ0FBQztRQUFFQyxnQkFBZ0JxQjtJQUFrQjtJQUNuRCxPQUFPRztBQUNUO0FDM0RBOztDQUVHLFNBQ1VDO0lBb0ZYOztLQUVHLEdBQ0gzaUMsWUFBWSxFQUNWdXlCLFVBQVUsRUFDVnFRLFdBQVcsRUFDWHRiLFNBQVMsRUFDVDVNLE1BQU0sRUFDTm1vQixzQkFBc0IsSUFBSSxFQUMxQkMsYUFBYSxFQUNiQyxZQUFZLEVBQ2U7UUE5RjdCOzs7U0FHRyxHQUNNLEtBQUFqUSxnQkFBZ0IsR0FBRyxJQUFJMVg7UUFzQmhDOzs7U0FHRyxHQUNILElBQVMsQ0FBQTRuQixTQUFBLEdBQUc7UUFNSixLQUFBQyxnQkFBZ0IsR0FBRyxLQUFLO1FBQ3hCLElBQW9CLENBQUFDLG9CQUFBLEdBQUcsSUFBSSxDQUFDRCxnQkFBZ0IsR0FBRyxJQUFJO1FBVzNEOzs7U0FHRyxHQUNLLElBQWdCLENBQUFFLGdCQUFBLEdBQUduRDtRQVEzQjs7U0FFRyxHQUNjLEtBQUFvRCxlQUFlLEdBQUcsSUFBSTlsQjtRQTBFL0IsSUFBZSxDQUFBK2xCLGVBQUEsR0FBRztZQUN4QixJQUFJLENBQUNDLFFBQVEsR0FBRzdFLDZCQUE2QjtnQkFDM0MvakIsUUFBUSxJQUFJLENBQUNBLE1BQU07Z0JBQ25CZ2tCLFVBQVUsR0FBRyxJQUFJLENBQUNrRSxXQUFXLENBQUNXLE1BQU0sQ0FBQ0MsV0FBVyxRQUFRLElBQUksQ0FBQzlvQixNQUFNLENBQUU7Z0JBQ3JFaWtCLFdBQVcsQ0FBQ2wrQjtvQkFDVixJQUFJLENBQUNnakMsb0JBQW9CLEdBQUcsSUFBSWpnQztvQkFDaEMsSUFBSSxDQUFDa2dDLHVCQUF1QjtvQkFDNUIsSUFBSSxDQUFDblIsVUFBVSxDQUFDOVgsUUFBUSxDQUFDaGEsU0FBUyxJQUFJLENBQUNpYSxNQUFNOztZQUVoRDtZQUVELElBQUksQ0FBQzRvQixRQUFRLENBQUN2dUIsZ0JBQWdCLENBQUMsU0FBUyxJQUFJLENBQUM0dUIsb0JBQW9CO1lBRWpFLElBQUksQ0FBQ0MsV0FBVyxHQUFHbEUsZ0JBQ2pCanRCLFFBQVFveEIsSUFBSSxDQUFZO2dCQUN0QixJQUFJcHhCLFFBQVEsQ0FBQzhLO29CQUNYLE1BQU11bUIsU0FBUzt3QkFDYixJQUFJLENBQUNSLFFBQVEsQ0FBQ3J1QixtQkFBbUIsQ0FBQyxRQUFRNnVCO3dCQUMxQ3ZtQixRQUFRLElBQUksQ0FBQytsQixRQUFRO29CQUN2QjtvQkFDQSxJQUFJLENBQUNBLFFBQVEsQ0FBQ3Z1QixnQkFBZ0IsQ0FBQyxRQUFRK3VCO2dCQUN6QztnQkFFQSxJQUFJcnhCLFFBQVEsQ0FBQzhLLFNBQVMwaUI7b0JBQ3BCdHRCLFdBQ0UsSUFBTXN0QixPQUFPLElBQUlyZ0MsTUFBTSxpQ0FDdkIsSUFBSSxDQUFDaWpDLG1CQUFtQjtnQkFFNUI7YUFDRDtRQUVMO1FBRVEsSUFBZ0IsQ0FBQWtCLGdCQUFBLEdBQUc7WUFDekIsSUFBSSxDQUFDVCxRQUFRLENBQUNydUIsbUJBQW1CLENBQUMsU0FBUyxJQUFJLENBQUMwdUIsb0JBQW9CO1FBQ3RFO1FBVVEsSUFBb0IsQ0FBQUEsb0JBQUEsR0FBRztZQUM3QixJQUFJLENBQUNMLFFBQVEsQ0FBQ3J1QixtQkFBbUIsQ0FBQyxTQUFTLElBQUksQ0FBQzB1QixvQkFBb0I7WUFDcEVsQixZQUFZUCxhQUFhLENBQUMsSUFBSSxDQUFDOEIsaUJBQWlCO1lBQ2hEamUsYUFBYSxJQUFJLENBQUNrZSxzQkFBc0I7WUFDeEMsSUFBSSxDQUFDbkIsYUFBYTtRQUNwQjtRQUVBLElBQUssQ0FBQWpxQixLQUFBLEdBQUcsQ0FBQ3ZELE9BQWVxdEIsZ0JBQWdCdUIsY0FBYyxFQUFFaGtCO1lBQ3RELElBQUksSUFBSSxDQUFDb2pCLFFBQVEsQ0FBQzdJLFVBQVUsS0FBS29FLFVBQVVzRixJQUFJLEVBQUU7Z0JBQy9DLElBQUksQ0FBQ3J5QixNQUFNLENBQUMsU0FBUyxDQUE4Qiw2QkFBQXdELEtBQVUsS0FBQTRLLE9BQVE7Z0JBQ3JFLElBQUksQ0FBQ29qQixRQUFRLENBQUN6cUIsS0FBSyxDQUFDdkQsTUFBTSxDQUFjLGFBQUE0SyxPQUFRO2dCQUNoRCxJQUFJLENBQUM2akIsZ0JBQWdCOztZQUV2QixJQUFJLENBQUNsb0IsT0FBTztRQUNkO1FBRVEsSUFBTyxDQUFBQSxPQUFBLEdBQUc7WUFDaEIsSUFBSSxDQUFDL0osTUFBTSxDQUFDLFNBQVM7WUFDckIsSUFBSSxDQUFDaWhCLHFCQUFxQjtZQUMxQixJQUFJLENBQUNxUix5QkFBeUI7WUFDOUJsQyxjQUFjLElBQUksQ0FBQzhCLGlCQUFpQjtZQUNwQ2plLGFBQWEsSUFBSSxDQUFDa2Usc0JBQXNCO1lBQ3hDbGUsYUFBYSxJQUFJLENBQUNzZSxrQkFBa0I7WUFDcEMsSUFBSSxDQUFDakIsZUFBZSxDQUFDNWxCLEtBQUs7WUFDMUIsSUFBSSxDQUFDOG1CLGFBQWEsRUFBRS9tQjtZQUNwQixJQUFJLENBQUN1VixnQkFBZ0IsQ0FBQ2pYLE9BQU87UUFDL0I7UUFFQSxLQUFBMG9CLGFBQWEsR0FBRyxPQUFPcmtCO1lBQ3JCLE1BQU0sSUFBSSxDQUFDc2tCLFFBQVE7WUFDbkIsSUFBSTtnQkFDRixJQUFJLENBQUN4QixTQUFTLEdBQUc7Z0JBQ2pCLE1BQU0sSUFBSSxDQUFDeUIsV0FBVyxDQUFDdmtCO2NBQ3ZCLE9BQU96SSxLQUFLO2dCQUNaLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxTQUFTLDBDQUEwQzJGOztZQUdqRSxJQUFJLENBQUNvQixLQUFLLENBQUM4cEIsZ0JBQWdCdUIsY0FBYyxFQUFFaGtCLE9BQU96YixTQUFTLENBQUMsR0FBRztRQUNqRTtRQUVBLEtBQUFtTSxtQkFBbUIsR0FBRyxPQUFPd3JCO1lBQzNCLE1BQU0sSUFBSSxDQUFDb0ksUUFBUTtZQUNuQixPQUFPbnRCLFVBQ0wsSUFBTSxJQUFJLENBQUNDLEdBQUcsQ0FBQzFHLG1CQUFtQixDQUFDO29CQUFFMFcsV0FBVyxJQUFJLENBQUNBLFNBQVM7b0JBQUU4VTtnQkFBTSxJQUN0RSxJQUFJLENBQUNnSCxlQUFlLENBQUM3ckIsTUFBTTtRQUUvQjtRQUVBLEtBQUFuSCxZQUFZLEdBQUcsT0FBTzJ1QjtZQUNwQixNQUFNLElBQUksQ0FBQ3lGLFFBQVE7WUFDbkIsT0FBT250QixVQUNMLElBQU0sSUFBSSxDQUFDQyxHQUFHLENBQUNsSCxZQUFZLENBQUM7b0JBQUUsR0FBRzJ1QixJQUFJO29CQUFFelgsV0FBVyxJQUFJLENBQUNBLFNBQVM7Z0JBQUEsSUFDaEUsSUFBSSxDQUFDOGIsZUFBZSxDQUFDN3JCLE1BQU07UUFFL0I7UUFFQSxLQUFBN0csVUFBVSxHQUFHLE9BQU9xdUI7WUFDbEIsTUFBTSxJQUFJLENBQUN5RixRQUFRO1lBQ25CLE9BQU9udEIsVUFDTCxJQUFNLElBQUksQ0FBQ0MsR0FBRyxDQUFDNUcsVUFBVSxDQUFDO29CQUFFLEdBQUdxdUIsSUFBSTtvQkFBRXpYLFdBQVcsSUFBSSxDQUFDQSxTQUFTO2dCQUFBLElBQzlELElBQUksQ0FBQzhiLGVBQWUsQ0FBQzdyQixNQUFNO1FBRS9CO1FBRUEsS0FBQTVHLFVBQVUsR0FBRyxPQUFPb3VCO1lBQ2xCLE1BQU0sSUFBSSxDQUFDeUYsUUFBUTtZQUNuQixPQUFPbnRCLFVBQ0wsSUFBTSxJQUFJLENBQUNDLEdBQUcsQ0FBQzNHLFVBQVUsQ0FBQztvQkFBRSxHQUFHb3VCLElBQUk7b0JBQUV6WCxXQUFXLElBQUksQ0FBQ0EsU0FBUztnQkFBQSxJQUM5RCxJQUFJLENBQUM4YixlQUFlLENBQUM3ckIsTUFBTTtRQUUvQjtRQUVBLEtBQUF6RyxVQUFVLEdBQUcsT0FBT2l1QjtZQUNsQixNQUFNLElBQUksQ0FBQ3lGLFFBQVE7WUFDbkIsT0FBT250QixVQUNMLElBQU0sSUFBSSxDQUFDQyxHQUFHLENBQUN4RyxVQUFVLENBQUM7b0JBQUUsR0FBR2l1QixJQUFJO29CQUFFelgsV0FBVyxJQUFJLENBQUNBLFNBQVM7Z0JBQUEsSUFDOUQsSUFBSSxDQUFDOGIsZUFBZSxDQUFDN3JCLE1BQU07UUFFL0I7UUFFQSxLQUFBMUcsZ0JBQWdCLEdBQUcsT0FBTzZ6QjtZQUN4QixNQUFNLElBQUksQ0FBQ0YsUUFBUTtZQUNuQixPQUFPbnRCLFVBQ0wsSUFDRSxJQUFJLENBQUNDLEdBQUcsQ0FBQ3pHLGdCQUFnQixDQUFDO29CQUFFNnpCO29CQUFZcGQsV0FBVyxJQUFJLENBQUNBLFNBQVM7Z0JBQUEsSUFDbkUsSUFBSSxDQUFDOGIsZUFBZSxDQUFDN3JCLE1BQU07UUFFL0I7UUFFQSxLQUFBeEcsU0FBUyxHQUFHLE9BQU80ekI7WUFDakIsTUFBTSxJQUFJLENBQUNILFFBQVE7WUFDbkIsT0FBT250QixVQUNMLElBQU0sSUFBSSxDQUFDQyxHQUFHLENBQUN2RyxTQUFTLENBQUM7b0JBQUUsR0FBRzR6QixLQUFLO29CQUFFcmQsV0FBVyxJQUFJLENBQUNBLFNBQVM7Z0JBQUEsSUFDOUQsSUFBSSxDQUFDOGIsZUFBZSxDQUFDN3JCLE1BQU07UUFFL0I7UUFFQSxJQUFzQixDQUFBdkcsc0JBQUEsR0FBRztZQUN2QixNQUFNLElBQUksQ0FBQ3d6QixRQUFRO1lBQ25CLE9BQU9udEIsVUFDTCxJQUFNLElBQUksQ0FBQ0MsR0FBRyxDQUFDdEcsc0JBQXNCLENBQUM7b0JBQUVzVyxXQUFXLElBQUksQ0FBQ0EsU0FBUztnQkFBQSxJQUNqRSxJQUFJLENBQUM4YixlQUFlLENBQUM3ckIsTUFBTTtRQUUvQjtRQUVBLElBQXFCLENBQUF0RyxxQkFBQSxHQUFHO1lBQ3RCLE1BQU0sSUFBSSxDQUFDdXpCLFFBQVE7WUFDbkIsT0FBT250QixVQUNMLElBQU0sSUFBSSxDQUFDQyxHQUFHLENBQUNyRyxxQkFBcUIsQ0FBQztvQkFBRXFXLFdBQVcsSUFBSSxDQUFDQSxTQUFTO2dCQUFBLElBQ2hFLElBQUksQ0FBQzhiLGVBQWUsQ0FBQzdyQixNQUFNO1FBRS9CO1FBRUEsS0FBQXF0QixjQUFjLEdBQUcsT0FBT2xILE9BQTZCLEVBQUU7WUFDckQsSUFBSSxDQUFDc0YsU0FBUyxHQUFHO1lBQ2pCLE1BQU0sRUFBRTN4QixVQUFVLElBQUksSUFBSSxFQUFFLEdBQUdxc0I7WUFFL0IsSUFBSSxDQUFDNEcsYUFBYSxFQUFFckUsT0FBTyxJQUFJcmdDLE1BQU07WUFDckMsTUFBTWl2QixPQUFRLElBQUksQ0FBQ3lWLGFBQWEsR0FBR3RFO1lBQ25DLE1BQU1qaUIsY0FBYyxJQUFJLENBQUN3VSxVQUFVLENBQUN0WCxFQUFFLENBQ3BDLGdDQUNBO2dCQUNFOEM7Z0JBQ0FnSSxhQUFhLElBQUksQ0FBQ3NlLGtCQUFrQjtnQkFDcEN4VixLQUFLdFIsT0FBTztZQUNkO1lBRUYsSUFBSSxDQUFDOG1CLGtCQUFrQixHQUFHMXhCLFdBQVc7Z0JBQ25Db0w7Z0JBQ0E4USxLQUFLb1IsTUFBTSxDQUNULElBQUlyZ0MsTUFDRixjQUFjLElBQUksQ0FBQzhhLE1BQU0sQ0FBMkIsMEJBQUFySixRQUFXO2VBR2xFQTtZQUVILE9BQU93ZCxLQUFLblMsT0FBTztRQUNyQjtRQUVBLEtBQUF2RixJQUFJLEdBQUcsT0FDTDRuQjs7WUFHQSxNQUFNLElBQUksQ0FBQzZFLFdBQVc7WUFDdEIsSUFBSSxJQUFJLENBQUNULGdCQUFnQixDQUFDL0MsVUFBVSxJQUFJLElBQUksQ0FBQytDLGdCQUFnQixDQUFDOUMsVUFBVSxFQUFFOzs7OztnQkFLeEUsSUFBSSxDQUFDOEMsZ0JBQWdCLEdBQUduRDs7OztZQUsxQixNQUFNdFMsVUFBVSxJQUFJLENBQUN5VixnQkFBZ0I7WUFFckMsSUFBSTBCO1lBQ0osTUFBTTltQixjQUFjLElBQUksQ0FBQ3dVLFVBQVUsQ0FBQ3RYLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQ3hCO2dCQUN0RCxJQUFJLENBQUMzSCxNQUFNLENBQUMsU0FBUyx5QkFBeUIySDtnQkFDOUNzTSxhQUFhOGU7Z0JBQ2I5bUI7Z0JBQ0EsSUFBSSxDQUFDK21CLFNBQVM7Z0JBQ2RwWCxRQUFRblEsT0FBTyxDQUFDOUQ7WUFDbEI7WUFFQW9yQixZQUFZbHlCLFdBQVc7Z0JBQ3JCb0w7Z0JBQ0EyUCxRQUFRdVMsTUFBTSxDQUFDLElBQUlyZ0MsTUFBTTtZQUMzQixHQUFHLElBQUksQ0FBQ2lqQyxtQkFBbUI7WUFFM0IsTUFBTSxJQUFJLENBQUNrQyxJQUFJLENBQ2JsM0IsV0FBV3JNLE1BQU0sQ0FBQztnQkFDaEJ3akMsZ0JBQWdCO29CQUNkbGpDLFdBQVc7b0JBQ1htakMsYUFBYXYzQixZQUFZbE0sTUFBTSxDQUFDO3dCQUM5QixHQUFHdTlCLElBQUk7d0JBQ1B6WCxXQUFXLElBQUksQ0FBQ0EsU0FBUzt3QkFDekI0ZCxPQUFPLElBQUksQ0FBQ3RDLFdBQVcsQ0FBQ3NDLEtBQUs7O2dCQUVoQztZQUNGO1lBR0gsT0FBT3hYLFFBQVFoUixPQUFPO1FBQ3hCO1FBRUEsSUFBSSxDQUFBeW9CLElBQUEsR0FBRztZQUNMLE9BQU8sSUFBSSxDQUFDSixJQUFJLENBQ2RsM0IsV0FBV3JNLE1BQU0sQ0FBQztnQkFDaEJ3akMsZ0JBQWdCO29CQUNkbGpDLFdBQVc7b0JBQ1hzakMsb0JBQW9CO2dCQUNyQjtZQUNGO1FBRUw7UUFFUSxLQUFBWCxXQUFXLEdBQUcsT0FBT3ZrQjtZQUMzQixPQUFPLElBQUksQ0FBQzZrQixJQUFJLENBQ2RsM0IsV0FBV3JNLE1BQU0sQ0FBQztnQkFDaEJ3akMsZ0JBQWdCO29CQUNkbGpDLFdBQVc7b0JBQ1h1akMsa0JBQWtCO3dCQUNoQi9kLFdBQVcsSUFBSSxDQUFDQSxTQUFTO3dCQUN6QnBIO29CQUNEO2dCQUNGO1lBQ0Y7UUFFTDtRQUVRLEtBQUE2a0IsSUFBSSxHQUFHLE9BQU90a0M7WUFDcEIsTUFBTSxJQUFJLENBQUNtakMsV0FBVyxJQUFHO1lBQ3pCLE1BQU0wQixVQUFVejNCLFdBQVc1TSxNQUFNLENBQUNSO1lBQ2xDLElBQUksSUFBSSxDQUFDNmlDLFFBQVEsQ0FBQzdJLFVBQVUsS0FBS29FLFVBQVVzRixJQUFJLEVBQUU7Z0JBQy9DLElBQUksQ0FBQ3J5QixNQUFNLENBQUMsU0FBUywyQ0FBMkN3ekI7Z0JBQ2hFOztZQUVGLElBQUksQ0FBQ3h6QixNQUFNLENBQUMsU0FBUyx1QkFBdUIsSUFBSSxDQUFDeXpCLFFBQVEsRUFBRSxFQUFFRDtZQUM3RCxJQUFJLENBQUNoQyxRQUFRLENBQUN5QixJQUFJLENBQUNsM0IsV0FBVzIzQixRQUFRLENBQUMva0M7UUFDekM7UUFFUSxJQUFTLENBQUFxa0MsU0FBQSxHQUFHO1lBQ2xCLE1BQU1XLFNBQVNoRDtZQUNmZ0QsT0FBT3ZELGFBQWEsQ0FBQyxJQUFJLENBQUM4QixpQkFBaUI7WUFDM0MsSUFBSSxDQUFDQSxpQkFBaUIsR0FBR3lCLE9BQU8xRCxXQUFXLENBQUM7Z0JBQzFDLElBQUksQ0FBQ29ELElBQUksR0FBR2hsQixLQUFLLENBQUMsQ0FBQ25GO29CQUNqQixJQUFJLENBQUNsSixNQUFNLENBQUMsU0FBUywyQ0FBMkNrSjtnQkFDbEU7WUFDRixHQUFHLElBQUksQ0FBQ2lvQixnQkFBZ0I7UUFDMUI7UUFFUSxJQUF1QixDQUFBUyx1QkFBQSxHQUFHO1lBQ2hDM2QsYUFBYSxJQUFJLENBQUNrZSxzQkFBc0I7WUFDeEMsSUFBSSxDQUFDQSxzQkFBc0IsR0FBR3R4QixXQUFXO2dCQUN2QyxJQUFJLElBQUksQ0FBQzh3QixvQkFBb0IsRUFBRTtvQkFDN0IsTUFBTWlDLHVCQUNKLElBQUlsaUMsT0FBT2EsT0FBTyxLQUFLLElBQUksQ0FBQ28vQixvQkFBb0IsQ0FBQ3AvQixPQUFPO29CQUUxRCxJQUFJcWhDLHVCQUF1QixJQUFJLENBQUN4QyxvQkFBb0IsRUFBRTt3QkFDcEQsSUFBSSxDQUFDcnFCLEtBQUssQ0FDUjhwQixnQkFBZ0JnRCwwQkFBMEIsRUFDMUMsNERBQTRELElBQUksQ0FBQ3pDLG9CQUFvQixJQUFJOzs7WUFJakcsR0FBRyxJQUFJLENBQUNBLG9CQUFvQjtRQUM5QjtRQTlVRSxJQUFJLENBQUMzUSxVQUFVLEdBQUdBO1FBQ2xCLElBQUksQ0FBQ2pMLFNBQVMsR0FBR0EsYUFBYTFUO1FBQzlCLElBQUksQ0FBQ2t2QixhQUFhLEdBQUdBO1FBQ3JCLElBQUksQ0FBQ0YsV0FBVyxHQUFHQTtRQUNuQixNQUFNLEVBQUVXLE1BQU0sRUFBRTJCLEtBQUssRUFBRSxHQUFHdEM7UUFDMUIsSUFBSSxDQUFDMkMsUUFBUSxHQUFHaEMsT0FBT3FDLFNBQVM7UUFDaEMsSUFBSSxDQUFDL0MsbUJBQW1CLEdBQUdBO1FBQzNCLElBQUksQ0FBQ25vQixNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDNUksTUFBTSxHQUFHK0UsVUFBVTtZQUFDO1lBQWE2RDtTQUFPO1FBQzdDLElBQUksQ0FBQ3BELEdBQUcsR0FBR2xGLG1CQUFtQjtZQUM1QmpCLFNBQVNveUIsT0FBT3NDLEdBQUc7WUFDbkJDLGNBQWM7Z0JBQ1p0MEIsWUFBWTtvQkFDVnUwQixlQUFlLENBQVUsU0FBQWIsTUFBTzs7Z0JBRWxDdHVCLGtCQUFrQixXQUFXL0Usa0JBQWtCLElBQUksQ0FBQ0MsTUFBTSxFQUFFO2FBQzdELENBQUNtRixNQUFNLENBQUMsQ0FBQ3BXLElBQU0sQ0FBQyxDQUFDQTtRQUNuQjs7Ozs7OztRQVFELElBQUksQ0FBQ2t5QixxQkFBcUIsR0FBR1IsV0FBV3RYLEVBQUUsQ0FBQyxjQUFjLENBQUN0SztZQUN4RCxJQUFJLENBQUNtaUIsZ0JBQWdCLENBQUMzdkIsSUFBSSxDQUFDd047UUFDN0I7OztRQUlBLElBQUksQ0FBQ3l6Qix5QkFBeUIsR0FBR3JCLGFBQWE5bkIsRUFBRSxDQUFDLG1CQUFtQixDQUFDRDtZQUNuRSxJQUFJLENBQUNBLEVBQUVnckIsTUFBTSxFQUFFO2dCQUNiLElBQUksQ0FBQ0Msb0JBQW9CLEdBQUdqRzttQkFDdkI7Z0JBQ0wsSUFBSSxDQUFDaUcsb0JBQW9CLEVBQUUxb0I7O1FBRS9CO1FBRUEsSUFBSSxDQUFDOGxCLGVBQWU7O0lBd0N0QixJQUFJNkMsWUFBUztRQUNYLE9BQU8sSUFBSSxDQUFDNUMsUUFBUSxDQUFDN0ksVUFBVSxLQUFLb0UsVUFBVXNGLElBQUk7O0lBR3BELElBQUlLLFdBQVE7UUFDVixPQUFPLElBQUksQ0FBQ3JCLGdCQUFnQixDQUFDem1CLE9BQU87OztBQWxIdEM7O0NBRUcsR0FDSWltQixnQkFBY3VCLGNBQUEsR0FBRztBQUN4Qjs7OztDQUlHLEdBQ0l2QixnQkFBMEJnRCwwQkFBQSxHQUFHO0FBQ3BDOzs7OztDQUtHLEdBQ0loRCxnQkFBa0J3RCxrQkFBQSxHQUFHO0FDNUo5Qjs7O0NBR0csR0FDSSxNQUFNQyxvQkFBb0IsQ0FBQ3J6QjtJQUNoQyxPQUFPLGVBQWVzekIsZUFBZXZkLEtBQXdCOztRQUUzRCxJQUFJQSxNQUFNM0osSUFBSSxDQUFDVSxFQUFFLEtBQUs5TSxLQUFLdXpCLGFBQWEsRUFBRTtRQUMxQyxNQUFNLEVBQUV4bUIsS0FBSyxFQUFFLEdBQUcvTTtRQUNsQixJQUNFK1YsTUFBTS9WLElBQUksQ0FBQ3dYLFVBQVUsQ0FBQzFLLEVBQUUsS0FBSzlNLEtBQUt1ekIsYUFBYSxJQUMvQ3htQixNQUFNQyxZQUFZLEtBQUtsQixhQUFhMG5CLE9BQU8sRUFDM0M7WUFDQSxNQUFNeHpCLEtBQUtvRSxJQUFJOztJQUVuQjtBQUNGO0FBRUE7OztDQUdHLEdBQ0ksTUFBTXF2QixvQkFBb0IsQ0FBQ3p6QjtJQUNoQyxPQUFPLGVBQWUwekIsZUFBZTNkLEtBQXdCOztRQUUzRCxJQUFJQSxNQUFNM0osSUFBSSxDQUFDVSxFQUFFLEtBQUs5TSxLQUFLdXpCLGFBQWEsRUFBRTtRQUMxQyxNQUFNLEVBQUV2ekIsTUFBTTJ6QixTQUFTLEVBQUUsR0FBRzVkO1FBQzVCLE1BQU0sRUFBRThCLFNBQVMrYixXQUFXLEVBQUUsR0FBR0Q7UUFFakMsSUFBSSxDQUFDQyxhQUFhO1lBQ2hCNXpCLEtBQUtqQixNQUFNLENBQ1QsUUFDQSwyREFDQWdYO1lBRUY7O1FBR0YsTUFBTThkLGFBQWFELFlBQVlFLFdBQVc7UUFDMUMsTUFBTSxFQUFFN2YsT0FBTyxFQUFFakgsWUFBWSxFQUFFLEdBQUdoTixLQUFLK00sS0FBSztRQUM1QyxJQUFJQyxpQkFBaUJsQixhQUFhMG5CLE9BQU8sRUFBRTtZQUN6Q3h6QixLQUFLakIsTUFBTSxDQUNULFFBQ0EsMEdBQ0FnWDtZQUVGOztRQUVGLElBQUkvVixLQUFLK3pCLGFBQWEsRUFBRTtZQUN0QixNQUFNQyx1QkFBdUIvZixRQUMxQi9QLE1BQU0sQ0FBQyxDQUFDekUsSUFBTUEsRUFBRXlaLE9BQU8sS0FBS2xaLEtBQUt1ekIsYUFBYSxFQUM5Q1UsS0FBSyxDQUFDLENBQUN4MEIsSUFBTW8wQixVQUFVLENBQUNwMEIsRUFBRXlaLE9BQU8sQ0FBQztZQUNyQyxJQUFJOGEsc0JBQXNCO2dCQUN4QmgwQixLQUFLakIsTUFBTSxDQUFDLFFBQVE7Z0JBQ3BCLE1BQU1pQixLQUFLa04sS0FBSyxDQUFDO29CQUFFQyxRQUFRO2dCQUF5Qjs7ZUFFakQ7WUFDTCxJQUFJMG1CLFVBQVUsQ0FBQ0YsVUFBVW5jLFVBQVUsQ0FBQzFLLEVBQUUsQ0FBQyxFQUFFO2dCQUN2QzlNLEtBQUtqQixNQUFNLENBQUMsUUFBUTtnQkFDcEIsTUFBTWlCLEtBQUtrTixLQUFLLENBQUM7b0JBQUVDLFFBQVE7Z0JBQXdCOzs7SUFHekQ7QUFDRjtBQUVBOztDQUVHLEdBQ0ksTUFBTSttQixpQkFBaUIsQ0FBQ2wwQjtJQUM3QixPQUFPLFNBQVNtMEI7UUFDZCxNQUFNLEVBQUVubkIsWUFBWSxFQUFFLEdBQUdoTixLQUFLK00sS0FBSztRQUNuQyxJQUNFQyxpQkFBaUJsQixhQUFhc29CLElBQUksSUFDbENwbkIsaUJBQWlCbEIsYUFBYW1CLElBQUksRUFDbEM7WUFDQWpOLEtBQ0drTixLQUFLLENBQUM7Z0JBQUVDLFFBQVE7Z0JBQTZCK2YsUUFBUTtZQUFLLEdBQzFEOWYsS0FBSyxDQUFDLENBQUMxSTtnQkFDTjFFLEtBQUtqQixNQUFNLENBQUMsU0FBUywwQ0FBMEMyRjtZQUNqRTs7SUFFTjtBQUNGO0FBRUE7O0NBRUcsR0FDSSxNQUFNMnZCLG9CQUFvQixDQUFDcjBCO0lBQ2hDLE9BQU9BLEtBQUtrSSxFQUFFLENBQUMsYUFBYSxPQUFPRDtRQUNqQyxJQUFJakksS0FBSytNLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYW1CLElBQUksRUFBRTtRQUNuRCxJQUFJOzs7O1lBSUZqTixLQUFLK00sS0FBSyxDQUFDcUgsVUFBVSxDQUFDLElBQUkzakI7WUFDMUIsTUFBTTBjLFNBQVN4YSxlQUFlLENBQUNzVixFQUFFa0YsTUFBTSxDQUFDO1lBQ3hDLE1BQU1uTixLQUFLa04sS0FBSyxDQUFDO2dCQUFFQyxRQUFRLHVCQUF1QkEsT0FBTSxDQUFFO1lBQUE7VUFDMUQsT0FBT3pJLEtBQUs7WUFDWjFFLEtBQUtqQixNQUFNLENBQ1QsU0FDQSxxREFDQTJGOztJQUdOO0FBQ0Y7QUMzR0E7Ozs7Q0FJRyxHQUNJLE1BQU00dkIseUJBQXlCLENBQUN2bkI7SUFDckMsT0FBTyxTQUFTd25CLG9CQUFvQnhlLEtBQXdCO1FBQzFELE1BQU0sRUFBRXllLGFBQWEsRUFBRSxHQUFHemU7UUFDMUIsSUFBSXllLGVBQWU7WUFDakIsTUFBTSxFQUFFQyxlQUFlLEVBQUVDLGVBQWUsRUFBRUMsY0FBYyxFQUFFLEdBQ3hESDtZQUVGLE1BQU03cEIsU0FBa0Q7Z0JBQ3RELENBQUMvZ0IsY0FBY2EsVUFBVSxHQUFHZ3FDO2dCQUM1QixDQUFDN3FDLGNBQWNjLFVBQVUsR0FBR2dxQztnQkFDNUIsQ0FBQzlxQyxjQUFjWSxXQUFXLEdBQUdtcUM7O1lBRy9CLE1BQU1DLG1CQUFtQjduQixNQUFNOFIsZUFBZSxDQUFDM2EsTUFBTSxDQUNuRCxDQUFDMndCLGFBQWVscUIsTUFBTSxDQUFDa3FCLFdBQVcsS0FBSztZQUV6QzltQyxPQUFPQyxPQUFPLENBQUMyYyxRQUFRaEYsT0FBTyxDQUFDLENBQUMsQ0FBQ2t2QixZQUFZLzBCLE1BQU07Z0JBQ2pELElBQUlBLFNBQVMsQ0FBQzgwQixpQkFBaUJwbUIsUUFBUSxDQUFDcW1CLGFBQThCO29CQUNwRUQsaUJBQWlCeGtDLElBQUksQ0FBQ3lrQzs7WUFFMUI7WUFFQTluQixNQUFNbUgsa0JBQWtCLENBQUMwZ0I7O0lBRTdCO0FBQ0Y7QUN0Qk8sTUFBTUUsZ0NBQWdDLENBQzNDdFYsWUFDQXpTO0lBRUEsT0FBT3lTLFdBQVd0WCxFQUFFLENBQUMsNEJBQTRCLENBQUNEO1FBQ2hELE1BQU0sRUFBRThzQix3QkFBd0IsRUFBRSxHQUFHOXNCO1FBQ3JDLElBQUksQ0FBQzhzQiwwQkFBMEI7UUFDL0Job0IsTUFBTW9JLGtCQUFrQixDQUN0QjRmLHlCQUF5QnRnQixNQUFNLENBQzdCLENBQUN1Z0IsU0FBU3JxQjtZQUNSLE1BQU0sRUFBRTRKLFNBQVMsRUFBRTBnQixpQkFBaUIsRUFBRSxHQUFHdHFCO1lBQ3pDcXFCLE9BQU8sQ0FBQ3pnQixVQUFVLEdBQUc7Z0JBQ25CMGdCOztZQUVGLE9BQU9EO1FBQ1QsR0FDQTtJQUdOO0FBQ0Y7QUFFQTs7O0NBR0csR0FDSSxNQUFNRSwrQkFBK0IsQ0FDMUMxVixZQUNBelM7SUFFQSxPQUFPeVMsV0FBV3RYLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQ0Q7UUFDM0MsTUFBTSxFQUFFcVEsZ0JBQWdCLEVBQUUsR0FBR3JRO1FBQzdCLElBQUlxUSxrQkFBa0I7WUFDcEJ2TCxNQUFNb0csbUJBQW1CLENBQUNtRixpQkFBaUJRLEtBQUs7WUFDaEQvTCxNQUFNMkcsNEJBQTRCLENBQUM0RSxpQkFBaUJTLFNBQVM7O0lBRWpFO0FBQ0Y7QUFFTyxNQUFNb2MsaUJBQWlCLENBQUMzVixZQUF3QnhmO0lBQ3JELE9BQU93ZixXQUFXdFgsRUFBRSxDQUFDLFNBQVMsQ0FBQ0Q7UUFDN0IsSUFBSUEsRUFBRS9FLEtBQUssSUFBSStFLEVBQUUvRSxLQUFLLENBQUNYLElBQUksS0FBS2hRLFVBQVU2aUMsVUFBVSxFQUFFO1FBRXRELElBQUksQ0FBQ3AxQixLQUFLcTFCLGtCQUFrQixDQUFDQyxhQUFhLENBQUMxckMsY0FBY00sY0FBYyxHQUFHO1lBQ3hFOFYsS0FBS2tOLEtBQUssQ0FBQztnQkFBRUMsUUFBUTtZQUFZLEdBQUlDLEtBQUssQ0FBQyxDQUFDMUk7Z0JBQzFDMUUsS0FBS2pCLE1BQU0sQ0FBQyxTQUFTLHlDQUF5QzJGO1lBQ2hFOztJQUVKO0FBQ0Y7QUFFQTs7Q0FFRyxHQUNJLE1BQU02d0IsdUJBQXVCLENBQUMvVjtJQUNuQyxPQUFPQSxXQUFXdFgsRUFBRSxDQUFDLFNBQVMsQ0FBQ0Q7UUFDN0IsSUFBSSxDQUFDQSxFQUFFL0UsS0FBSyxFQUFFO1FBQ2QsTUFBTW5FLFNBQVMrRSxVQUFVO1lBQUM7U0FBWTtRQUN0QyxNQUFNLEVBQUVaLEtBQUssRUFBRXN5QixpQkFBaUIsRUFBRSxHQUFHdnRCO1FBQ3JDbEosT0FBTyxTQUFTLHNCQUFzQjtZQUNwQ3dELE1BQU1oUSxTQUFTLENBQUMyUSxNQUFNWCxJQUFJLENBQUM7WUFDM0JpekIsbUJBQW1CNWlDLDBCQUEwQixDQUFDNGlDLGtCQUFrQjtZQUNoRTluQyxTQUFTd1YsTUFBTXhWLE9BQU87WUFDdEJ1WCxhQUFhL0IsTUFBTStCLFdBQVc7UUFDL0I7SUFDSDtBQUNGO0FBRUE7OztDQUdHLEdBQ0ksTUFBTXd3QixtQkFBbUIsQ0FBQzFvQjtJQUMvQixPQUFPLFNBQVMyb0IsY0FBY3p0QixDQUFjO1FBQzFDLE1BQU0sRUFBRWlPLElBQUksRUFBRSxHQUFHak87UUFDakI4RSxNQUFNa0osaUJBQWlCLENBQUNDO0lBQzFCO0FBQ0Y7QUNuRkE7Ozs7Q0FJRyxHQUNJLE1BQU15Zix1QkFBdUIsQ0FBQzMxQjtJQUNuQyxPQUFPQSxLQUFLa0ksRUFBRSxDQUFDLG9CQUFvQixPQUFPNk47UUFDeEMsTUFBTSxFQUFFNmYsS0FBSyxFQUFFL29CLElBQUksRUFBRTBILFNBQVMsRUFBRSxHQUFHd0I7UUFDbkMsTUFBTSxFQUFFK0UsZ0JBQWdCLEVBQUUsR0FBRzlhLEtBQUsrTSxLQUFLO1FBQ3ZDLElBQ0U2b0IsVUFBVW5qQyxxQkFBcUJvakMsVUFBVSxJQUN6Q3RoQixjQUFjdUcsa0JBQWtCdkcsV0FDaEM7WUFDQSxNQUFNeFYsU0FBU2lCLEtBQUtqQixNQUFNO1lBQzFCQSxPQUNFLFFBQ0EsQ0FBdUIsc0JBQUF6TSxTQUFTLENBQUN1YSxLQUFLLENBQTBCO1lBRWxFLElBQUk7Z0JBQ0YsSUFBSUEsU0FBU3ZhLFVBQVVtYyxLQUFLLEVBQUU7b0JBQzVCLE1BQU16TyxLQUFLODFCLE1BQU0sQ0FBQ0MsT0FBTzt1QkFDcEIsSUFBSWxwQixTQUFTdmEsVUFBVXFjLEtBQUssRUFBRTtvQkFDbkMsTUFBTTNPLEtBQUtnMkIsVUFBVSxDQUFDRCxPQUFPO3VCQUN4QixJQUNMbHBCLFNBQVN2YSxVQUFVdWMsWUFBWSxJQUMvQmhDLFNBQVN2YSxVQUFVeWMsa0JBQWtCLEVBQ3JDO29CQUNBLE1BQU0vTyxLQUFLaTJCLFdBQVcsQ0FBQ0YsT0FBTzt1QkFDekI7b0JBQ0xoM0IsT0FDRSxRQUNBLHVDQUNBek0sU0FBUyxDQUFDdWEsS0FBSzs7Y0FHbkIsT0FBTzNKLE9BQU87Z0JBQ2RuRSxPQUFPLFNBQVMsNkJBQTZCbUU7OztJQUduRDtBQUNGO0FDOUNBOzs7OztDQUtHLEdBQ0ksTUFBTWd6QixrQkFBa0IsQ0FBSUMsS0FBVSxHQUFHam1DO0lBQzlDLEtBQUssTUFBTXBDLEtBQUtvQyxPQUFRO1FBQ3RCLElBQUksQ0FBQ2ltQyxJQUFJM25CLFFBQVEsQ0FBQzFnQixJQUFJO1lBQ3BCcW9DLElBQUkvbEMsSUFBSSxDQUFDdEM7OztJQUdiLE9BQU9xb0M7QUFDVDtBQ0lBOztDQUVHLEdBQ0ksTUFBTUMseUJBQXlCLENBQUNycEI7SUFDckMsT0FBTyxTQUFTc3BCLG9CQUFvQnB1QixDQUFvQjtRQUN0RCxNQUFNLEVBQUUwTSxXQUFXLEVBQUUsR0FBRzFNO1FBQ3hCLElBQUksQ0FBQzBNLGFBQWE7Ozs7Ozs7OztRQVNsQixNQUFNaEMsaUJBQWlCMmpCLHdCQUF3QnZwQixPQUFPNEg7UUFDdEQ1SCxNQUFNaUksc0JBQXNCLENBQzFCTCxZQUFZSixTQUFTLEVBQ3JCeG1CLE9BQU82cUIsTUFBTSxDQUlYakUsYUFBYWhDLGdCQUFnQjtZQUM3QnhDLHlCQUF5QjtnQkFDdkJDLFlBQVlwVCxnQkFBZ0J1VCxPQUFPO2dCQUNuQ3NJLGtCQUFrQjdiLGdCQUFnQnVULE9BQU87WUFDMUM7UUFDRjtJQUVMO0FBQ0Y7QUFFQTs7Q0FFRyxHQUNJLE1BQU1nbUIsdUJBQXVCLENBQUN4cEI7SUFDbkMsT0FBTyxTQUFTeXBCLGtCQUFrQnZ1QixDQUFrQjtRQUNsRCxNQUFNLEVBQUUwTSxXQUFXLEVBQUUsR0FBRzFNO1FBQ3hCLElBQUksQ0FBQzBNLGFBQWE7UUFFbEI1SCxNQUFNNEcsZUFBZSxDQUFDLENBQUNDLGVBQ3JCQSxhQUFhMVAsTUFBTSxDQUFDLENBQUNvSyxJQUFNQSxFQUFFaUcsU0FBUyxLQUFLSSxZQUFZSixTQUFTO0lBRXBFO0FBQ0Y7QUFFQTs7Q0FFRyxHQUNJLE1BQU1raUIsMEJBQTBCLENBQUMxcEI7SUFDdEMsT0FBTyxTQUFTMnBCLHFCQUFxQnp1QixDQUFxQjtRQUN4RCxNQUFNLEVBQUUwTSxXQUFXLEVBQUUsR0FBRzFNO1FBQ3hCLElBQUksQ0FBQzBNLGFBQWE7UUFDbEI1SCxNQUFNNkgsaUJBQWlCLENBQUNELFlBQVlKLFNBQVMsRUFBRUk7SUFDakQ7QUFDRjtBQUVBOzs7Q0FHRyxHQUNJLE1BQU1naUIsc0JBQXNCLENBQUM1cEI7SUFDbEMsT0FBTyxTQUFTNnBCLGlCQUFpQjN1QixDQUFpQjtRQUNoRCxNQUFNLEVBQUU0RSxJQUFJLEVBQUUwSCxTQUFTLEVBQUUsR0FBR3RNOzs7OztRQUs1QixJQUFJQSxFQUFFME0sV0FBVyxFQUFFO1lBQ2pCLE1BQU1oQyxpQkFBaUIyakIsd0JBQXdCdnBCLE9BQU85RSxFQUFFME0sV0FBVztZQUNuRSxNQUFNQSxjQUFjNW1CLE9BQU82cUIsTUFBTSxDQUFDM1EsRUFBRTBNLFdBQVcsRUFBRWhDO1lBQ2pENUYsTUFBTWlJLHNCQUFzQixDQUFDVCxXQUFXSTtlQUNuQztZQUNMNUgsTUFBTTZILGlCQUFpQixDQUFDTCxXQUFXLENBQUNqRyxJQUFPO29CQUN6Q0MsaUJBQWlCMm5CLGdCQUFnQjsyQkFBSTVuQixFQUFFQyxlQUFlO3FCQUFDLEVBQUUxQjtnQkFDMUQ7O0lBRUw7QUFDRjtBQUVBOzs7Q0FHRyxHQUNJLE1BQU1ncUIsd0JBQXdCLENBQUM5cEI7SUFDcEMsT0FBTyxTQUFTK3BCLG1CQUFtQjd1QixDQUFtQjtRQUNwRCxNQUFNLEVBQUU0RSxJQUFJLEVBQUUwSCxTQUFTLEVBQUUsR0FBR3RNOztRQUU1QixJQUFJQSxFQUFFME0sV0FBVyxFQUFFO1lBQ2pCLE1BQU1oQyxpQkFBaUIyakIsd0JBQXdCdnBCLE9BQU85RSxFQUFFME0sV0FBVztZQUNuRSxNQUFNQSxjQUFjNW1CLE9BQU82cUIsTUFBTSxDQUFDM1EsRUFBRTBNLFdBQVcsRUFBRWhDO1lBQ2pENUYsTUFBTWlJLHNCQUFzQixDQUFDVCxXQUFXSTtlQUNuQztZQUNMNUgsTUFBTTZILGlCQUFpQixDQUFDTCxXQUFXLENBQUNqRyxJQUFPO29CQUN6Q0MsaUJBQWlCRCxFQUFFQyxlQUFlLENBQUNySyxNQUFNLENBQUMsQ0FBQzBCLElBQU1BLE1BQU1pSDtnQkFDeEQ7O0lBRUw7QUFDRjtBQUVBOzs7OztDQUtHLEdBQ0gsTUFBTXlwQiwwQkFBMEIsQ0FDOUJ2cEIsT0FDQTRIO0lBRUEsTUFBTW9pQixlQUFlaHFCLE1BQU0ySixrQkFBa0IsQ0FBQy9CLFlBQVlnQyxpQkFBaUI7SUFDM0UsSUFBSSxDQUFDb2dCLGFBQWE5a0MsTUFBTSxFQUFFO0lBQzFCLE1BQU0ra0MsbUJBQWdEO0lBQ3RELEtBQUssTUFBTW5nQixVQUFVa2dCLGFBQWM7UUFDakMsTUFBTWxiLE1BQU0rRyxnQ0FBZ0MvTCxPQUFPdkIsU0FBUztRQUM1RCxJQUFJLENBQUN1RyxLQUFLO1FBQ1ZtYixnQkFBZ0IsQ0FBQ25iLElBQUksR0FBR2hGLE9BQU8wUCxLQUFLOztJQUV0QyxPQUFPeVE7QUFDVDtBQ3BJQTs7Q0FFRyxHQUNJLE1BQU1DLDhCQUE4QixDQUN6Q3pYLFlBQ0F6UztJQUVBLE9BQU95UyxXQUFXdFgsRUFBRSxDQUFDLDBCQUEwQixDQUFDRDtRQUM5QyxNQUFNLEVBQUVzTSxTQUFTLEVBQUUsR0FBR3RNO1FBQ3RCLElBQUlzTSxjQUFjeEgsTUFBTXFDLGVBQWUsRUFBRW1GLFdBQVc7UUFDcER4SCxNQUFNNEcsZUFBZSxDQUFDLENBQUNDLGVBQ3JCQSxhQUFhempCLEdBQUcsQ0FBQyxDQUFDd2tCOztnQkFFaEIsSUFBSUEsWUFBWUosU0FBUyxLQUFLQSxXQUFXO29CQUN2QyxPQUFPO3dCQUNMLEdBQUdJLFdBQVc7d0JBQ2R0RixtQkFBbUI7Ozs7Z0JBSXZCLElBQUlzRixZQUFZdEYsaUJBQWlCLEVBQUU7b0JBQ2pDLE9BQU87d0JBQ0wsR0FBR3NGLFdBQVc7d0JBQ2R0RixtQkFBbUI7OztnQkFHdkIsT0FBT3NGLGFBQVk7O0lBR3pCO0FBQ0Y7QUFFQTs7Q0FFRyxHQUNJLE1BQU11aUIseUJBQXlCLENBQ3BDMVgsWUFDQXpTO0lBRUEsT0FBT3lTLFdBQVd0WCxFQUFFLENBQUMscUJBQXFCLENBQUNEO1FBQ3pDLE1BQU0sRUFBRWt2QixXQUFXLEVBQUUsR0FBR2x2QjtRQUN4QjhFLE1BQU1vSSxrQkFBa0IsQ0FDdEJnaUIsWUFBWTFpQixNQUFNLENBQWdDLENBQUN1Z0IsU0FBU3JhO1lBQzFEcWEsT0FBTyxDQUFDcmEsUUFBUXBHLFNBQVMsQ0FBQyxHQUFHO2dCQUMzQjZpQixZQUFZemMsUUFBUTNiLEtBQUs7Z0JBQ3pCdVEsWUFBWW9MLFFBQVFwTCxVQUFVOztZQUVoQyxPQUFPeWxCO1FBQ1QsR0FBRztJQUVQO0FBQ0Y7QUN0QkE7Ozs7O0NBS0csR0FDSSxNQUFNcUMsd0JBQXdCLENBQUNyM0IsTUFBWXdmO0lBQ2hELE1BQU16UyxRQUFRL00sS0FBSytNLEtBQUs7SUFDeEIsTUFBTWlKLGdCQUFnQjtRQUNwQmhXLEtBQUtrSSxFQUFFLENBQUMsY0FBY2dzQixlQUFlbDBCO1FBQ3JDcTBCLGtCQUFrQnIwQjtRQUVsQm0xQixlQUFlM1YsWUFBWXhmO1FBQzNCdTFCLHFCQUFxQi9WO1FBQ3JCc1YsOEJBQThCdFYsWUFBWXpTO1FBQzFDbW9CLDZCQUE2QjFWLFlBQVl6UztRQUV6Qy9NLEtBQUtrSSxFQUFFLENBQUMscUJBQXFCa3VCLHVCQUF1QnJwQjtRQUNwRC9NLEtBQUtrSSxFQUFFLENBQUMsbUJBQW1CcXVCLHFCQUFxQnhwQjtRQUNoRC9NLEtBQUtrSSxFQUFFLENBQUMsc0JBQXNCdXVCLHdCQUF3QjFwQjtRQUV0RC9NLEtBQUtrSSxFQUFFLENBQUMsa0JBQWtCeXVCLG9CQUFvQjVwQjtRQUM5Qy9NLEtBQUtrSSxFQUFFLENBQUMsb0JBQW9CMnVCLHNCQUFzQjlwQjtRQUVsRG1xQix1QkFBdUIxWCxZQUFZelM7UUFDbkNrcUIsNEJBQTRCelgsWUFBWXpTO1FBRXhDL00sS0FBS2tJLEVBQUUsQ0FBQyxxQkFBcUJvc0IsdUJBQXVCdm5CO1FBQ3BEL00sS0FBS2tJLEVBQUUsQ0FBQyxlQUFldXRCLGlCQUFpQjFvQjtRQUV4QzRvQixxQkFBcUIzMUI7S0FDdEI7SUFFRCxJQUFJQSxLQUFLczNCLE9BQU8sRUFBRTs7UUFFaEJ0aEIsY0FBYzVsQixJQUFJLENBQUNtbkMsaUNBQWlDdjNCOztJQUd0RCxPQUFPO1FBQ0xnVyxjQUFjclEsT0FBTyxDQUFDLENBQUNxRixjQUFnQkE7SUFDekM7QUFDRjtBQUVBOzs7O0NBSUcsR0FDSSxNQUFNdXNCLG1DQUFtQyxDQUFDdjNCO0lBQy9DLE1BQU13M0Isd0JBSUY7UUFDRixpQkFBaUJuRSxrQkFBa0JyekI7UUFDbkMsaUJBQWlCeXpCLGtCQUFrQnp6Qjs7SUFHckMsTUFBTWdXLGdCQUFnQmpvQixPQUFPcW5CLElBQUksQ0FBQ29pQix1QkFBdUJybkMsR0FBRyxDQUFDLENBQUM0bEI7UUFDNUQsTUFBTXpPLFlBQVl5TztRQUNsQixPQUFPL1YsS0FBS2tJLEVBQUUsQ0FBQ1osV0FBV2t3QixxQkFBcUIsQ0FBQ2x3QixVQUFVO0lBQzVEO0lBRUEsT0FBTztRQUNMME8sY0FBY3JRLE9BQU8sQ0FBQyxDQUFDcUYsY0FBZ0JBO0lBQ3pDO0FBQ0Y7QUNoR0E7Ozs7Q0FJRyxHQUNJLE1BQU15c0IsVUFBVSxDQUFDMWpCO0lBQ3RCLE1BQU02ZCxRQUFvQixFQUFFO0lBQzVCN2QsT0FBT3BPLE9BQU8sQ0FBQyxDQUFDM0U7UUFDZDR3QixNQUFNeGhDLElBQUksQ0FBQzRRO0lBQ2I7SUFDQSxPQUFPNHdCO0FBQ1Q7QUFFTyxNQUFNOEYsa0JBQWtCLENBQUNDO0lBQzlCLE1BQU0sRUFBRUMsR0FBRyxFQUFFLEdBQUdDLFVBQVUsR0FBR0Y7SUFDN0IsTUFBTUcsVUFBVUMsV0FBV0g7SUFDM0IsTUFBTUksYUFBYUMsY0FBY0w7SUFFakMsT0FBTztRQUNMRTtRQUNBRTtRQUNBLEdBQUdILFFBQVE7O0FBRWY7QUFFTyxNQUFNRSxhQUFhLENBQUNIO0lBQ3pCLE9BQU9BLE9BQU9BLElBQUkvcUIsSUFBSSxLQUFLcmEsUUFBUTBsQyxLQUFLLEdBQ3BDLGlCQUNBTixPQUFPQSxJQUFJL3FCLElBQUksS0FBS3JhLFFBQVEybEMsWUFBWSxHQUN0Qyx3QkFDQTtBQUNSO0FBRU8sTUFBTUYsZ0JBQWdCLENBQUNMO0lBQzVCLE9BQU9BLE1BQU0sR0FBR0EsSUFBSVEsS0FBSyxDQUFJLEdBQUFSLElBQUlTLEtBQUssSUFBSVQsSUFBSS9pQixLQUFLLEVBQUUsR0FBRztBQUMxRDtBQ3RDQTs7Q0FFRyxHQUNJLE1BQU15akIsV0FBVztJQUN0QixJQUFJLE9BQU83MUIsY0FBYyxhQUFhLE9BQU87SUFDN0MsT0FBTyxpQ0FBaUM4MUIsSUFBSSxDQUFDOTFCLFVBQVUrMUIsU0FBUyxJQUFJO0FBQ3RFO0FBRUE7O0NBRUcsR0FDSSxNQUFNQyxZQUFZO0lBQ3ZCLElBQUksT0FBT2gyQixjQUFjLGFBQWEsT0FBTztJQUM3QyxPQUFPQSxVQUFVKzFCLFNBQVMsRUFBRWhxQixTQUFTO0FBQ3ZDO0FBRUE7O0NBRUcsR0FDSSxNQUFNa3FCLFdBQVc7SUFDdEIsSUFBSSxPQUFPajJCLGNBQWMsYUFBYSxPQUFPO0lBQzdDLE9BQU9BLFVBQVUrMUIsU0FBUyxFQUFFaHFCLFNBQVM7QUFDdkM7Ozs7Ozs7QUM0Q0E7O0NBRUcsR0FDSSxNQUFNbXFCLHNCQUFzQixDQUFDLEVBQ2xDQyxVQUFVLEVBQ1ZDLFNBQVMsRUFDVDlyQixLQUFLLEVBQ0wrckIsVUFBVSxFQUNWQyxzQkFBc0IsSUFBSSxFQUNSO0lBQ2xCLE1BQU1oNkIsU0FBUytFLFVBQVU7UUFBQztLQUFRO0lBQ2xDLE1BQU1rMUIsc0JBQXNCLE9BQzFCNXJDLE1BQ0FpekI7UUFFQSxJQUFJanpCLFNBQVMsZ0JBQWdCd3JDLFlBQVk7WUFDdkMsT0FBT0EsV0FBV3hZLFFBQVEsQ0FBQ0M7ZUFDdEIsSUFBSWp6QixTQUFTLGVBQWV5ckMsV0FBVztZQUM1QyxPQUFPQSxVQUFVelksUUFBUSxDQUFDQztlQUNyQjtZQUNMLE9BQU9yeEI7O0lBRVg7SUFFQSxNQUFNaXFDLG9CQUFvQixPQUN4QjdyQyxNQUNBaThCO1FBRUEsTUFBTXhKLEtBQUt6eUIsU0FBUyxlQUFld3JDLGFBQWFDO1FBQ2hELElBQUksQ0FBQ2haLElBQUksT0FBTyxFQUFFO1FBQ2xCLE1BQU1xWixpQkFBZ0MsRUFBRTtRQUN4QyxLQUFLLE1BQU0zUyxTQUFTOEMsT0FBUTtZQUMxQixNQUFNdFYsU0FBUyxNQUFNOEwsR0FBR08sUUFBUSxDQUFDbUc7WUFDakMsTUFBTXFMLFFBQVF1SCxVQUFVcGxCLFFBQVE7O2dCQUU5QnFsQixXQUFXN1MsTUFBTW41QixJQUFJO2dCQUNyQkE7WUFDRDtZQUNEOHJDLGVBQWU5b0MsSUFBSSxDQUFDd2hDOztRQUV0QixPQUFPc0g7SUFDVDtJQUVBLE1BQU1HLHlCQUF5QixDQUFDOWtCO1FBQzlCK2tCLGtCQUFrQnJrQixHQUFHLENBQUNWO1FBQ3RCLEtBQUsxSztJQUNQO0lBRUEsTUFBTTB2Qix3QkFBd0IsQ0FBQ2hsQjtRQUM3QitrQixrQkFBa0JqdkIsTUFBTSxDQUFDa0s7UUFDekIsS0FBSzFLO0lBQ1A7SUFFQSxNQUFNeXZCLG9CQUFvQixJQUFJRTtJQUU5Qjs7S0FFRyxHQUNILE1BQU0zdkIsTUFBTTtRQUNWLE1BQU00dkIsbUJBQTRDO1FBQ2xELElBQUlILGtCQUFrQnRULElBQUksR0FBRyxHQUFHO1lBQzlCLE1BQU0wVCxhQUFhLElBQUlGLElBQUlGO1lBQzNCLEtBQUssTUFBTTNrQixlQUFlNUgsTUFBTTZHLFlBQVksQ0FBRTtnQkFDNUMsSUFBSSxDQUFDOGxCLFdBQVd0WCxHQUFHLENBQUN6TixZQUFZSixTQUFTLEdBQUc7Z0JBQzVDLE1BQU0sRUFDSm9sQixXQUFXLEVBQ1hoaEIsa0JBQWtCLEVBQ2xCcEUsU0FBUyxFQUNUa0csTUFBTSxFQUNObWYsV0FBVyxFQUNaLEdBQUdqbEI7Z0JBQ0osTUFBTXZuQixPQUFPdXJCLHFCQUFxQixjQUFjO2dCQUNoRCxJQUFJO29CQUNGLE1BQU0wUSxTQUFTMVEscUJBQ1hrZ0IsV0FBV3RQLHdCQUF3QixFQUFFLEdBQ3JDOzJCQUNNcVEsYUFBYUMsb0JBQW9CLEVBQUU7MkJBQ25DRixhQUFhRyxvQkFBb0IsRUFBRTtxQkFDeEM7b0JBQ0xMLGdCQUFnQixDQUFDbGxCLFVBQVUsR0FBRyxNQUFNMGtCLGtCQUFrQjdyQyxNQUFNaThCO2tCQUM1RCxPQUFPcGhCLEdBQUc7b0JBQ1ZsSixPQUFPLFFBQVEsQ0FBcUIsb0JBQUEzUixLQUFrQixhQUFBcXRCLE9BQVEsR0FBRXhTOzs7O1FBS3RFLE1BQU0sQ0FBQzh4QixpQkFBaUJDLGVBQWUsR0FBRyxNQUFNdDZCLFFBQVF1NkIsR0FBRyxDQUFDO1lBQzFEckIsV0FDR3hZLFFBQVEsR0FDUm5XLElBQUksQ0FBQyxDQUFDOEosU0FDTG9sQixVQUFVcGxCLFFBQVE7b0JBQ2hCM21CLE1BQU07b0JBQ05nc0MsV0FBVztvQkFDWFA7Z0JBQ0QsSUFFRjV1QixJQUFJLENBQUNpd0I7WUFDUnJCLFlBQ0lBLFVBQ0d6WSxRQUFRLEdBQ1JuVyxJQUFJLENBQUMsQ0FBQzhKLFNBQ0xvbEIsVUFBVXBsQixRQUFRO29CQUNoQjNtQixNQUFNO29CQUNOZ3NDLFdBQVc7b0JBQ1hQO2dCQUNELElBRUY1dUIsSUFBSSxDQUFDaXdCLGFBQ1JDO1NBQ0w7UUFFRCxNQUFNLENBQUNDLG9CQUFvQkMsa0JBQWtCLEdBQUcsTUFBTTM2QixRQUFRdTZCLEdBQUcsQ0FBQztZQUNoRWpCLG9CQUFvQjtZQUNwQkgsWUFBWUcsb0JBQW9CLGVBQWVocUM7U0FDaEQ7UUFFRCtkLE1BQU0rRyxrQkFBa0IsQ0FBQztZQUN2QmdsQjtZQUNBa0I7WUFDQUQ7WUFDQUs7WUFDQUM7WUFDQXptQixjQUFjNmxCO1lBQ2RhLFdBQVc3cEMsS0FBS0gsR0FBRztRQUNwQjtJQUNIO0lBRUEsSUFBSXdoQztJQUNKLElBQUlpSCxzQkFBc0IsR0FBRztRQUMzQixNQUFNd0IsT0FBTztZQUNYLE1BQU0xd0IsTUFBTXVELEtBQUssQ0FBQyxDQUFDbkY7Z0JBQ2pCbEosT0FBTyxTQUFTLDJCQUEyQmtKO1lBQzdDO1lBQ0E2cEIsWUFBWWx5QixXQUFXMjZCLE1BQU14QjtRQUMvQjtRQUNBLEtBQUt3Qjs7SUFHUCxNQUFNMTBCLE9BQU87UUFDWCxJQUFJaXNCLFdBQVc7WUFDYjllLGFBQWE4ZTs7SUFFakI7SUFFQSxPQUFPO1FBQ0xrSDtRQUNBQztRQUNBSTtRQUNBRTtRQUNBMXpCOztBQUVKO0FBaUJBOzs7OztDQUtHLEdBQ0gsTUFBTXN6QixZQUFZLENBQ2hCcGxCLFFBQ0E0VztJQUVBLE1BQU0sRUFBRXlPLFNBQVMsRUFBRWhzQyxJQUFJLEVBQUV5ckMsU0FBUyxFQUFFLEdBQUdsTztJQUN2QyxNQUFNeGxCLFlBQVkvWCxTQUFTLGVBQWUsZ0JBQWdCO0lBQzFELE1BQU13a0MsUUFBUTZGLFFBQVExakI7SUFDdEIsTUFBTWlYLFVBQVU0RyxNQUNiMXRCLE1BQU0sQ0FDTCxDQUFDczJCLE9BQ0NBLEtBQUszdEIsSUFBSSxLQUFLMUgsYUFDYnExQixLQUEyQnB0QyxJQUFJLEtBQUtnc0MsV0FFeENqcEMsR0FBRyxDQUFDLENBQUNxcUM7UUFDSixNQUFNQyxpQkFBaUJEO1FBR3ZCLE1BQU03VixRQUFRaU4sTUFBTXJpQyxJQUFJLENBQ3RCLENBQUN5UixJQUFNQSxFQUFFNkwsSUFBSSxLQUFLLFdBQVc3TCxFQUFFOEwsRUFBRSxLQUFLMnRCLGVBQWVDLE9BQU87UUFHOUQsTUFBTXA3QixZQUFZc3lCLE1BQU1yaUMsSUFBSSxDQUMxQixDQUFDeVIsSUFBTUEsRUFBRTZMLElBQUksS0FBSyxlQUFlN0wsRUFBRThMLEVBQUUsS0FBSzJ0QixlQUFlRSxXQUFXO1FBR3RFLElBQUlDO1FBQ0osSUFBSXQ3QixhQUFhQSxVQUFVdTdCLFNBQVMsS0FBSyxhQUFhO1lBQ3BELE1BQU1DLGdCQUFnQmxKLE1BQU1yaUMsSUFBSSxDQUM5QixDQUFDeVIsSUFDQ0EsRUFBRTZMLElBQUksS0FBSyxvQkFDWDdMLEVBQUU4TCxFQUFFLEtBQUt4TixVQUFVeTdCLHVCQUF1QjtZQUU5Q0gsZ0JBQWdCRSxlQUFlRTs7UUFHakMsSUFBSTFsQjtRQUNKLElBQUlsb0IsU0FBUyxlQUFleXJDLFdBQVc7WUFDckMsTUFBTW9DLFVBQVV4QztZQUNoQixNQUFNeUMsY0FBY3RKLE1BQU1yaUMsSUFBSSxDQUM1QixDQUFDeVIsSUFDQ0EsRUFBRTZMLElBQUksS0FBSztnQkFFVm91QixDQUFBQSxVQUFVLE9BQU9qNkIsRUFBRThMLEVBQUUsS0FBSzJ0QixlQUFlVSxhQUFhO1lBRTNELElBQUlELGFBQWE7Z0JBQ2Y1bEIsWUFBWXVqQixVQUFValIsWUFBWSxDQUFDc1QsWUFBWUUsZUFBZTs7O1FBSWxFLE9BQU87WUFDTEMsV0FBV1osZUFBZVksU0FBUztZQUNuQ0MsZUFBZWIsZUFBZWEsYUFBYTtZQUMzQzNXLE9BQU9BLE9BQU8rRDtZQUNkc1Msc0JBQXNCSjtZQUN0QlcsYUFBYWQsZUFBZWMsV0FBVztZQUN2Q0MsWUFBWWYsZUFBZWUsVUFBVTtZQUNyQ0MsaUJBQWlCaEIsZUFBZWdCLGVBQWU7WUFDL0NDLFFBQVFqQixlQUFlaUIsTUFBTTtZQUM3QnR1QyxNQUFNcXRDLGVBQWVydEMsSUFBSTtZQUN6Qit0QyxlQUFlVixlQUFlVSxhQUFhOztZQUUzQ1EseUJBQXlCbEIsZUFBZWtCLHVCQUF1QjtZQUMvRHBZLEtBQUtrWCxlQUFlbFgsR0FBRztZQUN2QnFZLE1BQU1uQixlQUFlbUIsSUFBSTtZQUN6QnRtQjs7SUFFSjtJQUVGLE9BQU87UUFDTHVtQixVQUFVOW5CO1FBQ1ZpWDtRQUNBc1AsV0FBVzdwQyxLQUFLSCxHQUFHOztBQUV2QjtBQUVBLE1BQU02cEMsZ0JBQWdCLENBQUN2STtJQUNyQixPQUFPO1FBQ0xrSyxXQUFXbEssU0FBUztZQUFFNUcsU0FBUyxFQUFFO1lBQUVzUCxXQUFXN3BDLEtBQUtILEdBQUc7UUFBRTtRQUN4RHlyQyxnQkFBZ0I7UUFDaEJDLG9CQUFvQjtRQUNwQkMsbUJBQW1CO1FBQ25CQywwQkFBMEI7UUFDMUJDLDBCQUEwQjtRQUMxQkMsbUJBQW1CO1FBQ25CQyxvQkFBb0I7UUFDcEJDLHdCQUF3QjtRQUN4QjNYLE9BQU87UUFDUDRYLG1CQUFtQjtRQUNuQmpDLFdBQVc3cEMsS0FBS0gsR0FBRzs7QUFFdkI7QUFFQTs7OztDQUlHLEdBQ0gsTUFBTTRwQyxZQUFZLENBQUN0STtJQUNqQixNQUFNNEssa0JBQWtCckMsY0FBY3ZJO0lBRXRDLElBQUk2SyxVQUFVLENBQUM7SUFDZixNQUFNQyxPQUFPLENBQUNDLEdBQVd2WixJQUFjdVosSUFBSXZaO0lBRTNDLE1BQU0rWSwyQkFBMkIsSUFBSTNDO0lBQ3JDLE1BQU14TyxVQUFVNEcsTUFBTTVHLE9BQU87SUFDN0IsTUFBTWpYLFNBQVNpWCxRQUFRdlcsTUFBTSxDQUFDLENBQUNlLEtBQUtvbkI7UUFDbENwbkIsSUFBSXVtQixjQUFjLElBQUlhLE9BQU92QixTQUFTLElBQUk7UUFDMUM3bEIsSUFBSXdtQixrQkFBa0IsSUFBSVksT0FBT3RCLGFBQWEsSUFBSTtRQUNsRDlsQixJQUFJeW1CLGlCQUFpQixJQUFJVyxPQUFPbEIsTUFBTSxJQUFJO1FBQzFDbG1CLElBQUkwbUIsd0JBQXdCLElBQUlVLE9BQU81QixvQkFBb0IsSUFBSTs7UUFHL0QsTUFBTTZCLGFBQWFILEtBQUtFLE9BQU9wQixVQUFVLElBQUksR0FBR29CLE9BQU9yQixXQUFXLElBQUk7UUFDdEUsSUFBSXNCLGFBQWFKLFNBQVM7WUFDeEJqbkIsSUFBSTRtQixpQkFBaUIsR0FBR1EsT0FBT3BCLFVBQVUsSUFBSTtZQUM3Q2htQixJQUFJNm1CLGtCQUFrQixHQUFHTyxPQUFPckIsV0FBVyxJQUFJO1lBQy9DL2xCLElBQUk4bUIsc0JBQXNCLEdBQUdNLE9BQU9uQixlQUFlLElBQUk7WUFDdkRnQixVQUFVSTs7UUFHWlYseUJBQXlCbG5CLEdBQUcsQ0FBQzJuQixPQUFPakIsdUJBQXVCLElBQUk7UUFDL0QsT0FBT25tQjtPQUNOZ25CO0lBRUgsSUFBSXhSLFFBQVEvNEIsTUFBTSxHQUFHLEdBQUc7UUFDdEI4aEIsT0FBT2tvQixpQkFBaUIsR0FBR3ByQyxLQUFLczBCLEtBQUssQ0FDbkMsT0FBUThXLGlCQUFpQixHQUFHalIsUUFBUS80QixNQUFNLEdBQUk7UUFFaEQ4aEIsT0FBT21vQix3QkFBd0IsR0FBR3JyQyxLQUFLczBCLEtBQUssQ0FDMUMsT0FBUStXLHdCQUF3QixHQUFHbFIsUUFBUS80QixNQUFNLEdBQUk7O1FBR3ZEOGhCLE9BQU80USxLQUFLLEdBQUdxRyxPQUFPLENBQUMsRUFBRSxDQUFDckcsS0FBSyxJQUFJO1FBQ25DNVEsT0FBT3dvQixpQkFBaUIsR0FBR3ZSLFFBQVF2VyxNQUFNLENBQ3ZDLENBQUNlLEtBQUtvbkI7WUFDSixJQUFJQSxPQUFPdG5CLFNBQVMsRUFBRTtnQkFDcEJFLEdBQUcsQ0FBQ29uQixPQUFPdG5CLFNBQVMsQ0FBQyxHQUFHc25CLE9BQU9qWSxLQUFLLElBQUk7O1lBRTFDLE9BQU9uUDtXQUVUOztJQUlKLE1BQU1tbUIsMEJBQTBCO1FBQzlCUSx5QkFBeUIvWixHQUFHLENBQUMsVUFBVTtRQUN2QytaLHlCQUF5Qi9aLEdBQUcsQ0FBQyxnQkFBZ0I7UUFDN0MrWix5QkFBeUIvWixHQUFHLENBQUMsWUFBWTtLQUMxQyxDQUNFbGUsTUFBTSxDQUFDQyxTQUNQQyxJQUFJLENBQUM7SUFDUixJQUFJdTNCLHlCQUF5QjtRQUMzQjVuQixPQUFPb29CLHdCQUF3QixHQUFHUjs7SUFHcEMsT0FBTzVuQjtBQUNUO0FDM1hBLE1BQU0rb0IsVUFBVTtBQUNoQixNQUFNLENBQUMxRSxPQUFPQyxPQUFPeGpCLE1BQU0sR0FBR2lvQixRQUFRcGMsS0FBSyxDQUFDO0FBRTVDLElBQUlxYyxVQUEyQjtJQUM3Qmx3QixNQUFNcmEsUUFBUXdxQyxnQkFBZ0I7SUFDOUI1RTtJQUNBQztJQUNBeGpCOztBQUdGLElBQUlvb0I7QUFDSixJQUFJQztBQUNKLElBQUlDO0FBQ0osSUFBSUMsY0FBK0M7SUFBRXJ1QyxXQUFXQztBQUFTO0FBRTVELE1BQUFxdUMsYUFBYSxDQUFDcjZCO0lBQ3pCKzVCLFVBQVUvNUI7QUFDWjtBQUVPLE1BQU1zNkIsYUFBYTtJQUN4QixPQUFPUDtBQUNUO0FBRWEsTUFBQVEsWUFBWSxDQUFDdjZCO0lBQ3hCaTZCLFNBQVNqNkI7QUFDWDtBQUVPLE1BQU13NkIsWUFBWTtJQUN2QixPQUFPUDtBQUNUO0FBRWEsTUFBQVEsZ0JBQWdCLENBQUN6NkI7SUFDNUJrNkIsYUFBYWw2QjtBQUNmO0FBRU8sTUFBTTA2QixnQkFBZ0I7SUFDM0IsT0FBT1I7QUFDVDtBQUVPLE1BQU1TLGdCQUFnQjtJQUMzQixPQUFPUjtBQUNUO0FBRWEsTUFBQVMsZ0JBQWdCLENBQUM1NkI7SUFDNUJtNkIsYUFBYW42QjtBQUNmO0FBTWEsTUFBQTY2QixrQkFBa0IsQ0FBQzl3QjtJQUM5QixJQUFJLENBQUNrd0IsUUFBUTtRQUNYRyxjQUFjO1lBQUVydUMsV0FBV0M7UUFBUztRQUNwQzs7SUFHRixJQUFJaXVDLE9BQU85dkMsSUFBSSxLQUFLLFdBQVc7UUFDN0IsTUFBTTJ3QyxlQUNKanJDLG1CQUFtQixDQUFDa2EsTUFBMEMsSUFDOURsYSxvQkFBb0Jnd0IsV0FBVztRQUVqQ3VhLGNBQWM7WUFDWnJ1QyxXQUFXO1lBQ1hndkMsU0FBUztnQkFDUEQ7Z0JBQ0FFLGtCQUNFWixhQUFhcnVDLGNBQWMsYUFDM0JxdUMsWUFBWVcsT0FBTyxDQUFDQyxnQkFBZ0I7WUFDdkM7OztJQUlMLElBQUlmLE9BQU85dkMsSUFBSSxDQUFDd1YsV0FBVyxPQUFPLE9BQU87UUFDdkMsTUFBTW03QixlQUNKaHJDLGlCQUFpQixDQUFDaWEsTUFBd0MsSUFDMURqYSxrQkFBa0IrdkIsV0FBVztRQUUvQnVhLGNBQWM7WUFDWnJ1QyxXQUFXO1lBQ1hrdkMsT0FBTztnQkFDTEg7Z0JBQ0FJLHVCQUNFZCxhQUFhcnVDLGNBQWMsV0FDM0JxdUMsWUFBWWEsS0FBSyxDQUFDQyxxQkFBcUI7WUFDMUM7OztBQUdQO0FBRWEsTUFBQUMsZ0JBQWdCLENBQUNDO0lBQzVCLElBQUksQ0FBQ25CLFFBQVE7UUFDWEcsY0FBYztZQUFFcnVDLFdBQVdDO1FBQVM7UUFDcEM7O0lBR0YsSUFBSWl1QyxPQUFPOXZDLElBQUksS0FBSyxXQUFXO1FBQzdCaXdDLGNBQWM7WUFDWnJ1QyxXQUFXO1lBQ1hndkMsU0FBUztnQkFDUEQsY0FDRVYsYUFBYXJ1QyxjQUFjLFlBQ3ZCcXVDLFlBQVlXLE9BQU8sQ0FBQ0QsWUFBWSxHQUNoQ2pyQyxvQkFBb0Jnd0IsV0FBVztnQkFDckNtYixrQkFBa0JJO1lBQ25COzs7SUFJTCxJQUFJbkIsT0FBTzl2QyxJQUFJLENBQUN3VixXQUFXLE9BQU8sT0FBTztRQUN2Q3k2QixjQUFjO1lBQ1pydUMsV0FBVztZQUNYa3ZDLE9BQU87Z0JBQ0xILGNBQ0VWLGFBQWFydUMsY0FBYyxVQUN2QnF1QyxZQUFZYSxLQUFLLENBQUNILFlBQVksR0FDOUJockMsa0JBQWtCK3ZCLFdBQVc7Z0JBQ25DcWIsdUJBQXVCRTtZQUN4Qjs7O0FBR1A7QUFFTyxNQUFNQyxpQkFBaUI7SUFDNUIsT0FBT2pCO0FBQ1Q7QUFFTyxNQUFNa0IsbUJBQW1CO0lBQzlCLElBQUk5N0IsaUJBQWlCOztRQUVuQixPQUFPO1lBQ0xvMUIsS0FBSzBGO1lBQ0xpQixJQUFJZjtZQUNKZ0IsUUFBUWQ7OztJQUlaLE1BQU1sRixZQUFZLElBQUlpRyxrREFBUUEsQ0FBQ2g4QixVQUFVKzFCLFNBQVM7SUFDbEQsTUFBTSxFQUFFa0csT0FBTyxFQUFFSCxFQUFFLEVBQUVDLE1BQU0sRUFBRUcsR0FBRyxFQUFFLEdBQUduRyxVQUFVb0csU0FBUztJQUN4RCxPQUFPO1FBQ0xoSCxLQUFLMEY7UUFDTG9CLFNBQVM7WUFDUHZ4QyxNQUFNdXhDLFFBQVF2eEMsSUFBSSxJQUFJc1YsVUFBVSsxQixTQUFTO1lBQ3pDc0UsU0FBUzRCLFFBQVE1QixPQUFPLElBQUk7UUFDN0I7UUFDRHlCLElBQUk7WUFDRnB4QyxNQUFNb3hDLEdBQUdweEMsSUFBSSxJQUFJO1lBQ2pCMnZDLFNBQVN5QixHQUFHekIsT0FBTyxJQUFJO1lBQ3ZCK0IsY0FBY0YsSUFBSUUsWUFBWSxJQUFJO1FBQ25DO1FBQ0RMLFFBQVE7WUFDTnJ4QyxNQUFNO2dCQUFDcXhDLE9BQU9NLE1BQU07Z0JBQUVOLE9BQU9PLEtBQUs7Z0JBQUVQLE9BQU8zeEIsSUFBSTthQUFBLENBQzVDM0ksTUFBTSxDQUFDQyxTQUNQQyxJQUFJLENBQUM7WUFDUjA0QixTQUFTO1FBQ1Y7O0FBRUw7TUNoSmFrQztJQW9CWC94QyxZQUNFcXlCLFNBQTBCLEVBQzFCLEVBQ0UzeEIsT0FBTyxFQUNQZ3FDLGFBQWEsRUFDYmlCLFVBQVUsRUFDVkMsU0FBUyxFQUNUN0MsVUFBVSxFQUNWRixNQUFNLEVBQ04vb0IsS0FBSyxFQUNtQjtRQTdCWCxLQUFBaE8sTUFBTSxHQUFHK0UsVUFBVTtZQUFDO1NBQW1CO1FBaUJ2QyxLQUFBbTdCLFlBQVksR0FBRyxJQUFJMTFCO1FBbUM1QixLQUFBMjFCLGFBQWEsR0FBRyxDQUN0QlYsUUFDQXB4QztZQUVBLE1BQU0sRUFBRSt4QyxxQkFBcUIsRUFBRSxHQUFHWCxPQUFPenhCLEtBQUs7WUFDOUMsSUFBSSxDQUFDcXlCLHdDQUF3QztZQUM3QyxJQUFJLENBQUNBLHdDQUF3QyxHQUFHN3pCLG1CQUM5Q1QsaVJBQWFBLENBQUM7Z0JBQUNxMEI7Z0JBQXVCLElBQUksQ0FBQ3B5QixLQUFLLENBQUNvUixnQkFBZ0I7YUFBQyxHQUNsRSxDQUFDLENBQUNtWCxlQUFlelcsZ0JBQWdCOzs7O2dCQUkvQixJQUFJLENBQUN3Z0Isa0NBQWtDO2dCQUN2QyxNQUFNQyxnQkFDSmx5QyxTQUFTLFFBQ0x5eEIsZ0JBQWdCclEsUUFBUSxDQUFDNWtCLGNBQWNhLFVBQVUsSUFDakRvMEIsZ0JBQWdCclEsUUFBUSxDQUFDNWtCLGNBQWNjLFVBQVU7Z0JBQ3ZELElBQUksQ0FBQzRxQyxpQkFBaUIsQ0FBQ2dLLGVBQWU7b0JBQ3BDLElBQUksQ0FBQ0wsWUFBWSxDQUFDLzBCLEdBQUcsQ0FBQzljLE1BQU07d0JBQzFCbXlDLGVBQWU7d0JBQ2ZDLGtCQUFrQixFQUFFO3dCQUNwQkMsYUFBYTtvQkFDZDtvQkFDRDs7Z0JBRUYsSUFBSSxDQUFDSixrQ0FBa0MsR0FBRzl6QixtQkFDeENULGlSQUFhQSxDQUFDO29CQUFDMHpCLE9BQU9rQixXQUFXO29CQUFJbEIsT0FBT3p4QixLQUFLLENBQUM0eUIsZUFBZTtpQkFBQyxHQUNsRSxDQUFDLENBQUNDLFNBQVNDLFNBQVM7b0JBQ2xCLE1BQU1DLFdBQVdGLFFBQVFyd0MsSUFBSSxDQUFDLENBQUN3d0MsSUFBTUEsRUFBRUYsUUFBUSxLQUFLQTtvQkFDcEQsSUFBSSxDQUFDWixZQUFZLENBQUMvMEIsR0FBRyxDQUFDOWMsTUFBTTt3QkFDMUJteUMsZUFBZU8sVUFBVUUsU0FBU0gsWUFBWTt3QkFDOUNMLGtCQUFrQkksUUFBUXp2QyxHQUFHLENBQUMsQ0FBQzR2QyxJQUFNQSxFQUFFQyxLQUFLO3dCQUM1Q1AsYUFBYTtvQkFDZDtnQkFDSDtZQUVKO1FBRUo7UUFFQSxLQUFBUSxrQkFBa0IsR0FBRyxDQUFDQztZQUNwQixJQUFJLENBQUNDLGlCQUFpQixDQUFDO2dCQUNyQm5VLE1BQU07b0JBQ0pqOUIsV0FBVztvQkFDWG14QztnQkFDRDtZQUNGO1FBQ0g7UUFFQSxLQUFBRSxvQkFBb0IsR0FBRyxDQUNyQkMsVUFDQUM7WUFFQSxJQUFJLENBQUNILGlCQUFpQixDQUFDO2dCQUNyQm5VLE1BQU07b0JBQ0pqOUIsV0FBVztvQkFDWHd4QyxjQUFjO3dCQUFFRjt3QkFBVUM7b0JBQVc7Z0JBQ3RDO1lBQ0Y7UUFDSDtRQUVRLEtBQUFILGlCQUFpQixHQUFHLENBQUNLOzs7WUFHM0IsSUFBSSxDQUFDMzJCLEdBQUcsQ0FBQzIyQixlQUFlcHpCLEtBQUssQ0FBQyxDQUFDMUk7Z0JBQzdCLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLGlDQUFpQzJGO1lBQ3ZEO1FBQ0Y7UUFFUSxLQUFBbUYsR0FBRyxHQUFHLE9BQU8yMkI7WUFDbkIsTUFBTSxDQUFDekcsaUJBQWlCQyxlQUFlLEdBQUcsTUFBTXQ2QixRQUFRdTZCLEdBQUcsQ0FBQztnQkFDMUQsSUFBSSxDQUFDckIsVUFBVSxDQUFDeFksUUFBUSxHQUFHblcsSUFBSSxDQUFDd3RCLFNBQVN4dEIsSUFBSSxDQUFDakIsS0FBSzZYLFNBQVM7Z0JBQzVELElBQUksQ0FBQ2dZLFNBQVMsRUFBRXpZLFdBQVduVyxLQUFLd3RCLFNBQVN4dEIsS0FBS2pCLEtBQUs2WCxTQUFTLEtBQUs7YUFDbEU7WUFFRCxNQUFNLElBQUksQ0FBQ3ZCLFNBQVMsQ0FBQ3RoQixTQUFTLENBQUM7Z0JBQzdCNDVCLEtBQUssSUFBSSxDQUFDRSxPQUFPO2dCQUNqQkUsWUFBWSxJQUFJLENBQUNBLFVBQVU7Z0JBQzNCeUksZUFBZSxJQUFJLENBQUNDLGFBQWE7Z0JBQ2pDM0c7Z0JBQ0FDO2dCQUNBMkcsY0FBYyxJQUFJLENBQUMxQixZQUFZLENBQUN2MUIsR0FBRyxDQUFDO2dCQUNwQ2szQixjQUFjLElBQUksQ0FBQzNCLFlBQVksQ0FBQ3YxQixHQUFHLENBQUM7Z0JBQ3BDMHpCLGFBQWFpQjtnQkFDYndDLFdBQVdMO1lBQ1o7UUFDSDtRQUVBLElBQUssQ0FBQU0sS0FBQSxHQUFHO1lBQ04sSUFBSSxJQUFJLENBQUNuekMsT0FBTyxDQUFDb3pDLHFCQUFxQixJQUFJLEdBQUc7WUFFN0MsSUFBSSxDQUFDN0IsYUFBYSxDQUFDLElBQUksQ0FBQ2xKLFVBQVUsRUFBRTtZQUNwQyxJQUFJLENBQUNrSixhQUFhLENBQUMsSUFBSSxDQUFDcEosTUFBTSxFQUFFO1lBRWhDM0csY0FBYyxJQUFJLENBQUM2UixVQUFVO1lBQzdCLElBQUksQ0FBQ0EsVUFBVSxHQUFHaFMsWUFBWTtnQkFDNUIsSUFBSSxDQUFDbmxCLEdBQUcsR0FBR3VELEtBQUssQ0FBQyxDQUFDMUk7b0JBQ2hCLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLDBCQUEwQjJGO2dCQUNoRDtZQUNGLEdBQUcsSUFBSSxDQUFDL1csT0FBTyxDQUFDb3pDLHFCQUFxQjtRQUN2QztRQUVBLElBQUksQ0FBQWw3QixJQUFBLEdBQUc7WUFDTCxJQUFJLENBQUN1NUIsd0NBQXdDO1lBQzdDLElBQUksQ0FBQ0Esd0NBQXdDLEdBQUdwd0M7WUFDaEQsSUFBSSxDQUFDcXdDLGtDQUFrQztZQUN2QyxJQUFJLENBQUNBLGtDQUFrQyxHQUFHcndDO1lBRTFDLElBQUksQ0FBQ2l3QyxZQUFZLENBQUNwUSxLQUFLO1lBQ3ZCTSxjQUFjLElBQUksQ0FBQzZSLFVBQVU7WUFDN0IsSUFBSSxDQUFDQSxVQUFVLEdBQUdoeUM7UUFDcEI7UUFwSUUsSUFBSSxDQUFDc3dCLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDM3hCLE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNpckMsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNDLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDN0MsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNGLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUMvb0IsS0FBSyxHQUFHQTtRQUViLE1BQU0sRUFBRTZxQixHQUFHLEVBQUU4RyxPQUFPLEVBQUUsR0FBRy9HO1FBQ3pCLElBQUksQ0FBQ0csT0FBTyxHQUFHQyxXQUFXSDtRQUMxQixJQUFJLENBQUNJLFVBQVUsR0FBR0MsY0FBY0w7OztRQUloQyxNQUFNcUosYUFBYXREO1FBQ25CLElBQUksQ0FBQytDLGFBQWEsR0FDaEJPLFlBQVluRSxXQUNaLENBQUcsRUFBQTRCLFNBQVN2eEMsUUFBUSxHQUFNLEdBQUF1eEMsU0FBUzVCLFdBQVcsR0FBSSxLQUNsRDs7QUFtSEw7QUNuTUQsTUFBTW9FLG9CQUFvQjtNQVdiQztJQUFibDBDLGFBQUE7UUFDRTs7U0FFRyxHQUNLLEtBQUFtMEMsaUJBQWlCLEdBR3JCLElBQUk3M0I7UUFDUjs7U0FFRyxHQUNLLElBQVEsQ0FBQTgzQixRQUFBLEdBQWdDOzs7UUFHaEQ7O1NBRUcsR0FDSyxLQUFBQyxRQUFRLEdBQThDLElBQUk5SDtRQUVsRTs7Ozs7OztTQU9HLEdBQ0ksS0FBQStILFdBQVcsR0FBRyxDQUNuQkMsaUJBQ0E3ekM7WUFFQSxNQUFNOHpDLFVBQVU7Z0JBQ2QsSUFBSSxDQUFDSixRQUFRLEVBQUVLO2dCQUNmLElBQUksQ0FBQ0wsUUFBUSxHQUFHO2dCQUNoQixJQUFJLENBQUNELGlCQUFpQixDQUFDdlMsS0FBSztZQUM5QjtZQUVBLElBQUksQ0FBQ3dTLFFBQVEsR0FBRyxJQUFJTSxxQkFDbEIsQ0FBQzN6QztnQkFDQ0EsUUFBUTJYLE9BQU8sQ0FBQyxDQUFDNGM7b0JBQ2YsTUFBTTlXLFVBQVUsSUFBSSxDQUFDMjFCLGlCQUFpQixDQUFDMTNCLEdBQUcsQ0FDeEM2WSxNQUFNbjBCLE1BQXFCO29CQUU3QnFkLFVBQVU4VztnQkFDWjtZQUNGLEdBQ0E7Z0JBQ0VxZixNQUFNSjtnQkFDTixHQUFHN3pDLE9BQU87Z0JBQ1ZrMEMsV0FBV2wwQyxTQUFTazBDLGFBQWFYO1lBQ2xDO1lBR0gsSUFBSSxJQUFJLENBQUNJLFFBQVEsQ0FBQ3RiLElBQUksRUFBRTtnQkFDdEIsSUFBSSxDQUFDc2IsUUFBUSxDQUFDMzdCLE9BQU8sQ0FBQyxDQUFDLENBQUNtOEIsY0FBY0MsYUFBYTs7O29CQUdqRCxJQUFJLENBQUNQLGdCQUFnQlEsUUFBUSxDQUFDRixlQUFlO29CQUU3QyxJQUFJLENBQUNULFFBQVMsQ0FBQ1ksT0FBTyxDQUFDSDtvQkFDdkIsSUFBSSxDQUFDVixpQkFBaUIsQ0FBQ2wzQixHQUFHLENBQUM0M0IsY0FBY0M7Z0JBQzNDO2dCQUNBLElBQUksQ0FBQ1QsUUFBUSxDQUFDelMsS0FBSzs7WUFHckIsT0FBTzRTO1FBQ1Q7UUFFQTs7Ozs7Ozs7U0FRRyxHQUNJLEtBQUFRLE9BQU8sR0FBWSxDQUFDQyxTQUFTejJCO1lBQ2xDLE1BQU0wMkIsWUFBWTtnQkFBQ0Q7Z0JBQVN6MkI7YUFBaUI7WUFFN0MsTUFBTWcyQixVQUFVO2dCQUNkLElBQUksQ0FBQ0wsaUJBQWlCLENBQUMvMkIsTUFBTSxDQUFDNjNCO2dCQUM5QixJQUFJLENBQUNiLFFBQVEsRUFBRWUsVUFBVUY7Z0JBQ3pCLElBQUksQ0FBQ1osUUFBUSxDQUFDajNCLE1BQU0sQ0FBQzgzQjtZQUN2QjtZQUVBLElBQUksSUFBSSxDQUFDZixpQkFBaUIsQ0FBQ2hmLEdBQUcsQ0FBQzhmLFVBQVUsT0FBT1Q7WUFFaEQsSUFBSSxDQUFDLElBQUksQ0FBQ0osUUFBUSxFQUFFO2dCQUNsQixJQUFJLENBQUNDLFFBQVEsQ0FBQ3JzQixHQUFHLENBQUNrdEI7Z0JBQ2xCLE9BQU9WOztZQUdULElBQUksSUFBSSxDQUFDSixRQUFRLENBQUNPLElBQUssQ0FBQ0ksUUFBUSxDQUFDRSxVQUFVO2dCQUN6QyxJQUFJLENBQUNkLGlCQUFpQixDQUFDbDNCLEdBQUcsQ0FBQ2c0QixTQUFTejJCO2dCQUNwQyxJQUFJLENBQUM0MUIsUUFBUSxDQUFDWSxPQUFPLENBQUNDOztZQUd4QixPQUFPVDtRQUNUOztBQUNEO0FDaEZELE1BQU1ZLG9DQUdGO0lBQ0ZqeUIsWUFBWXBULGdCQUFnQnVULE9BQU87SUFDbkNzSSxrQkFBa0I3YixnQkFBZ0J1VCxPQUFPOztBQVUzQyxNQUFNK3hCLG9CQUFvQnoyQixPQUFPO0FBT2pDOzs7Ozs7Ozs7Q0FTRyxTQUNVMDJCO0lBaURYOzs7O0tBSUcsR0FDSHQxQyxZQUFZa3JCLFNBQW9CLEVBQUVxcUIsT0FBdUI7UUFyRHpEOztTQUVHLEdBQ00sS0FBQUMsZUFBZSxHQUFHLElBQUl0QjtRQUV2QixLQUFBcGlDLE1BQU0sR0FBRytFLFVBQVU7WUFBQztTQUFtQjtRQUl2QyxJQUEwQixDQUFBNCtCLDBCQUFBLEdBQTBCO1FBRXBELEtBQUFDLHNDQUFzQyxHQUM1QyxJQUFJMTJCLCtRQUFlQSxDQUFrQztRQUV2RCxLQUFBMjJCLGdDQUFnQyxHQUM5QixJQUFJLENBQUNELHNDQUFzQyxDQUFDajFCLFlBQVk7UUFFMUQsS0FBQW0xQixzQkFBc0IsR0FBRyxJQUFJLENBQUNELGdDQUFnQyxDQUFDM21CLElBQUksQ0FDakU5ckIsdVFBQUdBLENBQUMsQ0FBQzJ5QztZQUNILE1BQU0sRUFBRSxDQUFDUixrQkFBaUIsRUFBR1MsY0FBYyxFQUFFLEdBQUdudkIsY0FBYyxHQUM1RGt2QjtZQUNGLE9BQU87Z0JBQ0xuYixTQUFTb2IsZ0JBQWdCcGIsWUFBWTtnQkFDckNxYixxQkFBcUJELGdCQUFnQnBiLFVBQ2pDb2IsZUFBZXJ0QixTQUFTLEdBQ3hCMW1CO2dCQUNKNGtCLGNBQWM3bEIsT0FBT2sxQyxXQUFXLENBQzlCbDFDLE9BQU9DLE9BQU8sQ0FBQzRsQixjQUFjempCLEdBQUcsQ0FDOUIsQ0FBQyxDQUFDb2tCLFdBQVcydUIsb0JBQW9CLEdBQUs7d0JBQ3BDM3VCO3dCQUNBOzRCQUNFb1QsU0FBU3ViLHFCQUFxQnZiLFlBQVk7NEJBQzFDcWIscUJBQXFCRSxxQkFBcUJ2YixVQUN0Q3ViLG9CQUFvQnh0QixTQUFTLEdBQzdCMW1CO3dCQUNMO3FCQUNGO2dCQUdMbTBDLDJCQUEyQixDQUFDNXVCLFlBQzFCdXVCLFNBQVMsQ0FBQ3Z1QixVQUFVLEVBQUVvVCxXQUN0Qm1iLFNBQVMsQ0FBQ1Isa0JBQWtCLEVBQUUzYSxXQUM5Qjs7UUFFTixJQUNBeEwsK1FBQVdBLENBQUM7UUE0RGQsS0FBQWluQixrQ0FBa0MsR0FBRyxDQUNuQ0MsVUFDQTNKO1lBRUEsSUFBSSxDQUFDQSxZQUFZO2dCQUNmLE9BQU96dUIsZ0JBQ0wsSUFBSSxDQUFDMDNCLHNDQUFzQyxFQUMzQ1UsV0FBVztvQkFBRSxDQUFDZixrQkFBaUIsRUFBR2U7Z0JBQVEsSUFBSzs7WUFJbkQsT0FBT3A0QixnQkFDTCxJQUFJLENBQUMwM0Isc0NBQXNDLEVBQzNDLENBQUNHLFlBQWU7b0JBQ2QsR0FBR0EsU0FBUztvQkFDWixHQUFHLzBDLE9BQU9rMUMsV0FBVyxDQUFDdkosV0FBV3ZwQyxHQUFHLENBQUMsQ0FBQzJjLEtBQU87NEJBQUNBOzRCQUFJdTJCO3lCQUFTLEVBQUU7Z0JBQzlEO1FBRUw7UUFFQSxLQUFBQyx1QkFBdUIsR0FBRyxDQUN4QkMsZUFBNkJ0bUMsYUFBYXVtQyxJQUFJO1lBRTlDLElBQUksSUFBSSxDQUFDZCwwQkFBMEIsRUFBRTtnQkFDbkMxdkIsYUFBYSxJQUFJLENBQUMwdkIsMEJBQTBCOztZQUc5QyxNQUFNN2tDLHNCQUFzQjtnQkFDMUIsSUFBSSxDQUFDNmtDLDBCQUEwQixHQUFHO2dCQUNsQyxJQUFJLENBQUNwakIsU0FBUyxFQUNWemhCLG9CQUFvQixJQUFJLENBQUM0bEMsa0JBQWtCLEVBQzVDcjJCLE1BQU0sQ0FBQzFJO29CQUNOLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxTQUFTLENBQXNDLHVDQUFFMkY7Z0JBQy9EO1lBQ0o7WUFFQSxJQUFJNitCLGNBQWM7Z0JBQ2hCLElBQUksQ0FBQ2IsMEJBQTBCLEdBQUc5aUMsV0FDaEMvQixxQkFDQTBsQzttQkFFRztnQkFDTDFsQzs7UUFFSjtRQUVBOzs7Ozs7OztTQVFHLEdBQ0gsSUFBc0IsQ0FBQTZsQyxzQkFBQSxHQUFHLENBQ3ZCeEIsU0FDQTN0QixXQUNBZTtZQUVBLE1BQU1tc0IsVUFBVSxJQUFJLENBQUNnQixlQUFlLENBQUNSLE9BQU8sQ0FBQ0MsU0FBUyxDQUFDM2Y7Z0JBQ3JELElBQUksQ0FBQ3BLLFNBQVMsQ0FBQ3ZELGlCQUFpQixDQUFDTCxXQUFXLENBQUNJO29CQUMzQyxNQUFNZ3ZCLDBCQUNKaHZCLFlBQVl4RSx1QkFBdUIsSUFDbkNreUI7OztvQkFJRixNQUFNdUIsWUFDSnJoQixNQUFNc2hCLGNBQWMsSUFBSUMsU0FBU0MsaUJBQWlCLEtBQUs3QixVQUNuRGxsQyxnQkFBZ0JnbkMsT0FBTyxHQUN2QmhuQyxnQkFBZ0JxVCxTQUFTO29CQUMvQixPQUFPO3dCQUNMLEdBQUdzRSxXQUFXO3dCQUNkeEUseUJBQXlCOzRCQUN2QixHQUFHd3pCLHVCQUF1Qjs0QkFDMUIsQ0FBQ3J1QixVQUFTLEVBQUdzdUI7d0JBQ2Q7O2dCQUVMO1lBQ0Y7WUFFQSxPQUFPO2dCQUNMbkM7Ozs7Z0JBSUEsSUFBSSxDQUFDdHBCLFNBQVMsQ0FBQ3ZELGlCQUFpQixDQUFDTCxXQUFXLENBQUNJO29CQUMzQyxNQUFNZ3ZCLDBCQUNKaHZCLFlBQVl4RSx1QkFBdUIsSUFDbkNreUI7b0JBQ0YsT0FBTzt3QkFDTCxHQUFHMXRCLFdBQVc7d0JBQ2R4RSx5QkFBeUI7NEJBQ3ZCLEdBQUd3ekIsdUJBQXVCOzRCQUMxQixDQUFDcnVCLFVBQVMsRUFBR3RZLGdCQUFnQnVULE9BQU87d0JBQ3JDOztnQkFFTDtZQUNGO1FBQ0Y7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQWd4QixXQUFXLEdBQUcsQ0FBd0JXO1lBQ3BDLE9BQU8sSUFBSSxDQUFDTyxlQUFlLENBQUNsQixXQUFXLENBQUNXO1FBQzFDO1FBRUE7Ozs7Ozs7Ozs7Ozs7O1NBY0csR0FDSCxJQUFnQixDQUFBK0IsZ0JBQUEsR0FBRyxDQUNqQkMsY0FDQTN2QixXQUNBZTtZQUVBLE1BQU02dUIsbUJBQ0osSUFBSSxDQUFDaHNCLFNBQVMsQ0FBQzdELDBCQUEwQixDQUFDQztZQUM1QyxJQUFJLENBQUM0dkIsa0JBQWtCO1lBRXZCLE1BQU1DLDZCQUE2QixDQUNqQ2IsY0FDQTd0QjtnQkFFQSxJQUFJQSxhQUFjQSxDQUFBQSxVQUFVRSxLQUFLLEtBQUssS0FBS0YsVUFBVUMsTUFBTSxLQUFLLElBQUk7Ozs7O29CQUtsRSxJQUFJLENBQUM1VyxNQUFNLENBQUMsU0FBUyxDQUF3Qix5QkFBRW9sQztvQkFDL0N6dUIsWUFBWTFtQjs7Z0JBRWQsSUFBSSxDQUFDbXBCLFNBQVMsQ0FBQzlDLHVCQUF1QixDQUFDQyxXQUFXO29CQUNoRCxDQUFDZixVQUFTLEVBQUc7d0JBQUVtQjtvQkFBUztnQkFDekI7Z0JBQ0QsSUFBSSxDQUFDNHRCLHVCQUF1QixDQUFDQztZQUMvQjtZQUVBLE1BQU1jLGVBQWUsSUFBSSxDQUFDbHNCLFNBQVMsQ0FBQzZELGFBQWEsQ0FBQ0MsSUFBSSxDQUNwRDlyQix1UUFBR0EsQ0FDRCxDQUFDeWpCLGVBQ0NBLGFBQWFya0IsSUFBSSxDQUNmLENBQUNvbEIsY0FBZ0JBLFlBQVlKLFNBQVMsS0FBS0EsYUFHakQrdkIsNlFBQVNBLENBQUMsQ0FBQzN2QixjQUFnQixDQUFDLENBQUNBLGNBQzdCZ0ksd1JBQW9CQSxJQUNwQlIsK1FBQVdBLENBQUM7Z0JBQUVDLFlBQVk7Z0JBQUdDLFVBQVU7WUFBSTtZQUc3Qzs7Ozs7YUFLRztZQUVILElBQUlsTTtZQUNKLE1BQU1vMEIsc0NBQ0pKLGlCQUFpQnhyQixrQkFBa0IsR0FDL0IsT0FDQTByQixhQUNHcG9CLElBQUksQ0FDSDlyQix1UUFBR0EsQ0FBQyxDQUFDbWUsSUFBTUEsRUFBRTZCLHVCQUF1QixHQUFHbUYsVUFBVSxHQUNqRHFILHdSQUFvQkEsSUFFckI1UixTQUFTLENBQUMsQ0FBQ3k1Qjs7Z0JBRVYsSUFBSSxDQUFDcjBCLHlCQUF5QjtvQkFDNUJBLDBCQUNFcTBCLCtCQUErQnhuQyxnQkFBZ0J1VCxPQUFPO29CQUN4RDs7Z0JBRUZKLDBCQUNFcTBCLCtCQUErQnhuQyxnQkFBZ0J1VCxPQUFPO2dCQUV4RCxJQUFJaTBCLGdDQUFnQ3huQyxnQkFBZ0JxVCxTQUFTLEVBQUU7b0JBQzdELE9BQU8rekIsMkJBQ0xubkMsYUFBYXduQyxNQUFNLEVBQ25CejFDOztnQkFJSm8xQywyQkFBMkJubkMsYUFBYXduQyxNQUFNLEVBQUU7b0JBQzlDN3VCLE9BQU9zdUIsYUFBYVEsV0FBVztvQkFDL0IvdUIsUUFBUXV1QixhQUFhUyxZQUFZO2dCQUNsQztZQUNIO1lBRVIsSUFBSUM7WUFDSixNQUFNQyxpQkFBaUJWLGlCQUFpQnhyQixrQkFBa0IsR0FDdEQsT0FDQSxJQUFJbXNCLGVBQWU7Z0JBQ2pCLE1BQU1DLG9CQUFvQjtvQkFDeEJudkIsT0FBT3N1QixhQUFhUSxXQUFXO29CQUMvQi91QixRQUFRdXVCLGFBQWFTLFlBQVk7OztnQkFJbkMsSUFBSSxDQUFDQyxnQkFBZ0I7b0JBQ25CQSxpQkFBaUJHO29CQUNqQjs7Z0JBR0YsSUFDRSxlQUFnQm52QixLQUFLLEtBQUttdkIsa0JBQWtCbnZCLEtBQUssSUFDL0NndkIsZUFBZWp2QixNQUFNLEtBQUtvdkIsa0JBQWtCcHZCLE1BQU0sSUFDcER4Riw0QkFBNEJuVCxnQkFBZ0JxVCxTQUFTLEVBQ3JEO29CQUNBOztnQkFHRixNQUFNMjBCLGdCQUFnQm4wQyxLQUFLNFAsR0FBRyxDQUM1QnNrQyxrQkFBa0JudkIsS0FBSyxHQUFHZ3ZCLGVBQWVodkIsS0FBSyxFQUM5Q212QixrQkFBa0JwdkIsTUFBTSxHQUFHaXZCLGVBQWVqdkIsTUFBTTs7Ozs7Z0JBTWxELE1BQU00dEIsZUFDSnlCLGdCQUFnQixNQUFNL25DLGFBQWFnb0MsU0FBUyxHQUFHaG9DLGFBQWF3bkMsTUFBTTtnQkFDcEVMLDJCQUEyQmIsY0FBYztvQkFDdkMzdEIsT0FBT3N1QixhQUFhUSxXQUFXO29CQUMvQi91QixRQUFRdXVCLGFBQWFTLFlBQVk7Z0JBQ2xDO2dCQUNEQyxpQkFBaUJHO1lBQ25CO1lBQ0pGLGdCQUFnQjVDLFFBQVFpQzs7O1lBSXhCLE1BQU1nQiw4QkFBOEJmLGlCQUFpQnhyQixrQkFBa0IsR0FDbkUsT0FDQTByQixhQUNHcG9CLElBQUksQ0FDSGtwQiwyUkFBdUJBLENBQUMsb0JBQ3hCaDFDLHVRQUFHQSxDQUFDLENBQUNtZSxJQUNIZ0gsY0FBYyxlQUFlakgsU0FBU0MsS0FBS00sZUFBZU4sS0FFNURxTyx3UkFBb0JBLElBRXJCNVIsU0FBUyxDQUFDLENBQUN3YztnQkFDVixJQUFJQSxjQUFjOztvQkFFaEI2YywyQkFBMkJubkMsYUFBYWdvQyxTQUFTLEVBQUU7d0JBQ2pEcnZCLE9BQU9zdUIsYUFBYVEsV0FBVzt3QkFDL0IvdUIsUUFBUXV1QixhQUFhUyxZQUFZO29CQUNsQzt1QkFDSTs7b0JBRUxQLDJCQUEyQm5uQyxhQUFhbW9DLElBQUksRUFBRXAyQzs7WUFFbEQ7WUFFTmsxQyxhQUFhbUIsUUFBUSxHQUFHO1lBQ3hCbkIsYUFBYW9CLFdBQVcsR0FBRzs7OztZQUszQnBCLGFBQWExWixLQUFLLEdBQUc7WUFFckIsTUFBTSthLHFCQUFxQmxCLGFBQ3hCcG9CLElBQUksQ0FDSGtwQiwyUkFBdUJBLENBQ3JCN3ZCLGNBQWMsZUFBZSxnQkFBZ0Isc0JBR2hEdkssU0FBUyxDQUFDLENBQUN1RDtnQkFDVixNQUFNOGYsU0FDSjlZLGNBQWMsZUFBZWhILEVBQUVzckIsV0FBVyxHQUFHdHJCLEVBQUVrM0IsaUJBQWlCO2dCQUNsRSxJQUFJdEIsYUFBYXVCLFNBQVMsS0FBS3JYLFFBQVE7Z0JBQ3ZDOFYsYUFBYXVCLFNBQVMsR0FBR3JYLFVBQVU7Z0JBQ25DLElBQUlrSyxjQUFjRyxhQUFhO29CQUM3Qjc0QixXQUFXO3dCQUNUc2tDLGFBQWF1QixTQUFTLEdBQUdyWCxVQUFVO3dCQUNuQzhWLGFBQWF3QixJQUFJLEdBQUd0NEIsS0FBSyxDQUFDLENBQUNuRjs0QkFDekIsSUFBSSxDQUFDbEosTUFBTSxDQUFDLFFBQVEsQ0FBdUIsd0JBQUVrSjt3QkFDL0M7Ozs7dUJBSUM7O1lBRVA7WUFFRixPQUFPO2dCQUNMbThCLDJCQUEyQm5uQyxhQUFhbW9DLElBQUksRUFBRXAyQztnQkFDOUN1MUMscUNBQXFDdjVCO2dCQUNyQ2s2Qiw2QkFBNkJsNkI7Z0JBQzdCdTZCLG1CQUFtQnY2QixXQUFXO2dCQUM5QjY1QixnQkFBZ0JuRDtZQUNsQjtRQUNGO1FBRUE7Ozs7Ozs7Ozs7U0FVRyxHQUNILElBQWdCLENBQUFpRSxnQkFBQSxHQUFHLENBQ2pCQyxjQUNBcnhCLFdBQ0FlO1lBRUEsTUFBTVgsY0FBYyxJQUFJLENBQUN3RCxTQUFTLENBQUM3RCwwQkFBMEIsQ0FBQ0M7WUFDOUQsSUFBSSxDQUFDSSxlQUFlQSxZQUFZZ0Usa0JBQWtCLEVBQUU7WUFFcEQsTUFBTTByQixlQUFlLElBQUksQ0FBQ2xzQixTQUFTLENBQUM2RCxhQUFhLENBQUNDLElBQUksQ0FDcEQ5ckIsdVFBQUdBLENBQ0QsQ0FBQ3lqQixlQUNDQSxhQUFhcmtCLElBQUksQ0FDZixDQUFDK2UsSUFBTUEsRUFBRWlHLFNBQVMsS0FBS0EsYUFHN0IrdkIsNlFBQVNBLENBQUMsQ0FBQ2gyQixJQUFNLENBQUMsQ0FBQ0EsSUFDbkJxTyx3UkFBb0JBLElBQ3BCUiwrUUFBV0EsQ0FBQztnQkFBRUMsWUFBWTtnQkFBR0MsVUFBVTtZQUFJO1lBRzdDLE1BQU13cEIsZ0NBQWdDeEIsYUFDbkNwb0IsSUFBSSxDQUNIa3BCLDJSQUF1QkEsQ0FDckI3dkIsY0FBYywwQkFDViwyQkFDQSxnQkFHUHZLLFNBQVMsQ0FBQyxDQUFDdUQ7Z0JBQ1YsTUFBTThmLFNBQ0o5WSxjQUFjLDBCQUNWaEgsRUFBRXczQixzQkFBc0IsR0FDeEJ4M0IsRUFBRXFyQixXQUFXO2dCQUNuQixJQUFJaU0sYUFBYUgsU0FBUyxLQUFLclgsUUFBUTtnQkFFdkN4dUIsV0FBVztvQkFDVGdtQyxhQUFhSCxTQUFTLEdBQUdyWCxVQUFVO29CQUNuQyxJQUFJd1gsYUFBYUgsU0FBUyxFQUFFO3dCQUMxQkcsYUFBYUYsSUFBSSxHQUFHdDRCLEtBQUssQ0FBQyxDQUFDbkY7NEJBQ3pCLElBQUksQ0FBQ2xKLE1BQU0sQ0FBQyxRQUFRLENBQXVCLHdCQUFFa0o7d0JBQy9DOzs7O3dCQUtBLE1BQU0sRUFBRTg5QixjQUFjLEVBQUUsR0FBRyxJQUFJLENBQUN2RCxPQUFPLENBQUN6MUIsS0FBSzt3QkFDN0MsSUFBSWc1QixrQkFBa0IsZUFBZUgsY0FBYzs0QkFDakRBLGFBQWFJLFNBQVMsQ0FBQ0Q7OztnQkFHN0I7WUFDRjtZQUVGLE1BQU1FLHFCQUFxQixDQUFFLGdCQUFlTCxZQUFBLElBQ3hDLE9BQ0EsSUFBSSxDQUFDcEQsT0FBTyxDQUFDejFCLEtBQUssQ0FBQzR5QixlQUFlLENBQUM1MEIsU0FBUyxDQUFDLENBQUM4MEI7Z0JBQzVDLElBQUlBLFVBQVU7b0JBQ1orRixhQUFhSSxTQUFTLENBQUNuRzs7WUFFM0I7WUFFSixNQUFNcUcscUJBQXFCcDdCLGlSQUFhQSxDQUFDO2dCQUN2QyxJQUFJLENBQUMwM0IsT0FBTyxDQUFDejFCLEtBQUssQ0FBQ281QixPQUFPO2dCQUMxQjlCLGFBQWFwb0IsSUFBSSxDQUFDa3BCLDJSQUF1QkEsQ0FBQzthQUMzQyxFQUFFcDZCLFNBQVMsQ0FBQyxDQUFDLENBQUNxN0IsUUFBUTkzQixFQUFFO2dCQUN2QnMzQixhQUFhUSxNQUFNLEdBQUc5M0IsRUFBRSszQixXQUFXLElBQUlEO1lBQ3pDO1lBRUFSLGFBQWFQLFFBQVEsR0FBRztZQUV4QixPQUFPO2dCQUNMWSxvQkFBb0JqN0I7Z0JBQ3BCazdCLG1CQUFtQmw3QixXQUFXO2dCQUM5QjY2Qiw4QkFBOEI3NkIsV0FBVztZQUMzQztRQUNGO1FBaGNFLElBQUksQ0FBQ21OLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDcXFCLE9BQU8sR0FBR0E7O0lBR2pCcmlCLGFBQWFiLFNBQXNDO1FBQ2pELElBQUksQ0FBQ0EsU0FBUyxHQUFHQTs7SUFHbkIsSUFBSW1rQixxQkFBa0I7UUFDcEIsTUFBTTlqQixnQkFBNEMsRUFBRTtRQUNwRCxLQUFLLE1BQU1yUixLQUFLLElBQUksQ0FBQzZKLFNBQVMsQ0FBQ3NHLGtCQUFrQixDQUFFOzs7O1lBSWpELElBQUluUSxFQUFFOFYsY0FBYyxJQUFJL1YsU0FBU0MsSUFBSTtnQkFDbkMsTUFBTSswQixXQUNKLElBQUksQ0FBQ2lELCtCQUErQixDQUFDaDRCLEVBQUVpRyxTQUFTLENBQUMsSUFDakQsSUFBSSxDQUFDK3hCLCtCQUErQixDQUFDaEUsa0JBQWtCO2dCQUV6RCxJQUFJZSxVQUFVMWIsWUFBWSxPQUFPO29CQUMvQmhJLGNBQWN2dkIsSUFBSSxDQUFDO3dCQUNqQnFxQixRQUFRbk0sRUFBRW1NLE1BQU07d0JBQ2hCbEcsV0FBV2pHLEVBQUVpRyxTQUFTO3dCQUN0QmUsV0FBV2hqQixVQUFVbWMsS0FBSzt3QkFDMUJpSCxXQUFXMnRCLFVBQVUzdEIsYUFBYXBILEVBQUU4VixjQUFjO29CQUNuRDs7O1lBR0wsSUFBSTlWLEVBQUVpNEIsb0JBQW9CLElBQUkzM0IsZUFBZU4sSUFBSTtnQkFDL0NxUixjQUFjdnZCLElBQUksQ0FBQztvQkFDakJxcUIsUUFBUW5NLEVBQUVtTSxNQUFNO29CQUNoQmxHLFdBQVdqRyxFQUFFaUcsU0FBUztvQkFDdEJlLFdBQVdoakIsVUFBVXVjLFlBQVk7b0JBQ2pDNkcsV0FBV3BILEVBQUVpNEIsb0JBQW9CO2dCQUNsQzs7WUFFSCxJQUFJejNCLG9CQUFvQlIsSUFBSTtnQkFDMUJxUixjQUFjdnZCLElBQUksQ0FBQztvQkFDakJxcUIsUUFBUW5NLEVBQUVtTSxNQUFNO29CQUNoQmxHLFdBQVdqRyxFQUFFaUcsU0FBUztvQkFDdEJlLFdBQVdoakIsVUFBVXljLGtCQUFrQjtnQkFDeEM7OztRQUdMLE9BQU80UTs7SUFHVCxJQUFJMm1CLGtDQUErQjtRQUNqQyxPQUFPMTdCLGdCQUFnQixJQUFJLENBQUNnNEIsZ0NBQWdDOztBQWlaL0Q7QUNuakJEOzs7Ozs7OztDQVFHLFNBQ1U0RDtJQUFidjVDLGFBQUE7UUFDVSxJQUFXLENBQUF3NUMsV0FBQSxHQUFvQixFQUFFO1FBR3pDOzs7O1NBSUcsR0FDSCxLQUFBQyxjQUFjLEdBQUcsQ0FBQ0Q7WUFDaEIsSUFBSSxDQUFDQSxXQUFXLEdBQUdBLGVBQWUsRUFBRTtRQUN0QztRQUVBOzs7U0FHRyxHQUNILEtBQUFFLGVBQWUsR0FBRyxDQUFDNXVCO1lBQ2pCLElBQUksQ0FBQ0EsUUFBUSxHQUFHQTtRQUNsQjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBdWQsYUFBYSxHQUFHLENBQUNzUjtZQUNmLE9BQU8sSUFBSSxDQUFDSCxXQUFXLENBQUNqNEIsUUFBUSxDQUFDbzRCO1FBQ25DO1FBRUE7OztTQUdHLEdBQ0gsS0FBQUMsVUFBVSxHQUFHLENBQUN2eEI7WUFDWixPQUFRQTtnQkFDTixLQUFLaGpCLFVBQVVxYyxLQUFLO29CQUNsQixPQUFPLElBQUksQ0FBQzJtQixhQUFhLENBQUMxckMsY0FBY2EsVUFBVTtnQkFDcEQsS0FBSzZILFVBQVVtYyxLQUFLO29CQUNsQixPQUFPLElBQUksQ0FBQzZtQixhQUFhLENBQUMxckMsY0FBY2MsVUFBVTtnQkFDcEQsS0FBSzRILFVBQVV1YyxZQUFZO2dCQUMzQixLQUFLdmMsVUFBVXljLGtCQUFrQjtvQkFDL0IsT0FBTyxJQUFJLENBQUN1bUIsYUFBYSxDQUFDMXJDLGNBQWNZLFdBQVc7Z0JBQ3JELEtBQUs4SCxVQUFVdXdCLFdBQVc7b0JBQ3hCLE9BQU87Z0JBQ1Q7b0JBQ0VILGdCQUFnQnBOLFdBQVc7O1FBRWpDO1FBRUE7Ozs7OztTQU1HLEdBQ0gsSUFBVSxDQUFBd3hCLFVBQUEsR0FBRyxDQUNYRixZQUNBN3VCLFdBQTZDLElBQUksQ0FBQ0EsUUFBUTtZQUUxRCxJQUFJLENBQUNBLFVBQVUsT0FBTztZQUV0QixNQUFNLEVBQUVtUyxLQUFLLEVBQUU2YyxLQUFLLEVBQUVDLGFBQWEsRUFBRSxHQUFHanZCO1lBQ3hDLE9BQVE2dUI7Z0JBQ04sS0FBS2g5QyxjQUFjYSxVQUFVO29CQUMzQixPQUFPeS9CLE1BQU0rYyxzQkFBc0I7Z0JBQ3JDLEtBQUtyOUMsY0FBY2MsVUFBVTtvQkFDM0IsT0FBT3E4QyxNQUFNRSxzQkFBc0I7Z0JBQ3JDLEtBQUtyOUMsY0FBY1ksV0FBVztvQkFDNUIsT0FBT3c4QyxjQUFjQyxzQkFBc0I7Z0JBQzdDO29CQUNFLE9BQU87O1FBRWI7O0FBQ0Q7QUN2RUQ7O0NBRUcsU0FDVUM7SUFXWDs7Ozs7S0FLRyxHQUNIajZDLFlBQ0VFLElBQVksRUFDWlEsVUFBMkI7UUFDekJpbEIsb0JBQW9CcEM7SUFDckI7UUFFRCxJQUFJLENBQUNyakIsSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ1EsT0FBTyxHQUFHQTs7QUFFbEI7QUFFRDs7O0NBR0csR0FDSCxNQUFNdzVDO0lBT0o7Ozs7S0FJRyxHQUNIbDZDLFlBQVltNkMsU0FBcUI7UUFVakM7Ozs7U0FJRyxHQUNILEtBQUFDLFFBQVEsR0FBRyxDQUFDQztZQUNWLElBQUksQ0FBQ0YsU0FBUyxDQUFDRSxTQUFTbjZDLElBQUksQ0FBQyxHQUFHbTZDO1FBQ2xDO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFDLFVBQVUsR0FBRyxDQUFDcDZDO1lBQ1osT0FBTyxJQUFJLENBQUNpNkMsU0FBUyxDQUFDajZDLEtBQUs7UUFDN0I7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQXVjLEdBQUcsR0FBRyxDQUFDdmM7WUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDaTZDLFNBQVMsQ0FBQ2o2QyxLQUFLLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQ2s2QyxRQUFRLENBQUMsSUFBSUgsU0FBUy81Qzs7WUFFN0IsT0FBTyxJQUFJLENBQUNpNkMsU0FBUyxDQUFDajZDLEtBQUs7UUFDN0I7UUFyQ0UsSUFBSSxDQUFDaTZDLFNBQVMsR0FBR0EsVUFBVTN5QixNQUFNLENBQy9CLENBQUNlLEtBQUs4eEI7WUFDSjl4QixHQUFHLENBQUM4eEIsU0FBU242QyxJQUFJLENBQUMsR0FBR202QztZQUNyQixPQUFPOXhCO1dBRVQ7O0FBaUNMO0FBRUQ7OztDQUdHLEdBQ1UsTUFBQWd5QixZQUFZLElBQUlMLGtCQUFrQjtJQUM3QyxJQUFJRCxTQUFTLFdBQVc7UUFDdEJ0MEIsb0JBQW9CcEM7O0lBRXRCLElBQUkwMkIsU0FBUyxlQUFlO1FBQzFCdDBCLG9CQUFvQnBDOztJQUV0QixJQUFJMDJCLFNBQVMsY0FBYztRQUN6QnQwQixvQkFBb0JqQzs7SUFFdEIsSUFBSXUyQixTQUFTLGNBQWM7UUFDekJ0MEIsb0JBQW9CakM7O0NBRXZCO01DL0dZODJCO0lBUVh4NkMsWUFBNkIyNUMsVUFBbUM7UUFBbkMsSUFBVSxDQUFBQSxVQUFBLEdBQVZBO1FBTnJCLEtBQUFjLGlCQUFpQixHQUFHLElBQUluOUI7UUFFeEIsSUFBVyxDQUFBbzlCLFdBQUEsR0FBWTtRQUN2QixLQUFBNS9CLFNBQVMsR0FBRyxJQUFJeXhCO1FBQ2hCLEtBQUF6NkIsTUFBTSxHQUFHK0UsVUFBVTtZQUFDO1NBQWM7UUFHeEMsTUFBTVUsU0FBUyxJQUFJLENBQUNrakMsaUJBQWlCLENBQUNsakMsTUFBTTtRQUU1QyxJQUFJLENBQUN1cUIsS0FBSyxHQUFHLENBQUM7WUFDWixNQUFNNlksZ0JBQWdCLENBQUMxa0M7Z0JBQ3JCLElBQUksQ0FBQzJrQyxRQUFRLENBQUM7WUFDaEI7WUFFQSxJQUFJLENBQUNDLHVCQUF1QjtnQkFDMUIsT0FBT0Y7O1lBR1QsSUFBSTtnQkFDRixNQUFNdmxDLFNBQVMsTUFBTUksVUFBVWdrQyxXQUFXLENBQUNzQixLQUFLLENBQUM7b0JBQy9DNTZDLE1BQU15NUMsV0FBV29CLFNBQVM7Z0JBQzNCO2dCQUVELElBQUksQ0FBQ3hqQyxPQUFPUSxPQUFPLEVBQUU7b0JBQ25CLElBQUksQ0FBQzZpQyxRQUFRLENBQUN4bEMsT0FBTzBLLEtBQUs7b0JBQzFCMUssT0FBT0wsZ0JBQWdCLENBQUMsVUFBVSxJQUFNLElBQUksQ0FBQzZsQyxRQUFRLENBQUN4bEMsT0FBTzBLLEtBQUssR0FBRzt3QkFDbkV2STtvQkFDRDs7Y0FFSCxPQUFPRSxLQUFLO2dCQUNaa2pDOzs7O0lBS045K0IsVUFBTztRQUNMLElBQUksQ0FBQ2lFLEtBQUssR0FBRy9kO1FBQ2IsSUFBSSxDQUFDMDRDLGlCQUFpQixDQUFDajlCLEtBQUs7O0lBRzlCLE1BQU13OUIsV0FBUTtRQUNaLE1BQU0sSUFBSSxDQUFDbFosS0FBSztRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDaGlCLEtBQUssRUFBRTtZQUNmLE1BQU0sSUFBSWxnQixNQUFNOztRQUVsQixPQUFPLElBQUksQ0FBQ2tnQixLQUFLOztJQUduQixNQUFNbTdCLE9BQU8sRUFDWEMsY0FBYyxLQUFLLEVBQ25CQyxvQkFBb0IsS0FBSyxLQUNpQyxFQUFFO1FBQzVELE9BQU8sTUFBTW4vQixtQkFDWCxxQkFBcUIsSUFBSSxDQUFDMjlCLFVBQVUsQ0FBQ29CLFNBQVMsRUFBRSxFQUNoRDtZQUNFLElBQ0UsTUFBTyxJQUFJLENBQUNDLFFBQVEsT0FBUSxZQUMzQixJQUFJLENBQUNOLFdBQVcsSUFBSSxDQUFDUSxhQUN0QjtnQkFDQSxNQUFNRSxZQUFZLElBQUksQ0FBQ3Q3QixLQUFLLEtBQUs7Z0JBRWpDLElBQUksQ0FBQ3M3QixhQUFhRCxtQkFBbUI7b0JBQ25DLE1BQU0sSUFBSXY3QyxNQUNSOztnQkFJSixPQUFPdzdDOztZQUdULElBQUk7Z0JBQ0YsSUFBSSxDQUFDVixXQUFXLEdBQUc7Z0JBQ25CLE1BQU0vSyxTQUFTLE1BQU1uNkIsVUFBVTZsQyxZQUFZLENBQUNDLFlBQVksQ0FDdEQsSUFBSSxDQUFDM0IsVUFBVSxDQUFDNEIsV0FBVztnQkFFN0JDLHFCQUFxQjdMO2dCQUNyQixJQUFJLENBQUNpTCxRQUFRLENBQUM7Z0JBQ2QsT0FBTztjQUNQLE9BQU81L0IsR0FBRztnQkFDVixJQUNFQSxLQUNBLE9BQU9BLE1BQU0sWUFDYixVQUFVQSxLQUNUQSxDQUFBQSxFQUFFOWEsSUFBSSxLQUFLLHFCQUFxQjhhLEVBQUU5YSxJQUFJLEtBQUssa0JBQzVDO29CQUNBLElBQUksQ0FBQzRSLE1BQU0sQ0FBQyxRQUFRLHNDQUFzQzt3QkFDeEQ2bkMsWUFBWSxJQUFJLENBQUNBLFVBQVU7b0JBQzVCO29CQUNELElBQUksQ0FBQ2lCLFFBQVEsQ0FBQztvQkFFZCxJQUFJTyxtQkFBbUI7d0JBQ3JCLE1BQU1uZ0M7O29CQUdSLE9BQU87O2dCQUdULElBQUksQ0FBQ2xKLE1BQU0sQ0FBQyxTQUFTLHdCQUF3QixFQUFFO29CQUM3Q21FLE9BQU8rRTtvQkFDUDIrQixZQUFZLElBQUksQ0FBQ0EsVUFBVTtnQkFDNUI7Z0JBQ0QsTUFBTTMrQjs7UUFFVjs7SUFJSnlnQyxPQUFPNW1DLEVBQW9DO1FBQ3pDLElBQUksQ0FBQ2lHLFNBQVMsQ0FBQ2tOLEdBQUcsQ0FBQ25UO1FBQ25CLElBQUksSUFBSSxDQUFDaUwsS0FBSyxFQUFFakwsR0FBRyxJQUFJLENBQUNpTCxLQUFLO1FBQzdCLE9BQU8sSUFBTSxJQUFJLENBQUNoRixTQUFTLENBQUNzQyxNQUFNLENBQUN2STs7SUFHckM0TCxlQUFZO1FBQ1YsT0FBT2k3QixvUkFBZ0JBLENBQ3JCLENBQUNsOUIsVUFBWSxJQUFJLENBQUNpOUIsTUFBTSxDQUFDajlCLFVBQ3pCLENBQUNBLFNBQVNtOUIsV0FBYUEsWUFDdkIzc0IsSUFBSTs7OztRQUtKOXJCLHVRQUFHQSxDQUFDLENBQUM0YyxRQUFVQSxVQUFVOztJQUlyQjg2QixTQUFTOTZCLEtBQXNCO1FBQ3JDLElBQUksSUFBSSxDQUFDQSxLQUFLLEtBQUtBLE9BQU87WUFDeEIsSUFBSSxDQUFDQSxLQUFLLEdBQUdBO1lBQ2IsSUFBSSxDQUFDaEYsU0FBUyxDQUFDcEMsT0FBTyxDQUFDLENBQUNrakMsV0FBYUEsU0FBUzk3Qjs7O0FBR25EO0FBRUQsU0FBUys2QjtJQUNQLE9BQ0UsQ0FBQ3RsQyxtQkFDRCxPQUFPQyxjQUFjLGVBQ3JCLENBQUMsQ0FBQ0EsVUFBVWdrQyxXQUFXLEVBQUVzQjtBQUU3QjtBQzFJQTs7Ozs7O0NBTUcsR0FDSCxNQUFNZSxhQUFhLENBQUNsQyxZQUErQng1QztJQUNqRCxPQUFPd0Qsd1FBQUlBLENBQ1QsQ0FBQztRQUNDLElBQUlndkMsVUFBVSxNQUFNbjlCLFVBQVU2bEMsWUFBWSxDQUFDUyxnQkFBZ0I7OztRQUczRCxNQUFNQyxtQ0FBbUNwSixRQUFRM3ZCLElBQUksQ0FDbkQsQ0FBQ3V1QixTQUFXQSxPQUFPcHhDLElBQUksS0FBS0EsUUFBUW94QyxPQUFPd0IsS0FBSyxLQUFLO1FBRXZELElBQUlnSixvQ0FBcUMsTUFBTXBDLFdBQVdzQixNQUFNLElBQUs7WUFDbkV0SSxVQUFVLE1BQU1uOUIsVUFBVTZsQyxZQUFZLENBQUNTLGdCQUFnQjs7UUFFekQsT0FBT25KLFFBQVExN0IsTUFBTSxDQUNuQixDQUFDczZCLFNBQ0NBLE9BQU9weEMsSUFBSSxLQUFLQSxRQUNoQm94QyxPQUFPd0IsS0FBSyxLQUFLLE1BQ2pCeEIsT0FBT3FCLFFBQVEsS0FBSzs7QUFJOUI7QUFFQTs7O0NBR0csR0FDSSxNQUFNb0osb0NBQW9DO0lBQy9DLElBQUksT0FBT25GLGFBQWEsYUFBYSxPQUFPO0lBQzVDLE1BQU01QixVQUFVNEIsU0FBU29GLGFBQWEsQ0FBQztJQUN2QyxPQUFPLGVBQWVoSDtBQUN4QjtBQUVBOztDQUVHLEdBQ0gsTUFBTWlILHlCQUF5QjtJQUM3QmpmLE9BQU87UUFDTGtmLGlCQUFpQjtRQUNqQkMsa0JBQWtCO1FBQ2xCQyxrQkFBa0I7SUFDbkI7O0FBR0g7O0NBRUcsR0FDSCxNQUFNQyx5QkFBeUI7SUFDN0J4QyxPQUFPO1FBQ0xueEIsT0FBTztRQUNQRCxRQUFRO0lBQ1Q7O0FBR0g7OztDQUdHLEdBQ1UsTUFBQTZ6Qiw0QkFBNEI5YixLQUN2QyxJQUNFLElBQUkrWixrQkFBa0I7UUFDcEJlLGFBQWFXO1FBQ2JuQixXQUFXO0lBQ1o7QUFHTDs7O0NBR0csR0FDVSxNQUFBeUIsNEJBQTRCL2IsS0FDdkMsSUFDRSxJQUFJK1osa0JBQWtCO1FBQ3BCZSxhQUFhZTtRQUNidkIsV0FBVztJQUNaO0FBR0wsTUFBTTBCLDBCQUEwQmhjLEtBQUs7OztJQUduQyxJQUFJLENBQUNqckIsVUFBVTZsQyxZQUFZLENBQUN0bUMsZ0JBQWdCLEVBQUUsT0FBT3BSLHdRQUFJQSxDQUFDLEVBQUU7SUFDNUQsT0FBTys0Qyw2UUFBU0EsQ0FBQ2xuQyxVQUFVNmxDLFlBQVksRUFBRSxnQkFBZ0Jyc0IsSUFBSSxDQUMzRDlyQix1UUFBR0EsQ0FBQyxJQUFNbkIsWUFDVjQ2QyxnUkFBWUEsQ0FBQztBQUVqQjtBQUVBOzs7OztDQUtHLEdBQ1UsTUFBQUMsa0JBQWtCbmMsS0FBSztJQUNsQyxPQUFPb2MseVFBQUtBLENBQ1ZKLDJCQUNBRiw0QkFBNEI5N0IsWUFBWSxJQUN4Q3VPLElBQUksQ0FDSjh0Qiw2UUFBU0EsQ0FBQy82QyxZQUNWZzdDLDZRQUFTQSxDQUFDLElBQU1sQixXQUFXVSw2QkFBNkIsZ0JBQ3hEcnRCLCtRQUFXQSxDQUFDO0FBRWhCO0FBRUE7Ozs7O0NBS0csR0FDVSxNQUFBOHRCLGtCQUFrQnZjLEtBQUs7SUFDbEMsT0FBT29jLHlRQUFLQSxDQUNWSiwyQkFDQUQsNEJBQTRCLzdCLFlBQVksSUFDeEN1TyxJQUFJLENBQ0o4dEIsNlFBQVNBLENBQUMvNkMsWUFDVmc3Qyw2UUFBU0EsQ0FBQyxJQUFNbEIsV0FBV1csNkJBQTZCLGdCQUN4RHR0QiwrUUFBV0EsQ0FBQztBQUVoQjtBQUVBOzs7OztDQUtHLEdBQ1UsTUFBQSt0Qix3QkFBd0J4YyxLQUFLO0lBQ3hDLE9BQU9vYyx5UUFBS0EsQ0FDVkosMkJBQ0FGLDRCQUE0Qjk3QixZQUFZLElBQ3hDdU8sSUFBSSxDQUNKOHRCLDZRQUFTQSxDQUFDLzZDLFlBQ1ZnN0MsNlFBQVNBLENBQUMsSUFBTWxCLFdBQVdVLDZCQUE2QixpQkFDeERydEIsK1FBQVdBLENBQUM7QUFFaEI7QUFFQSxNQUFNZ3VCLFlBQVksT0FBTzNCO0lBQ3ZCLE1BQU01TCxTQUFTLE1BQU1uNkIsVUFBVTZsQyxZQUFZLENBQUNDLFlBQVksQ0FBQ0M7SUFDekQsSUFBSS9QLGFBQWE7Ozs7UUFJZmgyQixVQUFVNmxDLFlBQVksQ0FBQzhCLGFBQWEsQ0FBQyxJQUFJQyxNQUFNOztJQUVqRCxPQUFPek47QUFDVDtBQUVBLFNBQVMwTix1QkFBdUJwbkMsS0FBYztJQUM1QyxPQUNFQSxTQUNBLE9BQU9BLFVBQVUsWUFDaEIsV0FBV0EsU0FBU0EsTUFBTS9WLElBQUksS0FBSywwQkFDakMsYUFBYStWLFNBQ1osT0FBT0EsTUFBTXhWLE9BQU8sS0FBSyxZQUN6QndWLE1BQU14VixPQUFPLENBQUM2OEMsVUFBVSxDQUFDLHVCQUF1QjtBQUV4RDtBQUVBOzs7Ozs7O0NBT0csU0FDVUMsaUJBQWlCLE9BQzVCQztJQUVBLE1BQU1qQyxjQUFzQztRQUMxQ3RlLE9BQU87WUFDTCxHQUFHaWYsdUJBQXVCamYsS0FBSztZQUMvQixHQUFHdWdCLGdCQUFnQjtRQUNwQjs7SUFHSCxJQUFJO1FBQ0YsTUFBTWpCLDRCQUE0QnRCLE1BQU0sQ0FBQztZQUN2Q0UsbUJBQW1CO1lBQ25CRCxhQUFhO1FBQ2Q7UUFDRCxPQUFPLE1BQU1nQyxVQUFVM0I7TUFDdkIsT0FBT3RsQyxPQUFPO1FBQ2QsSUFBSW9uQyx1QkFBdUJwbkMsVUFBVXVuQyxrQkFBa0I1SyxVQUFVO1lBQy9ELE1BQU0sRUFBRUEsUUFBUSxFQUFFLEdBQUc2SyxvQkFBb0IsR0FBR0Q7WUFDNUMzbUMsVUFBVTtnQkFBQzthQUFVLEVBQ25CLFFBQ0EsdUVBQ0E7Z0JBQUVaO2dCQUFPc2xDO2dCQUFha0M7WUFBa0I7WUFFMUMsT0FBT0YsZUFBZUU7O1FBR3hCNW1DLFVBQVU7WUFBQztTQUFVLEVBQUUsU0FBUyw4QkFBOEI7WUFDNURaO1lBQ0FzbEM7UUFDRDtRQUNELE1BQU10bEM7O0FBRVY7QUFFQTs7Ozs7OztDQU9HLFNBQ1V5bkMsaUJBQWlCLE9BQzVCRjtJQUVBLE1BQU1qQyxjQUFzQztRQUMxQ3pCLE9BQU87WUFDTCxHQUFHd0MsdUJBQXVCeEMsS0FBSztZQUMvQixHQUFHMEQsZ0JBQWdCO1FBQ3BCOztJQUVILElBQUk7UUFDRixNQUFNaEIsNEJBQTRCdkIsTUFBTSxDQUFDO1lBQ3ZDRSxtQkFBbUI7WUFDbkJELGFBQWE7UUFDZDtRQUNELE9BQU8sTUFBTWdDLFVBQVUzQjtNQUN2QixPQUFPdGxDLE9BQU87UUFDZCxJQUFJb25DLHVCQUF1QnBuQyxVQUFVdW5DLGtCQUFrQjVLLFVBQVU7WUFDL0QsTUFBTSxFQUFFQSxRQUFRLEVBQUUsR0FBRzZLLG9CQUFvQixHQUFHRDtZQUM1QzNtQyxVQUFVO2dCQUFDO2FBQVUsRUFDbkIsUUFDQSx1RUFDQTtnQkFBRVo7Z0JBQU9zbEM7Z0JBQWFrQztZQUFrQjtZQUUxQyxPQUFPQyxlQUFlRDs7UUFHeEI1bUMsVUFBVTtZQUFDO1NBQVUsRUFBRSxTQUFTLDhCQUE4QjtZQUM1RFo7WUFDQXNsQztRQUNEO1FBQ0QsTUFBTXRsQzs7QUFFVjtBQUVBOzs7Ozs7Ozs7Q0FTRyxTQUNVMG5DLHVCQUF1QixPQUNsQ2o5QztJQUVBLElBQUk7UUFDRixPQUFPLE1BQU04VSxVQUFVNmxDLFlBQVksQ0FBQ3VDLGVBQWUsQ0FBQztZQUNsRDlELE9BQU87WUFDUDdjLE9BQU87Z0JBQ0xILGNBQWM7b0JBQ1orZ0IsT0FBTztnQkFDUjtnQkFDRHhCLGtCQUFrQjtnQkFDbEJGLGlCQUFpQjtnQkFDakJDLGtCQUFrQjtZQUNuQjs7WUFFRDBCLGFBQWE7WUFDYixHQUFHcDlDLE9BQU87UUFDWDtNQUNELE9BQU9zYSxHQUFHO1FBQ1ZuRSxVQUFVO1lBQUM7U0FBVSxFQUFFLFNBQVMscUNBQXFDbUU7UUFDckUsTUFBTUE7O0FBRVY7QUFFYSxNQUFBK2lDLGFBQ1gsT0FBT3ZvQyxjQUFjLGVBQ3JCLE9BQU9BLFVBQVU2bEMsWUFBWSxLQUFLLGNBQzlCb0IsMEJBQTBCenRCLElBQUksQ0FDNUI4dEIsNlFBQVNBLENBQUMvNkMsWUFDVmc3Qyw2UUFBU0EsQ0FBQyxJQUFNdm5DLFVBQVU2bEMsWUFBWSxDQUFDUyxnQkFBZ0IsS0FDdkQ1c0IsK1FBQVdBLENBQUMsTUFFZG50QjtBQUVOOzs7OztDQUtHLEdBQ1UsTUFBQXk1Qyx1QkFBdUIsQ0FBQzdMO0lBQ25DLElBQUksQ0FBQ0EsT0FBTzFYLE1BQU0sRUFBRTtJQUNwQjBYLE9BQU90UixTQUFTLEdBQUczbEIsT0FBTyxDQUFDLENBQUM0Z0I7UUFDMUJBLE1BQU0xZ0IsSUFBSTtJQUNaOztJQUVBLElBQUksT0FBTysyQixPQUFPcU8sT0FBTyxLQUFLLFlBQVk7O1FBRXhDck8sT0FBT3FPLE9BQU87O0FBRWxCO01DbFRzQkM7SUFrQnBCaitDLFlBQ3FCK1MsSUFBVSxFQUNiK00sS0FBUSxFQUNMdUksU0FBb0I7UUFGcEIsSUFBSSxDQUFBdFYsSUFBQSxHQUFKQTtRQUNILElBQUssQ0FBQStNLEtBQUEsR0FBTEE7UUFDRyxJQUFTLENBQUF1SSxTQUFBLEdBQVRBO1FBakJyQjs7U0FFRyxHQUNILElBQVcsQ0FBQTYxQixXQUFBLEdBQUc7UUFHSixJQUFhLENBQUF4ckIsYUFBQSxHQUFlLEVBQUU7UUFDaEMsSUFBMkIsQ0FBQXlyQiwyQkFBQSxHQUFHO1FBQzlCLElBQU8sQ0FBQUMsT0FBQSxHQUE2QixFQUFFO1FBQ3RDLEtBQUFDLDBCQUEwQixHQUFHei9CLE9BQU87UUFDcEMsS0FBQTAvQixnQ0FBZ0MsR0FBRzEvQixPQUN6QztRQXlMRjs7OztTQUlHLEdBQ0gsSUFBTyxDQUFBL0MsT0FBQSxHQUFHO1lBQ1IsSUFBSSxDQUFDNlcsYUFBYSxDQUFDaGEsT0FBTyxDQUFDLENBQUMzRSxJQUFNQTtRQUNwQztRQXhMRSxJQUFJLENBQUNqQyxNQUFNLEdBQUcrRSxVQUFVO1lBQUMsQ0FBRyxFQUFBeFIsU0FBUyxDQUFDZ2pCLFVBQVUsQ0FBQzNTLFdBQVcsR0FBWTtTQUFDO1FBQ3pFLElBQ0Vxb0MsY0FDQSxDQUFDeG9DLG1CQUNBLEtBQUksQ0FBQzhTLFNBQVMsS0FBS2hqQixVQUFVcWMsS0FBSyxJQUFJLElBQUksQ0FBQzJHLFNBQVMsS0FBS2hqQixVQUFVbWMsS0FBSyxHQUN6RTtZQUNBLElBQUksQ0FBQys4QixtQ0FBbUM7OztJQUk1Qzs7Ozs7O0tBTUcsR0FDSDlMLGNBQVc7UUFDVCxPQUFPLElBQUksQ0FBQ29KLFVBQVU7O0lBR3hCOztLQUVHLEdBQ0gsSUFBSW5oQixVQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUM1YSxLQUFLLENBQUMxSyxNQUFNLEtBQUs7O0lBRy9COztLQUVHLEdBQ0gsTUFBTW9wQyxTQUFNO1FBQ1YsSUFBSSxDQUFDMStCLEtBQUssQ0FBQzIrQixVQUFVLEdBQUcsSUFBSSxDQUFDMytCLEtBQUssQ0FBQzQrQixnQkFBZ0I7UUFDbkQsSUFBSSxJQUFJLENBQUM1K0IsS0FBSyxDQUFDNCtCLGdCQUFnQixLQUFLLFdBQVc7WUFDN0M7O1FBRUYsSUFBSSxDQUFDNStCLEtBQUssQ0FBQzYrQixnQkFBZ0IsQ0FBQztRQUU1QixNQUFNeGlDLGlCQUFpQixJQUFJLENBQUNraUMsMEJBQTBCLEVBQUUsT0FBTzltQztZQUM3RCxJQUFJO2dCQUNGLE1BQU0sSUFBSSxDQUFDcW5DLFlBQVk7Z0JBQ3ZCLElBQUksQ0FBQzkrQixLQUFLLENBQUMrK0IsU0FBUyxDQUFDO3FCQUNiO2dCQUNSLElBQUksQ0FBQ3RuQyxPQUFPUSxPQUFPLEVBQUU7b0JBQ25CLElBQUksQ0FBQytILEtBQUssQ0FBQzYrQixnQkFBZ0IsQ0FBQyxJQUFJLENBQUM3K0IsS0FBSyxDQUFDMUssTUFBTTs7O1FBR25EOztJQUdGOzs7S0FHRyxHQUNILE1BQU0wekIsUUFBUWdXLFlBQXFCLEtBQUs7UUFDdEMsSUFBSSxDQUFDaC9CLEtBQUssQ0FBQzIrQixVQUFVLEdBQUcsSUFBSSxDQUFDMytCLEtBQUssQ0FBQzQrQixnQkFBZ0I7UUFDbkQsSUFBSSxDQUFDSSxhQUFhLElBQUksQ0FBQ2gvQixLQUFLLENBQUM0K0IsZ0JBQWdCLEtBQUssWUFBWTtZQUM1RDs7UUFHRixJQUFJLENBQUM1K0IsS0FBSyxDQUFDNitCLGdCQUFnQixDQUFDO1FBRTVCLE1BQU14aUMsaUJBQWlCLElBQUksQ0FBQ2tpQywwQkFBMEIsRUFBRSxPQUFPOW1DO1lBQzdELElBQUk7Z0JBQ0YsTUFBTXVqQixhQUNKZ2tCLGFBQWEsSUFBSSxDQUFDaC9CLEtBQUssQ0FBQ2kvQixXQUFXLEtBQUs7Z0JBQzFDLE1BQU0sSUFBSSxDQUFDQyxVQUFVLENBQUNsa0I7Z0JBQ3RCLElBQUksQ0FBQ2hiLEtBQUssQ0FBQysrQixTQUFTLENBQUM7cUJBQ2I7Z0JBQ1IsSUFBSSxDQUFDdG5DLE9BQU9RLE9BQU8sRUFBRTtvQkFDbkIsSUFBSSxDQUFDK0gsS0FBSyxDQUFDNitCLGdCQUFnQixDQUFDLElBQUksQ0FBQzcrQixLQUFLLENBQUMxSyxNQUFNOzs7UUFHbkQ7O0lBR0Y7O0tBRUcsR0FDSCxNQUFNNnBDLHNCQUFtQjtRQUN2QixNQUFNMWlDLFFBQVEsSUFBSSxDQUFDOGhDLDBCQUEwQjs7SUFHL0M7O0tBRUcsR0FDSCxNQUFNYSxTQUFNO1FBQ1YsSUFDRSxJQUFJLENBQUNwL0IsS0FBSyxDQUFDMitCLFVBQVUsS0FBSyxhQUMxQixJQUFJLENBQUMzK0IsS0FBSyxDQUFDMUssTUFBTSxLQUFLLFdBQ3RCO1lBQ0EsTUFBTSxJQUFJLENBQUNvcEMsTUFBTTs7O0lBSXJCOzs7S0FHRyxHQUNILE1BQU1XLFNBQU07UUFDVixJQUFJLElBQUksQ0FBQ3IvQixLQUFLLENBQUM0K0IsZ0JBQWdCLEtBQUssV0FBVztZQUM3QyxPQUFPLE1BQU0sSUFBSSxDQUFDNVYsT0FBTztlQUNwQjtZQUNMLE9BQU8sTUFBTSxJQUFJLENBQUMwVixNQUFNOzs7SUFJNUI7Ozs7Ozs7O0tBUUcsR0FDSFksZUFDRW5vQyxNQUF5QjtRQUV6QixNQUFNcWUsUUFBZ0M7WUFDcEN1ZSxPQUFPNThCO1lBQ1AyQixNQUFNN1c7O1FBR1IsTUFBTXM5QyxhQUFhcmpDLG1CQUNqQixJQUFJLENBQUNzaUMsZ0NBQWdDLEVBQ3JDO1lBQ0UsSUFBSSxDQUFDRixPQUFPLENBQUNqN0MsSUFBSSxDQUFDbXlCO1lBQ2xCLE1BQU0sSUFBSSxDQUFDZ3FCLHFCQUFxQjtRQUNsQztRQUdGLE9BQU87WUFDTEQ7WUFDQS9FLFlBQVksSUFDVnQrQixtQkFBbUIsSUFBSSxDQUFDc2lDLGdDQUFnQyxFQUFFO29CQUN4RGhwQixNQUFNMWMsSUFBSTtvQkFDVixJQUFJLENBQUN3bEMsT0FBTyxHQUFHLElBQUksQ0FBQ0EsT0FBTyxDQUFDbm5DLE1BQU0sQ0FBQyxDQUFDMVUsSUFBTUEsTUFBTSt5QjtvQkFDaEQsTUFBTSxJQUFJLENBQUNncUIscUJBQXFCO2dCQUNsQzs7O0lBSU47Ozs7S0FJRyxHQUNIQyxzQkFBc0JoRSxXQUFjO1FBQ2xDLElBQUksQ0FBQ3o3QixLQUFLLENBQUN5L0IscUJBQXFCLENBQUNoRTs7SUFHbkM7Ozs7O0tBS0csR0FDSCxNQUFNaUUsT0FBTzVNLFFBQTRCO1FBQ3ZDLElBQUlyOUIsaUJBQWlCO1lBQ25CLE1BQU0sSUFBSTNWLE1BQ1I7O1FBR0osTUFBTTYvQyxlQUFlLElBQUksQ0FBQzMvQixLQUFLLENBQUNnNUIsY0FBYztRQUM5QyxJQUFJbEcsYUFBYTZNLGNBQWM7WUFDN0I7O1FBRUYsSUFBSTtZQUNGLElBQUksQ0FBQzMvQixLQUFLLENBQUM0L0IsU0FBUyxDQUFDOU07WUFDckIsTUFBTSxJQUFJLENBQUMwTSxxQkFBcUI7VUFDaEMsT0FBT3JwQyxPQUFPO1lBQ2QsSUFBSSxDQUFDNkosS0FBSyxDQUFDNC9CLFNBQVMsQ0FBQ0Q7WUFDckIsTUFBTXhwQzs7O0lBYUEsTUFBTXFwQyx3QkFBcUI7UUFDbkMsTUFBTW5qQyxpQkFBaUIsSUFBSSxDQUFDa2lDLDBCQUEwQixFQUFFO1lBQ3RELElBQUksSUFBSSxDQUFDM2pCLE9BQU8sRUFBRTtnQkFDaEIsTUFBTSxJQUFJLENBQUNza0IsVUFBVTtnQkFDckIsTUFBTSxJQUFJLENBQUNKLFlBQVk7O1FBRTNCOztJQU9RZSxjQUFjaFEsTUFBbUI7UUFDekMsT0FBTyxJQUFJLENBQUM1OEIsSUFBSSxDQUFDZ25CLE9BQU8sQ0FBQzRWLFFBQVEsSUFBSSxDQUFDdG5CLFNBQVM7O0lBR3ZDdTNCLG9CQUFpQjtRQUN6QixPQUFPLElBQUksQ0FBQzdzQyxJQUFJLENBQUM4c0MsV0FBVyxDQUFDLElBQUksQ0FBQ3gzQixTQUFTOztJQUduQ2dXLFlBQVM7UUFDakIsT0FBTyxJQUFJLENBQUN2ZSxLQUFLLENBQUNnZ0MsV0FBVyxFQUFFemhCLGVBQWUsRUFBRTs7SUFHeEMsTUFBTTJnQixXQUFXbGtCLGFBQXNCLElBQUk7UUFDbkQsTUFBTWdsQixjQUFjLElBQUksQ0FBQ2hnQyxLQUFLLENBQUNnZ0MsV0FBVztRQUMxQyxJQUFJLENBQUNBLGFBQWE7UUFDbEIsSUFBSSxDQUFDaHVDLE1BQU0sQ0FBQyxTQUFTLEdBQUdncEIsYUFBYSxhQUFhLFlBQVcsUUFBUztRQUN0RSxJQUFJLElBQUksQ0FBQy9uQixJQUFJLENBQUMrTSxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWEwTixNQUFNLEVBQUU7WUFDeEQsTUFBTSxJQUFJLENBQUNxekIsaUJBQWlCOztRQUU5QixJQUFJLENBQUNHLGVBQWUsQ0FBQ2psQjtRQUNyQixNQUFNa2xCLFdBQVcsSUFBSSxDQUFDM2hCLFNBQVMsR0FBRzJJLEtBQUssQ0FBQyxDQUFDcnVCLElBQU1BLEVBQUU4aEIsVUFBVSxLQUFLO1FBQ2hFLElBQUl1bEIsVUFBVTs7WUFFWixJQUFJLE9BQU9GLFlBQVk5QixPQUFPLEtBQUssWUFBWTs7Z0JBRTdDOEIsWUFBWTlCLE9BQU87O1lBRXJCLElBQUksQ0FBQ2wrQixLQUFLLENBQUNtZ0MsY0FBYyxDQUFDbCtDLFdBQVdBO1lBQ3JDLElBQUksQ0FBQ3E4QyxPQUFPLENBQUMxbEMsT0FBTyxDQUFDLENBQUM0YyxRQUFVQSxNQUFNMWMsSUFBSTs7O0lBSXRDc25DLGdCQUFhO1FBQ25CLElBQUksQ0FBQzdoQixTQUFTLEdBQUczbEIsT0FBTyxDQUFDLENBQUM0Z0I7WUFDeEIsSUFBSUEsTUFBTW9CLE9BQU8sRUFBRXBCLE1BQU1vQixPQUFPLEdBQUc7UUFDckM7O0lBR015bEIsZUFBWTtRQUNsQixJQUFJLENBQUM5aEIsU0FBUyxHQUFHM2xCLE9BQU8sQ0FBQyxDQUFDNGdCO1lBQ3hCLElBQUksQ0FBQ0EsTUFBTW9CLE9BQU8sRUFBRXBCLE1BQU1vQixPQUFPLEdBQUc7UUFDdEM7O0lBR01JLGFBQVU7UUFDaEIsSUFBSSxDQUFDdUQsU0FBUyxHQUFHM2xCLE9BQU8sQ0FBQyxDQUFDNGdCO1lBQ3hCLElBQUlBLE1BQU1tQixVQUFVLEtBQUssUUFBUW5CLE1BQU0xZ0IsSUFBSTtRQUM3Qzs7SUFHTW1uQyxnQkFBZ0JqbEIsVUFBbUI7UUFDekMsSUFBSSxDQUFDLElBQUksQ0FBQ2hiLEtBQUssQ0FBQ2dnQyxXQUFXLEVBQUU7WUFDM0I7O1FBRUYsSUFBSWhsQixZQUFZO1lBQ2QsSUFBSSxDQUFDQSxVQUFVO2VBQ1Y7WUFDTCxJQUFJLENBQUNvbEIsYUFBYTs7O0lBSVosTUFBTXRCLGVBQVk7UUFDMUIsSUFBSSxDQUFDOXNDLE1BQU0sQ0FBQyxTQUFTO1FBQ3JCLElBQUk2OUI7UUFDSixJQUFJeVE7UUFDSixJQUNFLElBQUksQ0FBQ3RnQyxLQUFLLENBQUNnZ0MsV0FBVyxJQUN0QixJQUFJLENBQUN6aEIsU0FBUyxHQUFHMkksS0FBSyxDQUFDLENBQUNydUIsSUFBTUEsRUFBRThoQixVQUFVLEtBQUssU0FDL0M7WUFDQWtWLFNBQVMsSUFBSSxDQUFDN3ZCLEtBQUssQ0FBQ2dnQyxXQUFXO1lBQy9CLElBQUksQ0FBQ0ssWUFBWTtlQUNaO1lBQ0wsTUFBTUUscUJBQXFCLElBQUksQ0FBQ3ZnQyxLQUFLLENBQUN1Z0Msa0JBQWtCO1lBQ3hELE1BQU05RSxjQUFxQztnQkFDekMsR0FBRzhFLGtCQUFrQjtnQkFDckJ6TixVQUFVLElBQUksQ0FBQzl5QixLQUFLLENBQUNnNUIsY0FBYyxHQUMvQjtvQkFBRXdILE9BQU8sSUFBSSxDQUFDeGdDLEtBQUssQ0FBQ2c1QixjQUFjO2dCQUFBLElBQ2xDLzJDOztZQUdOOzs7Ozs7Ozs7Ozs7Ozs7OzthQWlCRyxHQUNILE1BQU13K0MsWUFDSixDQUFDQyxlQUNELE9BQU9DO29CQUNMLElBQUksQ0FBQ0QsY0FBYyxPQUFPQzs7b0JBRTFCLE1BQU1DLFNBQVMsTUFBTUY7b0JBQ3JCQyxhQUFhcGlCLFNBQVMsR0FBRzNsQixPQUFPLENBQUMsQ0FBQzRnQjt3QkFDaEMsTUFBTXFuQixlQUFlcm5CLE1BQU0xZ0IsSUFBSTt3QkFDL0IwZ0IsTUFBTTFnQixJQUFJLEdBQUcsU0FBU0E7NEJBQ3BCK25DLGFBQWE1dEMsSUFBSSxDQUFDdW1COzRCQUNsQm9uQixPQUFPcmlCLFNBQVMsR0FBRzNsQixPQUFPLENBQUMsQ0FBQ2tvQztnQ0FDMUIsSUFBSUEsWUFBWXpnRCxJQUFJLEtBQUttNUIsTUFBTW41QixJQUFJLEVBQUU7b0NBQ25DeWdELFlBQVlob0MsSUFBSTs7NEJBRXBCO3dCQUNGO29CQUNGO29CQUVBOG5DLE9BQU9yaUIsU0FBUyxHQUFHM2xCLE9BQU8sQ0FBQyxDQUFDa29DOzs7Ozt3QkFLMUIsTUFBTUMseUJBQXlCOzRCQUM3QkosYUFBYXBpQixTQUFTLEdBQUczbEIsT0FBTyxDQUFDLENBQUM0Z0I7Z0NBQ2hDLElBQUlzbkIsWUFBWXpnRCxJQUFJLEtBQUttNUIsTUFBTW41QixJQUFJLEVBQUU7Z0NBQ3JDbTVCLE1BQU0xZ0IsSUFBSTtnQ0FDVjBnQixNQUFNNmpCLGFBQWEsQ0FBQyxJQUFJQyxNQUFNLFdBQVU7NEJBQzFDO3dCQUNGO3dCQUNBd0QsWUFBWTdyQyxnQkFBZ0IsQ0FBQyxTQUFTOHJDO3dCQUN0QyxJQUFJLENBQUNudUIsYUFBYSxDQUFDdnZCLElBQUksQ0FBQzs0QkFDdEJ5OUMsWUFBWTNyQyxtQkFBbUIsQ0FBQyxTQUFTNHJDO3dCQUMzQztvQkFDRjtvQkFFQSxPQUFPSjtnQkFDVDs7O1lBSUZMLGFBQWEsSUFBSSxDQUFDbEQsU0FBUyxDQUFDM0I7O1lBRTVCNUwsU0FBUyxNQUFNLElBQUksQ0FBQ3lPLE9BQU8sQ0FBQzUyQixNQUFNLENBQ2hDLENBQUNrNUIsUUFBUXByQixRQUNQb3JCLE9BQ0cxakMsSUFBSSxDQUFDLENBQUM4akM7b0JBQ0wsTUFBTSxFQUFFbG9DLElBQUksRUFBRW1vQyxNQUFNLEVBQUUsR0FBR3pyQixNQUFNdWUsS0FBSyxDQUFDaU47b0JBQ3JDeHJCLE1BQU0xYyxJQUFJLEdBQUdBO29CQUNiLE9BQU9tb0M7Z0JBQ1QsR0FDQy9qQyxJQUFJLENBQUN1akMsVUFBVUcsU0FBUyxDQUFDenFDO29CQUN4QixJQUFJLENBQUNuRSxNQUFNLENBQ1QsUUFDQSw4Q0FDQW1FO29CQUVGLE9BQU95cUM7Z0JBQ1QsSUFDSk47O1FBR0osSUFBSSxJQUFJLENBQUNydEMsSUFBSSxDQUFDK00sS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhME4sTUFBTSxFQUFFO1lBQ3hELE1BQU0sSUFBSSxDQUFDb3pCLGFBQWEsQ0FBQ2hROztRQUUzQixJQUFJLElBQUksQ0FBQzd2QixLQUFLLENBQUNnZ0MsV0FBVyxLQUFLblEsUUFBUTtZQUNyQyxJQUFJLENBQUM3dkIsS0FBSyxDQUFDbWdDLGNBQWMsQ0FBQ3RRLFFBQVEsTUFBTXlRO1lBQ3hDLE1BQU1ZLG1CQUFtQjtnQkFDdkIsTUFBTSxJQUFJLENBQUMvQixtQkFBbUI7Z0JBQzlCLElBQUksSUFBSSxDQUFDdmtCLE9BQU8sRUFBRTtvQkFDaEIsSUFBSSxDQUFDeWpCLDJCQUEyQixHQUFHO29CQUNuQ3hyQyxXQUFXO3dCQUNULElBQUksQ0FBQ3dyQywyQkFBMkIsR0FBRzt1QkFDbEM7b0JBQ0gsTUFBTSxJQUFJLENBQUNyVixPQUFPOztZQUV0QjtZQUNBLE1BQU1tWSx5QkFBeUIsQ0FBQzFqQixRQUFtQjtvQkFDakQsSUFBSSxDQUFDeHFCLElBQUksQ0FBQ211QyxvQkFBb0IsQ0FBQzNqQixPQUFPLElBQUksQ0FBQ2xWLFNBQVMsRUFBRWxJLEtBQUssQ0FBQyxDQUFDMUk7d0JBQzNELElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLDBDQUEwQzJGO29CQUNoRTtnQkFDRjtZQUNBazRCLE9BQU90UixTQUFTLEdBQUczbEIsT0FBTyxDQUFDLENBQUM0Z0I7Z0JBQzFCLE1BQU02bkIsY0FBY0YsdUJBQXVCO2dCQUMzQyxNQUFNRyxnQkFBZ0JILHVCQUF1QjtnQkFDN0MzbkIsTUFBTXZrQixnQkFBZ0IsQ0FBQyxRQUFRb3NDO2dCQUMvQjduQixNQUFNdmtCLGdCQUFnQixDQUFDLFVBQVVxc0M7Z0JBQ2pDOW5CLE1BQU12a0IsZ0JBQWdCLENBQUMsU0FBU2lzQztnQkFDaEMsSUFBSSxDQUFDdHVCLGFBQWEsQ0FBQ3Z2QixJQUFJLENBQUM7b0JBQ3RCbTJCLE1BQU1ya0IsbUJBQW1CLENBQUMsUUFBUWtzQztvQkFDbEM3bkIsTUFBTXJrQixtQkFBbUIsQ0FBQyxVQUFVbXNDO29CQUNwQzluQixNQUFNcmtCLG1CQUFtQixDQUFDLFNBQVMrckM7Z0JBQ3JDO1lBQ0Y7OztJQUlKLElBQVlLLGtCQUFlO1FBQ3pCLElBQUksSUFBSSxDQUFDaDVCLFNBQVMsS0FBS2hqQixVQUFVcWMsS0FBSyxFQUFFO1lBQ3RDLE9BQU87O1FBRVQsSUFBSSxJQUFJLENBQUMyRyxTQUFTLEtBQUtoakIsVUFBVW1jLEtBQUssRUFBRTtZQUN0QyxPQUFPOztRQUVULE9BQU87O0lBR0QrOEIsc0NBQW1DO1FBQ3pDLElBQUksQ0FBQzdyQixhQUFhLENBQUN2dkIsSUFBSSxDQUNyQm1iLG1CQUNFVCxpUkFBYUEsQ0FBQztZQUNaa2dDLFdBQVkvdUIsSUFBSSxDQUFDc3lCLDRRQUFRQTtZQUN6QixJQUFJLENBQUN4aEMsS0FBSyxDQUFDNHlCLGVBQWU7U0FDM0IsR0FDRCxPQUFPLENBQUMsQ0FBQzZPLGFBQWFDLGVBQWUsRUFBRTVPLFNBQVM7WUFDOUMsSUFBSTtnQkFDRixJQUFJLENBQUNBLFVBQVU7Z0JBQ2YsTUFBTSxJQUFJLENBQUNxTSxtQkFBbUI7Z0JBRTlCLElBQUl3Qyx1QkFBdUI7Z0JBQzNCLElBQUlDLG1CQUFtQjtnQkFDdkIsTUFBTXBQLGdCQUFnQixJQUFJLENBQUNxUCxVQUFVLENBQUNILGdCQUFnQjVPO2dCQUN0RCxNQUFNZ1AsYUFBYSxJQUFJLENBQUNELFVBQVUsQ0FBQ0osYUFBYTNPO2dCQUNoRCxJQUFJLENBQUNOLGlCQUFpQnNQLFlBQVk7b0JBQ2hDSCx1QkFBdUI7dUJBQ2xCLElBQ0xuUCxpQkFDQXNQLGNBQ0F0UCxjQUFjTSxRQUFRLEtBQUtnUCxXQUFXaFAsUUFBUSxJQUM5Q04sY0FBY3VQLE9BQU8sS0FBS0QsV0FBV0MsT0FBTyxFQUM1QztvQkFDQUgsbUJBQW1COztnQkFHckIsSUFBSUQsc0JBQXNCO29CQUN4QixNQUFNLElBQUksQ0FBQzNZLE9BQU87b0JBQ2xCLE1BQU0sSUFBSSxDQUFDMFcsTUFBTSxDQUFDejlDOztnQkFFcEIsSUFBSTIvQyxrQkFBa0I7b0JBQ3BCLElBQ0UsSUFBSSxDQUFDdkQsMkJBQTJCLElBQ2hDLElBQUksQ0FBQ3IrQixLQUFLLENBQUMxSyxNQUFNLEtBQUssWUFDdEI7d0JBQ0EsTUFBTSxJQUFJLENBQUNvcEMsTUFBTTt3QkFDakIsSUFBSSxDQUFDTCwyQkFBMkIsR0FBRzsyQkFDOUI7d0JBQ0wsTUFBTSxJQUFJLENBQUNtQixxQkFBcUI7OztjQUdwQyxPQUFPN25DLEtBQUs7Z0JBQ1osSUFBSSxDQUFDM0YsTUFBTSxDQUNULFFBQ0EsbUVBQ0EyRjs7OztJQVFKa3FDLFdBQVdoUCxPQUEwQixFQUFFQyxRQUFnQjtRQUM3RCxNQUFNenlDLE9BQU8sSUFBSSxDQUFDa2hELGVBQWU7UUFDakMsT0FBTzFPLFFBQVFyd0MsSUFBSSxDQUFDLENBQUN3d0MsSUFBTUEsRUFBRUYsUUFBUSxLQUFLQSxZQUFZRSxFQUFFM3lDLElBQUksS0FBS0E7O0FBRXBFO01DN2VxQjJoRDtJQXdEcEI7Ozs7OztLQU1HLEdBQ0g5aEQsWUFDa0IrK0MsY0FBZ0MsYUFBYSxFQUM3RHBGLFVBQThCO1FBRGQsSUFBVyxDQUFBb0YsV0FBQSxHQUFYQTtRQS9EUixLQUFBZ0QsYUFBYSxHQUFHLElBQUkvaUMsK1FBQWVBLENBQW9CamQ7UUFDdkQsS0FBQWlnRCx1QkFBdUIsR0FBRyxJQUFJaGpDLCtRQUFlQSxDQUNyRGpkO1FBRVEsS0FBQWtnRCxrQkFBa0IsR0FBRyxJQUFJampDLCtRQUFlQSxDQUNoRGpkO1FBRVEsS0FBQW1nRCxxQkFBcUIsR0FBRyxJQUFJbGpDLCtRQUFlQSxDQUNuRGpkO1FBRVEsS0FBQW9nRCx5QkFBeUIsR0FBRyxJQUFJbmpDLCtRQUFlQSxDQUN2RGpkO1FBUUY7OztTQUdHLEdBQ0gsS0FBQXFnRCxZQUFZLEdBQUcsSUFBSSxDQUFDSCxrQkFBa0IsQ0FBQ3hoQyxZQUFZO1FBRW5EOztTQUVHLEdBQ0gsSUFBZSxDQUFBaXlCLGVBQUEsR0FBRyxJQUFJLENBQUN3UCxxQkFBcUIsQ0FDekN6aEMsWUFBWSxHQUNadU8sSUFBSSxDQUFDVSx3UkFBb0JBO1FBRTVCOztTQUVHLEdBQ0gsS0FBQTJ5QixPQUFPLEdBQUcsSUFBSSxDQUFDTixhQUFhLENBQUN0aEMsWUFBWSxHQUFHdU8sSUFBSSxDQUFDVSx3UkFBb0JBO1FBRXJFOztTQUVHLEdBQ0gsSUFBaUIsQ0FBQTR5QixpQkFBQSxHQUFHLElBQUksQ0FBQ04sdUJBQXVCLENBQzdDdmhDLFlBQVksR0FDWnVPLElBQUksQ0FBQ1Usd1JBQW9CQTtRQUU1Qjs7U0FFRyxHQUNILEtBQUE2eUIsbUJBQW1CLEdBQUcsSUFBSSxDQUFDSix5QkFBeUIsQ0FBQzFoQyxZQUFZO1FBb0RqRTs7Ozs7U0FLRyxHQUNILEtBQUE5QyxlQUFlLEdBQUcwQztRQTZEbEI7Ozs7Ozs7Ozs7U0FVRyxHQUNPLEtBQUFyQyxlQUFlLEdBQUdvQjtRQS9HMUIsSUFBSSxDQUFDOHlCLHFCQUFxQixHQUFHeUgsYUFDekJBLFdBQVdsNUIsWUFBWSxHQUFHdU8sSUFBSSxDQUFDRSwrUUFBV0EsQ0FBQyxNQUMzQ3N6QixzUUFBRUEsQ0FBQzs7SUFHVDs7S0FFRyxHQUNILElBQUlwdEMsU0FBTTtRQUNSLE9BQU8sSUFBSSxDQUFDdUksZUFBZSxDQUFDLElBQUksQ0FBQzBrQyxPQUFPOztJQUcxQzs7S0FFRyxHQUNILElBQUkzRCxtQkFBZ0I7UUFDbEIsT0FBTyxJQUFJLENBQUMvZ0MsZUFBZSxDQUFDLElBQUksQ0FBQzJrQyxpQkFBaUI7O0lBR3BEOztLQUVHLEdBQ0gsSUFBSXhKLGlCQUFjO1FBQ2hCLE9BQU8sSUFBSSxDQUFDbjdCLGVBQWUsQ0FBQyxJQUFJLENBQUMrMEIsZUFBZTs7SUFHbEQ7O0tBRUcsR0FDSCxJQUFJb04sY0FBVztRQUNiLE9BQU8sSUFBSSxDQUFDbmlDLGVBQWUsQ0FBQyxJQUFJLENBQUN5a0MsWUFBWTs7SUFXL0M7OztLQUdHLEdBQ0h2RCxVQUFVenBDLE1BQXlCO1FBQ2pDLElBQUksQ0FBQzRJLGVBQWUsQ0FBQyxJQUFJLENBQUMrakMsYUFBYSxFQUFFM3NDOztJQUczQzs7O0tBR0csR0FDSHVwQyxpQkFBaUI4RCxhQUFnQztRQUMvQyxJQUFJLENBQUN6a0MsZUFBZSxDQUFDLElBQUksQ0FBQ2drQyx1QkFBdUIsRUFBRVM7O0lBR3JEOzs7Ozs7O0tBT0csR0FDSHhDLGVBQ0V0USxNQUErQixFQUMvQnlRLFVBQW1DO1FBRW5DLElBQUksQ0FBQ3BpQyxlQUFlLENBQUMsSUFBSSxDQUFDaWtDLGtCQUFrQixFQUFFdFM7UUFDOUMsSUFBSXlRLFlBQVk7WUFDZCxJQUFJLENBQUNWLFNBQVMsQ0FBQyxJQUFJLENBQUNnRCxxQkFBcUIsQ0FBQ3RDOzs7SUFJOUM7OztLQUdHLEdBQ0hWLFVBQVU5TSxRQUE0QjtRQUNwQyxJQUFJLENBQUM1MEIsZUFBZSxDQUFDLElBQUksQ0FBQ2trQyxxQkFBcUIsRUFBRXRQOztJQUduRDs7S0FFRyxHQUNILElBQUl5TixxQkFBa0I7UUFDcEIsT0FBTyxJQUFJLENBQUMxaUMsZUFBZSxDQUFDLElBQUksQ0FBQzRrQyxtQkFBbUI7O0lBR3REOzs7OztLQUtHLEdBQ0hoRCxzQkFBc0JoRSxXQUEwQjtRQUM5QyxJQUFJLENBQUN2OUIsZUFBZSxDQUFDLElBQUksQ0FBQ21rQyx5QkFBeUIsRUFBRTVHOztBQW1CeEQ7QUM3TEssTUFBT29ILDJCQUEyQmI7SUFVdEM5aEQsYUFBQTtRQUNFLEtBQUssQ0FBQyxlQUFldzhDO1FBVmYsS0FBQW9HLGdCQUFnQixHQUFHLElBQUk1akMsK1FBQWVBLENBQWtCamQ7UUFXOUQsSUFBSSxDQUFDOGdELFVBQVUsR0FBRyxJQUFJLENBQUNELGdCQUFnQixDQUNwQ25pQyxZQUFZLEdBQ1p1TyxJQUFJLENBQUNVLHdSQUFvQkE7O0lBRzlCOzs7O0tBSUcsR0FDSCxJQUFJeFgsWUFBUztRQUNYLE9BQU8sSUFBSSxDQUFDeUYsZUFBZSxDQUFDLElBQUksQ0FBQ2tsQyxVQUFVOztJQUc3Qzs7S0FFRyxHQUNIQyxhQUFhNXFDLFNBQTBCO1FBQ3JDLElBQUksQ0FBQzhGLGVBQWUsQ0FBQyxJQUFJLENBQUM0a0MsZ0JBQWdCLEVBQUUxcUM7O0lBRzlDOztLQUVHLEdBQ0grbkMsZUFDRXRRLE1BQStCLEVBQy9CeVEsVUFBbUM7UUFFbkMsS0FBSyxDQUFDSCxlQUFldFEsUUFBUXlRO1FBQzdCLElBQUl6USxRQUFROztZQUVWLE1BQU16M0IsWUFBWTNDLGtCQUNkLElBQUksQ0FBQzJDLFNBQVMsR0FDZHkzQixPQUFPL0MsY0FBYyxFQUFFLENBQUMsRUFBRSxFQUFFblYsY0FBY3NyQixlQUFlLGdCQUN2RCxTQUNBO1lBQ04sSUFBSSxDQUFDRCxZQUFZLENBQUM1cUM7OztJQUlad3FDLHNCQUFzQi9TLE1BQW1CO1FBQ2pELE1BQU0sQ0FBQ3JXLE1BQU0sR0FBR3FXLE9BQU8vQyxjQUFjO1FBQ3JDLE9BQU90VCxPQUFPN0IsY0FBY21iOztBQUUvQjtBQy9ERDs7Ozs7Q0FLRyxHQUNJLE1BQU1vUSxXQUFXLElBQU0sUUFBUTFYLElBQUksQ0FBQzkxQixVQUFVKzFCLFNBQVM7QUNJeEQsTUFBTzBYLHNCQUFzQmhGO0lBTWpDOzs7O0tBSUcsR0FDSGorQyxZQUFZK1MsSUFBVTtRQUNwQixLQUFLLENBQUNBLE1BQU0sSUFBSTR2QyxzQkFBc0J0OUMsVUFBVW1jLEtBQUs7UUFYL0MsS0FBQStXLGdCQUFnQixHQUFHO1lBQ3pCNVAsT0FBTztZQUNQRCxRQUFROzs7SUFZRnc2QiwrQkFBNEI7UUFDbEMsT0FBTzN0QyxtQkFBbUJ5dEM7O0lBRzVCOzs7O0tBSUcsR0FDSCxNQUFNRyxnQkFBZ0JqckMsU0FBOEM7UUFDbEUsSUFBSSxJQUFJLENBQUNnckMsNEJBQTRCLElBQUk7WUFDdkMsSUFBSSxDQUFDcGpDLEtBQUssQ0FBQ2dqQyxZQUFZLENBQUM1cUM7O1lBRXhCLElBQUksQ0FBQzRILEtBQUssQ0FBQzQvQixTQUFTLENBQUMzOUM7WUFDckIsTUFBTSxJQUFJLENBQUN1OUMscUJBQXFCO2VBQzNCO1lBQ0wsSUFBSSxDQUFDeHRDLE1BQU0sQ0FBQyxRQUFROzs7SUFJeEI7Ozs7O0tBS0csR0FDSCxNQUFNc3hDLE9BQUk7UUFDUixNQUFNQyxlQUFlLElBQUksQ0FBQ3ZqQyxLQUFLLENBQUM1SCxTQUFTLEtBQUssVUFBVSxTQUFTO1FBQ2pFLE1BQU0sSUFBSSxDQUFDaXJDLGVBQWUsQ0FBQ0U7O0lBRzdCOztLQUVHLEdBQ0gsTUFBTUMsdUJBQXVCQyxVQUE2QztRQUN4RSxJQUFJLENBQUNockIsZ0JBQWdCLENBQUM3UCxNQUFNLEdBQUc2NkIsV0FBVzc2QixNQUFNO1FBQ2hELElBQUksQ0FBQzZQLGdCQUFnQixDQUFDNVAsS0FBSyxHQUFHNDZCLFdBQVc1NkIsS0FBSztRQUM5QyxJQUFJLElBQUksQ0FBQzdJLEtBQUssQ0FBQzQrQixnQkFBZ0IsS0FBSyxXQUFXO1lBQzdDLElBQUk7Z0JBQ0YsTUFBTSxJQUFJLENBQUNPLG1CQUFtQjtjQUM5QixPQUFPaHBDLE9BQU87O2dCQUVkLElBQUksQ0FBQ25FLE1BQU0sQ0FBQyxRQUFRLHFDQUFxQ21FOzs7UUFHN0QsSUFBSSxJQUFJLENBQUN5a0IsT0FBTyxJQUFJLElBQUksQ0FBQzVhLEtBQUssQ0FBQ2dnQyxXQUFXLEVBQUU7WUFDMUMsTUFBTSxDQUFDMzhCLFdBQVcsR0FBRyxJQUFJLENBQUNyRCxLQUFLLENBQUNnZ0MsV0FBVyxDQUFDbFQsY0FBYztZQUMxRCxJQUFJLENBQUN6cEIsWUFBWTtZQUNqQixNQUFNLEVBQUV3RixLQUFLLEVBQUVELE1BQU0sRUFBRSxHQUFHdkYsV0FBV3NVLFdBQVc7WUFDaEQsSUFDRTlPLFVBQVUsSUFBSSxDQUFDNFAsZ0JBQWdCLENBQUM1UCxLQUFLLElBQ3JDRCxXQUFXLElBQUksQ0FBQzZQLGdCQUFnQixDQUFDN1AsTUFBTSxFQUN2QztnQkFDQSxNQUFNLElBQUksQ0FBQzQyQixxQkFBcUI7Z0JBQ2hDLElBQUksQ0FBQ3h0QyxNQUFNLENBQ1QsU0FDQSxDQUFHLEVBQUE2VyxNQUFTLEdBQUFELE9BQWtEOzs7O0lBTXRFOzs7OztLQUtHLEdBQ0gsTUFBTTg2QixNQUFNMTRCLFFBQStCLEVBQUVpUCxPQUFnQjtRQUMzRCxNQUFNMHBCLG9CQUFvQixDQUFDLENBQUMsSUFBSSxDQUFDMXdDLElBQUksQ0FBQytNLEtBQUssQ0FBQytOLGdCQUFnQixFQUFFOGU7UUFDOUQsTUFBTXRFLGdCQUFnQixJQUFJLENBQUN0MUIsSUFBSSxDQUFDcTFCLGtCQUFrQixDQUFDQyxhQUFhLENBQzlEMXJDLGNBQWNhLFVBQVU7UUFFMUIsSUFBSWltRCxxQkFBcUIsQ0FBQ3BiLGVBQWU7O1FBR3pDLE1BQU0sSUFBSSxDQUFDNFcsbUJBQW1CO1FBRTlCLE1BQU0sRUFBRXlFLGlCQUFpQixFQUFFQyxhQUFhLEVBQUVDLGlCQUFpQixFQUFFLEdBQUc5NEI7UUFDaEUsTUFBTSxJQUFJLENBQUN3NEIsc0JBQXNCLENBQUNJOztRQUdsQyxJQUFJLENBQUMsSUFBSSxDQUFDNWpDLEtBQUssQ0FBQzVILFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQzRILEtBQUssQ0FBQ2c1QixjQUFjLEVBQUU7WUFDdkQsSUFBSSxDQUFDaDVCLEtBQUssQ0FBQ2dqQyxZQUFZLENBQUNhLGtCQUFrQixVQUFVLFVBQVU7O1FBR2hFLElBQUksQ0FBQzVwQixTQUFTO1FBRWQsTUFBTSxFQUFFK2xCLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQ2hnQyxLQUFLO1FBQ2xDLElBQUksSUFBSSxDQUFDNGEsT0FBTyxJQUFJb2xCLGFBQWE7O1lBRS9CLE1BQU0sSUFBSSxDQUFDSCxhQUFhLENBQUNHO2VBQ3BCLElBQUksSUFBSSxDQUFDaGdDLEtBQUssQ0FBQzFLLE1BQU0sS0FBS3JULGFBQWE2aEQsbUJBQW1COztZQUUvRCxNQUFNLElBQUksQ0FBQ3BGLE1BQU07OztJQUlYM0MsYUFBVTtRQUNsQixPQUFPbUI7O0lBR0NFLFVBQ1IzQixXQUFrQztRQUVsQ0EsWUFBWTV5QixLQUFLLEdBQUcsSUFBSSxDQUFDNFAsZ0JBQWdCLENBQUM1UCxLQUFLO1FBQy9DNHlCLFlBQVk3eUIsTUFBTSxHQUFHLElBQUksQ0FBQzZQLGdCQUFnQixDQUFDN1AsTUFBTTs7O1FBSWpELElBQ0UsQ0FBQzZ5QixZQUFZM0ksUUFBUSxJQUNyQixJQUFJLENBQUM5eUIsS0FBSyxDQUFDNUgsU0FBUyxJQUNwQixJQUFJLENBQUNnckMsNEJBQTRCLElBQ2pDO1lBQ0EzSCxZQUFZd0gsVUFBVSxHQUNwQixJQUFJLENBQUNqakMsS0FBSyxDQUFDNUgsU0FBUyxLQUFLLFVBQVUsU0FBUzs7UUFFaEQsT0FBT3dsQyxlQUFlbkM7O0FBRXpCO0FDMUlLLE1BQU9zSSwrQkFBK0IvQjtJQVUxQzloRCxZQUFZKytDLFdBQTZCO1FBQ3ZDLEtBQUssQ0FBQ0EsYUFBYXhDO1FBVmIsS0FBQXVILHlCQUF5QixHQUFHLElBQUk5a0MsK1FBQWVBLENBQVU7UUFZL0QsSUFBSSxDQUFDK2tDLG1CQUFtQixHQUFHLElBQUksQ0FBQ0QseUJBQXlCLENBQ3REcmpDLFlBQVksR0FDWnVPLElBQUksQ0FBQ1Usd1JBQW9CQTs7SUFHOUI7Ozs7S0FJRyxHQUNILElBQUlzMEIscUJBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDcm1DLGVBQWUsQ0FBQyxJQUFJLENBQUNvbUMsbUJBQW1COztJQUd0RDs7S0FFRyxHQUNIRSxzQkFBc0IzaEMsVUFBbUI7UUFDdkMsSUFBSSxDQUFDdEUsZUFBZSxDQUFDLElBQUksQ0FBQzhsQyx5QkFBeUIsRUFBRXhoQzs7SUFHN0NvZ0Msc0JBQXNCL1MsTUFBbUI7UUFDakQsTUFBTSxDQUFDclcsTUFBTSxHQUFHcVcsT0FBTzlDLGNBQWM7UUFDckMsT0FBT3ZULE9BQU83QixjQUFjbWI7O0FBRS9CO0FDTEQsTUFBTXNSLDRCQUE0QjtBQUNsQyxNQUFNQywwQkFBd0I7QUFDOUIsTUFBTUMsV0FBVztBQUVqQjs7Ozs7OztDQU9HLEdBQ0ksTUFBTUMsc0JBQXNCLENBQ2pDM1gsYUFDQTRYLDZCQUNBNWpELFVBQWdDLEVBQUU7SUFFbEMsTUFBTSxFQUNKNmpELHlCQUF5QkwseUJBQXlCLEVBQ2xETSxzQkFBc0JMLHVCQUFxQixFQUMzQ00sVUFBVUwsUUFBUSxFQUNsQk0sc0JBQXNCLElBQUksRUFDM0IsR0FBR2hrRDtJQUVKLE1BQU1pa0QsZUFBZSxJQUFJQztJQUN6QixNQUFNQyxXQUFXRixhQUFhRyxjQUFjO0lBQzVDRCxTQUFTSixPQUFPLEdBQUdBO0lBRW5CLE1BQU0xYixhQUFhNGIsYUFBYUksdUJBQXVCLENBQUNyWTtJQUN4RDNELFdBQVdpYyxPQUFPLENBQUNIO0lBRW5CLE1BQU05USxhQUFhaFMsWUFBWTtRQUM3QixNQUFNaEQsT0FBTyxJQUFJcHFCLFdBQVdrd0MsU0FBU0ksaUJBQWlCO1FBQ3RESixTQUFTSyxvQkFBb0IsQ0FBQ25tQjtRQUU5QixNQUFNb21CLGtCQUFrQnBtQixLQUFLL2IsSUFBSSxDQUFDLENBQUNuUSxRQUFVQSxTQUFTMnhDO1FBRXRELE1BQU1ZLG9CQUFvQnJtQixLQUFLdlgsTUFBTSxDQUFDLENBQUM2OUIsSUFBSUMsS0FBT0QsS0FBS0MsSUFBSSxLQUFLdm1CLEtBQUsvNUIsTUFBTTtRQUUzRSxNQUFNdWdELGFBQ0pILG9CQUFvQlosc0JBQ2hCLE1BQ0E1Z0QsS0FBS3MwQixLQUFLLENBQUMsb0JBQXFCc3NCLHNCQUF1Qjs7O1FBSTdELElBQUk5WCxZQUFZRyxjQUFjLEVBQUUsQ0FBQyxFQUFFLEVBQUVuUyxTQUFTO1lBQzVDNHBCLDRCQUE0QjtnQkFBRWE7Z0JBQWlCaGIsWUFBWW9iO1lBQVU7ZUFDaEU7WUFDTGpCLDRCQUE0QjtnQkFBRWEsaUJBQWlCO2dCQUFPaGIsWUFBWTtZQUFDOztPQUVwRW9hO0lBRUgsT0FBTyxlQUFlM3JDO1FBQ3BCc3BCLGNBQWM2Ujs7UUFHZGhMLFdBQVcwTCxVQUFVO1FBQ3JCb1EsU0FBU3BRLFVBQVU7UUFDbkIsSUFBSWtRLGFBQWE3a0MsS0FBSyxLQUFLLFVBQVU7WUFDbkMsTUFBTTZrQyxhQUFhOXJDLEtBQUs7OztRQUkxQixJQUFJNnJDLHFCQUFxQjtZQUN2QmhZLFlBQVlyTyxTQUFTLEdBQUczbEIsT0FBTyxDQUFDLENBQUM0Z0I7Z0JBQy9CQSxNQUFNMWdCLElBQUk7Z0JBQ1Y4ekIsWUFBWXBPLFdBQVcsQ0FBQ2hGO1lBQzFCOztJQUVKO0FBQ0Y7QUMzR0EsTUFBTTZxQix3QkFBd0I7TUFFakJxQjtJQUFieGxELGFBQUE7UUFDVSxLQUFBeWxELEdBQUcsR0FBRyxJQUFJcnRDLGtCQUFrQjtRQUM1QixLQUFBc3RDLEdBQUcsR0FBRyxJQUFJdHRDLGtCQUFrQjs7SUFJcEM7O0tBRUcsR0FDSSxNQUFNeTdCLFFBQUs7UUFDaEIsSUFBSTtZQUNGLElBQUksQ0FBQzhSLGtCQUFrQjtZQUN2QixNQUFNalosY0FBYyxNQUFNbDNCLFVBQVU2bEMsWUFBWSxDQUFDQyxZQUFZLENBQUM7Z0JBQzVEcmUsT0FBTztZQUNSO1lBQ0QsSUFBSSxDQUFDeVAsV0FBVyxHQUFHQTtZQUVuQixJQUFJLENBQUMrWSxHQUFHLENBQUMxd0MsZ0JBQWdCLENBQUMsZ0JBQWdCLE9BQU9pRztnQkFDL0MsTUFBTSxJQUFJLENBQUMwcUMsR0FBRyxDQUFDenlCLGVBQWUsQ0FDNUJqWSxFQUFFZ1ksU0FBNEM7WUFFbEQ7WUFDQSxJQUFJLENBQUMweUIsR0FBRyxDQUFDM3dDLGdCQUFnQixDQUFDLGdCQUFnQixPQUFPaUc7Z0JBQy9DLE1BQU0sSUFBSSxDQUFDeXFDLEdBQUcsQ0FBQ3h5QixlQUFlLENBQzVCalksRUFBRWdZLFNBQTRDO1lBRWxEO1lBRUEwWixZQUNHck8sU0FBUyxHQUNUM2xCLE9BQU8sQ0FBQyxDQUFDNGdCLFFBQVUsSUFBSSxDQUFDbXNCLEdBQUcsQ0FBQ0csUUFBUSxDQUFDdHNCLE9BQU9vVDtZQUMvQyxNQUFNcDBCLFFBQVEsTUFBTSxJQUFJLENBQUNtdEMsR0FBRyxDQUFDbHRDLFdBQVcsQ0FBQztZQUN6QyxNQUFNLElBQUksQ0FBQ210QyxHQUFHLENBQUNycEIsb0JBQW9CLENBQUMvakI7WUFDcEMsTUFBTSxJQUFJLENBQUNtdEMsR0FBRyxDQUFDdHBCLG1CQUFtQixDQUFDN2pCO1lBQ25DLE1BQU1pbUIsU0FBUyxNQUFNLElBQUksQ0FBQ21uQixHQUFHLENBQUNsbkIsWUFBWTtZQUMxQyxNQUFNLElBQUksQ0FBQ2luQixHQUFHLENBQUNwcEIsb0JBQW9CLENBQUNrQztZQUNwQyxNQUFNLElBQUksQ0FBQ21uQixHQUFHLENBQUN2cEIsbUJBQW1CLENBQUNvQztZQUNuQyxNQUFNc25CLGNBQWNuWixZQUFZRyxjQUFjOztZQUU5Q2daLFlBQVludEMsT0FBTyxDQUFDLENBQUM0Z0IsUUFBV0EsTUFBTW9CLE9BQU8sR0FBRztVQUNoRCxPQUFPemtCLE9BQU87WUFDZEssUUFBUUwsS0FBSyxDQUNYLDZEQUNBQTs7O0lBS047O0tBRUcsR0FDSTJDLE9BQUk7UUFDVCxJQUFJLENBQUM2c0MsR0FBRyxDQUFDNXNDLEtBQUs7UUFDZCxJQUFJLENBQUM2c0MsR0FBRyxDQUFDN3NDLEtBQUs7UUFDZCxJQUFJLENBQUM4c0Msa0JBQWtCO1FBQ3ZCLElBQUksSUFBSSxDQUFDNVIsVUFBVSxFQUFFO1lBQ25CN1IsY0FBYyxJQUFJLENBQUM2UixVQUFVOzs7SUFJakM7O0tBRUcsR0FDSStSLDhCQUNMeEIsMkJBQW9EO1FBRXBELElBQUksQ0FBQ3ZRLFVBQVUsR0FBR2hTLFlBQVk7WUFDNUIsTUFBTTRDLFFBQVMsTUFBTSxJQUFJLENBQUM4Z0IsR0FBRyxDQUFDdHlCLFFBQVE7WUFDdEMsTUFBTXJNLFNBQVMwakIsUUFBUTdGOztZQUV2QixNQUFNb2hCLHdCQUF3QmovQixPQUFPeGtCLElBQUksQ0FDdkMsQ0FBQ2lyQyxPQUNDQSxLQUFLM3RCLElBQUksS0FBSyxrQkFDYjJ0QixLQUEyQnB0QyxJQUFJLEtBQUs7WUFFekMsSUFBSTRsRCx1QkFBdUI7Z0JBQ3pCLE1BQU0sRUFBRTViLFVBQVUsRUFBRSxHQUFHNGI7Z0JBQ3ZCLElBQUk1YixZQUFZO29CQUNkLElBQUlBLGNBQWNnYSx1QkFBdUI7d0JBQ3ZDRyw0QkFBNEI7NEJBQzFCYSxpQkFBaUI7NEJBQ2pCaGI7d0JBQ0Q7MkJBQ0k7d0JBQ0xtYSw0QkFBNEI7NEJBQzFCYSxpQkFBaUI7NEJBQ2pCaGIsWUFBWTt3QkFDYjs7OztXQUlOO1FBRUgsT0FBTztZQUNMakksY0FBYyxJQUFJLENBQUM2UixVQUFVO1FBQy9COztJQUdNNFIscUJBQWtCO1FBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUNqWixXQUFXLEVBQUU7WUFDckI7O1FBRUYsSUFBSSxDQUFDQSxXQUFXLENBQUNyTyxTQUFTLEdBQUczbEIsT0FBTyxDQUFDLENBQUM0Z0IsUUFBVUEsTUFBTTFnQixJQUFJO1FBQzFEO1FBRUUsT0FBTyxJQUFJLENBQUM4ekIsV0FBVyxDQUFDc1IsT0FBTyxLQUFLLFlBQ3BDOztZQUVBLElBQUksQ0FBQ3RSLFdBQVcsQ0FBQ3NSLE9BQU87OztBQUc3QjtBQ2pHSyxNQUFPZ0ksMEJBQTBCL0g7SUFVckNqK0MsWUFDRStTLElBQVUsRUFDVmdzQyxjQUFnQ3hwQyxrQkFDNUIsbUJBQ0EsYUFBYTtRQUVqQixLQUFLLENBQUN4QyxNQUFNLElBQUk4d0MsdUJBQXVCOUUsY0FBYzE1QyxVQUFVcWMsS0FBSztRQWY5RCxJQUFxQyxDQUFBdWtDLHFDQUFBLEdBQUc7UUFDeEMsS0FBQUMsMkJBQTJCLEdBQUd0bkMsT0FBTztRQWdCM0MsSUFBSSxDQUFDOFQsYUFBYSxDQUFDdnZCLElBQUksQ0FDckJtYixtQkFDRVQsaVJBQWFBLENBQUM7WUFDWixJQUFJLENBQUM5SyxJQUFJLENBQUMrTSxLQUFLLENBQUNtUixhQUFhO1lBQzdCLElBQUksQ0FBQ2xlLElBQUksQ0FBQytNLEtBQUssQ0FBQ29SLGdCQUFnQjtZQUNoQyxJQUFJLENBQUNwUixLQUFLLENBQUM0eUIsZUFBZTtZQUMxQixJQUFJLENBQUM1eUIsS0FBSyxDQUFDdWlDLE9BQU87U0FDbkIsR0FDRCxPQUFPLENBQUN0aUMsY0FBYzZSLGlCQUFpQmdoQixVQUFVeDlCLE9BQU87WUFDdEQsSUFBSTtnQkFDRixJQUFJMkssaUJBQWlCbEIsYUFBYW1CLElBQUksRUFBRTtvQkFDdEMsTUFBTSxJQUFJLENBQUNtbUMsK0JBQStCOztnQkFFNUMsSUFBSXBtQyxpQkFBaUJsQixhQUFhME4sTUFBTSxFQUFFO2dCQUMxQyxJQUFJLENBQUMsSUFBSSxDQUFDMDVCLHFDQUFxQyxFQUFFO2dCQUVqRCxJQUFJcjBCLGdCQUFnQnJRLFFBQVEsQ0FBQzVrQixjQUFjYSxVQUFVLEdBQUc7b0JBQ3RELElBQUk0WCxXQUFXLFlBQVk7d0JBQ3pCLE1BQU0sSUFBSSxDQUFDZ3hDLGdDQUFnQyxDQUFDeFQ7MkJBQ3ZDO3dCQUNMLE1BQU0sSUFBSSxDQUFDdVQsK0JBQStCOzt1QkFFdkM7b0JBQ0wsTUFBTSxJQUFJLENBQUNBLCtCQUErQjs7Y0FFNUMsT0FBTzF1QyxLQUFLO2dCQUNaLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLHlDQUF5QzJGOzs7UUFNckUsSUFBSSxDQUFDaWIsYUFBYSxDQUFDdnZCLElBQUksQ0FDckJtYixtQkFBbUIsSUFBSSxDQUFDdkwsSUFBSSxDQUFDK00sS0FBSyxDQUFDbVIsYUFBYSxFQUFFLENBQUNsUjs7WUFFakQsSUFBSSxDQUFDLElBQUksQ0FBQ3NtQyw2QkFBNkIsSUFBSSxDQUFDLElBQUksQ0FBQ0MsaUJBQWlCLEVBQ2hFO1lBRUYsTUFBTUMsU0FDSixJQUFJLENBQUN4ekMsSUFBSSxDQUFDK00sS0FBSyxDQUFDZ0wsUUFBUSxFQUFFbVMsTUFBTXVwQixvQkFBb0JDLFNBQ3BEanFELGtDQUFrQ0UsT0FBTztZQUUzQyxJQUFJNnBELFVBQVV4bUMsaUJBQWlCbEIsYUFBYTBOLE1BQU0sRUFBRTtnQkFDbEQsSUFBSSxDQUFDODVCLDZCQUE2QixDQUMvQnJwQyxJQUFJLENBQUMsSUFBTSxJQUFJLENBQUNzcEMsaUJBQWlCLEVBQUU5SCxVQUNuQ3IrQixLQUFLLENBQUMsQ0FBQzFJO29CQUNOLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLENBQXFDLHNDQUFFMkY7b0JBQzNELE9BQU8sSUFBSSxDQUFDMUUsSUFBSSxDQUFDMnpDLDhCQUE4QjtnQkFDakQ7bUJBQ0csSUFBSTNtQyxpQkFBaUJsQixhQUFhbUIsSUFBSSxFQUFFO2dCQUM3QyxJQUFJLENBQUNxbUMsNkJBQTZCLENBQy9CcnBDLElBQUksQ0FBQyxJQUFNLElBQUksQ0FBQ3NwQyxpQkFBaUIsRUFBRXhkLFdBQ25DM29CLEtBQUssQ0FBQyxDQUFDMUk7b0JBQ04sSUFBSSxDQUFDM0YsTUFBTSxDQUFDLFFBQVEsQ0FBc0MsdUNBQUUyRjtnQkFDOUQ7Ozs7SUFNVjs7Ozs7S0FLRyxHQUNILE1BQU1rdkMsd0JBQXdCTCxpQkFBcUM7UUFDakUsSUFBSS93QyxpQkFBaUI7WUFDbkIsTUFBTSxJQUFJM1YsTUFBTTs7UUFHbEIsTUFBTSxFQUFFZ3lCLGVBQWUsRUFBRTlHLFFBQVEsRUFBRSxHQUFHLElBQUksQ0FBQy9YLElBQUksQ0FBQytNLEtBQUs7UUFDckQsTUFBTThtQyxpQ0FBaUNoMUIsZ0JBQWdCclEsUUFBUSxDQUM3RDVrQixjQUFjSSx5QkFBeUI7UUFFekMsSUFBSSxDQUFDNnBELGdDQUFnQztZQUNuQyxNQUFNLElBQUlobkQsTUFBTTs7UUFFbEIsTUFBTWluRCw0QkFBNEIvN0IsVUFBVW1TLE1BQU11cEI7UUFDbEQsSUFDRSxDQUFDSyw2QkFDREEsMEJBQTBCSixJQUFJLEtBQzVCanFELGtDQUFrQy9DLFFBQVEsRUFDNUM7WUFDQSxNQUFNLElBQUltRyxNQUFNOztRQUVsQixJQUFJO1lBQ0YsSUFBSSxDQUFDMG1ELGlCQUFpQixHQUFHQTs7WUFHekIsSUFBSSxDQUFDUSxrQ0FBa0MsR0FBRyxJQUFJLENBQUNSLGlCQUFpQixDQUFDcnJDLEVBQUUsQ0FDakUsVUFDQSxDQUFDeWY7Z0JBQ0MsSUFBSUEsU0FBUztvQkFDWCxJQUFJLENBQUMzbkIsSUFBSSxDQUFDZzBDLCtCQUErQixHQUFHNW1DLEtBQUssQ0FBQyxDQUFDMUk7d0JBQ2pELElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLENBQXFDLHNDQUFFMkY7b0JBQzdEO3VCQUNLO29CQUNMLElBQUksQ0FBQzFFLElBQUksQ0FBQzJ6Qyw4QkFBOEIsR0FBR3ZtQyxLQUFLLENBQUMsQ0FBQzFJO3dCQUNoRCxJQUFJLENBQUMzRixNQUFNLENBQUMsUUFBUSxDQUFvQyxxQ0FBRTJGO29CQUM1RDs7WUFFSjtZQUdGLE1BQU11dkMscUJBQXFCLElBQUksQ0FBQzVILGNBQWMsQ0FDNUNrSCxrQkFBa0JXLFFBQVE7WUFFNUIsSUFBSSxDQUFDWiw2QkFBNkIsR0FBR1csbUJBQW1CM0gsVUFBVTtZQUNsRSxJQUFJLENBQUM2SCwyQkFBMkIsR0FBR0YsbUJBQW1CMU0sVUFBVTtZQUNoRSxNQUFNLElBQUksQ0FBQytMLDZCQUE2Qjs7O1lBSXhDLElBQ0VRLDBCQUEwQkosSUFBSSxLQUM1QmpxRCxrQ0FBa0NFLE9BQU8sSUFDM0MsSUFBSSxDQUFDcVcsSUFBSSxDQUFDK00sS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhME4sTUFBTSxFQUNwRDtnQkFDQSs1QixrQkFBa0I5SCxNQUFNOztVQUUxQixPQUFPeGpDLEdBQUc7WUFDVixJQUFJLENBQUNsSixNQUFNLENBQUMsUUFBUSx1Q0FBdUNrSjtZQUMzRCxNQUFNLElBQUksQ0FBQ21zQyx3QkFBd0IsR0FBR2huQyxLQUFLLENBQUMsQ0FBQzFJO2dCQUMzQyxJQUFJLENBQUMzRixNQUFNLENBQUMsUUFBUSx3Q0FBd0MyRjtZQUM5RDs7O0lBSUo7Ozs7S0FJRyxHQUNILE1BQU0wdkMsMkJBQXdCO1FBQzVCLElBQUk1eEMsaUJBQWlCO1lBQ25CLE1BQU0sSUFBSTNWLE1BQU07O1FBRWxCLE1BQU0sQ0FBQyxJQUFJLENBQUNzbkQsMkJBQTJCLFFBQVF6MEMsUUFBUThLLE9BQU8sSUFDM0RQLElBQUksQ0FBQyxJQUFNLElBQUksQ0FBQ3NwQyxpQkFBaUIsRUFBRXhkLFdBQ25DOXJCLElBQUksQ0FBQyxJQUFNLElBQUksQ0FBQzhwQyxrQ0FBa0MsTUFDbEQzbUMsS0FBSyxDQUFDLENBQUMxSTtZQUNOLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLDJDQUEyQzJGO1FBQ2pFO1FBRUYsTUFBTSxJQUFJLENBQUMxRSxJQUFJLENBQUMyekMsOEJBQThCOztJQUdoRDs7S0FFRyxHQUNILE1BQU1VLHVDQUFvQztRQUN4QyxJQUFJLENBQUNuQixxQ0FBcUMsR0FBRztRQUM3QyxJQUFJLElBQUksQ0FBQ25tQyxLQUFLLENBQUMxSyxNQUFNLEtBQUssWUFBWTtZQUNwQyxNQUFNLElBQUksQ0FBQ2d4QyxnQ0FBZ0MsQ0FBQyxJQUFJLENBQUN0bUMsS0FBSyxDQUFDZzVCLGNBQWM7OztJQUl6RTs7S0FFRyxHQUNILE1BQU11Tyx3Q0FBcUM7UUFDekMsSUFBSSxDQUFDcEIscUNBQXFDLEdBQUc7UUFDN0MsTUFBTSxJQUFJLENBQUNFLCtCQUErQjs7SUFHNUM7Ozs7S0FJRyxHQUNILE1BQU0zQyxNQUFNMTRCLFFBQStCLEVBQUVpUCxPQUFnQjtRQUMzRCxJQUFJLENBQUNBLFNBQVM7UUFFZCxNQUFNdXRCLG9CQUFvQixDQUFDLENBQUMsSUFBSSxDQUFDdjBDLElBQUksQ0FBQytNLEtBQUssQ0FBQytOLGdCQUFnQixFQUFFNmU7UUFDOUQsTUFBTXJFLGdCQUFnQixJQUFJLENBQUN0MUIsSUFBSSxDQUFDcTFCLGtCQUFrQixDQUFDQyxhQUFhLENBQzlEMXJDLGNBQWNhLFVBQVU7UUFFMUIsSUFBSThwRCxxQkFBcUIsQ0FBQ2pmLGVBQWU7O1FBR3pDLE1BQU0sSUFBSSxDQUFDNFcsbUJBQW1COztRQUc5QixNQUFNLEVBQUVhLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQ2hnQyxLQUFLO1FBQ2xDLElBQUksSUFBSSxDQUFDNGEsT0FBTyxJQUFJb2xCLGFBQWE7O1lBRS9CLE1BQU0sSUFBSSxDQUFDSCxhQUFhLENBQUNHO2VBQ3BCLElBQUksSUFBSSxDQUFDaGdDLEtBQUssQ0FBQzFLLE1BQU0sS0FBS3JULGFBQWErb0IsU0FBU3k4QixjQUFjLEVBQUU7O1lBRXJFLE1BQU0sSUFBSSxDQUFDL0ksTUFBTTs7O0lBSVgzQyxhQUFVO1FBQ2xCLE9BQU9lOztJQUdDTSxVQUNSM0IsV0FBa0M7UUFFbEMsT0FBT2dDLGVBQWVoQzs7SUFHaEIsTUFBTTZLLGlDQUFpQ3hULFFBQWlCO1FBQzlELE1BQU01MkIsbUJBQW1CLElBQUksQ0FBQ2txQywyQkFBMkIsRUFBRTtZQUN6RCxNQUFNLElBQUksQ0FBQ0MsK0JBQStCO1lBQzFDLElBQUk1d0MsaUJBQWlCO2dCQUNuQixJQUFJLENBQUNpeUMsZ0JBQWdCLEdBQUcsSUFBSWhDO2dCQUM1QixNQUFNLElBQUksQ0FBQ2dDLGdCQUFnQixDQUFDM1QsS0FBSztnQkFDakMsTUFBTTkxQixjQUNKLElBQUksQ0FBQ3lwQyxnQkFBZ0IsRUFBRTFCLDhCQUE4QixDQUFDaDlCO29CQUNwRCxJQUFJLENBQUNoSixLQUFLLENBQUNta0MscUJBQXFCLENBQUNuN0IsTUFBTXE4QixlQUFlO2dCQUN4RDtnQkFDRixJQUFJLENBQUNzQyxvQkFBb0IsR0FBRztvQkFDMUIxcEM7b0JBQ0EsSUFBSSxDQUFDeXBDLGdCQUFnQixFQUFFNXVDO29CQUN2QixJQUFJLENBQUM0dUMsZ0JBQWdCLEdBQUd6bEQ7Z0JBQzFCO21CQUNLOztnQkFFTCxNQUFNNHRDLFNBQVMsTUFBTSxJQUFJLENBQUN1TixTQUFTLENBQUM7b0JBQ2xDdEs7Z0JBQ0Q7Z0JBQ0QsSUFBSSxDQUFDNlUsb0JBQW9CLEdBQUdwRCxvQkFBb0IxVSxRQUFRLENBQUM3bUI7b0JBQ3ZELElBQUksQ0FBQ2hKLEtBQUssQ0FBQ21rQyxxQkFBcUIsQ0FBQ243QixNQUFNcThCLGVBQWU7Z0JBQ3hEOztRQUVKOztJQUdNLE1BQU1nQixrQ0FBK0I7UUFDM0MsTUFBTW5xQyxtQkFBbUIsSUFBSSxDQUFDa3FDLDJCQUEyQixFQUFFO1lBQ3pELElBQUksQ0FBQyxJQUFJLENBQUN1QixvQkFBb0IsRUFBRTtZQUNoQyxNQUFNQSx1QkFBdUIsSUFBSSxDQUFDQSxvQkFBb0I7WUFDdEQsSUFBSSxDQUFDQSxvQkFBb0IsR0FBRzFsRDtZQUM1QixJQUFJLENBQUMrZCxLQUFLLENBQUNta0MscUJBQXFCLENBQUM7WUFDakMsTUFBTXdEO1FBQ1I7O0FBRUg7QUNsUkssTUFBT0MseUJBQXlCNUY7SUFBdEM5aEQsYUFBQTs7UUFDVSxLQUFBMm5ELG1CQUFtQixHQUFHLElBQUkzb0MsK1FBQWVBLENBQVU7UUFDbkQsS0FBQTRGLGVBQWUsR0FBRyxJQUFJNUYsK1FBQWVBLENBRTNDamQ7UUFFRjs7U0FFRyxHQUNILElBQWEsQ0FBQTZsRCxhQUFBLEdBQUcsSUFBSSxDQUFDRCxtQkFBbUIsQ0FDckNsbkMsWUFBWSxHQUNadU8sSUFBSSxDQUFDVSx3UkFBb0JBO1FBRTVCOztTQUVHLEdBQ0gsS0FBQWEsU0FBUyxHQUFHLElBQUksQ0FBQzNMLGVBQWUsQ0FBQ25FLFlBQVk7UUFFN0M7O1NBRUcsR0FDTyxLQUFBaWlDLHFCQUFxQixHQUFHLENBQ2hDL1M7WUFFQSxNQUFNLENBQUNyVyxNQUFNLEdBQUdxVyxPQUFPdFIsU0FBUztZQUNoQyxPQUFPL0UsT0FBTzdCLGNBQWNtYjtRQUM5Qjs7SUFFQTs7S0FFRyxHQUNILElBQUlpVixlQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUNscUMsZUFBZSxDQUFDLElBQUksQ0FBQ2lxQyxhQUFhOztJQUdoRDs7S0FFRyxHQUNIRSxnQkFBZ0JDLFNBQWtCO1FBQ2hDLElBQUksQ0FBQy9wQyxlQUFlLENBQUMsSUFBSSxDQUFDMnBDLG1CQUFtQixFQUFFSTs7SUFHakQ7O0tBRUcsR0FDSCxJQUFJajlCLFdBQVE7UUFDVixPQUFPLElBQUksQ0FBQ25OLGVBQWUsQ0FBQyxJQUFJLENBQUM0UyxTQUFTOztJQUc1Qzs7OztLQUlHLEdBQ0h5M0IsWUFBWWw5QixRQUF5QztRQUNuRCxJQUFJLENBQUM5TSxlQUFlLENBQUMsSUFBSSxDQUFDNEcsZUFBZSxFQUFFa0c7O0FBRTlDO0FDcERLLE1BQU9tOUIsMkJBQTJCaEs7SUFJdENqK0MsWUFBWStTLElBQVU7UUFDcEIsS0FBSyxDQUFDQSxNQUFNLElBQUkyMEMsb0JBQW9CcmlELFVBQVV1YyxZQUFZO1FBRTFELElBQUksQ0FBQzhRLGFBQWEsQ0FBQ3Z2QixJQUFJLENBQ3JCbWIsbUJBQW1CdkwsS0FBSytNLEtBQUssQ0FBQ3lRLFNBQVMsRUFBRSxDQUFDekY7WUFDeEMsTUFBTW85Qix3QkFBd0JwOUIsVUFBVWl2QixjQUFjMko7WUFFdEQsSUFBSXdFLHVCQUF1QjtnQkFDekIsSUFBSSxDQUFDM0kscUJBQXFCLENBQUM7b0JBQ3pCekYsT0FBTzt3QkFDTG54QixPQUFPdS9CLHNCQUFzQnYvQixLQUFLO3dCQUNsQ0QsUUFBUXcvQixzQkFBc0J4L0IsTUFBTTtvQkFDckM7Z0JBQ0Y7Ozs7SUFNVDs7Ozs7S0FLRyxHQUNIeS9CLHlCQUFzQjtRQUNwQixJQUFJLENBQUNyb0MsS0FBSyxDQUFDZ29DLGVBQWUsQ0FBQzs7SUFHN0I7O0tBRUcsR0FDSCxNQUFNTSwwQkFBdUI7UUFDM0IsSUFBSSxDQUFDdG9DLEtBQUssQ0FBQ2dvQyxlQUFlLENBQUM7UUFDM0IsSUFBSSxJQUFJLENBQUMvMEMsSUFBSSxDQUFDNjRCLFNBQVMsRUFBRXRSLGFBQWFqMUIsVUFBVXljLGtCQUFrQixHQUFHO1lBQ25FLE1BQU0sSUFBSSxDQUFDL08sSUFBSSxDQUFDOHNDLFdBQVcsQ0FBQ3g2QyxVQUFVeWMsa0JBQWtCOzs7SUFJNUQ7O0tBRUcsR0FDSDJWLGNBQVc7UUFDVCxPQUFPLElBQUksQ0FBQzNYLEtBQUssQ0FBQ2dMLFFBQVE7O0lBRzVCOzs7O0tBSUcsR0FDSGs5QixZQUFZbDlCLFFBQXlDO1FBQ25ELElBQUksQ0FBQ2hMLEtBQUssQ0FBQ2tvQyxXQUFXLENBQUNsOUI7O0lBR2Yrd0IsYUFBVTtRQUNsQixPQUFPMkcsc1FBQUVBLENBQUMsRUFBRSxHQUFFOztJQUdOdEYsVUFDUjNCLFdBQXNDO1FBRXRDLElBQUksQ0FBQyxJQUFJLENBQUN6N0IsS0FBSyxDQUFDK25DLFlBQVksRUFBRTtZQUM1QnRNLFlBQVl0ZSxLQUFLLEdBQUc7O1FBRXRCLE9BQU8wZ0IscUJBQXFCcEM7O0lBR3BCLE1BQU1xRSxvQkFBaUI7UUFDL0IsT0FBTyxJQUFJLENBQUM3c0MsSUFBSSxDQUFDOHNDLFdBQVcsQ0FDMUJ4NkMsVUFBVXVjLFlBQVksRUFDdEJ2YyxVQUFVeWMsa0JBQWtCOztJQUloQzs7OztLQUlHLEdBQ0gsTUFBTTA5QixPQUFPNU0sUUFBNEI7UUFDdkMsTUFBTSxJQUFJaHpDLE1BQU07O0FBRW5CO01DNUZZeW9EO0lBc0JYcm9ELGFBQUE7UUFyQlUsS0FBQWtpRCxxQkFBcUIsR0FBRyxJQUFJbGpDLCtRQUFlQSxDQUFTO1FBQ3BELEtBQUFzcEMsYUFBYSxHQUFHLElBQUl0cEMsK1FBQWVBLENBQVM7UUFDdEQ7O1NBRUcsR0FDTSxJQUEwQixDQUFBdXBDLDBCQUFBLEdBQUd2TTtRQTJDdEM7Ozs7O1NBS0csR0FDSCxLQUFBcitCLGVBQWUsR0FBRzBDO1FBa0JsQjs7Ozs7Ozs7OztTQVVHLEdBQ08sS0FBQXJDLGVBQWUsR0FBR29CO1FBN0QxQixJQUFJLENBQUNzekIsZUFBZSxHQUFHLElBQUksQ0FBQ3dQLHFCQUFxQixDQUM5Q3poQyxZQUFZLEdBQ1p1TyxJQUFJLENBQUNVLHdSQUFvQkE7UUFDNUIsSUFBSSxDQUFDd3BCLE9BQU8sR0FBRyxJQUFJLENBQUNvUCxhQUFhLENBQzlCN25DLFlBQVksR0FDWnVPLElBQUksQ0FBQ1Usd1JBQW9CQTs7SUFHOUI7Ozs7S0FJRyxHQUNILElBQUlvcEIsaUJBQWM7UUFDaEIsT0FBTyxJQUFJLENBQUNuN0IsZUFBZSxDQUFDLElBQUksQ0FBQyswQixlQUFlOztJQUdsRDs7OztLQUlHLEdBQ0gsSUFBSXlHLFNBQU07UUFDUixPQUFPLElBQUksQ0FBQ3g3QixlQUFlLENBQUMsSUFBSSxDQUFDdTdCLE9BQU87O0lBVzFDOzs7S0FHRyxHQUNId0csVUFBVTlNLFFBQWdCO1FBQ3hCLElBQUksQ0FBQzUwQixlQUFlLENBQUMsSUFBSSxDQUFDa2tDLHFCQUFxQixFQUFFdFA7O0lBR25EOzs7S0FHRyxHQUNINFYsVUFBVXJQLE1BQWM7UUFDdEIsSUFBSSxDQUFDbjdCLGVBQWUsQ0FBQyxJQUFJLENBQUNzcUMsYUFBYSxFQUFFblA7O0FBZTVDO01DbkZZc1A7SUFLWHpvRCxZQUFZK1MsSUFBVTtRQUpOLEtBQUErTSxLQUFLLEdBQUcsSUFBSXVvQztRQUNwQixJQUFhLENBQUEzMUIsYUFBQSxHQUFtQixFQUFFO1FBeUQxQzs7OztTQUlHLEdBQ0gsSUFBTyxDQUFBN1csT0FBQSxHQUFHO1lBQ1IsSUFBSSxDQUFDNlcsYUFBYSxDQUFDaGEsT0FBTyxDQUFDLENBQUMzRSxJQUFNQSxFQUFFZ0ssV0FBVztRQUNqRDtRQTVERSxJQUFJLENBQUNoTCxJQUFJLEdBQUdBO1FBQ1osSUFBSWdyQyxjQUFjLENBQUN4b0MsaUJBQWlCO1lBQ2xDLElBQUksQ0FBQ21kLGFBQWEsQ0FBQ3Z2QixJQUFJLENBQ3JCMGEsaVJBQWFBLENBQUM7Z0JBQUNrZ0M7Z0JBQWEsSUFBSSxDQUFDaitCLEtBQUssQ0FBQzR5QixlQUFlO2FBQUMsRUFBRTUwQixTQUFTLENBQ2hFLENBQUMsQ0FBQzYwQixTQUFTQyxTQUFTO2dCQUNsQixJQUFJLENBQUNBLFVBQVU7b0JBQ2I7O2dCQUVGLE1BQU1yQixTQUFTb0IsUUFBUXJ3QyxJQUFJLENBQ3pCLENBQUN3d0MsSUFBTUEsRUFBRUYsUUFBUSxLQUFLQSxZQUFZRSxFQUFFM3lDLElBQUksS0FBSztnQkFFL0MsSUFBSSxDQUFDb3hDLFFBQVE7b0JBQ1gsSUFBSSxDQUFDaU8sTUFBTSxDQUFDOzs7OztJQVF4Qjs7Ozs7OztLQU9HLEdBQ0gvTSxjQUFXO1FBQ1QsSUFBSWw5QixpQkFBaUI7WUFDbkIsTUFBTSxJQUFJM1YsTUFDUjs7UUFHSixPQUFPcTlDOztJQUdUOzs7Ozs7S0FNRyxHQUNIdUMsT0FBTzVNLFFBQWdCO1FBQ3JCLElBQUlyOUIsaUJBQWlCO1lBQ25CLE1BQU0sSUFBSTNWLE1BQ1I7O1FBR0osSUFBSSxDQUFDa2dCLEtBQUssQ0FBQzQvQixTQUFTLENBQUM5TTs7SUFZdkI7Ozs7O0tBS0csR0FDSDRWLFVBQVVyUCxNQUFjO1FBQ3RCLElBQUk1akMsaUJBQWlCO1lBQ25CLE1BQU0sSUFBSTNWLE1BQ1I7O1FBR0osSUFBSXU1QyxVQUFXQSxDQUFBQSxTQUFTLEtBQUtBLFNBQVMsSUFBSTtZQUN4QyxNQUFNLElBQUl2NUMsTUFBTTs7UUFFbEIsSUFBSSxDQUFDa2dCLEtBQUssQ0FBQzBvQyxTQUFTLENBQUNyUDs7SUFHdkI7Ozs7Ozs7S0FPRyxHQUNIdVAscUJBQXFCcGhDLFNBQWlCLEVBQUU2eEIsTUFBMEI7UUFDaEUsSUFBSTVqQyxpQkFBaUI7WUFDbkIsTUFBTSxJQUFJM1YsTUFDUjs7UUFHSixJQUFJdTVDLFVBQVdBLENBQUFBLFNBQVMsS0FBS0EsU0FBUyxJQUFJO1lBQ3hDLE1BQU0sSUFBSXY1QyxNQUFNOztRQUVsQixJQUFJLENBQUNtVCxJQUFJLENBQUMrTSxLQUFLLENBQUM2SCxpQkFBaUIsQ0FBQ0wsV0FBVztZQUFFOHhCLGFBQWFEO1FBQU07O0FBRXJFO0FDNEJEOztDQUVHLFNBQ1VqeEM7SUErR1g7Ozs7OztLQU1HLEdBQ0hsSSxZQUFZLEVBQ1Y0ZixJQUFJLEVBQ0pDLEVBQUUsRUFDRmtqQixZQUFZLEVBQ1ovYixPQUFPLEVBQ1A0SyxlQUFlLEVBQ2ZqTSxrQkFBa0IsRUFDbEJnakMsV0FBVyxFQUNYdGUsVUFBVSxLQUFLLEVBQ2Z1ZSxXQUFXLEtBQUssRUFDQTtRQWhIbEI7O1NBRUcsR0FDTSxLQUFBOW9DLEtBQUssR0FBRyxJQUFJNVo7UUF5Q3JCOztTQUVHLEdBQ00sS0FBQWtpQyxrQkFBa0IsR0FBRyxJQUFJbVI7UUFHbEM7OztTQUdHLEdBQ2MsS0FBQWhuQixVQUFVLEdBQUcsSUFBSWhZO1FBVzFCLElBQVksQ0FBQXN1QyxZQUFBLEdBQUc7UUFFTixLQUFBQyx1QkFBdUIsR0FBR2xxQyxPQUFPO1FBQzFDLElBQWlCLENBQUFtcUMsaUJBQUEsR0FBRztRQUNwQixLQUFBeGdCLGlCQUFpQixHQUFHNWlDLDJCQUEyQml3QixXQUFXO1FBQzFELElBQTRCLENBQUFvekIsNEJBQUEsR0FBVztRQUN2QyxJQUEyQixDQUFBQywyQkFBQSxHQUFXO1FBQ3RDLElBQW9CLENBQUFDLG9CQUFBLEdBQVc7OztRQUkvQixJQUFpQixDQUFBQyxpQkFBQSxHQUFnQixFQUFFO1FBRW5DLElBQWEsQ0FBQUMsYUFBQSxHQUFHO1FBQ2hCLElBQXlCLENBQUFDLHlCQUFBLEdBQUc7UUFHNUIsSUFBVyxDQUFBQyxXQUFBLEdBQUc7UUFDTCxLQUFBQyx1QkFBdUIsR0FBRzNxQyxPQUFPO1FBRWxEOzs7O1NBSUcsR0FDYyxLQUFBNHFDLGNBQWMsR0FBa0IsSUFBSWpkO1FBRzdDLEtBQUFrZCx5QkFBeUIsR0FBRyxJQUFJbnRDO1FBa0RoQyxJQUFLLENBQUEya0IsS0FBQSxHQUFHO1lBQ2QsTUFBTWpsQixtQkFBbUIsSUFBSSxDQUFDdXRDLHVCQUF1QixFQUFFO2dCQUNyRCxJQUFJLElBQUksQ0FBQ0QsV0FBVyxFQUFFO2dCQUV0QixJQUFJLENBQUNFLGNBQWMsQ0FBQ3hoQyxHQUFHLENBQ3JCLElBQUksQ0FBQy9NLEVBQUUsQ0FBQyxPQUFPLENBQUM2Tjs7b0JBRWQsSUFBSSxDQUFDaEosS0FBSyxDQUFDK0ksZUFBZSxDQUFDQzs7Z0JBSS9CLElBQUksQ0FBQzBnQyxjQUFjLENBQUN4aEMsR0FBRyxDQUNyQixJQUFJLENBQUMvTSxFQUFFLENBQUMsd0JBQXdCLENBQUM2TjtvQkFDL0IsSUFBSSxDQUFDNGdDLHFCQUFxQixHQUFHNWdDLE1BQU04USxjQUFjOztnQkFJckQsSUFBSSxDQUFDNHZCLGNBQWMsQ0FBQ3hoQyxHQUFHLENBQUNvaUIsc0JBQXNCLElBQUksRUFBRSxJQUFJLENBQUM3WCxVQUFVO2dCQUNuRSxJQUFJLENBQUNvM0IsZUFBZTtnQkFDcEIsSUFBSSxDQUFDQyx5QkFBeUI7Z0JBRTlCLElBQUksSUFBSSxDQUFDOXBDLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYW1CLElBQUksRUFBRTtvQkFDakQsSUFBSSxDQUFDRixLQUFLLENBQUM4RyxlQUFlLENBQUMvSCxhQUFhc29CLElBQUk7O2dCQUc5QyxJQUFJLENBQUNtaUIsV0FBVyxHQUFHO1lBQ3JCO1FBQ0Y7UUFFUSxJQUFlLENBQUFLLGVBQUEsR0FBRztZQUN4QixJQUFJLENBQUNILGNBQWMsQ0FBQ3hoQyxHQUFHO1lBRXJCMUosbUJBQW1CLElBQUksQ0FBQ3dCLEtBQUssQ0FBQ3lRLFNBQVMsRUFBRSxDQUFDekY7Z0JBQ3hDLElBQUksQ0FBQ0EsVUFBVTtnQkFDZixJQUFJLENBQUNzZCxrQkFBa0IsQ0FBQ3NSLGVBQWUsQ0FBQzV1Qjs7WUFJNUMsSUFBSSxDQUFDMCtCLGNBQWMsQ0FBQ3hoQyxHQUFHO1lBRXJCckosNEJBQ0UsSUFBSSxDQUFDbUIsS0FBSyxDQUFDb1IsZ0JBQWdCLEVBQzNCLElBQUksQ0FBQzI0Qiw0QkFBNEI7WUFJckMsSUFBSSxDQUFDTCxjQUFjLENBQUN4aEMsR0FBRztZQUVyQjFKLG1CQUFtQixJQUFJLENBQUN3QixLQUFLLENBQUNpUixlQUFlLEVBQUUsT0FBT2M7Z0JBQ3BELElBQUksQ0FBQ0Esa0JBQWtCQSxlQUFlN3NCLE1BQU0sS0FBSyxHQUFHO2dCQUNwRCxNQUFNc2hDLGdCQUFnQixJQUFJLENBQUNBLGFBQWE7Z0JBQ3hDLElBQUlBLGlCQUFpQnpVLGVBQWV0USxRQUFRLENBQUMra0IsZ0JBQWdCO29CQUMzRCxJQUFJLENBQUN4MEIsTUFBTSxDQUFDLFFBQVE7b0JBQ3BCLE1BQU0sSUFBSSxDQUFDbU8sS0FBSyxDQUFDO3dCQUFFQyxRQUFRO29CQUFjLEdBQUlDLEtBQUssQ0FBQyxDQUFDMUk7d0JBQ2xELElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxTQUFTLDBDQUEwQzJGO29CQUNqRTs7O1lBS04sSUFBSSxDQUFDK3hDLGNBQWMsQ0FBQ3hoQyxHQUFHO1lBRXJCMUosbUJBQW1CLElBQUksQ0FBQ3dCLEtBQUssQ0FBQ3dRLFFBQVEsRUFBRSxDQUFDMUY7Z0JBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUN5ZixPQUFPLEVBQUU7Z0JBRW5CLE1BQU15ZixhQUFhLElBQUksQ0FBQ25CLFdBQVcsQ0FBQ3ZvQyxhQUFhLEVBQUVQO2dCQUNuRCxJQUFJLENBQUNpcUMsWUFBWTtnQkFFakIsTUFBTUMsaUJBQWlCN3lDLFFBQVEwVCxTQUFTby9CLFdBQVcsQ0FBQ0YsV0FBVztnQkFDL0QsTUFBTUcsaUJBQWlCL3lDLFFBQVEwVCxTQUFTaWMsV0FBVyxDQUFDaWpCLFdBQVc7Z0JBRS9ELElBQUlDLGtCQUFrQkUsZ0JBQWdCO29CQUNwQyxJQUFJLENBQUNDLGNBQWM7OztZQUt6QixJQUFJLENBQUNWLGNBQWMsQ0FBQ3hoQyxHQUFHO1lBRXJCMUosbUJBQW1CLElBQUksQ0FBQzZyQyxjQUFjLEVBQUUsQ0FBQ0M7Z0JBQ3ZDLElBQUksQ0FBQ0EsV0FBVztnQkFDaEIsTUFBTXpqQixjQUFjLElBQUksQ0FBQzdtQixLQUFLLENBQUM4SyxPQUFPO2dCQUN0QyxNQUFNeS9CLGNBQWMsSUFBSSxDQUFDMUIsV0FBVyxDQUFDdm9DLGFBQWEsRUFBRVA7Z0JBQ3BELE1BQU15SyxXQUFXcWMsYUFBYXJjO2dCQUM5QixNQUFNZ2dDLGdCQUFnQixJQUFJLENBQUN4cUMsS0FBSyxDQUFDbVMsU0FBUyxFQUFFcFM7Z0JBQzVDLE1BQU1nbkIsY0FBY0YsYUFBYUU7Z0JBQ2pDLE1BQU1takIsY0FBY3JqQixhQUFhcWpCO2dCQUNqQyxJQUFJTyxnQkFBZ0I7Z0JBQ3BCLElBQUlqZ0MsVUFBVTs7b0JBRVppZ0MsZ0JBQWdCO3VCQUNYLElBQUlELGlCQUFpQnpqQixhQUFhO29CQUN2QyxJQUFJQSxXQUFXLENBQUN5akIsY0FBYyxFQUFFOzt3QkFFOUJDLGdCQUFnQjs7dUJBRWIsSUFBSUYsZUFBZXhqQixhQUFhO29CQUNyQyxJQUFJQSxXQUFXLENBQUN3akIsWUFBWSxFQUFFOzt3QkFFNUJFLGdCQUFnQjs7dUJBRWIsSUFBSUYsZUFBZUwsYUFBYTtvQkFDckMsSUFBSUEsV0FBVyxDQUFDSyxZQUFZLEVBQUU7O3dCQUU1QkUsZ0JBQWdCOzs7Z0JBR3BCLElBQUlBLGVBQWU7b0JBQ2pCLElBQUksSUFBSSxDQUFDenFDLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYXNvQixJQUFJLEVBQUU7d0JBQ2pELElBQUksQ0FBQ3JuQixLQUFLLENBQUM4RyxlQUFlLENBQUMvSCxhQUFhc29CLElBQUk7O3VCQUV6QztvQkFDTCxJQUFJLElBQUksQ0FBQ3JuQixLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFzb0IsSUFBSSxFQUFFO3dCQUNqRCxJQUFJLENBQUNybkIsS0FBSyxDQUFDOEcsZUFBZSxDQUFDL0gsYUFBYTBuQixPQUFPOztvQkFFakQsSUFBSSxDQUFDaWtCLGdCQUFnQjtvQkFDckIsSUFBSSxDQUFDaEIsY0FBYyxDQUFDeGhDLEdBQUcsQ0FBQ3NpQixpQ0FBaUMsSUFBSTs7O1FBSXJFO1FBRVEsS0FBQXVmLDRCQUE0QixHQUFHLE9BQ3JDajRCOztZQUdBLElBQUksQ0FBQ3dXLGtCQUFrQixDQUFDcVIsY0FBYyxDQUFDN25CO1lBRXZDLElBQUksQ0FBQyxJQUFJLENBQUNnYSxTQUFTLEVBQUU7O1lBR3JCLE1BQU02ZSx3QkFBd0I7Z0JBQzVCLENBQUM5dEQsY0FBY2EsVUFBVSxHQUFHNkgsVUFBVXFjLEtBQUs7Z0JBQzNDLENBQUMva0IsY0FBY2MsVUFBVSxHQUFHNEgsVUFBVW1jLEtBQUs7Z0JBQzNDLENBQUM3a0IsY0FBY1ksV0FBVyxHQUFHOEgsVUFBVXVjLFlBQVk7O1lBRXJELEtBQUssTUFBTSxDQUFDKzNCLFlBQVl0eEIsVUFBVSxJQUFJdm5CLE9BQU9DLE9BQU8sQ0FDbEQwcEQsdUJBQ0M7Z0JBQ0QsTUFBTXBpQixnQkFBZ0IsSUFBSSxDQUFDRCxrQkFBa0IsQ0FBQ0MsYUFBYSxDQUN6RHNSO2dCQUVGLElBQUl0UixlQUFlO2dCQUNuQixJQUFJO29CQUNGLE9BQVFoZ0I7d0JBQ04sS0FBS2hqQixVQUFVcWMsS0FBSzs0QkFDbEIsSUFBSSxJQUFJLENBQUNxbkIsVUFBVSxDQUFDck8sT0FBTyxFQUFFLE1BQU0sSUFBSSxDQUFDcU8sVUFBVSxDQUFDRCxPQUFPOzRCQUMxRDt3QkFDRixLQUFLempDLFVBQVVtYyxLQUFLOzRCQUNsQixJQUFJLElBQUksQ0FBQ3FuQixNQUFNLENBQUNuTyxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUNtTyxNQUFNLENBQUNDLE9BQU87NEJBQ2xEO3dCQUNGLEtBQUt6akMsVUFBVXVjLFlBQVk7NEJBQ3pCLElBQUksSUFBSSxDQUFDb25CLFdBQVcsQ0FBQ3RPLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQ3NPLFdBQVcsQ0FBQ0YsT0FBTzs0QkFDNUQ7O2tCQUVKLE9BQU9yeEIsS0FBSztvQkFDWixJQUFJLENBQUMzRixNQUFNLENBQ1QsU0FDQSxDQUFnRSxpRUFDaEUyRjs7O1FBSVI7UUFFQTs7Ozs7OztTQU9HLEdBQ0gsS0FBQXdELEVBQUUsR0FBRyxDQUNIWixXQUNBVTtZQUVBLElBQUlYLFdBQVdDLFlBQVk7Z0JBQ3pCLE9BQU8sSUFBSSxDQUFDa1ksVUFBVSxDQUFDdFgsRUFBRSxDQUFDWixXQUFXVTs7WUFHdkMsTUFBTTJ2QyxhQUFhLElBQUksQ0FBQzNuQixZQUFZLENBQUM5bkIsRUFBRSxDQUFDWixXQUFXLENBQUNXO2dCQUNsRCxNQUFNOE4sUUFBUTlOO2dCQUNkLElBQUk4TixNQUFNNmhDLFFBQVEsSUFBSTdoQyxNQUFNNmhDLFFBQVEsS0FBSyxJQUFJLENBQUNsckMsR0FBRyxFQUFFO29CQUNqRDFFLEdBQUcrTjs7WUFFUDs7WUFHQSxJQUFJLENBQUMyZ0MseUJBQXlCLENBQUN4c0MsR0FBRyxDQUFDbEMsSUFBSTJ2QztZQUN2QyxPQUFPO2dCQUNMLElBQUksQ0FBQ3Z2QyxHQUFHLENBQUNkLFdBQVdVO1lBQ3RCO1FBQ0Y7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUFJLEdBQUcsR0FBRyxDQUNKZCxXQUNBVTtZQUVBLElBQUlYLFdBQVdDLFlBQVk7Z0JBQ3pCLE9BQU8sSUFBSSxDQUFDa1ksVUFBVSxDQUFDcFgsR0FBRyxDQUFDZCxXQUFXVTs7O1lBSXhDLE1BQU02dkMsdUJBQXVCLElBQUksQ0FBQ25CLHlCQUF5QixDQUFDaHRDLEdBQUcsQ0FBQzFCO1lBQ2hFLElBQUk2dkMsc0JBQXNCO2dCQUN4QkE7O1FBRUo7UUFFQTs7U0FFRyxHQUNILEtBQUEzcUMsS0FBSyxHQUFHLE9BQU8sRUFDYmdnQixNQUFNLEVBQ04vZixTQUFTLDBCQUEwQixLQUNmLEVBQUU7WUFDdEIsTUFBTWxFLG1CQUFtQixJQUFJLENBQUN1dEMsdUJBQXVCLEVBQUU7Z0JBQ3JELE1BQU14cEMsZUFBZSxJQUFJLENBQUNELEtBQUssQ0FBQ0MsWUFBWTtnQkFDNUMsSUFBSUEsaUJBQWlCbEIsYUFBYW1CLElBQUksRUFBRTtvQkFDdEMsTUFBTSxJQUFJcGdCLE1BQU07O2dCQUdsQixJQUFJbWdCLGlCQUFpQmxCLGFBQWFnc0MsT0FBTyxFQUFFO29CQUN6QyxNQUFNQyxzQkFBc0I7d0JBQzFCLE9BQU8sSUFBSXI0QyxRQUFjLENBQUM4Szs0QkFDeEIsSUFBSSxDQUFDdUMsS0FBSyxDQUFDbVIsYUFBYSxDQUNyQmpDLElBQUksQ0FBQ3FvQiw2UUFBU0EsQ0FBQyxDQUFDdjNCLFFBQVVBLFVBQVVqQixhQUFhME4sTUFBTSxFQUFFLE9BQ3pEek8sU0FBUyxDQUFDLElBQU1QO3dCQUNyQjtvQkFDRjtvQkFDQSxNQUFNdXRDOztnQkFHUixJQUFJL3FDLGlCQUFpQmxCLGFBQWEwbkIsT0FBTyxJQUFJdEcsV0FBVyxPQUFPO29CQUM3RCxJQUFJQSxRQUFRO3dCQUNWLE1BQU0sSUFBSSxDQUFDQSxNQUFNLENBQUMvZjsyQkFDYjs7O3dCQUdMLE1BQU02cUMsdUJBQXVCLElBQUksQ0FBQ2pyQyxLQUFLLENBQUMwUixrQkFBa0IsQ0FBQ3hzQixNQUFNLEdBQUc7d0JBQ3BFLElBQUksSUFBSSxDQUFDOGhDLGFBQWEsSUFBSSxDQUFDaWtCLHNCQUFzQjs0QkFDL0MsTUFBTSxJQUFJLENBQUM5cUIsTUFBTSxDQUFDOzs7O2dCQUt4QixJQUFJLENBQUMrcUIsYUFBYSxFQUFFcHlDO2dCQUNwQixJQUFJLENBQUNveUMsYUFBYSxHQUFHanBEO2dCQUVyQixJQUFJLENBQUNrcEQsZ0JBQWdCLEVBQUVyeUM7Z0JBQ3ZCLElBQUksQ0FBQ3F5QyxnQkFBZ0IsR0FBR2xwRDtnQkFFeEIsSUFBSSxDQUFDNHBDLFVBQVUsRUFBRTl2QjtnQkFDakIsSUFBSSxDQUFDOHZCLFVBQVUsR0FBRzVwQztnQkFFbEIsSUFBSSxDQUFDNnBDLFNBQVMsRUFBRS92QjtnQkFDaEIsSUFBSSxDQUFDK3ZCLFNBQVMsR0FBRzdwQztnQkFFakIsTUFBTSxJQUFJLENBQUNzd0IsU0FBUyxFQUFFa1MsY0FBY3JrQjtnQkFDcEMsSUFBSSxDQUFDbVMsU0FBUyxHQUFHdHdCO2dCQUNqQixJQUFJLENBQUNtcEQsZ0JBQWdCLENBQUNoNEIsWUFBWSxDQUFDbnhCO2dCQUVuQyxJQUFJLENBQUMrZCxLQUFLLENBQUM4RyxlQUFlLENBQUMvSCxhQUFhbUIsSUFBSTtnQkFDNUMsSUFBSSxDQUFDRixLQUFLLENBQUNqRSxPQUFPOztnQkFHbEIsSUFBSSxDQUFDMnRDLGNBQWMsQ0FBQzl3QyxPQUFPLENBQUMsQ0FBQ3l5QyxPQUFTQTtnQkFDdEMsSUFBSSxDQUFDN0IsV0FBVyxHQUFHO2dCQUNuQixJQUFJLENBQUNGLGFBQWEsR0FBRztnQkFDckIsSUFBSSxDQUFDVCxXQUFXLENBQUNqcEMsY0FBYyxDQUFDLElBQUk7Z0JBRXBDLElBQUksQ0FBQ21wQixNQUFNLENBQUNodEIsT0FBTztnQkFDbkIsSUFBSSxDQUFDa3RCLFVBQVUsQ0FBQ2x0QixPQUFPO2dCQUN2QixJQUFJLENBQUNtdEIsV0FBVyxDQUFDbnRCLE9BQU87Z0JBQ3hCLElBQUksQ0FBQzA1QixPQUFPLENBQUMxNUIsT0FBTztnQkFFcEIsTUFBTXV2QyxzQkFBdUMsRUFBRTtnQkFDL0MsSUFBSSxJQUFJLENBQUN2aUIsTUFBTSxDQUFDcVYsV0FBVyxFQUFFO29CQUMzQmtOLG9CQUFvQmpvRCxJQUFJLENBQUMsSUFBSSxDQUFDMGxDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDOztnQkFFL0MsSUFBSSxJQUFJLENBQUNDLFVBQVUsQ0FBQ21WLFdBQVcsRUFBRTtvQkFDL0JrTixvQkFBb0Jqb0QsSUFBSSxDQUFDLElBQUksQ0FBQzRsQyxVQUFVLENBQUNELE9BQU8sQ0FBQzs7Z0JBRW5ELElBQUksSUFBSSxDQUFDRSxXQUFXLENBQUNrVixXQUFXLEVBQUU7b0JBQ2hDa04sb0JBQW9Cam9ELElBQUksQ0FBQyxJQUFJLENBQUM2bEMsV0FBVyxDQUFDRixPQUFPLENBQUM7O2dCQUVwRCxNQUFNcjJCLFFBQVF1NkIsR0FBRyxDQUFDb2U7WUFDcEI7UUFDRjtRQXVCQTs7O1NBR0csR0FDSCxLQUFBQyxzQkFBc0IsR0FBRyxPQUFPdmlDO1lBQzlCLE1BQU0sSUFBSSxDQUFDbVksS0FBSzs7OztZQUloQixNQUFNLEVBQUUxVyxVQUFVLEVBQUVPLFFBQVEsRUFBRSxHQUFHaEMsTUFBTS9WLElBQUk7WUFDM0MsTUFBTXU0QyxVQUFVLElBQUksQ0FBQ3hyQyxLQUFLLENBQUNrSCxPQUFPLENBQUMxa0IsSUFBSSxDQUFDLENBQUNrUSxJQUFNQSxFQUFFMk0sSUFBSSxDQUFDVSxFQUFFLEtBQUswSyxXQUFXMUssRUFBRTtZQUMxRSxJQUFJLENBQUN5ckMsU0FBUztnQkFDWixJQUFJLENBQUN4ckMsS0FBSyxDQUFDaUgsVUFBVSxDQUFDK0IsTUFBTTlCLE9BQU87bUJBQzlCO2dCQUNMLElBQUksQ0FBQ2xILEtBQUssQ0FBQ2lILFVBQVUsQ0FBQztvQkFBQ3VrQzt1QkFBWXhpQyxNQUFNOUIsT0FBTztpQkFBQzs7O1lBR25ELElBQUksQ0FBQ2xILEtBQUssQ0FBQ2tLLHNCQUFzQixDQUFDbEIsTUFBTS9WLElBQUk7WUFDNUMsSUFBSSxDQUFDNjFDLFFBQVEsR0FBRztZQUNoQixJQUFJLENBQUN1QixjQUFjLENBQUN4NEMsSUFBSSxDQUFDOzs7WUFHekIsTUFBTTJOLFFBQVEsSUFBSSxDQUFDcXBDLFdBQVcsQ0FBQ3JwQyxLQUFLLENBQUNySSxNQUFNLENBQUMsQ0FBQ3VJLElBQU1BLEVBQUVDLEdBQUcsS0FBSyxJQUFJLENBQUNBLEdBQUc7WUFDckUsSUFBSSxDQUFDa3BDLFdBQVcsQ0FBQ3RwQyxRQUFRLENBQUM7Z0JBQUMsSUFBSTttQkFBS0M7YUFBTTtZQUMxQyxNQUFNLElBQUksQ0FBQ2lzQyxpQkFBaUIsQ0FBQ3pnQyxVQUFVO1FBQ3pDO1FBRUE7Ozs7OztTQU1HLEdBQ0gsS0FBQXJPLEdBQUcsR0FBRyxPQUFPMGU7WUFLWCxNQUFNLElBQUksQ0FBQzhGLEtBQUs7WUFDaEIsTUFBTTl1QixXQUFXLE1BQU0sSUFBSSxDQUFDNHdCLFlBQVksQ0FBQ3RtQixHQUFHLENBQzFDLElBQUksQ0FBQyt1QyxvQkFBb0IsRUFDekJyd0I7WUFHRixJQUFJLENBQUNyYixLQUFLLENBQUNrSyxzQkFBc0IsQ0FBQzdYLFNBQVNZLElBQUk7WUFDL0MsSUFBSSxDQUFDK00sS0FBSyxDQUFDaUgsVUFBVSxDQUFDNVUsU0FBUzZVLE9BQU87WUFDdEMsSUFBSSxDQUFDbEgsS0FBSyxDQUFDbUgsa0JBQWtCLENBQUM5VSxTQUFTMmIsZ0JBQWdCO1lBRXZELElBQUlxTixRQUFRc3dCLFFBQVEsSUFBSSxDQUFDcGhCLE9BQU8sRUFBRTs7Z0JBRWhDLElBQUksQ0FBQzhmLGNBQWMsQ0FBQ3g0QyxJQUFJLENBQUM7O1lBRzNCLElBQUksSUFBSSxDQUFDb3hCLFlBQVksQ0FBQzJvQixnQkFBZ0IsSUFBSTtnQkFDeEMsSUFBSSxDQUFDOUMsUUFBUSxHQUFHO2dCQUNoQixJQUFJLENBQUNELFdBQVcsQ0FBQ3BwQyxZQUFZLENBQUMsSUFBSTs7WUFHcEMsTUFBTSxJQUFJLENBQUNnc0MsaUJBQWlCLENBQUNwNUMsU0FBU1ksSUFBSSxDQUFDK1gsUUFBUSxFQUFFO1lBRXJELE9BQU8zWTtRQUNUO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUF3NUMsV0FBVyxHQUFHLE9BQU81c0I7WUFDbkIsTUFBTSxJQUFJLENBQUNrQyxLQUFLO1lBQ2hCLE1BQU05dUIsV0FBVyxNQUFNLElBQUksQ0FBQzR3QixZQUFZLENBQUM2b0IsSUFBSSxDQUczQyxJQUFJLENBQUNKLG9CQUFvQixFQUFFenNCO1lBRTdCLElBQUksQ0FBQ2pmLEtBQUssQ0FBQ2tLLHNCQUFzQixDQUFDN1gsU0FBU1ksSUFBSTtZQUMvQyxJQUFJLENBQUMrTSxLQUFLLENBQUNpSCxVQUFVLENBQUM1VSxTQUFTNlUsT0FBTztZQUN0QyxJQUFJLENBQUNsSCxLQUFLLENBQUNtSCxrQkFBa0IsQ0FBQzlVLFNBQVMyYixnQkFBZ0I7WUFFdkQsSUFBSWlSLE1BQU0wc0IsUUFBUSxJQUFJLENBQUNwaEIsT0FBTyxFQUFFOztnQkFFOUIsSUFBSSxDQUFDOGYsY0FBYyxDQUFDeDRDLElBQUksQ0FBQzs7WUFHM0IsSUFBSSxJQUFJLENBQUNveEIsWUFBWSxDQUFDMm9CLGdCQUFnQixJQUFJO2dCQUN4QyxJQUFJLENBQUM5QyxRQUFRLEdBQUc7Z0JBQ2hCLElBQUksQ0FBQ0QsV0FBVyxDQUFDcHBDLFlBQVksQ0FBQyxJQUFJOztZQUdwQyxNQUFNLElBQUksQ0FBQ2dzQyxpQkFBaUIsQ0FBQ3A1QyxTQUFTWSxJQUFJLENBQUMrWCxRQUFRLEVBQUU7WUFFckQsT0FBTzNZO1FBQ1Q7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQTNRLE1BQU0sR0FBRyxPQUFPdTlCO1lBQ2QsT0FBTyxJQUFJLENBQUM0c0IsV0FBVyxDQUFDNXNCO1FBQzFCO1FBRUE7OztTQUdHLEdBQ0gsSUFBSSxDQUFBMHNCLElBQUEsR0FBRztZQUNMLE9BQU8sTUFBTSxJQUFJLENBQUNodkMsR0FBRyxDQUFDO2dCQUFFZ3ZDLE1BQU07WUFBSTtRQUNwQztRQUVBOzs7U0FHRyxHQUNILElBQU0sQ0FBQUksTUFBQSxHQUFHO1lBQ1AsT0FBTyxNQUFNLElBQUksQ0FBQ3B2QyxHQUFHLENBQUM7Z0JBQUVvdkMsUUFBUTtZQUFJO1FBQ3RDO1FBRUE7Ozs7OztTQU1HLEdBQ0gsSUFBTSxDQUFBQyxNQUFBLEdBQUc7WUFDUCxPQUFPLElBQUksQ0FBQy9vQixZQUFZLENBQUM2b0IsSUFBSSxDQUMzQixDQUFHLE1BQUksQ0FBQ0osb0JBQW9CLENBQVM7UUFFekM7UUFFQTs7Ozs7Ozs7U0FRRyxHQUNILEtBQUF2ckIsTUFBTSxHQUFHLE9BQU8vZjtZQUNkLE9BQU8sSUFBSSxDQUFDNmlCLFlBQVksQ0FBQzZvQixJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsU0FBUyxFQUNyQztnQkFBRXRyQyxRQUFRQTtZQUFNO1FBRXBCO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUEvSSxJQUFJLEdBQUcsT0FBTzRuQjtZQUNaLE1BQU1ndEIsbUJBQW1Cdm9ELEtBQUtILEdBQUc7WUFDakMsTUFBTSxJQUFJLENBQUM0OUIsS0FBSztZQUNoQixNQUFNbGhCLGVBQWUsSUFBSSxDQUFDRCxLQUFLLENBQUNDLFlBQVk7WUFDNUMsSUFBSTtnQkFBQ2xCLGFBQWEwTixNQUFNO2dCQUFFMU4sYUFBYWdzQyxPQUFPO2FBQUMsQ0FBQ3RwQyxRQUFRLENBQUN4QixlQUFlO2dCQUN0RSxNQUFNLElBQUluZ0IsTUFBTSxzREFBc0Q7O1lBR3hFLElBQUksQ0FBQ29zRCxZQUFZLEdBQUdqdEI7WUFFcEIsSUFBSSxDQUFDanRCLE1BQU0sQ0FBQyxTQUFTO1lBQ3JCLElBQUksQ0FBQ2dPLEtBQUssQ0FBQzhHLGVBQWUsQ0FBQy9ILGFBQWFnc0MsT0FBTztZQUUvQyxNQUFNb0Isc0JBQ0osSUFBSSxDQUFDMWpCLGlCQUFpQixLQUFLNWlDLDJCQUEyQnVtRCxPQUFPO1lBQy9ELE1BQU1DLG1CQUNKLElBQUksQ0FBQzVqQixpQkFBaUIsS0FBSzVpQywyQkFBMkJ5bUQsTUFBTTtZQUM5RCxNQUFNQywwQkFDSixJQUFJLENBQUM5akIsaUJBQWlCLEtBQUs1aUMsMkJBQTJCd3lDLElBQUk7WUFFNUQsSUFBSW1VLGVBQWUsSUFBSSxDQUFDckIsZ0JBQWdCLEVBQUV2cUQ7WUFDMUMsSUFDRSxDQUFDLElBQUksQ0FBQ2tpQyxXQUFXLElBQ2pCLENBQUMwcEIsZ0JBQ0RILG9CQUNBRixxQkFDQTtnQkFDQSxJQUFJO29CQUNGLE1BQU14eUMsZUFBZSxNQUFNLElBQUksQ0FBQzh5QyxhQUFhLENBQUN4dEI7b0JBQzlDLElBQUksQ0FBQzZELFdBQVcsR0FBR25wQixhQUFhbXBCLFdBQVc7b0JBQzNDMHBCLGVBQWU3eUMsYUFBYSt5QyxhQUFhO2tCQUN6QyxPQUFPdjJDLE9BQU87O29CQUVkLElBQUksQ0FBQzZKLEtBQUssQ0FBQzhHLGVBQWUsQ0FBQzdHO29CQUMzQixNQUFNOUo7OztZQUlWLE1BQU13MkMsb0JBQW9CLElBQUksQ0FBQ3A2QixTQUFTO1lBQ3hDLE1BQU1xNkIsb0JBQW9CRCxtQkFBbUJubEM7WUFDN0MsTUFBTXFsQyxjQUFjLENBQUMsQ0FBQ0YsbUJBQW1Cdm1CO1lBQ3pDLE1BQU03VCxZQUNKODVCLG9CQUFvQkYsdUJBQXVCLENBQUNVLGNBQ3hDLElBQUlocUIsZ0JBQWdCO2dCQUNsQmpvQixRQUFRMmUsT0FBTyxJQUFJLENBQUN3dkIsWUFBWTtnQkFDaEN0MkIsWUFBWSxJQUFJLENBQUNBLFVBQVU7Z0JBQzNCcVEsYUFBYSxJQUFJLENBQUNBLFdBQVc7Z0JBQzdCRyxjQUFjLElBQUksQ0FBQ0EsWUFBWTs7O2dCQUcvQnpiLFdBQVc2a0MsbUJBQW1CcHFELFlBQVkycUQ7Z0JBQzFDNXBCLGVBQWUsSUFBTSxJQUFJLENBQUM4cEIsb0JBQW9CLENBQUN2NkI7aUJBRWpEbzZCO1lBQ04sSUFBSSxDQUFDcDZCLFNBQVMsR0FBR0E7WUFDakIsSUFBSSxDQUFDNjRCLGdCQUFnQixDQUFDaDRCLFlBQVksQ0FBQ2I7WUFFbkMsTUFBTXFZLGdCQUFnQjJHOztZQUV0QixJQUFJb2Isc0JBQXNCcDZCLFdBQVc7Ozs7Z0JBSW5DLE1BQU0sQ0FBQ3c2QixlQUFlQyxhQUFhLEdBQUcsTUFBTXI2QyxRQUFRdTZCLEdBQUcsQ0FBQztvQkFDdEQvMEIsY0FBYztvQkFDZEEsY0FBYztpQkFDZjtnQkFDRCxNQUFNODBDLGlCQUNKLElBQUksQ0FBQ3hrQixpQkFBaUIsS0FBSzVpQywyQkFBMkJpd0IsV0FBVztnQkFDbkUsTUFBTXhLLG1CQUFtQjJoQyxpQkFDckIsSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQ2p1QixNQUFNa3VCLGdCQUFnQlAscUJBQy9DM3FEO2dCQUNKLE1BQU1tckQsMEJBQTBCLENBQUNILGlCQUM3QixJQUFJLENBQUNJLDBCQUEwQixLQUMvQixJQUFJLENBQUN6RCxxQkFBcUIsSUFBSSxFQUFFO2dCQUNwQyxNQUFNMEQsNEJBQTRCLENBQUNMLGlCQUMvQixJQUFJLENBQUNNLDRCQUE0QixLQUNqQyxFQUFFO2dCQUNOLE1BQU0sRUFBRW5pQyxTQUFTLEVBQUU4OUIsNEJBQTRCLEVBQUVwdkIsY0FBYyxFQUFFLEdBQy9ELE1BQU12SCxVQUFVbGIsSUFBSSxDQUFDO29CQUNuQjAxQztvQkFDQUM7b0JBQ0FwaUI7b0JBQ0E0aUIsZUFBZWpCO29CQUNmamhDO29CQUNBOGhDO29CQUNBRTtnQkFDRDtnQkFFSCxJQUFJLENBQUMxRCxxQkFBcUIsR0FBRzl2QjtnQkFDN0IsSUFBSSxDQUFDb3ZCLDRCQUE0QixHQUFHQTtnQkFDcEMsSUFBSTk5QixXQUFXO29CQUNiLElBQUksQ0FBQ3BMLEtBQUssQ0FBQ21MLHNCQUFzQixDQUMvQkMsV0FDQW1ILFVBQVUvSyxTQUFTLEVBQ25COEQ7OztZQUtOLElBQUksQ0FBQzZnQyxxQkFBcUI7O2dCQUV4QixJQUFJLENBQUNuc0MsS0FBSyxDQUFDOEcsZUFBZSxDQUFDL0gsYUFBYTBOLE1BQU07O1lBRWhELElBQUksQ0FBQzY4QixhQUFhLEdBQUc7OztZQUlyQixJQUFJaUQseUJBQXlCOzs7Z0JBRzNCLE1BQU0sSUFBSSxDQUFDa0IsVUFBVSxDQUFDbDdCLFdBQVc7b0JBQUVtN0IsbUJBQW1CO2dCQUFLO21CQUN0RDtnQkFDTCxNQUFNbDdCLG1CQUFtQjZNLG1CQUFtQixJQUFJLENBQUN5RCxXQUFXLENBQUM2cUIsV0FBVztnQkFDeEUsSUFBSSxDQUFDQywwQkFBMEIsQ0FBQztvQkFDOUJyN0I7b0JBQ0FDO29CQUNBb1k7b0JBQ0E0aEI7b0JBQ0ExeUIsZ0JBQWdCLElBQUksQ0FBQzh2QixxQkFBcUIsSUFBSSxFQUFFO29CQUNoRGlFLHdCQUF3QixDQUFDMUI7Z0JBQzFCOzs7WUFJSCxJQUFJLENBQUNFLG9CQUFvQixDQUFDRSwyQkFBMkIsQ0FBQ0oscUJBQXFCO2dCQUN6RSxJQUFJLENBQUNoQixnQkFBZ0IsRUFBRWpZLG1CQUNyQixDQUFDeHZDLEtBQUtILEdBQUcsS0FBSzBvRCxnQkFBQSxJQUFvQjs7WUFJdEMsSUFBSUksa0JBQWtCO2dCQUNwQixNQUFNL1ksV0FBV3p0QywwQkFBMEIsQ0FBQyxJQUFJLENBQUM0aUMsaUJBQWlCLENBQUM7Z0JBQ25FLE1BQU1ra0IsbUJBQW1CbG9CLGNBQ3ZCLHNEQUFzRDZPLFNBQVEsQ0FBRTttQkFFN0QsSUFBSSxDQUFDdVosYUFBYTtnQkFDdkJGLG1CQUFtQjV6QyxNQUNqQjhwQixnQkFBZ0J3RCxrQkFBa0IsRUFDbEM7Ozs7WUFNSixJQUFJLENBQUMsSUFBSSxDQUFDa2pCLHlCQUF5QixJQUFJLElBQUksQ0FBQ3ZwQyxLQUFLLENBQUNnTCxRQUFRLEVBQUU7Z0JBQzFELE1BQU0sSUFBSSxDQUFDeWdDLGlCQUFpQixDQUFDLElBQUksQ0FBQ3pyQyxLQUFLLENBQUNnTCxRQUFRLEVBQUU7Z0JBQ2xELElBQUksQ0FBQ3UrQix5QkFBeUIsR0FBRzs7Ozs7O1lBT25DLE9BQU8sSUFBSSxDQUFDMkMsWUFBWSxFQUFFUDtZQUMxQixPQUFPLElBQUksQ0FBQ08sWUFBWSxFQUFFSDs7WUFFMUIsSUFBSSxDQUFDdGpCLGlCQUFpQixHQUFHNWlDLDJCQUEyQml3QixXQUFXO1lBRS9ELElBQUksQ0FBQzlqQixNQUFNLENBQUMsUUFBUSxDQUFlLGtCQUFJLENBQUMyTixHQUFHLENBQUU7UUFDL0M7UUFFQTs7O1NBR0csR0FDSyxLQUFBdXRDLG1CQUFtQixHQUFHLENBQzVCWSxvQkFDQWxCO1lBRUEsTUFBTXRaLFdBQVcsSUFBSSxDQUFDN0ssaUJBQWlCO1lBQ3ZDLE1BQU00akIsbUJBQW1CL1ksYUFBYXp0QywyQkFBMkJ5bUQsTUFBTTtZQUN2RSxNQUFNN2dDLGtCQUNKLElBQUksQ0FBQ3FnQixTQUFTLEVBQUVuUCxvQ0FBb0MsRUFBRTtZQUN4RCxPQUFPO2dCQUNMMlc7Z0JBQ0E3bkI7Z0JBQ0FtSCxlQUFlLElBQUksQ0FBQ3c0QixnQkFBZ0IsQ0FBQzFVLGtCQUFrQjtnQkFDdkRxWCxrQkFBa0IsSUFBSSxDQUFDOUUsaUJBQWlCO2dCQUN4QytFLFdBQVdGLHNCQUFzQjtnQkFDakNsQixtQkFBbUJQLG1CQUFtQk8scUJBQXFCLEtBQUs7O1FBRXBFO1FBRUE7Ozs7U0FJRyxHQUNLLElBQTBCLENBQUFTLDBCQUFBLEdBQUc7WUFDbkMsTUFBTSxFQUFFWSxjQUFjLEVBQUVDLFFBQVEsRUFBRUMsZ0JBQWdCLEVBQUVDLGtCQUFrQixFQUFFLEdBQ3RFLElBQUksQ0FBQ0Msb0JBQW9CLElBQUk7WUFDL0IsSUFBSSxDQUFDSixrQkFBa0IsQ0FBQ0Usb0JBQW9CLENBQUNDLG9CQUFvQixPQUFPLEVBQUU7WUFFMUUsTUFBTXgyQixRQUFRcTJCLGlCQUNWbG5ELE1BQU1yRixNQUFNLENBQUM7Z0JBQUV0QixNQUFNNnRELGVBQWV0NkIsS0FBSyxDQUFDLEtBQUsyNkIsR0FBRztnQkFBSUMsTUFBTUw7WUFBUSxLQUNwRWpzRDtZQUVKLE1BQU1tckQsMEJBQTBCO2dCQUM5QmxtRCxjQUFjeEYsTUFBTSxDQUFDO29CQUNuQjZtQixXQUFXaGpCLFVBQVVtYyxLQUFLO29CQUMxQmtXO29CQUNBWixTQUFTbTNCO29CQUNUdDJCLGtCQUFrQnUyQjs7YUFFckI7WUFFRCxNQUFNSSxzQkFBc0IsSUFBSSxDQUFDdGxCLFdBQVcsQ0FBQ3ZSLFdBQVc7WUFDeEQsSUFBSTYyQixxQkFBcUI7Z0JBQ3ZCcEIsd0JBQXdCL3BELElBQUksQ0FDMUI2RCxjQUFjeEYsTUFBTSxDQUFDO29CQUNuQjZtQixXQUFXaGpCLFVBQVV1YyxZQUFZO29CQUNqQ29WLEtBQUtzM0Isb0JBQW9CcjNCLFlBQVk7b0JBQ3JDSCxTQUFTdzNCLG9CQUFvQnYzQixVQUFVO2dCQUN4Qzs7WUFJTCxPQUFPbTJCO1FBQ1Q7UUFFQTs7OztTQUlHLEdBQ0ssSUFBNEIsQ0FBQUcsNEJBQUEsR0FBRztZQUNyQyxNQUFNLEVBQUVrQixlQUFlLEVBQUVDLGtCQUFrQixFQUFFLEdBQzNDLElBQUksQ0FBQ0wsb0JBQW9CLElBQUk7WUFDL0IsSUFBSSxDQUFDSSxtQkFBbUIsQ0FBQ0Msb0JBQW9CLE9BQU8sRUFBRTtZQUN0RCxPQUFPO2dCQUNMMW5ELGdCQUFnQnRGLE1BQU0sQ0FBQztvQkFDckI2bUIsV0FBV2hqQixVQUFVbWMsS0FBSztvQkFDMUIrWixRQUFRO3dCQUNOOzRCQUFFcjdCLE1BQU1xdUQsZ0JBQWdCOTZCLEtBQUssQ0FBQyxLQUFLMjZCLEdBQUc7NEJBQUlDLE1BQU1HO3dCQUFrQjtxQkFDbkU7O2FBRUo7UUFDSDtRQUVBOzs7Ozs7Ozs7U0FTRyxHQUNLLElBQVUsQ0FBQWpCLFVBQUEsR0FBRyxPQUNuQmtCLGVBQ0Evd0IsT0FBb0UsRUFBRTtZQUV0RSxNQUFNLEVBQUU4dkIsb0JBQW9CLElBQUksRUFBRWtCLG1CQUFtQixJQUFJLEVBQUUsR0FBR2h4QjtZQUM5RCxJQUFJLElBQUksQ0FBQ2lPLFVBQVUsRUFBRTtnQkFDbkIsSUFBSSxDQUFDQSxVQUFVLENBQUN6WSxZQUFZLENBQUN1N0I7Z0JBQzdCLElBQUlqQixtQkFBbUI7b0JBQ3JCLE1BQU0sSUFBSSxDQUFDN2hCLFVBQVUsQ0FBQzNYLFVBQVU7OztZQUdwQyxJQUFJLElBQUksQ0FBQzRYLFNBQVMsRUFBRTtnQkFDbEIsSUFBSSxDQUFDQSxTQUFTLENBQUMxWSxZQUFZLENBQUN1N0I7Z0JBQzVCLElBQUlDLGtCQUFrQjtvQkFDcEIsTUFBTSxJQUFJLENBQUM5aUIsU0FBUyxDQUFDNVgsVUFBVTs7O1FBR3JDO1FBRUE7OztTQUdHLEdBQ0ssS0FBQTA1QiwwQkFBMEIsR0FBRyxDQUFDaHdCO1lBUXBDLE1BQU0sRUFDSnJMLFNBQVMsRUFDVEMsZ0JBQWdCLEVBQ2hCb1ksYUFBYSxFQUNiNGhCLFlBQVksRUFDWjF5QixjQUFjLEVBQ2QrekIsc0JBQXNCLEVBQ3ZCLEdBQUdqd0I7WUFDSixJQUFJaXdCLDBCQUEwQixJQUFJLENBQUNoaUIsVUFBVSxFQUFFO2dCQUM3QyxJQUFJLENBQUNBLFVBQVUsQ0FBQzl2QixPQUFPOztZQUV6QixJQUFJLENBQUM4dkIsVUFBVSxHQUFHLElBQUlsTyxXQUFXO2dCQUMvQnBMO2dCQUNBRSxZQUFZLElBQUksQ0FBQ0EsVUFBVTtnQkFDM0J6UyxPQUFPLElBQUksQ0FBQ0EsS0FBSztnQkFDakJ3UztnQkFDQTVYLFFBQVEyZSxPQUFPLElBQUksQ0FBQ3d2QixZQUFZO2dCQUNoQ3IyQixzQkFBc0I7b0JBQ3BCLElBQUksQ0FBQ204QixTQUFTLENBQUNocEQsMkJBQTJCeW1ELE1BQU0sRUFBRWpzQyxLQUFLLENBQUMsQ0FBQzFJO3dCQUN2RCxJQUFJLENBQUMzRixNQUFNLENBQ1QsUUFDQSwyREFDQTJGO29CQUVKOztZQUVIOzs7WUFJRCxNQUFNbTNDLGNBQWMsSUFBSSxDQUFDN3JCLFlBQVksQ0FBQzVqQixJQUFJLEVBQUVTLFNBQVM7WUFDckQsSUFBSSxDQUFDZ3ZDLGFBQWE7Z0JBQ2hCLElBQUlqQiwwQkFBMEIsSUFBSSxDQUFDL2hCLFNBQVMsRUFBRTtvQkFDNUMsSUFBSSxDQUFDQSxTQUFTLENBQUMvdkIsT0FBTzs7Z0JBRXhCLElBQUksQ0FBQyt2QixTQUFTLEdBQUcsSUFBSWpTLFVBQVU7b0JBQzdCdEg7b0JBQ0FFLFlBQVksSUFBSSxDQUFDQSxVQUFVO29CQUMzQnpTLE9BQU8sSUFBSSxDQUFDQSxLQUFLO29CQUNqQndTO29CQUNBc0g7b0JBQ0FsZixRQUFRMmUsT0FBTyxJQUFJLENBQUN3dkIsWUFBWTtvQkFDaENyMkIsc0JBQXNCO3dCQUNwQixJQUFJLENBQUNtOEIsU0FBUyxDQUFDaHBELDJCQUEyQnltRCxNQUFNLEVBQUVqc0MsS0FBSyxDQUFDLENBQUMxSTs0QkFDdkQsSUFBSSxDQUFDM0YsTUFBTSxDQUNULFFBQ0EsMERBQ0EyRjt3QkFFSjs7Z0JBRUg7O1lBR0gsSUFBSSxDQUFDdXpDLGFBQWEsRUFBRXB5QztZQUNwQixJQUFJLENBQUNveUMsYUFBYSxHQUFHdGYsb0JBQW9CO2dCQUN2Q0MsWUFBWSxJQUFJLENBQUNBLFVBQVU7Z0JBQzNCQyxXQUFXLElBQUksQ0FBQ0EsU0FBUztnQkFDekI5ckIsT0FBTyxJQUFJLENBQUNBLEtBQUs7Z0JBQ2pCK3JCLFlBQVl4WixVQUFVa1QsUUFBUTtZQUMvQjtZQUVELElBQUksQ0FBQzBsQixnQkFBZ0IsRUFBRXJ5QztZQUN2QixJQUFJMHpDLGNBQWN4WSx3QkFBd0IsR0FBRztnQkFDM0MsSUFBSSxDQUFDbVgsZ0JBQWdCLEdBQUcsSUFBSWxaLGlCQUFpQjFmLFdBQVc7b0JBQ3REcVk7b0JBQ0FocUMsU0FBUzRyRDtvQkFDVDNnQixZQUFZLElBQUksQ0FBQ0EsVUFBVTtvQkFDM0JDLFdBQVcsSUFBSSxDQUFDQSxTQUFTO29CQUN6QjdDLFlBQVksSUFBSSxDQUFDQSxVQUFVO29CQUMzQkYsUUFBUSxJQUFJLENBQUNBLE1BQU07b0JBQ25CL29CLE9BQU8sSUFBSSxDQUFDQSxLQUFLO2dCQUNsQjtnQkFDRCxJQUFJLENBQUNtckMsZ0JBQWdCLENBQUNwWCxLQUFLOztRQUUvQjtRQUVBOzs7Ozs7U0FNRyxHQUNILEtBQUEwWSxhQUFhLEdBQUcsT0FBT3h0QjtZQUNyQixNQUFNOHZCLFdBQVcsTUFBTSxJQUFJLENBQUM5ckIsWUFBWSxDQUFDK3JCLGVBQWU7WUFDeEQsTUFBTTc4QyxVQUEyQjtnQkFBRSxHQUFHOHNCLElBQUk7Z0JBQUU4dkI7WUFBUTtZQUNwRCxNQUFNcDFDLGVBQWUsTUFBTSxJQUFJLENBQUNzcEIsWUFBWSxDQUFDNm9CLElBQUksQ0FHL0MsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixPQUFPLEVBQUV2NUM7WUFDdkMsSUFBSSxDQUFDNk4sS0FBSyxDQUFDa0ssc0JBQXNCLENBQUN2USxhQUFhMUcsSUFBSTtZQUNuRCxJQUFJLENBQUMrTSxLQUFLLENBQUNpSCxVQUFVLENBQUN0TixhQUFhdU4sT0FBTztZQUMxQyxJQUFJLENBQUNsSCxLQUFLLENBQUNtSCxrQkFBa0IsQ0FBQ3hOLGFBQWFxVSxnQkFBZ0I7WUFFM0QsSUFBSWlSLE1BQU0wc0IsUUFBUSxDQUFDLElBQUksQ0FBQ3BoQixPQUFPLEVBQUU7Z0JBQy9CLElBQUksQ0FBQzhmLGNBQWMsQ0FBQ3g0QyxJQUFJLENBQUM7O1lBRzNCLElBQUksSUFBSSxDQUFDMDRCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQ3ZELGFBQWEsRUFBRTs7Z0JBRXZDLE1BQU0sSUFBSSxDQUFDZ2xCLE1BQU07O1lBR25CLElBQUksSUFBSSxDQUFDL29CLFlBQVksQ0FBQzJvQixnQkFBZ0IsSUFBSTtnQkFDeEMsSUFBSSxDQUFDOUMsUUFBUSxHQUFHO2dCQUNoQixJQUFJLENBQUNELFdBQVcsQ0FBQ3BwQyxZQUFZLENBQUMsSUFBSTs7WUFHcEMsT0FBTzlGO1FBQ1Q7UUFFQTs7Ozs7U0FLRyxHQUNLLEtBQUFtekMsb0JBQW9CLEdBQUcsQ0FBQ3Y2QjtZQUM5QixJQUFJLENBQUN2Z0IsTUFBTSxDQUFDLFNBQVM7OztZQUdyQixJQUFJLElBQUksQ0FBQ2dPLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYWdzQyxPQUFPLEVBQUU7O1lBRXRELElBQUl4NEIsVUFBVTJRLFNBQVMsRUFBRTtZQUN6QixJQUFJLENBQUMyckIsU0FBUyxDQUFDaHBELDJCQUEyQnltRCxNQUFNLEVBQUVqc0MsS0FBSyxDQUFDLENBQUMxSTtnQkFDdkQsSUFBSSxDQUFDM0YsTUFBTSxDQUFDLFFBQVEsa0NBQWtDMkY7WUFDeEQ7UUFDRjtRQUVBOzs7Ozs7U0FNRyxHQUNLLEtBQUFrM0MsU0FBUyxHQUFHLE9BQ2xCdmI7WUFFQSxJQUNFLElBQUksQ0FBQ3R6QixLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFrVixZQUFZLElBQ3JELElBQUksQ0FBQ2pVLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYWt3QyxtQkFBbUIsRUFFNUQ7WUFFRixPQUFPL3lDLG1CQUFtQixJQUFJLENBQUM4c0MsdUJBQXVCLEVBQUU7Z0JBQ3RELElBQUksQ0FBQ2gzQyxNQUFNLENBQ1QsUUFDQSwwQ0FBMENuTSwwQkFBMEIsQ0FBQ3l0QyxTQUFTLENBQUU7Z0JBR2xGLElBQUk0YixxQkFBcUJ4ckQsS0FBS0gsR0FBRztnQkFDakMsSUFBSSxDQUFDa2xDLGlCQUFpQixHQUFHNks7Z0JBRXpCLEdBQUc7b0JBQ0QsSUFDRSxJQUFJLENBQUM2ViwyQkFBMkIsR0FBRyxLQUNuQyxDQUFDemxELEtBQUtILEdBQUcsS0FBSzJyRCxrQkFBQSxJQUFzQixPQUNsQyxJQUFJLENBQUMvRiwyQkFBMkIsRUFDbEM7d0JBQ0EsSUFBSSxDQUFDbjNDLE1BQU0sQ0FDVCxRQUNBO3dCQUVGLElBQUksQ0FBQ2dPLEtBQUssQ0FBQzhHLGVBQWUsQ0FBQy9ILGFBQWFrd0MsbUJBQW1CO3dCQUMzRDs7O29CQUlGLElBQUksSUFBSSxDQUFDeG1CLGlCQUFpQixLQUFLNWlDLDJCQUEyQnd5QyxJQUFJLEVBQUU7d0JBQzlELElBQUksQ0FBQzRRLGlCQUFpQjs7b0JBRXhCLE1BQU1yN0IsVUFBVS9uQiwwQkFBMEIsQ0FBQyxJQUFJLENBQUM0aUMsaUJBQWlCLENBQUM7b0JBQ2xFLElBQUk7O3dCQUVGLE1BQU0sSUFBSSxDQUFDdEMsb0JBQW9CLEVBQUV2cEI7d0JBQ2pDLE9BQVEsSUFBSSxDQUFDNnJCLGlCQUFpQjs0QkFDNUIsS0FBSzVpQywyQkFBMkJpd0IsV0FBVzs0QkFDM0MsS0FBS2p3QiwyQkFBMkJzcEQsVUFBVTtnQ0FDeEMsSUFBSSxDQUFDbjlDLE1BQU0sQ0FBQyxTQUFTLENBQThCLDZCQUFBNGIsUUFBUztnQ0FDNUQ7NEJBQ0YsS0FBSy9uQiwyQkFBMkJ3eUMsSUFBSTtnQ0FDbEMsTUFBTSxJQUFJLENBQUMrVyxhQUFhO2dDQUN4Qjs0QkFDRixLQUFLdnBELDJCQUEyQnltRCxNQUFNO2dDQUNwQyxNQUFNLElBQUksQ0FBQytDLGVBQWU7Z0NBQzFCOzRCQUNGLEtBQUt4cEQsMkJBQTJCdW1ELE9BQU87Z0NBQ3JDLE1BQU0sSUFBSSxDQUFDa0QsZ0JBQWdCO2dDQUMzQjs0QkFDRjtnQ0FDRTM1QixnQkFDRSxJQUFJLENBQUM4UyxpQkFBaUIsRUFDdEI7Z0NBRUY7O3dCQUVKLE9BQU07c0JBQ04sT0FBT3R5QixPQUFPO3dCQUNkLElBQUlBLGlCQUFpQnRXLHFCQUFxQnNXLE1BQU1vNUMsYUFBYSxFQUFFOzRCQUM3RCxJQUFJLENBQUN2OUMsTUFBTSxDQUNULFFBQ0EsQ0FBb0UscUVBQ3BFbUU7NEJBRUYsSUFBSSxDQUFDNkosS0FBSyxDQUFDOEcsZUFBZSxDQUFDL0gsYUFBYWt3QyxtQkFBbUI7NEJBQzNEOzt3QkFFRixJQUFJLENBQUNqOUMsTUFBTSxDQUNULFFBQ0EsQ0FBZSxjQUFBNGIsUUFBWSxRQUFJLENBQUNxN0IsaUJBQWlCLGtDQUFrQyxFQUNuRjl5Qzt3QkFFRixNQUFNMUQsTUFBTTt3QkFDWixJQUFJLENBQUNnMkIsaUJBQWlCLEdBQUc1aUMsMkJBQTJCeW1ELE1BQU07O3dCQUc1RCxJQUFJLENBQUN0c0MsS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhME4sTUFBTSxJQUMvQyxJQUFJLENBQUN6TSxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFrd0MsbUJBQW1CLElBQzVELElBQUksQ0FBQ2p2QyxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFtQixJQUFJLEVBQzdDO1lBQ0o7UUFDRjtRQUVBOzs7U0FHRyxHQUNLLElBQWEsQ0FBQWt2QyxhQUFBLEdBQUc7WUFDdEIsTUFBTUYscUJBQXFCeHJELEtBQUtILEdBQUc7WUFDbkMsSUFBSSxDQUFDa2xDLGlCQUFpQixHQUFHNWlDLDJCQUEyQnd5QyxJQUFJO1lBQ3hELElBQUksQ0FBQ3I0QixLQUFLLENBQUM4RyxlQUFlLENBQUMvSCxhQUFha1YsWUFBWTtZQUNwRCxNQUFNLElBQUksQ0FBQzVjLElBQUksQ0FBQyxJQUFJLENBQUM2MEMsWUFBWTtZQUNqQyxJQUFJLENBQUNmLGdCQUFnQixFQUFFOVgscUJBQ3JCeHRDLDJCQUEyQnd5QyxJQUFJLEVBQy9CLENBQUMzMEMsS0FBS0gsR0FBRyxLQUFLMnJELGtCQUFBLElBQXNCO1FBRXhDO1FBRUE7OztTQUdHLEdBQ0ssSUFBZSxDQUFBRyxlQUFBLEdBQUc7WUFDeEIsTUFBTUgscUJBQXFCeHJELEtBQUtILEdBQUc7WUFDbkMsSUFBSSxDQUFDa2xDLGlCQUFpQixHQUFHNWlDLDJCQUEyQnltRCxNQUFNO1lBQzFELElBQUksQ0FBQ3RzQyxLQUFLLENBQUM4RyxlQUFlLENBQUMvSCxhQUFha1YsWUFBWTtZQUNwRCxNQUFNLElBQUksQ0FBQzVjLElBQUksQ0FBQyxJQUFJLENBQUM2MEMsWUFBWTtZQUNqQyxNQUFNLElBQUksQ0FBQ3NELHNCQUFzQjtZQUNqQyxJQUFJLENBQUNDLHVCQUF1QjtZQUM1QixJQUFJLENBQUN0RSxnQkFBZ0IsRUFBRTlYLHFCQUNyQnh0QywyQkFBMkJ5bUQsTUFBTSxFQUNqQyxDQUFDNW9ELEtBQUtILEdBQUcsS0FBSzJyRCxrQkFBQSxJQUFzQjtRQUV4QztRQUVBOzs7U0FHRyxHQUNLLElBQWdCLENBQUFJLGdCQUFBLEdBQUc7WUFDekIsTUFBTUoscUJBQXFCeHJELEtBQUtILEdBQUc7WUFDbkMsTUFBTW1zRCxtQkFBbUIsSUFBSSxDQUFDbjlCLFNBQVM7WUFDdkMsSUFBSSxDQUFDbTlCLGtCQUFrQjtnQkFDckIsTUFBTSxJQUFJNXZELE1BQU07O1lBR2xCLElBQUksQ0FBQzJvQyxpQkFBaUIsR0FBRzVpQywyQkFBMkJ1bUQsT0FBTztZQUMzRCxJQUFJLENBQUNwc0MsS0FBSyxDQUFDOEcsZUFBZSxDQUFDL0gsYUFBYTR3QyxTQUFTO1lBQ2pELE1BQU1DLG9CQUFvQixJQUFJLENBQUMvakIsVUFBVTtZQUN6QyxNQUFNZ2tCLG1CQUFtQixJQUFJLENBQUMvakIsU0FBUztZQUV2QzhqQixtQkFBbUIvOEI7WUFDbkJnOUIsa0JBQWtCaDlCO1lBRWxCLE1BQU0yUixnQkFBZ0I1RSxnQkFBZ0I4dkIsaUJBQWlCNXFCLGNBQWM7WUFFckUsSUFBSTtnQkFDRixNQUFNZ3JCLGFBQWFKLGlCQUFpQmpxQixRQUFRO2dCQUM1QyxNQUFNLElBQUksQ0FBQ3B1QixJQUFJLENBQUM7b0JBQUUsR0FBRyxJQUFJLENBQUM2MEMsWUFBWTtvQkFBRWlCLGdCQUFnQjJDO2dCQUFVO3FCQUMxRDs7O2dCQUdSLE9BQU8sSUFBSSxDQUFDNUQsWUFBWSxFQUFFaUI7O1lBRzVCLE1BQU0sSUFBSSxDQUFDcUMsc0JBQXNCO1lBQ2pDLElBQUksQ0FBQ0MsdUJBQXVCO1lBRTVCLElBQUk7Ozs7Z0JBSUYsTUFBTWpyQjs7OztnQkFLTixJQUFJLENBQUN4a0IsS0FBSyxDQUFDOEcsZUFBZSxDQUFDL0gsYUFBYTBOLE1BQU07cUJBQ3RDO2dCQUNSbWpDLG1CQUFtQjd6QztnQkFDbkI4ekMsa0JBQWtCOXpDOztnQkFHbEIyekMsaUJBQWlCMzJDLEtBQUs7O1lBRXhCLElBQUksQ0FBQ295QyxnQkFBZ0IsRUFBRTlYLHFCQUNyQnh0QywyQkFBMkJ1bUQsT0FBTyxFQUNsQyxDQUFDMW9ELEtBQUtILEdBQUcsS0FBSzJyRCxrQkFBQSxJQUFzQjtRQUV4QztRQUVBOzs7O1NBSUcsR0FDSyxJQUF5QixDQUFBcEYseUJBQUEsR0FBRzs7WUFFbEMsTUFBTWlHLG1CQUFtQixJQUFJLENBQUM1MEMsRUFBRSxDQUFDLFVBQVU7Z0JBQ3pDLElBQUksQ0FBQzB6QyxTQUFTLENBQUNocEQsMkJBQTJCdW1ELE9BQU8sRUFBRS9yQyxLQUFLLENBQUMsQ0FBQzFJO29CQUN4RCxJQUFJLENBQUMzRixNQUFNLENBQUMsUUFBUSxrQ0FBa0MyRjtnQkFDeEQ7WUFDRjs7WUFHQSxNQUFNcTRDLG9CQUFvQixJQUFJLENBQUM3MEMsRUFBRSxDQUFDLFNBQVMsQ0FBQ0Q7Z0JBQzFDLE1BQU0sRUFBRXV0QixtQkFBbUI2SyxRQUFRLEVBQUUsR0FBR3A0QjtnQkFDeEMsSUFBSW80QixhQUFhenRDLDJCQUEyQml3QixXQUFXLEVBQUU7Z0JBQ3pELElBQUl3ZCxhQUFhenRDLDJCQUEyQnNwRCxVQUFVLEVBQUU7b0JBQ3RELElBQUksQ0FBQ2h2QyxLQUFLLENBQUM7d0JBQUVDLFFBQVE7b0JBQThCLEdBQUlDLEtBQUssQ0FBQyxDQUFDMUk7d0JBQzVELElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLENBQTJDLDRDQUFFMkY7b0JBQ25FO3VCQUNLO29CQUNMLElBQUksQ0FBQ2szQyxTQUFTLENBQUN2YixVQUFVanpCLEtBQUssQ0FBQyxDQUFDMUk7d0JBQzlCLElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLGtDQUFrQzJGO29CQUN4RDs7WUFFSjtZQUVBLE1BQU1zNEMsMkJBQTJCLElBQUksQ0FBQ2h0QixZQUFZLENBQUM5bkIsRUFBRSxDQUNuRCxtQkFDQSxDQUFDRDtnQkFDQyxJQUFJLENBQUNBLEVBQUVnckIsTUFBTSxFQUFFO29CQUNiLElBQUksQ0FBQ2wwQixNQUFNLENBQUMsU0FBUztvQkFDckIsSUFBSSxDQUFDLElBQUksQ0FBQ3MzQyxhQUFhLEVBQUU7b0JBQ3pCLElBQUksQ0FBQ0Ysb0JBQW9CLEdBQUcxbEQsS0FBS0gsR0FBRzs7b0JBRXBDLE1BQU00aUMsdUJBQXVCakc7b0JBQzdCaUcscUJBQXFCdnBCLE9BQU8sQ0FBQ00sSUFBSSxDQUFDO3dCQUNoQyxJQUFJbzJCLFdBQVd6dEMsMkJBQTJCd3lDLElBQUk7d0JBQzlDLElBQUksSUFBSSxDQUFDK1Esb0JBQW9CLEVBQUU7NEJBQzdCLE1BQU04RyxVQUFVLENBQUN4c0QsS0FBS0gsR0FBRyxLQUFLLElBQUksQ0FBQzZsRCxvQkFBb0IsSUFBSTs0QkFDM0QsSUFBSThHLFVBQVUsSUFBSSxDQUFDaEgsNEJBQTRCLEVBQUU7OztnQ0FHL0M1VixXQUFXenRDLDJCQUEyQnltRCxNQUFNOzs7d0JBSWhELElBQUksQ0FBQ3VDLFNBQVMsQ0FBQ3ZiLFVBQVVqekIsS0FBSyxDQUFDLENBQUMxSTs0QkFDOUIsSUFBSSxDQUFDM0YsTUFBTSxDQUNULFFBQ0EscURBQ0EyRjt3QkFFSjtvQkFDRjtvQkFDQSxJQUFJLENBQUN3dUIsb0JBQW9CLEdBQUdBO29CQUM1QixJQUFJLENBQUNnbEIsZ0JBQWdCLEVBQUVyeUM7b0JBQ3ZCLElBQUksQ0FBQ2tILEtBQUssQ0FBQzhHLGVBQWUsQ0FBQy9ILGFBQWFveEMsT0FBTzt1QkFDMUM7b0JBQ0wsSUFBSSxDQUFDbitDLE1BQU0sQ0FBQyxTQUFTO29CQUNyQixJQUFJLENBQUN1Z0IsU0FBUyxFQUFFeFosTUFDZDhwQixnQkFBZ0J3RCxrQkFBa0IsRUFDbEM7O29CQUdGLElBQUksQ0FBQ0Ysb0JBQW9CLEVBQUUxb0I7b0JBQzNCLElBQUksQ0FBQzBvQixvQkFBb0IsR0FBR2xrQztvQkFDNUIsSUFBSSxDQUFDa3BELGdCQUFnQixFQUFFcFg7O1lBRTNCO1lBR0YsSUFBSSxDQUFDMlYsY0FBYyxDQUFDeGhDLEdBQUcsQ0FBQzZuQztZQUN4QixJQUFJLENBQUNyRyxjQUFjLENBQUN4aEMsR0FBRyxDQUFDOG5DO1lBQ3hCLElBQUksQ0FBQ3RHLGNBQWMsQ0FBQ3hoQyxHQUFHLENBQUMrbkM7UUFDMUI7UUFFQTs7O1NBR0csR0FDSyxJQUFzQixDQUFBVCxzQkFBQSxHQUFHOzs7WUFHL0IsS0FBSyxNQUFNam5DLGFBQWEsSUFBSSxDQUFDOGdDLGlCQUFpQixDQUFFO2dCQUM5QyxJQUFJcko7Z0JBQ0osT0FBUXozQjtvQkFDTixLQUFLaGpCLFVBQVVxYyxLQUFLO3dCQUNsQm8rQixjQUFjLElBQUksQ0FBQy9XLFVBQVUsQ0FBQ2pwQixLQUFLLENBQUNnZ0MsV0FBVzt3QkFDL0M7b0JBQ0YsS0FBS3o2QyxVQUFVbWMsS0FBSzt3QkFDbEJzK0IsY0FBYyxJQUFJLENBQUNqWCxNQUFNLENBQUMvb0IsS0FBSyxDQUFDZ2dDLFdBQVc7d0JBQzNDO29CQUNGLEtBQUt6NkMsVUFBVXVjLFlBQVk7d0JBQ3pCaytCLGNBQWMsSUFBSSxDQUFDOVcsV0FBVyxDQUFDbHBCLEtBQUssQ0FBQ2dnQyxXQUFXO3dCQUNoRDs7b0JBRUYsS0FBS3o2QyxVQUFVeWMsa0JBQWtCO29CQUNqQyxLQUFLemMsVUFBVXV3QixXQUFXO3dCQUN4QjtvQkFDRjt3QkFDRUgsZ0JBQWdCcE4sV0FBVzt3QkFDM0I7O2dCQUdKLElBQUl5M0IsYUFBYSxNQUFNLElBQUksQ0FBQy9sQixPQUFPLENBQUMrbEIsYUFBYXozQjs7UUFFckQ7UUFFQTs7O1NBR0csR0FDSyxJQUF1QixDQUFBa25DLHVCQUFBLEdBQUc7WUFDaEMsTUFBTSxFQUFFLzlCLGtCQUFrQixFQUFFLEdBQUcsSUFBSSxDQUFDMVIsS0FBSztZQUN6QyxJQUFJMFIsbUJBQW1CeHNCLE1BQU0sSUFBSSxHQUFHO1lBQ3BDLElBQUksQ0FBQ2ttRCxnQkFBZ0IsQ0FBQzdVLHVCQUF1QixDQUFDdDBDO1FBQ2hEO1FBRUE7OztTQUdHLEdBQ0gsS0FBQW11RCxrQkFBa0IsR0FBRyxPQUFPdmpCO1lBQzFCLE1BQU0sSUFBSSxDQUFDNVMsT0FBTyxDQUFDNFMsYUFBYXRuQyxVQUFVbWMsS0FBSztRQUNqRDtRQUVBOzs7U0FHRyxHQUNILEtBQUEydUMsa0JBQWtCLEdBQUcsT0FBT3pqQjtZQUMxQixNQUFNLElBQUksQ0FBQzNTLE9BQU8sQ0FBQzJTLGFBQWFybkMsVUFBVXFjLEtBQUs7UUFDakQ7UUFFQTs7O1NBR0csR0FDSCxLQUFBMHVDLHdCQUF3QixHQUFHLE9BQU83WDtZQUNoQyxNQUFNLElBQUksQ0FBQ3hlLE9BQU8sQ0FBQ3dlLG1CQUFtQmx6QyxVQUFVdWMsWUFBWTtRQUM5RDtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQW1ZLE9BQU8sR0FBRyxPQUFPK2xCLGFBQTBCejNCO1lBQ3pDLElBQUksQ0FBQyxJQUFJLENBQUNnSyxTQUFTLEVBQUUsTUFBTSxJQUFJenlCLE1BQU0sc0JBQXNCOztZQUUzRCxNQUFNLElBQUksQ0FBQ3l5QixTQUFTLENBQUNtUyxRQUFRO1lBRTdCLElBQUksQ0FBQyxJQUFJLENBQUM0RCxrQkFBa0IsQ0FBQ3dSLFVBQVUsQ0FBQ3Z4QixZQUFZO2dCQUNsRCxNQUFNLElBQUl6b0IsTUFBTSxDQUE0QiwyQkFBQXlGLFNBQVMsQ0FBQ2dqQixVQUFVLENBQUU7O1lBR3BFLElBQUksQ0FBQyxJQUFJLENBQUN1akIsU0FBUyxFQUFFLE1BQU0sSUFBSWhzQyxNQUFNO1lBRXJDLE1BQU0sQ0FBQzA1QixNQUFNLEdBQUd0RCxpQkFBaUIzTixhQUM3QnkzQixZQUFZalQsY0FBYyxLQUMxQmlULFlBQVlsVCxjQUFjO1lBRTlCLElBQUksQ0FBQ3RULE9BQU87Z0JBQ1YsTUFBTSxJQUFJMTVCLE1BQ1IsQ0FBZSxjQUFBeUYsU0FBUyxDQUFDZ2pCLFVBQVUsQ0FBc0I7O1lBSTdELElBQUlpUixNQUFNbUIsVUFBVSxLQUFLLFNBQVM7Z0JBQ2hDLE1BQU0sSUFBSTc2QixNQUFNLDZCQUE2Qjs7WUFHL0NxcEMsZ0JBQWdCLElBQUksQ0FBQ2tnQixpQkFBaUIsRUFBRTlnQztZQUN4QyxNQUFNLElBQUksQ0FBQ3VqQixTQUFTLENBQUM3UixPQUFPLENBQUNULE9BQU9qUjtZQUVwQyxNQUFNMFMsYUFBYTtnQkFBQzFTO2FBQVU7WUFDOUIsSUFBSUEsY0FBY2hqQixVQUFVdWMsWUFBWSxFQUFFO2dCQUN4QyxNQUFNLENBQUN5dUMsV0FBVyxHQUFHdlEsWUFBWWpULGNBQWM7Z0JBQy9DLElBQUl3akIsWUFBWTtvQkFDZHBuQixnQkFBZ0IsSUFBSSxDQUFDa2dCLGlCQUFpQixFQUFFOWpELFVBQVV5YyxrQkFBa0I7b0JBQ3BFLE1BQU0sSUFBSSxDQUFDOHBCLFNBQVMsQ0FBQzdSLE9BQU8sQ0FBQ3MyQixZQUFZaHJELFVBQVV5YyxrQkFBa0I7b0JBQ3JFaVosV0FBVzUzQixJQUFJLENBQUNrQyxVQUFVeWMsa0JBQWtCOzs7WUFJaEQsTUFBTSxJQUFJLENBQUN3dUMsc0JBQXNCLENBQUN4USxnQkFBZ0Iva0I7UUFDcEQ7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQThrQixXQUFXLEdBQUcsT0FBTyxHQUFHOWtCO1lBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMxSSxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUN1WixTQUFTLEVBQUU7WUFDeEMsSUFBSSxDQUFDQSxTQUFTLENBQUM5USxVQUFVLElBQUlDO1lBQzdCLE1BQU0sSUFBSSxDQUFDdTFCLHNCQUFzQixDQUFDdnVELGNBQWNnNUI7UUFDbEQ7UUFFQTs7Ozs7O1NBTUcsR0FDSyxJQUFzQixDQUFBdTFCLHNCQUFBLEdBQUcsT0FDL0J4USxhQUNBLEdBQUcva0I7WUFFSCxJQUFJLENBQUMsSUFBSSxDQUFDMUksU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDQSxTQUFTLENBQUMvSyxTQUFTLEVBQUU7WUFDbEQsTUFBTSxJQUFJLENBQUM0NUIsb0JBQW9CLENBQUMsQ0FBQ3BCLGdCQUFnQi9rQjtZQUVqRCxNQUFNLEVBQUV6VCxTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUMrSyxTQUFTO1lBQ3BDLEtBQUssTUFBTWhLLGFBQWEwUyxXQUFZO2dCQUNsQyxNQUFNdzFCLGtCQUFrQjU2QixnQ0FBZ0N0TjtnQkFDeEQsSUFBSSxDQUFDa29DLGlCQUFpQjtnQkFFdEIsSUFBSSxDQUFDendDLEtBQUssQ0FBQzZILGlCQUFpQixDQUFDTCxXQUFXLENBQUNqRyxJQUFPO3dCQUM5Q0MsaUJBQWlCdytCLGNBQ2I3VyxnQkFBZ0I7K0JBQUk1bkIsRUFBRUMsZUFBZTt5QkFBQyxFQUFFK0csYUFDeENoSCxFQUFFQyxlQUFlLENBQUNySyxNQUFNLENBQUMsQ0FBQzBCLElBQU1BLE1BQU0wUDt3QkFDMUMsQ0FBQ2tvQyxnQkFBZSxFQUFHelE7b0JBQ3BCOztRQUVMO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBMFEsb0JBQW9CLEdBQUcsQ0FBQzl2RDtZQUN0QixJQUFJLENBQUNvUixNQUFNLENBQ1QsUUFDQSxpR0FDRTtZQUVKLElBQUksSUFBSSxDQUFDZ08sS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhME4sTUFBTSxFQUFFO2dCQUNuRCxJQUFJLENBQUN6YSxNQUFNLENBQ1QsUUFDQTs7WUFHSixJQUFJLENBQUNxOEMsb0JBQW9CLEdBQUc7Z0JBQUUsR0FBRyxJQUFJLENBQUNBLG9CQUFvQjtnQkFBRSxHQUFHenRELE9BQU87WUFBQTtRQUN4RTtRQUVBOzs7O1NBSUcsR0FDSCxJQUErQixDQUFBcW1ELCtCQUFBLEdBQUc7WUFDaEMsT0FBTyxJQUFJLENBQUMxMEIsU0FBUyxFQUFFcmhCLHlCQUF5Qm1QLE1BQU0sQ0FBQzFJO2dCQUNyRCxJQUFJLENBQUMzRixNQUFNLENBQUMsUUFBUSxnREFBZ0QyRjtZQUN0RTtRQUNGO1FBRUE7Ozs7U0FJRyxHQUNILElBQThCLENBQUFpdkMsOEJBQUEsR0FBRztZQUMvQixPQUFPLElBQUksQ0FBQ3IwQixTQUFTLEVBQUVwaEIsd0JBQXdCa1AsTUFBTSxDQUFDMUk7Z0JBQ3BELElBQUksQ0FBQzNGLE1BQU0sQ0FBQyxRQUFRLCtDQUErQzJGO1lBQ3JFO1FBQ0Y7UUFFQTs7O1NBR0csR0FDSCxJQUFvQixDQUFBeXBDLG9CQUFBLEdBQUcsT0FBTzNqQixPQUFnQixHQUFHeEM7WUFDL0MsSUFBSSxDQUFDLElBQUksQ0FBQzFJLFNBQVMsRUFBRTtZQUNyQixNQUFNLElBQUksQ0FBQ0EsU0FBUyxDQUFDeGhCLGdCQUFnQixDQUNuQ2txQixXQUFXNzNCLEdBQUcsQ0FBQyxDQUFDbWxCLFlBQWU7b0JBQUVBO29CQUFXa1Y7Z0JBQUs7UUFFckQ7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUE2TyxzQkFBc0IsR0FBRyxDQUFDOWtCO1lBQ3hCLE9BQU8sSUFBSSxDQUFDMGpDLGFBQWEsRUFBRTVlLHVCQUF1QjlrQjtRQUNwRDtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQWdsQixxQkFBcUIsR0FBRyxDQUFDaGxCO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDMGpDLGFBQWEsRUFBRTFlLHNCQUFzQmhsQjtRQUNuRDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBbXBDLGFBQWEsR0FBRyxDQUFDbnBDO1lBQ2YsSUFBSSxDQUFDeEgsS0FBSyxDQUFDNkgsaUJBQWlCLENBQUNMLFdBQVc7Z0JBQ3RDMUUsVUFBVTdnQjtZQUNYO1FBQ0g7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQWlrQixxQkFBcUIsR0FBdUMsQ0FBQzBxQztZQUMzRCxPQUFPLElBQUksQ0FBQzV3QyxLQUFLLENBQUNrRyxxQkFBcUIsQ0FBQzBxQztRQUMxQztRQUVBOzs7O1NBSUcsR0FDSCxLQUFBQyxZQUFZLEdBQUcsT0FDYi90QztZQUVBLE9BQU8sSUFBSSxDQUFDbWdCLFlBQVksQ0FBQzZvQixJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsV0FBVyxFQUN2QzVvQztRQUVKO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUErSyxTQUFTLEdBQUcsT0FBT0g7WUFDakIsT0FBTyxJQUFJLENBQUN1VixZQUFZLENBQUM2b0IsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFFBQVEsRUFDcEM7Z0JBQ0V2L0IsU0FBU3VCO1lBQ1Y7UUFFTDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBQyxXQUFXLEdBQUcsT0FBT0Q7WUFDbkIsT0FBTyxJQUFJLENBQUN1VixZQUFZLENBQUM2b0IsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFVBQVUsRUFDdEM7Z0JBQ0V2L0IsU0FBU3VCO1lBQ1Y7UUFFTDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBb2pDLFFBQVEsR0FBRyxDQUFDaHhDO1lBQ1YsTUFBTWl4QyxXQUFXLElBQUksQ0FBQ3ZxQixhQUFhO1lBQ25DLElBQUl1cUIsVUFBVTtnQkFDWixPQUFPLElBQUksQ0FBQ0MsUUFBUSxDQUFDRCxVQUFVanhDOztRQUVuQztRQUVBOzs7O1NBSUcsR0FDSCxLQUFBbXhDLFVBQVUsR0FBRyxDQUFDbnhDO1lBQ1osTUFBTXlJLFlBQVl3TixvQkFBb0JqVztZQUN0QyxJQUFJLENBQUN5SSxXQUFXO1lBQ2hCLE1BQU0yb0MsZ0JBQTBCLEVBQUU7WUFDbEMsS0FBSyxNQUFNdHBDLGVBQWUsSUFBSSxDQUFDNUgsS0FBSyxDQUFDMFIsa0JBQWtCLENBQUU7Z0JBQ3ZELElBQUk5SixZQUFZcEcsZUFBZSxDQUFDQyxRQUFRLENBQUM4RyxZQUFZO29CQUNuRDJvQyxjQUFjN3RELElBQUksQ0FBQ3VrQixZQUFZOEYsTUFBTTs7O1lBSXpDLElBQUl3akMsY0FBY2hzRCxNQUFNLEdBQUcsR0FBRztnQkFDNUIsT0FBTyxJQUFJLENBQUM4ckQsUUFBUSxDQUFDRSxlQUFlcHhDOztRQUV4QztRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQWt4QyxRQUFRLEdBQUcsQ0FBQ3RqQyxRQUEyQjVOO1lBQ3JDLE9BQU8sSUFBSSxDQUFDbWpCLFlBQVksQ0FBQzZvQixJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsYUFBYSxFQUN6QztnQkFDRXlGLFVBQVVwdUQsTUFBTUMsT0FBTyxDQUFDMHFCLFVBQVVBLFNBQVM7b0JBQUNBO2lCQUFPO2dCQUNuRCxDQUFDNU4sS0FBSSxFQUFHO1lBQ1Q7UUFFTDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBc3hDLFlBQVksR0FBRyxDQUFDdHhDO1lBQ2QsT0FBTyxJQUFJLENBQUNtakIsWUFBWSxDQUFDNm9CLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixhQUFhLEVBQ3pDO2dCQUNFMkYsZ0JBQWdCO2dCQUNoQixDQUFDdnhDLEtBQUksRUFBRztZQUNUO1FBRUw7UUFFQTs7U0FFRyxHQUNILEtBQUF3eEMsY0FBYyxHQUFHLE9BQU9uL0M7WUFDdEIsT0FBTyxJQUFJLENBQUM4d0IsWUFBWSxDQUFDNm9CLElBQUksQ0FHM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixrQkFBa0IsRUFBRXY1QyxVQUFVQSxVQUFVO1FBQ3hFO1FBRUE7O1NBRUcsR0FDSCxJQUFhLENBQUFvL0MsYUFBQSxHQUFHO1lBQ2QsT0FBTyxJQUFJLENBQUN0dUIsWUFBWSxDQUFDNm9CLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixpQkFBaUIsRUFDN0M7UUFFSjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBOEYsa0JBQWtCLEdBQUcsT0FDbkJyL0M7WUFFQSxPQUFPLElBQUksQ0FBQzh3QixZQUFZLENBQUM2b0IsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLHNCQUFzQixFQUFFdjVDO1FBQ3hEO1FBRUE7O1NBRUcsR0FDSCxJQUFpQixDQUFBcy9DLGlCQUFBLEdBQUc7WUFDbEIsT0FBTyxJQUFJLENBQUN4dUIsWUFBWSxDQUFDNm9CLElBQUksQ0FDM0IsQ0FBRyxNQUFJLENBQUNKLG9CQUFvQixDQUFxQjtRQUVyRDtRQUVBOztTQUVHLEdBQ0gsS0FBQWdHLG1CQUFtQixHQUFHLE9BQ3BCOXdEO1lBRUEsTUFBTSt3RCxNQUFNLElBQUksQ0FBQzN4QyxLQUFLLENBQUN3RyxhQUFhLENBQUMsT0FBTTtZQUMzQyxJQUFJO2dCQUNGLE9BQU8sTUFBTSxJQUFJLENBQUN5YyxZQUFZLENBQUM2b0IsSUFBSSxDQUdqQyxDQUFHLE1BQUksQ0FBQ0osb0JBQW9CLHdCQUF3QixFQUFFOXFEO2NBQ3hELE9BQU8rVyxLQUFLO2dCQUNaZzZDLElBQUlwekMsUUFBUSxJQUFHO2dCQUNmLE1BQU01Rzs7UUFFVjtRQUVBOztTQUVHLEdBQ0gsS0FBQWk2QyxrQkFBa0IsR0FBRyxPQUNuQmh4RDtZQUVBLE1BQU0rd0QsTUFBTSxJQUFJLENBQUMzeEMsS0FBSyxDQUFDd0csYUFBYSxDQUFDLFFBQU87WUFDNUMsSUFBSTtnQkFDRixPQUFPLE1BQU0sSUFBSSxDQUFDeWMsWUFBWSxDQUFDNm9CLElBQUksQ0FHakMsQ0FBRyxNQUFJLENBQUNKLG9CQUFvQix1QkFBdUIsRUFBRTlxRDtjQUN2RCxPQUFPK1csS0FBSztnQkFDWmc2QyxJQUFJcHpDLFFBQVEsSUFBRztnQkFDZixNQUFNNUc7O1FBRVY7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQW9TLDJCQUEyQixHQUFHLENBQUNDO1lBQzdCLElBQUksQ0FBQ2hLLEtBQUssQ0FBQytKLDJCQUEyQixDQUFDQztRQUN6QztRQUVBOzs7O1NBSUcsR0FDSCxLQUFBNm5DLGtCQUFrQixHQUFHLE9BQ25CNXlCO1lBRUEsTUFBTSxFQUFFeWEsV0FBVyxFQUFFLEdBQUd6YTtZQUN4QixNQUFNNnlCLHdCQUF3QnBZLFlBQVl4UyxLQUFLLENBQUMsQ0FBQzJTLGFBQy9DLElBQUksQ0FBQ3ZSLGtCQUFrQixDQUFDeVIsVUFBVSxDQUFDRjtZQUVyQyxJQUFJLENBQUNpWSx1QkFBdUI7Z0JBQzFCLE1BQU0sSUFBSWh5RCxNQUNSLCtDQUErQzQ1QyxZQUFZcmlDLElBQUksQ0FBQyxNQUFPOztZQUczRSxPQUFPLElBQUksQ0FBQzRyQixZQUFZLENBQUM2b0IsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLHFCQUFxQixFQUFFenNCO1FBQ3ZEO1FBRUE7Ozs7Ozs7Ozs7O1NBV0csR0FDSCxLQUFBOHlCLGdCQUFnQixHQUFHLE9BQU9ya0MsUUFBZ0Jnc0I7WUFDeEMsT0FBTyxJQUFJLENBQUNzWSxxQkFBcUIsQ0FBQztnQkFDaEM3bEMsU0FBU3VCO2dCQUNUdWtDLG1CQUFtQnZZO1lBQ3BCO1FBQ0g7UUFFQTs7Ozs7Ozs7Ozs7U0FXRyxHQUNILEtBQUF3WSxpQkFBaUIsR0FBRyxPQUFPeGtDLFFBQWdCZ3NCO1lBQ3pDLE9BQU8sSUFBSSxDQUFDc1kscUJBQXFCLENBQUM7Z0JBQ2hDN2xDLFNBQVN1QjtnQkFDVHlrQyxvQkFBb0J6WTtZQUNyQjtRQUNIO1FBRUE7Ozs7Ozs7OztTQVNHLEdBQ0gsS0FBQXNZLHFCQUFxQixHQUFHLE9BQU8veUI7WUFDN0IsT0FBTyxJQUFJLENBQUNnRSxZQUFZLENBQUM2b0IsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLG1CQUFtQixFQUFFenNCO1FBQ3JEO1FBRUE7Ozs7O1NBS0csR0FDSCxJQUFNLENBQUFtekIsTUFBQSxHQUFHLE9BQU9uekIsT0FBc0IsRUFBRSxFQUFFNUQ7WUFDeEMsT0FBTyxJQUFJLENBQUM0SCxZQUFZLENBQUM2b0IsSUFBSSxDQUMzQixDQUFHLE1BQUksQ0FBQ0osb0JBQW9CLFVBQVUsRUFDdEN6c0IsTUFDQTVEO1FBRUo7UUFFQTs7U0FFRyxHQUNILElBQVEsQ0FBQWczQixRQUFBLEdBQUc7WUFDVCxPQUFPLElBQUksQ0FBQ3B2QixZQUFZLENBQUM2b0IsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFlBQVksRUFDeEM7UUFFSjtRQUVBOztTQUVHLEdBQ0gsSUFBUSxDQUFBNEcsUUFBQSxHQUFHO1lBQ1QsT0FBTyxJQUFJLENBQUNydkIsWUFBWSxDQUFDNm9CLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixxQkFBcUIsRUFDakQ7UUFFSjtRQUVBOztTQUVHLEdBQ0gsSUFBTyxDQUFBNkcsT0FBQSxHQUFHO1lBQ1IsT0FBTyxJQUFJLENBQUN0dkIsWUFBWSxDQUFDNm9CLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixvQkFBb0IsRUFDaEQ7UUFFSjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBOXRDLE1BQU0sR0FBRyxPQUFPNDBDO1lBQ2QsTUFBTW5nRCxXQUFXLE1BQU0sSUFBSSxDQUFDNHdCLFlBQVksQ0FBQ25iLEtBQUssQ0FHNUMsR0FBRyxJQUFJLENBQUM0akMsb0JBQW9CLEVBQUUsRUFBRThHO1lBRWxDLE1BQU0sRUFBRXYvQyxJQUFJLEVBQUVpVSxPQUFPLEVBQUU4RyxnQkFBZ0IsRUFBRSxHQUFHM2I7WUFDNUMsSUFBSSxDQUFDMk4sS0FBSyxDQUFDa0ssc0JBQXNCLENBQUNqWDtZQUNsQyxJQUFJLENBQUMrTSxLQUFLLENBQUNpSCxVQUFVLENBQUNDO1lBQ3RCLElBQUksQ0FBQ2xILEtBQUssQ0FBQ21ILGtCQUFrQixDQUFDNkc7WUFFOUIsT0FBTzNiO1FBQ1Q7UUFFQTs7U0FFRyxHQUNILElBQU8sQ0FBQW9nRCxPQUFBLEdBQUc7WUFDUixPQUFPLElBQUksQ0FBQ3h2QixZQUFZLENBQUM2b0IsSUFBSSxDQUMzQixDQUFHLE1BQUksQ0FBQ0osb0JBQW9CLENBQWE7UUFFN0M7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQXhwQyxHQUFHLEdBQUcsQ0FBQ3NGO1lBQ0wsSUFBSSxDQUFDeEgsS0FBSyxDQUFDNkgsaUJBQWlCLENBQUNMLFdBQVc7Z0JBQ3RDdEYsS0FBSztvQkFDSEMsWUFBWTtvQkFDWkMsVUFBVTFlLEtBQUtILEdBQUc7Z0JBQ25CO1lBQ0Y7UUFDSDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBbXZELEtBQUssR0FBRyxDQUFDbHJDO1lBQ1AsSUFBSSxDQUFDeEgsS0FBSyxDQUFDNkgsaUJBQWlCLENBQUNMLFdBQVc7Z0JBQ3RDdEYsS0FBS2pnQjtZQUNOO1FBQ0g7UUFFQTs7Ozs7O1NBTUcsR0FDSCxLQUFBMHdELGNBQWMsR0FBRyxPQUFPeGdEO1lBQ3RCLE9BQU8sSUFBSSxDQUFDOHdCLFlBQVksQ0FBQzZvQixJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsTUFBTSxFQUNsQ3Y1QztRQUVKO1FBRUE7Ozs7OztTQU1HLEdBQ0gsS0FBQXlnRCxnQkFBZ0IsR0FBRyxPQUFPemdEO1lBQ3hCLE9BQU8sSUFBSSxDQUFDOHdCLFlBQVksQ0FBQzZvQixJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsUUFBUSxFQUNwQ3Y1QztRQUVKO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUEwZ0QsWUFBWSxHQUFHLENBQUMxZ0Q7WUFDZCxPQUFPLElBQUksQ0FBQzh3QixZQUFZLENBQUM2b0IsSUFBSSxDQUczQixpQkFBaUI7Z0JBQ2pCLEdBQUkzNUMsV0FBVyxFQUFFO2dCQUNqQjROLElBQUksSUFBSSxDQUFDQSxFQUFFO2dCQUNYRCxNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNoQjtRQUNIO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFnekMsaUJBQWlCLEdBQUcsT0FDbEI3ekI7WUFFQSxPQUFPLElBQUksQ0FBQ2dFLFlBQVksQ0FBQzZvQixJQUFJLENBRzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsVUFBVSxFQUFFenNCO1FBQzVDO1FBRUE7OztTQUdHLEdBQ0ssSUFBZ0IsQ0FBQXlyQixnQkFBQSxHQUFHO1lBQ3pCLElBQUksQ0FBQ04sY0FBYztZQUVuQixNQUFNcC9CLFdBQVcsSUFBSSxDQUFDaEwsS0FBSyxDQUFDZ0wsUUFBUTtZQUNwQyxJQUFJLENBQUNBLFVBQVU7O1lBRWYsSUFBSSxJQUFJLENBQUNoTCxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWEwbkIsT0FBTyxFQUFFO1lBRXRELE1BQU1zc0IsY0FBYyxJQUFJLENBQUMvckIsYUFBYSxHQUNsQ2hjLFNBQVMyZ0MsSUFBSSxDQUFDcUgsc0JBQXNCLEdBQ3BDaG9DLFNBQVMyZ0MsSUFBSSxDQUFDc0gsd0JBQXdCOztZQUcxQyxJQUFJRixlQUFlLEdBQUc7WUFFdEIsSUFBSSxDQUFDRyxXQUFXLEdBQUdyZ0QsV0FBVzs7O2dCQUc1QixJQUFJLElBQUksQ0FBQ21OLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYTBuQixPQUFPLEVBQUU7Z0JBQ3RELElBQUksQ0FBQ3RtQixLQUFLLENBQUM7b0JBQUVnZ0IsUUFBUTtvQkFBTS9mLFFBQVE7Z0JBQVMsR0FBSUMsS0FBSyxDQUFDLENBQUMxSTtvQkFDckQsSUFBSSxDQUFDM0YsTUFBTSxDQUFDLFNBQVMsdUJBQXVCMkY7Z0JBQzlDO2VBQ0NvN0M7UUFDTDtRQUVBOztTQUVHLEdBQ0ssSUFBYyxDQUFBM0ksY0FBQSxHQUFHO1lBQ3ZCbmtDLGFBQWEsSUFBSSxDQUFDaXRDLFdBQVc7WUFDN0IsSUFBSSxDQUFDQSxXQUFXLEdBQUdqeEQ7UUFDckI7UUFFQTs7Ozs7OztTQU9HLEdBQ0gsS0FBQWt4RCxlQUFlLEdBQUcsT0FDaEJDO1lBRUEsSUFBSXgwQixXQUFXLElBQUksQ0FBQzhzQixvQkFBb0I7WUFDeEMsSUFBSTBILGVBQWU7Z0JBQ2pCeDBCLFdBQVcsQ0FBRyxFQUFBQSxTQUFZLEdBQUF3MEIsY0FBYSxDQUFFOztZQUUzQyxPQUFPLElBQUksQ0FBQ253QixZQUFZLENBQUN0bUIsR0FBRyxDQUMxQixDQUFHLEVBQUFpaUIsU0FBcUI7UUFFNUI7UUFFQTs7OztTQUlHLEdBQ0gsSUFBbUIsQ0FBQXkwQixtQkFBQSxHQUFHO1lBQ3BCLE9BQU8sSUFBSSxDQUFDcHdCLFlBQVksQ0FBQ3RtQixHQUFHLENBQzFCLENBQUcsTUFBSSxDQUFDK3VDLG9CQUFvQixDQUFpQjtRQUVqRDtRQUVBOzs7Ozs7U0FNRyxHQUNILEtBQUE0SCxZQUFZLEdBQUcsT0FBT0M7WUFDcEIsTUFBTTMwQixXQUFXLENBQUcsTUFBSSxDQUFDOHNCLG9CQUFvQixVQUFVNkgsY0FBYSxDQUFFO1lBQ3RFLE9BQU8sSUFBSSxDQUFDdHdCLFlBQVksQ0FBQ3RtQixHQUFHLENBQXVCaWlCO1FBQ3JEO1FBRUE7Ozs7Ozs7U0FPRyxHQUNILEtBQUE0MEIsY0FBYyxHQUFHLE9BQ2ZDLFFBQ0EsRUFDRXJ6QyxNQUFNLEVBQ05zSyxNQUFNLEtBSUosRUFBRTtZQUVOLElBQUkrb0MsU0FBUyxLQUFLQSxTQUFTLEdBQUc7Z0JBQzVCLE1BQU0sSUFBSTN6RCxNQUFNOztZQUVsQixNQUFNc3pELGdCQUFnQixJQUFJLENBQUNwekMsS0FBSyxDQUFDOEssT0FBTyxFQUFFL0s7WUFDMUMsSUFBSSxDQUFDcXpDLGVBQWU7Z0JBQ2xCLE1BQU0sSUFBSXR6RCxNQUNSOztZQUlKLE1BQU0sRUFBRWlyQyxPQUFPLEVBQUVFLFVBQVUsRUFBRSxHQUFHSCxVQUFVLEdBQ3hDSCxnQkFBZ0I0Rzs7O1lBSWxCLE1BQU1taUIsZ0JBQWdCLElBQUksQ0FBQ25oQyxTQUFTLEVBQUUvSyxhQUFhO1lBQ25ELE1BQU1vWCxXQUFXLENBQUcsTUFBSSxDQUFDOHNCLG9CQUFvQixhQUFhMEgsY0FBYSxDQUFFO1lBQ3pFLE9BQU8sSUFBSSxDQUFDbndCLFlBQVksQ0FBQzZvQixJQUFJLENBRzNCbHRCLFVBQVU7Z0JBQ1Y2MEI7Z0JBQ0FyekM7Z0JBQ0E0TSxpQkFBaUIwbUM7Z0JBQ2pCN29CLEtBQUtFO2dCQUNMNG9CLGFBQWExb0I7Z0JBQ2J2Z0IsUUFBUTtvQkFDTixHQUFHQSxNQUFNO29CQUNULDBCQUEwQm9nQjtnQkFDM0I7WUFDRjtRQUNIO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUE4b0IsZUFBZSxHQUFHLE9BQU83NEM7WUFDdkIsT0FBTyxJQUFJLENBQUNrb0IsWUFBWSxDQUFDNm9CLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixRQUFRLEVBQ3BDO2dCQUFFaGhDLFFBQVEzUDtZQUFPO1FBRXJCO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUEwd0MsaUJBQWlCLEdBQUcsT0FDbEJ6Z0MsVUFDQWlQO1lBRUEsTUFBTSxJQUFJLENBQUM4TyxNQUFNLENBQUMyYSxLQUFLLENBQUMxNEIsU0FBU2d2QixLQUFLLEVBQUUvZixTQUFTNVosS0FBSyxDQUFDLENBQUMxSTtnQkFDdEQsSUFBSSxDQUFDM0YsTUFBTSxDQUFDLFFBQVEsc0JBQXNCMkY7WUFDNUM7WUFDQSxNQUFNLElBQUksQ0FBQ3N4QixVQUFVLENBQUN5YSxLQUFLLENBQUMxNEIsU0FBU21TLEtBQUssRUFBRWxELFNBQVM1WixLQUFLLENBQUMsQ0FBQzFJO2dCQUMxRCxJQUFJLENBQUMzRixNQUFNLENBQUMsUUFBUSxtQkFBbUIyRjtZQUN6QztRQUNGO1FBRUE7Ozs7Ozs7U0FPRyxHQUNILElBQXNCLENBQUFnL0Isc0JBQUEsR0FBRyxDQUN2QnhCLFNBQ0EzdEIsV0FDQWU7WUFFQSxPQUFPLElBQUksQ0FBQzZpQyxnQkFBZ0IsQ0FBQ3pVLHNCQUFzQixDQUNqRHhCLFNBQ0EzdEIsV0FDQWU7UUFFSjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBaXNCLFdBQVcsR0FBRyxDQUF3Qlc7WUFDcEMsT0FBTyxJQUFJLENBQUNpVyxnQkFBZ0IsQ0FBQzVXLFdBQVcsQ0FBQ1c7UUFDM0M7UUFFQTs7Ozs7Ozs7Ozs7Ozs7U0FjRyxHQUNILElBQWdCLENBQUErQixnQkFBQSxHQUFHLENBQ2pCQyxjQUNBM3ZCLFdBQ0FlO1lBRUEsTUFBTXNyQyxTQUFTLElBQUksQ0FBQ3pJLGdCQUFnQixDQUFDbFUsZ0JBQWdCLENBQ25EQyxjQUNBM3ZCLFdBQ0FlO1lBR0YsSUFBSSxDQUFDc3JDLFFBQVE7WUFDYixJQUFJLENBQUNuSyxjQUFjLENBQUN4aEMsR0FBRyxDQUFDMnJDO1lBQ3hCLE9BQU87Z0JBQ0wsSUFBSSxDQUFDbkssY0FBYyxDQUFDcHNDLE1BQU0sQ0FBQ3UyQztnQkFDM0JBO1lBQ0Y7UUFDRjtRQUVBOzs7Ozs7Ozs7U0FTRyxHQUNILElBQWdCLENBQUFqYixnQkFBQSxHQUFHLENBQ2pCQyxjQUNBcnhCLFdBQ0FlLFlBQTRCLFlBQVk7WUFFeEMsTUFBTXNyQyxTQUFTLElBQUksQ0FBQ3pJLGdCQUFnQixDQUFDeFMsZ0JBQWdCLENBQ25EQyxjQUNBcnhCLFdBQ0FlO1lBR0YsSUFBSSxDQUFDc3JDLFFBQVE7WUFDYixJQUFJLENBQUNuSyxjQUFjLENBQUN4aEMsR0FBRyxDQUFDMnJDO1lBQ3hCLE9BQU87Z0JBQ0wsSUFBSSxDQUFDbkssY0FBYyxDQUFDcHNDLE1BQU0sQ0FBQ3UyQztnQkFDM0JBO1lBQ0Y7UUFDRjtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQUMsd0JBQXdCLEdBQUcsQ0FDekJDLGNBQ0FuMkIsT0FFSSxFQUFFO1lBRU4sTUFBTW8yQixjQUFjO2dCQUNsQkQsYUFBYWp6QixHQUFHLEdBQ2RsRCxLQUFLcTJCLG1CQUFtQixJQUN4QjtZQUNKO1lBRUEsTUFBTWgyQyxjQUFjTyxtQkFDbEIsSUFBSSxDQUFDd0IsS0FBSyxDQUFDMlEsV0FBVyxFQUN0QixDQUFDekY7Z0JBQ0MsSUFBSSxDQUFDQSxZQUFZO2dCQUNqQjZvQyxhQUFhOStDLGdCQUFnQixDQUFDLFNBQVMrK0M7Z0JBRXZDLE1BQU1FLGVBQWUsSUFBSXp5QixJQUFJdlcsV0FBV2lwQyxTQUFTO2dCQUNqREQsYUFBYUUsWUFBWSxDQUFDajNDLEdBQUcsQ0FBQyxLQUFLb2MsT0FBT3c2QixhQUFhcGMsV0FBVztnQkFDbEV1YyxhQUFhRSxZQUFZLENBQUNqM0MsR0FBRyxDQUFDLEtBQUtvYyxPQUFPdzZCLGFBQWFuYyxZQUFZO2dCQUVuRW1jLGFBQWFqekIsR0FBRyxHQUFHb3pCLGFBQWFsd0QsUUFBUTtZQUMxQztZQUdGLE9BQU87Z0JBQ0xpYTtnQkFDQTgxQyxhQUFhNStDLG1CQUFtQixDQUFDLFNBQVM2K0M7WUFDNUM7UUFDRjtRQUVBOzs7Ozs7Ozs7U0FTRyxHQUNILEtBQUFLLG1DQUFtQyxHQUFHLENBQ3BDNVEsWUFDQTlXO1lBRUEsSUFBSSxDQUFDeWUsZ0JBQWdCLENBQUMvVSxrQ0FBa0MsQ0FDdERvTixhQUNJO2dCQUNFN29CLFNBQVM7Z0JBQ1RqUyxXQUFXODZCO1lBQ1osSUFDRHhoRCxXQUNKMHFDO1lBRUYsSUFBSSxDQUFDeWUsZ0JBQWdCLENBQUM3VSx1QkFBdUI7UUFDL0M7UUFFQTs7O1NBR0csR0FDSCxLQUFBK2QsdUJBQXVCLEdBQUcsQ0FBQzE1QjtZQUN6QixJQUFJLENBQUN3d0IsZ0JBQWdCLENBQUMvVSxrQ0FBa0MsQ0FDdER6YixVQUFVMzRCLFlBQVk7Z0JBQUUyNEIsU0FBUztZQUFLO1lBRXhDLElBQUksQ0FBQ3d3QixnQkFBZ0IsQ0FBQzdVLHVCQUF1QjtRQUMvQztRQUVBOzs7O1NBSUcsR0FDSCxLQUFBZ2UsdUJBQXVCLEdBQUcsQ0FBQ0M7WUFDekIsSUFBSSxDQUFDckwsMkJBQTJCLEdBQUdxTDtRQUNyQztRQXBvRUUsSUFBSSxDQUFDMTBDLElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNDLEVBQUUsR0FBR0E7UUFDVixJQUFJLENBQUNKLEdBQUcsR0FBRyxHQUFHRyxLQUFRLEdBQUFDLEdBQUUsQ0FBRTtRQUMxQixJQUFJLENBQUNzcUMsY0FBYyxHQUFHLElBQUluckMsK1FBQWVBLENBQUNxckI7UUFDMUMsSUFBSSxDQUFDdWUsUUFBUSxHQUFHQTtRQUNoQixJQUFJLENBQUM3bEIsWUFBWSxHQUFHQTtRQUNwQixJQUFJLENBQUM0bEIsV0FBVyxHQUFHQTtRQUNuQixJQUFJLENBQUM2QyxvQkFBb0IsR0FBRyxTQUFTLElBQUksQ0FBQzVyQyxJQUFJLElBQUksSUFBSSxDQUFDQyxFQUFFLEVBQUU7UUFDM0QsSUFBSSxDQUFDL04sTUFBTSxHQUFHK0UsVUFBVTtZQUFDO1NBQU87UUFFaEMsTUFBTTA5QyxpQkFBaUJoYSxVQUFVOTlCLEdBQUcsQ0FBQ21EO1FBQ3JDLE1BQU00MEMsb0JBQ0o3dUMsc0JBQXNCNHVDLGVBQWU3ekQsT0FBTyxDQUFDaWxCLGtCQUFrQjtRQUNqRSxJQUFJNnVDLG1CQUFtQjtZQUNyQixJQUFJLENBQUMxMEMsS0FBSyxDQUFDa0cscUJBQXFCLENBQUN3dUM7O1FBR25DLElBQUksQ0FBQzEwQyxLQUFLLENBQUNpSCxVQUFVLENBQUNDLFdBQVcsRUFBRTtRQUNuQyxJQUFJLENBQUNsSCxLQUFLLENBQUNtSCxrQkFBa0IsQ0FBQzJLLG1CQUFtQixFQUFFO1FBQ25ELElBQUksQ0FBQzlSLEtBQUssQ0FBQzhHLGVBQWUsQ0FDeEJ5akIsVUFBVXhyQixhQUFhMG5CLE9BQU8sR0FBRzFuQixhQUFhc29CLElBQUk7UUFHcEQsSUFBSSxDQUFDMEIsTUFBTSxHQUFHLElBQUlvYSxjQUFjLElBQUk7UUFDcEMsSUFBSSxDQUFDbGEsVUFBVSxHQUFHLElBQUlpZCxrQkFBa0IsSUFBSTtRQUM1QyxJQUFJLENBQUN6USxPQUFPLEdBQUcsSUFBSWtULGVBQWUsSUFBSTtRQUN0QyxJQUFJLENBQUN6ZixXQUFXLEdBQUcsSUFBSWlmLG1CQUFtQixJQUFJO1FBQzlDLElBQUksQ0FBQ2lELGdCQUFnQixHQUFHLElBQUk1VixpQkFBaUIsSUFBSSxDQUFDeDFCLEtBQUssRUFBRSxJQUFJLENBQUN5MUIsT0FBTzs7SUE0U3ZFOztLQUVHLEdBQ0gsSUFBSWxMLFVBQU87UUFDVCxPQUFPMXNCLGdCQUFnQixJQUFJLENBQUN3c0MsY0FBYzs7SUFHNUM7O0tBRUcsR0FDSCxJQUFJN2pCLGdCQUFhO1FBQ2YsT0FBTyxJQUFJLENBQUNxaUIsV0FBVyxDQUFDdm9DLGFBQWEsRUFBRVA7O0lBR3pDOztLQUVHLEdBQ0gsSUFBSWluQixnQkFBYTtRQUNmLE9BQU8sSUFBSSxDQUFDaG5CLEtBQUssQ0FBQ21TLFNBQVMsRUFBRXBTLE9BQU8sSUFBSSxDQUFDeW1CLGFBQWE7O0FBNHlEekQ7QUNqNEVEOzs7Ozs7Ozs7Ozs7Ozs7O0NBZ0JHLFNBQ1VtdUI7SUE2Qlh6MEQsWUFBWTAwRCxNQUFvQjtRQXlCaEMsSUFBSSxDQUFBQyxJQUFBLEdBQUcsQ0FBQ3J4RCxLQUFhc3hELFFBQVksRUFBRSxFQUFFN2lELFFBQWtCLE1BQU07WUFDM0QsSUFBSSxDQUFDMmlELE1BQU0sQ0FBQzVpRCxNQUFNLENBQUNDLE9BQU8sZ0JBQWdCek8sS0FBSztnQkFDN0MsR0FBR3N4RCxLQUFLO1lBQ1Q7UUFDSDtRQUVBLEtBQUFDLFNBQVMsR0FBRyxDQUFDSDtZQUNYLElBQUksQ0FBQ0EsTUFBTSxHQUFHQTtRQUNoQjtRQXFHQTs7OztTQUlHLEdBQ0gsSUFBUyxDQUFBSSxTQUFBLEdBQUc7WUFDVixNQUFNMzVCLFNBQVMsSUFBSTQ1QjtZQUNuQjU1QixPQUFPbGUsR0FBRyxDQUFDLFdBQVcsSUFBSSxDQUFDeTNDLE1BQU0sQ0FBQzlsQyxHQUFHO1lBQ3JDdU0sT0FBT2xlLEdBQUcsQ0FBQyxvQkFBb0IsSUFBSSxDQUFDeTNDLE1BQU0sQ0FBQ00sV0FBVztZQUN0RDc1QixPQUFPbGUsR0FBRyxDQUFDLG1CQUFtQixJQUFJLENBQUN5M0MsTUFBTSxDQUFDTyxZQUFZO1lBRXRELE9BQU8sQ0FBRyxNQUFJLENBQUNQLE1BQU0sQ0FBQ1EsU0FBUyxDQUFZLFdBQUEvNUIsT0FBT3IzQixRQUFRLEdBQUUsQ0FBRTtRQUNoRTtRQWlOQTs7Ozs7U0FLRyxHQUNILEtBQUFxeEQsbUJBQW1CLEdBQUcsQ0FBQ3JzQztZQUNyQixJQUFJQSxNQUFNbEosSUFBSSxLQUFLLFdBQVc7O2dCQUU1QixJQUFJLENBQUMrMEMsSUFBSSxDQUFDOztnQkFFVixJQUFJLENBQUNTLFVBQVUsQ0FBQyxPQUFPO21CQUNsQixJQUFJdHNDLE1BQU1sSixJQUFJLEtBQUssVUFBVTs7Ozs7Z0JBS2xDLElBQUksQ0FBQyswQyxJQUFJLENBQ1AsaUVBQWlFLElBQUksQ0FBQ3p1QixTQUFTLENBQUU7Z0JBRW5GLElBQUksQ0FBQyxJQUFJLENBQUNBLFNBQVMsRUFBRTtvQkFDbkIsSUFBSSxDQUFDbXZCLFVBQVUsQ0FBQzt3QkFBRUMsVUFBVTtvQkFBRTs7O1FBR3BDO1FBRUEsS0FBQUMsTUFBTSxHQUFHLENBQUNDO1lBQ1IsSUFBSSxJQUFJLENBQUNBLElBQUksS0FBS0EsTUFBTTtZQUV4QixNQUFNcjJDLE9BQU8sSUFBSSxDQUFDdTFDLE1BQU0sQ0FBQ3YxQyxJQUFJO1lBQzdCLElBQUksQ0FBQ0EsTUFBTTtnQkFDVCxJQUFJLENBQUN1MUMsTUFBTSxDQUFDNWlELE1BQU0sQ0FBQyxTQUFTLENBQW1DO2dCQUMvRDs7WUFHRixNQUFNb3pCLFFBQVEsSUFBSSxDQUFDd3ZCLE1BQU0sQ0FBQ2UsU0FBUztZQUNuQyxJQUFJLENBQUN2d0IsT0FBTztnQkFDVixJQUFJLENBQUN3dkIsTUFBTSxDQUFDNWlELE1BQU0sQ0FBQyxTQUFTLENBQTJDO2dCQUN2RTs7WUFHRixNQUFNNGpELGNBQTZCO2dCQUNqQ3h3QjtnQkFDQXl3QixjQUFjO29CQUNaOTFDLElBQUlWLEtBQUtVLEVBQUU7b0JBQ1gzZixNQUFNaWYsS0FBS2pmLElBQUk7b0JBQ2YwMUQsT0FBT3oyQyxLQUFLeTJDLEtBQUs7b0JBQ2pCcHJDLFFBQVFyTCxLQUFLcUwsTUFBTTtnQkFDcEI7O1lBR0gsSUFBSSxDQUFDb1UsRUFBRSxFQUFFbUcsS0FBS2hwQixLQUFLNlgsU0FBUyxDQUFDOGhDO1lBQzdCLElBQUksQ0FBQ2YsSUFBSSxDQUFDLDhCQUE4QjtnQkFBRWE7WUFBSTtRQUNoRDtRQUVBLEtBQUFLLFNBQVMsR0FBRyxDQUFDTCxNQUFjMXNDO1lBQ3pCLElBQUksSUFBSSxDQUFDMHNDLElBQUksS0FBS0EsTUFBTTtZQUV4QixJQUFJLENBQUNiLElBQUksQ0FBQyxvQ0FBb0M7Z0JBQUU3ckM7Z0JBQU8wc0M7WUFBSTtZQUMzRCxNQUFNejJCLE9BQ0osT0FBT2pXLE1BQU1pVyxJQUFJLEtBQUssV0FDakJoakIsS0FBS3pYLEtBQUssQ0FBQ3drQixNQUFNaVcsSUFBSSxJQUN0Qjs7OztZQUtOLElBQUksQ0FBQyxJQUFJLENBQUNxQixVQUFVLElBQUlyQixRQUFRQSxLQUFLbmYsSUFBSSxLQUFLLG9CQUFvQjtnQkFDaEUsSUFBSSxDQUFDd2dCLFVBQVUsR0FBRztnQkFDbEIsSUFBSXJCLEtBQUs5b0IsS0FBSyxFQUFFO29CQUNkLElBQUksQ0FBQzYvQyxhQUFhLEdBQUcsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ2gzQixNQUFNO29CQUNsRDs7OztZQUtKLElBQUksQ0FBQ2kzQixTQUFTLEdBQUcsSUFBSXh5RDtZQUVyQixJQUNFdTdCLFFBQ0NBLENBQUFBLEtBQUtuZixJQUFJLEtBQUssa0JBQWtCbWYsS0FBS25mLElBQUksS0FBSyxrQkFDL0M7O2dCQUVBLElBQUksQ0FBQ3EyQyxnQkFBZ0I7O1lBR3ZCLElBQUlsM0IsUUFBUUEsS0FBS25mLElBQUksS0FBSyxpQkFBaUI7Z0JBQ3pDLElBQUksQ0FBQ3MyQyxjQUFjLEdBQUduM0I7Z0JBQ3RCLElBQUksQ0FBQ3EyQixVQUFVLENBQUM7O1lBR2xCLElBQUlyMkIsUUFBUUEsS0FBS25mLElBQUksS0FBSyxzQkFBc0JtZixLQUFLOW9CLEtBQUssRUFBRTtnQkFDMUQsTUFBTSxFQUFFWCxJQUFJLEVBQUUsR0FBR3lwQixLQUFLOW9CLEtBQUs7Z0JBQzNCLElBQUksQ0FBQ2l3QixTQUFTLEdBQUc7Z0JBQ2pCLElBQUksQ0FBQ2l3QixZQUFZLEdBQUc7Z0JBQ3BCLElBQUksQ0FBQ0MsbUJBQW1CLElBQUk7Z0JBQzVCLElBQ0U5Z0QsU0FBU3JDLFdBQVdDLGFBQWEsSUFDakMsQ0FBQyxJQUFJLENBQUN3aEQsTUFBTSxDQUFDMkIsWUFBWSxDQUFDQyxRQUFRLElBQ2xDO29CQUNBdndDLGFBQWEsSUFBSSxDQUFDd3dDLHlCQUF5QjtvQkFDM0MsSUFBSSxDQUFDNUIsSUFBSSxDQUNQO29CQUVGLElBQUksQ0FBQ1UsVUFBVSxDQUFDO3dCQUFFbUIsY0FBYztvQkFBSTs7O1lBSXhDLElBQUl6M0IsTUFBTTtnQkFDUkEsS0FBSzAzQixXQUFXLEdBQUcsSUFBSWp6RDtnQkFDdkIsSUFBSSxDQUFDa3hELE1BQU0sQ0FBQ3ZYLGFBQWEsQ0FBQ3BlOztZQUU1QixJQUFJLENBQUMyRSx1QkFBdUI7UUFDOUI7UUFFQSxLQUFBZ3pCLE9BQU8sR0FBRyxDQUFDbEIsTUFBYzFzQztZQUN2QixJQUFJLElBQUksQ0FBQzBzQyxJQUFJLEtBQUtBLE1BQU07WUFFeEIsSUFBSSxDQUFDYixJQUFJLENBQUMsb0NBQW9DN3JDLE1BQU14VCxJQUFJLEVBQUU7Z0JBQUV3VDtnQkFBTzBzQztZQUFJO1lBRXZFLElBQUkxc0MsTUFBTXhULElBQUksS0FBS3JDLFdBQVdFLGlCQUFpQixFQUFFOzs7Z0JBRy9DLE1BQU04QyxRQUFRLElBQUlyVyxNQUNoQixDQUFtQyxrQ0FBQWtwQixNQUFNNUksTUFBTSxDQUFFOztnQkFJbkRqSyxNQUFNaUssTUFBTSxHQUFHNEksTUFBTTVJLE1BQU07O2dCQUUzQmpLLE1BQU1YLElBQUksR0FBR3dULE1BQU14VCxJQUFJOztnQkFFdkJXLE1BQU0wZ0QsUUFBUSxHQUFHN3RDLE1BQU02dEMsUUFBUTs7Z0JBRS9CMWdELE1BQU05VSxNQUFNLEdBQUcybkIsTUFBTTNuQixNQUFNO2dCQUUzQixJQUFJLENBQUMyMEQsYUFBYSxHQUFHNy9DO2dCQUNyQixJQUFJLENBQUMwK0MsSUFBSSxDQUFDLCtDQUErQzdyQyxNQUFNNUksTUFBTSxFQUFFLEVBQUU7b0JBQ3ZFNEk7Z0JBQ0Q7bUJBQ0k7Z0JBQ0wsSUFBSSxDQUFDc3RDLG1CQUFtQixJQUFJO2dCQUM1QixJQUFJLENBQUNRLGFBQWEsSUFBSTtnQkFDdEIsSUFBSSxDQUFDeEIsVUFBVSxDQUFDO2dCQUNoQixJQUFJLENBQUNlLFlBQVksR0FBRztnQkFFcEIsSUFBSSxDQUFDTCxhQUFhLEdBQUcsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ2p0QztnQkFFNUMsSUFBSSxDQUFDNnJDLElBQUksQ0FBQyx5REFBeUQsRUFBRTtvQkFDbkU3ckM7Z0JBQ0Q7O2dCQUdELElBQUksQ0FBQ3VzQyxVQUFVOztRQUVuQjtRQUVBLEtBQUF3QixPQUFPLEdBQUcsQ0FBQ3JCLE1BQWMxc0M7WUFDdkIsSUFBSSxJQUFJLENBQUMwc0MsSUFBSSxLQUFLQSxNQUFNO1lBRXhCLElBQUksQ0FBQ1ksbUJBQW1CLElBQUk7WUFDNUIsSUFBSSxDQUFDUSxhQUFhLElBQUk7WUFDdEIsSUFBSSxDQUFDeEIsVUFBVSxDQUFDO1lBQ2hCLElBQUksQ0FBQ2UsWUFBWSxHQUFHO1lBQ3BCLElBQUksQ0FBQ0wsYUFBYSxHQUFHLElBQUlsMkQsTUFBTSxvQkFBb0JrcEIsTUFBSyxDQUFFO1lBQzFELElBQUksQ0FBQzZyQyxJQUFJLENBQUMsK0NBQStDLEVBQUU7Z0JBQUU3ckM7WUFBSztZQUVsRSxJQUFJLENBQUN1c0MsVUFBVTtRQUNqQjtRQUVBOzs7Ozs7U0FNRyxHQUNILElBQVUsQ0FBQUQsVUFBQSxHQUFHLENBQUMwQixTQUFrQkMsc0JBQXNCLEtBQUs7WUFDekQsSUFBSUQsWUFBWSxJQUFJLENBQUM1d0IsU0FBUyxFQUFFO1lBRWhDLElBQUksQ0FBQ0EsU0FBUyxHQUFHNHdCO1lBRWpCLElBQUksSUFBSSxDQUFDNXdCLFNBQVMsSUFBSTZ3QixxQkFBcUI7Z0JBQ3pDLElBQUksQ0FBQ3JDLE1BQU0sQ0FBQ3ZYLGFBQWEsQ0FBQztvQkFDeEJ2OUIsTUFBTTtvQkFDTm9tQixRQUFRLElBQUksQ0FBQ0UsU0FBUztnQkFDdkI7Z0JBQ0Q7OztZQUlGdnpCLFdBQVc7Z0JBQ1QsSUFBSSxJQUFJLENBQUN1ekIsU0FBUyxFQUFFO2dCQUNwQixJQUFJLENBQUN3dUIsTUFBTSxDQUFDdlgsYUFBYSxDQUFDO29CQUN4QnY5QixNQUFNO29CQUNOb21CLFFBQVEsSUFBSSxDQUFDRSxTQUFTO2dCQUN2QjtlQUNBO1FBQ0w7UUFFQTs7U0FFRyxHQUNLLElBQWlCLENBQUE2dkIsaUJBQUEsR0FBRyxDQUMxQmp0QyxPQUNBa3VDLGNBQWMsSUFBSTtZQUVsQixJQUFJMWhEO1lBQ0osSUFBSTJoRDtZQUNKLElBQUl4MkQ7WUFDSixJQUFJNFUsYUFBYXlULFFBQVE7Z0JBQ3ZCeFQsT0FBT3dULE1BQU14VCxJQUFJO2dCQUNqQjdVLFVBQVVxb0IsTUFBTTVJLE1BQU07Z0JBQ3RCKzJDLGFBQWE7bUJBQ1I7Z0JBQ0wsTUFBTSxFQUFFaGhELEtBQUssRUFBRSxHQUFHNlM7Z0JBQ2xCeFQsT0FBT1csTUFBTVgsSUFBSTtnQkFDakI3VSxVQUFVd1YsTUFBTXhWLE9BQU87Z0JBQ3ZCdzJELGFBQWFoaEQsTUFBTWloRCxVQUFVOztZQUcvQixNQUFNNXpELE1BQU0sd0JBQXdCZ1MsS0FBb0IsZUFBQTdVLFFBQU8sQ0FBRTtZQUNqRSxJQUFJLENBQUNrMEQsSUFBSSxDQUFDcnhELEtBQUs7Z0JBQUV3bEI7WUFBSyxHQUFJO1lBQzFCLE1BQU03UyxRQUFRLElBQUlyVyxNQUFNMEQ7WUFLeEIyUyxNQUFNWCxJQUFJLEdBQUdBO1lBQ2I7OzthQUdHLEdBQ0hXLE1BQU1paEQsVUFBVSxHQUFHRDtZQUNuQmhoRCxNQUFNK2dELFdBQVcsR0FBR0E7WUFDcEIsT0FBTy9nRDtRQUNUO1FBa0JBOztTQUVHLEdBQ0gsSUFBdUIsQ0FBQWtoRCx1QkFBQSxHQUFHO1lBQ3hCLElBQUksQ0FBQy8yQixVQUFVLEdBQUc7cUVBRWxCLElBQUksQ0FBQ2czQixrQkFBa0IsR0FBRzEzQixnQkFDeEIsSUFBSWp0QixRQUF3QixDQUFDOEssU0FBUzBpQjtnQkFDcEMsSUFBSSxDQUFDaTJCLGNBQWMsR0FBRzM0QztnQkFDdEIsSUFBSSxDQUFDdTRDLGFBQWEsR0FBRzcxQjs7UUFHM0I7UUFNQTs7U0FFRyxHQUNILElBQWdCLENBQUFnMkIsZ0JBQUEsR0FBRztZQUNqQixNQUFNeHdCLFNBQVNoRDtZQUNmLElBQUksSUFBSSxDQUFDNDBCLHFCQUFxQixFQUFFO2dCQUM5QjV4QixPQUFPMWYsWUFBWSxDQUFDLElBQUksQ0FBQ3N4QyxxQkFBcUI7OztZQUloRCxJQUFJLENBQUNBLHFCQUFxQixHQUFHNXhCLE9BQU85eUIsVUFBVSxDQUFDOztnQkFFN0MsTUFBTW9zQixPQUFPO29CQUFDO3dCQUFFbmYsTUFBTTt3QkFBZ0IwM0MsV0FBVyxJQUFJLENBQUM1QyxNQUFNLENBQUM2QyxRQUFRO29CQUFBO2lCQUFHOztnQkFFeEUsSUFBSTtvQkFDRixJQUFJLENBQUMzNEIsRUFBRSxFQUFFbUcsS0FBS2hwQixLQUFLNlgsU0FBUyxDQUFDbUw7a0JBQzdCLE9BQU8vakIsR0FBRzs7O1lBR2QsR0FBRyxJQUFJLENBQUN3OEMsWUFBWTtRQUN0QjtRQUVBOzs7O1NBSUcsR0FDSCxJQUF1QixDQUFBOXpCLHVCQUFBLEdBQUc7WUFDeEIzZCxhQUFhLElBQUksQ0FBQ3d3Qyx5QkFBeUI7WUFDM0MsSUFBSSxDQUFDQSx5QkFBeUIsR0FBRzVqRCxXQUFXO2dCQUMxQyxNQUFNdFAsTUFBTSxJQUFJRztnQkFDaEIsSUFDRSxJQUFJLENBQUN3eUQsU0FBUyxJQUNkM3lELElBQUlnQixPQUFPLEtBQUssSUFBSSxDQUFDMnhELFNBQVMsQ0FBQzN4RCxPQUFPLEtBQUssSUFBSSxDQUFDNC9CLHNCQUFzQixFQUN0RTtvQkFDQSxJQUFJLENBQUMwd0IsSUFBSSxDQUFDO29CQUNWLElBQUksQ0FBQ1MsVUFBVSxDQUFDO29CQUNoQixJQUFJLENBQUNDLFVBQVU7O1lBRW5CLEdBQUcsSUFBSSxDQUFDcHhCLHNCQUFzQjtRQUNoQztRQTFwQkUsSUFBSSxDQUFDeXdCLE1BQU0sR0FBR0E7MEVBRWQsSUFBSSxDQUFDMEIsbUJBQW1CLEdBQUc7MERBRTNCLElBQUksQ0FBQ1EsYUFBYSxHQUFHO3NFQUVyQixJQUFJLENBQUNULFlBQVksR0FBRzs0REFFcEIsSUFBSSxDQUFDc0IsY0FBYyxHQUFHOzRFQUV0QixJQUFJLENBQUNyM0IsVUFBVSxHQUFHO29GQUVsQixJQUFJLENBQUM4RixTQUFTLEdBQUc7NERBRWpCLElBQUksQ0FBQ3N2QixJQUFJLEdBQUc7MkRBRVosSUFBSSxDQUFDUSxTQUFTLEdBQUc7NERBRWpCLElBQUksQ0FBQ3dCLFlBQVksR0FBRyxLQUFLO1FBQ3pCLElBQUksQ0FBQ3Z6QixzQkFBc0IsR0FBRyxJQUFJLENBQUN1ekIsWUFBWSxHQUFHLEtBQUs7UUFFdkQ1aUQsNEJBQTRCLElBQUksQ0FBQ3VnRCxtQkFBbUI7O0lBYXREOzs7O0tBSUcsR0FDSCxNQUFNblEsUUFBUTN6QyxVQUFVLEtBQUs7UUFDM0IsSUFBSSxJQUFJLENBQUM4a0QsWUFBWSxFQUFFO1lBQ3JCLE1BQU12MkQsTUFDSixDQUF3RTs7UUFJNUUsSUFBSSxDQUFDNjNELGNBQWMsR0FBRztRQUV0QixJQUFJO1lBQ0YsTUFBTUMsY0FBYyxNQUFNLElBQUksQ0FBQ0MsUUFBUTtZQUN2QyxJQUFJLENBQUN2QixtQkFBbUIsR0FBRztZQUUzQixJQUFJLENBQUN6QixJQUFJLENBQ1AsMkRBQTJEK0MsWUFBVyxDQUFFO1VBRTFFLE9BQU96aEQsT0FBTztZQUNkLElBQUksQ0FBQ2l3QixTQUFTLEdBQUc7WUFDakIsSUFBSSxDQUFDa3dCLG1CQUFtQixJQUFJO1lBRTVCO1lBRUVuZ0QsTUFBTVgsSUFBSSxLQUFLckMsV0FBV0MsYUFBYSxJQUN2QyxDQUFDLElBQUksQ0FBQ3doRCxNQUFNLENBQUMyQixZQUFZLENBQUNDLFFBQVEsSUFDbEM7Z0JBQ0EsSUFBSSxDQUFDM0IsSUFBSSxDQUNQO2dCQUVGLElBQUksQ0FBQ1UsVUFBVSxDQUFDO29CQUFFbUIsY0FBYztnQkFBSTttQkFDL0I7O2dCQUVMLElBQUksQ0FBQ3ZnRCxNQUFNK2dELFdBQVcsRUFBRTs7b0JBRXRCLE1BQU0sSUFBSXAzRCxNQUNSbWMsS0FBSzZYLFNBQVMsQ0FBQzs7d0JBRWJ0ZSxNQUFNVyxNQUFNWCxJQUFJOzt3QkFFaEI0aEQsWUFBWWpoRCxNQUFNaWhELFVBQVU7O3dCQUU1QnoyRCxTQUFTd1YsTUFBTXhWLE9BQU87O3dCQUV0QnUyRCxhQUFhL2dELE1BQU0rZ0QsV0FBVztvQkFDL0I7Ozs7UUFNVCxPQUFPLE1BQU0sSUFBSSxDQUFDWSxlQUFlLENBQUN2bUQ7O0lBR3BDOzs7O0tBSUcsR0FDSCxNQUFNdW1ELGdCQUFnQnZtRCxVQUFVLEtBQUs7UUFDbkMsT0FBT29CLFFBQVFveEIsSUFBSSxDQUFDO1lBQ2pCO2dCQUNDLE1BQU15eEIsV0FBVyxJQUFHO2dCQUNwQixJQUFLLElBQUl0aEQsSUFBSSxHQUFHQSxLQUFLM0MsU0FBUzJDLEtBQUtzaEQsU0FBVTtvQkFDM0MsSUFBSTt3QkFDRixPQUFPLE1BQU0sSUFBSSxDQUFDdUMsY0FBYztzQkFDaEMsT0FBTzVoRCxPQUFZO3dCQUNuQixJQUFJakMsTUFBTTNDLFNBQVM7NEJBQ2pCLE1BQU0sSUFBSXpSLE1BQ1JtYyxLQUFLNlgsU0FBUyxDQUFDO2dDQUNidGUsTUFBTVcsTUFBTVgsSUFBSTtnQ0FDaEI0aEQsWUFBWWpoRCxNQUFNaWhELFVBQVU7Z0NBQzVCejJELFNBQVN3VixNQUFNeFYsT0FBTztnQ0FDdEJ1MkQsYUFBYS9nRCxNQUFNK2dELFdBQVc7NEJBQy9COzt3QkFHTCxNQUFNemtELE1BQU0raUQ7OztZQUdsQjtZQUNDO2dCQUNDLE1BQU0vaUQsTUFBTWxCO2dCQUNaLElBQUksQ0FBQzhrRCxZQUFZLEdBQUc7Z0JBQ3BCLE1BQU0sSUFBSXYyRCxNQUNSbWMsS0FBSzZYLFNBQVMsQ0FBQztvQkFDYnRlLE1BQU07b0JBQ040aEQsWUFBWTtvQkFDWnoyRCxTQUFTO29CQUNUdTJELGFBQWE7Z0JBQ2Q7WUFFTDtTQUNEOztJQWlCSDs7O0tBR0csR0FDSHZpQixXQUFXcGpDLE9BQWdCO1FBQ3pCLElBQUksQ0FBQ3NqRCxJQUFJLENBQ1AsNERBQTRELElBQUksQ0FBQ2EsSUFBSSxDQUFFO1FBR3pFLElBQUksQ0FBQ0EsSUFBSSxJQUFJO1FBQ2IsSUFBSSxDQUFDVyxZQUFZLEdBQUc7UUFDcEIsSUFBSSxDQUFDc0IsY0FBYyxHQUFHOztRQUd0QixJQUFJLElBQUksQ0FBQ0oscUJBQXFCLEVBQUU7WUFDOUI1MEIsWUFBWVAsYUFBYSxDQUFDLElBQUksQ0FBQ20xQixxQkFBcUI7O1FBRXRELElBQUksSUFBSSxDQUFDZCx5QkFBeUIsRUFBRTtZQUNsQ3IwQixjQUFjLElBQUksQ0FBQ3EwQix5QkFBeUI7O1FBRzlDdmhELCtCQUErQixJQUFJLENBQUNtZ0QsbUJBQW1CO1FBRXZELElBQUksQ0FBQ2p2QixTQUFTLEdBQUc7UUFFakIsSUFBSTR4Qjs7OztRQUlKLE1BQU0sRUFBRWw1QixFQUFFLEVBQUUsR0FBRyxJQUFJO1FBQ25CLElBQUlBLE1BQU1BLEdBQUcvbEIsS0FBSyxJQUFJK2xCLEdBQUduRSxVQUFVLEtBQUttRSxHQUFHdUYsSUFBSSxFQUFFO1lBQy9DMnpCLGtCQUFrQixJQUFJcmxELFFBQVEsQ0FBQzhLO2dCQUM3QixNQUFNbTVDLFVBQVUsQ0FBQzV0QztvQkFDZixJQUFJLENBQUM2ckMsSUFBSSxDQUNQLDRDQUNFN3JDLFFBQVEsU0FBUyxVQUNMLGVBQ2Q7d0JBQUVBO29CQUFLO29CQUVUdkw7Z0JBQ0Y7Z0JBRUFxaEIsR0FBRzgzQixPQUFPLEdBQUdBOzs7Z0JBR2IvakQsV0FBVytqRCxTQUFTcmxELFdBQVcsT0FBT0EsVUFBVTtZQUNsRDtZQUVBLElBQUksQ0FBQ3NqRCxJQUFJLENBQ1AsMEVBQTBFO1lBRzVFLzFCLEdBQUcvbEIsS0FBSyxDQUNONUYsV0FBV0UsaUJBQWlCLEVBQzVCO2VBRUc7WUFDTCxJQUFJLENBQUN3aEQsSUFBSSxDQUNQLHFFQUFxRTtZQUV2RW1ELGtCQUFrQnJsRCxRQUFROEssT0FBTzs7UUFHbkMsT0FBTyxJQUFJLENBQUNxaEIsRUFBRTtRQUVkLE9BQU9rNUI7O0lBR1Q7Ozs7S0FJRyxHQUNILE1BQU1ILFdBQVE7UUFDWixJQUFJLElBQUksQ0FBQ3hCLFlBQVksRUFBRSxRQUFPO1FBQzlCLElBQUksQ0FBQ0EsWUFBWSxHQUFHO1FBQ3BCLElBQUksQ0FBQzRCLFNBQVMsR0FBR3BrRDtRQUNqQixJQUFJcWtELGVBQWU7UUFDbkIsSUFBSTtZQUNGLElBQUksQ0FBQ3JELElBQUksQ0FBQyxnQ0FBZ0M7WUFDMUMsTUFBTSxJQUFJLENBQUNELE1BQU0sQ0FBQzJCLFlBQVksQ0FBQzRCLFVBQVU7WUFDekNELGVBQWU7VUFDZixPQUFPaDlDLEdBQUc7OztRQUlaLElBQUk7WUFDRixJQUFJLENBQUNnOUMsY0FBYztnQkFDakIsSUFBSSxDQUFDckQsSUFBSSxDQUNQLDZEQUE2RDtnQkFFL0QsTUFBTSxJQUFJLENBQUNELE1BQU0sQ0FBQzJCLFlBQVksQ0FBQzZCLFNBQVM7O1lBRzFDLElBQUksQ0FBQyxJQUFJLENBQUN4RCxNQUFNLENBQUN5RCw0QkFBNEIsRUFBRTtnQkFDN0MsSUFBSSxDQUFDekQsTUFBTSxDQUFDMEQseUJBQXlCOztZQUV2QyxJQUFJLENBQUNqQix1QkFBdUI7WUFDNUIsTUFBTWtCLFFBQVEsSUFBSSxDQUFDdkQsU0FBUztZQUM1QixJQUFJLENBQUNILElBQUksQ0FBQyxDQUE4Qiw2QkFBQTBELE1BQUssQ0FBRSxFQUFFO2dCQUMvQ0E7Z0JBQ0FOLFdBQVcsSUFBSSxDQUFDQSxTQUFTO1lBQzFCO1lBQ0QsTUFBTU8sS0FBSyxJQUFJLENBQUM1RCxNQUFNLENBQUNoMEQsT0FBTyxDQUFDNjNELGFBQWEsSUFBSTE1QjtZQUNoRCxJQUFJLENBQUNELEVBQUUsR0FBRyxJQUFJMDVCLEdBQUdEO1lBQ2pCLElBQUksQ0FBQ3o1QixFQUFFLENBQUMyMkIsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTSxDQUFDOWdELElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDK2dELElBQUk7WUFDakQsSUFBSSxDQUFDNTJCLEVBQUUsQ0FBQzgzQixPQUFPLEdBQUcsSUFBSSxDQUFDQSxPQUFPLENBQUNqaUQsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMrZ0QsSUFBSTtZQUNuRCxJQUFJLENBQUM1MkIsRUFBRSxDQUFDaTRCLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU8sQ0FBQ3BpRCxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQytnRCxJQUFJO1lBQ25ELElBQUksQ0FBQzUyQixFQUFFLENBQUNpM0IsU0FBUyxHQUFHLElBQUksQ0FBQ0EsU0FBUyxDQUFDcGhELElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDK2dELElBQUk7WUFDdkQsTUFBTXJqRCxXQUFXLE1BQU0sSUFBSSxDQUFDMGxELGNBQWM7WUFDMUMsSUFBSSxDQUFDMUIsWUFBWSxHQUFHO1lBRXBCLElBQUloa0QsVUFBVTtnQkFDWixJQUFJLENBQUNxbUQsWUFBWSxHQUFHcm1ELFNBQVNzbUQsYUFBYTtnQkFDMUMsSUFBSSxDQUFDL0QsTUFBTSxDQUFDZ0UsbUJBQW1CLEdBQUcsSUFBSSxDQUFDRixZQUFZO2dCQUNuRCxPQUFPcm1EOztVQUVULE9BQU9zRixLQUFLO1lBQ1osTUFBTSxJQUFJLENBQUNpOUMsTUFBTSxDQUFDMEQseUJBQXlCO1lBQzNDLElBQUksQ0FBQ2pDLFlBQVksR0FBRzs7WUFFcEIsSUFBSSxDQUFDeEIsSUFBSSxDQUFDLHVCQUF1QixFQUFFbDlDO1lBQ25DLElBQUksQ0FBQ2k5QyxNQUFNLENBQUNpRSxrQkFBa0IsR0FBR2xoRDtZQUNqQyxNQUFNQTs7O0lBSVY7Ozs7Ozs7S0FPRyxHQUNILE1BQU00OUMsV0FDSjMwRCxVQUF5RCxFQUFFO1FBRTNELElBQUksQ0FBQ2kwRCxJQUFJLENBQUM7O1FBR1YsSUFBSSxJQUFJLENBQUN3QixZQUFZLElBQUksSUFBSSxDQUFDandCLFNBQVMsRUFBRTtZQUN2QyxJQUFJLENBQUN5dUIsSUFBSSxDQUFDO1lBQ1Y7Ozs7UUFLRixJQUFJVyxXQUFXNTBELFFBQVE0MEQsUUFBUTtRQUMvQixJQUFJLENBQUNBLFVBQVU7WUFDYkEsV0FBV2hpRCxjQUFjLElBQUksQ0FBQzhpRCxtQkFBbUI7OztRQUduRCxNQUFNN2pELE1BQU0raUQ7OztRQUlaLElBQUksSUFBSSxDQUFDYSxZQUFZLElBQUksSUFBSSxDQUFDandCLFNBQVMsRUFBRTtZQUN2QyxJQUFJLENBQUN5dUIsSUFBSSxDQUFDO1lBQ1Y7O1FBR0YsSUFBSSxJQUFJLENBQUM4QyxjQUFjLEVBQUU7WUFDdkIsSUFBSSxDQUFDOUMsSUFBSSxDQUFDO1lBQ1Y7O1FBR0YsSUFBSSxDQUFDQSxJQUFJLENBQUM7O1FBR1YsSUFBSSxDQUFDaUUsMkJBQTJCO1FBRWhDLElBQUlsNEQsUUFBUTgxRCxZQUFZLEVBQUU7WUFDeEIsTUFBTSxJQUFJLENBQUM5QixNQUFNLENBQUMyQixZQUFZLENBQUM2QixTQUFTOztRQUcxQyxJQUFJO1lBQ0YsTUFBTSxJQUFJLENBQUNQLFFBQVE7WUFDbkIsSUFBSSxDQUFDaEQsSUFBSSxDQUFDOztZQUVWLElBQUksQ0FBQ0EsSUFBSSxDQUFDO1lBRVYsSUFBSSxDQUFDeUIsbUJBQW1CLEdBQUc7VUFDM0IsT0FBT25nRCxPQUFZO1lBQ25CLElBQUksQ0FBQ2l3QixTQUFTLEdBQUc7WUFDakIsSUFBSSxDQUFDa3dCLG1CQUFtQixJQUFJO1lBQzVCLElBQ0VuZ0QsTUFBTVgsSUFBSSxLQUFLckMsV0FBV0MsYUFBYSxJQUN2QyxDQUFDLElBQUksQ0FBQ3doRCxNQUFNLENBQUMyQixZQUFZLENBQUNDLFFBQVEsSUFDbEM7Z0JBQ0EsSUFBSSxDQUFDM0IsSUFBSSxDQUNQO2dCQUdGLE9BQU8sSUFBSSxDQUFDVSxVQUFVLENBQUM7b0JBQUVtQixjQUFjO2dCQUFJOzs7WUFJN0MsSUFBSXZnRCxNQUFNK2dELFdBQVcsRUFBRTtnQkFDckIsSUFBSSxDQUFDckMsSUFBSSxDQUFDO2dCQUVWLElBQUksQ0FBQ1UsVUFBVTs7O1FBR25CLElBQUksQ0FBQ1YsSUFBSSxDQUFDOztJQWlQWjs7O0tBR0csR0FDSGlFLDhCQUEyQjs7O1FBR3pCLElBQUksQ0FBQ3BELElBQUksSUFBSTtRQUViLElBQUk7WUFDRixJQUFJLEVBQUU1MkIsSUFBSS9sQjtVQUNWLE9BQU9tQyxHQUFHOzs7O0lBbUJkLElBQUk2OEMsaUJBQWM7UUFDaEIsT0FBTyxJQUFJLENBQUNULGtCQUFrQjs7QUE0Q2pDO0FDN3RCSyxTQUFVeUIsaUJBQWlCM3pCLEtBQWE7SUFDNUMsTUFBTTR6QixZQUFZNXpCLE1BQU16UixLQUFLLENBQUM7SUFDOUIsSUFBSXFsQyxVQUFVOXpELE1BQU0sS0FBSyxHQUFHO1FBQzFCLE9BQU87O0lBRVQsTUFBTSt6RCxhQUFhRCxTQUFTLENBQUMsRUFBRTtJQUMvQixNQUFNaitDLFVBQVVtK0MsYUFBYUQ7SUFDN0IsTUFBTWg2QixPQUFPaGpCLEtBQUt6WCxLQUFLLENBQUN1VztJQUN4QixPQUFPa2tCLEtBQUs5UyxPQUE2QjtBQUMzQztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0rc0MsZUFBZSxDQUFDamxEO0lBQ3BCLE1BQU1pSCxJQUFJLElBQ1IwMEIsSUFBSXJXLE9BQU80L0IsWUFBWSxFQUN2QkMsSUFBSW5sRCxFQUFFL08sTUFBTTtJQUNkLElBQUlnUCxHQUNGOE0sSUFBSSxHQUNKdEIsR0FDQWtXLEdBQ0FqZixJQUFJLEdBQ0pvSyxHQUNBbk8sSUFBSTtJQUNOLE1BQU15bUQsSUFBSTtJQUNWLElBQUtubEQsSUFBSSxHQUFHQSxJQUFJLElBQUlBLElBQUs7UUFDdkJnSCxDQUFDLENBQUNtK0MsRUFBRUMsTUFBTSxDQUFDcGxELEdBQUcsR0FBR0E7O0lBRW5CLElBQUswaEIsSUFBSSxHQUFHQSxJQUFJd2pDLEdBQUd4akMsSUFBSztRQUN0QmxXLElBQUl4RSxDQUFDLENBQUNqSCxFQUFFcWxELE1BQU0sQ0FBQzFqQyxHQUFHO1FBQ2xCNVUsSUFBSSxDQUFDQSxLQUFLLEtBQUt0QjtRQUNmL0ksS0FBSztRQUNMLE1BQU9BLEtBQUssRUFBRztZQUNaLEVBQUNvSyxJQUFJLE1BQVFwSyxDQUFBQSxLQUFLLEtBQU0sU0FBU2lmLElBQUl3akMsSUFBSSxNQUFPeG1ELENBQUFBLEtBQUtnOUIsRUFBRTd1QixFQUFDOzs7SUFHN0QsT0FBT25PO0FBQ1Q7QUNsQ0E7Ozs7Q0FJRyxTQUNVMm1EO0lBT1g7O0tBRUcsR0FDSHI1RCxZQUFZczVELE1BQWU7UUFNM0I7Ozs7Ozs7U0FPRyxHQUNILElBQWtCLENBQUFDLGtCQUFBLEdBQUcsT0FDbkJDLGlCQUNBcjZDLE1BQ0F5dkM7WUFFQSxJQUFJLENBQUM2SyxhQUFhLENBQUNELGlCQUFpQnI2QyxNQUFNeXZDO1lBQzFDLElBQUksQ0FBQ3p2QyxJQUFJLEdBQUdBO1lBRVosSUFBSXZNLFdBQVc0bUQsa0JBQWtCO2dCQUMvQixJQUFJLENBQUNFLGFBQWEsR0FBR0Y7Z0JBQ3JCLElBQUksQ0FBQzU1QyxJQUFJLEdBQUc7O1lBR2QsSUFBSSxPQUFPNDVDLG9CQUFvQixVQUFVO2dCQUN2QyxJQUFJLENBQUN0MEIsS0FBSyxHQUFHczBCO2dCQUNiLElBQUksQ0FBQzU1QyxJQUFJLEdBQUc7O1lBR2QsTUFBTSxJQUFJLENBQUNzNEMsU0FBUztRQUN0QjtRQUVBOzs7U0FHRyxHQUNILElBQUssQ0FBQXlCLEtBQUEsR0FBRztZQUNOLElBQUksQ0FBQ3owQixLQUFLLEdBQUduakM7WUFDYixJQUFJLENBQUMyM0QsYUFBYSxHQUFHMzNEO1lBQ3JCLElBQUksQ0FBQzZkLElBQUksR0FBRztZQUNaLElBQUksQ0FBQ1QsSUFBSSxHQUFHcGQ7WUFDWixJQUFJLENBQUM2M0QsZ0JBQWdCLEdBQUc7UUFDMUI7O1FBR0EsSUFBYSxDQUFBSCxhQUFBLEdBQUcsQ0FDZEQsaUJBQ0FyNkMsTUFDQXl2Qzs7WUFHQSxJQUFJenZDLFFBQVF5dkMsZUFBZSxDQUFDNEssaUJBQWlCOztZQUc3QyxJQUFJLENBQUMsSUFBSSxDQUFDRixNQUFNLElBQUksQ0FBQ0UsaUJBQWlCO2dCQUNwQyxNQUFNLElBQUk1NUQsTUFBTTs7WUFHbEIsSUFDRTQ1RCxtQkFDQSxPQUFPQSxvQkFBb0IsWUFDM0IsQ0FBQzVtRCxXQUFXNG1ELGtCQUNaO2dCQUNBLE1BQU0sSUFBSTU1RCxNQUFNOztZQUdsQixJQUFJLE9BQU80NUQsb0JBQW9CLFVBQVU7O2dCQUV2QyxJQUFJNUssZUFBZTRLLG9CQUFvQixJQUFJO2dCQUUzQyxNQUFNSyxjQUFjaEIsaUJBQWlCVztnQkFDckMsSUFDRUEsbUJBQW1CLFFBQ2xCSyxDQUFBQSxlQUFlLFFBQ2RBLGdCQUFnQixNQUNmLENBQUNqTCxlQUFlaUwsZ0JBQWdCMTZDLEtBQUtVLEVBQUUsR0FDMUM7b0JBQ0EsTUFBTSxJQUFJamdCLE1BQ1I7OztRQUlSOzs7UUFJQSxLQUFBcTRELFVBQVUsR0FBRyxJQUFNLElBQUksQ0FBQzJCLGdCQUFnQjs7O1FBSXhDLElBQVMsQ0FBQTFCLFNBQUEsR0FBRztZQUNWLElBQUksQ0FBQzBCLGdCQUFnQixHQUFHLElBQUlubkQsUUFBUSxPQUFPOEssU0FBUzBpQjtnQkFDbEQsSUFBSSxJQUFJLENBQUNyZ0IsSUFBSSxLQUFLLFVBQVU7b0JBQzFCLE9BQU9yQyxRQUFRLElBQUksQ0FBQzJuQixLQUFlOztnQkFHckMsSUFBSSxJQUFJLENBQUN3MEIsYUFBYSxJQUFJLE9BQU8sSUFBSSxDQUFDQSxhQUFhLEtBQUssVUFBVTtvQkFDaEUsSUFBSTt3QkFDRixJQUFJLENBQUN4MEIsS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDdzBCLGFBQWE7c0JBQ3JDLE9BQU8xK0MsR0FBRzt3QkFDVixPQUFPaWxCLE9BQ0wsSUFBSXJnQyxNQUFNLDhDQUE4Q29iLEVBQUMsQ0FBRTs7b0JBRy9EdUMsUUFBUSxJQUFJLENBQUMybkIsS0FBSzs7WUFFdEI7WUFFQSxPQUFPLElBQUksQ0FBQzAwQixnQkFBZ0I7UUFDOUI7O1FBR0EsSUFBUSxDQUFBRSxRQUFBLEdBQUc7WUFDVCxJQUFJLElBQUksQ0FBQzUwQixLQUFLLEVBQUU7Z0JBQ2QsT0FBTyxJQUFJLENBQUNBLEtBQUs7O1lBR25CLElBQUksSUFBSSxDQUFDL2xCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQytsQixLQUFLLEVBQUU7Z0JBQzVCLE9BQU8sSUFBSSxDQUFDQSxLQUFLOztZQUduQixNQUFNLElBQUl0bEMsTUFDUixnR0FBZ0c7UUFFcEc7UUFFQSxJQUFRLENBQUEwMkQsUUFBQSxHQUFHLElBQU0sSUFBSSxDQUFDMTJDLElBQUksS0FBSztRQWhJN0IsSUFBSSxDQUFDZzZDLGdCQUFnQixHQUFHO1FBQ3hCLElBQUksQ0FBQ04sTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQzE1QyxJQUFJLEdBQUc7O0FBK0hmO0FDbkpNLE1BQU1rdkMsa0JBQWtCLE9BQzdCaUwsVUFBVSxtQ0FBbUMsRUFDN0Mxb0QsVUFBVSxJQUFJLEVBQ2Qyb0QsY0FBYyxDQUFDO0lBRWYsTUFBTWxvRCxTQUFTK0UsVUFBVTtRQUFDO0tBQWdCO0lBRTFDLElBQUlXLFVBQVU7SUFDZCxJQUFJeWlELGVBQWU7SUFDbkIsR0FBRztRQUNELE1BQU03MkIsa0JBQWtCLElBQUk5bEI7UUFDNUIsTUFBTXVuQixZQUFZbHlCLFdBQVcsSUFBTXl3QixnQkFBZ0I1bEIsS0FBSyxJQUFJbk07UUFDNUQsSUFBSTtZQUNGLE1BQU1jLFdBQVcsTUFBTStuRCxNQUFNSCxTQUFTO2dCQUNwQ3pwRCxRQUFRO2dCQUNSaUgsUUFBUTZyQixnQkFBZ0I3ckIsTUFBTTtZQUMvQjtZQUNELE1BQU00aUQsU0FBU2hvRCxTQUFTVixPQUFPLENBQUNnTCxHQUFHLENBQUMsbUJBQW1CO1lBQ3ZEM0ssT0FBTyxTQUFTLG9CQUFvQnFvRCxPQUFNLENBQUU7WUFDNUNGLGVBQWVFLE9BQU8xMUQsU0FBUyxDQUFDLEdBQUcsSUFBRztVQUN0QyxPQUFPdVcsR0FBRztZQUNWbEosT0FBTyxRQUFRLG9DQUFvQ2lvRCxRQUFTLEdBQUUvK0M7WUFDOURpL0MsZUFBZTtpQkFDUDtZQUNSbDBDLGFBQWE4ZTs7WUFFUm8xQixpQkFBaUIsU0FBUyxFQUFFemlELFVBQVV3aUQsYUFBYTtJQUU1RCxPQUFPQztBQUNUO01DVWFHO0lBa0NYOzs7Ozs7Ozs7OztLQVdHLEdBQ0hwNkQsWUFBWTR1QixHQUFXLEVBQUVsdUIsT0FBNkI7UUFyQ3RELElBQVMsQ0FBQW9hLFNBQUEsR0FFTDtRQXdHSixJQUFXLENBQUFrNkMsV0FBQSxHQUFHO1lBQ1osT0FBTyxJQUFJLENBQUNscEMsU0FBUyxHQUFHLGNBQWM7UUFDeEM7UUFFQSxLQUFBdXVDLFVBQVUsR0FBRyxDQUFDQztZQUNaLElBQUksQ0FBQ0EsT0FBTyxHQUFHQTtZQUNmLElBQUksQ0FBQ3BGLFNBQVMsR0FBRyxJQUFJLENBQUNvRixPQUFPLENBQzFCMzFELE9BQU8sQ0FBQyxRQUFRLE1BQ2hCQSxPQUFPLENBQUMsU0FBUztRQUN0QjtRQUVBLEtBQUFtcUQsZUFBZSxHQUFHLE9BQ2hCaUwsU0FDQTFvRDtZQUVBLE1BQU1rcEQsT0FBTyxNQUFNLElBQUksQ0FBQ04sWUFBWTtZQUNwQyxJQUFJLENBQUNNLFFBQVFBLFNBQVMsT0FBTztnQkFDM0IsSUFBSSxDQUFDTixZQUFZLEdBQUduTCxnQkFDbEJpTCxXQUFXLElBQUksQ0FBQ3I1RCxPQUFPLENBQUM4NUQsZUFBZSxFQUN2Q25wRCxXQUFXLElBQUksQ0FBQzNRLE9BQU8sQ0FBQys1RCxtQkFBbUI7Z0JBRTdDLE9BQU8sSUFBSSxDQUFDUixZQUFZOztZQUUxQixPQUFPTTtRQUNUO1FBRUEsSUFBZ0IsQ0FBQUcsZ0JBQUEsR0FBRyxJQUFNLElBQUksQ0FBQ0MsWUFBWSxFQUFFbkM7UUFFNUMsSUFBZ0IsQ0FBQTlNLGdCQUFBLEdBQUcsSUFBTXgwQyxRQUFRLElBQUksQ0FBQ3dqRCxnQkFBZ0I7UUFFdEQ7Ozs7Ozs7U0FPRyxHQUNILEtBQUFFLFdBQVcsR0FBRyxPQUNaejdDLE1BQ0EwN0M7WUFFQSxJQUFJLENBQUMxN0MsS0FBS1UsRUFBRSxFQUFFO2dCQUNaLE1BQU0sSUFBSWpnQixNQUFNOztZQUdsQjs7O2FBR0csR0FDSCxJQUFJLElBQUksQ0FBQ2s3RCxNQUFNLEtBQUszN0MsS0FBS1UsRUFBRSxJQUFJLElBQUksQ0FBQ2s3QyxjQUFjLEVBQUU7Z0JBQ2xELElBQUksQ0FBQ2pwRCxNQUFNLENBQ1QsUUFDQTtnQkFFRixPQUFPLElBQUksQ0FBQ2lwRCxjQUFjOztZQUc1QixJQUFJLElBQUksQ0FBQ0QsTUFBTSxFQUFFO2dCQUNmLE1BQU0sSUFBSWw3RCxNQUNSOztZQUlKLElBQ0UsQ0FBQyxJQUFJLENBQUNvN0Qsa0JBQWtCLE1BQU0sSUFBSSxDQUFDQyxJQUFJLEtBQ3ZDLENBQUMsSUFBSSxDQUFDdjZELE9BQU8sQ0FBQ3c2RCxzQkFBc0IsRUFDcEM7Z0JBQ0EsSUFBSSxDQUFDcHBELE1BQU0sQ0FDVCxRQUNBOzs7WUFLSixJQUFJLENBQUNncEQsTUFBTSxHQUFHMzdDLEtBQUtVLEVBQUU7WUFDckIsSUFBSSxDQUFDaU0sU0FBUyxHQUFHO1lBRWpCLE1BQU1xdkMsa0JBQWtCLElBQUksQ0FBQ0MsU0FBUyxDQUNwQ2o4QyxNQUNBMDdDLHFCQUNBLElBQUksQ0FBQy91QyxTQUFTO1lBRWhCLElBQUksQ0FBQ3V2QyxRQUFRLENBQUNsOEM7WUFFZCxNQUFNbThDLFlBQVksSUFBSSxDQUFDQyxjQUFjO1lBRXJDLElBQUksQ0FBQ1IsY0FBYyxHQUFHdG9ELFFBQVF1NkIsR0FBRyxDQUFDO2dCQUFDbXVCO2dCQUFpQkc7YUFBVSxFQUFFdCtDLElBQUksQ0FDbEUsQ0FBQzVGLFNBQVdBLE1BQU0sQ0FBQyxFQUFFO1lBR3ZCLElBQUk7Z0JBQ0Z4Qyw0QkFBNEIsSUFBSSxDQUFDNG1ELDZCQUE2QjtnQkFDOUQsT0FBTyxNQUFNLElBQUksQ0FBQ1QsY0FBYztjQUNoQyxPQUFPdGpELEtBQUs7Z0JBQ1osSUFBSSxJQUFJLENBQUNna0QsOEJBQThCLEVBQUU7O29CQUV2QyxJQUFJLENBQUNDLGVBQWU7dUJBQ2Y7b0JBQ0wsSUFBSSxDQUFDQyxjQUFjOztnQkFFckIsTUFBTWxrRDs7UUFFVjtRQUVBLElBQVMsQ0FBQTJqRCxTQUFBLEdBQUcsQ0FDVmo4QyxNQUNBMDdDLHFCQUNBak0sY0FFQSxJQUFJLENBQUN5SCxZQUFZLENBQUNrRCxrQkFBa0IsQ0FDbENzQixxQkFDQTE3QyxNQUNBeXZDO1FBR0osS0FBQXlNLFFBQVEsR0FBRyxDQUFDbDhDO1lBQ1Y7OzthQUdHLEdBQ0gsSUFBSSxDQUFDQSxJQUFJLEdBQUdBO1lBQ1osSUFBSSxDQUFDMjdDLE1BQU0sR0FBRzM3QyxLQUFLVSxFQUFFOztZQUVyQixJQUFJLENBQUMrN0MsS0FBSyxHQUFHO2dCQUFFLEdBQUd6OEMsSUFBSTtZQUFBO1FBQ3hCO1FBRUE7Ozs7Ozs7Ozs7OztTQVlHLEdBQ0gsS0FBQXU4QyxlQUFlLEdBQUcsT0FBT3JxRDtZQUN2QixNQUFNLElBQUksQ0FBQ3NwRCxZQUFZLEVBQUVsbUIsV0FBV3BqQztRQUN0QztRQUVBOztTQUVHLEdBQ0gsSUFBYyxDQUFBa3FELGNBQUEsR0FBRztZQUNmLElBQUksQ0FBQyxJQUFJLENBQUNULE1BQU0sRUFBRTtnQkFDaEIsTUFBTWw3RCxNQUNKOztZQUlKLE1BQU0wN0QsWUFBWSxJQUFJLENBQUNPLGFBQWE7WUFDcEMsSUFBSSxJQUFJLENBQUNsQixZQUFZLEVBQUV4RSxnQkFBZ0JtRixXQUFXO2dCQUNoRCxJQUFJLENBQUN4cEQsTUFBTSxDQUNULFFBQ0E7Z0JBRUYsT0FBTyxNQUFNd3BEOztZQUdmLElBQUksSUFBSSxDQUFDWCxZQUFZLEVBQUV6MEIsYUFBYSxJQUFJLENBQUN3bEIsZ0JBQWdCLElBQUk7Z0JBQzNELElBQUksQ0FBQzU1QyxNQUFNLENBQ1QsUUFDQTtnQkFHRjs7WUFHRixNQUFNLElBQUksQ0FBQ3NtRCx5QkFBeUI7WUFFcEMsSUFBSSxDQUFDYixRQUFRLEdBQUcsQ0FBRyxNQUFJLENBQUN1RCxNQUFNLENBQUssSUFBQW5uRCxXQUFVLENBQUU7WUFDL0MsTUFBTW1vRCxlQUFlLElBQUksQ0FBQzlXLE9BQU87WUFDakMsSUFBSSxDQUFDNlcsYUFBYSxHQUFHbjhCLGdCQUFnQm84QjtZQUNyQyxPQUFPLE1BQU1BO1FBQ2Y7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUFILGNBQWMsR0FBRyxPQUFPdHFEO1lBQ3RCLElBQUksQ0FBQ1MsTUFBTSxDQUFDLFFBQVE7O1lBR3BCLE9BQU8sSUFBSSxDQUFDcU4sSUFBSTtZQUNoQixPQUFPLElBQUksQ0FBQ3k4QyxLQUFLO1lBQ2pCLE9BQU8sSUFBSSxDQUFDZCxNQUFNO1lBRWxCLElBQUksQ0FBQ2h2QyxTQUFTLEdBQUc7WUFFakIsTUFBTSxJQUFJLENBQUM0dkMsZUFBZSxDQUFDcnFEO1lBQzNCMkQsK0JBQStCLElBQUksQ0FBQ3dtRCw2QkFBNkI7WUFFakUsSUFBSSxDQUFDbkYsWUFBWSxDQUFDc0QsS0FBSztZQUV2QixJQUFJLENBQUNvQyx1QkFBdUIsR0FBR2g2RDtZQUMvQixJQUFJLENBQUM0MkQsa0JBQWtCLEdBQUc1MkQ7WUFDMUIsSUFBSSxDQUFDMjJELG1CQUFtQixHQUFHMzJEO1FBQzdCO1FBRUEsS0FBQWk2RCxnQkFBZ0IsR0FBRyxPQUFPNzhDO1lBQ3hCLElBQUksQ0FBQzg4QyxzQkFBc0IsR0FBRyxJQUFJLENBQUNDLGNBQWMsQ0FHL0MsUUFBUSxVQUFVO2dCQUFFLzhDO1lBQUksR0FBSTtnQkFBRWc5QyxnQkFBZ0I7WUFBSTtZQUVwRCxNQUFNaHFELFdBQVcsTUFBTSxJQUFJLENBQUM4cEQsc0JBQXNCO1lBQ2xELElBQUksQ0FBQ0Esc0JBQXNCLENBQUM5K0MsT0FBTyxDQUNqQyxJQUFPLElBQUksQ0FBQzgrQyxzQkFBc0IsR0FBR2w2RDtZQUd2QyxPQUFPLElBQUksQ0FBQzY0RCxXQUFXLENBQUN6b0QsU0FBU2dOLElBQUksRUFBRWhOLFNBQVNpcUQsWUFBWTtRQUM5RDtRQUVBOztTQUVHLEdBQ0gsS0FBQUMsb0JBQW9CLEdBQUcsT0FDckJsOUMsTUFDQXE2QztZQUVBNWtELDRCQUE0QixJQUFJLENBQUM0bUQsNkJBQTZCO1lBQzlELE1BQU0sSUFBSSxDQUFDcEQseUJBQXlCO1lBRXBDLElBQUksQ0FBQ3RzQyxTQUFTLEdBQUc7WUFDakIsTUFBTSxJQUFJLENBQUNzdkMsU0FBUyxDQUFDajhDLE1BQU1xNkMsaUJBQWlCLElBQUksQ0FBQzF0QyxTQUFTO1lBRTFELElBQUksQ0FBQ3V2QyxRQUFRLENBQUNsOEM7Ozs7WUFJZCxJQUFJLENBQUN1NUMsbUJBQW1CO1FBQzFCO1FBRUE7Ozs7Ozs7OztTQVNHLEdBQ0gsS0FBQXo5QyxFQUFFLEdBQUcsQ0FDSFosV0FDQTJuQjtZQUVBLElBQUksQ0FBQyxJQUFJLENBQUNsbkIsU0FBUyxDQUFDVCxVQUFVLEVBQUU7Z0JBQzlCLElBQUksQ0FBQ1MsU0FBUyxDQUFDVCxVQUFVLEdBQUcsRUFBRTs7WUFHaEMsSUFBSSxDQUFDdkksTUFBTSxDQUFDLFNBQVMsQ0FBdUIsc0JBQUF1SSxVQUFpQjtZQUM3RCxJQUFJLENBQUNTLFNBQVMsQ0FBQ1QsVUFBVSxFQUFFbFgsS0FBSzYrQjtZQUNoQyxPQUFPO2dCQUNMLElBQUksQ0FBQzdtQixHQUFHLENBQUNkLFdBQVcybkI7WUFDdEI7UUFDRjtRQUVBOztTQUVHLEdBQ0gsS0FBQTdtQixHQUFHLEdBQUcsQ0FDSmQsV0FDQTJuQjtZQUVBLElBQUksQ0FBQyxJQUFJLENBQUNsbkIsU0FBUyxDQUFDVCxVQUFVLEVBQUU7Z0JBQzlCLElBQUksQ0FBQ1MsU0FBUyxDQUFDVCxVQUFVLEdBQUcsRUFBRTs7WUFHaEMsSUFBSSxDQUFDdkksTUFBTSxDQUFDLFNBQVMsQ0FBeUIsd0JBQUF1SSxVQUFpQjtZQUMvRCxJQUFJLENBQUNTLFNBQVMsQ0FBQ1QsVUFBVSxHQUFHLElBQUksQ0FBQ1MsU0FBUyxDQUFDVCxVQUFVLEVBQUVwRCxPQUNyRCxDQUFDcEUsUUFBVUEsVUFBVW12QjtRQUV6QjtRQUVBOztTQUVHLEdBQ0gsSUFBeUIsQ0FBQW8yQix5QkFBQSxHQUFHO3dFQUUxQixJQUFJLENBQUMyRCx1QkFBdUIsR0FBR3I4QixnQkFDN0IsSUFBSWp0QixRQUE0QixDQUFDOEssU0FBUzBpQjtnQkFDeEMsSUFBSSxDQUFDeTRCLG1CQUFtQixHQUFHbjdDO2dCQUMzQixJQUFJLENBQUNvN0Msa0JBQWtCLEdBQUcxNEI7O1FBR2hDO1FBY0EsSUFBYyxDQUFBcThCLGNBQUEsR0FBRyxDQUNmMThDLE1BQ0FpbUIsS0FDQTlHLE1BQ0FqVjtZQUlBLElBQUksQ0FBQ2hZLE1BQU0sQ0FBQyxTQUFTLFdBQVc4TixLQUFJLGVBQWdCaW1CLElBQUcsQ0FBRSxFQUFFO2dCQUN6RGhyQixTQUFTa2tCO2dCQUNUalY7WUFDRDtRQUNIO1FBRUEsSUFBZSxDQUFBeXlDLGVBQUEsR0FBRyxDQUNoQjM4QyxNQUNBaW1CLEtBQ0ExekI7WUFFQSxJQUFJLENBQUNMLE1BQU0sQ0FDVCxTQUNBLENBQVUsU0FBQThOLEtBQTBCLHFCQUFBaW1CLElBQWdCLFlBQUExekIsU0FBU2lELE1BQU0sRUFBRSxFQUNyRTtnQkFDRWpEO1lBQ0Q7UUFFTDtRQUVBLElBQVksQ0FBQXFxRCxZQUFBLEdBQUcsQ0FBQzU4QyxNQUFjaW1CLEtBQWE1dkI7WUFDekMsSUFBSSxDQUFDbkUsTUFBTSxDQUFDLFNBQVMsVUFBVThOLEtBQUksa0JBQW1CaW1CLElBQUcsQ0FBRSxFQUFFO2dCQUMzREE7Z0JBQ0E1dkI7WUFDRDtRQUNIO1FBRUEsS0FBQWltRCxjQUFjLEdBQUcsT0FDZnQ4QyxNQUNBaW1CLEtBQ0E5RyxNQUNBcitCLFVBRW1DLEVBQUU7WUFFckMsSUFBSSxDQUFDQSxRQUFReTdELGNBQWMsRUFBRTtnQkFDM0IsTUFBTTFwRCxRQUFRdTZCLEdBQUcsQ0FBQztvQkFDaEIsSUFBSSxDQUFDcXBCLFlBQVksQ0FBQzRCLFVBQVU7b0JBQzVCLElBQUksQ0FBQ2dFLHNCQUFzQjtpQkFDNUI7O2dCQUVELElBQUk7b0JBQ0YsTUFBTSxJQUFJLENBQUNRLG1CQUFtQjtrQkFDOUIsT0FBT3poRCxHQUFHOzs7O29CQUlWLE1BQU0sSUFBSSxDQUFDMi9DLFlBQVksRUFBRS9DO29CQUN6QixNQUFNLElBQUksQ0FBQzZFLG1CQUFtQjs7O1lBR2xDLE1BQU1DLGdCQUFnQixJQUFJLENBQUNDLG1CQUFtQixDQUFDajhEO1lBQy9DLElBQUk7Z0JBQ0YsSUFBSXlSO2dCQUNKLElBQUksQ0FBQ21xRCxjQUFjLENBQUMxOEMsTUFBTWltQixLQUFLOUcsTUFBTTI5QjtnQkFDckMsT0FBUTk4QztvQkFDTixLQUFLO3dCQUNIek4sV0FBVyxNQUFNLElBQUksQ0FBQ3lxRCxhQUFhLENBQUNuZ0QsR0FBRyxDQUFDb3BCLEtBQUs2MkI7d0JBQzdDO29CQUNGLEtBQUs7d0JBQ0h2cUQsV0FBVyxNQUFNLElBQUksQ0FBQ3lxRCxhQUFhLENBQUN4L0MsTUFBTSxDQUFDeW9CLEtBQUs2MkI7d0JBQ2hEO29CQUNGLEtBQUs7d0JBQ0h2cUQsV0FBVyxNQUFNLElBQUksQ0FBQ3lxRCxhQUFhLENBQUNoUixJQUFJLENBQUMvbEIsS0FBSzlHLE1BQU0yOUI7d0JBQ3BEO29CQUNGLEtBQUs7d0JBQ0h2cUQsV0FBVyxNQUFNLElBQUksQ0FBQ3lxRCxhQUFhLENBQUNDLEdBQUcsQ0FBQ2gzQixLQUFLOUcsTUFBTTI5Qjt3QkFDbkQ7b0JBQ0YsS0FBSzt3QkFDSHZxRCxXQUFXLE1BQU0sSUFBSSxDQUFDeXFELGFBQWEsQ0FBQ2gxQyxLQUFLLENBQUNpZSxLQUFLOUcsTUFBTTI5Qjt3QkFDckQ7b0JBQ0YsS0FBSzt3QkFDSHZxRCxXQUFXLE1BQU0sSUFBSSxDQUFDeXFELGFBQWEsQ0FBQ2w4RCxPQUFPLENBQUNtbEMsS0FBSzYyQjt3QkFDakQ7b0JBQ0Y7d0JBQ0UsTUFBTSxJQUFJOThELE1BQU07O2dCQUVwQixJQUFJLENBQUMyOEQsZUFBZSxDQUFJMzhDLE1BQU1pbUIsS0FBSzF6QjtnQkFDbkMsSUFBSSxDQUFDaWtELG1CQUFtQixHQUFHO2dCQUMzQixPQUFPLElBQUksQ0FBQzBHLGNBQWMsQ0FBQzNxRDs7Y0FFM0IsT0FBTzZJLEVBQU0sc0NBQXNDO2dCQUNuREEsRUFBRStoRCxpQkFBaUIsR0FBR0wsY0FBY2pyRCxPQUFPLEdBQUcsc0JBQXNCO2dCQUNwRSxJQUFJLENBQUMya0QsbUJBQW1CLElBQUk7Z0JBQzVCLElBQUlwN0MsRUFBRTdJLFFBQVEsRUFBRTtvQkFDZCxJQUFJLENBQUNxcUQsWUFBWSxDQUFDNThDLE1BQU1pbUIsS0FBSzdxQixFQUFFN0ksUUFBUTtzRkFFdkMsSUFDRTZJLEVBQUU3SSxRQUFRLENBQUM0c0IsSUFBSSxDQUFDenBCLElBQUksS0FBS3JDLFdBQVdDLGFBQWEsSUFDakQsQ0FBQyxJQUFJLENBQUNtakQsWUFBWSxDQUFDQyxRQUFRLElBQzNCO3dCQUNBLElBQUksSUFBSSxDQUFDRixtQkFBbUIsR0FBRyxHQUFHOzRCQUNoQyxNQUFNN2pELE1BQU1lLGNBQWMsSUFBSSxDQUFDOGlELG1CQUFtQjs7d0JBRXBELE1BQU0sSUFBSSxDQUFDQyxZQUFZLENBQUM2QixTQUFTO3dCQUNqQyxPQUFPLE1BQU0sSUFBSSxDQUFDZ0UsY0FBYyxDQUFPdDhDLE1BQU1pbUIsS0FBSzlHLE1BQU1yK0I7O29CQUUxRCxPQUFPLElBQUksQ0FBQ284RCxjQUFjLENBQUM5aEQsRUFBRTdJLFFBQVE7dUJBQ2hDO29CQUNMLElBQUksQ0FBQ3FxRCxZQUFZLENBQUM1OEMsTUFBTWltQixLQUFLN3FCOztvQkFFN0IsTUFBTUE7OztRQUdaO1FBRUEsS0FBQXlCLEdBQUcsR0FBRyxDQUFJb3BCLEtBQWExSztZQUNyQixPQUFPLElBQUksQ0FBQytnQyxjQUFjLENBQWEsT0FBT3IyQixLQUFLLE1BQU07Z0JBQ3ZEMUs7WUFDRDtRQUNIO1FBRUEsSUFBRyxDQUFBMGhDLEdBQUEsR0FBRyxDQUNKaDNCLEtBQ0E5RyxNQUNBNUQ7WUFFQSxPQUFPLElBQUksQ0FBQytnQyxjQUFjLENBQU8sT0FBT3IyQixLQUFLOUcsTUFBTTtnQkFBRTVEO1lBQU07UUFDN0Q7UUFFQSxJQUFJLENBQUF5d0IsSUFBQSxHQUFHLENBQ0wvbEIsS0FDQTlHLE1BQ0E1RDtZQUVBLE9BQU8sSUFBSSxDQUFDK2dDLGNBQWMsQ0FBTyxRQUFRcjJCLEtBQUs5RyxNQUFNO2dCQUFFNUQ7WUFBTTtRQUM5RDtRQUVBLElBQUssQ0FBQXZULEtBQUEsR0FBRyxDQUNOaWUsS0FDQTlHLE1BQ0E1RDtZQUVBLE9BQU8sSUFBSSxDQUFDK2dDLGNBQWMsQ0FBTyxTQUFTcjJCLEtBQUs5RyxNQUFNO2dCQUFFNUQ7WUFBTTtRQUMvRDtRQUVBLEtBQUEvZCxNQUFNLEdBQUcsQ0FBSXlvQixLQUFhMUs7WUFDeEIsT0FBTyxJQUFJLENBQUMrZ0MsY0FBYyxDQUFhLFVBQVVyMkIsS0FBSyxNQUFNO2dCQUMxRDFLO1lBQ0Q7UUFDSDtRQUVBLEtBQUE2aEMsaUJBQWlCLEdBQUcsQ0FDbEI3cUQ7WUFFQSxNQUFNLEVBQUU0c0IsSUFBSSxFQUFFM3BCLE1BQU0sRUFBRSxHQUFHakQ7WUFDekIsTUFBTXNGLE1BQU0sSUFBSTlYO1lBQ2hCOFgsSUFBSWhYLE9BQU8sR0FBRyxxQkFBcUJzK0IsS0FBS3pwQixJQUFJLEtBQUt5cEIsS0FBS3QrQixPQUFPLEVBQUU7WUFDL0RnWCxJQUFJbkMsSUFBSSxHQUFHeXBCLEtBQUt6cEIsSUFBSTtZQUNwQm1DLElBQUk0M0MsYUFBYSxHQUFHdHdCLEtBQUtzd0IsYUFBYTtZQUN0QzUzQyxJQUFJdEYsUUFBUSxHQUFHQTtZQUNmc0YsSUFBSXJDLE1BQU0sR0FBR0E7WUFDYixPQUFPcUM7UUFDVDtRQUVBLEtBQUFxbEQsY0FBYyxHQUFHLENBQUkzcUQ7WUFDbkIsTUFBTTRzQixPQUFPNXNCLFNBQVM0c0IsSUFBSTtZQUMxQixJQUFJN3BCLGdCQUFnQi9DLFdBQVc7Z0JBQzdCLE1BQU0sSUFBSSxDQUFDNnFELGlCQUFpQixDQUFDN3FEOztZQUUvQixPQUFPNHNCO1FBQ1Q7UUFFQSxLQUFBb2UsYUFBYSxHQUFHLENBQUNyMEI7WUFDZixJQUFJLENBQUNoWCxNQUFNLENBQUMsU0FBUyxzQkFBc0JnWCxNQUFNbEosSUFBSSxFQUFFLEVBQUVrSjtZQUN6RCxJQUFJLENBQUMsSUFBSSxDQUFDaE8sU0FBUyxFQUFFOztZQUdyQixLQUFLLE1BQU04Z0MsWUFBWSxJQUFJLENBQUM5Z0MsU0FBUyxDQUFDa3lCLEdBQUcsSUFBSSxFQUFFLENBQUU7Z0JBQy9DNE8sU0FBUzl5Qjs7O1lBSVgsS0FBSyxNQUFNOHlCLFlBQVksSUFBSSxDQUFDOWdDLFNBQVMsQ0FBQ2dPLE1BQU1sSixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUU7Z0JBQ3ZEZzhCLFNBQVM5eUI7O1FBRWI7UUFFQTs7U0FFRyxHQUNILElBQU8sQ0FBQWs4QixPQUFBLEdBQUc7WUFDUixJQUFJLENBQUMsSUFBSSxDQUFDOFYsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDYyxLQUFLLEVBQUU7Z0JBQy9CLE1BQU1oOEQsTUFDSjs7WUFHSixJQUFJLENBQUMsSUFBSSxDQUFDczFELFNBQVMsRUFBRSxNQUFNdDFELE1BQU07WUFDakMsSUFBSSxDQUFDLElBQUksQ0FBQzIzRCxRQUFRLEVBQUUsTUFBTTMzRCxNQUFNOztZQUdoQyxJQUFJLENBQUMrNkQsWUFBWSxHQUFHLElBQUlsRyxtQkFBbUIsSUFBSTtZQUUvQyxJQUFJLENBQUMzaUQsTUFBTSxDQUFDLFFBQVE7WUFDcEIsT0FBTyxNQUFNLElBQUksQ0FBQzZvRCxZQUFZLENBQUMzVixPQUFPLENBQUMsSUFBSSxDQUFDaVksZ0JBQWdCO1FBQzlEO1FBRUEsSUFBWSxDQUFBaEksWUFBQSxHQUFHO1lBQ2IsTUFBTXBsQixVQUFVO1lBQ2hCLE9BQ0UsSUFBSSxDQUFDdEUsU0FBUyxJQUNkLGtDQUNFLElBQUksQ0FBQzB2QixJQUFJLEdBQUcsU0FBUyxVQUN2QixHQUFJcHJCLFFBQU8sQ0FBRTtRQUVqQjtRQUVBLEtBQUFxdEIsWUFBWSxHQUFHLENBQUMzeEI7WUFDZCxJQUFJLENBQUNBLFNBQVMsR0FBR0E7UUFDbkI7UUFFQTs7U0FFRyxHQUNILElBQWtCLENBQUF5dkIsa0JBQUEsR0FBRyxJQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMxQixNQUFNO1FBRXhDLElBQW1CLENBQUFxRCxtQkFBQSxHQUFHLENBQ3BCajhELFVBRUk7WUFDRnk2QixRQUFRO1lBQ1IxcEIsU0FBUztZQUNUcVksUUFBUTtRQUNUO1lBRUQsTUFBTW9iLFFBQ0p4a0MsUUFBUXk3RCxjQUFjLElBQUksQ0FBQyxJQUFJLENBQUNoOUMsSUFBSSxHQUFHcGQsWUFBWSxJQUFJLENBQUMwekQsU0FBUztZQUNuRSxNQUFNMEgsZ0JBQWdCajRCLFFBQVE7Z0JBQUVhLGVBQWViO1lBQUssSUFBS25qQztZQUV6RCxJQUFJLENBQUNyQixRQUFRK1EsT0FBTyxHQUFHLHNCQUFzQixFQUFFO2dCQUM3Qy9RLFFBQVErUSxPQUFPLEdBQUc7b0JBQ2hCLEdBQUcvUSxRQUFRK1EsT0FBTztvQkFDbEIsdUJBQXVCa0M7OztZQUkzQixPQUFPO2dCQUNMd25CLFFBQVE7b0JBQ05sUCxTQUFTLElBQUksQ0FBQzZ1QyxNQUFNO29CQUNwQnJDLGVBQWUsSUFBSSxDQUFDaUMsZ0JBQWdCO29CQUNwQzBDLFNBQVMsSUFBSSxDQUFDeHVDLEdBQUc7b0JBQ2pCLEdBQUdsdUIsUUFBUXk2QixNQUFNO2dCQUNsQjtnQkFDRDFwQixTQUFTO29CQUNQLEdBQUcwckQsYUFBYTtvQkFDaEIsb0JBQ0V6OEQsUUFBUXk3RCxjQUFjLElBQUksQ0FBQyxJQUFJLENBQUNoOUMsSUFBSSxHQUNoQyxjQUNBLElBQUksQ0FBQzYxQyxXQUFXO29CQUN0QixtQkFBbUIsSUFBSSxDQUFDQyxZQUFZO29CQUNwQyxHQUFHdjBELFFBQVErUSxPQUFPO2dCQUNuQjtnQkFDRCxHQUFHL1EsUUFBUW9wQixNQUFNO2dCQUNqQixHQUFHLElBQUksQ0FBQ3BwQixPQUFPLENBQUMyOEQsa0JBQWtCOztRQUV0QztRQUVBLElBQVMsQ0FBQTVILFNBQUEsR0FBRztZQUNWLElBQUksQ0FBQyxJQUFJLENBQUNZLFlBQVksRUFBRSxPQUFPO1lBRS9CLE9BQU8sSUFBSSxDQUFDQSxZQUFZLENBQUN5RCxRQUFRO1FBQ25DO1FBRUEsS0FBQTBCLDZCQUE2QixHQUFHLENBQzlCMXlDO1lBRUEsSUFBSUEsTUFBTWxKLElBQUksS0FBSyxXQUFXO2dCQUM1QixJQUFJLENBQUM5TixNQUFNLENBQUMsU0FBUztnQkFDckIsSUFBSSxDQUFDcXJDLGFBQWEsQ0FBQztvQkFBRXY5QixNQUFNO29CQUFtQm9tQixRQUFRO2dCQUFLO21CQUN0RCxJQUFJbGQsTUFBTWxKLElBQUksS0FBSyxVQUFVO2dCQUNsQyxJQUFJLENBQUM5TixNQUFNLENBQUMsU0FBUztnQkFDckIsSUFBSSxDQUFDcXJDLGFBQWEsQ0FBQztvQkFBRXY5QixNQUFNO29CQUFtQm9tQixRQUFRO2dCQUFJOztRQUU5RDs7UUEvb0JFLElBQUksQ0FBQ3BYLEdBQUcsR0FBR0E7O1FBR1gsSUFBSSxDQUFDMHFDLE1BQU0sR0FBRzU0RCxTQUFTNDREOztRQUd2QixNQUFNZ0UsZUFBZTU4RCxVQUNqQkEsVUFDQztZQUNDK3dDLFNBQVMsZ0JBQWtCOztRQUdqQyxJQUFJLENBQUNBLE9BQU8sR0FBRzZyQixhQUFhN3JCLE9BQU8sSUFBSSxnQkFBa0I7UUFDekQsSUFBSSxDQUFDd3BCLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQ3hwQixPQUFPO1FBRXpCLElBQUksSUFBSSxDQUFDQSxPQUFPLEVBQUU7WUFDaEIsSUFBSSxDQUFDd29CLFlBQVksR0FBR25MLGdCQUNsQnB1RCxTQUFTODVELGlCQUNUOTVELFNBQVMrNUQscUJBQ1QvNUQsU0FBUzY4RDs7UUFJYixJQUFJLENBQUM3OEQsT0FBTyxHQUFHO1lBQ2IyUSxTQUFTO1lBQ1Rtc0QsaUJBQWlCO1lBQ2pCLEdBQUdGLFlBQVk7O1FBR2pCLElBQUksSUFBSSxDQUFDckMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDdjZELE9BQU8sQ0FBQys4RCxVQUFVLEVBQUU7WUFDekMsSUFBSSxDQUFDLzhELE9BQU8sQ0FBQys4RCxVQUFVLEdBQUcsSUFBSUMsb0RBQVcsQ0FBQztnQkFDeEM1NEIsV0FBVztnQkFDWDg0QixnQkFBZ0I7WUFDakI7O1FBR0gsSUFBSSxDQUFDdkQsVUFBVSxDQUNiLElBQUksQ0FBQzM1RCxPQUFPLENBQUM0NUQsT0FBTyxJQUFJO1FBRzFCLElBQUksQ0FBQ3NDLGFBQWEsR0FBR2lCLDhDQUFLQSxDQUFDcjhELE1BQU0sQ0FBQztZQUNoQyxHQUFHLElBQUksQ0FBQ2QsT0FBTztZQUNmNDVELFNBQVMsSUFBSSxDQUFDQSxPQUFPO1FBQ3RCOztRQUdELElBQUksQ0FBQ0ssWUFBWSxHQUFHO1FBQ3BCLElBQUksQ0FBQ2tCLGFBQWEsR0FBRztRQUNyQixJQUFJLENBQUNkLGNBQWMsR0FBRzs7UUFHdEIsSUFBSSxDQUFDanZDLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUMydkMsOEJBQThCLEdBQ2pDLElBQUksQ0FBQy82RCxPQUFPLEVBQUUrNkQ7OztRQUloQixJQUFJLENBQUNwRixZQUFZLEdBQUcsSUFBSWdELGFBQWEsSUFBSSxDQUFDQyxNQUFNO1FBQ2hELElBQUksQ0FBQ2xELG1CQUFtQixHQUFHO1FBRTNCLElBQUksQ0FBQzZHLGdCQUFnQixHQUFHO1FBRXhCLElBQUksQ0FBQ25yRCxNQUFNLEdBQUdjLFdBQVcwcUQsYUFBYXhyRCxNQUFNLElBQ3hDd3JELGFBQWF4ckQsTUFBTSxHQUNuQixJQUFNOztJQTBTWixJQUFJMnFELHNCQUFtQjtRQUNyQixPQUFPLElBQUksQ0FBQ1YsdUJBQXVCOztJQUdyQyxJQUFJNUQsK0JBQTRCO1FBQzlCLE9BQU8sSUFBSSxDQUFDNEQsdUJBQXVCLEVBQUVoOEIsa0JBQWtCOztJQUd6RCxJQUFJdTdCLFlBQVM7UUFDWCxPQUFPLElBQUksQ0FBQ08sYUFBYTs7QUE2UjVCO0FDcHNCRDs7Q0FFRyxTQUNVaUM7SUFrQ1g5OUQsWUFDRSs5RCxZQVFLLEVBQ0xyZ0MsSUFBMEI7UUFsQ25CLElBQVEsQ0FBQXZuQixRQUFBLEdBQWE7UUFNcEIsSUFBeUIsQ0FBQTZuRCx5QkFBQSxHQUFzQixFQUFFO1FBQzFDLEtBQUFDLHdCQUF3QixHQUFHci9DLE9BQzFDO1FBd0lGOzs7Ozs7O1NBT0csR0FDSCxLQUFBZzhDLFdBQVcsR0FBRyxPQUNaejdDLE1BQ0ErbEI7WUFFQSxJQUFJL2xCLEtBQUtTLElBQUksS0FBSyxhQUFhO2dCQUM3QlQsS0FBS1UsRUFBRSxHQUFHO2dCQUNWLE9BQU8sSUFBSSxDQUFDdzhDLG9CQUFvQixDQUFDbDlDLE1BQW9CK2xCOztZQUV2RCxJQUFJMDFCLGNBQWM7Z0JBQ2hCLE9BQU8sSUFBSSxDQUFDNzNCLFlBQVksQ0FBQzYzQixXQUFXLENBQUN6N0MsTUFBTStsQjtZQUM3QztZQUNBLElBQUkvbEIsS0FBS1MsSUFBSSxLQUFLLFNBQVM7Z0JBQ3pCZzdDLGNBQWM7b0JBQ1osT0FBTyxJQUFJLENBQUM3M0IsWUFBWSxDQUFDaTVCLGdCQUFnQixDQUFDNzhDO2dCQUM1Qzs7WUFHRixNQUFNKytDLHNCQUFzQixNQUFNbGlELG1CQUNoQyxJQUFJLENBQUNpaUQsd0JBQXdCLEVBQzdCLElBQU1yRDs7WUFHUixJQUFJc0QscUJBQXFCQyxJQUFJO2dCQUMzQixJQUFJLENBQUNDLG1CQUFtQixDQUFDbC9DLGdCQUFnQixDQUFDZy9DLG9CQUFvQkMsRUFBRTs7WUFHbEUsSUFBSSxDQUFDSCx5QkFBeUIsQ0FBQzc2RCxJQUFJLENBQ2pDLElBQUksQ0FBQzhYLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQzZOO2dCQUM3QixJQUFJQSxNQUFNa2QsTUFBTSxFQUFFO29CQUNoQixNQUFNcTRCLGlCQUFpQixJQUFJLENBQUNELG1CQUFtQixDQUFDOStDLEtBQUssQ0FDbERySSxNQUFNLENBQUMsQ0FBQ2xFLE9BQVNBLEtBQUs2MUMsUUFBUSxFQUM5QjFsRCxHQUFHLENBQUMsQ0FBQzZQLE9BQVNBLEtBQUswTSxHQUFHO29CQUV6QixJQUFJLENBQUMzTixNQUFNLENBQ1QsUUFDQSxDQUE2Qyw0Q0FBQXVzRCxlQUFlbG5ELElBQUksQ0FDOUQsTUFDRCxDQUFFO29CQUVMLElBQUlrbkQsZUFBZXI1RCxNQUFNLEdBQUcsR0FBRzt3QkFDN0IsSUFBSSxDQUFDczVELFVBQVUsQ0FBQzs0QkFDZEMsT0FBTzs0QkFDUEMsbUJBQW1CO2dDQUNqQi8rQyxLQUFLO29DQUFFZy9DLEtBQUtKO2dDQUFjOzRCQUMzQjs0QkFDRHB2QyxNQUFNO2dDQUFDO29DQUFFeXZDLE9BQU87b0NBQU94bUQsV0FBVztnQ0FBQzs2QkFBRzt3QkFDdkMsR0FBRWlJLEtBQUssQ0FBQyxDQUFDMUk7NEJBQ1IsSUFBSSxDQUFDM0YsTUFBTSxDQUFDLFNBQVMsNEJBQTRCMkY7d0JBQ25EOzs7O1lBTVIsSUFBSSxDQUFDdW1ELHlCQUF5QixDQUFDNzZELElBQUksQ0FDakMsSUFBSSxDQUFDOFgsRUFBRSxDQUFDLGdCQUFnQixDQUFDNk47Z0JBQ3ZCLE1BQU0sRUFBRS9WLElBQUksRUFBRWlVLE9BQU8sRUFBRSxHQUFHOEI7Z0JBQzFCLElBQUkzSixLQUFLVSxFQUFFLEtBQUs5TSxLQUFLd1gsVUFBVSxDQUFDMUssRUFBRSxFQUFFO29CQUNsQyxJQUFJLENBQUMvTixNQUFNLENBQ1QsUUFDQTtvQkFFRjs7Z0JBRUYsSUFBSSxDQUFDQSxNQUFNLENBQUMsUUFBUSxDQUFvQyxtQ0FBQWlCLEtBQUswTSxHQUFHLENBQUU7Z0JBQ2xFLE1BQU1rL0MsVUFBVSxJQUFJejJELEtBQUs7b0JBQ3ZCNjZCLGNBQWMsSUFBSSxDQUFDQSxZQUFZO29CQUMvQm5qQixNQUFNN00sS0FBSzZNLElBQUk7b0JBQ2ZDLElBQUk5TSxLQUFLOE0sRUFBRTtvQkFDWG1IO29CQUNBMmhDLGFBQWEsSUFBSSxDQUFDeVYsbUJBQW1CO2dCQUN0QztnQkFDRE8sUUFBUTcrQyxLQUFLLENBQUNrSyxzQkFBc0IsQ0FBQ2pYO2dCQUNyQyxJQUFJLENBQUNxckQsbUJBQW1CLENBQUM3K0MsWUFBWSxDQUFDby9DOztZQUkxQyxJQUFJLENBQUNYLHlCQUF5QixDQUFDNzZELElBQUksQ0FDakMsSUFBSSxDQUFDOFgsRUFBRSxDQUFDLGFBQWEsT0FBTzZOO2dCQUMxQixNQUFNLEVBQUUvVixJQUFJLEVBQUVpVSxPQUFPLEVBQUUsR0FBRzhCO2dCQUMxQixJQUFJM0osS0FBS1UsRUFBRSxLQUFLOU0sS0FBS3dYLFVBQVUsQ0FBQzFLLEVBQUUsRUFBRTtvQkFDbEMsSUFBSSxDQUFDL04sTUFBTSxDQUNULFNBQ0E7b0JBRUY7Ozs7Z0JBSUYsTUFBTThzRCxVQUFVLElBQUksQ0FBQ1IsbUJBQW1CLENBQUN6K0MsUUFBUSxDQUFDNU0sS0FBSzZNLElBQUksRUFBRTdNLEtBQUs4TSxFQUFFO2dCQUNwRSxJQUFJKytDLFNBQVM7b0JBQ1gsTUFBTUEsUUFBUXZULHNCQUFzQixDQUFDdmlDO3VCQUNoQzs7O29CQUdMLE1BQU0rMUMsa0JBQWtCLElBQUkzMkQsS0FBSzt3QkFDL0I2NkIsY0FBYyxJQUFJLENBQUNBLFlBQVk7d0JBQy9CbmpCLE1BQU03TSxLQUFLNk0sSUFBSTt3QkFDZkMsSUFBSTlNLEtBQUs4TSxFQUFFO3dCQUNYbUg7d0JBQ0EyaEMsYUFBYSxJQUFJLENBQUN5VixtQkFBbUI7d0JBQ3JDL3pCLFNBQVM7b0JBQ1Y7b0JBQ0QsTUFBTXcwQixnQkFBZ0JwaUQsR0FBRzs7O1lBSy9CLE9BQU95aEQ7UUFDVDtRQUVBOzs7Ozs7O1NBT0csR0FDSCxLQUFBdkMsY0FBYyxHQUFHLE9BQU90cUQ7WUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQzB4QixZQUFZLENBQUM1akIsSUFBSSxFQUFFO2dCQUMzQjs7WUFFRixNQUFNcU8sU0FBUyxJQUFJLENBQUN1VixZQUFZLENBQUM1akIsSUFBSSxFQUFFVTtZQUN2QyxNQUFNaS9DLFNBQVMsSUFBSSxDQUFDLzdCLFlBQVksQ0FBQ25VLEdBQUc7WUFDcEMsTUFBTStzQyxpQkFBaUIsSUFBTSxJQUFJLENBQUM1NEIsWUFBWSxDQUFDNDRCLGNBQWMsQ0FBQ3RxRDtZQUM5RCxNQUFNMkssbUJBQW1CLElBQUksQ0FBQ2lpRCx3QkFBd0IsRUFBRSxJQUN0RHRDO1lBRUYsSUFBSW51QyxRQUFRO2dCQUNWc3dDLGtCQUFrQmlCLFlBQVksQ0FBQzNoRCxNQUFNLENBQUMwaEQsU0FBU3R4Qzs7WUFFakQsSUFBSSxDQUFDd3dDLHlCQUF5QixDQUFDdGxELE9BQU8sQ0FBQyxDQUFDNGhDLGFBQWVBO1lBQ3ZELElBQUksQ0FBQzBqQix5QkFBeUIsR0FBRyxFQUFFO1lBQ25DLElBQUksQ0FBQ0ksbUJBQW1CLENBQUNsL0MsZ0JBQWdCLENBQUNuZDtRQUM1QztRQUVBOzs7Ozs7OztTQVFHLEdBQ0gsS0FBQWtaLEVBQUUsR0FBRyxDQUNIWixXQUNBMm5CO1lBRUEsT0FBTyxJQUFJLENBQUNlLFlBQVksQ0FBQzluQixFQUFFLENBQUNaLFdBQVcybkI7UUFDekM7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUE3bUIsR0FBRyxHQUFHLENBQ0pkLFdBQ0EybkI7WUFFQSxPQUFPLElBQUksQ0FBQ2UsWUFBWSxDQUFDNW5CLEdBQUcsQ0FBQ2QsV0FBVzJuQjtRQUMxQztRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQWp2QixJQUFJLEdBQUcsQ0FBQzZNLE1BQWNDO1lBQ3BCLE9BQU8sSUFBSTNYLEtBQUs7Z0JBQ2Q2NkIsY0FBYyxJQUFJLENBQUNBLFlBQVk7Z0JBQy9CbGpCLElBQUlBO2dCQUNKRCxNQUFNQTtnQkFDTitvQyxhQUFhLElBQUksQ0FBQ3lWLG1CQUFtQjtZQUN0QztRQUNIO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFZLGVBQWUsR0FBRyxPQUFPamdDO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDZ0UsWUFBWSxDQUFDbTVCLGNBQWMsQ0FHckMsUUFBUSxVQUFVbjlCLE1BQU07Z0JBQUVvOUIsZ0JBQWdCO1lBQUk7UUFDbEQ7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQW1DLFVBQVUsR0FBRyxPQUFPdi9CLE9BQTBCLEVBQUU7WUFDOUMsTUFBTTVzQixXQUFXLE1BQU0sSUFBSSxDQUFDNHdCLFlBQVksQ0FBQzZvQixJQUFJLENBRzNDLFVBQVU3c0I7WUFDWixNQUFNemYsUUFBUSxFQUFFO1lBQ2hCLEtBQUssTUFBTUUsS0FBS3JOLFNBQVNtTixLQUFLLENBQUU7Z0JBQzlCLE1BQU12TSxPQUFPLElBQUk3SyxLQUFLO29CQUNwQjY2QixjQUFjLElBQUksQ0FBQ0EsWUFBWTtvQkFDL0JsakIsSUFBSUwsRUFBRXpNLElBQUksQ0FBQzhNLEVBQUU7b0JBQ2JELE1BQU1KLEVBQUV6TSxJQUFJLENBQUM2TSxJQUFJO29CQUNqQm9ILFNBQVN4SCxFQUFFd0gsT0FBTztvQkFDbEI0SyxpQkFBaUJwUyxFQUFFc08sZ0JBQWdCO29CQUNuQzg2QixVQUFVN3BCLEtBQUt3L0IsS0FBSztvQkFDcEI1VixhQUFhLElBQUksQ0FBQ3lWLG1CQUFtQjtnQkFDdEM7Z0JBQ0RyckQsS0FBSytNLEtBQUssQ0FBQ2tLLHNCQUFzQixDQUFDeEssRUFBRXpNLElBQUk7Z0JBQ3hDLE1BQU1BLEtBQUt3NEMsaUJBQWlCLENBQUMvckMsRUFBRXpNLElBQUksQ0FBQytYLFFBQVEsRUFBRTtnQkFDOUMsSUFBSWlVLEtBQUt3L0IsS0FBSyxFQUFFO29CQUNkLElBQUksQ0FBQ0gsbUJBQW1CLENBQUM3K0MsWUFBWSxDQUFDeE07O2dCQUV4Q3VNLE1BQU1uYyxJQUFJLENBQUM0UDs7WUFFYixPQUFPO2dCQUNMLEdBQUdaLFFBQVE7Z0JBQ1htTixPQUFPQTs7UUFFWDtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQTIvQyxjQUFjLEdBQUcsT0FBT2xnQyxPQUE4QixFQUFFO1lBQ3RELE9BQU8sSUFBSSxDQUFDZ0UsWUFBWSxDQUFDNm9CLElBQUksQ0FHM0IsQ0FBYSxjQUFFN3NCO1FBQ25CO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBbWdDLHVCQUF1QixHQUFHLE9BQ3hCbmdDLE9BQXVDLEVBQUU7WUFFekMsT0FBTyxJQUFJLENBQUNnRSxZQUFZLENBQUM2b0IsSUFBSSxDQUczQixDQUFRLFNBQUU3c0I7UUFDZDtRQUVBOztTQUVHLEdBQ0gsSUFBSyxDQUFBb2dDLEtBQUEsR0FBRztZQUNOLE9BQU8sSUFBSSxDQUFDcDhCLFlBQVksQ0FBQ3RtQixHQUFHLENBQW1CLFFBQVE7UUFDekQ7UUFFQTs7Ozs7Ozs7U0FRRyxHQUNILEtBQUEyaUQsU0FBUyxHQUFHLE9BQ1Z2L0MsSUFDQXcvQyxlQUNBQyxvQkFDQXhFLFFBQ0F5RTtZQUVBLE9BQU8sTUFBTSxJQUFJLENBQUN4OEIsWUFBWSxDQUFDNm9CLElBQUksQ0FBc0IsWUFBWTtnQkFDbkUvckM7Z0JBQ0F3L0M7Z0JBQ0FFO2dCQUNBLEdBQUl6RSxVQUFVLE9BQU87b0JBQUU3dUMsU0FBUzZ1QztnQkFBTSxJQUFLLEVBQUU7Z0JBQzdDLEdBQUl3RSxzQkFBc0IsT0FBTztvQkFBRUE7Z0JBQWtCLElBQUssRUFBRTtZQUM3RDtRQUNIO1FBRUE7Ozs7Ozs7U0FPRyxHQUNILElBQWEsQ0FBQUUsYUFBQSxHQUFHLE9BQ2QzL0MsSUFDQXcvQyxlQUNBQyxvQkFDQXhFO1lBRUEsT0FBTyxNQUFNLElBQUksQ0FBQ3NFLFNBQVMsQ0FDekJ2L0MsSUFDQXcvQyxlQUNBQyxvQkFDQXhFLFFBQ0E7UUFFSjtRQUVBOzs7U0FHRyxHQUNILEtBQUFqZixVQUFVLEdBQUcsT0FBT2lmO1lBQ2xCLE9BQU8sTUFBTSxJQUFJLENBQUMvM0IsWUFBWSxDQUFDdG1CLEdBQUcsQ0FDaEMsWUFDQXErQyxTQUFTO2dCQUFFN3VDLFNBQVM2dUM7WUFBTSxJQUFLO1FBRW5DO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBMkUsWUFBWSxHQUFHLE9BQU81L0MsSUFBWWk3QztZQUNoQyxPQUFPLE1BQU0sSUFBSSxDQUFDLzNCLFlBQVksQ0FBQzNsQixNQUFNLENBQUMsWUFBWTtnQkFDaER5QztnQkFDQSxHQUFJaTdDLFNBQVM7b0JBQUU3dUMsU0FBUzZ1QztnQkFBTSxJQUFLLEVBQUU7WUFDdEM7UUFDSDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBNEUsYUFBYSxHQUFHLE9BQU8vVTs7O1lBR3JCLElBQUk1M0MsT0FBTyxJQUFJLENBQUMrTSxLQUFLLENBQUNSLEtBQUssQ0FBQ2hkLElBQUksQ0FBQyxDQUFDa2QsSUFBTUEsRUFBRUMsR0FBRyxLQUFLa3JDLFlBQVluckMsRUFBRTZxQixPQUFPO1lBQ3ZFLElBQUksQ0FBQ3QzQixNQUFNOztnQkFFVCxNQUFNLENBQUNzbkMsVUFBVXNsQixPQUFPLEdBQUdoVixTQUFTbDNCLEtBQUssQ0FBQztnQkFDMUMxZ0IsT0FBTyxJQUFJN0ssS0FBSztvQkFDZDY2QixjQUFjLElBQUksQ0FBQ0EsWUFBWTtvQkFDL0JuakIsTUFBTXk2QjtvQkFDTng2QixJQUFJOC9DO29CQUNKaFgsYUFBYSxJQUFJLENBQUN5VixtQkFBbUI7b0JBQ3JDL3pCLFNBQVM7Z0JBQ1Y7Z0JBQ0QsTUFBTXQzQixLQUFLMEosR0FBRzs7WUFHaEIsT0FBTzFKO1FBQ1Q7UUFFQTs7Ozs7U0FLRyxHQUNPLEtBQUFzcEQsb0JBQW9CLEdBQUcsT0FDL0JsOUMsTUFDQXE2QztZQUVBLE1BQU02Qyx1QkFBdUIsSUFDM0IsSUFBSSxDQUFDdDVCLFlBQVksQ0FBQ3M1QixvQkFBb0IsQ0FBQ2w5QyxNQUFNcTZDO1lBQy9DLE9BQU8sTUFBTXg5QyxtQkFBbUIsSUFBSSxDQUFDaWlELHdCQUF3QixFQUFFLElBQzdENUI7UUFFSjtRQTFlRSxJQUFJdnFELFNBQWlCb0U7UUFDckIsSUFBSUMsV0FBcUI7UUFDekIsSUFBSSxPQUFPNG5ELGlCQUFpQixVQUFVO1lBQ3BDNW5ELFdBQVd1bkIsTUFBTXZuQixZQUFZQTtZQUM3QnJFLFNBQVM0ckIsTUFBTTVyQixVQUFVQTtZQUN6QixJQUFJNHJCLE1BQU04RSxtQkFBbUJBO2VBQ3hCO1lBQ0xyc0IsV0FBVzRuRCxhQUFhcjlELE9BQU8sRUFBRXlWLFlBQVlBO1lBQzdDckUsU0FBU2lzRCxhQUFhcjlELE9BQU8sRUFBRW9SLFVBQVVBO1lBQ3pDLElBQUlpc0QsYUFBYXI5RCxPQUFPLEVBQUU4aEMsbUJBQW1CQTs7UUFHL0Noc0IsVUFBVTFFLFFBQVFxRTtRQUNsQixJQUFJLENBQUNyRSxNQUFNLEdBQUcrRSxVQUFVO1lBQUM7U0FBUztRQUNsQyxNQUFNK29ELG9CQUFvQi9vRCxVQUFVO1lBQUM7U0FBYztRQUVuRCxJQUFJLE9BQU9rbkQsaUJBQWlCLFVBQVU7WUFDcEMsSUFBSSxDQUFDaDdCLFlBQVksR0FBRyxJQUFJcTNCLGFBQWEyRCxjQUFjO2dCQUNqRHRDLGdDQUFnQztnQkFDaEMsR0FBRy85QixJQUFJO2dCQUNQdm5CO2dCQUNBckUsUUFBUTh0RDtZQUNUO2VBQ0k7WUFDTCxJQUFJLENBQUM3OEIsWUFBWSxHQUFHLElBQUlxM0IsYUFBYTJELGFBQWFlLE1BQU0sRUFBRTtnQkFDeERyRCxnQ0FBZ0M7Z0JBQ2hDLEdBQUdzQyxhQUFhcjlELE9BQU87Z0JBQ3ZCeVY7Z0JBQ0FyRSxRQUFROHREO1lBQ1Q7WUFFRCxNQUFNOXZCLFVBQVVPO1lBQ2hCLElBQUlQLFNBQVM7Z0JBQ1gsTUFBTWpGLFVBQVV0bEMsT0FBTyxDQUFDdXFDLFFBQVFsd0IsSUFBSSxDQUFDLENBQUNsSyxXQUFXO2dCQUNqRCxNQUFNcTFCLGFBQWEsQ0FBRyxFQUFBK0UsUUFBUTNFLEtBQUssSUFBSTJFLFFBQVExRSxLQUFLLENBQUksR0FBQTBFLFFBQVFsb0IsS0FBSyxFQUFFO2dCQUN2RSxNQUFNMmpCLFlBQVksSUFBSSxDQUFDeEksWUFBWSxDQUFDa3lCLFlBQVk7Z0JBQ2hELElBQUksQ0FBQ2x5QixZQUFZLENBQUNtNkIsWUFBWSxDQUM1QixHQUFHM3hCLFVBQVMsU0FBVVYsUUFBTyxPQUFRRSxXQUFVLENBQUU7OztRQUt2RCxJQUFJLENBQUNxekIsbUJBQW1CLEdBQUcsSUFBSXQvQztRQUMvQixJQUFJLENBQUMrZ0Qsa0JBQWtCLEdBQUcsSUFBSXYvQyw4QkFDNUIsSUFBSSxDQUFDODlDLG1CQUFtQjtRQUcxQixJQUFJLE9BQU9MLGlCQUFpQixVQUFVO1lBQ3BDLE1BQU01K0MsT0FBTzQrQyxhQUFhNStDLElBQUk7WUFDOUIsTUFBTStsQixRQUFRNjRCLGFBQWE3NEIsS0FBSyxJQUFJNjRCLGFBQWFyRSxhQUFhO1lBQzlELElBQUl2NkMsTUFBTTtnQkFDUixJQUFJVSxLQUFLVixLQUFLVSxFQUFFO2dCQUNoQixJQUFJVixLQUFLUyxJQUFJLEtBQUssYUFBYTtvQkFDN0JDLEtBQUs7O2dCQUVQLElBQUlBLElBQUk7b0JBQ04sSUFBSWkrQyxrQkFBa0JpQixZQUFZLENBQUM1cEMsR0FBRyxDQUFDNG9DLGFBQWFlLE1BQU0sR0FBR2ovQyxLQUFLO3dCQUNoRSxJQUFJLENBQUMvTixNQUFNLENBQ1QsUUFDQSxDQUEwQyx5Q0FBQXFOLEtBQUtTLElBQUksS0FBSyxjQUFjLHNCQUFzQkMsR0FBNkM7O29CQUc3SVYsS0FBS1UsRUFBRSxHQUFHQTtvQkFDVmkrQyxrQkFBa0JpQixZQUFZLENBQUM5aEQsR0FBRyxDQUFDOGdELGFBQWFlLE1BQU0sR0FBR2ovQyxJQUFJLElBQUk7O2dCQUVuRSxJQUFJLENBQUMrNkMsV0FBVyxDQUFDejdDLE1BQU0rbEIsT0FBTy9rQixLQUFLLENBQUMsQ0FBQzFJO29CQUNuQyxJQUFJLENBQUMzRixNQUFNLENBQUMsU0FBUyxxQkFBcUIyRjtnQkFDNUM7Ozs7SUFLQyxPQUFPcW9ELG9CQUFvQjFwRCxJQU1qQztRQUNDLE1BQU0rSSxPQUFPL0ksS0FBSytJLElBQUk7UUFDdEIsSUFBSSxDQUFDQSxLQUFLVSxFQUFFLEVBQUU7WUFDWixJQUFJekosS0FBSytJLElBQUksQ0FBQ1MsSUFBSSxLQUFLLGFBQWE7Z0JBQ2xDVCxLQUFLVSxFQUFFLEdBQUc7bUJBQ0w7Z0JBQ0wsTUFBTSxJQUFJamdCLE1BQU07OztRQUdwQixJQUFJLENBQUN3VyxLQUFLOHVCLEtBQUssSUFBSSxDQUFDOXVCLEtBQUtzakQsYUFBYSxFQUFFO1lBQ3RDLElBQUl0akQsS0FBSytJLElBQUksQ0FBQ1MsSUFBSSxLQUFLLGVBQWV4SixLQUFLK0ksSUFBSSxDQUFDUyxJQUFJLEtBQUssU0FBUztnQkFDaEUsTUFBTSxJQUFJaGdCLE1BQ1I7OztRQUlOLElBQUk4aUMsV0FBV283QixrQkFBa0JpQixZQUFZLENBQUN0aUQsR0FBRyxDQUFDckcsS0FBSzBvRCxNQUFNLEdBQUczL0MsS0FBS1UsRUFBRTtRQUN2RSxJQUFJLENBQUM2aUIsVUFBVTtZQUNiQSxXQUFXLElBQUlvN0Isa0JBQWtCO2dCQUFFLEdBQUcxbkQsSUFBSTtnQkFBRStJO1lBQUk7O1FBRWxELE9BQU91akI7O0lBR1Q7O0tBRUcsR0FDSCxJQUFJNWlCLFFBQUs7UUFDUCxPQUFPLElBQUksQ0FBQysvQyxrQkFBa0I7OztBQWxJakIvQixrQkFBQWlCLFlBQVksR0FBbUMsSUFBSXppRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9nZW4vY29vcmRpbmF0b3IvaW5kZXgudHM/N2NlYSIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcy50cz83YzI3Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9nZW4vZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC50cz9kZjY3Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9nZW4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC50cz8yZTFjIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMudHM/MmRkZSIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC50cz9jYzk2Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cy50cz83YzdhIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy90eXBlcy50cz80NzlkIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLmNsaWVudC50cz9hZmVkIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9ycGMvY3JlYXRlQ2xpZW50LnRzP2M2YTgiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdXRpbHMudHM/Njg2NiIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvaGVscGVycy9wbGF0Zm9ybXMudHM/M2QzMCIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvbG9nZ2VyLnRzPzg3NDYiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3JwYy9yZXRyeWFibGUudHM/NmQzYyIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvcnRjL2NvZGVjcy50cz9kZWI1Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9ydGMvRGlzcGF0Y2hlci50cz9kMDFlIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9ydGMvSWNlVHJpY2tsZUJ1ZmZlci50cz9mZjZlIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9oZWxwZXJzL2NvbmN1cnJlbmN5LnRzP2RlMWQiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3N0b3JlL3J4VXRpbHMudHM/Nzk0MSIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvc3RvcmUvQ2FsbGluZ1N0YXRlLnRzP2NhMjMiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3N0b3JlL3N0YXRlU3RvcmUudHM/MDE4YSIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvc29ydGluZy9jb21wYXJhdG9yLnRzPzhhNzIiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2hlbHBlcnMvcGFydGljaXBhbnRVdGlscy50cz84OTg4Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9zb3J0aW5nL3BhcnRpY2lwYW50cy50cz81ODViIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9zb3J0aW5nL3ByZXNldHMudHM/YmM0OCIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvc3RvcmUvQ2FsbFN0YXRlLnRzPzU3YjgiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3J0Yy9CYXNlUGVlckNvbm5lY3Rpb24udHM/MmIxZCIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvcnRjL1RyYW5zY2VpdmVyQ2FjaGUudHM/ZDZmZiIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvaGVscGVycy9lbnN1cmVFeGhhdXN0ZWQudHM/ZjRkMSIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvcnRjL2hlbHBlcnMvdHJhY2tzLnRzP2U2OTgiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3J0Yy92aWRlb0xheWVycy50cz9iYjcwIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9ydGMvaGVscGVycy9zZHAudHM/NDY4ZiIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvcnRjL1B1Ymxpc2hlci50cz80MGJkIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9ydGMvU3Vic2NyaWJlci50cz82OGQzIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9ydGMvc2lnbmFsLnRzP2Q3MWIiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3J0Yy9oZWxwZXJzL3J0Y0NvbmZpZ3VyYXRpb24udHM/ZGFhNyIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvaGVscGVycy9wcm9taXNlLnRzPzAwZDkiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2hlbHBlcnMvbGF6eS50cz9hM2E0Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy90aW1lcnMvd29ya2VyLmJ1aWxkLnRzPzU5N2QiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3RpbWVycy9pbmRleC50cz85MjdhIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9TdHJlYW1TZnVDbGllbnQudHM/NWQyMyIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvZXZlbnRzL2NhbGwudHM/NzRmMyIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvZXZlbnRzL2NhbGwtcGVybWlzc2lvbnMudHM/OTlmMCIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvZXZlbnRzL2ludGVybmFsLnRzP2FlN2IiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2V2ZW50cy9tdXRlcy50cz8yMDhmIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9oZWxwZXJzL2FycmF5LnRzPzdlNWYiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2V2ZW50cy9wYXJ0aWNpcGFudC50cz85ZjVjIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9ldmVudHMvc3BlYWtlci50cz82NjAzIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9ldmVudHMvY2FsbEV2ZW50SGFuZGxlcnMudHM/MjU5YiIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvc3RhdHMvdXRpbHMudHM/NDA3ZSIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvaGVscGVycy9icm93c2Vycy50cz9hODQ2Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9zdGF0cy9DYWxsU3RhdGVTdGF0c1JlcG9ydGVyLnRzP2Q5OTIiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2NsaWVudC1kZXRhaWxzLnRzPzM3OGUiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3N0YXRzL1NmdVN0YXRzUmVwb3J0ZXIudHM/MjFjNSIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvaGVscGVycy9WaWV3cG9ydFRyYWNrZXIudHM/Nzg0YyIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvaGVscGVycy9EeW5hc2NhbGVNYW5hZ2VyLnRzPzQxNzgiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL3Blcm1pc3Npb25zL1Blcm1pc3Npb25zQ29udGV4dC50cz84YThlIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9DYWxsVHlwZS50cz9hYjk3Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9kZXZpY2VzL0Jyb3dzZXJQZXJtaXNzaW9uLnRzPzFiZjciLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2RldmljZXMvZGV2aWNlcy50cz9iNDdmIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9kZXZpY2VzL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyLnRzP2U2MTAiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2RldmljZXMvSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZS50cz9lYTc3Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9kZXZpY2VzL0NhbWVyYU1hbmFnZXJTdGF0ZS50cz8yYzYyIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9oZWxwZXJzL2NvbXBhdGliaWxpdHkudHM/NTI5OCIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvZGV2aWNlcy9DYW1lcmFNYW5hZ2VyLnRzP2U4YTIiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2RldmljZXMvTWljcm9waG9uZU1hbmFnZXJTdGF0ZS50cz8zZjEzIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9oZWxwZXJzL3NvdW5kLWRldGVjdG9yLnRzP2NiMmYiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2hlbHBlcnMvUk5TcGVlY2hEZXRlY3Rvci50cz82ZWI1Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9kZXZpY2VzL01pY3JvcGhvbmVNYW5hZ2VyLnRzP2Y3NmYiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2RldmljZXMvU2NyZWVuU2hhcmVTdGF0ZS50cz83OWRmIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9kZXZpY2VzL1NjcmVlblNoYXJlTWFuYWdlci50cz8xMDgzIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9kZXZpY2VzL1NwZWFrZXJTdGF0ZS50cz8yOTY4Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9kZXZpY2VzL1NwZWFrZXJNYW5hZ2VyLnRzPzIxNDUiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL0NhbGwudHM/N2I1ZSIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jb25uZWN0aW9uLnRzPzYwNmYiLCJ3ZWJwYWNrOi8vY29kZXN5bmMvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vc2lnbmluZy50cz85ZWMzIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL3Rva2VuX21hbmFnZXIudHM/MDNlMiIsIndlYnBhY2s6Ly9jb2Rlc3luYy8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9sb2NhdGlvbi50cz9jZjA5Iiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudC50cz8zZjFmIiwid2VicGFjazovL2NvZGVzeW5jLy4uLy4uL3NyYy9TdHJlYW1WaWRlb0NsaWVudC50cz8xNDQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5pbXBvcnQgdHlwZSB7IEJvdW5kLCBEYWlseUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlIH0gZnJvbSAnLi4vc2hpbXMnO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEFQSUVycm9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQVBJRXJyb3Ige1xuICAvKipcbiAgICogUmVzcG9uc2UgSFRUUCBzdGF0dXMgY29kZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIFN0YXR1c0NvZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEFQSSBlcnJvciBjb2RlXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgY29kZTogbnVtYmVyO1xuICAvKipcbiAgICogQWRkaXRpb25hbCBlcnJvci1zcGVjaWZpYyBpbmZvcm1hdGlvblxuICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBkZXRhaWxzOiBBcnJheTxudW1iZXI+O1xuICAvKipcbiAgICogUmVxdWVzdCBkdXJhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGVycm9yIGluZm9cbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIGV4Y2VwdGlvbl9maWVsZHM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICogTWVzc2FnZSBkZXNjcmliaW5nIGFuIGVycm9yXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgbWVzc2FnZTogc3RyaW5nO1xuICAvKipcbiAgICogVVJMIHdpdGggYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIG1vcmVfaW5mbzogc3RyaW5nO1xuICAvKipcbiAgICogRmxhZyB0aGF0IGluZGljYXRlcyBpZiB0aGUgZXJyb3IgaXMgdW5yZWNvdmVyYWJsZSwgcmVxdWVzdHMgdGhhdCByZXR1cm4gdW5yZWNvdmVyYWJsZSBlcnJvcnMgc2hvdWxkIG5vdCBiZSByZXRyaWVkLCB0aGlzIGVycm9yIG9ubHkgYXBwbGllcyB0byB0aGUgcmVxdWVzdCB0aGF0IGNhdXNlZCBpdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICB1bnJlY292ZXJhYmxlPzogYm9vbGVhbjtcbn1cbi8qKlxuICogQWNjZXB0Q2FsbFJlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBhY2NlcHRpbmcgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBBY2NlcHRDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY2NlcHRDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBY2NlcHRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9TZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGRlZmF1bHRfZGV2aWNlOiBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbWljX2RlZmF1bHRfb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge05vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbm9pc2VfY2FuY2VsbGF0aW9uPzogTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG9wdXNfZHR4X2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcmVkdW5kYW50X2NvZGluZ19lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHNwZWFrZXJfZGVmYXVsdF9vbj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bSA9IHtcbiAgU1BFQUtFUjogJ3NwZWFrZXInLFxuICBFQVJQSUVDRTogJ2VhcnBpZWNlJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtID1cbiAgKHR5cGVvZiBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtKVtrZXlvZiB0eXBlb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZGVmYXVsdF9kZXZpY2U6IEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1pY19kZWZhdWx0X29uOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge05vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG5vaXNlX2NhbmNlbGxhdGlvbj86IE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3M7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgb3B1c19kdHhfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICByZWR1bmRhbnRfY29kaW5nX2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgc3BlYWtlcl9kZWZhdWx0X29uOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtID0ge1xuICBTUEVBS0VSOiAnc3BlYWtlcicsXG4gIEVBUlBJRUNFOiAnZWFycGllY2UnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtID1cbiAgKHR5cGVvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSlba2V5b2YgdHlwZW9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgam9pbl9haGVhZF90aW1lX3NlY29uZHM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBqb2luX2FoZWFkX3RpbWVfc2Vjb25kcz86IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tMaXN0T3B0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrTGlzdE9wdGlvbnMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrTGlzdE9wdGlvbnNcbiAgICovXG4gIGJlaGF2aW9yOiBCbG9ja0xpc3RPcHRpb25zQmVoYXZpb3JFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrTGlzdE9wdGlvbnNcbiAgICovXG4gIGJsb2NrbGlzdDogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW0gPSB7XG4gIEZMQUc6ICdmbGFnJyxcbiAgQkxPQ0s6ICdibG9jaycsXG4gIFNIQURPV19CTE9DSzogJ3NoYWRvd19ibG9jaycsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQmxvY2tMaXN0T3B0aW9uc0JlaGF2aW9yRW51bSA9XG4gICh0eXBlb2YgQmxvY2tMaXN0T3B0aW9uc0JlaGF2aW9yRW51bSlba2V5b2YgdHlwZW9mIEJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW1dO1xuXG4vKipcbiAqIEJsb2NrVXNlclJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIGJsb2NraW5nIGEgdXNlci5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tVc2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrVXNlclJlcXVlc3Qge1xuICAvKipcbiAgICogdGhlIHVzZXIgdG8gYmxvY2tcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrVXNlclJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICogQmxvY2tVc2VyUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIGJsb2NraW5nIGEgdXNlci5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tVc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja1VzZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrVXNlclJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gY2FsbCBwYXJ0aWNpcGFudHMgdG8gbm90aWZ5IHdoZW4gYSB1c2VyIGlzIGJsb2NrZWQgb24gYSBjYWxsLCBjbGllbnRzIGNhbiB1c2UgdGhpcyBldmVudCB0byBzaG93IGEgbm90aWZpY2F0aW9uLlxuICogSWYgdGhlIHVzZXIgaXMgdGhlIGN1cnJlbnQgdXNlciwgdGhlIGNsaWVudCBzaG91bGQgbGVhdmUgdGhlIGNhbGwgc2NyZWVuIGFzIHdlbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tlZFVzZXJFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrZWRVc2VyRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGJsb2NrZWRfYnlfdXNlcj86IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuYmxvY2tlZF91c2VyXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0hMU1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgaGxzPzogSExTU2V0dGluZ3NSZXF1ZXN0O1xufVxuLyoqXG4gKiBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBicm9hZGNhc3Rpbmcgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0hMU1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBobHM6IEhMU1NldHRpbmdzUmVzcG9uc2U7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgdXNlciBhY2NlcHRzIGEgbm90aWZpY2F0aW9uIHRvIGpvaW4gYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQWNjZXB0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxBY2NlcHRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmFjY2VwdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqIENhbGxDbG9zZWRDYXB0aW9uIHJlcHJlc2VudHMgYSBjbG9zZWQgY2FwdGlvbiBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxDbG9zZWRDYXB0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICBzcGVha2VyX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25cbiAgICovXG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgY2xvc2VkIGNhcHRpb25zIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY2xvc2VkX2NhcHRpb25zX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCBjbG9zZWQgY2FwdGlvbiBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY2xvc2VkX2NhcHRpb25zX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIGNsb3NlZCBjYXB0aW9ucyBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIGlzIGNyZWF0ZWQuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGNoZWNrIGlmIHRoZSByaW5naW5nXG4gKiBmaWVsZCBpcyBzZXQgdG8gdHJ1ZSBhbmQgaWYgc28sIHNob3cgdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxDcmVhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ3JlYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgbWVtYmVycyBhZGRlZCB0byB0aGlzIGNhbGxcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY3JlYXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgZGVsZXRlZC4gQ2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgbGVhdmUgdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxEZWxldGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRGVsZXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbERlbGV0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmRlbGV0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxEZWxldGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxDYWxsRHVyYXRpb25SZXBvcnQ+Pn1cbiAgICogQG1lbWJlcm9mIENhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxDYWxsRHVyYXRpb25SZXBvcnQ+Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD59XG4gICAqIEBtZW1iZXJvZiBDYWxsRHVyYXRpb25SZXBvcnRcbiAgICovXG4gIGhpc3RvZ3JhbTogQXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+O1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgbWFyayBhcyBlbmRlZCBmb3IgYWxsIGl0cyBwYXJ0aWNpcGFudHMuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGxlYXZlIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRW5kZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxFbmRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmVuZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEV2ZW50XG4gICAqL1xuICBjb21wb25lbnQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEV2ZW50XG4gICAqL1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgZW5kX3RpbWVzdGFtcDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIGludGVybmFsOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIGlzc3VlX3RhZ3M/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAga2luZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgc2V2ZXJpdHk6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBITFMgYnJvYWRjYXN0aW5nIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmhsc19icm9hZGNhc3RpbmdfZmFpbGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gSExTIGJyb2FkY2FzdGluZyBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgaGxzX3BsYXlsaXN0X3VybDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gSExTIGJyb2FkY2FzdGluZyBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RvcHBlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBDYWxsSW5ncmVzc1Jlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBpbmdyZXNzIHNldHRpbmdzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxJbmdyZXNzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsSW5ncmVzc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSVE1QSW5ncmVzc31cbiAgICogQG1lbWJlcm9mIENhbGxJbmdyZXNzUmVzcG9uc2VcbiAgICovXG4gIHJ0bXA6IFJUTVBJbmdyZXNzO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgc3RhcnRlZC4gQ2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgc3RhcnQgdGhlIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbExpdmVTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubGl2ZV9zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBvbmUgb3IgbW9yZSBtZW1iZXJzIGFyZSBhZGRlZCB0byBhIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyQWRkZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIG1lbWJlcnMgYWRkZWQgdG8gdGhpcyBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfYWRkZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgYXJlIHJlbW92ZWQgZnJvbSBhIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNZW1iZXJSZW1vdmVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBsaXN0IG9mIG1lbWJlciBJRHMgcmVtb3ZlZCBmcm9tIHRoZSBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubWVtYmVyX3JlbW92ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gb25lIG9yIG1vcmUgbWVtYmVycyBhcmUgdXBkYXRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgbWVtYmVycyB0aGF0IHdlcmUgdXBkYXRlZFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfdXBkYXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBvbmUgb3IgbW9yZSBtZW1iZXJzIGdldCBpdHMgcm9sZSB1cGRhdGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIGJ5IHJvbGUgZm9yIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIGNhcGFiaWxpdGllc19ieV9yb2xlOiB7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz4gfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgbWVtYmVycyB0aGF0IHdlcmUgdXBkYXRlZFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubWVtYmVyX2FkZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gY2FsbCBtZW1iZXJzIHdobyBkaWQgbm90IGFjY2VwdC9yZWplY3Qvam9pbiB0aGUgY2FsbCB0byBub3RpZnkgdGhleSBtaXNzZWQgdGhlIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1pc3NlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1pc3NlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMaXN0IG9mIG1lbWJlcnMgd2hvIG1pc3NlZCB0aGUgY2FsbFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgbm90aWZ5X3VzZXI6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ub3RpZmljYXRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gYWxsIGNhbGwgbWVtYmVycyB0byBub3RpZnkgdGhleSBhcmUgZ2V0dGluZyBjYWxsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIG1lbWJlcnNcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubm90aWZpY2F0aW9uXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2VcbiAgICovXG4gIGpvaW5lZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gICAqL1xuICByb2xlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2VcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgdXNlcl9zZXNzaW9uX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlPENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0Pj59XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydD4+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD59XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFxuICAgKi9cbiAgaGlzdG9ncmFtOiBBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD47XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgcmVhY3Rpb24gaXMgc2VudCBpbiBhIGNhbGwsIGNsaWVudHMgc2hvdWxkIHVzZSB0aGlzIHRvIHNob3cgdGhlIHJlYWN0aW9uIGluIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVhY3Rpb25FdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWFjdGlvbkV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVhY3Rpb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVhY3Rpb25FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlYWN0aW9uUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVhY3Rpb25FdmVudFxuICAgKi9cbiAgcmVhY3Rpb246IFJlYWN0aW9uUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlYWN0aW9uX25ld1wiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlYWN0aW9uRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogQ2FsbFJlY29yZGluZyByZXByZXNlbnRzIGEgcmVjb3JkaW5nIG9mIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWNvcmRpbmcge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdcbiAgICovXG4gIGVuZF90aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1xuICAgKi9cbiAgZmlsZW5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICBzdGFydF90aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1xuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlY29yZGluZ19mYWlsZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHJlY29yZGluZyBpcyByZWFkeVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVjb3JkaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAgICovXG4gIGNhbGxfcmVjb3JkaW5nOiBDYWxsUmVjb3JkaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlY29yZGluZ19yZWFkeVwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCByZWNvcmRpbmcgaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWNvcmRpbmdfc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHJlY29yZGluZyBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlY29yZGluZ19zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgdXNlciByZWplY3RzIGEgbm90aWZpY2F0aW9uIHRvIGpvaW4gYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVqZWN0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWplY3RlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIHJlYXNvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVqZWN0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICogQ2FsbFJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIGNyZWF0aW5nIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXF1ZXN0Pn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICBtZW1iZXJzPzogQXJyYXk8TWVtYmVyUmVxdWVzdD47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICBzZXR0aW5nc19vdmVycmlkZT86IENhbGxTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIHN0YXJ0c19hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBiYWNrc3RhZ2U6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgYmxvY2tlZF91c2VyX2lkczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYXB0aW9uaW5nOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciBhIGNhbGwgKDx0eXBlPjo8aWQ+KVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2J5OiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjdXJyZW50X3Nlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtFZ3Jlc3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgZWdyZXNzOiBFZ3Jlc3NSZXNwb25zZTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSB3aGVuIHRoZSBjYWxsIGVuZGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGVuZGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxJbmdyZXNzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGluZ3Jlc3M6IENhbGxJbmdyZXNzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBqb2luX2FoZWFkX3RpbWVfc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICByZWNvcmRpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNlc3Npb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc2Vzc2lvbj86IENhbGxTZXNzaW9uUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSB3aGVuIHRoZSBjYWxsIHdpbGwgc3RhcnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdGh1bWJuYWlscz86IFRodW1ibmFpbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpYmluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGNhbGxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBhbGwgY2FsbCBtZW1iZXJzIHRvIG5vdGlmeSB0aGV5IGFyZSBnZXR0aW5nIGNhbGxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmluZ0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJpbmdFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBtZW1iZXJzXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubm90aWZpY2F0aW9uXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB2aWRlbzogYm9vbGVhbjtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIHNlc3Npb24gZW5kc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvbkVuZGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fZW5kZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiB0aGUgcGFydGljaXBhbnQgY291bnRzIGluIGEgY2FsbCBzZXNzaW9uIGFyZSB1cGRhdGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICBhbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IG51bWJlcjsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfY291bnRfdXBkYXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHBhcnRpY2lwYW50IGpvaW5zIGEgY2FsbCBzZXNzaW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxQYXJ0aWNpcGFudFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICBwYXJ0aWNpcGFudDogQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2U7XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2pvaW5lZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgcGFydGljaXBhbnQgbGVhdmVzIGEgY2FsbCBzZXNzaW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUGFydGljaXBhbnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIHBhcnRpY2lwYW50OiBDYWxsUGFydGljaXBhbnRSZXNwb25zZTtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2xlZnRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgYWNjZXB0ZWRfYnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgZW5kZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBsaXZlX2VuZGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGxpdmVfc3RhcnRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIG1pc3NlZF9ieTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDYWxsUGFydGljaXBhbnRSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBwYXJ0aWNpcGFudHM6IEFycmF5PENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IG51bWJlcjsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgcmVqZWN0ZWRfYnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgc3RhcnRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICB0aW1lcl9lbmRzX2F0Pzogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgc2Vzc2lvbiBzdGFydHNcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5zZXNzaW9uX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBdWRpb1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGF1ZGlvPzogQXVkaW9TZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYmFja3N0YWdlPzogQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0Jyb2FkY2FzdFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGJyb2FkY2FzdGluZz86IEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtHZW9mZW5jZVNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGdlb2ZlbmNpbmc/OiBHZW9mZW5jZVNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMaW1pdHNTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBsaW1pdHM/OiBMaW1pdHNTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVjb3JkU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcmVjb3JkaW5nPzogUmVjb3JkU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JpbmdTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICByaW5nPzogUmluZ1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgc2NyZWVuc2hhcmluZz86IFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRodW1ibmFpbHM/OiBUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICB0cmFuc2NyaXB0aW9uPzogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogVmlkZW9TZXR0aW5nc1JlcXVlc3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0F1ZGlvU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdWRpbzogQXVkaW9TZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0JhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYmFja3N0YWdlOiBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0Jyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYnJvYWRjYXN0aW5nOiBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0dlb2ZlbmNlU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBnZW9mZW5jaW5nOiBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TGltaXRzU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBsaW1pdHM6IExpbWl0c1NldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVjb3JkU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICByZWNvcmRpbmc6IFJlY29yZFNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmluZ1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmluZzogUmluZ1NldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgc2NyZWVuc2hhcmluZzogU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGh1bWJuYWlsc1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdGh1bWJuYWlsczogVGh1bWJuYWlsc1NldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdHJhbnNjcmlwdGlvbjogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VmlkZW9TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHZpZGVvOiBWaWRlb1NldHRpbmdzUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsc1BlckRheVJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlPENhbGxzUGVyRGF5UmVwb3J0Pj59XG4gICAqIEBtZW1iZXJvZiBDYWxsc1BlckRheVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxDYWxsc1BlckRheVJlcG9ydD4+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsc1BlckRheVJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxzUGVyRGF5UmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsc1BlckRheVJlcG9ydFxuICAgKi9cbiAgY291bnQ6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdGVSZXNwb25zZUZpZWxkcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqIExpc3Qgb2YgY2FsbCBtZW1iZXJzXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBjYWxsX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9zdGF0dXM6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBmaXJzdF9zdGF0c190aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVGltZWxpbmVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVGltZWxpbmUge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxFdmVudD59XG4gICAqIEBtZW1iZXJvZiBDYWxsVGltZWxpbmVcbiAgICovXG4gIGV2ZW50czogQXJyYXk8Q2FsbEV2ZW50Pjtcbn1cbi8qKlxuICogQ2FsbFRyYW5zY3JpcHRpb24gcmVwcmVzZW50cyBhIHRyYW5zY3JpcHRpb24gb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblxuICAgKi9cbiAgZW5kX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblxuICAgKi9cbiAgZmlsZW5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblxuICAgKi9cbiAgc3RhcnRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICB1cmw6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCB0cmFuc2NyaXB0aW9uIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaXMgcmVhZHlcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFRyYW5zY3JpcHRpb259XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnRcbiAgICovXG4gIGNhbGxfdHJhbnNjcmlwdGlvbjogQ2FsbFRyYW5zY3JpcHRpb247XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fcmVhZHlcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaGFzIHN0b3BwZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgdXBkYXRlZCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdXBkYXRlIHRoZSBsb2NhbCBzdGF0ZSBvZiB0aGUgY2FsbC5cbiAqIFRoaXMgZXZlbnQgYWxzbyBjb250YWlucyB0aGUgY2FwYWJpbGl0aWVzIGJ5IHJvbGUgZm9yIHRoZSBjYWxsLCBjbGllbnRzIHNob3VsZCB1cGRhdGUgdGhlIG93bl9jYXBhYmlsaXR5IGZvciB0aGUgY3VycmVudC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFVwZGF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxVcGRhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGNhcGFiaWxpdGllcyBieSByb2xlIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPjsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhcGFiaWxpdGllc19ieV9yb2xlOiB7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz4gfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmVuZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBtZW1iZXIgaXMgbXV0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFVzZXJNdXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICBmcm9tX3VzZXJfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICBtdXRlZF91c2VyX2lkczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudXNlcl9tdXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5uZWxDb25maWdXaXRoSW5mbyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgYWxsb3dlZF9mbGFnX3JlYXNvbnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgYXV0b21vZDogQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBhdXRvbW9kX2JlaGF2aW9yOiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RocmVzaG9sZHN9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGF1dG9tb2RfdGhyZXNob2xkcz86IFRocmVzaG9sZHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBibG9ja2xpc3Q/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBibG9ja2xpc3RfYmVoYXZpb3I/OiBDaGFubmVsQ29uZmlnV2l0aEluZm9CbG9ja2xpc3RCZWhhdmlvckVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8QmxvY2tMaXN0T3B0aW9ucz59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGJsb2NrbGlzdHM/OiBBcnJheTxCbG9ja0xpc3RPcHRpb25zPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDb21tYW5kPn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgY29tbWFuZHM6IEFycmF5PENvbW1hbmQ+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGNvbm5lY3RfZXZlbnRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGN1c3RvbV9ldmVudHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBncmFudHM/OiB7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz4gfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBtYXJrX21lc3NhZ2VzX3BlbmRpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBtYXhfbWVzc2FnZV9sZW5ndGg6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBtdXRlczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHBhcnRpdGlvbl9zaXplPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcGFydGl0aW9uX3R0bD86IHN0cmluZyB8IG51bGw7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcG9sbHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcHVzaF9ub3RpZmljYXRpb25zOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHF1b3RlczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICByZWFjdGlvbnM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcmVhZF9ldmVudHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcmVtaW5kZXJzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHJlcGxpZXM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgc2VhcmNoOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHNraXBfbGFzdF9tc2dfdXBkYXRlX2Zvcl9zeXN0ZW1fbXNnczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICB0eXBpbmdfZXZlbnRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHVwbG9hZHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgdXJsX2VucmljaG1lbnQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW0gPSB7XG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBTSU1QTEU6ICdzaW1wbGUnLFxuICBBSTogJ0FJJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bSA9XG4gICh0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW0pW2tleW9mIHR5cGVvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEJlaGF2aW9yRW51bSA9IHtcbiAgRkxBRzogJ2ZsYWcnLFxuICBCTE9DSzogJ2Jsb2NrJyxcbiAgU0hBRE9XX0JMT0NLOiAnc2hhZG93X2Jsb2NrJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtID1cbiAgKHR5cGVvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtKVtrZXlvZiB0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEJlaGF2aW9yRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtID0ge1xuICBGTEFHOiAnZmxhZycsXG4gIEJMT0NLOiAnYmxvY2snLFxuICBTSEFET1dfQkxPQ0s6ICdzaGFkb3dfYmxvY2snLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIENoYW5uZWxDb25maWdXaXRoSW5mb0Jsb2NrbGlzdEJlaGF2aW9yRW51bSA9XG4gICh0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtKVtrZXlvZiB0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDaGFubmVsTWVtYmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbE1lbWJlciB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgYXJjaGl2ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgYmFuX2V4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBjaGFubmVsX3JvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgZGVsZXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBpbnZpdGVfYWNjZXB0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgaW52aXRlX3JlamVjdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBpbnZpdGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgaXNfbW9kZXJhdG9yPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgbm90aWZpY2F0aW9uc19tdXRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBwaW5uZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIHNoYWRvd19iYW5uZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgc3RhdHVzPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgdXNlcl9pZD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhbm5lbE11dGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFubmVsTXV0ZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2hhbm5lbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE11dGVcbiAgICovXG4gIGNoYW5uZWw/OiBDaGFubmVsUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgbXV0ZSBleHBpcmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTXV0ZVxuICAgKi9cbiAgZXhwaXJlcz86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE11dGVcbiAgICovXG4gIHVzZXI/OiBVc2VyUmVzcG9uc2U7XG59XG5cbi8qKlxuICogQWxsIHBvc3NpYmlsaXR5IG9mIHN0cmluZyB0byB1c2VcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5uZWxPd25DYXBhYmlsaXR5ID0ge1xuICBCQU5fQ0hBTk5FTF9NRU1CRVJTOiAnYmFuLWNoYW5uZWwtbWVtYmVycycsXG4gIENBU1RfUE9MTF9WT1RFOiAnY2FzdC1wb2xsLXZvdGUnLFxuICBDT05ORUNUX0VWRU5UUzogJ2Nvbm5lY3QtZXZlbnRzJyxcbiAgQ1JFQVRFX0FUVEFDSE1FTlQ6ICdjcmVhdGUtYXR0YWNobWVudCcsXG4gIENSRUFURV9DQUxMOiAnY3JlYXRlLWNhbGwnLFxuICBERUxFVEVfQU5ZX01FU1NBR0U6ICdkZWxldGUtYW55LW1lc3NhZ2UnLFxuICBERUxFVEVfQ0hBTk5FTDogJ2RlbGV0ZS1jaGFubmVsJyxcbiAgREVMRVRFX09XTl9NRVNTQUdFOiAnZGVsZXRlLW93bi1tZXNzYWdlJyxcbiAgRkxBR19NRVNTQUdFOiAnZmxhZy1tZXNzYWdlJyxcbiAgRlJFRVpFX0NIQU5ORUw6ICdmcmVlemUtY2hhbm5lbCcsXG4gIEpPSU5fQ0FMTDogJ2pvaW4tY2FsbCcsXG4gIEpPSU5fQ0hBTk5FTDogJ2pvaW4tY2hhbm5lbCcsXG4gIExFQVZFX0NIQU5ORUw6ICdsZWF2ZS1jaGFubmVsJyxcbiAgTVVURV9DSEFOTkVMOiAnbXV0ZS1jaGFubmVsJyxcbiAgUElOX01FU1NBR0U6ICdwaW4tbWVzc2FnZScsXG4gIFFVRVJZX1BPTExfVk9URVM6ICdxdWVyeS1wb2xsLXZvdGVzJyxcbiAgUVVPVEVfTUVTU0FHRTogJ3F1b3RlLW1lc3NhZ2UnLFxuICBSRUFEX0VWRU5UUzogJ3JlYWQtZXZlbnRzJyxcbiAgU0VBUkNIX01FU1NBR0VTOiAnc2VhcmNoLW1lc3NhZ2VzJyxcbiAgU0VORF9DVVNUT01fRVZFTlRTOiAnc2VuZC1jdXN0b20tZXZlbnRzJyxcbiAgU0VORF9MSU5LUzogJ3NlbmQtbGlua3MnLFxuICBTRU5EX01FU1NBR0U6ICdzZW5kLW1lc3NhZ2UnLFxuICBTRU5EX1BPTEw6ICdzZW5kLXBvbGwnLFxuICBTRU5EX1JFQUNUSU9OOiAnc2VuZC1yZWFjdGlvbicsXG4gIFNFTkRfUkVQTFk6ICdzZW5kLXJlcGx5JyxcbiAgU0VORF9UWVBJTkdfRVZFTlRTOiAnc2VuZC10eXBpbmctZXZlbnRzJyxcbiAgU0VUX0NIQU5ORUxfQ09PTERPV046ICdzZXQtY2hhbm5lbC1jb29sZG93bicsXG4gIFNLSVBfU0xPV19NT0RFOiAnc2tpcC1zbG93LW1vZGUnLFxuICBTTE9XX01PREU6ICdzbG93LW1vZGUnLFxuICBUWVBJTkdfRVZFTlRTOiAndHlwaW5nLWV2ZW50cycsXG4gIFVQREFURV9BTllfTUVTU0FHRTogJ3VwZGF0ZS1hbnktbWVzc2FnZScsXG4gIFVQREFURV9DSEFOTkVMOiAndXBkYXRlLWNoYW5uZWwnLFxuICBVUERBVEVfQ0hBTk5FTF9NRU1CRVJTOiAndXBkYXRlLWNoYW5uZWwtbWVtYmVycycsXG4gIFVQREFURV9PV05fTUVTU0FHRTogJ3VwZGF0ZS1vd24tbWVzc2FnZScsXG4gIFVQREFURV9USFJFQUQ6ICd1cGRhdGUtdGhyZWFkJyxcbiAgVVBMT0FEX0ZJTEU6ICd1cGxvYWQtZmlsZScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQ2hhbm5lbE93bkNhcGFiaWxpdHkgPVxuICAodHlwZW9mIENoYW5uZWxPd25DYXBhYmlsaXR5KVtrZXlvZiB0eXBlb2YgQ2hhbm5lbE93bkNhcGFiaWxpdHldO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgY2hhbm5lbCBpbiBjaGF0XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENoYW5uZWxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5uZWxSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGF1dG8gdHJhbnNsYXRpb24gaXMgZW5hYmxlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGF1dG9fdHJhbnNsYXRpb25fZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBMYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8gd2hlbiBhdXRvIHRyYW5zbGF0aW9uIGlzIGFjdGl2ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBhdXRvX3RyYW5zbGF0aW9uX2xhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciB0aGlzIGNoYW5uZWwgaXMgYmxvY2tlZCBieSBjdXJyZW50IHVzZXIgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENoYW5uZWwgQ0lEICg8dHlwZT46PGlkPilcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2hhbm5lbENvbmZpZ1dpdGhJbmZvfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBjb25maWc/OiBDaGFubmVsQ29uZmlnV2l0aEluZm87XG4gIC8qKlxuICAgKiBDb29sZG93biBwZXJpb2QgYWZ0ZXIgc2VuZGluZyBlYWNoIG1lc3NhZ2VcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY29vbGRvd24/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9ieT86IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBkZWxldGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkOiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciBjaGFubmVsIGlzIGZyb3plbiBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGZyb3plbjogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBjaGFubmVsIGlzIGhpZGRlbiBieSBjdXJyZW50IHVzZXIgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBoaWRkZW4/OiBib29sZWFuO1xuICAvKipcbiAgICogRGF0ZSBzaW5jZSB3aGVuIHRoZSBtZXNzYWdlIGhpc3RvcnkgaXMgYWNjZXNzaWJsZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBoaWRlX21lc3NhZ2VzX2JlZm9yZT86IHN0cmluZztcbiAgLyoqXG4gICAqIENoYW5uZWwgdW5pcXVlIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlIG9mIHRoZSBsYXN0IG1lc3NhZ2Ugc2VudFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBsYXN0X21lc3NhZ2VfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgbWVtYmVycyBpbiB0aGUgY2hhbm5lbFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJfY291bnQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBMaXN0IG9mIGNoYW5uZWwgbWVtYmVycyAobWF4IDEwMClcbiAgICogQHR5cGUge0FycmF5PENoYW5uZWxNZW1iZXI+fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzPzogQXJyYXk8Q2hhbm5lbE1lbWJlcj47XG4gIC8qKlxuICAgKiBEYXRlIG9mIG11dGUgZXhwaXJhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBtdXRlX2V4cGlyZXNfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgY2hhbm5lbCBpcyBtdXRlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG11dGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIExpc3Qgb2YgY2hhbm5lbCBjYXBhYmlsaXRpZXMgb2YgYXV0aGVudGljYXRlZCB1c2VyXG4gICAqIEB0eXBlIHtBcnJheTxDaGFubmVsT3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM/OiBBcnJheTxDaGFubmVsT3duQ2FwYWJpbGl0eT47XG4gIC8qKlxuICAgKiBUZWFtIHRoZSBjaGFubmVsIGJlbG9uZ3MgdG8gKG11bHRpLXRlbmFudCBvbmx5KVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICB0ZWFtPzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZSBvZiB0aGUgbGF0ZXN0IHRydW5jYXRpb24gb2YgdGhlIGNoYW5uZWxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgdHJ1bmNhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgdHJ1bmNhdGVkX2J5PzogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICogVHlwZSBvZiB0aGUgY2hhbm5lbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2xvc2VkIGNhcHRpb25zIGFyZSBiZWluZyBzZW50IGluIGEgY2FsbCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdG8gc2hvdyB0aGUgY2xvc2VkIGNhcHRpb25zIGluIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDbG9zZWRDYXB0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbG9zZWRDYXB0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsQ2xvc2VkQ2FwdGlvbn1cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY2xvc2VkX2NhcHRpb246IENhbGxDbG9zZWRDYXB0aW9uO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5jbG9zZWRfY2FwdGlvblwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2xvc2VkQ2FwdGlvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIHJhdGluZzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIHNkazogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICBzZGtfdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICB1c2VyX3Nlc3Npb25faWQ6IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGN1c3RvbSBjaGF0IGNvbW1hbmRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29tbWFuZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmQge1xuICAvKipcbiAgICogQXJndW1lbnRzIGhlbHAgdGV4dCwgc2hvd24gaW4gY29tbWFuZHMgYXV0by1jb21wbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb21tYW5kXG4gICAqL1xuICBhcmdzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbW1hbmRcbiAgICovXG4gIHJlYWRvbmx5IGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZXNjcmlwdGlvbiwgc2hvd24gaW4gY29tbWFuZHMgYXV0by1jb21wbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb21tYW5kXG4gICAqL1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogVW5pcXVlIGNvbW1hbmQgbmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29tbWFuZFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogU2V0IG5hbWUgdXNlZCBmb3IgZ3JvdXBpbmcgY29tbWFuZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbW1hbmRcbiAgICovXG4gIHNldDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29tbWFuZFxuICAgKi9cbiAgcmVhZG9ubHkgdXBkYXRlZF9hdD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpbnZpc2libGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHJpdmFjeVNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBwcml2YWN5X3NldHRpbmdzPzogUHJpdmFjeVNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHVzaE5vdGlmaWNhdGlvblNldHRpbmdzSW5wdXR9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dDtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gdGhlIFdTIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgYW5kIGF1dGhlbnRpY2F0ZWQsIHRoaXMgZXZlbnQgY29udGFpbnMgdGhlIGZ1bGwgdXNlciBvYmplY3QgYXMgaXQgaXMgc3RvcmVkIG9uIHRoZSBzZXJ2ZXJcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgY29ubmVjdGlvbl9pZCBmb3IgdGhpcyBjbGllbnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICBjb25uZWN0aW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtPd25Vc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0ZWRFdmVudFxuICAgKi9cbiAgbWU6IE93blVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNvbm5lY3Rpb24ub2tcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIHRoZSBXUyBjb25uZWN0aW9uIGZhaWxzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvbkVycm9yRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICBjb25uZWN0aW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBUElFcnJvcn1cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICBlcnJvcjogQVBJRXJyb3I7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjb25uZWN0aW9uLm9rXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0aW9uRXJyb3JFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb29yZGluYXRlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvb3JkaW5hdGVzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDb29yZGluYXRlc1xuICAgKi9cbiAgbGF0aXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDb29yZGluYXRlc1xuICAgKi9cbiAgbG9uZ2l0dWRlOiBudW1iZXI7XG59XG4vKipcbiAqIENyZWF0ZSBkZXZpY2UgcmVxdWVzdFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlRGV2aWNlUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBEZXZpY2UgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZURldmljZVJlcXVlc3RcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gICAqL1xuICBwdXNoX3Byb3ZpZGVyOiBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bTtcbiAgLyoqXG4gICAqIFB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgcHVzaF9wcm92aWRlcl9uYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hlbiB0cnVlIHRoZSB0b2tlbiBpcyBmb3IgQXBwbGUgVm9JUCBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gICAqL1xuICB2b2lwX3Rva2VuPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bSA9IHtcbiAgRklSRUJBU0U6ICdmaXJlYmFzZScsXG4gIEFQTjogJ2FwbicsXG4gIEhVQVdFSTogJ2h1YXdlaScsXG4gIFhJQU9NSTogJ3hpYW9taScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0gPVxuICAodHlwZW9mIENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtKVtrZXlvZiB0eXBlb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENyZWF0ZUd1ZXN0UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUd1ZXN0UmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVHdWVzdFJlcXVlc3RcbiAgICovXG4gIHVzZXI6IFVzZXJSZXF1ZXN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVhdGVHdWVzdFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlR3Vlc3RSZXNwb25zZSB7XG4gIC8qKlxuICAgKiB0aGUgYWNjZXNzIHRva2VuIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlR3Vlc3RSZXNwb25zZVxuICAgKi9cbiAgYWNjZXNzX3Rva2VuOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlR3Vlc3RSZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVkZW50aWFsc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWRlbnRpYWxzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxJQ0VTZXJ2ZXI+fVxuICAgKiBAbWVtYmVyb2YgQ3JlZGVudGlhbHNcbiAgICovXG4gIGljZV9zZXJ2ZXJzOiBBcnJheTxJQ0VTZXJ2ZXI+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NGVVJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ3JlZGVudGlhbHNcbiAgICovXG4gIHNlcnZlcjogU0ZVUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlZGVudGlhbHNcbiAgICovXG4gIHRva2VuOiBzdHJpbmc7XG59XG4vKipcbiAqIEEgY3VzdG9tIGV2ZW50LCB0aGlzIGV2ZW50IGlzIHVzZWQgdG8gc2VuZCBjdXN0b20gZXZlbnRzIHRvIG90aGVyIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3VzdG9tVmlkZW9FdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbVZpZGVvRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3VzdG9tVmlkZW9FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50LCBcImN1c3RvbVwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3VzdG9tVmlkZW9FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICogRGVsZXRlQ2FsbFJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIGRlbGV0aW5nIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGVsZXRlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxldGVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBpZiB0cnVlIHRoZSBjYWxsIHdpbGwgYmUgaGFyZCBkZWxldGVkIGFsb25nIHdpdGggYWxsIHJlbGF0ZWQgZGF0YVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIERlbGV0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBoYXJkPzogYm9vbGVhbjtcbn1cbi8qKlxuICogRGVsZXRlQ2FsbFJlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBkZWxldGluZyBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERlbGV0ZUNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZUNhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgRGVsZXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGVsZXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERlbGV0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgdGFza19pZD86IHN0cmluZztcbn1cbi8qKlxuICogUmVzcG9uc2UgZm9yIERlbGV0ZVJlY29yZGluZ1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBEZWxldGVSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGVsZXRlUmVjb3JkaW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIERlbGV0ZVRyYW5zY3JpcHRpb25SZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgZGVsZXRpbmcgYSB0cmFuc2NyaXB0aW9uLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFJlc3BvbnNlIGZvciBEZXZpY2VcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGV2aWNlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXZpY2VSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGRldmljZSBpcyBkaXNhYmxlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VSZXNwb25zZVxuICAgKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogUmVhc29uIGV4cGxhaW5pbmcgd2h5IGRldmljZSBoYWQgYmVlbiBkaXNhYmxlZFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkX3JlYXNvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIERldmljZSBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VSZXNwb25zZVxuICAgKi9cbiAgcHVzaF9wcm92aWRlcjogc3RyaW5nO1xuICAvKipcbiAgICogUHVzaCBwcm92aWRlciBuYW1lXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VSZXNwb25zZVxuICAgKi9cbiAgcHVzaF9wcm92aWRlcl9uYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogVXNlciBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSB0aGUgdG9rZW4gaXMgZm9yIEFwcGxlIFZvSVAgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIHZvaXA/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFZGdlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFZGdlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgY29udGluZW50X2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGNvdW50cnlfaXNvX2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGdyZWVuOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgbGF0ZW5jeV90ZXN0X3VybDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgbGF0aXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGxvbmdpdHVkZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgcmVkOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBzdWJkaXZpc2lvbl9pc29fY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgeWVsbG93OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVncmVzc0hMU1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWdyZXNzSExTUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc0hMU1Jlc3BvbnNlXG4gICAqL1xuICBwbGF5bGlzdF91cmw6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRWdyZXNzUlRNUFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWdyZXNzUlRNUFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSVE1QUmVzcG9uc2VcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSVE1QUmVzcG9uc2VcbiAgICovXG4gIHN0YXJ0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSVE1QUmVzcG9uc2VcbiAgICovXG4gIHN0cmVhbV9rZXk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICBzdHJlYW1fdXJsPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFZ3Jlc3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVncmVzc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUmVzcG9uc2VcbiAgICovXG4gIGJyb2FkY2FzdGluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtFZ3Jlc3NITFNSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEVncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBobHM/OiBFZ3Jlc3NITFNSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxFZ3Jlc3NSVE1QUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUmVzcG9uc2VcbiAgICovXG4gIHJ0bXBzOiBBcnJheTxFZ3Jlc3NSVE1QUmVzcG9uc2U+O1xufVxuLyoqXG4gKiBSZXNwb25zZSBmb3IgZW5kaW5nIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFbmRDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFbmRDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFbmRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VvZmVuY2VTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBHZW9mZW5jZVNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbmFtZXM/OiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG5hbWVzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZW9sb2NhdGlvblJlc3VsdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlb2xvY2F0aW9uUmVzdWx0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgYWNjdXJhY3lfcmFkaXVzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNpdHk6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgY29udGluZW50OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNvbnRpbmVudF9jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNvdW50cnk6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgY291bnRyeV9pc29fY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBsYXRpdHVkZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgc3ViZGl2aXNpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgc3ViZGl2aXNpb25faXNvX2NvZGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0Q2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0Q2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0Q2FsbFN0YXRzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBhdmVyYWdlX2Nvbm5lY3Rpb25fdGltZT86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxfc3RhdHVzOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFRpbWVsaW5lfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxfdGltZWxpbmU/OiBDYWxsVGltZWxpbmU7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RpbWVTdGF0c31cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBqaXR0ZXI/OiBUaW1lU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGltZVN0YXRzfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGxhdGVuY3k/OiBUaW1lU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIG1heF9mcmVlemVzX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbWF4X3BhcnRpY2lwYW50czogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBtYXhfdG90YWxfcXVhbGl0eV9saW1pdGF0aW9uX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxVc2VyU3RhdHM+fVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHBhcnRpY2lwYW50X3JlcG9ydDogQXJyYXk8VXNlclN0YXRzPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgcHVibGlzaGluZ19wYXJ0aWNpcGFudHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgcXVhbGl0eV9zY29yZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBzZnVfY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxTRlVMb2NhdGlvblJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBzZnVzOiBBcnJheTxTRlVMb2NhdGlvblJlc3BvbnNlPjtcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0RWRnZXNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldEVkZ2VzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRFZGdlc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PEVkZ2VSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBHZXRFZGdlc1Jlc3BvbnNlXG4gICAqL1xuICBlZGdlczogQXJyYXk8RWRnZVJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgZGF0YT86IENhbGxSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1lbWJlcnNfbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBpZiBwcm92aWRlZCBpdCBzZW5kcyBhIG5vdGlmaWNhdGlvbiBldmVudCB0byB0aGUgbWVtYmVycyBmb3IgdGhpcyBjYWxsXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgbm90aWZ5PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGlmIHByb3ZpZGVkIGl0IHNlbmRzIGEgcmluZyBldmVudCB0byB0aGUgbWVtYmVycyBmb3IgdGhpcyBjYWxsXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgcmluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdvTGl2ZVJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb0xpdmVSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXF1ZXN0XG4gICAqL1xuICByZWNvcmRpbmdfc3RvcmFnZV9uYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXF1ZXN0XG4gICAqL1xuICBzdGFydF9jbG9zZWRfY2FwdGlvbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X2hscz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3JlY29yZGluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3J0bXBfYnJvYWRjYXN0cz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3RyYW5zY3JpcHRpb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb25fc3RvcmFnZV9uYW1lPzogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHb0xpdmVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvTGl2ZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdXRvX29uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBxdWFsaXR5X3RyYWNrczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICogSExTU2V0dGluZ3MgaXMgdGhlIHBheWxvYWQgZm9yIEhMUyBzZXR0aW5nc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGF1dG9fb246IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHF1YWxpdHlfdHJhY2tzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBIZWFsdGhDaGVja0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgY2lkPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIGNvbm5lY3Rpb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBIZWFsdGhDaGVja0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7T3duVXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgbWU/OiBPd25Vc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgcmVjZWl2ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBJQ0VTZXJ2ZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VTZXJ2ZXIge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIElDRVNlcnZlclxuICAgKi9cbiAgcGFzc3dvcmQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgSUNFU2VydmVyXG4gICAqL1xuICB1cmxzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIElDRVNlcnZlclxuICAgKi9cbiAgdXNlcm5hbWU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSm9pbkNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSm9pbkNhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIGlmIHRydWUgdGhlIGNhbGwgd2lsbCBiZSBjcmVhdGVkIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIGNyZWF0ZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIGRhdGE/OiBDYWxsUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIGxvY2F0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBtZW1iZXJzX2xpbWl0PzogbnVtYmVyO1xuICAvKipcbiAgICogSWYgdGhlIHBhcnRpY2lwYW50IGlzIG1pZ3JhdGluZyBmcm9tIGFub3RoZXIgU0ZVLCB0aGVuIHRoaXMgaXMgdGhlIElEIG9mIHRoZSBwcmV2aW91cyBTRlVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgbWlncmF0aW5nX2Zyb20/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgbm90aWZ5PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGlmIHRydWUgYW5kIHRoZSBjYWxsIGlzIGNyZWF0ZWQsIHRoZSBub3RpZmljYXRpb24gd2lsbCBpbmNsdWRlIHJpbmc9dHJ1ZVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgcmluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBKb2luQ2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSm9pbkNhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NyZWRlbnRpYWxzfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHNPcHRpb25zfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgc3RhdHNfb3B0aW9uczogU3RhdHNPcHRpb25zO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMYWJlbFRocmVzaG9sZHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMYWJlbFRocmVzaG9sZHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExhYmVsVGhyZXNob2xkc1xuICAgKi9cbiAgYmxvY2s/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTGFiZWxUaHJlc2hvbGRzXG4gICAqL1xuICBmbGFnPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMaW1pdHNTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaW1pdHNTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbWF4X2R1cmF0aW9uX3NlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTGltaXRzU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtYXhfcGFydGljaXBhbnRzPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGltaXRzU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTGltaXRzU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbWF4X2R1cmF0aW9uX3NlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTGltaXRzU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbWF4X3BhcnRpY2lwYW50cz86IG51bWJlcjtcbn1cbi8qKlxuICogTGlzdCBkZXZpY2VzIHJlc3BvbnNlXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3REZXZpY2VzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0RGV2aWNlc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIExpc3Qgb2YgZGV2aWNlc1xuICAgKiBAdHlwZSB7QXJyYXk8RGV2aWNlUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgTGlzdERldmljZXNSZXNwb25zZVxuICAgKi9cbiAgZGV2aWNlczogQXJyYXk8RGV2aWNlUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3REZXZpY2VzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFJlc3BvbnNlIGZvciBsaXN0aW5nIHJlY29yZGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGlzdFJlY29yZGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RSZWNvcmRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3RSZWNvcmRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFJlY29yZGluZz59XG4gICAqIEBtZW1iZXJvZiBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlXG4gICAqL1xuICByZWNvcmRpbmdzOiBBcnJheTxDYWxsUmVjb3JkaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBMaXN0IG9mIHRyYW5zY3JpcHRpb25zIGZvciB0aGUgY2FsbFxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFRyYW5zY3JpcHRpb24+fVxuICAgKiBAbWVtYmVyb2YgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpcHRpb25zOiBBcnJheTxDYWxsVHJhbnNjcmlwdGlvbj47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExvY2F0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExvY2F0aW9uXG4gICAqL1xuICBjb250aW5lbnRfY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExvY2F0aW9uXG4gICAqL1xuICBjb3VudHJ5X2lzb19jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTG9jYXRpb25cbiAgICovXG4gIHN1YmRpdmlzaW9uX2lzb19jb2RlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE1lZGlhUHViU3ViSGludFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lZGlhUHViU3ViSGludCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE1lZGlhUHViU3ViSGludFxuICAgKi9cbiAgYXVkaW9fcHVibGlzaGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNZWRpYVB1YlN1YkhpbnRcbiAgICovXG4gIGF1ZGlvX3N1YnNjcmliZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE1lZGlhUHViU3ViSGludFxuICAgKi9cbiAgdmlkZW9fcHVibGlzaGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNZWRpYVB1YlN1YkhpbnRcbiAgICovXG4gIHZpZGVvX3N1YnNjcmliZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIE1lbWJlclJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIGFkZGluZyBhIG1lbWJlciB0byBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE1lbWJlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZW1iZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlcXVlc3RcbiAgICovXG4gIHJvbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBNZW1iZXJSZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgYSBtZW1iZXIgb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNZW1iZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lbWJlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBtZW1iZXIgcmVzcG9uc2UgZGF0YVxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgZGVsZXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgcm9sZT86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNdXRlVXNlcnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTXV0ZVVzZXJzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIGF1ZGlvPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgbXV0ZV9hbGxfdXNlcnM/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICBzY3JlZW5zaGFyZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHNjcmVlbnNoYXJlX2F1ZGlvPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICB2aWRlbz86IGJvb2xlYW47XG59XG4vKipcbiAqIE11dGVVc2Vyc1Jlc3BvbnNlIGlzIHRoZSByZXNwb25zZSBwYXlsb2FkIGZvciB0aGUgbXV0ZSB1c2VycyBlbmRwb2ludC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTXV0ZVVzZXJzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNdXRlVXNlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9jb25uZWN0aW9uX3RpbWU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9qaXR0ZXI/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9sYXRlbmN5PzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE5ldHdvcmtNZXRyaWNzUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGF2ZXJhZ2VfdGltZV90b19yZWNvbm5lY3Q/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzXG4gICAqL1xuICBtb2RlOiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSA9XG4gICh0eXBlb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtKVtrZXlvZiB0eXBlb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBOdWxsQm9vbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE51bGxCb29sIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTnVsbEJvb2xcbiAgICovXG4gIEhhc1ZhbHVlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTnVsbEJvb2xcbiAgICovXG4gIFZhbHVlPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTnVsbFRpbWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOdWxsVGltZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE51bGxUaW1lXG4gICAqL1xuICBIYXNWYWx1ZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTnVsbFRpbWVcbiAgICovXG4gIFZhbHVlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEFsbCBwb3NzaWJpbGl0eSBvZiBzdHJpbmcgdG8gdXNlXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBPd25DYXBhYmlsaXR5ID0ge1xuICBCTE9DS19VU0VSUzogJ2Jsb2NrLXVzZXJzJyxcbiAgQ0hBTkdFX01BWF9EVVJBVElPTjogJ2NoYW5nZS1tYXgtZHVyYXRpb24nLFxuICBDUkVBVEVfQ0FMTDogJ2NyZWF0ZS1jYWxsJyxcbiAgQ1JFQVRFX1JFQUNUSU9OOiAnY3JlYXRlLXJlYWN0aW9uJyxcbiAgRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTjogJ2VuYWJsZS1ub2lzZS1jYW5jZWxsYXRpb24nLFxuICBFTkRfQ0FMTDogJ2VuZC1jYWxsJyxcbiAgSk9JTl9CQUNLU1RBR0U6ICdqb2luLWJhY2tzdGFnZScsXG4gIEpPSU5fQ0FMTDogJ2pvaW4tY2FsbCcsXG4gIEpPSU5fRU5ERURfQ0FMTDogJ2pvaW4tZW5kZWQtY2FsbCcsXG4gIE1VVEVfVVNFUlM6ICdtdXRlLXVzZXJzJyxcbiAgUElOX0ZPUl9FVkVSWU9ORTogJ3Bpbi1mb3ItZXZlcnlvbmUnLFxuICBSRUFEX0NBTEw6ICdyZWFkLWNhbGwnLFxuICBSRU1PVkVfQ0FMTF9NRU1CRVI6ICdyZW1vdmUtY2FsbC1tZW1iZXInLFxuICBTQ1JFRU5TSEFSRTogJ3NjcmVlbnNoYXJlJyxcbiAgU0VORF9BVURJTzogJ3NlbmQtYXVkaW8nLFxuICBTRU5EX1ZJREVPOiAnc2VuZC12aWRlbycsXG4gIFNUQVJUX0JST0FEQ0FTVF9DQUxMOiAnc3RhcnQtYnJvYWRjYXN0LWNhbGwnLFxuICBTVEFSVF9DTE9TRURfQ0FQVElPTlNfQ0FMTDogJ3N0YXJ0LWNsb3NlZC1jYXB0aW9ucy1jYWxsJyxcbiAgU1RBUlRfUkVDT1JEX0NBTEw6ICdzdGFydC1yZWNvcmQtY2FsbCcsXG4gIFNUQVJUX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0YXJ0LXRyYW5zY3JpcHRpb24tY2FsbCcsXG4gIFNUT1BfQlJPQURDQVNUX0NBTEw6ICdzdG9wLWJyb2FkY2FzdC1jYWxsJyxcbiAgU1RPUF9DTE9TRURfQ0FQVElPTlNfQ0FMTDogJ3N0b3AtY2xvc2VkLWNhcHRpb25zLWNhbGwnLFxuICBTVE9QX1JFQ09SRF9DQUxMOiAnc3RvcC1yZWNvcmQtY2FsbCcsXG4gIFNUT1BfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RvcC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICBVUERBVEVfQ0FMTDogJ3VwZGF0ZS1jYWxsJyxcbiAgVVBEQVRFX0NBTExfTUVNQkVSOiAndXBkYXRlLWNhbGwtbWVtYmVyJyxcbiAgVVBEQVRFX0NBTExfUEVSTUlTU0lPTlM6ICd1cGRhdGUtY2FsbC1wZXJtaXNzaW9ucycsXG4gIFVQREFURV9DQUxMX1NFVFRJTkdTOiAndXBkYXRlLWNhbGwtc2V0dGluZ3MnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE93bkNhcGFiaWxpdHkgPSAodHlwZW9mIE93bkNhcGFiaWxpdHkpW2tleW9mIHR5cGVvZiBPd25DYXBhYmlsaXR5XTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBPd25Vc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPd25Vc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDaGFubmVsTXV0ZT59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGNoYW5uZWxfbXV0ZXM6IEFycmF5PENoYW5uZWxNdXRlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGVhY3RpdmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERldmljZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGV2aWNlczogQXJyYXk8RGV2aWNlUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGludmlzaWJsZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhbmd1YWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYXRlc3RfaGlkZGVuX2NoYW5uZWxzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxVc2VyTXV0ZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgbXV0ZXM6IEFycmF5PFVzZXJNdXRlUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBvbmxpbmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHJpdmFjeVNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBQcml2YWN5U2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgcHVzaF9ub3RpZmljYXRpb25zPzogUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICByb2xlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdGVhbXM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB0b3RhbF91bnJlYWRfY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHVucmVhZF9jaGFubmVsczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdW5yZWFkX2NvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB1bnJlYWRfdGhyZWFkczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHVzZXIgcmVxdWVzdHMgYWNjZXNzIHRvIGEgZmVhdHVyZSBvbiBhIGNhbGwsXG4gKiBjbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBkaXNwbGF5IGEgcGVybWlzc2lvbiByZXF1ZXN0IHRvIHRoZSB1c2VyXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHBlcm1pc3Npb25zIHJlcXVlc3RlZCBieSB0aGUgdXNlclxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIHBlcm1pc3Npb25zOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3RcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBlclNES1VzYWdlUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGVyU0RLVXNhZ2VSZXBvcnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgUGVyU0RLVXNhZ2VSZXBvcnRcbiAgICovXG4gIGJ5X3ZlcnNpb246IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGVyU0RLVXNhZ2VSZXBvcnRcbiAgICovXG4gIHRvdGFsOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBpblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSBzZXNzaW9uIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlcXVlc3RcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGluUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQcml2YWN5U2V0dGluZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcml2YWN5U2V0dGluZ3Mge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlYWRSZWNlaXB0c31cbiAgICogQG1lbWJlcm9mIFByaXZhY3lTZXR0aW5nc1xuICAgKi9cbiAgcmVhZF9yZWNlaXB0cz86IFJlYWRSZWNlaXB0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUeXBpbmdJbmRpY2F0b3JzfVxuICAgKiBAbWVtYmVyb2YgUHJpdmFjeVNldHRpbmdzXG4gICAqL1xuICB0eXBpbmdfaW5kaWNhdG9ycz86IFR5cGluZ0luZGljYXRvcnM7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFByaXZhY3lTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJpdmFjeVNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlYWRSZWNlaXB0c1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUHJpdmFjeVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJlYWRfcmVjZWlwdHM/OiBSZWFkUmVjZWlwdHNSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUeXBpbmdJbmRpY2F0b3JzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBQcml2YWN5U2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdHlwaW5nX2luZGljYXRvcnM/OiBUeXBpbmdJbmRpY2F0b3JzUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFB1Ymxpc2hlZFRyYWNrSW5mb1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hlZFRyYWNrSW5mbyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVibGlzaGVkVHJhY2tJbmZvXG4gICAqL1xuICBjb2RlY19taW1lX3R5cGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUHVibGlzaGVkVHJhY2tJbmZvXG4gICAqL1xuICBkdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFB1Ymxpc2hlZFRyYWNrSW5mb1xuICAgKi9cbiAgdHJhY2tfdHlwZT86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gICAqL1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gICAqL1xuICBkaXNhYmxlZF91bnRpbD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzSW5wdXRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TnVsbEJvb2x9XG4gICAqIEBtZW1iZXJvZiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dFxuICAgKi9cbiAgZGlzYWJsZWQ/OiBOdWxsQm9vbDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOdWxsVGltZX1cbiAgICogQG1lbWJlcm9mIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc0lucHV0XG4gICAqL1xuICBkaXNhYmxlZF91bnRpbD86IE51bGxUaW1lO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZGlzYWJsZWRfdW50aWw/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8UXVhbGl0eVNjb3JlUmVwb3J0Pj59XG4gICAqIEBtZW1iZXJvZiBRdWFsaXR5U2NvcmVSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZGFpbHk6IEFycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8UXVhbGl0eVNjb3JlUmVwb3J0Pj47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1YWxpdHlTY29yZVJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1YWxpdHlTY29yZVJlcG9ydCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+fVxuICAgKiBAbWVtYmVyb2YgUXVhbGl0eVNjb3JlUmVwb3J0XG4gICAqL1xuICBoaXN0b2dyYW06IEFycmF5PFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIGZyb20/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdFxuICAgKi9cbiAgcmVwb3J0X3R5cGVzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIHRvPzogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsX2R1cmF0aW9uX3JlcG9ydD86IENhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsX3BhcnRpY2lwYW50X2NvdW50X3JlcG9ydD86IENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxzX3Blcl9kYXlfcmVwb3J0PzogQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbmV0d29ya19tZXRyaWNzX3JlcG9ydD86IE5ldHdvcmtNZXRyaWNzUmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlX3JlcG9ydD86IFF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NES1VzYWdlUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBzZGtfdXNhZ2VfcmVwb3J0PzogU0RLVXNhZ2VSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHVzZXJfZmVlZGJhY2tfcmVwb3J0PzogVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U29ydFBhcmFtUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgc29ydD86IEFycmF5PFNvcnRQYXJhbVJlcXVlc3Q+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBmaWx0ZXJfY29uZGl0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBsaW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFNvcnRQYXJhbVJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBzb3J0PzogQXJyYXk8U29ydFBhcmFtUmVxdWVzdD47XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHJlcG9ydHM6IEFycmF5PENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBBcnJheSBvZiBzb3J0IHBhcmFtZXRlcnNcbiAgICogQHR5cGUge0FycmF5PFNvcnRQYXJhbVJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIHNvcnQ/OiBBcnJheTxTb3J0UGFyYW1SZXF1ZXN0PjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIHdhdGNoPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDYWxsU3RhdGVSZXNwb25zZUZpZWxkcz59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxzOiBBcnJheTxDYWxsU3RhdGVSZXNwb25zZUZpZWxkcz47XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVzcG9uc2VcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xufVxuLyoqXG4gKiBSVE1QIGlucHV0IHNldHRpbmdzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJUTVBJbmdyZXNzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUlRNUEluZ3Jlc3Mge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJUTVBJbmdyZXNzXG4gICAqL1xuICBhZGRyZXNzOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlYWN0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWFjdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgZW1vamlfY29kZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWFkUmVjZWlwdHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWFkUmVjZWlwdHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBSZWFkUmVjZWlwdHNcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlYWRSZWNlaXB0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZFJlY2VpcHRzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBSZWFkUmVjZWlwdHNSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW9fb25seT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtb2RlOiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHF1YWxpdHk/OiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9XG4gICh0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0pW2tleW9mIHR5cGVvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPSB7XG4gIF8zNjBQOiAnMzYwcCcsXG4gIF80ODBQOiAnNDgwcCcsXG4gIF83MjBQOiAnNzIwcCcsXG4gIF8xMDgwUDogJzEwODBwJyxcbiAgXzE0NDBQOiAnMTQ0MHAnLFxuICBQT1JUUkFJVF8zNjBYNjQwOiAncG9ydHJhaXQtMzYweDY0MCcsXG4gIFBPUlRSQUlUXzQ4MFg4NTQ6ICdwb3J0cmFpdC00ODB4ODU0JyxcbiAgUE9SVFJBSVRfNzIwWDEyODA6ICdwb3J0cmFpdC03MjB4MTI4MCcsXG4gIFBPUlRSQUlUXzEwODBYMTkyMDogJ3BvcnRyYWl0LTEwODB4MTkyMCcsXG4gIFBPUlRSQUlUXzE0NDBYMjU2MDogJ3BvcnRyYWl0LTE0NDB4MjU2MCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPVxuICAodHlwZW9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtKVtrZXlvZiB0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW1dO1xuXG4vKipcbiAqIFJlY29yZFNldHRpbmdzIGlzIHRoZSBwYXlsb2FkIGZvciByZWNvcmRpbmcgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdWRpb19vbmx5OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1vZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlamVjdENhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVqZWN0Q2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogUmVhc29uIGZvciByZWplY3RpbmcgdGhlIGNhbGxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlamVjdENhbGxSZXF1ZXN0XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlamVjdENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlamVjdENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlamVjdENhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIGNhdGVnb3J5OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIGNvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Qm91bmR9XG4gICAqIEBtZW1iZXJvZiBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldFxuICAgKi9cbiAgbG93ZXJfYm91bmQ/OiBCb3VuZDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldFxuICAgKi9cbiAgbWVhbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0XG4gICAqL1xuICBzdW06IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtCb3VuZH1cbiAgICogQG1lbWJlcm9mIFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0XG4gICAqL1xuICB1cHBlcl9ib3VuZD86IEJvdW5kO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAgICovXG4gIHBlcm1pc3Npb25zOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGF1dG9fY2FuY2VsX3RpbWVvdXRfbXM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBpbmNvbWluZ19jYWxsX3RpbWVvdXRfbXM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtaXNzZWRfY2FsbF90aW1lb3V0X21zPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYXV0b19jYW5jZWxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBpbmNvbWluZ19jYWxsX3RpbWVvdXRfbXM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbWlzc2VkX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTRlVMb2NhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU0ZVTG9jYXRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q29vcmRpbmF0ZXN9XG4gICAqIEBtZW1iZXJvZiBTRlVMb2NhdGlvblJlc3BvbnNlXG4gICAqL1xuICBjb29yZGluYXRlczogQ29vcmRpbmF0ZXM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVTG9jYXRpb25SZXNwb25zZVxuICAgKi9cbiAgZGF0YWNlbnRlcjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNGVUxvY2F0aW9uUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TG9jYXRpb259XG4gICAqIEBtZW1iZXJvZiBTRlVMb2NhdGlvblJlc3BvbnNlXG4gICAqL1xuICBsb2NhdGlvbjogTG9jYXRpb247XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNGVVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU0ZVUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNGVVJlc3BvbnNlXG4gICAqL1xuICBlZGdlX25hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTRlVSZXNwb25zZVxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVUmVzcG9uc2VcbiAgICovXG4gIHdzX2VuZHBvaW50OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RhcmdldFJlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICB0YXJnZXRfcmVzb2x1dGlvbj86IFRhcmdldFJlc29sdXRpb247XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0YXJnZXRfcmVzb2x1dGlvbj86IFRhcmdldFJlc29sdXRpb247XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNES1VzYWdlUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTREtVc2FnZVJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlPFNES1VzYWdlUmVwb3J0Pj59XG4gICAqIEBtZW1iZXJvZiBTREtVc2FnZVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxTREtVc2FnZVJlcG9ydD4+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTREtVc2FnZVJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNES1VzYWdlUmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IFBlclNES1VzYWdlUmVwb3J0OyB9fVxuICAgKiBAbWVtYmVyb2YgU0RLVXNhZ2VSZXBvcnRcbiAgICovXG4gIHBlcl9zZGtfdXNhZ2U6IHsgW2tleTogc3RyaW5nXTogUGVyU0RLVXNhZ2VSZXBvcnQgfTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBTZW5kQ2FsbEV2ZW50UmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZENhbGxFdmVudFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFJlYWN0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlcXVlc3RcbiAgICovXG4gIGVtb2ppX2NvZGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVxdWVzdFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRSZWFjdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVhY3Rpb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICByZWFjdGlvbjogUmVhY3Rpb25SZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU29ydFBhcmFtUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvcnRQYXJhbVJlcXVlc3Qge1xuICAvKipcbiAgICogRGlyZWN0aW9uIG9mIHNvcnRpbmcsIDEgZm9yIEFzY2VuZGluZywgLTEgZm9yIERlc2NlbmRpbmcsIGRlZmF1bHQgaXMgMVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU29ydFBhcmFtUmVxdWVzdFxuICAgKi9cbiAgZGlyZWN0aW9uPzogbnVtYmVyO1xuICAvKipcbiAgICogTmFtZSBvZiBmaWVsZCB0byBzb3J0IGJ5XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTb3J0UGFyYW1SZXF1ZXN0XG4gICAqL1xuICBmaWVsZD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBFbmFibGUgdHJhbnNjcmlwdGlvbnMgYWxvbmcgd2l0aCBjbG9zZWQgY2FwdGlvbnNcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlX3RyYW5zY3JpcHRpb24/OiBib29sZWFuO1xuICAvKipcbiAgICogV2hpY2ggZXh0ZXJuYWwgc3RvcmFnZSB0byB1c2UgZm9yIHRyYW5zY3JpcHRpb25zIChvbmx5IGFwcGxpY2FibGUgaWYgZW5hYmxlX3RyYW5zY3JpcHRpb24gaXMgdHJ1ZSlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0XG4gICAqL1xuICBleHRlcm5hbF9zdG9yYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHNwb2tlbiBsYW5ndWFnZSBpbiB0aGUgY2FsbCwgaWYgbm90IHByb3ZpZGVkIHRoZSBsYW5ndWFnZSBkZWZpbmVkIGluIHRoZSB0cmFuc2NyaXB0aW9uIHNldHRpbmdzIHdpbGwgYmUgdXNlZFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydENsb3NlZENhcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydENsb3NlZENhcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3Igc3RhcnRpbmcgYW4gSExTIGJyb2FkY2FzdGluZy5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgVVJMIG9mIHRoZSBITFMgcGxheWxpc3RcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAgICovXG4gIHBsYXlsaXN0X3VybDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFJlY29yZGluZ1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFJlY29yZGluZ1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdFxuICAgKi9cbiAgcmVjb3JkaW5nX2V4dGVybmFsX3N0b3JhZ2U/OiBzdHJpbmc7XG59XG4vKipcbiAqIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2UgaXMgdGhlIHJlc3BvbnNlIHBheWxvYWQgZm9yIHRoZSBzdGFydCByZWNvcmRpbmcgZW5kcG9pbnQuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRSZWNvcmRpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3Qge1xuICAvKipcbiAgICogRW5hYmxlIGNsb3NlZCBjYXB0aW9ucyBhbG9uZyB3aXRoIHRyYW5zY3JpcHRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlX2Nsb3NlZF9jYXB0aW9ucz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBUaGUgc3Bva2VuIGxhbmd1YWdlIGluIHRoZSBjYWxsLCBpZiBub3QgcHJvdmlkZWQgdGhlIGxhbmd1YWdlIGRlZmluZWQgaW4gdGhlIHRyYW5zY3JpcHRpb24gc2V0dGluZ3Mgd2lsbCBiZSB1c2VkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFN0b3JlIHRyYW5zY3JpcHRpb25zIGluIHRoaXMgZXh0ZXJuYWwgc3RvcmFnZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgKi9cbiAgdHJhbnNjcmlwdGlvbl9leHRlcm5hbF9zdG9yYWdlPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXRzT3B0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRzT3B0aW9ucyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3RhdHNPcHRpb25zXG4gICAqL1xuICByZXBvcnRpbmdfaW50ZXJ2YWxfbXM6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcENsb3NlZENhcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BDbG9zZWRDYXB0aW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXF1ZXN0XG4gICAqL1xuICBzdG9wX3RyYW5zY3JpcHRpb24/OiBib29sZWFuO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcENsb3NlZENhcHRpb25zUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcExpdmVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BMaXZlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFN0b3BMaXZlUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wTGl2ZVJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wUmVjb3JkaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wUmVjb3JkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wUmVjb3JkaW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BUcmFuc2NyaXB0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFN0b3BUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgKi9cbiAgc3RvcF9jbG9zZWRfY2FwdGlvbnM/OiBib29sZWFuO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN1YnNlc3Npb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzZXNzaW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTdWJzZXNzaW9uXG4gICAqL1xuICBlbmRlZF9hdDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFN1YnNlc3Npb25cbiAgICovXG4gIGpvaW5lZF9hdDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lZGlhUHViU3ViSGludH1cbiAgICogQG1lbWJlcm9mIFN1YnNlc3Npb25cbiAgICovXG4gIHB1Yl9zdWJfaGludD86IE1lZGlhUHViU3ViSGludDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdWJzZXNzaW9uXG4gICAqL1xuICBzZnVfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGFyZ2V0UmVzb2x1dGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRhcmdldFJlc29sdXRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFRhcmdldFJlc29sdXRpb25cbiAgICovXG4gIGJpdHJhdGU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGFyZ2V0UmVzb2x1dGlvblxuICAgKi9cbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGFyZ2V0UmVzb2x1dGlvblxuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGhyZXNob2xkc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFRocmVzaG9sZHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xhYmVsVGhyZXNob2xkc31cbiAgICogQG1lbWJlcm9mIFRocmVzaG9sZHNcbiAgICovXG4gIGV4cGxpY2l0PzogTGFiZWxUaHJlc2hvbGRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xhYmVsVGhyZXNob2xkc31cbiAgICogQG1lbWJlcm9mIFRocmVzaG9sZHNcbiAgICovXG4gIHNwYW0/OiBMYWJlbFRocmVzaG9sZHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TGFiZWxUaHJlc2hvbGRzfVxuICAgKiBAbWVtYmVyb2YgVGhyZXNob2xkc1xuICAgKi9cbiAgdG94aWM/OiBMYWJlbFRocmVzaG9sZHM7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRodW1ibmFpbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGh1bWJuYWlsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRodW1ibmFpbFJlc3BvbnNlXG4gICAqL1xuICBpbWFnZV91cmw6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGh1bWJuYWlsc1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUaW1lU3RhdHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lU3RhdHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFRpbWVTdGF0c1xuICAgKi9cbiAgYXZlcmFnZV9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGltZVN0YXRzXG4gICAqL1xuICBtYXhfc2Vjb25kczogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgY2xvc2VkX2NhcHRpb25fbW9kZT86IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RDbG9zZWRDYXB0aW9uTW9kZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbW9kZTogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RDbG9zZWRDYXB0aW9uTW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdENsb3NlZENhcHRpb25Nb2RlRW51bSA9XG4gICh0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdENsb3NlZENhcHRpb25Nb2RlRW51bSlba2V5b2YgdHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RDbG9zZWRDYXB0aW9uTW9kZUVudW1dO1xuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0gPVxuICAodHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bSlba2V5b2YgdHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGNsb3NlZF9jYXB0aW9uX21vZGU6IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlQ2xvc2VkQ2FwdGlvbk1vZGVFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBsYW5ndWFnZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtb2RlOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlQ2xvc2VkQ2FwdGlvbk1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlQ2xvc2VkQ2FwdGlvbk1vZGVFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUNsb3NlZENhcHRpb25Nb2RlRW51bSlba2V5b2YgdHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlQ2xvc2VkQ2FwdGlvbk1vZGVFbnVtXTtcblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0gPVxuICAodHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0pW2tleW9mIHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUeXBpbmdJbmRpY2F0b3JzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHlwaW5nSW5kaWNhdG9ycyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFR5cGluZ0luZGljYXRvcnNcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFR5cGluZ0luZGljYXRvcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFR5cGluZ0luZGljYXRvcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFR5cGluZ0luZGljYXRvcnNSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG4vKipcbiAqIFVuYmxvY2tVc2VyUmVxdWVzdCBpcyB0aGUgcGF5bG9hZCBmb3IgdW5ibG9ja2luZyBhIHVzZXIuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVuYmxvY2tVc2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVuYmxvY2tVc2VyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiB0aGUgdXNlciB0byB1bmJsb2NrXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrVXNlclJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICogVW5ibG9ja1VzZXJSZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgdW5ibG9ja2luZyBhIHVzZXIuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVuYmxvY2tVc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbmJsb2NrVXNlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja1VzZXJSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIGlzIHVuYmxvY2tlZCBvbiBhIGNhbGwsXG4gKiB0aGlzIGNhbiBiZSB1c2VmdWwgdG8gbm90aWZ5IHRoZSB1c2VyIHRoYXQgdGhleSBjYW4gbm93IGpvaW4gdGhlIGNhbGwgYWdhaW5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5ibG9ja2VkVXNlckV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5ibG9ja2VkVXNlckV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnVuYmxvY2tlZF91c2VyXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICogVW5waW5SZXF1ZXN0IGlzIHRoZSBwYXlsb2FkIGZvciB1bnBpbm5pbmcgYSBtZXNzYWdlLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbnBpblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbnBpblJlcXVlc3Qge1xuICAvKipcbiAgICogdGhlIHNlc3Npb24gSUQgb2YgdGhlIHVzZXIgd2hvIHBpbm5lZCB0aGUgbWVzc2FnZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5waW5SZXF1ZXN0XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgdXNlciBJRCBvZiB0aGUgdXNlciB3aG8gcGlubmVkIHRoZSBtZXNzYWdlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbnBpblJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICogVW5waW5SZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgdW5waW5uaW5nIGEgbWVzc2FnZS5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5waW5SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVucGluUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbnBpblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBVcGRhdGUgY2FsbCBtZW1iZXJzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBMaXN0IG9mIHVzZXJJRCB0byByZW1vdmVcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHJlbW92ZV9tZW1iZXJzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIExpc3Qgb2YgbWVtYmVycyB0byB1cGRhdGUgb3IgaW5zZXJ0XG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXF1ZXN0Pn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgdXBkYXRlX21lbWJlcnM/OiBBcnJheTxNZW1iZXJSZXF1ZXN0Pjtcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbn1cbi8qKlxuICogUmVxdWVzdCBmb3IgdXBkYXRpbmcgYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgc2V0dGluZ3Nfb3ZlcnJpZGU/OiBDYWxsU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICogdGhlIHRpbWUgdGhlIGNhbGwgaXMgc2NoZWR1bGVkIHRvIHN0YXJ0XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xufVxuLyoqXG4gKiBSZXNwb25zZSBmb3IgdXBkYXRpbmcgYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZUNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAgICovXG4gIGdyYW50X3Blcm1pc3Npb25zPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICAgKi9cbiAgcmV2b2tlX3Blcm1pc3Npb25zPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHRvIG5vdGlmeSBhYm91dCBwZXJtaXNzaW9uIGNoYW5nZXMgZm9yIGEgdXNlciwgY2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgdXBkYXRlIHRoZWlyIFVJIGFjY29yZGluZ2x5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY3VycmVudCB1c2VyXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnBlcm1pc3Npb25zX3VwZGF0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck9iamVjdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclxuICAgKi9cbiAgYmFuX2V4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyXG4gICAqL1xuICByZWFkb25seSBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJcbiAgICovXG4gIHJlYWRvbmx5IGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJcbiAgICovXG4gIHJlYWRvbmx5IGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclxuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyXG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyXG4gICAqL1xuICByZWFkb25seSBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyXG4gICAqL1xuICByZWFkb25seSBsYXN0X2VuZ2FnZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJcbiAgICovXG4gIHJlYWRvbmx5IG9ubGluZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQcml2YWN5U2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBVc2VyXG4gICAqL1xuICBwcml2YWN5X3NldHRpbmdzPzogUHJpdmFjeVNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIFVzZXJcbiAgICovXG4gIHB1c2hfbm90aWZpY2F0aW9ucz86IFB1c2hOb3RpZmljYXRpb25TZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyXG4gICAqL1xuICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclxuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyXG4gICAqL1xuICB0ZWFtcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclxuICAgKi9cbiAgcmVhZG9ubHkgdXBkYXRlZF9hdD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckJhbm5lZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckJhbm5lZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGNoYW5uZWxfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGNoYW5uZWxfdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9ieTogVXNlck9iamVjdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGV4cGlyYXRpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgc2hhZG93OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyRGVhY3RpdmF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYnk6IFVzZXJPYmplY3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckRlYWN0aXZhdGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyRGVsZXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckRlbGV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVsZXRlZEV2ZW50XG4gICAqL1xuICBkZWxldGVfY29udmVyc2F0aW9uX2NoYW5uZWxzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVsZXRlZEV2ZW50XG4gICAqL1xuICBoYXJkX2RlbGV0ZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgbWFya19tZXNzYWdlc19kZWxldGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJEZWxldGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJFdmVudFBheWxvYWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyRXZlbnRQYXlsb2FkIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlckV2ZW50UGF5bG9hZFxuICAgKi9cbiAgYmFubmVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyRXZlbnRQYXlsb2FkXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJFdmVudFBheWxvYWRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJFdmVudFBheWxvYWRcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyRXZlbnRQYXlsb2FkXG4gICAqL1xuICBkZWFjdGl2YXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyRXZlbnRQYXlsb2FkXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJFdmVudFBheWxvYWRcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckV2ZW50UGF5bG9hZFxuICAgKi9cbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJFdmVudFBheWxvYWRcbiAgICovXG4gIGludmlzaWJsZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckV2ZW50UGF5bG9hZFxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyRXZlbnRQYXlsb2FkXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyRXZlbnRQYXlsb2FkXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyRXZlbnRQYXlsb2FkXG4gICAqL1xuICBvbmxpbmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHJpdmFjeVNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVc2VyRXZlbnRQYXlsb2FkXG4gICAqL1xuICBwcml2YWN5X3NldHRpbmdzPzogUHJpdmFjeVNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckV2ZW50UGF5bG9hZFxuICAgKi9cbiAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJFdmVudFBheWxvYWRcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlckV2ZW50UGF5bG9hZFxuICAgKi9cbiAgdGVhbXM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckV2ZW50UGF5bG9hZFxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyRmxhZ2dlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckZsYWdnZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckZsYWdnZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJGbGFnZ2VkRXZlbnRcbiAgICovXG4gIHRhcmdldF91c2VyPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyRmxhZ2dlZEV2ZW50XG4gICAqL1xuICB0YXJnZXRfdXNlcnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJGbGFnZ2VkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckZsYWdnZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8VXNlckZlZWRiYWNrUmVwb3J0Pj59XG4gICAqIEBtZW1iZXJvZiBVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZGFpbHk6IEFycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8VXNlckZlZWRiYWNrUmVwb3J0Pj47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJGZWVkYmFja1JlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJGZWVkYmFja1JlcG9ydCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBudW1iZXI7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyRmVlZGJhY2tSZXBvcnRcbiAgICovXG4gIGNvdW50X2J5X3JhdGluZzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyRmVlZGJhY2tSZXBvcnRcbiAgICovXG4gIHVucmVwb3J0ZWRfY291bnQ6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckluZm9SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJJbmZvUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlckluZm9SZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJJbmZvUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckluZm9SZXNwb25zZVxuICAgKi9cbiAgaW1hZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VySW5mb1Jlc3BvbnNlXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJJbmZvUmVzcG9uc2VcbiAgICovXG4gIHJvbGVzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyTXV0ZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck11dGVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlUmVzcG9uc2VcbiAgICovXG4gIGV4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVSZXNwb25zZVxuICAgKi9cbiAgdGFyZ2V0PzogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVJlc3BvbnNlXG4gICAqL1xuICB1c2VyPzogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyTXV0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJNdXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICB0YXJnZXRfdXNlcj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHRhcmdldF91c2Vycz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVhY3RpdmF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJSZWFjdGl2YXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVhY3RpdmF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJSZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICogVXNlciByZXF1ZXN0IG9iamVjdFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogVXNlciBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBuYW1lIG9mIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ByaXZhY3lTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBQcml2YWN5U2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dH1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dDtcbn1cbi8qKlxuICogVXNlciByZXNwb25zZSBvYmplY3RcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgYSB1c2VyIGlzIGJhbm5lZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIERhdGUgb2YgZGVhY3RpdmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVbmlxdWUgdXNlciBpZGVudGlmaWVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFByZWZlcnJlZCBsYW5ndWFnZSBvZiBhIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgb2YgbGFzdCBhY3Rpdml0eVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIG5hbWUgb2YgdXNlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciBhIHVzZXIgb25saW5lIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgb25saW5lOiBib29sZWFuO1xuICAvKipcbiAgICogUmV2b2NhdGlvbiBkYXRlIGZvciB0b2tlbnNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgc2V0IG9mIHVzZXIgcGVybWlzc2lvbnNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICogTGlzdCBvZiB0ZWFtcyB1c2VyIGlzIGEgcGFydCBvZlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgdGVhbXM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclNlc3Npb25TdGF0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJTZXNzaW9uU3RhdHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGF2ZXJhZ2VfY29ubmVjdGlvbl90aW1lPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGJyb3dzZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgYnJvd3Nlcl92ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGN1cnJlbnRfaXA/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgY3VycmVudF9zZnU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgZGV2aWNlX21vZGVsPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGRldmljZV92ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGRpc3RhbmNlX3RvX3NmdV9raWxvbWV0ZXJzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGZyZWV6ZV9kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7R2VvbG9jYXRpb25SZXN1bHR9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBnZW9sb2NhdGlvbj86IEdlb2xvY2F0aW9uUmVzdWx0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGdyb3VwOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGltZVN0YXRzfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgaml0dGVyPzogVGltZVN0YXRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RpbWVTdGF0c31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGxhdGVuY3k/OiBUaW1lU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X2Zpcl9wZXJfc2Vjb25kPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9mcmVlemVfZnJhY3Rpb246IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfZnJlZXplc19kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X2ZyZWV6ZXNfcGVyX3NlY29uZD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfbmFja19wZXJfc2Vjb25kPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9wbGlfcGVyX3NlY29uZD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1F1YWxpdHl9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfcHVibGlzaGluZ192aWRlb19xdWFsaXR5PzogVmlkZW9RdWFsaXR5O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvUXVhbGl0eX1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9yZWNlaXZpbmdfdmlkZW9fcXVhbGl0eT86IFZpZGVvUXVhbGl0eTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtaW5fZXZlbnRfdHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBvcz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBvc192ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHBhY2tldF9sb3NzX2ZyYWN0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVkaWFQdWJTdWJIaW50fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHViX3N1Yl9oaW50cz86IE1lZGlhUHViU3ViSGludDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxQdWJsaXNoZWRUcmFja0luZm8+fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVkX3RyYWNrcz86IEFycmF5PFB1Ymxpc2hlZFRyYWNrSW5mbz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGltZVN0YXRzfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVyX2ppdHRlcj86IFRpbWVTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaW1lU3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfbGF0ZW5jeT86IFRpbWVTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfbm9pc2VfY2FuY2VsbGF0aW9uX3NlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVyX3BhY2tldF9sb3NzX2ZyYWN0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVyX3F1YWxpdHlfbGltaXRhdGlvbl9mcmFjdGlvbj86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IG51bWJlcjsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hlcl92aWRlb19xdWFsaXR5X2xpbWl0YXRpb25fZHVyYXRpb25fc2Vjb25kcz86IHtcbiAgICBba2V5OiBzdHJpbmddOiBudW1iZXI7XG4gIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGluZ19hdWRpb19jb2RlYz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoaW5nX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoaW5nX3ZpZGVvX2NvZGVjPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHF1YWxpdHlfc2NvcmU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICByZWNlaXZpbmdfYXVkaW9fY29kZWM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcmVjZWl2aW5nX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICByZWNlaXZpbmdfdmlkZW9fY29kZWM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc2RrPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHNka192ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaW1lU3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzY3JpYmVyX2ppdHRlcj86IFRpbWVTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaW1lU3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzY3JpYmVyX2xhdGVuY3k/OiBUaW1lU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc3Vic2NyaWJlcl92aWRlb19xdWFsaXR5X3Rocm90dGxlZF9kdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFN1YnNlc3Npb24+fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc3Vic2Vzc2lvbnM/OiBBcnJheTxTdWJzZXNzaW9uPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsVGltZWxpbmV9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICB0aW1lbGluZT86IENhbGxUaW1lbGluZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICB0b3RhbF9waXhlbHNfaW46IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICB0b3RhbF9waXhlbHNfb3V0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHRydW5jYXRlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgd2VicnRjX3ZlcnNpb24/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJTdGF0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJTdGF0cyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlckluZm9SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVzZXJTdGF0c1xuICAgKi9cbiAgaW5mbzogVXNlckluZm9SZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU3RhdHNcbiAgICovXG4gIG1pbl9ldmVudF90czogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTdGF0c1xuICAgKi9cbiAgcmF0aW5nPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFVzZXJTZXNzaW9uU3RhdHM+fVxuICAgKiBAbWVtYmVyb2YgVXNlclN0YXRzXG4gICAqL1xuICBzZXNzaW9uX3N0YXRzOiBBcnJheTxVc2VyU2Vzc2lvblN0YXRzPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclVuYmFubmVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyVW5iYW5uZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIGNoYW5uZWxfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgY2hhbm5lbF90eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIGNpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICBzaGFkb3c6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIHRlYW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyVW5tdXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclVubXV0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVubXV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbm11dGVkRXZlbnRcbiAgICovXG4gIHRhcmdldF91c2VyPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5tdXRlZEV2ZW50XG4gICAqL1xuICB0YXJnZXRfdXNlcnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbm11dGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlclVubXV0ZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgcmVjZWl2ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJFdmVudFBheWxvYWR9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyRXZlbnRQYXlsb2FkO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBWaWRlb0RpbWVuc2lvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvRGltZW5zaW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBWaWRlb0RpbWVuc2lvblxuICAgKi9cbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9EaW1lbnNpb25cbiAgICovXG4gIHdpZHRoOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFZpZGVvUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvUXVhbGl0eSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VmlkZW9EaW1lbnNpb259XG4gICAqIEBtZW1iZXJvZiBWaWRlb1F1YWxpdHlcbiAgICovXG4gIHJlc29sdXRpb24/OiBWaWRlb0RpbWVuc2lvbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBWaWRlb1F1YWxpdHlcbiAgICovXG4gIHVzYWdlX3R5cGU/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9TZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBjYW1lcmFfZGVmYXVsdF9vbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGNhbWVyYV9mYWNpbmc/OiBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUYXJnZXRSZXNvbHV0aW9ufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uPzogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW0gPSB7XG4gIEZST05UOiAnZnJvbnQnLFxuICBCQUNLOiAnYmFjaycsXG4gIEVYVEVSTkFMOiAnZXh0ZXJuYWwnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bSA9XG4gICh0eXBlb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtKVtrZXlvZiB0eXBlb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgY2FtZXJhX2RlZmF1bHRfb246IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBjYW1lcmFfZmFjaW5nOiBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdGFyZ2V0X3Jlc29sdXRpb246IFRhcmdldFJlc29sdXRpb247XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bSA9IHtcbiAgRlJPTlQ6ICdmcm9udCcsXG4gIEJBQ0s6ICdiYWNrJyxcbiAgRVhURVJOQUw6ICdleHRlcm5hbCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bSA9XG4gICh0eXBlb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bSlba2V5b2YgdHlwZW9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW1dO1xuXG4vKipcbiAqIFdlYnNvY2tldCBhdXRoIG1lc3NhZ2VcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgV1NBdXRoTWVzc2FnZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFdTQXV0aE1lc3NhZ2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICBwcm9kdWN0cz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgV1NBdXRoTWVzc2FnZVxuICAgKi9cbiAgdG9rZW46IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgV1NBdXRoTWVzc2FnZVxuICAgKi9cbiAgdXNlcl9kZXRhaWxzOiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0O1xufVxuLyoqXG4gKiBAdHlwZSBXU0V2ZW50XG4gKiBUaGUgZGlzY3JpbWluYXRvciBvYmplY3QgZm9yIGFsbCB3ZWJzb2NrZXQgZXZlbnRzLCBpdCBtYXBzIGV2ZW50cycgcGF5bG9hZCB0byB0aGUgZmluYWwgdHlwZVxuICogQGV4cG9ydFxuICovXG5leHBvcnQgdHlwZSBXU0V2ZW50ID1cbiAgfCAoeyB0eXBlOiAnY2FsbC5hY2NlcHRlZCcgfSAmIENhbGxBY2NlcHRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmJsb2NrZWRfdXNlcicgfSAmIEJsb2NrZWRVc2VyRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuY2xvc2VkX2NhcHRpb24nIH0gJiBDbG9zZWRDYXB0aW9uRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuY2xvc2VkX2NhcHRpb25zX2ZhaWxlZCcgfSAmIENhbGxDbG9zZWRDYXB0aW9uc0ZhaWxlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmNsb3NlZF9jYXB0aW9uc19zdGFydGVkJyB9ICYgQ2FsbENsb3NlZENhcHRpb25zU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmNsb3NlZF9jYXB0aW9uc19zdG9wcGVkJyB9ICYgQ2FsbENsb3NlZENhcHRpb25zU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmNyZWF0ZWQnIH0gJiBDYWxsQ3JlYXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmRlbGV0ZWQnIH0gJiBDYWxsRGVsZXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmVuZGVkJyB9ICYgQ2FsbEVuZGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19mYWlsZWQnIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nRmFpbGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RhcnRlZCc7XG4gICAgfSAmIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RvcHBlZCc7XG4gICAgfSAmIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubGl2ZV9zdGFydGVkJyB9ICYgQ2FsbExpdmVTdGFydGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubWVtYmVyX2FkZGVkJyB9ICYgQ2FsbE1lbWJlckFkZGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubWVtYmVyX3JlbW92ZWQnIH0gJiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl91cGRhdGVkJyB9ICYgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudClcbiAgfCAoe1xuICAgICAgdHlwZTogJ2NhbGwubWVtYmVyX3VwZGF0ZWRfcGVybWlzc2lvbic7XG4gICAgfSAmIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1pc3NlZCcgfSAmIENhbGxNaXNzZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5ub3RpZmljYXRpb24nIH0gJiBDYWxsTm90aWZpY2F0aW9uRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucGVybWlzc2lvbl9yZXF1ZXN0JyB9ICYgUGVybWlzc2lvblJlcXVlc3RFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5wZXJtaXNzaW9uc191cGRhdGVkJyB9ICYgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlYWN0aW9uX25ldycgfSAmIENhbGxSZWFjdGlvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19mYWlsZWQnIH0gJiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucmVjb3JkaW5nX3JlYWR5JyB9ICYgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucmVjb3JkaW5nX3N0YXJ0ZWQnIH0gJiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19zdG9wcGVkJyB9ICYgQ2FsbFJlY29yZGluZ1N0b3BwZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWplY3RlZCcgfSAmIENhbGxSZWplY3RlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJpbmcnIH0gJiBDYWxsUmluZ0V2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnNlc3Npb25fZW5kZWQnIH0gJiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfY291bnRfdXBkYXRlZCc7XG4gICAgfSAmIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkJztcbiAgICB9ICYgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2xlZnQnO1xuICAgIH0gJiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnNlc3Npb25fc3RhcnRlZCcgfSAmIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnRyYW5zY3JpcHRpb25fZmFpbGVkJyB9ICYgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3JlYWR5JyB9ICYgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnRyYW5zY3JpcHRpb25fc3RhcnRlZCcgfSAmIENhbGxUcmFuc2NyaXB0aW9uU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnRyYW5zY3JpcHRpb25fc3RvcHBlZCcgfSAmIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnVuYmxvY2tlZF91c2VyJyB9ICYgVW5ibG9ja2VkVXNlckV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnVwZGF0ZWQnIH0gJiBDYWxsVXBkYXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnVzZXJfbXV0ZWQnIH0gJiBDYWxsVXNlck11dGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2Nvbm5lY3Rpb24uZXJyb3InIH0gJiBDb25uZWN0aW9uRXJyb3JFdmVudClcbiAgfCAoeyB0eXBlOiAnY29ubmVjdGlvbi5vaycgfSAmIENvbm5lY3RlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjdXN0b20nIH0gJiBDdXN0b21WaWRlb0V2ZW50KVxuICB8ICh7IHR5cGU6ICdoZWFsdGguY2hlY2snIH0gJiBIZWFsdGhDaGVja0V2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLmJhbm5lZCcgfSAmIFVzZXJCYW5uZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5kZWFjdGl2YXRlZCcgfSAmIFVzZXJEZWFjdGl2YXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLmRlbGV0ZWQnIH0gJiBVc2VyRGVsZXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLm11dGVkJyB9ICYgVXNlck11dGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ3VzZXIucHJlc2VuY2UuY2hhbmdlZCcgfSAmIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5yZWFjdGl2YXRlZCcgfSAmIFVzZXJSZWFjdGl2YXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLnVuYmFubmVkJyB9ICYgVXNlclVuYmFubmVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ3VzZXIudXBkYXRlZCcgfSAmIFVzZXJVcGRhdGVkRXZlbnQpO1xuIiwiaW1wb3J0IHsgQXhpb3NSZXF1ZXN0Q29uZmlnLCBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgQ29ubmVjdGVkRXZlbnQsIFVzZXJSZXF1ZXN0LCBXU0V2ZW50IH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IEFsbFNmdUV2ZW50cyB9IGZyb20gJy4uLy4uL3J0Yyc7XG5cbmV4cG9ydCB0eXBlIFVSID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbmV4cG9ydCB0eXBlIFVzZXIgPVxuICB8IChPbWl0PFVzZXJSZXF1ZXN0LCAncm9sZSc+ICYgeyB0eXBlPzogJ2F1dGhlbnRpY2F0ZWQnIH0pXG4gIHwgKE9taXQ8VXNlclJlcXVlc3QsICdyb2xlJz4gJiB7IHR5cGU6ICdndWVzdCcgfSlcbiAgfCAoT21pdDxVc2VyUmVxdWVzdCwgJ2lkJyB8ICdyb2xlJz4gJiB7XG4gICAgICBpZD86ICchYW5vbic7XG4gICAgICB0eXBlOiAnYW5vbnltb3VzJztcbiAgICB9KTtcblxuZXhwb3J0IHR5cGUgVXNlcldpdGhJZCA9XG4gIHwgKFVzZXJSZXF1ZXN0ICYgeyB0eXBlPzogJ2F1dGhlbnRpY2F0ZWQnIH0pXG4gIHwgKFVzZXJSZXF1ZXN0ICYgeyB0eXBlOiAnZ3Vlc3QnIH0pXG4gIHwgKFVzZXJSZXF1ZXN0ICYge1xuICAgICAgaWQ6ICchYW5vbic7XG4gICAgICB0eXBlOiAnYW5vbnltb3VzJztcbiAgICB9KTtcblxuZXhwb3J0IHR5cGUgeyBPd25Vc2VyUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuXG5leHBvcnQgdHlwZSBDb25uZWN0QVBJUmVzcG9uc2UgPSBQcm9taXNlPHZvaWQgfCBDb25uZWN0ZWRFdmVudD47XG5cbmV4cG9ydCB0eXBlIExvZ0xldmVsID0gJ3RyYWNlJyB8ICdkZWJ1ZycgfCAnaW5mbycgfCAnd2FybicgfCAnZXJyb3InO1xuXG50eXBlIEVycm9yUmVzcG9uc2VEZXRhaWxzID0ge1xuICBjb2RlOiBudW1iZXI7XG4gIG1lc3NhZ2VzOiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEFQSUVycm9yUmVzcG9uc2UgPSB7XG4gIGNvZGU6IG51bWJlcjtcbiAgZHVyYXRpb246IHN0cmluZztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBtb3JlX2luZm86IHN0cmluZztcbiAgU3RhdHVzQ29kZTogbnVtYmVyO1xuICBkZXRhaWxzPzogRXJyb3JSZXNwb25zZURldGFpbHM7XG4gIHVucmVjb3ZlcmFibGU/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGNsYXNzIEVycm9yRnJvbVJlc3BvbnNlPFQ+IGV4dGVuZHMgRXJyb3Ige1xuICBjb2RlPzogbnVtYmVyO1xuICByZXNwb25zZT86IEF4aW9zUmVzcG9uc2U8VD47XG4gIHN0YXR1cz86IG51bWJlcjtcbiAgdW5yZWNvdmVyYWJsZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIENvbm5lY3Rpb25DaGFuZ2VkRXZlbnQgPSB7XG4gIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnO1xuICBvbmxpbmU6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBOZXR3b3JrQ2hhbmdlZEV2ZW50ID0ge1xuICB0eXBlOiAnbmV0d29yay5jaGFuZ2VkJztcbiAgb25saW5lOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgVHJhbnNwb3J0Q2hhbmdlZEV2ZW50ID0ge1xuICB0eXBlOiAndHJhbnNwb3J0LmNoYW5nZWQnO1xuICBtb2RlOiAnbG9uZ3BvbGwnO1xufTtcblxuZXhwb3J0IHR5cGUgQ29ubmVjdGlvblJlY292ZXJlZEV2ZW50ID0ge1xuICB0eXBlOiAnY29ubmVjdGlvbi5yZWNvdmVyZWQnO1xufTtcblxuZXhwb3J0IHR5cGUgU3RyZWFtVmlkZW9FdmVudCA9IChcbiAgfCBXU0V2ZW50XG4gIHwgTmV0d29ya0NoYW5nZWRFdmVudFxuICB8IENvbm5lY3Rpb25DaGFuZ2VkRXZlbnRcbiAgfCBUcmFuc3BvcnRDaGFuZ2VkRXZlbnRcbiAgfCBDb25uZWN0aW9uUmVjb3ZlcmVkRXZlbnRcbikgJiB7IHJlY2VpdmVkX2F0Pzogc3RyaW5nIHwgRGF0ZSB9O1xuXG4vLyBUT0RPOiB3ZSBzaG91bGQgdXNlIFdTQ2FsbEV2ZW50IGhlcmUgYnV0IHRoYXQgbmVlZHMgZml4aW5nXG5leHBvcnQgdHlwZSBTdHJlYW1DYWxsRXZlbnQgPSBFeHRyYWN0PFN0cmVhbVZpZGVvRXZlbnQsIHsgY2FsbF9jaWQ6IHN0cmluZyB9PjtcbmV4cG9ydCB0eXBlIEV2ZW50VHlwZXMgPSAnYWxsJyB8IFdTRXZlbnRbJ3R5cGUnXTtcblxuZXhwb3J0IHR5cGUgQWxsQ2xpZW50RXZlbnRUeXBlcyA9ICdhbGwnIHwgU3RyZWFtVmlkZW9FdmVudFsndHlwZSddO1xuZXhwb3J0IHR5cGUgQWxsQ2xpZW50RXZlbnRzID0ge1xuICBbSyBpbiBBbGxDbGllbnRFdmVudFR5cGVzXTogRXh0cmFjdDxTdHJlYW1WaWRlb0V2ZW50LCB7IHR5cGU6IEsgfT47XG59O1xuZXhwb3J0IHR5cGUgQ2xpZW50RXZlbnRMaXN0ZW5lcjxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPiA9IChcbiAgZXZlbnQ6IEFsbENsaWVudEV2ZW50c1tFXSxcbikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgQWxsQ2xpZW50Q2FsbEV2ZW50cyA9IHtcbiAgW0sgaW4gRXZlbnRUeXBlc106IEV4dHJhY3Q8V1NFdmVudCwgeyB0eXBlOiBLIH0+O1xufTtcblxuZXhwb3J0IHR5cGUgQWxsQ2FsbEV2ZW50cyA9IEFsbENsaWVudENhbGxFdmVudHMgJiBBbGxTZnVFdmVudHM7XG5leHBvcnQgdHlwZSBDYWxsRXZlbnRMaXN0ZW5lcjxFIGV4dGVuZHMga2V5b2YgQWxsQ2FsbEV2ZW50cz4gPSAoXG4gIGV2ZW50OiBBbGxDYWxsRXZlbnRzW0VdLFxuKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBMb2dnZXIgPSAoXG4gIGxvZ0xldmVsOiBMb2dMZXZlbCxcbiAgbWVzc2FnZTogc3RyaW5nLFxuICAuLi5hcmdzOiB1bmtub3duW11cbikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgU3RyZWFtQ2xpZW50T3B0aW9ucyA9IFBhcnRpYWw8QXhpb3NSZXF1ZXN0Q29uZmlnPiAmIHtcbiAgLyoqXG4gICAqIFVzZWQgdG8gZGlzYWJsZSB3YXJuaW5ncyB0aGF0IGFyZSB0cmlnZ2VyZWQgYnkgdXNpbmcgY29ubmVjdFVzZXIgb3IgY29ubmVjdEFub255bW91c1VzZXIgc2VydmVyLXNpZGUuXG4gICAqL1xuICBhbGxvd1NlcnZlclNpZGVDb25uZWN0PzogYm9vbGVhbjtcbiAgYXhpb3NSZXF1ZXN0Q29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnO1xuICAvKipcbiAgICogQmFzZSB1cmwgdG8gdXNlIGZvciBBUElcbiAgICogc3VjaCBhcyBodHRwczovL2NoYXQtcHJveHktZHVibGluLnN0cmVhbS1pby1hcGkuY29tXG4gICAqL1xuICBiYXNlVVJMPzogc3RyaW5nO1xuICBicm93c2VyPzogYm9vbGVhbjtcbiAgbG9nZ2VyPzogTG9nZ2VyO1xuICBsb2dMZXZlbD86IExvZ0xldmVsO1xuICAvKipcbiAgICogVGhlIFVSTCB0byB1c2UgZm9yIHRoZSBsb2NhdGlvbiBoaW50LlxuICAgKi9cbiAgbG9jYXRpb25IaW50VXJsPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGRlZmF1bHQgdGltZW91dCBmb3IgcmVxdWVzdGluZyBhIGxvY2F0aW9uIGhpbnQuXG4gICAqL1xuICBsb2NhdGlvbkhpbnRUaW1lb3V0PzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGF0dGVtcHRzIHRvIHJlcXVlc3QgYSBsb2NhdGlvbiBoaW50LlxuICAgKi9cbiAgbG9jYXRpb25IaW50TWF4QXR0ZW1wdHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHVzZXIgd2lsbCBiZSBwZXJzaXN0ZWQgb24gY2xpZW50LiBPdGhlcndpc2UgaWYgYGNvbm5lY3RVc2VyYCBjYWxsIGZhaWxzLCB0aGVuIHlvdSBuZWVkIHRvXG4gICAqIGNhbGwgYGNvbm5lY3RVc2VyYCBhZ2FpbiB0byByZXRyeS5cbiAgICogVGhpcyBpcyBtYWlubHkgdXNlZnVsIGZvciBjaGF0IGFwcGxpY2F0aW9uIHdvcmtpbmcgaW4gb2ZmbGluZSBtb2RlLCB3aGVyZSB5b3Ugd2lsbCBuZWVkIGNsaWVudC51c2VyIHRvXG4gICAqIHBlcnNpc3QgZXZlbiBpZiBjb25uZWN0VXNlciBjYWxsIGZhaWxzLlxuICAgKi9cbiAgcGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHNlY3JldCBrZXkgZm9yIHRoZSBBUEkga2V5LiBUaGlzIGlzIG9ubHkgbmVlZGVkIGZvciBzZXJ2ZXIgc2lkZSBhdXRoZW50aWNhdGlvbi5cbiAgICovXG4gIHNlY3JldD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIFdlYlNvY2tldCBpbXBsZW1lbnRhdGlvbiB0byB1c2UuIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBmb3IgdGVzdGluZy5cbiAgICogSW4gTm9kZS5qcyBlbnZpcm9ubWVudCwgeW91IGNhbiB1c2UgdGhlIGB3c2AgcGFja2FnZS5cbiAgICovXG4gIFdlYlNvY2tldEltcGw/OiB0eXBlb2YgV2ViU29ja2V0O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgV2ViIFdvcmtlciB0byBpbml0aWF0ZSB0aW1lciBldmVudHMgbGlrZSBoZWFsdGggY2hlY2tzLiBDYW4gcG9zc2libHkgcHJldmVudFxuICAgKiB0aW1lciB0aHJvdHRsaW5nIGlzc3VlcyBpbiBpbmFjdGl2ZSBicm93c2VyIHRhYnMuXG4gICAqL1xuICBlbmFibGVUaW1lcldvcmtlcj86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBUb2tlblByb3ZpZGVyID0gKCkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuZXhwb3J0IHR5cGUgVG9rZW5PclByb3ZpZGVyID0gbnVsbCB8IHN0cmluZyB8IFRva2VuUHJvdmlkZXIgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIEJ1aWx0SW5SZWplY3RSZWFzb24gPSAnYnVzeScgfCAnZGVjbGluZScgfCAnY2FuY2VsJztcbmV4cG9ydCB0eXBlIFJlamVjdFJlYXNvbiA9IEJ1aWx0SW5SZWplY3RSZWFzb24gfCBzdHJpbmc7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvXCIgKHBhY2thZ2UgXCJnb29nbGUucHJvdG9idWZcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG4vL1xuLy8gUHJvdG9jb2wgQnVmZmVycyAtIEdvb2dsZSdzIGRhdGEgaW50ZXJjaGFuZ2UgZm9ybWF0XG4vLyBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4vLyBtZXQ6XG4vL1xuLy8gICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbi8vIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4vLyB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbi8vIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbi8vIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuLy8gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4vLyBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbi8vIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuLy8gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbi8vXG5pbXBvcnQgeyBpc0pzb25PYmplY3QgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgeyB0eXBlb2ZKc29uVmFsdWUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEpzb25WYWx1ZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSnNvblJlYWRPcHRpb25zIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKc29uV3JpdGVPcHRpb25zIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKc29uT2JqZWN0IH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG4vKipcbiAqIGBTdHJ1Y3RgIHJlcHJlc2VudHMgYSBzdHJ1Y3R1cmVkIGRhdGEgdmFsdWUsIGNvbnNpc3Rpbmcgb2YgZmllbGRzXG4gKiB3aGljaCBtYXAgdG8gZHluYW1pY2FsbHkgdHlwZWQgdmFsdWVzLiBJbiBzb21lIGxhbmd1YWdlcywgYFN0cnVjdGBcbiAqIG1pZ2h0IGJlIHN1cHBvcnRlZCBieSBhIG5hdGl2ZSByZXByZXNlbnRhdGlvbi4gRm9yIGV4YW1wbGUsIGluXG4gKiBzY3JpcHRpbmcgbGFuZ3VhZ2VzIGxpa2UgSlMgYSBzdHJ1Y3QgaXMgcmVwcmVzZW50ZWQgYXMgYW5cbiAqIG9iamVjdC4gVGhlIGRldGFpbHMgb2YgdGhhdCByZXByZXNlbnRhdGlvbiBhcmUgZGVzY3JpYmVkIHRvZ2V0aGVyXG4gKiB3aXRoIHRoZSBwcm90byBzdXBwb3J0IGZvciB0aGUgbGFuZ3VhZ2UuXG4gKlxuICogVGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIGBTdHJ1Y3RgIGlzIEpTT04gb2JqZWN0LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3Qge1xuICAvKipcbiAgICogVW5vcmRlcmVkIG1hcCBvZiBkeW5hbWljYWxseSB0eXBlZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogbWFwPHN0cmluZywgZ29vZ2xlLnByb3RvYnVmLlZhbHVlPiBmaWVsZHMgPSAxO1xuICAgKi9cbiAgZmllbGRzOiB7XG4gICAgW2tleTogc3RyaW5nXTogVmFsdWU7XG4gIH07XG59XG4vKipcbiAqIGBWYWx1ZWAgcmVwcmVzZW50cyBhIGR5bmFtaWNhbGx5IHR5cGVkIHZhbHVlIHdoaWNoIGNhbiBiZSBlaXRoZXJcbiAqIG51bGwsIGEgbnVtYmVyLCBhIHN0cmluZywgYSBib29sZWFuLCBhIHJlY3Vyc2l2ZSBzdHJ1Y3QgdmFsdWUsIG9yIGFcbiAqIGxpc3Qgb2YgdmFsdWVzLiBBIHByb2R1Y2VyIG9mIHZhbHVlIGlzIGV4cGVjdGVkIHRvIHNldCBvbmUgb2YgdGhlc2VcbiAqIHZhcmlhbnRzLiBBYnNlbmNlIG9mIGFueSB2YXJpYW50IGluZGljYXRlcyBhbiBlcnJvci5cbiAqXG4gKiBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYFZhbHVlYCBpcyBKU09OIHZhbHVlLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjoga2luZFxuICAgKi9cbiAga2luZDpcbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbnVsbFZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBudWxsIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUgbnVsbF92YWx1ZSA9IDE7XG4gICAgICAgICAqL1xuICAgICAgICBudWxsVmFsdWU6IE51bGxWYWx1ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbnVtYmVyVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIGRvdWJsZSB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBkb3VibGUgbnVtYmVyX3ZhbHVlID0gMjtcbiAgICAgICAgICovXG4gICAgICAgIG51bWJlclZhbHVlOiBudW1iZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3N0cmluZ1ZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBzdHJpbmcgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHN0cmluZ192YWx1ZSA9IDM7XG4gICAgICAgICAqL1xuICAgICAgICBzdHJpbmdWYWx1ZTogc3RyaW5nO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdib29sVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIGJvb2xlYW4gdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBib29sX3ZhbHVlID0gNDtcbiAgICAgICAgICovXG4gICAgICAgIGJvb2xWYWx1ZTogYm9vbGVhbjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnc3RydWN0VmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIHN0cnVjdHVyZWQgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBzdHJ1Y3RfdmFsdWUgPSA1O1xuICAgICAgICAgKi9cbiAgICAgICAgc3RydWN0VmFsdWU6IFN0cnVjdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbGlzdFZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSByZXBlYXRlZCBgVmFsdWVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWUgbGlzdF92YWx1ZSA9IDY7XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0VmFsdWU6IExpc3RWYWx1ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBgTGlzdFZhbHVlYCBpcyBhIHdyYXBwZXIgYXJvdW5kIGEgcmVwZWF0ZWQgZmllbGQgb2YgdmFsdWVzLlxuICpcbiAqIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgTGlzdFZhbHVlYCBpcyBKU09OIGFycmF5LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0VmFsdWUge1xuICAvKipcbiAgICogUmVwZWF0ZWQgZmllbGQgb2YgZHluYW1pY2FsbHkgdHlwZWQgdmFsdWVzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZSB2YWx1ZXMgPSAxO1xuICAgKi9cbiAgdmFsdWVzOiBWYWx1ZVtdO1xufVxuLyoqXG4gKiBgTnVsbFZhbHVlYCBpcyBhIHNpbmdsZXRvbiBlbnVtZXJhdGlvbiB0byByZXByZXNlbnQgdGhlIG51bGwgdmFsdWUgZm9yIHRoZVxuICogYFZhbHVlYCB0eXBlIHVuaW9uLlxuICpcbiAqICBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYE51bGxWYWx1ZWAgaXMgSlNPTiBgbnVsbGAuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZVxuICovXG5leHBvcnQgZW51bSBOdWxsVmFsdWUge1xuICAvKipcbiAgICogTnVsbCB2YWx1ZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IE5VTExfVkFMVUUgPSAwO1xuICAgKi9cbiAgTlVMTF9WQUxVRSA9IDAsXG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdHJ1Y3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0cnVjdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdmaWVsZHMnLFxuICAgICAgICBraW5kOiAnbWFwJyxcbiAgICAgICAgSzogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICAgIFY6IHsga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBWYWx1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlIGBTdHJ1Y3RgIHRvIEpTT04gb2JqZWN0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogU3RydWN0LCBvcHRpb25zOiBKc29uV3JpdGVPcHRpb25zKTogSnNvblZhbHVlIHtcbiAgICBsZXQganNvbjogSnNvbk9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhtZXNzYWdlLmZpZWxkcykpIHtcbiAgICAgIGpzb25ba10gPSBWYWx1ZS50b0pzb24odik7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG4gIC8qKlxuICAgKiBEZWNvZGUgYFN0cnVjdGAgZnJvbSBKU09OIG9iamVjdC5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBTdHJ1Y3QsXG4gICk6IFN0cnVjdCB7XG4gICAgaWYgKCFpc0pzb25PYmplY3QoanNvbikpXG4gICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSBtZXNzYWdlICcgK1xuICAgICAgICAgIHRoaXMudHlwZU5hbWUgK1xuICAgICAgICAgICcgZnJvbSBKU09OICcgK1xuICAgICAgICAgIHR5cGVvZkpzb25WYWx1ZShqc29uKSArXG4gICAgICAgICAgJy4nLFxuICAgICAgKTtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBmb3IgKGxldCBbaywgdl0gb2YgZ2xvYmFsVGhpcy5PYmplY3QuZW50cmllcyhqc29uKSkge1xuICAgICAgdGFyZ2V0LmZpZWxkc1trXSA9IFZhbHVlLmZyb21Kc29uKHYpO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFxuICovXG5leHBvcnQgY29uc3QgU3RydWN0ID0gbmV3IFN0cnVjdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWYWx1ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmFsdWU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2dvb2dsZS5wcm90b2J1Zi5WYWx1ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdudWxsX3ZhbHVlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAoKSA9PiBbJ2dvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUnLCBOdWxsVmFsdWVdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdudW1iZXJfdmFsdWUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogMSAvKlNjYWxhclR5cGUuRE9VQkxFKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N0cmluZ192YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnYm9vbF92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3N0cnVjdF92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogKCkgPT4gU3RydWN0LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdsaXN0X3ZhbHVlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAoKSA9PiBMaXN0VmFsdWUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmNvZGUgYFZhbHVlYCB0byBKU09OIHZhbHVlLlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogVmFsdWUsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIGlmIChtZXNzYWdlLmtpbmQub25lb2ZLaW5kID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgc3dpdGNoIChtZXNzYWdlLmtpbmQub25lb2ZLaW5kKSB7XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICAgIGNhc2UgJ2Jvb2xWYWx1ZSc6XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQuYm9vbFZhbHVlO1xuICAgICAgY2FzZSAnbnVsbFZhbHVlJzpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlICdudW1iZXJWYWx1ZSc6XG4gICAgICAgIGxldCBudW1iZXJWYWx1ZSA9IG1lc3NhZ2Uua2luZC5udW1iZXJWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBudW1iZXJWYWx1ZSA9PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzRmluaXRlKG51bWJlclZhbHVlKSlcbiAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgICByZXR1cm4gbnVtYmVyVmFsdWU7XG4gICAgICBjYXNlICdzdHJpbmdWYWx1ZSc6XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQuc3RyaW5nVmFsdWU7XG4gICAgICBjYXNlICdsaXN0VmFsdWUnOlxuICAgICAgICBsZXQgbGlzdFZhbHVlRmllbGQgPSB0aGlzLmZpZWxkcy5maW5kKChmKSA9PiBmLm5vID09PSA2KTtcbiAgICAgICAgaWYgKGxpc3RWYWx1ZUZpZWxkPy5raW5kICE9PSAnbWVzc2FnZScpIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgICAgIHJldHVybiBsaXN0VmFsdWVGaWVsZC5UKCkudG9Kc29uKG1lc3NhZ2Uua2luZC5saXN0VmFsdWUpO1xuICAgICAgY2FzZSAnc3RydWN0VmFsdWUnOlxuICAgICAgICBsZXQgc3RydWN0VmFsdWVGaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoKGYpID0+IGYubm8gPT09IDUpO1xuICAgICAgICBpZiAoc3RydWN0VmFsdWVGaWVsZD8ua2luZCAhPT0gJ21lc3NhZ2UnKSB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgICByZXR1cm4gc3RydWN0VmFsdWVGaWVsZC5UKCkudG9Kc29uKG1lc3NhZ2Uua2luZC5zdHJ1Y3RWYWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZWNvZGUgYFZhbHVlYCBmcm9tIEpTT04gdmFsdWUuXG4gICAqL1xuICBpbnRlcm5hbEpzb25SZWFkKFxuICAgIGpzb246IEpzb25WYWx1ZSxcbiAgICBvcHRpb25zOiBKc29uUmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVmFsdWUsXG4gICk6IFZhbHVlIHtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBzd2l0Y2ggKHR5cGVvZiBqc29uKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICB0YXJnZXQua2luZCA9IHsgb25lb2ZLaW5kOiAnbnVtYmVyVmFsdWUnLCBudW1iZXJWYWx1ZToganNvbiB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHRhcmdldC5raW5kID0geyBvbmVvZktpbmQ6ICdzdHJpbmdWYWx1ZScsIHN0cmluZ1ZhbHVlOiBqc29uIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHRhcmdldC5raW5kID0geyBvbmVvZktpbmQ6ICdib29sVmFsdWUnLCBib29sVmFsdWU6IGpzb24gfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICAgIHRhcmdldC5raW5kID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnbnVsbFZhbHVlJyxcbiAgICAgICAgICAgIG51bGxWYWx1ZTogTnVsbFZhbHVlLk5VTExfVkFMVUUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChnbG9iYWxUaGlzLkFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICB0YXJnZXQua2luZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ2xpc3RWYWx1ZScsXG4gICAgICAgICAgICBsaXN0VmFsdWU6IExpc3RWYWx1ZS5mcm9tSnNvbihqc29uKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldC5raW5kID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnc3RydWN0VmFsdWUnLFxuICAgICAgICAgICAgc3RydWN0VmFsdWU6IFN0cnVjdC5mcm9tSnNvbihqc29uKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSAnICtcbiAgICAgICAgICAgIHRoaXMudHlwZU5hbWUgK1xuICAgICAgICAgICAgJyBmcm9tIEpTT04gJyArXG4gICAgICAgICAgICB0eXBlb2ZKc29uVmFsdWUoanNvbiksXG4gICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuVmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IFZhbHVlID0gbmV3IFZhbHVlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIExpc3RWYWx1ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8TGlzdFZhbHVlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3ZhbHVlcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVmFsdWUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmNvZGUgYExpc3RWYWx1ZWAgdG8gSlNPTiBhcnJheS5cbiAgICovXG4gIGludGVybmFsSnNvbldyaXRlKG1lc3NhZ2U6IExpc3RWYWx1ZSwgb3B0aW9uczogSnNvbldyaXRlT3B0aW9ucyk6IEpzb25WYWx1ZSB7XG4gICAgcmV0dXJuIG1lc3NhZ2UudmFsdWVzLm1hcCgodikgPT4gVmFsdWUudG9Kc29uKHYpKTtcbiAgfVxuICAvKipcbiAgICogRGVjb2RlIGBMaXN0VmFsdWVgIGZyb20gSlNPTiBhcnJheS5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBMaXN0VmFsdWUsXG4gICk6IExpc3RWYWx1ZSB7XG4gICAgaWYgKCFnbG9iYWxUaGlzLkFycmF5LmlzQXJyYXkoanNvbikpXG4gICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSAnICtcbiAgICAgICAgICB0aGlzLnR5cGVOYW1lICtcbiAgICAgICAgICAnIGZyb20gSlNPTiAnICtcbiAgICAgICAgICB0eXBlb2ZKc29uVmFsdWUoanNvbiksXG4gICAgICApO1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGxldCB2YWx1ZXMgPSBqc29uLm1hcCgodikgPT4gVmFsdWUuZnJvbUpzb24odikpO1xuICAgIHRhcmdldC52YWx1ZXMucHVzaCguLi52YWx1ZXMpO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0VmFsdWUgPSBuZXcgTGlzdFZhbHVlJFR5cGUoKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuOS40IHdpdGggcGFyYW1ldGVyIGxvbmdfdHlwZV9zdHJpbmcsY2xpZW50X2dlbmVyaWMsc2VydmVyX25vbmUsZXNsaW50X2Rpc2FibGUsb3B0aW1pemVfY29kZV9zaXplXG4vLyBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmlsZSBcImdvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAucHJvdG9cIiAocGFja2FnZSBcImdvb2dsZS5wcm90b2J1ZlwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbi8vXG4vLyBQcm90b2NvbCBCdWZmZXJzIC0gR29vZ2xlJ3MgZGF0YSBpbnRlcmNoYW5nZSBmb3JtYXRcbi8vIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuLy8gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy8gICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lclxuLy8gaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZVxuLy8gZGlzdHJpYnV0aW9uLlxuLy8gICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuLy9cbmltcG9ydCB7IHR5cGVvZkpzb25WYWx1ZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSnNvblZhbHVlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKc29uUmVhZE9wdGlvbnMgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEpzb25Xcml0ZU9wdGlvbnMgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgeyBQYkxvbmcgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbi8qKlxuICogQSBUaW1lc3RhbXAgcmVwcmVzZW50cyBhIHBvaW50IGluIHRpbWUgaW5kZXBlbmRlbnQgb2YgYW55IHRpbWUgem9uZSBvciBsb2NhbFxuICogY2FsZW5kYXIsIGVuY29kZWQgYXMgYSBjb3VudCBvZiBzZWNvbmRzIGFuZCBmcmFjdGlvbnMgb2Ygc2Vjb25kcyBhdFxuICogbmFub3NlY29uZCByZXNvbHV0aW9uLiBUaGUgY291bnQgaXMgcmVsYXRpdmUgdG8gYW4gZXBvY2ggYXQgVVRDIG1pZG5pZ2h0IG9uXG4gKiBKYW51YXJ5IDEsIDE5NzAsIGluIHRoZSBwcm9sZXB0aWMgR3JlZ29yaWFuIGNhbGVuZGFyIHdoaWNoIGV4dGVuZHMgdGhlXG4gKiBHcmVnb3JpYW4gY2FsZW5kYXIgYmFja3dhcmRzIHRvIHllYXIgb25lLlxuICpcbiAqIEFsbCBtaW51dGVzIGFyZSA2MCBzZWNvbmRzIGxvbmcuIExlYXAgc2Vjb25kcyBhcmUgXCJzbWVhcmVkXCIgc28gdGhhdCBubyBsZWFwXG4gKiBzZWNvbmQgdGFibGUgaXMgbmVlZGVkIGZvciBpbnRlcnByZXRhdGlvbiwgdXNpbmcgYSBbMjQtaG91ciBsaW5lYXJcbiAqIHNtZWFyXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS90aW1lL3NtZWFyKS5cbiAqXG4gKiBUaGUgcmFuZ2UgaXMgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0byA5OTk5LTEyLTMxVDIzOjU5OjU5Ljk5OTk5OTk5OVouIEJ5XG4gKiByZXN0cmljdGluZyB0byB0aGF0IHJhbmdlLCB3ZSBlbnN1cmUgdGhhdCB3ZSBjYW4gY29udmVydCB0byBhbmQgZnJvbSBbUkZDXG4gKiAzMzM5XShodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzMzOS50eHQpIGRhdGUgc3RyaW5ncy5cbiAqXG4gKiAjIEV4YW1wbGVzXG4gKlxuICogRXhhbXBsZSAxOiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIFBPU0lYIGB0aW1lKClgLlxuICpcbiAqICAgICBUaW1lc3RhbXAgdGltZXN0YW1wO1xuICogICAgIHRpbWVzdGFtcC5zZXRfc2Vjb25kcyh0aW1lKE5VTEwpKTtcbiAqICAgICB0aW1lc3RhbXAuc2V0X25hbm9zKDApO1xuICpcbiAqIEV4YW1wbGUgMjogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBQT1NJWCBgZ2V0dGltZW9mZGF5KClgLlxuICpcbiAqICAgICBzdHJ1Y3QgdGltZXZhbCB0djtcbiAqICAgICBnZXR0aW1lb2ZkYXkoJnR2LCBOVUxMKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHModHYudHZfc2VjKTtcbiAqICAgICB0aW1lc3RhbXAuc2V0X25hbm9zKHR2LnR2X3VzZWMgKiAxMDAwKTtcbiAqXG4gKiBFeGFtcGxlIDM6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gV2luMzIgYEdldFN5c3RlbVRpbWVBc0ZpbGVUaW1lKClgLlxuICpcbiAqICAgICBGSUxFVElNRSBmdDtcbiAqICAgICBHZXRTeXN0ZW1UaW1lQXNGaWxlVGltZSgmZnQpO1xuICogICAgIFVJTlQ2NCB0aWNrcyA9ICgoKFVJTlQ2NClmdC5kd0hpZ2hEYXRlVGltZSkgPDwgMzIpIHwgZnQuZHdMb3dEYXRlVGltZTtcbiAqXG4gKiAgICAgLy8gQSBXaW5kb3dzIHRpY2sgaXMgMTAwIG5hbm9zZWNvbmRzLiBXaW5kb3dzIGVwb2NoIDE2MDEtMDEtMDFUMDA6MDA6MDBaXG4gKiAgICAgLy8gaXMgMTE2NDQ0NzM2MDAgc2Vjb25kcyBiZWZvcmUgVW5peCBlcG9jaCAxOTcwLTAxLTAxVDAwOjAwOjAwWi5cbiAqICAgICBUaW1lc3RhbXAgdGltZXN0YW1wO1xuICogICAgIHRpbWVzdGFtcC5zZXRfc2Vjb25kcygoSU5UNjQpICgodGlja3MgLyAxMDAwMDAwMCkgLSAxMTY0NDQ3MzYwMExMKSk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcygoSU5UMzIpICgodGlja3MgJSAxMDAwMDAwMCkgKiAxMDApKTtcbiAqXG4gKiBFeGFtcGxlIDQ6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gSmF2YSBgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKClgLlxuICpcbiAqICAgICBsb25nIG1pbGxpcyA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpO1xuICpcbiAqICAgICBUaW1lc3RhbXAgdGltZXN0YW1wID0gVGltZXN0YW1wLm5ld0J1aWxkZXIoKS5zZXRTZWNvbmRzKG1pbGxpcyAvIDEwMDApXG4gKiAgICAgICAgIC5zZXROYW5vcygoaW50KSAoKG1pbGxpcyAlIDEwMDApICogMTAwMDAwMCkpLmJ1aWxkKCk7XG4gKlxuICpcbiAqIEV4YW1wbGUgNTogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBKYXZhIGBJbnN0YW50Lm5vdygpYC5cbiAqXG4gKiAgICAgSW5zdGFudCBub3cgPSBJbnN0YW50Lm5vdygpO1xuICpcbiAqICAgICBUaW1lc3RhbXAgdGltZXN0YW1wID1cbiAqICAgICAgICAgVGltZXN0YW1wLm5ld0J1aWxkZXIoKS5zZXRTZWNvbmRzKG5vdy5nZXRFcG9jaFNlY29uZCgpKVxuICogICAgICAgICAgICAgLnNldE5hbm9zKG5vdy5nZXROYW5vKCkpLmJ1aWxkKCk7XG4gKlxuICpcbiAqIEV4YW1wbGUgNjogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBjdXJyZW50IHRpbWUgaW4gUHl0aG9uLlxuICpcbiAqICAgICB0aW1lc3RhbXAgPSBUaW1lc3RhbXAoKVxuICogICAgIHRpbWVzdGFtcC5HZXRDdXJyZW50VGltZSgpXG4gKlxuICogIyBKU09OIE1hcHBpbmdcbiAqXG4gKiBJbiBKU09OIGZvcm1hdCwgdGhlIFRpbWVzdGFtcCB0eXBlIGlzIGVuY29kZWQgYXMgYSBzdHJpbmcgaW4gdGhlXG4gKiBbUkZDIDMzMzldKGh0dHBzOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzMzM5LnR4dCkgZm9ybWF0LiBUaGF0IGlzLCB0aGVcbiAqIGZvcm1hdCBpcyBcInt5ZWFyfS17bW9udGh9LXtkYXl9VHtob3VyfTp7bWlufTp7c2VjfVsue2ZyYWNfc2VjfV1aXCJcbiAqIHdoZXJlIHt5ZWFyfSBpcyBhbHdheXMgZXhwcmVzc2VkIHVzaW5nIGZvdXIgZGlnaXRzIHdoaWxlIHttb250aH0sIHtkYXl9LFxuICoge2hvdXJ9LCB7bWlufSwgYW5kIHtzZWN9IGFyZSB6ZXJvLXBhZGRlZCB0byB0d28gZGlnaXRzIGVhY2guIFRoZSBmcmFjdGlvbmFsXG4gKiBzZWNvbmRzLCB3aGljaCBjYW4gZ28gdXAgdG8gOSBkaWdpdHMgKGkuZS4gdXAgdG8gMSBuYW5vc2Vjb25kIHJlc29sdXRpb24pLFxuICogYXJlIG9wdGlvbmFsLiBUaGUgXCJaXCIgc3VmZml4IGluZGljYXRlcyB0aGUgdGltZXpvbmUgKFwiVVRDXCIpOyB0aGUgdGltZXpvbmVcbiAqIGlzIHJlcXVpcmVkLiBBIHByb3RvMyBKU09OIHNlcmlhbGl6ZXIgc2hvdWxkIGFsd2F5cyB1c2UgVVRDIChhcyBpbmRpY2F0ZWQgYnlcbiAqIFwiWlwiKSB3aGVuIHByaW50aW5nIHRoZSBUaW1lc3RhbXAgdHlwZSBhbmQgYSBwcm90bzMgSlNPTiBwYXJzZXIgc2hvdWxkIGJlXG4gKiBhYmxlIHRvIGFjY2VwdCBib3RoIFVUQyBhbmQgb3RoZXIgdGltZXpvbmVzIChhcyBpbmRpY2F0ZWQgYnkgYW4gb2Zmc2V0KS5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgXCIyMDE3LTAxLTE1VDAxOjMwOjE1LjAxWlwiIGVuY29kZXMgMTUuMDEgc2Vjb25kcyBwYXN0XG4gKiAwMTozMCBVVEMgb24gSmFudWFyeSAxNSwgMjAxNy5cbiAqXG4gKiBJbiBKYXZhU2NyaXB0LCBvbmUgY2FuIGNvbnZlcnQgYSBEYXRlIG9iamVjdCB0byB0aGlzIGZvcm1hdCB1c2luZyB0aGVcbiAqIHN0YW5kYXJkXG4gKiBbdG9JU09TdHJpbmcoKV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS90b0lTT1N0cmluZylcbiAqIG1ldGhvZC4gSW4gUHl0aG9uLCBhIHN0YW5kYXJkIGBkYXRldGltZS5kYXRldGltZWAgb2JqZWN0IGNhbiBiZSBjb252ZXJ0ZWRcbiAqIHRvIHRoaXMgZm9ybWF0IHVzaW5nXG4gKiBbYHN0cmZ0aW1lYF0oaHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMi9saWJyYXJ5L3RpbWUuaHRtbCN0aW1lLnN0cmZ0aW1lKSB3aXRoXG4gKiB0aGUgdGltZSBmb3JtYXQgc3BlYyAnJVktJW0tJWRUJUg6JU06JVMuJWZaJy4gTGlrZXdpc2UsIGluIEphdmEsIG9uZSBjYW4gdXNlXG4gKiB0aGUgSm9kYSBUaW1lJ3MgW2BJU09EYXRlVGltZUZvcm1hdC5kYXRlVGltZSgpYF0oXG4gKiBodHRwOi8vd3d3LmpvZGEub3JnL2pvZGEtdGltZS9hcGlkb2NzL29yZy9qb2RhL3RpbWUvZm9ybWF0L0lTT0RhdGVUaW1lRm9ybWF0Lmh0bWwjZGF0ZVRpbWUlMkQlMkRcbiAqICkgdG8gb2J0YWluIGEgZm9ybWF0dGVyIGNhcGFibGUgb2YgZ2VuZXJhdGluZyB0aW1lc3RhbXBzIGluIHRoaXMgZm9ybWF0LlxuICpcbiAqXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVzdGFtcCB7XG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHNlY29uZHMgb2YgVVRDIHRpbWUgc2luY2UgVW5peCBlcG9jaFxuICAgKiAxOTcwLTAxLTAxVDAwOjAwOjAwWi4gTXVzdCBiZSBmcm9tIDAwMDEtMDEtMDFUMDA6MDA6MDBaIHRvXG4gICAqIDk5OTktMTItMzFUMjM6NTk6NTlaIGluY2x1c2l2ZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQ2NCBzZWNvbmRzID0gMTtcbiAgICovXG4gIHNlY29uZHM6IHN0cmluZztcbiAgLyoqXG4gICAqIE5vbi1uZWdhdGl2ZSBmcmFjdGlvbnMgb2YgYSBzZWNvbmQgYXQgbmFub3NlY29uZCByZXNvbHV0aW9uLiBOZWdhdGl2ZVxuICAgKiBzZWNvbmQgdmFsdWVzIHdpdGggZnJhY3Rpb25zIG11c3Qgc3RpbGwgaGF2ZSBub24tbmVnYXRpdmUgbmFub3MgdmFsdWVzXG4gICAqIHRoYXQgY291bnQgZm9yd2FyZCBpbiB0aW1lLiBNdXN0IGJlIGZyb20gMCB0byA5OTksOTk5LDk5OVxuICAgKiBpbmNsdXNpdmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgbmFub3MgPSAyO1xuICAgKi9cbiAgbmFub3M6IG51bWJlcjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRpbWVzdGFtcCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VGltZXN0YW1wPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdnb29nbGUucHJvdG9idWYuVGltZXN0YW1wJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NlY29uZHMnLCBraW5kOiAnc2NhbGFyJywgVDogMyAvKlNjYWxhclR5cGUuSU5UNjQqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ25hbm9zJywga2luZDogJ3NjYWxhcicsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICBdKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBgVGltZXN0YW1wYCBmb3IgdGhlIGN1cnJlbnQgdGltZS5cbiAgICovXG4gIG5vdygpOiBUaW1lc3RhbXAge1xuICAgIGNvbnN0IG1zZyA9IHRoaXMuY3JlYXRlKCk7XG4gICAgY29uc3QgbXMgPSBEYXRlLm5vdygpO1xuICAgIG1zZy5zZWNvbmRzID0gUGJMb25nLmZyb20oTWF0aC5mbG9vcihtcyAvIDEwMDApKS50b1N0cmluZygpO1xuICAgIG1zZy5uYW5vcyA9IChtcyAlIDEwMDApICogMTAwMDAwMDtcbiAgICByZXR1cm4gbXNnO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIGBUaW1lc3RhbXBgIHRvIGEgSmF2YVNjcmlwdCBEYXRlLlxuICAgKi9cbiAgdG9EYXRlKG1lc3NhZ2U6IFRpbWVzdGFtcCk6IERhdGUge1xuICAgIHJldHVybiBuZXcgRGF0ZShcbiAgICAgIFBiTG9uZy5mcm9tKG1lc3NhZ2Uuc2Vjb25kcykudG9OdW1iZXIoKSAqIDEwMDAgK1xuICAgICAgICBNYXRoLmNlaWwobWVzc2FnZS5uYW5vcyAvIDEwMDAwMDApLFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgSmF2YVNjcmlwdCBEYXRlIHRvIGEgYFRpbWVzdGFtcGAuXG4gICAqL1xuICBmcm9tRGF0ZShkYXRlOiBEYXRlKTogVGltZXN0YW1wIHtcbiAgICBjb25zdCBtc2cgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGNvbnN0IG1zID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgbXNnLnNlY29uZHMgPSBQYkxvbmcuZnJvbShNYXRoLmZsb29yKG1zIC8gMTAwMCkpLnRvU3RyaW5nKCk7XG4gICAgbXNnLm5hbm9zID0gKG1zICUgMTAwMCkgKiAxMDAwMDAwO1xuICAgIHJldHVybiBtc2c7XG4gIH1cbiAgLyoqXG4gICAqIEluIEpTT04gZm9ybWF0LCB0aGUgYFRpbWVzdGFtcGAgdHlwZSBpcyBlbmNvZGVkIGFzIGEgc3RyaW5nXG4gICAqIGluIHRoZSBSRkMgMzMzOSBmb3JtYXQuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBUaW1lc3RhbXAsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIGxldCBtcyA9IFBiTG9uZy5mcm9tKG1lc3NhZ2Uuc2Vjb25kcykudG9OdW1iZXIoKSAqIDEwMDA7XG4gICAgaWYgKFxuICAgICAgbXMgPCBEYXRlLnBhcnNlKCcwMDAxLTAxLTAxVDAwOjAwOjAwWicpIHx8XG4gICAgICBtcyA+IERhdGUucGFyc2UoJzk5OTktMTItMzFUMjM6NTk6NTlaJylcbiAgICApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gZW5jb2RlIFRpbWVzdGFtcCB0byBKU09OLiBNdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlLicsXG4gICAgICApO1xuICAgIGlmIChtZXNzYWdlLm5hbm9zIDwgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBlbmNvZGUgaW52YWxpZCBUaW1lc3RhbXAgdG8gSlNPTi4gTmFub3MgbXVzdCBub3QgYmUgbmVnYXRpdmUuJyxcbiAgICAgICk7XG4gICAgbGV0IHogPSAnWic7XG4gICAgaWYgKG1lc3NhZ2UubmFub3MgPiAwKSB7XG4gICAgICBsZXQgbmFub3NTdHIgPSAobWVzc2FnZS5uYW5vcyArIDEwMDAwMDAwMDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDEpO1xuICAgICAgaWYgKG5hbm9zU3RyLnN1YnN0cmluZygzKSA9PT0gJzAwMDAwMCcpXG4gICAgICAgIHogPSAnLicgKyBuYW5vc1N0ci5zdWJzdHJpbmcoMCwgMykgKyAnWic7XG4gICAgICBlbHNlIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoNikgPT09ICcwMDAnKVxuICAgICAgICB6ID0gJy4nICsgbmFub3NTdHIuc3Vic3RyaW5nKDAsIDYpICsgJ1onO1xuICAgICAgZWxzZSB6ID0gJy4nICsgbmFub3NTdHIgKyAnWic7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShtcykudG9JU09TdHJpbmcoKS5yZXBsYWNlKCcuMDAwWicsIHopO1xuICB9XG4gIC8qKlxuICAgKiBJbiBKU09OIGZvcm1hdCwgdGhlIGBUaW1lc3RhbXBgIHR5cGUgaXMgZW5jb2RlZCBhcyBhIHN0cmluZ1xuICAgKiBpbiB0aGUgUkZDIDMzMzkgZm9ybWF0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uUmVhZChcbiAgICBqc29uOiBKc29uVmFsdWUsXG4gICAgb3B0aW9uczogSnNvblJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFRpbWVzdGFtcCxcbiAgKTogVGltZXN0YW1wIHtcbiAgICBpZiAodHlwZW9mIGpzb24gIT09ICdzdHJpbmcnKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04gJyArIHR5cGVvZkpzb25WYWx1ZShqc29uKSArICcuJyxcbiAgICAgICk7XG4gICAgbGV0IG1hdGNoZXMgPSBqc29uLm1hdGNoKFxuICAgICAgL14oWzAtOV17NH0pLShbMC05XXsyfSktKFswLTldezJ9KVQoWzAtOV17Mn0pOihbMC05XXsyfSk6KFswLTldezJ9KSg/Olp8XFwuKFswLTldezMsOX0pWnwoWystXVswLTldWzAtOV06WzAtOV1bMC05XSkpJC8sXG4gICAgKTtcbiAgICBpZiAoIW1hdGNoZXMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBUaW1lc3RhbXAgZnJvbSBKU09OLiBJbnZhbGlkIGZvcm1hdC4nKTtcbiAgICBsZXQgbXMgPSBEYXRlLnBhcnNlKFxuICAgICAgbWF0Y2hlc1sxXSArXG4gICAgICAgICctJyArXG4gICAgICAgIG1hdGNoZXNbMl0gK1xuICAgICAgICAnLScgK1xuICAgICAgICBtYXRjaGVzWzNdICtcbiAgICAgICAgJ1QnICtcbiAgICAgICAgbWF0Y2hlc1s0XSArXG4gICAgICAgICc6JyArXG4gICAgICAgIG1hdGNoZXNbNV0gK1xuICAgICAgICAnOicgK1xuICAgICAgICBtYXRjaGVzWzZdICtcbiAgICAgICAgKG1hdGNoZXNbOF0gPyBtYXRjaGVzWzhdIDogJ1onKSxcbiAgICApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4obXMpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgVGltZXN0YW1wIGZyb20gSlNPTi4gSW52YWxpZCB2YWx1ZS4nKTtcbiAgICBpZiAoXG4gICAgICBtcyA8IERhdGUucGFyc2UoJzAwMDEtMDEtMDFUMDA6MDA6MDBaJykgfHxcbiAgICAgIG1zID4gRGF0ZS5wYXJzZSgnOTk5OS0xMi0zMVQyMzo1OTo1OVonKVxuICAgIClcbiAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04uIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0byA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuJyxcbiAgICAgICk7XG4gICAgaWYgKCF0YXJnZXQpIHRhcmdldCA9IHRoaXMuY3JlYXRlKCk7XG4gICAgdGFyZ2V0LnNlY29uZHMgPSBQYkxvbmcuZnJvbShtcyAvIDEwMDApLnRvU3RyaW5nKCk7XG4gICAgdGFyZ2V0Lm5hbm9zID0gMDtcbiAgICBpZiAobWF0Y2hlc1s3XSlcbiAgICAgIHRhcmdldC5uYW5vcyA9XG4gICAgICAgIHBhcnNlSW50KCcxJyArIG1hdGNoZXNbN10gKyAnMCcucmVwZWF0KDkgLSBtYXRjaGVzWzddLmxlbmd0aCkpIC1cbiAgICAgICAgMTAwMDAwMDAwMDtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcFxuICovXG5leHBvcnQgY29uc3QgVGltZXN0YW1wID0gbmV3IFRpbWVzdGFtcCRUeXBlKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvbW9kZWxzL21vZGVscy5wcm90b1wiIChwYWNrYWdlIFwic3RyZWFtLnZpZGVvLnNmdS5tb2RlbHNcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB7IFN0cnVjdCB9IGZyb20gJy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QnO1xuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcCc7XG5cbi8qKlxuICogQ2FsbFN0YXRlIGlzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjYWxsXG4gKiBhcyBzZWVuIGJ5IGFuIFNGVS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdGUge1xuICAvKipcbiAgICogcGFydGljaXBhbnRzIGlzIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbC5cbiAgICogSW4gbGFyZ2UgY2FsbHMsIHRoZSBsaXN0IGNvdWxkIGJlIHRydW5jYXRlZCBpbiB3aGljaFxuICAgKiBjYXNlLCB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgY29udGFpbnMgZmV3ZXIgcGFydGljaXBhbnRzXG4gICAqIHRoYW4gdGhlIGNvdW50cyByZXR1cm5lZCBpbiBwYXJ0aWNpcGFudF9jb3VudC4gQW5vbnltb3VzXG4gICAqIHBhcnRpY2lwYW50cyBhcmUgKipOT1QqKiBpbmNsdWRlZCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudHMgPSAxO1xuICAgKi9cbiAgcGFydGljaXBhbnRzOiBQYXJ0aWNpcGFudFtdO1xuICAvKipcbiAgICogc3RhcnRlZF9hdCBpcyB0aGUgdGltZSB0aGUgY2FsbCBzZXNzaW9uIGFjdHVhbGx5IHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBzdGFydGVkX2F0ID0gMjtcbiAgICovXG4gIHN0YXJ0ZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIHBhcnRpY2lwYW50X2NvdW50IGNvbnRhaW5zIHRoZSBzdW1tYXJ5IG9mIHRoZSBjb3VudHMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCBwYXJ0aWNpcGFudF9jb3VudCA9IDM7XG4gICAqL1xuICBwYXJ0aWNpcGFudENvdW50PzogUGFydGljaXBhbnRDb3VudDtcbiAgLyoqXG4gICAqIHRoZSBsaXN0IG9mIHBpbnMgaW4gdGhlIGNhbGwuXG4gICAqIFBpbnMgYXJlIG9yZGVyZWQgaW4gZGVzY2VuZGluZyBvcmRlciAobW9zdCBpbXBvcnRhbnQgZmlyc3QpLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpbiBwaW5zID0gNDtcbiAgICovXG4gIHBpbnM6IFBpbltdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRDb3VudCB7XG4gIC8qKlxuICAgKiBUb3RhbCBudW1iZXIgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsIGluY2x1ZGluZ1xuICAgKiB0aGUgYW5vbnltb3VzIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgdG90YWwgPSAxO1xuICAgKi9cbiAgdG90YWw6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRvdGFsIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBhbm9ueW1vdXMgPSAyO1xuICAgKi9cbiAgYW5vbnltb3VzOiBudW1iZXI7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBpbiB7XG4gIC8qKlxuICAgKiB0aGUgdXNlciB0byBwaW5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHNlc2lvbl9pZCB0byBwaW4sIGlmIG5vdCBwcm92aWRlZCwgYXBwbGllcyB0byBhbGwgc2Vzc2lvbnNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogdGhvc2Ugd2hvIGFyZSBvbmxpbmUgaW4gdGhlIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogbWFwIG9mIHRyYWNrIGlkIHRvIHRyYWNrIHR5cGVcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgcHVibGlzaGVkX3RyYWNrcyA9IDM7XG4gICAqL1xuICBwdWJsaXNoZWRUcmFja3M6IFRyYWNrVHlwZVtdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIGpvaW5lZF9hdCA9IDQ7XG4gICAqL1xuICBqb2luZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2xvb2t1cF9wcmVmaXggPSA1O1xuICAgKi9cbiAgdHJhY2tMb29rdXBQcmVmaXg6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkgY29ubmVjdGlvbl9xdWFsaXR5ID0gNjtcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5OiBDb25uZWN0aW9uUXVhbGl0eTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpc19zcGVha2luZyA9IDc7XG4gICAqL1xuICBpc1NwZWFraW5nOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX2RvbWluYW50X3NwZWFrZXIgPSA4O1xuICAgKi9cbiAgaXNEb21pbmFudFNwZWFrZXI6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IGF1ZGlvX2xldmVsID0gOTtcbiAgICovXG4gIGF1ZGlvTGV2ZWw6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAxMDtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGltYWdlID0gMTE7XG4gICAqL1xuICBpbWFnZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuU3RydWN0IGN1c3RvbSA9IDEyO1xuICAgKi9cbiAgY3VzdG9tPzogU3RydWN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJpbmcgcm9sZXMgPSAxMztcbiAgICovXG4gIHJvbGVzOiBzdHJpbmdbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3RyZWFtUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbVF1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHkgdmlkZW9fcXVhbGl0eSA9IDE7XG4gICAqL1xuICB2aWRlb1F1YWxpdHk6IFZpZGVvUXVhbGl0eTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAyO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvRGltZW5zaW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9EaW1lbnNpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgd2lkdGggPSAxO1xuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGhlaWdodCA9IDI7XG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvTGF5ZXIge1xuICAvKipcbiAgICogZm9yIHRyYWNrcyB3aXRoIGEgc2luZ2xlIGxheWVyLCB0aGlzIHNob3VsZCBiZSBISUdIXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHJpZCA9IDE7XG4gICAqL1xuICByaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gdmlkZW9fZGltZW5zaW9uID0gMjtcbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG4gIC8qKlxuICAgKiB0YXJnZXQgYml0cmF0ZSwgc2VydmVyIHdpbGwgbWVhc3VyZSBhY3R1YWxcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgYml0cmF0ZSA9IDQ7XG4gICAqL1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBmcHMgPSA1O1xuICAgKi9cbiAgZnBzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eSBxdWFsaXR5ID0gNjtcbiAgICovXG4gIHF1YWxpdHk6IFZpZGVvUXVhbGl0eTtcbn1cbi8qKlxuICogU3Vic2NyaWJlT3B0aW9uIHJlcHJlc2VudHMgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3Igc3Vic2NyaWJpbmcgdG8gYSB0cmFjay5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdWJzY3JpYmVPcHRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmVPcHRpb24ge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHRyYWNrIGJlaW5nIHN1YnNjcmliZWQgKGUuZy4sIHZpZGVvLCBzY3JlZW5zaGFyZSkuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAxO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBUaGUgY29kZWNzIHN1cHBvcnRlZCBieSB0aGUgc3Vic2NyaWJlciBmb3IgZGVjb2RpbmcgdHJhY2tzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjcyA9IDI7XG4gICAqL1xuICBjb2RlY3M6IENvZGVjW107XG59XG4vKipcbiAqIFB1Ymxpc2hPcHRpb24gcmVwcmVzZW50cyB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBwdWJsaXNoaW5nIGEgdHJhY2suXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hPcHRpb24ge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHRyYWNrIGJlaW5nIHB1Ymxpc2hlZCAoZS5nLiwgdmlkZW8sIHNjcmVlbnNoYXJlKS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDE7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIFRoZSBjb2RlYyB0byBiZSB1c2VkIGZvciBlbmNvZGluZyB0aGUgdHJhY2sgKGUuZy4sIFZQOCwgVlA5LCBIMjY0KS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDI7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xuICAvKipcbiAgICogVGhlIHRhcmdldCBiaXRyYXRlIGZvciB0aGUgcHVibGlzaGVkIHRyYWNrLCBpbiBiaXRzIHBlciBzZWNvbmQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgYml0cmF0ZSA9IDM7XG4gICAqL1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgdGFyZ2V0IGZyYW1lcyBwZXIgc2Vjb25kIChGUFMpIGZvciB2aWRlbyBlbmNvZGluZy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBmcHMgPSA0O1xuICAgKi9cbiAgZnBzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc3BhdGlhbCBsYXllcnMgdG8gc2VuZC5cbiAgICogLSBGb3IgU1ZDIChlLmcuLCBWUDkpLCBzcGF0aWFsIGxheWVycyBkb3duc2NhbGUgYnkgYSBmYWN0b3Igb2YgMjpcbiAgICogICAtIDEgbGF5ZXI6IGZ1bGwgcmVzb2x1dGlvblxuICAgKiAgIC0gMiBsYXllcnM6IGZ1bGwgcmVzb2x1dGlvbiArIGhhbGYgcmVzb2x1dGlvblxuICAgKiAgIC0gMyBsYXllcnM6IGZ1bGwgcmVzb2x1dGlvbiArIGhhbGYgcmVzb2x1dGlvbiArIHF1YXJ0ZXIgcmVzb2x1dGlvblxuICAgKiAtIEZvciBub24tU1ZDIGNvZGVjcyAoZS5nLiwgVlA4L0gyNjQpLCB0aGlzIGRldGVybWluZXMgdGhlIG51bWJlciBvZlxuICAgKiAgIGVuY29kZWQgcmVzb2x1dGlvbnMgKGUuZy4sIHF1YXJ0ZXIsIGhhbGYsIGZ1bGwpIHNlbnQgZm9yIHNpbXVsY2FzdC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBtYXhfc3BhdGlhbF9sYXllcnMgPSA1O1xuICAgKi9cbiAgbWF4U3BhdGlhbExheWVyczogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRlbXBvcmFsIGxheWVycyBmb3Igc2NhbGFibGUgdmlkZW8gY29kaW5nIChTVkMpLlxuICAgKiBUZW1wb3JhbCBsYXllcnMgYWxsb3cgdmFyeWluZyBmcmFtZSByYXRlcyBmb3IgZGlmZmVyZW50IGJhbmR3aWR0aHMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgbWF4X3RlbXBvcmFsX2xheWVycyA9IDY7XG4gICAqL1xuICBtYXhUZW1wb3JhbExheWVyczogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIGRpbWVuc2lvbnMgb2YgdGhlIHZpZGVvIChlLmcuLCB3aWR0aCBhbmQgaGVpZ2h0IGluIHBpeGVscykuXG4gICAqIFNwYXRpYWwgbGF5ZXJzIGFyZSBiYXNlZCBvbiB0aGlzIGJhc2UgcmVzb2x1dGlvbi4gRm9yIGV4YW1wbGUsIGlmIHRoZSBiYXNlXG4gICAqIHJlc29sdXRpb24gaXMgMTI4MHg3MjA6XG4gICAqIC0gRnVsbCByZXNvbHV0aW9uICgxIGxheWVyKSA9IDEyODB4NzIwXG4gICAqIC0gSGFsZiByZXNvbHV0aW9uICgyIGxheWVycykgPSA2NDB4MzYwXG4gICAqIC0gUXVhcnRlciByZXNvbHV0aW9uICgzIGxheWVycykgPSAzMjB4MTgwXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gdmlkZW9fZGltZW5zaW9uID0gNztcbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBwdWJsaXNoIHJlcXVlc3QuXG4gICAqIC0gVGhpcyBgaWRgIGlzIGFzc2lnbmVkIGV4Y2x1c2l2ZWx5IGJ5IHRoZSBTRlUuIEFueSBgaWRgIHNldCBieSB0aGUgY2xpZW50XG4gICAqICAgaW4gdGhlIGBQdWJsaXNoT3B0aW9uYCB3aWxsIGJlIGlnbm9yZWQgYW5kIG92ZXJ3cml0dGVuIGJ5IHRoZSBTRlUuXG4gICAqIC0gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIGBpZGAgaXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgZWFjaCBwdWJsaXNoXG4gICAqICAgcmVxdWVzdCwgZXZlbiBpbiBzY2VuYXJpb3Mgd2hlcmUgbXVsdGlwbGUgcHVibGlzaCByZXF1ZXN0cyBmb3IgdGhlIHNhbWVcbiAgICogICBgdHJhY2tfdHlwZWAgYW5kIGBjb2RlY2AgYXJlIGFjdGl2ZSBzaW11bHRhbmVvdXNseS5cbiAgICogICBGb3IgZXhhbXBsZTpcbiAgICogICAgIC0gQSB1c2VyIG1heSBwdWJsaXNoIHR3byB0cmFja3Mgb2YgdGhlIHNhbWUgdHlwZSAoZS5nLiwgdmlkZW8pIGFuZCBjb2RlY1xuICAgKiAgICAgICAoZS5nLiwgVlA5KSBjb25jdXJyZW50bHkuXG4gICAqIC0gVGhpcyB1bmlxdWVuZXNzIGVuc3VyZXMgdGhhdCBpbmRpdmlkdWFsIHJlcXVlc3RzIGNhbiBiZSBtYW5hZ2VkXG4gICAqICAgaW5kZXBlbmRlbnRseS4gRm9yIGluc3RhbmNlLCBhbiBgaWRgIGlzIGNyaXRpY2FsIHdoZW4gc3RvcHBpbmcgYSBzcGVjaWZpY1xuICAgKiAgIHB1Ymxpc2ggcmVxdWVzdCB3aXRob3V0IGFmZmVjdGluZyBvdGhlcnMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgaWQgPSA4O1xuICAgKi9cbiAgaWQ6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlYyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBwYXlsb2FkX3R5cGUgPSAxNjtcbiAgICovXG4gIHBheWxvYWRUeXBlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTA7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBjbG9ja19yYXRlID0gMTQ7XG4gICAqL1xuICBjbG9ja1JhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGVuY29kaW5nX3BhcmFtZXRlcnMgPSAxNTtcbiAgICovXG4gIGVuY29kaW5nUGFyYW1ldGVyczogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZm10cCA9IDEyO1xuICAgKi9cbiAgZm10cDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjtcbiAgICovXG4gIGljZUNhbmRpZGF0ZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDM7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tJbmZvIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2lkID0gMTtcbiAgICovXG4gIHRyYWNrSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAyO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXIgbGF5ZXJzID0gNTtcbiAgICovXG4gIGxheWVyczogVmlkZW9MYXllcltdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWlkID0gNjtcbiAgICovXG4gIG1pZDogc3RyaW5nO1xuICAvKipcbiAgICogZm9yIGF1ZGlvIHRyYWNrc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgZHR4ID0gNztcbiAgICovXG4gIGR0eDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBzdGVyZW8gPSA4O1xuICAgKi9cbiAgc3RlcmVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIHJlZCA9IDk7XG4gICAqL1xuICByZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAxMDtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDExO1xuICAgKi9cbiAgY29kZWM/OiBDb2RlYztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgcHVibGlzaF9vcHRpb25faWQgPSAxMjtcbiAgICovXG4gIHB1Ymxpc2hPcHRpb25JZDogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlIGNvZGUgPSAxO1xuICAgKi9cbiAgY29kZTogRXJyb3JDb2RlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDI7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgc2hvdWxkX3JldHJ5ID0gMztcbiAgICovXG4gIHNob3VsZFJldHJ5OiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50RGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNkayBzZGsgPSAxO1xuICAgKi9cbiAgc2RrPzogU2RrO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PUyBvcyA9IDI7XG4gICAqL1xuICBvcz86IE9TO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyIGJyb3dzZXIgPSAzO1xuICAgKi9cbiAgYnJvd3Nlcj86IEJyb3dzZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZSBkZXZpY2UgPSA0O1xuICAgKi9cbiAgZGV2aWNlPzogRGV2aWNlO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZGsge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtUeXBlIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogU2RrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG1ham9yID0gMjtcbiAgICovXG4gIG1ham9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtaW5vciA9IDM7XG4gICAqL1xuICBtaW5vcjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcGF0Y2ggPSA0O1xuICAgKi9cbiAgcGF0Y2g6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPUyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgYXJjaGl0ZWN0dXJlID0gMztcbiAgICovXG4gIGFyY2hpdGVjdHVyZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3NlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXZpY2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB2ZXJzaW9uID0gMjtcbiAgICovXG4gIHZlcnNpb246IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGwge1xuICAvKipcbiAgICogdGhlIGNhbGwgdHlwZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB0eXBlID0gMTtcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBjYWxsIGlkXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGlkID0gMjtcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgaWQgb2YgdGhlIHVzZXIgdGhhdCBjcmVhdGVkIHRoaXMgY2FsbFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjcmVhdGVkX2J5X3VzZXJfaWQgPSAzO1xuICAgKi9cbiAgY3JlYXRlZEJ5VXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgaWQgb2YgdGhlIGN1cnJlbnQgaG9zdCBmb3IgdGhpcyBjYWxsXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGhvc3RfdXNlcl9pZCA9IDQ7XG4gICAqL1xuICBob3N0VXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgY3VzdG9tID0gNTtcbiAgICovXG4gIGN1c3RvbT86IFN0cnVjdDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBjcmVhdGVkX2F0ID0gNjtcbiAgICovXG4gIGNyZWF0ZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCB1cGRhdGVkX2F0ID0gNztcbiAgICovXG4gIHVwZGF0ZWRBdD86IFRpbWVzdGFtcDtcbn1cbi8qKlxuICogQ2FsbEdyYW50cyByZXByZXNlbnRzIHRoZSBzZXQgb2YgcGVybWlzc2lvbnMgZ2l2ZW5cbiAqIHRvIHRoZSB1c2VyIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBjYW5fcHVibGlzaF9hdWRpbyA9IDE7XG4gICAqL1xuICBjYW5QdWJsaXNoQXVkaW86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgY2FuX3B1Ymxpc2hfdmlkZW8gPSAyO1xuICAgKi9cbiAgY2FuUHVibGlzaFZpZGVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGNhbl9zY3JlZW5zaGFyZSA9IDM7XG4gICAqL1xuICBjYW5TY3JlZW5zaGFyZTogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXREZXZpY2VzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIGF2YWlsYWJsZV9kZXZpY2VzID0gMTtcbiAgICovXG4gIGF2YWlsYWJsZURldmljZXM6IHN0cmluZ1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY3VycmVudF9kZXZpY2UgPSAyO1xuICAgKi9cbiAgY3VycmVudERldmljZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3Blcm1pdHRlZCA9IDM7XG4gICAqL1xuICBpc1Blcm1pdHRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQW5kcm9pZFN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFRoZXJtYWxTdGF0ZSB0aGVybWFsX3N0YXRlID0gMTtcbiAgICovXG4gIHRoZXJtYWxTdGF0ZTogQW5kcm9pZFRoZXJtYWxTdGF0ZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpc19wb3dlcl9zYXZlcl9tb2RlID0gMjtcbiAgICovXG4gIGlzUG93ZXJTYXZlck1vZGU6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBcHBsZVN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVUaGVybWFsU3RhdGUgdGhlcm1hbF9zdGF0ZSA9IDE7XG4gICAqL1xuICB0aGVybWFsU3RhdGU6IEFwcGxlVGhlcm1hbFN0YXRlO1xuICAvKipcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vZm91bmRhdGlvbi9wcm9jZXNzaW5mby8xNjE3MDQ3LWlzbG93cG93ZXJtb2RlZW5hYmxlZFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfbG93X3Bvd2VyX21vZGVfZW5hYmxlZCA9IDI7XG4gICAqL1xuICBpc0xvd1Bvd2VyTW9kZUVuYWJsZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIFBlZXJUeXBlIHtcbiAgLyoqXG4gICAqIHRvZG8gZml4IG1lIChtYXJjZWxvKVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogUEVFUl9UWVBFX1BVQkxJU0hFUl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBQVUJMSVNIRVJfVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBFRVJfVFlQRV9TVUJTQ1JJQkVSID0gMTtcbiAgICovXG4gIFNVQlNDUklCRVIgPSAxLFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eVxuICovXG5leHBvcnQgZW51bSBDb25uZWN0aW9uUXVhbGl0eSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDT05ORUNUSU9OX1FVQUxJVFlfUE9PUiA9IDE7XG4gICAqL1xuICBQT09SID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDT05ORUNUSU9OX1FVQUxJVFlfR09PRCA9IDI7XG4gICAqL1xuICBHT09EID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDT05ORUNUSU9OX1FVQUxJVFlfRVhDRUxMRU5UID0gMztcbiAgICovXG4gIEVYQ0VMTEVOVCA9IDMsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eVxuICovXG5leHBvcnQgZW51bSBWaWRlb1F1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfTE9XX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIExPV19VTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVklERU9fUVVBTElUWV9NSUQgPSAxO1xuICAgKi9cbiAgTUlEID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBWSURFT19RVUFMSVRZX0hJR0ggPSAyO1xuICAgKi9cbiAgSElHSCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVklERU9fUVVBTElUWV9PRkYgPSAzO1xuICAgKi9cbiAgT0ZGID0gMyxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIFRyYWNrVHlwZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9BVURJTyA9IDE7XG4gICAqL1xuICBBVURJTyA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9WSURFTyA9IDI7XG4gICAqL1xuICBWSURFTyA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkUgPSAzO1xuICAgKi9cbiAgU0NSRUVOX1NIQVJFID0gMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19UWVBFX1NDUkVFTl9TSEFSRV9BVURJTyA9IDQ7XG4gICAqL1xuICBTQ1JFRU5fU0hBUkVfQVVESU8gPSA0LFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvckNvZGVcbiAqL1xuZXhwb3J0IGVudW0gRXJyb3JDb2RlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BVQkxJU0hfVFJBQ0tfTk9UX0ZPVU5EID0gMTAwO1xuICAgKi9cbiAgUFVCTElTSF9UUkFDS19OT1RfRk9VTkQgPSAxMDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLU19NSVNNQVRDSCA9IDEwMTtcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tTX01JU01BVENIID0gMTAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUFVCTElTSF9UUkFDS19PVVRfT0ZfT1JERVIgPSAxMDI7XG4gICAqL1xuICBQVUJMSVNIX1RSQUNLX09VVF9PRl9PUkRFUiA9IDEwMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BVQkxJU0hfVFJBQ0tfVklERU9fTEFZRVJfTk9UX0ZPVU5EID0gMTAzO1xuICAgKi9cbiAgUFVCTElTSF9UUkFDS19WSURFT19MQVlFUl9OT1RfRk9VTkQgPSAxMDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9MSVZFX0VOREVEID0gMTA0O1xuICAgKi9cbiAgTElWRV9FTkRFRCA9IDEwNCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX05PVF9GT1VORCA9IDIwMDtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX05PVF9GT1VORCA9IDIwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX01JR1JBVElOR19PVVQgPSAyMDE7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9NSUdSQVRJTkdfT1VUID0gMjAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfTUlHUkFUSU9OX0ZBSUxFRCA9IDIwMjtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX01JR1JBVElPTl9GQUlMRUQgPSAyMDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NSUdSQVRJTkcgPSAyMDM7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9NSUdSQVRJTkcgPSAyMDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9SRUNPTk5FQ1RfRkFJTEVEID0gMjA0O1xuICAgKi9cbiAgUEFSVElDSVBBTlRfUkVDT05ORUNUX0ZBSUxFRCA9IDIwNCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX01FRElBX1RSQU5TUE9SVF9GQUlMVVJFID0gMjA1O1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUVESUFfVFJBTlNQT1JUX0ZBSUxVUkUgPSAyMDUsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9DQUxMX05PVF9GT1VORCA9IDMwMDtcbiAgICovXG4gIENBTExfTk9UX0ZPVU5EID0gMzAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUkVRVUVTVF9WQUxJREFUSU9OX0ZBSUxFRCA9IDQwMDtcbiAgICovXG4gIFJFUVVFU1RfVkFMSURBVElPTl9GQUlMRUQgPSA0MDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9VTkFVVEhFTlRJQ0FURUQgPSA0MDE7XG4gICAqL1xuICBVTkFVVEhFTlRJQ0FURUQgPSA0MDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QRVJNSVNTSU9OX0RFTklFRCA9IDQwMztcbiAgICovXG4gIFBFUk1JU1NJT05fREVOSUVEID0gNDAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfVE9PX01BTllfUkVRVUVTVFMgPSA0Mjk7XG4gICAqL1xuICBUT09fTUFOWV9SRVFVRVNUUyA9IDQyOSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUiA9IDUwMDtcbiAgICovXG4gIElOVEVSTkFMX1NFUlZFUl9FUlJPUiA9IDUwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1NGVV9TSFVUVElOR19ET1dOID0gNjAwO1xuICAgKi9cbiAgU0ZVX1NIVVRUSU5HX0RPV04gPSA2MDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9TRlVfRlVMTCA9IDcwMDtcbiAgICovXG4gIFNGVV9GVUxMID0gNzAwLFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIFNka1R5cGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9SRUFDVCA9IDE7XG4gICAqL1xuICBSRUFDVCA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfQU5HVUxBUiA9IDI7XG4gICAqL1xuICBBTkdVTEFSID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9BTkRST0lEID0gMztcbiAgICovXG4gIEFORFJPSUQgPSAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0lPUyA9IDQ7XG4gICAqL1xuICBJT1MgPSA0LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0ZMVVRURVIgPSA1O1xuICAgKi9cbiAgRkxVVFRFUiA9IDUsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfUkVBQ1RfTkFUSVZFID0gNjtcbiAgICovXG4gIFJFQUNUX05BVElWRSA9IDYsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfVU5JVFkgPSA3O1xuICAgKi9cbiAgVU5JVFkgPSA3LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0dPID0gODtcbiAgICovXG4gIEdPID0gOCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9QTEFJTl9KQVZBU0NSSVBUID0gOTtcbiAgICovXG4gIFBMQUlOX0pBVkFTQ1JJUFQgPSA5LFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1VucHVibGlzaFJlYXNvblxuICovXG5leHBvcnQgZW51bSBUcmFja1VucHVibGlzaFJlYXNvbiB7XG4gIC8qKlxuICAgKiBEZWZhdWx0IHZhbHVlIHdoaWNoIGlzIHVzZWQgd2hlbiB0aGUgc3BlY2lmaWMgcmVhc29uXG4gICAqIGZvciBtdXRpbmcgdGhlIHRyYWNrIGlzIG5vdCBrbm93bi5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1VOUFVCTElTSF9SRUFTT05fVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogUmVwcmVzZW50cyB1c2VyIG11dGluZyB0aGVpciB0cmFja3MuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19VTlBVQkxJU0hfUkVBU09OX1VTRVJfTVVURUQgPSAxO1xuICAgKi9cbiAgVVNFUl9NVVRFRCA9IDEsXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIG11dGluZyB0aGUgdHJhY2sgYmVjYXVzZSB0aGUgcGVybWlzc2lvbiB0b1xuICAgKiBwdWJsaXNoIHRoZSB0cmFjayBoYXMgYmVlbiByZXZva2VkLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9QRVJNSVNTSU9OX1JFVk9LRUQgPSAyO1xuICAgKi9cbiAgUEVSTUlTU0lPTl9SRVZPS0VEID0gMixcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgbXV0aW5nIHRoZSB0cmFjayBkdWUgdG8gbW9kZXJhdGlvbiBhY3Rpb25zLlxuICAgKiBUaGlzIGlzIGRpZmZlcmVudCBmcm9tIHBlcm1pc3Npb24gcmV2b2tlZCBiZWNhdXNlIHRoZVxuICAgKiBwYXJ0aWNpcGFudCBjYW4gdW5tdXRlIHRoZW1zZWx2ZXMgaGVyZSB3aGVyZWFzIGluIGNhc2VcbiAgICogb2YgXCJwZXJtaXNzaW9uIHJldm9rZVwiIGl0IGlzIG5vdCBwb3NzaWJsZSB1bnRpbCB0aGVcbiAgICogY2FsbCBwZXJtaXNzaW9ucyBhcmUgdXBkYXRlZC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1VOUFVCTElTSF9SRUFTT05fTU9ERVJBVElPTiA9IDM7XG4gICAqL1xuICBNT0RFUkFUSU9OID0gMyxcbn1cbi8qKlxuICogR29Bd2F5UmVhc29uIHJlcHJlc2VudHMgdGhlIHJlYXNvbiBmb3IgdGhlIFNGVSB0b1xuICogZGlzY29ubmVjdCB0aGUgY2xpZW50LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkdvQXdheVJlYXNvblxuICovXG5leHBvcnQgZW51bSBHb0F3YXlSZWFzb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEdPX0FXQVlfUkVBU09OX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBHT19BV0FZX1JFQVNPTl9TSFVUVElOR19ET1dOID0gMTtcbiAgICovXG4gIFNIVVRUSU5HX0RPV04gPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEdPX0FXQVlfUkVBU09OX1JFQkFMQU5DRSA9IDI7XG4gICAqL1xuICBSRUJBTEFOQ0UgPSAyLFxufVxuLyoqXG4gKiBDYWxsRW5kZWRSZWFzb24gcmVwcmVzZW50cyB0aGUgcmVhc29uIGZvciB0aGUgY2FsbCB0byBlbmQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uXG4gKi9cbmV4cG9ydCBlbnVtIENhbGxFbmRlZFJlYXNvbiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX0VOREVEID0gMTtcbiAgICovXG4gIEVOREVEID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDQUxMX0VOREVEX1JFQVNPTl9MSVZFX0VOREVEID0gMjtcbiAgICovXG4gIExJVkVfRU5ERUQgPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX0tJQ0tFRCA9IDM7XG4gICAqL1xuICBLSUNLRUQgPSAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX1NFU1NJT05fRU5ERUQgPSA0O1xuICAgKi9cbiAgU0VTU0lPTl9FTkRFRCA9IDQsXG59XG4vKipcbiAqIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IGRlZmluZXMgdGhlIHdzIHN0cmF0ZWdpZXMgYXZhaWxhYmxlIGZvciBoYW5kbGluZyByZWNvbm5lY3Rpb25zLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5XG4gKi9cbmV4cG9ydCBlbnVtIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIFNlbnQgYWZ0ZXIgcmVhY2hpbmcgdGhlIG1heGltdW0gcmVjb25uZWN0aW9uIGF0dGVtcHRzLCBvciBhbnkgb3RoZXIgdW5yZWNvdmVyYWJsZSBlcnJvciBsZWFkaW5nIHRvIHBlcm1hbmVudCBkaXNjb25uZWN0LlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9ESVNDT05ORUNUID0gMTtcbiAgICovXG4gIERJU0NPTk5FQ1QgPSAxLFxuICAvKipcbiAgICogU0RLIHNob3VsZCBtYWludGFpbmluZyBleGlzdGluZyBwdWJsaXNoZXIvc3Vic2NyaWJlciBwYyBpbnN0YW5jZXNcbiAgICogYW5kIGVzdGFibGlzaCBhIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfRkFTVCA9IDI7XG4gICAqL1xuICBGQVNUID0gMixcbiAgLyoqXG4gICAqIFNESyBzaG91bGQgb2J0YWluIG5ldyBjcmVkZW50aWFscyBmcm9tIHRoZSBjb29yZGluYXRvciwgZHJvcHMgZXhpc3RpbmcgcGMgaW5zdGFuY2VzLCBzZXQgYSBuZXcgc2Vzc2lvbl9pZCBhbmQgaW5pdGlhbGl6ZXNcbiAgICogYSBjb21wbGV0ZWx5IG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbiwgZW5zdXJpbmcgYSBjb21wcmVoZW5zaXZlIHJlc2V0LlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9SRUpPSU4gPSAzO1xuICAgKi9cbiAgUkVKT0lOID0gMyxcbiAgLyoqXG4gICAqIFNESyBzaG91bGQgbWlncmF0ZSB0byBhIG5ldyBTRlUgaW5zdGFuY2VcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfTUlHUkFURSA9IDQ7XG4gICAqL1xuICBNSUdSQVRFID0gNCxcbn1cbi8qKlxuICogQW5kcm9pZFRoZXJtYWxTdGF0ZSBpcyByZXBvcnRlZCBieSB0aGUgQW5kcm9pZCBBUEkuIFRoZSBmdWxsIGxpc3Qgb2YgdmFsdWVzIGlzIGRvY3VtZW50ZWQgaGVyZVxuICogaHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2FuZHJvaWQvb3MvUG93ZXJNYW5hZ2VyLmh0bWwjZ2V0Q3VycmVudFRoZXJtYWxTdGF0dXMoKVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRUaGVybWFsU3RhdGVcbiAqL1xuZXhwb3J0IGVudW0gQW5kcm9pZFRoZXJtYWxTdGF0ZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfTk9ORSA9IDE7XG4gICAqL1xuICBOT05FID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfTElHSFQgPSAyO1xuICAgKi9cbiAgTElHSFQgPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9NT0RFUkFURSA9IDM7XG4gICAqL1xuICBNT0RFUkFURSA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX1NFVkVSRSA9IDQ7XG4gICAqL1xuICBTRVZFUkUgPSA0LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9DUklUSUNBTCA9IDU7XG4gICAqL1xuICBDUklUSUNBTCA9IDUsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX0VNRVJHRU5DWSA9IDY7XG4gICAqL1xuICBFTUVSR0VOQ1kgPSA2LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9TSFVURE9XTiA9IDc7XG4gICAqL1xuICBTSFVURE9XTiA9IDcsXG59XG4vKipcbiAqIEFwcGxlVGhlcm1hbFN0YXRlIGlzIHRoZSB0aGVybWFsIHN0YXRlIGFzIHJlcG9ydGVkIGJ5IEFwcGxlIGRldmljZXMgd2hlbiBhdmFpbGFibGUgb3IgYXBwbGljYWJsZSB0byB0aGUgcGxhdGZvcm0uXG4gKiBUaGUgZnVsbCBsaXN0IG9mIHN0YXRlcyAoZW51bSkgaXMgYXZhaWxhYmxlIGhlcmU6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2ZvdW5kYXRpb24vcHJvY2Vzc2luZm8vdGhlcm1hbHN0YXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVUaGVybWFsU3RhdGVcbiAqL1xuZXhwb3J0IGVudW0gQXBwbGVUaGVybWFsU3RhdGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFQUExFX1RIRVJNQUxfU1RBVEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFQUExFX1RIRVJNQUxfU1RBVEVfTk9NSU5BTCA9IDE7XG4gICAqL1xuICBOT01JTkFMID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBUFBMRV9USEVSTUFMX1NUQVRFX0ZBSVIgPSAyO1xuICAgKi9cbiAgRkFJUiA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQVBQTEVfVEhFUk1BTF9TVEFURV9TRVJJT1VTID0gMztcbiAgICovXG4gIFNFUklPVVMgPSAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFQUExFX1RIRVJNQUxfU1RBVEVfQ1JJVElDQUwgPSA0O1xuICAgKi9cbiAgQ1JJVElDQUwgPSA0LFxufVxuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbFN0YXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsU3RhdGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudHMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50LFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzdGFydGVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9jb3VudCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRDb3VudCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAncGlucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUGluLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZVxuICovXG5leHBvcnQgY29uc3QgQ2FsbFN0YXRlID0gbmV3IENhbGxTdGF0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudENvdW50JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudENvdW50PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3RvdGFsJywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2Fub255bW91cycsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50Q291bnQgPSBuZXcgUGFydGljaXBhbnRDb3VudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQaW4kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBpbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW5cbiAqL1xuZXhwb3J0IGNvbnN0IFBpbiA9IG5ldyBQaW4kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hlZF90cmFja3MnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnam9pbmVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICd0cmFja19sb29rdXBfcHJlZml4JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHknLFxuICAgICAgICAgIENvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgICdDT05ORUNUSU9OX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnaXNfc3BlYWtpbmcnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA4LFxuICAgICAgICBuYW1lOiAnaXNfZG9taW5hbnRfc3BlYWtlcicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogOSwgbmFtZTogJ2F1ZGlvX2xldmVsJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHsgbm86IDEwLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMTEsIG5hbWU6ICdpbWFnZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMTIsIG5hbWU6ICdjdXN0b20nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFN0cnVjdCB9LFxuICAgICAge1xuICAgICAgICBubzogMTMsXG4gICAgICAgIG5hbWU6ICdyb2xlcycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50XG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudCA9IG5ldyBQYXJ0aWNpcGFudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdHJlYW1RdWFsaXR5JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdHJlYW1RdWFsaXR5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdHJlYW1RdWFsaXR5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3ZpZGVvX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9RdWFsaXR5JyxcbiAgICAgICAgICBWaWRlb1F1YWxpdHksXG4gICAgICAgICAgJ1ZJREVPX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3RyZWFtUXVhbGl0eVxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtUXVhbGl0eSA9IG5ldyBTdHJlYW1RdWFsaXR5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvRGltZW5zaW9uJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb0RpbWVuc2lvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnd2lkdGgnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnaGVpZ2h0Jywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb25cbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvRGltZW5zaW9uID0gbmV3IFZpZGVvRGltZW5zaW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvTGF5ZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvTGF5ZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAncmlkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAndmlkZW9fZGltZW5zaW9uJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb0RpbWVuc2lvbixcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnYml0cmF0ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdmcHMnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAncXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHknLFxuICAgICAgICAgIFZpZGVvUXVhbGl0eSxcbiAgICAgICAgICAnVklERU9fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTGF5ZXIgPSBuZXcgVmlkZW9MYXllciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdWJzY3JpYmVPcHRpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN1YnNjcmliZU9wdGlvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3Vic2NyaWJlT3B0aW9uJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnY29kZWNzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBDb2RlYyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdWJzY3JpYmVPcHRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IFN1YnNjcmliZU9wdGlvbiA9IG5ldyBTdWJzY3JpYmVPcHRpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUHVibGlzaE9wdGlvbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UHVibGlzaE9wdGlvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvbicsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2JpdHJhdGUnLCBraW5kOiAnc2NhbGFyJywgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ2ZwcycsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnbWF4X3NwYXRpYWxfbGF5ZXJzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ21heF90ZW1wb3JhbF9sYXllcnMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA3LFxuICAgICAgICBuYW1lOiAndmlkZW9fZGltZW5zaW9uJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb0RpbWVuc2lvbixcbiAgICAgIH0sXG4gICAgICB7IG5vOiA4LCBuYW1lOiAnaWQnLCBraW5kOiAnc2NhbGFyJywgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvblxuICovXG5leHBvcnQgY29uc3QgUHVibGlzaE9wdGlvbiA9IG5ldyBQdWJsaXNoT3B0aW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENvZGVjJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb2RlYz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxNixcbiAgICAgICAgbmFtZTogJ3BheWxvYWRfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogMTAsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNCxcbiAgICAgICAgbmFtZTogJ2Nsb2NrX3JhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDE1LFxuICAgICAgICBuYW1lOiAnZW5jb2RpbmdfcGFyYW1ldGVycycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAxMiwgbmFtZTogJ2ZtdHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjXG4gKi9cbmV4cG9ydCBjb25zdCBDb2RlYyA9IG5ldyBDb2RlYyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VUcmlja2xlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VUcmlja2xlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpY2VfY2FuZGlkYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBjb25zdCBJQ0VUcmlja2xlID0gbmV3IElDRVRyaWNrbGUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tJbmZvJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxUcmFja0luZm8+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd0cmFja19pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnbGF5ZXJzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb0xheWVyLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDYsIG5hbWU6ICdtaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDcsIG5hbWU6ICdkdHgnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiA4LCBuYW1lOiAnc3RlcmVvJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogOSwgbmFtZTogJ3JlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDEwLCBuYW1lOiAnbXV0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiAxMSwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogMTIsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoX29wdGlvbl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mb1xuICovXG5leHBvcnQgY29uc3QgVHJhY2tJbmZvID0gbmV3IFRyYWNrSW5mbyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBFcnJvciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RXJyb3I+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2NvZGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlJyxcbiAgICAgICAgICBFcnJvckNvZGUsXG4gICAgICAgICAgJ0VSUk9SX0NPREVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbWVzc2FnZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ3Nob3VsZF9yZXRyeScsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBFcnJvciA9IG5ldyBFcnJvciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDbGllbnREZXRhaWxzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDbGllbnREZXRhaWxzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkaycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gU2RrIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnb3MnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IE9TIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnYnJvd3NlcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQnJvd3NlciB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ2RldmljZScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRGV2aWNlIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzXG4gKi9cbmV4cG9ydCBjb25zdCBDbGllbnREZXRhaWxzID0gbmV3IENsaWVudERldGFpbHMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2RrJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZGs+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlNkaycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1R5cGUnLCBTZGtUeXBlLCAnU0RLX1RZUEVfJ10sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ21ham9yJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnbWlub3InLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdwYXRjaCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrXG4gKi9cbmV4cG9ydCBjb25zdCBTZGsgPSBuZXcgU2RrJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIE9TJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxPUz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1MnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdhcmNoaXRlY3R1cmUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1NcbiAqL1xuZXhwb3J0IGNvbnN0IE9TID0gbmV3IE9TJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEJyb3dzZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEJyb3dzZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXJcbiAqL1xuZXhwb3J0IGNvbnN0IEJyb3dzZXIgPSBuZXcgQnJvd3NlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEZXZpY2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPERldmljZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRGV2aWNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ25hbWUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICd2ZXJzaW9uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2VcbiAqL1xuZXhwb3J0IGNvbnN0IERldmljZSA9IG5ldyBEZXZpY2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd0eXBlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdjcmVhdGVkX2J5X3VzZXJfaWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ2hvc3RfdXNlcl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnY3VzdG9tJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBTdHJ1Y3QgfSxcbiAgICAgIHsgbm86IDYsIG5hbWU6ICdjcmVhdGVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHsgbm86IDcsIG5hbWU6ICd1cGRhdGVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGwgPSBuZXcgQ2FsbCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsR3JhbnRzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsR3JhbnRzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsR3JhbnRzJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Nhbl9wdWJsaXNoX2F1ZGlvJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnY2FuX3B1Ymxpc2hfdmlkZW8nLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdjYW5fc2NyZWVuc2hhcmUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHNcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxHcmFudHMgPSBuZXcgQ2FsbEdyYW50cyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJbnB1dERldmljZXMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElucHV0RGV2aWNlcz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2F2YWlsYWJsZV9kZXZpY2VzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2N1cnJlbnRfZGV2aWNlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdpc19wZXJtaXR0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JbnB1dERldmljZXNcbiAqL1xuZXhwb3J0IGNvbnN0IElucHV0RGV2aWNlcyA9IG5ldyBJbnB1dERldmljZXMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQW5kcm9pZFN0YXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBbmRyb2lkU3RhdGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0aGVybWFsX3N0YXRlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRUaGVybWFsU3RhdGUnLFxuICAgICAgICAgIEFuZHJvaWRUaGVybWFsU3RhdGUsXG4gICAgICAgICAgJ0FORFJPSURfVEhFUk1BTF9TVEFURV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpc19wb3dlcl9zYXZlcl9tb2RlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BbmRyb2lkU3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IEFuZHJvaWRTdGF0ZSA9IG5ldyBBbmRyb2lkU3RhdGUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQXBwbGVTdGF0ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QXBwbGVTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0aGVybWFsX3N0YXRlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlVGhlcm1hbFN0YXRlJyxcbiAgICAgICAgICBBcHBsZVRoZXJtYWxTdGF0ZSxcbiAgICAgICAgICAnQVBQTEVfVEhFUk1BTF9TVEFURV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpc19sb3dfcG93ZXJfbW9kZV9lbmFibGVkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BcHBsZVN0YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBBcHBsZVN0YXRlID0gbmV3IEFwcGxlU3RhdGUkVHlwZSgpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwidmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbFwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB7IElDRVRyaWNrbGUgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFNlcnZpY2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjJztcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHsgVHJhY2tJbmZvIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBWaWRlb0RpbWVuc2lvbiB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBQZWVyVHlwZSB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQXBwbGVTdGF0ZSB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQW5kcm9pZFN0YXRlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBJbnB1dERldmljZXMgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBFcnJvciB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gMTtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5SZWNvbm5lY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWNvbm5lY3Rpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCB0aW1lX3NlY29uZHMgPSAxO1xuICAgKi9cbiAgdGltZVNlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgc3RyYXRlZ3kgPSAyO1xuICAgKi9cbiAgc3RyYXRlZ3k6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UZWxlbWV0cnlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZWxlbWV0cnkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiBkYXRhXG4gICAqL1xuICBkYXRhOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjb25uZWN0aW9uVGltZVNlY29uZHMnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBjb25uZWN0aW9uX3RpbWVfc2Vjb25kcyA9IDE7XG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uVGltZVNlY29uZHM6IG51bWJlcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncmVjb25uZWN0aW9uJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuUmVjb25uZWN0aW9uIHJlY29ubmVjdGlvbiA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICByZWNvbm5lY3Rpb246IFJlY29ubmVjdGlvbjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFN0YXRzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3Vic2NyaWJlcl9zdGF0cyA9IDI7XG4gICAqL1xuICBzdWJzY3JpYmVyU3RhdHM6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHB1Ymxpc2hlcl9zdGF0cyA9IDM7XG4gICAqL1xuICBwdWJsaXNoZXJTdGF0czogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgd2VicnRjX3ZlcnNpb24gPSA0O1xuICAgKi9cbiAgd2VicnRjVmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RrID0gNTtcbiAgICovXG4gIHNkazogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RrX3ZlcnNpb24gPSA2O1xuICAgKi9cbiAgc2RrVmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JbnB1dERldmljZXMgYXVkaW9fZGV2aWNlcyA9IDc7XG4gICAqL1xuICBhdWRpb0RldmljZXM/OiBJbnB1dERldmljZXM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklucHV0RGV2aWNlcyB2aWRlb19kZXZpY2VzID0gODtcbiAgICovXG4gIHZpZGVvRGV2aWNlcz86IElucHV0RGV2aWNlcztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjogZGV2aWNlX3N0YXRlXG4gICAqL1xuICBkZXZpY2VTdGF0ZTpcbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnYW5kcm9pZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRTdGF0ZSBhbmRyb2lkID0gOTtcbiAgICAgICAgICovXG4gICAgICAgIGFuZHJvaWQ6IEFuZHJvaWRTdGF0ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnYXBwbGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BcHBsZVN0YXRlIGFwcGxlID0gMTA7XG4gICAgICAgICAqL1xuICAgICAgICBhcHBsZTogQXBwbGVTdGF0ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UZWxlbWV0cnkgdGVsZW1ldHJ5ID0gMTE7XG4gICAqL1xuICB0ZWxlbWV0cnk/OiBUZWxlbWV0cnk7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFN0YXRzUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVJlc3RhcnRSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDI7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVJlc3RhcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gMTtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tNdXRlU3RhdGUgbXV0ZV9zdGF0ZXMgPSAzO1xuICAgKi9cbiAgbXV0ZVN0YXRlczogVHJhY2tNdXRlU3RhdGVbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tNdXRlU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja011dGVTdGF0ZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMTtcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIG11dGVkID0gMjtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5BdWRpb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9NdXRlQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAxO1xuICAgKi9cbiAgbXV0ZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlZpZGVvTXV0ZUNoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb011dGVDaGFuZ2VkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBtdXRlZCA9IDI7XG4gICAqL1xuICBtdXRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgdHJhY2tzID0gMztcbiAgICovXG4gIHRyYWNrczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAzO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvRGltZW5zaW9uIGRpbWVuc2lvbiA9IDQ7XG4gICAqL1xuICBkaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQW5zd2VyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZHAgPSAyO1xuICAgKi9cbiAgc2RwOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMztcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQW5zd2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VUcmlja2xlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VUcmlja2xlUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2V0UHVibGlzaGVyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBzZHAgb2ZmZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMTtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvIHRyYWNrcyA9IDM7XG4gICAqL1xuICB0cmFja3M6IFRyYWNrSW5mb1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldFB1Ymxpc2hlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIHNkcCBhbnN3ZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMTtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpY2VfcmVzdGFydCA9IDM7XG4gICAqL1xuICBpY2VSZXN0YXJ0OiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QgPVxuICBuZXcgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlID1cbiAgbmV3IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QgPVxuICBuZXcgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlID1cbiAgbmV3IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFJlY29ubmVjdGlvbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UmVjb25uZWN0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5SZWNvbm5lY3Rpb24nLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndGltZV9zZWNvbmRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3N0cmF0ZWd5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5JyxcbiAgICAgICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbiAgICAgICAgICAnV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlJlY29ubmVjdGlvblxuICovXG5leHBvcnQgY29uc3QgUmVjb25uZWN0aW9uID0gbmV3IFJlY29ubmVjdGlvbiRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUZWxlbWV0cnkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRlbGVtZXRyeT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVGVsZW1ldHJ5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fdGltZV9zZWNvbmRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIG9uZW9mOiAnZGF0YScsXG4gICAgICAgIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3JlY29ubmVjdGlvbicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdkYXRhJyxcbiAgICAgICAgVDogKCkgPT4gUmVjb25uZWN0aW9uLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRlbGVtZXRyeVxuICovXG5leHBvcnQgY29uc3QgVGVsZW1ldHJ5ID0gbmV3IFRlbGVtZXRyeSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZW5kU3RhdHNSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZW5kU3RhdHNSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX3N0YXRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoZXJfc3RhdHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3dlYnJ0Y192ZXJzaW9uJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdzZGsnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdzZGtfdmVyc2lvbicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnYXVkaW9fZGV2aWNlcycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gSW5wdXREZXZpY2VzIH0sXG4gICAgICB7IG5vOiA4LCBuYW1lOiAndmlkZW9fZGV2aWNlcycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gSW5wdXREZXZpY2VzIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA5LFxuICAgICAgICBuYW1lOiAnYW5kcm9pZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdkZXZpY2VTdGF0ZScsXG4gICAgICAgIFQ6ICgpID0+IEFuZHJvaWRTdGF0ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMCxcbiAgICAgICAgbmFtZTogJ2FwcGxlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2RldmljZVN0YXRlJyxcbiAgICAgICAgVDogKCkgPT4gQXBwbGVTdGF0ZSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAxMSwgbmFtZTogJ3RlbGVtZXRyeScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVGVsZW1ldHJ5IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXF1ZXN0ID0gbmV3IFNlbmRTdGF0c1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZFN0YXRzUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRTdGF0c1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXNwb25zZSA9IG5ldyBTZW5kU3RhdHNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VSZXN0YXJ0UmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFUmVzdGFydFJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlcXVlc3QgPSBuZXcgSUNFUmVzdGFydFJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFUmVzdGFydFJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VSZXN0YXJ0UmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlc3BvbnNlID0gbmV3IElDRVJlc3RhcnRSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdtdXRlX3N0YXRlcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tNdXRlU3RhdGUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0ID0gbmV3IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSA9IG5ldyBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tNdXRlU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrTXV0ZVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja011dGVTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ211dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tNdXRlU3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrTXV0ZVN0YXRlID0gbmV3IFRyYWNrTXV0ZVN0YXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvTXV0ZUNoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLkF1ZGlvTXV0ZUNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbXV0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5BdWRpb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb011dGVDaGFuZ2VkID0gbmV3IEF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9NdXRlQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9NdXRlQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVmlkZW9NdXRlQ2hhbmdlZCcsIFtcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtdXRlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlZpZGVvTXV0ZUNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTXV0ZUNoYW5nZWQgPSBuZXcgVmlkZW9NdXRlQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QgPSBuZXcgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlID1cbiAgbmV3IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdkaW1lbnNpb24nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFZpZGVvRGltZW5zaW9uIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyA9IG5ldyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZEFuc3dlclJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRBbnN3ZXJSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFNlbmRBbnN3ZXJSZXF1ZXN0ID0gbmV3IFNlbmRBbnN3ZXJSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNlbmRBbnN3ZXJSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2VuZEFuc3dlclJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFNlbmRBbnN3ZXJSZXNwb25zZSA9IG5ldyBTZW5kQW5zd2VyUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFVHJpY2tsZVJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VUcmlja2xlUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZVJlc3BvbnNlID0gbmV3IElDRVRyaWNrbGVSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZXRQdWJsaXNoZXJSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZXRQdWJsaXNoZXJSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZXRQdWJsaXNoZXJSZXF1ZXN0ID0gbmV3IFNldFB1Ymxpc2hlclJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNldFB1Ymxpc2hlclJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnaWNlX3Jlc3RhcnQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2V0UHVibGlzaGVyUmVzcG9uc2UgPSBuZXcgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSgpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIFNlcnZpY2VUeXBlIGZvciBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgY29uc3QgU2lnbmFsU2VydmVyID0gbmV3IFNlcnZpY2VUeXBlKFxuICAnc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyJyxcbiAgW1xuICAgIHtcbiAgICAgIG5hbWU6ICdTZXRQdWJsaXNoZXInLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgICAgTzogU2V0UHVibGlzaGVyUmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZEFuc3dlcicsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgICAgTzogU2VuZEFuc3dlclJlc3BvbnNlLFxuICAgIH0sXG4gICAgeyBuYW1lOiAnSWNlVHJpY2tsZScsIG9wdGlvbnM6IHt9LCBJOiBJQ0VUcmlja2xlLCBPOiBJQ0VUcmlja2xlUmVzcG9uc2UgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnVXBkYXRlU3Vic2NyaXB0aW9ucycsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgICAgTzogVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1VwZGF0ZU11dGVTdGF0ZXMnLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbiAgICAgIE86IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdJY2VSZXN0YXJ0JyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgICBPOiBJQ0VSZXN0YXJ0UmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZFN0YXRzJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICAgIE86IFNlbmRTdGF0c1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1N0YXJ0Tm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICAgIE86IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTdG9wTm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgTzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UsXG4gICAgfSxcbiAgXSxcbik7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvZXZlbnQvZXZlbnRzLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LmV2ZW50XCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgeyBDYWxsRW5kZWRSZWFzb24gfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IEdvQXdheVJlYXNvbiB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQ2FsbEdyYW50cyB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQ29kZWMgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENvbm5lY3Rpb25RdWFsaXR5IH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyB9IGZyb20gJy4uL3NpZ25hbF9ycGMvc2lnbmFsJztcbmltcG9ydCB7IFRyYWNrSW5mbyB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU3Vic2NyaWJlT3B0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBDbGllbnREZXRhaWxzIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBUcmFja1VucHVibGlzaFJlYXNvbiB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgUGFydGljaXBhbnQgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgUGFydGljaXBhbnRDb3VudCB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgUGVlclR5cGUgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBFcnJvciBhcyBFcnJvciQgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFBpbiB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgUHVibGlzaE9wdGlvbiB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgSUNFVHJpY2tsZSBhcyBJQ0VUcmlja2xlJCB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuLyoqXG4gKiBTRlVFdmVudCBpcyBhIG1lc3NhZ2UgdGhhdCBpcyBzZW50IGZyb20gdGhlIFNGVSB0byB0aGUgY2xpZW50LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZnVFdmVudCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgb25lb2Y6IGV2ZW50X3BheWxvYWRcbiAgICovXG4gIGV2ZW50UGF5bG9hZDpcbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnc3Vic2NyaWJlck9mZmVyJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN1YnNjcmliZXJPZmZlciBzZW5kcyB0aGUgU0RQIG9mZmVyIGZvciBlc3RhYmxpc2hpbmcgdGhlXG4gICAgICAgICAqIHN1YnNjcmliZXIgUGVlckNvbm5lY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXIgc3Vic2NyaWJlcl9vZmZlciA9IDE7XG4gICAgICAgICAqL1xuICAgICAgICBzdWJzY3JpYmVyT2ZmZXI6IFN1YnNjcmliZXJPZmZlcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncHVibGlzaGVyQW5zd2VyJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFB1Ymxpc2hlckFuc3dlciBzZW5kcyB0aGUgU0RQIGFuc3dlciB0byB0aGUgb2ZmZXIgc2VudCBieVxuICAgICAgICAgKiB0aGUgY2xpZW50IGZvciBlc3RhYmxpc2hpbmcgdGhlIFB1Ymxpc2hlciBQZWVyQ29ubmVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlB1Ymxpc2hlckFuc3dlciBwdWJsaXNoZXJfYW5zd2VyID0gMjtcbiAgICAgICAgICovXG4gICAgICAgIHB1Ymxpc2hlckFuc3dlcjogUHVibGlzaGVyQW5zd2VyO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIGlzIHNlbnQgdG8gaW5mb3JtIHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAqIHF1YWxpdHkgb2YgdGhlIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbC4gSXQgZG9lcyBub3QgaGF2ZVxuICAgICAgICAgKiB0byBjb250YWluIHRoZSBmdWxsIGxpc3Qgb2YgY2FsbCBwYXJ0aWNpcGFudHMgaW4gaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQgY29ubmVjdGlvbl9xdWFsaXR5X2NoYW5nZWQgPSAzO1xuICAgICAgICAgKi9cbiAgICAgICAgY29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkOiBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2F1ZGlvTGV2ZWxDaGFuZ2VkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF1ZGlvTGV2ZWxDaGFuZ2VkIGlzIHNlbnQgZm9yIGNoYW5nZSBpbiBhdWRpbyBsZXZlbHMgb2ZcbiAgICAgICAgICogdGhlIHBhcnRpY2lwYW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxDaGFuZ2VkIGF1ZGlvX2xldmVsX2NoYW5nZWQgPSA0O1xuICAgICAgICAgKi9cbiAgICAgICAgYXVkaW9MZXZlbENoYW5nZWQ6IEF1ZGlvTGV2ZWxDaGFuZ2VkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdpY2VUcmlja2xlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElDRVRyaWNrbGUgY29udGFpbnMgdGhlIElDRSBjYW5kaWRhdGUgcmVxdWlyZWQgdG8gZXN0YWJsaXNoXG4gICAgICAgICAqIHRoZSBJQ0UgdHJhbnNwb3J0OiBwYXJ0IG9mIGVzdGFibGlzaGluZyB0aGUgUGVlckNvbm5lY3Rpb25cbiAgICAgICAgICogYW5kIGFsc28gZm9yIElDRSByZXN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlIGljZV90cmlja2xlID0gNTtcbiAgICAgICAgICovXG4gICAgICAgIGljZVRyaWNrbGU6IElDRVRyaWNrbGUkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjaGFuZ2VQdWJsaXNoUXVhbGl0eSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGFuZ2VQdWJsaXNoUXVhbGl0eSBhZHZpc2VzIHRoZSBwdWJsaXNoZXIgdG8gc3dpdGNoIG9uL29mZlxuICAgICAgICAgKiB2YXJpb3VzIHF1YWxpdGllcyBvZiB0aGVpciB2aWRlbyBzdHJlYW0gYmFzZWQgb24gdGhlIHN1YnNjcmlwdGlvbi5cbiAgICAgICAgICogVGhpcyBpcyBkb25lIHRvIHNhdmUgdGhlIGJhbmR3aWR0aCBhbmQgdGhlIENQVSBvZiB0aGUgcHVibGlzaGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaFF1YWxpdHkgY2hhbmdlX3B1Ymxpc2hfcXVhbGl0eSA9IDY7XG4gICAgICAgICAqL1xuICAgICAgICBjaGFuZ2VQdWJsaXNoUXVhbGl0eTogQ2hhbmdlUHVibGlzaFF1YWxpdHk7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3BhcnRpY2lwYW50Sm9pbmVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnRpY2lwYW50Sm9pbmVkIG5vdGlmaWVzIHRoZSBjbGllbnQgdGhhdCBhIG5ldyBwYXJ0aWNpcGFudFxuICAgICAgICAgKiBoYXMgam9pbmVkIHRoZSBjYWxsLiBUaGlzIGlzIG5vdCBzZW50IGZvciBhbm9ueW1vdXMgdXNlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudEpvaW5lZCBwYXJ0aWNpcGFudF9qb2luZWQgPSAxMDtcbiAgICAgICAgICovXG4gICAgICAgIHBhcnRpY2lwYW50Sm9pbmVkOiBQYXJ0aWNpcGFudEpvaW5lZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRMZWZ0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnRpY2lwYW50TGVmdCBub3RpZmllcyB0aGUgY2xpZW50IHRoYXQgYSBjYWxsIHBhcnRpY2lwYW50XG4gICAgICAgICAqIGhhcyBsZWZ0IHRoZSBjYWxsLiBUaGlzIGlzIG5vdCBzZW50IGZvciBhbm9ueW1vdXMgdXNlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnQgcGFydGljaXBhbnRfbGVmdCA9IDExO1xuICAgICAgICAgKi9cbiAgICAgICAgcGFydGljaXBhbnRMZWZ0OiBQYXJ0aWNpcGFudExlZnQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2RvbWluYW50U3BlYWtlckNoYW5nZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9taW5hbnRTcGVha2VyQ2hhbmdlZCBub3RpZmllcyB0aGUgY2xpZW50IGFib3V0IHRoZSBjdXJyZW50XG4gICAgICAgICAqIGRvbWluYW50IHNwZWFrZXIuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIGNlcnRhaW4gdXNlIGNhc2VzIGxpa2VcbiAgICAgICAgICogdGhlIHNwb3RsaWdodCB2aWV3LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRG9taW5hbnRTcGVha2VyQ2hhbmdlZCBkb21pbmFudF9zcGVha2VyX2NoYW5nZWQgPSAxMjtcbiAgICAgICAgICovXG4gICAgICAgIGRvbWluYW50U3BlYWtlckNoYW5nZWQ6IERvbWluYW50U3BlYWtlckNoYW5nZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2pvaW5SZXNwb25zZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBKb2luUmVzcG9uc2UgYWNrbm93bGVkZ2VzIGEgcGFydGljaXBhbnQgc3VjY2Vzc2Z1bGx5IGpvaW5pbmdcbiAgICAgICAgICogdGhlIGNhbGwuIFRoaXMgaXMgc2VudCBpbiByZXNwb25zZSB0byB0aGUgSm9pblJlcXVlc3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVzcG9uc2Ugam9pbl9yZXNwb25zZSA9IDEzO1xuICAgICAgICAgKi9cbiAgICAgICAgam9pblJlc3BvbnNlOiBKb2luUmVzcG9uc2U7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2hlYWx0aENoZWNrUmVzcG9uc2UnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSGVhbHRoQ2hlY2tSZXNwb25zZSBpcyBzZW50IGluIHJlc3BvbnNlIHRvIHRoZSBIZWFsdGhDaGVja1JlcXVlc3QuXG4gICAgICAgICAqIEl0IGNvbnRhaW5zIHRoZSBwYXJ0aWNpcGFudCBjb3VudCBpbiB0aGUgY2FsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2UgaGVhbHRoX2NoZWNrX3Jlc3BvbnNlID0gMTQ7XG4gICAgICAgICAqL1xuICAgICAgICBoZWFsdGhDaGVja1Jlc3BvbnNlOiBIZWFsdGhDaGVja1Jlc3BvbnNlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICd0cmFja1B1Ymxpc2hlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja1B1Ymxpc2hlZCBpcyBzZW50IHdoZW4gYSBuZXcgdHJhY2sgKGxpa2UgYXVkaW8sIHZpZGVvLCBzY3JlZW5zaGFyZSlcbiAgICAgICAgICogaXMgcHVibGlzaGVkIGJ5IGEgcGFydGljaXBhbnQgaW4gdGhlIGNhbGwuIEl0IGlzIGFsc28gc2VudCBvbiBtdXRlL3VubXV0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkIHRyYWNrX3B1Ymxpc2hlZCA9IDE2O1xuICAgICAgICAgKi9cbiAgICAgICAgdHJhY2tQdWJsaXNoZWQ6IFRyYWNrUHVibGlzaGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICd0cmFja1VucHVibGlzaGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrVW5wdWJsaXNoZWQgaXMgc2VudCB3aGVuIGEgdHJhY2sgKGxpa2UgYXVkaW8sIHZpZGVvLCBzY3JlZW5zaGFyZSlcbiAgICAgICAgICogaXMgbm8gbG9uZ2VyIHB1Ymxpc2hlZC4gSXQgaXMgc2VudCBvbiBtdXRpbmcgYSB0cmFjayBvciB3aGVuIHRoZSBwYXJ0aWNpcGFudFxuICAgICAgICAgKiBpcyBsZWF2aW5nIHRoZSBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tVbnB1Ymxpc2hlZCB0cmFja191bnB1Ymxpc2hlZCA9IDE3O1xuICAgICAgICAgKi9cbiAgICAgICAgdHJhY2tVbnB1Ymxpc2hlZDogVHJhY2tVbnB1Ymxpc2hlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnZXJyb3InO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXJyb3IgaXMgdXNlZCB0byBjb21tdW5pY2F0ZSBhbnkgZXJyb3IgcmVsYXRlZCB0byB0aGUgcGFydGljaXBhbnQuIFRoZVxuICAgICAgICAgKiBlcnJvciBjb2RlIGFuZCB0aGUgbWVzc2FnZSBleHBsYWluIHdoYXQgd2VudCB3cm9uZy4gV2hldGhlciB0aGUgcGFydGljaXBhbnRcbiAgICAgICAgICogY2FuIHJldHJ5IGlzIGFsc28gaW5kaWNhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRXJyb3IgZXJyb3IgPSAxODtcbiAgICAgICAgICovXG4gICAgICAgIGVycm9yOiBFcnJvcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY2FsbEdyYW50c1VwZGF0ZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbEdyYW50c1VwZGF0ZWQgdGVsbHMgd2hhdCB0cmFja3MgYSBwYXJ0aWNpcGFudCBpcyBhbGxvd2VkIHRvIHB1Ymxpc2guXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsR3JhbnRzVXBkYXRlZCBjYWxsX2dyYW50c191cGRhdGVkID0gMTk7XG4gICAgICAgICAqL1xuICAgICAgICBjYWxsR3JhbnRzVXBkYXRlZDogQ2FsbEdyYW50c1VwZGF0ZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2dvQXdheSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHb0F3YXkgdGVsbHMgdGhlIGNsaWVudCB0byBtaWdyYXRlIGF3YXkgZnJvbSB0aGUgU0ZVIGl0IGlzIGNvbm5lY3RlZCB0by5cbiAgICAgICAgICogVGhlIHJlYXNvbiBmaWVsZCBpbmRpY2F0ZXMgd2h5IHRoaXMgbWVzc2FnZSB3YXMgc2VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkdvQXdheSBnb19hd2F5ID0gMjA7XG4gICAgICAgICAqL1xuICAgICAgICBnb0F3YXk6IEdvQXdheTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaWNlUmVzdGFydCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJQ0VSZXN0YXJ0IHRlbGxzIHRoZSBjbGllbnQgdG8gcGVyZm9ybSBJQ0UgcmVzdGFydC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnQgaWNlX3Jlc3RhcnQgPSAyMTtcbiAgICAgICAgICovXG4gICAgICAgIGljZVJlc3RhcnQ6IElDRVJlc3RhcnQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3BpbnNVcGRhdGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBpbnNDaGFuZ2VkIGlzIHNlbnQgdGhlIGxpc3Qgb2YgcGlucyBpbiB0aGUgY2FsbCBjaGFuZ2VzLiBUaGlzIGV2ZW50IGNvbnRhaW5zIHRoZSBlbnRpcmUgbGlzdCBvZiBwaW5zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWQgcGluc191cGRhdGVkID0gMjI7XG4gICAgICAgICAqL1xuICAgICAgICBwaW5zVXBkYXRlZDogUGluc0NoYW5nZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2NhbGxFbmRlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsRW5kZWQgaXMgc2VudCBieSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQgdG8gc2lnbmFsIHRoYXQgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICAgICAgICAgKiBUaGUgcmVhc29uIG1heSBzcGVjaWZ5IHdoeSB0aGUgY2FsbCBoYXMgZW5kZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsRW5kZWQgY2FsbF9lbmRlZCA9IDIzO1xuICAgICAgICAgKi9cbiAgICAgICAgY2FsbEVuZGVkOiBDYWxsRW5kZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3BhcnRpY2lwYW50VXBkYXRlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJ0aWNpcGFudFVwZGF0ZWQgaXMgc2VudCB3aGVuIHVzZXIgZGF0YSBpcyB1cGRhdGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudFVwZGF0ZWQgcGFydGljaXBhbnRfdXBkYXRlZCA9IDI0O1xuICAgICAgICAgKi9cbiAgICAgICAgcGFydGljaXBhbnRVcGRhdGVkOiBQYXJ0aWNpcGFudFVwZGF0ZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3BhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSBpcyBzZW50IHdoZW4gdGhlIHBhcnRpY2lwYW50IG1pZ3JhdGlvbiBpcyBjb21wbGV0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSBwYXJ0aWNpcGFudF9taWdyYXRpb25fY29tcGxldGUgPSAyNTtcbiAgICAgICAgICovXG4gICAgICAgIHBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGU6IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGU7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2NoYW5nZVB1Ymxpc2hPcHRpb25zJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZVB1Ymxpc2hPcHRpb25zIGlzIHNlbnQgdG8gc2lnbmFsIHRoZSBjaGFuZ2UgaW4gcHVibGlzaCBvcHRpb25zIHN1Y2ggYXMgYSBuZXcgY29kZWMgb3Igc2ltdWxjYXN0IGxheWVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnMgY2hhbmdlX3B1Ymxpc2hfb3B0aW9ucyA9IDI3O1xuICAgICAgICAgKi9cbiAgICAgICAgY2hhbmdlUHVibGlzaE9wdGlvbnM6IENoYW5nZVB1Ymxpc2hPcHRpb25zO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICAgIH07XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFuZ2VQdWJsaXNoT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlB1Ymxpc2hPcHRpb24gcHVibGlzaF9vcHRpb25zID0gMTtcbiAgICovXG4gIHB1Ymxpc2hPcHRpb25zOiBQdWJsaXNoT3B0aW9uW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyByZWFzb24gPSAyO1xuICAgKi9cbiAgcmVhc29uOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnNDb21wbGV0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGUge31cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSB7fVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBpbnNDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGluc0NoYW5nZWQge1xuICAvKipcbiAgICogdGhlIGxpc3Qgb2YgcGlucyBpbiB0aGUgY2FsbC5cbiAgICogUGlucyBhcmUgb3JkZXJlZCBpbiBkZXNjZW5kaW5nIG9yZGVyIChtb3N0IGltcG9ydGFudCBmaXJzdCkuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluIHBpbnMgPSAxO1xuICAgKi9cbiAgcGluczogUGluW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRXJyb3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFcnJvciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3IkO1xuICAvKipcbiAgICogcmV0dXJucyB0aGUgcmVjb25uZWN0IHN0cmF0ZWd5IHRvIGJlIHVzZWQgYnkgdGhlIGNsaWVudFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IHJlY29ubmVjdF9zdHJhdGVneSA9IDU7XG4gICAqL1xuICByZWNvbm5lY3RTdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3k7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFVHJpY2tsZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVRyaWNrbGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAxO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgaWNlX2NhbmRpZGF0ZSA9IDI7XG4gICAqL1xuICBpY2VDYW5kaWRhdGU6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VSZXN0YXJ0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFUmVzdGFydCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG59XG4vKipcbiAqIFNmdVJlcXVlc3QgaXMgYSBtZXNzYWdlIHRoYXQgaXMgc2VudCBmcm9tIHRoZSBjbGllbnQgdG8gdGhlIFNGVS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdVJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZnVSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjogcmVxdWVzdF9wYXlsb2FkXG4gICAqL1xuICByZXF1ZXN0UGF5bG9hZDpcbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnam9pblJlcXVlc3QnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0IGpvaW5fcmVxdWVzdCA9IDE7XG4gICAgICAgICAqL1xuICAgICAgICBqb2luUmVxdWVzdDogSm9pblJlcXVlc3Q7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2hlYWx0aENoZWNrUmVxdWVzdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXF1ZXN0IGhlYWx0aF9jaGVja19yZXF1ZXN0ID0gMjtcbiAgICAgICAgICovXG4gICAgICAgIGhlYWx0aENoZWNrUmVxdWVzdDogSGVhbHRoQ2hlY2tSZXF1ZXN0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdsZWF2ZUNhbGxSZXF1ZXN0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5MZWF2ZUNhbGxSZXF1ZXN0IGxlYXZlX2NhbGxfcmVxdWVzdCA9IDM7XG4gICAgICAgICAqL1xuICAgICAgICBsZWF2ZUNhbGxSZXF1ZXN0OiBMZWF2ZUNhbGxSZXF1ZXN0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICAgIH07XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTGVhdmVDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIExlYXZlQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHJlYXNvbiA9IDI7XG4gICAqL1xuICByZWFzb246IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIZWFsdGhDaGVja1JlcXVlc3Qge31cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnQgcGFydGljaXBhbnRfY291bnQgPSAxO1xuICAgKi9cbiAgcGFydGljaXBhbnRDb3VudD86IFBhcnRpY2lwYW50Q291bnQ7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja1B1Ymxpc2hlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHR5cGUgPSAzO1xuICAgKi9cbiAgdHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogUGFydGljaXBhbnQgaW5mb3JtYXRpb24gaGVyZSBpcyBpbmNsdWRlZCBhcyBhbiBvcHRpbWlzYXRpb25cbiAgICogZm9yIGxhcmdlIGNhbGxzIHdoZXJlIGJyb2FkY2FzdGluZyBvbiBldmVyeSBwYXJ0aWNpcGFudCBqb2luXG4gICAqIGlzIGV4cGVuc2l2ZS4gWW91IHNob3VsZCAqKk5PVCoqIGFzc3VtZSB0aGF0IHRoaXMgd2lsbCBhbHdheXNcbiAgICogYmUgYXZhaWxhYmxlIHRob3VnaCB5b3UgY2FuIHVzZSBpdCB0byB1cGRhdGUgdGhlIHBhcnRpY2lwYW50XG4gICAqIGxpc3Qgd2hlbiBpdCBpcyB0aGVyZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDQ7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrVW5wdWJsaXNoZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja1VucHVibGlzaGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHlwZSA9IDM7XG4gICAqL1xuICB0eXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVW5wdWJsaXNoUmVhc29uIGNhdXNlID0gNDtcbiAgICovXG4gIGNhdXNlOiBUcmFja1VucHVibGlzaFJlYXNvbjtcbiAgLyoqXG4gICAqIFBhcnRpY2lwYW50IGluZm9ybWF0aW9uIGhlcmUgaXMgaW5jbHVkZWQgYXMgYW4gb3B0aW1pc2F0aW9uXG4gICAqIGZvciBsYXJnZSBjYWxscyB3aGVyZSBicm9hZGNhc3Rpbmcgb24gZXZlcnkgcGFydGljaXBhbnQgam9pblxuICAgKiBpcyBleHBlbnNpdmUuIFlvdSBzaG91bGQgKipOT1QqKiBhc3N1bWUgdGhhdCB0aGlzIHdpbGwgYWx3YXlzXG4gICAqIGJlIGF2YWlsYWJsZSB0aG91Z2ggeW91IGNhbiB1c2UgaXQgdG8gdXBkYXRlIHRoZSBwYXJ0aWNpcGFudFxuICAgKiBsaXN0IHdoZW4gaXQgaXMgdGhlcmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnQgPSA1O1xuICAgKi9cbiAgcGFydGljaXBhbnQ/OiBQYXJ0aWNpcGFudDtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRva2VuID0gMTtcbiAgICovXG4gIHRva2VuOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogZHVtYiBTRFAgdGhhdCBhbGxvdyB1cyB0byBleHRyYWN0IHN1YnNjcmliZXIncyBkZWNvZGUgY29kZWNzXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHN1YnNjcmliZXJfc2RwID0gMztcbiAgICovXG4gIHN1YnNjcmliZXJTZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHB1Ymxpc2hlcl9zZHAgPSA4O1xuICAgKi9cbiAgcHVibGlzaGVyU2RwOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudERldGFpbHMgY2xpZW50X2RldGFpbHMgPSA0O1xuICAgKi9cbiAgY2xpZW50RGV0YWlscz86IENsaWVudERldGFpbHM7XG4gIC8qKlxuICAgKiBEZXByZWNhdGVkOiB1c2UgUmVjb25uZWN0RGV0YWlscyBpbnN0ZWFkXG4gICAqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5NaWdyYXRpb24gbWlncmF0aW9uID0gNSBbZGVwcmVjYXRlZCA9IHRydWVdO1xuICAgKi9cbiAgbWlncmF0aW9uPzogTWlncmF0aW9uO1xuICAvKipcbiAgICogRmFzdCByZWNvbm5lY3QgZmxhZyBleHBsaWNpdGx5IGluZGljYXRlcyB0aGF0IGlmIHRoZSBwYXJ0aWNpcGFudCBzZXNzaW9uXG4gICAqIGFuZCB0aGUgYXNzb2NpYXRlZCBzdGF0ZSBpcyBzdGlsbCBwcmVzZW50IGluIHRoZSBTRlUsIHRoZSBjbGllbnQgaXMgcmVhZHlcbiAgICogdG8gcmVzdG9yZSB0aGUgUGVlckNvbm5lY3Rpb24gd2l0aCBhbiBJQ0UgcmVzdGFydC4gSWYgdGhlIFNGVSByZXBsaWVzIHdpdGhcbiAgICogXCJyZWNvbm5lY3RlZDogdHJ1ZVwiIGluIGl0cyBKb2luUmVzcG9uc2UsIHRoZW4gaXQgaXMgc2FmZSB0byBwZXJmb3JtIGFuIElDRVxuICAgKiByZXN0YXJ0IG9yIGVsc2UgdGhlIGV4aXN0aW5nIFBlZXJDb25uZWN0aW9ucyBtdXN0IGJlIGNsZWFuZWQgdXAuXG4gICAqXG4gICAqIEZvciB0aGUgU0ZVLCBmYXN0X3JlY29ubmVjdDpmYWxzZSBpbmRpY2F0ZXMgdGhhdCBldmVuIGlmIGl0IGhhcyB0aGUgc3RhdGVcbiAgICogY2FjaGVkLCB0aGUgY2xpZW50IHN0YXRlIGlzIG5vdCBpbiBzeW5jIGFuZCBoZW5jZSBpdCBtdXN0IGJlIGNsZWFuZWQgdXAgYmVmb3JlXG4gICAqIHByb2NlZWRpbmcgZnVydGhlci5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGZhc3RfcmVjb25uZWN0ID0gNiBbZGVwcmVjYXRlZCA9IHRydWVdO1xuICAgKi9cbiAgZmFzdFJlY29ubmVjdDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5SZWNvbm5lY3REZXRhaWxzIHJlY29ubmVjdF9kZXRhaWxzID0gNztcbiAgICovXG4gIHJlY29ubmVjdERldGFpbHM/OiBSZWNvbm5lY3REZXRhaWxzO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uIHByZWZlcnJlZF9wdWJsaXNoX29wdGlvbnMgPSA5O1xuICAgKi9cbiAgcHJlZmVycmVkUHVibGlzaE9wdGlvbnM6IFB1Ymxpc2hPcHRpb25bXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3Vic2NyaWJlT3B0aW9uIHByZWZlcnJlZF9zdWJzY3JpYmVfb3B0aW9ucyA9IDEwO1xuICAgKi9cbiAgcHJlZmVycmVkU3Vic2NyaWJlT3B0aW9uczogU3Vic2NyaWJlT3B0aW9uW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUmVjb25uZWN0RGV0YWlsc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29ubmVjdERldGFpbHMge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSBzdHJhdGVneSA9IDE7XG4gICAqL1xuICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3k7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyBhbm5vdW5jZWRfdHJhY2tzID0gMztcbiAgICovXG4gIGFubm91bmNlZFRyYWNrczogVHJhY2tJbmZvW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyBzdWJzY3JpcHRpb25zID0gNDtcbiAgICovXG4gIHN1YnNjcmlwdGlvbnM6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgcmVjb25uZWN0X2F0dGVtcHQgPSA1O1xuICAgKi9cbiAgcmVjb25uZWN0QXR0ZW1wdDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZnJvbV9zZnVfaWQgPSA2O1xuICAgKi9cbiAgZnJvbVNmdUlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBvbmx5IHNldCBpbiBjYXNlIG9mIHJlam9pblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBwcmV2aW91c19zZXNzaW9uX2lkID0gNztcbiAgICovXG4gIHByZXZpb3VzU2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWlncmF0aW9uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGZyb21fc2Z1X2lkID0gMTtcbiAgICovXG4gIGZyb21TZnVJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm8gYW5ub3VuY2VkX3RyYWNrcyA9IDI7XG4gICAqL1xuICBhbm5vdW5jZWRUcmFja3M6IFRyYWNrSW5mb1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgc3Vic2NyaXB0aW9ucyA9IDM7XG4gICAqL1xuICBzdWJzY3JpcHRpb25zOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGUgY2FsbF9zdGF0ZSA9IDE7XG4gICAqL1xuICBjYWxsU3RhdGU/OiBDYWxsU3RhdGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgcmVjb25uZWN0ZWQgPSAyO1xuICAgKi9cbiAgcmVjb25uZWN0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIGZhc3RfcmVjb25uZWN0X2RlYWRsaW5lX3NlY29uZHMgPSAzO1xuICAgKi9cbiAgZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uIHB1Ymxpc2hfb3B0aW9ucyA9IDQ7XG4gICAqL1xuICBwdWJsaXNoT3B0aW9uczogUHVibGlzaE9wdGlvbltdO1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudEpvaW5lZCBpcyBmaXJlZCB3aGVuIGEgdXNlciBqb2lucyBhIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRKb2luZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudEpvaW5lZCBpcyBmaXJlZCB3aGVuIGEgdXNlciBsZWF2ZXMgYSBjYWxsXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudExlZnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudFVwZGF0ZWQgaXMgZmlyZWQgd2hlbiB1c2VyIGRhdGEgaXMgdXBkYXRlZFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRVcGRhdGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGNhbGxfY2lkID0gMTtcbiAgICovXG4gIGNhbGxDaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnQgPSAyO1xuICAgKi9cbiAgcGFydGljaXBhbnQ/OiBQYXJ0aWNpcGFudDtcbn1cbi8qKlxuICogU3Vic2NyaWJlck9mZmVyIGlzIHNlbnQgd2hlbiB0aGUgU0ZVIGFkZHMgdHJhY2tzIHRvIGEgc3Vic2NyaXB0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmVyT2ZmZXIge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGljZV9yZXN0YXJ0ID0gMTtcbiAgICovXG4gIGljZVJlc3RhcnQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZHAgPSAyO1xuICAgKi9cbiAgc2RwOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHVibGlzaGVyQW5zd2VyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbn1cbi8qKlxuICogQ29ubmVjdGlvblF1YWxpdHkgaXMgc2VudCB0byBpbmZvcm0gYWJvdXQgY29ubmVjdGlvbiBxdWFsaXR5IGNoYW5nZXNcbiAqIGVnLiB0aGllcnJ5J3MgY29ubmVjdGlvbiBpcyBub3QgZ29vZCAtPiByZW5kZXIgYSByZWQgaWNvbiBab29tIHN0eWxlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mbyBjb25uZWN0aW9uX3F1YWxpdHlfdXBkYXRlcyA9IDE7XG4gICAqL1xuICBjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXM6IENvbm5lY3Rpb25RdWFsaXR5SW5mb1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mb1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25RdWFsaXR5SW5mbyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkgY29ubmVjdGlvbl9xdWFsaXR5ID0gMztcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5OiBDb25uZWN0aW9uUXVhbGl0eTtcbn1cbi8qKlxuICogRG9taW5hbnRTcGVha2VyQ2hhbmdlZCBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gbm90aWZ5IHdoZW4gdGhlcmUgaXMgYSBuZXcgZG9taW5hbnQgc3BlYWtlciBpbiB0aGUgY2FsbFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRG9taW5hbnRTcGVha2VyQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIERvbWluYW50U3BlYWtlckNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvTGV2ZWwge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiAwLjAgbWVhbnMgY29tcGxldGUgc2lsZW5jZSwgMS4wIGxvdWRlc3RcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBsZXZlbCA9IDM7XG4gICAqL1xuICBsZXZlbDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3NwZWFraW5nID0gNDtcbiAgICovXG4gIGlzU3BlYWtpbmc6IGJvb2xlYW47XG59XG4vKipcbiAqIEF1ZGlvTGV2ZWxDaGFuZ2VkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byBub3RpZnkgYWJvdXQgYXVkaW8gbGV2ZWxzIGJ5IHVzZXJcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9MZXZlbENoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWwgYXVkaW9fbGV2ZWxzID0gMTtcbiAgICovXG4gIGF1ZGlvTGV2ZWxzOiBBdWRpb0xldmVsW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb1NlbmRlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMztcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBwdWJsaXNoX29wdGlvbl9pZCA9IDQ7XG4gICAqL1xuICBwdWJsaXNoT3B0aW9uSWQ6IG51bWJlcjtcbn1cbi8qKlxuICogVmlkZW9MYXllclNldHRpbmcgaXMgdXNlZCB0byBzcGVjaWZ5IHZhcmlvdXMgcGFyYW1ldGVycyBvZiBhIHBhcnRpY3VsYXIgZW5jb2RpbmcgaW4gc2ltdWxjYXN0LlxuICogVGhlIHBhcmFtZXRlcnMgYXJlIHNwZWNpZmllZCBoZXJlIC0gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JUQ1J0cEVuY29kaW5nUGFyYW1ldGVyc1xuICogU0RLcyB1c2UgdGhlc2UgcGFyYW1ldGVycyBzZW50IGZyb20gdGhlIHNlcnZlciB0byBkeW5hbWljYWxseSBhZGp1c3QgdGhlc2UgcGFyYW1ldGVycyB0byBzYXZlIENQVSwgYmFuZHdpZHRoXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZ1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvTGF5ZXJTZXR0aW5nIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAxO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGFjdGl2ZSA9IDI7XG4gICAqL1xuICBhY3RpdmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIG1heF9iaXRyYXRlID0gMztcbiAgICovXG4gIG1heEJpdHJhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZmxvYXQgc2NhbGVfcmVzb2x1dGlvbl9kb3duX2J5ID0gNDtcbiAgICovXG4gIHNjYWxlUmVzb2x1dGlvbkRvd25CeTogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDY7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgbWF4X2ZyYW1lcmF0ZSA9IDc7XG4gICAqL1xuICBtYXhGcmFtZXJhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNjYWxhYmlsaXR5X21vZGUgPSA4O1xuICAgKi9cbiAgc2NhbGFiaWxpdHlNb2RlOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1NlbmRlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmcgbGF5ZXJzID0gMztcbiAgICovXG4gIGxheWVyczogVmlkZW9MYXllclNldHRpbmdbXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSA0O1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIHB1Ymxpc2hfb3B0aW9uX2lkID0gNTtcbiAgICovXG4gIHB1Ymxpc2hPcHRpb25JZDogbnVtYmVyO1xufVxuLyoqXG4gKiBzZW50IHRvIHVzZXJzIHdoZW4gdGhleSBuZWVkIHRvIGNoYW5nZSB0aGUgcXVhbGl0eSBvZiB0aGVpciB2aWRlb1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaFF1YWxpdHlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFuZ2VQdWJsaXNoUXVhbGl0eSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXIgYXVkaW9fc2VuZGVycyA9IDE7XG4gICAqL1xuICBhdWRpb1NlbmRlcnM6IEF1ZGlvU2VuZGVyW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXIgdmlkZW9fc2VuZGVycyA9IDI7XG4gICAqL1xuICB2aWRlb1NlbmRlcnM6IFZpZGVvU2VuZGVyW107XG59XG4vKipcbiAqIENhbGxHcmFudHMgaXMgc2VudCB0byB1c2VycyB3aGVuIHRoZXJlIGlzIGEgY2hhbmdlIGluIHRoZSBjYWxsIHBlcm1pc3Npb25zXG4gKiB0byBwdWJsaXNoIGF1ZGlvLCB2aWRlbyBvciBzaGFyZSB0aGUgc2NyZWVuIGZvciBhIHVzZXIgb3IgYSByb2xlLiBUaGlzIGlzXG4gKiBpZGVtcG90ZW50IGFuZCBjYW4gYmUgc2VudCBhdCBhbnkgdGltZS4gT25seSB0aGUgY3VycmVudF9ncmFudHMgaW4gdGhlIGxhdGVzdFxuICogbWVzc2FnZSBzaG91bGQgYmUgY29uc2lkZXJlZC4gSW4gb3RoZXIgd29yZHMsIHRoaXMgaXMgbm90IGRlcGVuZGVudCBvbiBhbnlcbiAqIG90aGVyIG1lc3NhZ2UgKGluY2x1ZGluZyBwcmV2aW91cyBjYWxsX2dyYW50c191cGRhdGVkIG1lc3NhZ2UpXG4gKlxuICogV2hlbiB0aGlzIG1lc3NhZ2UgaXMgcmVjZWl2ZWQsIHRoZSBjbGllbnQgKHNheSwgUmVhY3QgY29tcG9uZW50KSBzaG91bGQgbXV0ZVxuICogdGhlIHRyYWNrcyB3aGljaCBhcmUgbm90IGFsbG93ZWQgYW55bW9yZS4gRm9yIGV4YW1wbGUsIGlmIHRoZSBtZXNzYWdlIGhhc1xuICogZ3JhbnRzIHthdWRpbzp0cnVlLCB2aWRlbzpmYWxzZX0gd2hpbGUgdGhlIHVzZXIgaXMgcHVibGlzaGluZyB2aWRlbywgdGhlbiB0aGVcbiAqIGNsaWVudCBjb21wb25lbnQgc2hvdWxkIG11dGUgdGhlIHZpZGVvIHRyYWNrIGFuZCBncmF5IG91dCB0aGUgdmlkZW8gYnV0dG9uLlxuICogVGhpcyB3YXksIHRoZSB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gcHVibGlzaCB2aWRlbyB1bnRpbCB0aGUgcGVybWlzc2lvbnNcbiAqIGFyZSBncmFudGVkIGFnYWluLiBBbHNvLCBtdXRpbmcgdGhlIHRyYWNrIG9uIHRoZSBjbGllbnQgc2lkZSB3aWxsIHByZXZlbnRcbiAqIHRoZSBTRlUgZnJvbSByZWNlaXZpbmcgdGhlIHZpZGVvIHRyYWNrIGFuZCB3aWxsIHNhdmUgYmFuZHdpZHRoLlxuICpcbiAqIEluIHNpbXBsZSB3b3JkcywgdGhpcyBpcyBleGFjdGx5IHRoZSBzYW1lIGFzIG11dGluZyBhIHRyYWNrIG9uIHRoZSBjbGllbnQuXG4gKiBIZXJlLCBpbnN0ZWFkIG9mIHRoZSB1c2VyIGluc3RydWN0aW5nIHRoZSBjbGllbnQsIFNGVSB3b3VsZCBiZSBkb2luZyBpdC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEdyYW50c1VwZGF0ZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsR3JhbnRzIGN1cnJlbnRfZ3JhbnRzID0gMTtcbiAgICovXG4gIGN1cnJlbnRHcmFudHM/OiBDYWxsR3JhbnRzO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDI7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG4vKipcbiAqIEdvIGF3YXkgaXMgc2VudCBieSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQgdG8gc2lnbmFsIHRvIG1pZ3JhdGUgYXdheSBmcm9tIHRoZSBTRlUuXG4gKiBUaGUgZXZpY3QgcmVhc29uIG1heSBzcGVjaWZ5IHdoeSB0aGUgdXNlciBpcyBiZWluZyBldmljdGVkLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR29Bd2F5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuR29Bd2F5UmVhc29uIHJlYXNvbiA9IDE7XG4gICAqL1xuICByZWFzb246IEdvQXdheVJlYXNvbjtcbn1cbi8qKlxuICogQ2FsbEVuZGVkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byB0aGUgY2xpZW50IHRvIHNpZ25hbCB0aGF0IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAqIFRoZSByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxFbmRlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxFbmRlZFJlYXNvbiByZWFzb24gPSAxO1xuICAgKi9cbiAgcmVhc29uOiBDYWxsRW5kZWRSZWFzb247XG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZnVFdmVudCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2Z1RXZlbnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1RXZlbnQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnc3Vic2NyaWJlcl9vZmZlcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBTdWJzY3JpYmVyT2ZmZXIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hlcl9hbnN3ZXInLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUHVibGlzaGVyQW5zd2VyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHlfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ2F1ZGlvX2xldmVsX2NoYW5nZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQXVkaW9MZXZlbENoYW5nZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ2ljZV90cmlja2xlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IElDRVRyaWNrbGUkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdjaGFuZ2VfcHVibGlzaF9xdWFsaXR5JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENoYW5nZVB1Ymxpc2hRdWFsaXR5LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEwLFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfam9pbmVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50Sm9pbmVkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDExLFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfbGVmdCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBQYXJ0aWNpcGFudExlZnQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTIsXG4gICAgICAgIG5hbWU6ICdkb21pbmFudF9zcGVha2VyX2NoYW5nZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gRG9taW5hbnRTcGVha2VyQ2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMyxcbiAgICAgICAgbmFtZTogJ2pvaW5fcmVzcG9uc2UnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSm9pblJlc3BvbnNlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDE0LFxuICAgICAgICBuYW1lOiAnaGVhbHRoX2NoZWNrX3Jlc3BvbnNlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IEhlYWx0aENoZWNrUmVzcG9uc2UsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTYsXG4gICAgICAgIG5hbWU6ICd0cmFja19wdWJsaXNoZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tQdWJsaXNoZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTcsXG4gICAgICAgIG5hbWU6ICd0cmFja191bnB1Ymxpc2hlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1VucHVibGlzaGVkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDE4LFxuICAgICAgICBuYW1lOiAnZXJyb3InLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gRXJyb3IsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTksXG4gICAgICAgIG5hbWU6ICdjYWxsX2dyYW50c191cGRhdGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENhbGxHcmFudHNVcGRhdGVkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIwLFxuICAgICAgICBuYW1lOiAnZ29fYXdheScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBHb0F3YXksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjEsXG4gICAgICAgIG5hbWU6ICdpY2VfcmVzdGFydCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBJQ0VSZXN0YXJ0LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIyLFxuICAgICAgICBuYW1lOiAncGluc191cGRhdGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBpbnNDaGFuZ2VkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIzLFxuICAgICAgICBuYW1lOiAnY2FsbF9lbmRlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBDYWxsRW5kZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjQsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF91cGRhdGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50VXBkYXRlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyNSxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X21pZ3JhdGlvbl9jb21wbGV0ZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDI3LFxuICAgICAgICBuYW1lOiAnY2hhbmdlX3B1Ymxpc2hfb3B0aW9ucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBDaGFuZ2VQdWJsaXNoT3B0aW9ucyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdUV2ZW50XG4gKi9cbmV4cG9ydCBjb25zdCBTZnVFdmVudCA9IG5ldyBTZnVFdmVudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDaGFuZ2VQdWJsaXNoT3B0aW9ucyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2hhbmdlUHVibGlzaE9wdGlvbnM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoT3B0aW9uLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdyZWFzb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5nZVB1Ymxpc2hPcHRpb25zID0gbmV3IENoYW5nZVB1Ymxpc2hPcHRpb25zJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnNDb21wbGV0ZScsIFtdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnNDb21wbGV0ZVxuICovXG5leHBvcnQgY29uc3QgQ2hhbmdlUHVibGlzaE9wdGlvbnNDb21wbGV0ZSA9XG4gIG5ldyBDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZScsIFtdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZVxuICovXG5leHBvcnQgY29uc3QgUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSA9XG4gIG5ldyBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBpbnNDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQaW5zQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwaW5zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQaW4sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgUGluc0NoYW5nZWQgPSBuZXcgUGluc0NoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRXJyb3IkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEVycm9yPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciQgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdyZWNvbm5lY3Rfc3RyYXRlZ3knLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3knLFxuICAgICAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICAgICAgICAgICdXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvclxuICovXG5leHBvcnQgY29uc3QgRXJyb3IgPSBuZXcgRXJyb3IkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFVHJpY2tsZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFVHJpY2tsZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VUcmlja2xlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpY2VfY2FuZGlkYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFVHJpY2tsZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZSA9IG5ldyBJQ0VUcmlja2xlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElDRVJlc3RhcnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVJlc3RhcnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnRcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVJlc3RhcnQgPSBuZXcgSUNFUmVzdGFydCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZnVSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZnVSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdVJlcXVlc3QnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnam9pbl9yZXF1ZXN0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ3JlcXVlc3RQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSm9pblJlcXVlc3QsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2hlYWx0aF9jaGVja19yZXF1ZXN0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ3JlcXVlc3RQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSGVhbHRoQ2hlY2tSZXF1ZXN0LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdsZWF2ZV9jYWxsX3JlcXVlc3QnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAncmVxdWVzdFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBMZWF2ZUNhbGxSZXF1ZXN0LFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1UmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU2Z1UmVxdWVzdCA9IG5ldyBTZnVSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIExlYXZlQ2FsbFJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPExlYXZlQ2FsbFJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuTGVhdmVDYWxsUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncmVhc29uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkxlYXZlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IExlYXZlQ2FsbFJlcXVlc3QgPSBuZXcgTGVhdmVDYWxsUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBIZWFsdGhDaGVja1JlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEhlYWx0aENoZWNrUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3QnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSGVhbHRoQ2hlY2tSZXF1ZXN0ID0gbmV3IEhlYWx0aENoZWNrUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBIZWFsdGhDaGVja1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxIZWFsdGhDaGVja1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2UnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfY291bnQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50Q291bnQsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBIZWFsdGhDaGVja1Jlc3BvbnNlID0gbmV3IEhlYWx0aENoZWNrUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tQdWJsaXNoZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrUHVibGlzaGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrUHVibGlzaGVkID0gbmV3IFRyYWNrUHVibGlzaGVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRyYWNrVW5wdWJsaXNoZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrVW5wdWJsaXNoZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tVbnB1Ymxpc2hlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnY2F1c2UnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tVbnB1Ymxpc2hSZWFzb24nLFxuICAgICAgICAgIFRyYWNrVW5wdWJsaXNoUmVhc29uLFxuICAgICAgICAgICdUUkFDS19VTlBVQkxJU0hfUkVBU09OXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja1VucHVibGlzaGVkID0gbmV3IFRyYWNrVW5wdWJsaXNoZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSm9pblJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEpvaW5SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Rva2VuJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmliZXJfc2RwJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDgsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoZXJfc2RwJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdjbGllbnRfZGV0YWlscycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gQ2xpZW50RGV0YWlscyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnbWlncmF0aW9uJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBNaWdyYXRpb24gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdmYXN0X3JlY29ubmVjdCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNyxcbiAgICAgICAgbmFtZTogJ3JlY29ubmVjdF9kZXRhaWxzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBSZWNvbm5lY3REZXRhaWxzLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDksXG4gICAgICAgIG5hbWU6ICdwcmVmZXJyZWRfcHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoT3B0aW9uLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEwLFxuICAgICAgICBuYW1lOiAncHJlZmVycmVkX3N1YnNjcmliZV9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBTdWJzY3JpYmVPcHRpb24sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSm9pblJlcXVlc3QgPSBuZXcgSm9pblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUmVjb25uZWN0RGV0YWlscyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UmVjb25uZWN0RGV0YWlscz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5SZWNvbm5lY3REZXRhaWxzJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3N0cmF0ZWd5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5JyxcbiAgICAgICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbiAgICAgICAgICAnV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdhbm5vdW5jZWRfdHJhY2tzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja0luZm8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmlwdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAncmVjb25uZWN0X2F0dGVtcHQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdmcm9tX3NmdV9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA3LFxuICAgICAgICBuYW1lOiAncHJldmlvdXNfc2Vzc2lvbl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlJlY29ubmVjdERldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IFJlY29ubmVjdERldGFpbHMgPSBuZXcgUmVjb25uZWN0RGV0YWlscyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBNaWdyYXRpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPE1pZ3JhdGlvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5NaWdyYXRpb24nLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnZnJvbV9zZnVfaWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2Fubm91bmNlZF90cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnc3Vic2NyaXB0aW9ucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBNaWdyYXRpb24gPSBuZXcgTWlncmF0aW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEpvaW5SZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Sm9pblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX3N0YXRlJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDYWxsU3RhdGUgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdyZWNvbm5lY3RlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdmYXN0X3JlY29ubmVjdF9kZWFkbGluZV9zZWNvbmRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hfb3B0aW9ucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUHVibGlzaE9wdGlvbixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSm9pblJlc3BvbnNlID0gbmV3IEpvaW5SZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudEpvaW5lZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRKb2luZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnY2FsbF9jaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50Sm9pbmVkID0gbmV3IFBhcnRpY2lwYW50Sm9pbmVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50TGVmdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRMZWZ0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX2NpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50TGVmdCA9IG5ldyBQYXJ0aWNpcGFudExlZnQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnRVcGRhdGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudFVwZGF0ZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2NhbGxfY2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncGFydGljaXBhbnQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFBhcnRpY2lwYW50IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZFxuICovXG5leHBvcnQgY29uc3QgUGFydGljaXBhbnRVcGRhdGVkID0gbmV3IFBhcnRpY2lwYW50VXBkYXRlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdWJzY3JpYmVyT2ZmZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN1YnNjcmliZXJPZmZlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnaWNlX3Jlc3RhcnQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlclxuICovXG5leHBvcnQgY29uc3QgU3Vic2NyaWJlck9mZmVyID0gbmV3IFN1YnNjcmliZXJPZmZlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQdWJsaXNoZXJBbnN3ZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFB1Ymxpc2hlckFuc3dlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlB1Ymxpc2hlckFuc3dlclxuICovXG5leHBvcnQgY29uc3QgUHVibGlzaGVyQW5zd2VyID0gbmV3IFB1Ymxpc2hlckFuc3dlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnY29ubmVjdGlvbl9xdWFsaXR5X3VwZGF0ZXMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IENvbm5lY3Rpb25RdWFsaXR5SW5mbyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkID0gbmV3IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDb25uZWN0aW9uUXVhbGl0eUluZm8kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENvbm5lY3Rpb25RdWFsaXR5SW5mbz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUluZm8nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHknLFxuICAgICAgICAgIENvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgICdDT05ORUNUSU9OX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mb1xuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvblF1YWxpdHlJbmZvID0gbmV3IENvbm5lY3Rpb25RdWFsaXR5SW5mbyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxEb21pbmFudFNwZWFrZXJDaGFuZ2VkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRG9taW5hbnRTcGVha2VyQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCA9IG5ldyBEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTGV2ZWwkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvTGV2ZWw+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2xldmVsJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdpc19zcGVha2luZycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9MZXZlbCA9IG5ldyBBdWRpb0xldmVsJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTGV2ZWxDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb0xldmVsQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsQ2hhbmdlZCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdhdWRpb19sZXZlbHMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IEF1ZGlvTGV2ZWwsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9MZXZlbENoYW5nZWQgPSBuZXcgQXVkaW9MZXZlbENoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQXVkaW9TZW5kZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvU2VuZGVyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvU2VuZGVyJywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAncHVibGlzaF9vcHRpb25faWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvU2VuZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NlbmRlciA9IG5ldyBBdWRpb1NlbmRlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWaWRlb0xheWVyU2V0dGluZyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9MYXllclNldHRpbmc+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmcnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2FjdGl2ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdtYXhfYml0cmF0ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnc2NhbGVfcmVzb2x1dGlvbl9kb3duX2J5JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogNiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogNyxcbiAgICAgICAgbmFtZTogJ21heF9mcmFtZXJhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDgsXG4gICAgICAgIG5hbWU6ICdzY2FsYWJpbGl0eV9tb2RlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTGF5ZXJTZXR0aW5nID0gbmV3IFZpZGVvTGF5ZXJTZXR0aW5nJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvU2VuZGVyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb1NlbmRlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlcicsIFtcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdjb2RlYycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ29kZWMgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdsYXllcnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvTGF5ZXJTZXR0aW5nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hfb3B0aW9uX2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlclxuICovXG5leHBvcnQgY29uc3QgVmlkZW9TZW5kZXIgPSBuZXcgVmlkZW9TZW5kZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2hhbmdlUHVibGlzaFF1YWxpdHkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENoYW5nZVB1Ymxpc2hRdWFsaXR5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hRdWFsaXR5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2F1ZGlvX3NlbmRlcnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IEF1ZGlvU2VuZGVyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICd2aWRlb19zZW5kZXJzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb1NlbmRlcixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hRdWFsaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBDaGFuZ2VQdWJsaXNoUXVhbGl0eSA9IG5ldyBDaGFuZ2VQdWJsaXNoUXVhbGl0eSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsR3JhbnRzVXBkYXRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbEdyYW50c1VwZGF0ZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnY3VycmVudF9ncmFudHMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENhbGxHcmFudHMgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtZXNzYWdlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsR3JhbnRzVXBkYXRlZCA9IG5ldyBDYWxsR3JhbnRzVXBkYXRlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBHb0F3YXkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEdvQXdheT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncmVhc29uJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkdvQXdheVJlYXNvbicsXG4gICAgICAgICAgR29Bd2F5UmVhc29uLFxuICAgICAgICAgICdHT19BV0FZX1JFQVNPTl8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5XG4gKi9cbmV4cG9ydCBjb25zdCBHb0F3YXkgPSBuZXcgR29Bd2F5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGxFbmRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbEVuZGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdyZWFzb24nLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uJyxcbiAgICAgICAgICBDYWxsRW5kZWRSZWFzb24sXG4gICAgICAgICAgJ0NBTExfRU5ERURfUkVBU09OXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsRW5kZWRcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxFbmRlZCA9IG5ldyBDYWxsRW5kZWQkVHlwZSgpO1xuIiwiaW1wb3J0IHR5cGUge1xuICBQYXJ0aWNpcGFudCxcbiAgVmlkZW9EaW1lbnNpb24sXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB0eXBlIHtcbiAgSm9pbkNhbGxSZXF1ZXN0LFxuICBNZW1iZXJSZXNwb25zZSxcbiAgT3duQ2FwYWJpbGl0eSxcbiAgUmVhY3Rpb25SZXNwb25zZSxcbn0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB0eXBlIHsgQ29tcGFyYXRvciB9IGZyb20gJy4vc29ydGluZyc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHsgQXhpb3NFcnJvciB9IGZyb20gJ2F4aW9zJztcblxuZXhwb3J0IHR5cGUgU3RyZWFtUmVhY3Rpb24gPSBQaWNrPFxuICBSZWFjdGlvblJlc3BvbnNlLFxuICAndHlwZScgfCAnZW1vamlfY29kZScgfCAnY3VzdG9tJ1xuPjtcblxuZXhwb3J0IGVudW0gVmlzaWJpbGl0eVN0YXRlIHtcbiAgVU5LTk9XTiA9ICdVTktOT1dOJyxcbiAgVklTSUJMRSA9ICdWSVNJQkxFJyxcbiAgSU5WSVNJQkxFID0gJ0lOVklTSUJMRScsXG59XG5cbmV4cG9ydCBlbnVtIERlYm91bmNlVHlwZSB7XG4gIElNTUVESUFURSA9IDIwLFxuICBGQVNUID0gMTAwLFxuICBNRURJVU0gPSA2MDAsXG4gIFNMT1cgPSAxMjAwLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbVZpZGVvUGFydGljaXBhbnQgZXh0ZW5kcyBQYXJ0aWNpcGFudCB7XG4gIC8qKlxuICAgKiBUaGUgcGFydGljaXBhbnQncyBhdWRpbyBzdHJlYW0sIGlmIHRoZXkgYXJlIHB1Ymxpc2hpbmcgYXVkaW8gYW5kXG4gICAqIHdlIGhhdmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIGF1ZGlvU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIHZpZGVvIHN0cmVhbSwgaWYgdGhleSBhcmUgc2hhcmluZyB0aGVpciB2aWRlbyxcbiAgICogYW5kIHdlIGFyZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgdmlkZW9TdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHBhcnRpY2lwYW50J3Mgc2NyZWVuIHNoYXJlIHN0cmVhbSwgaWYgdGhleSBhcmUgc2hhcmluZyB0aGVpciBzY3JlZW4sXG4gICAqIGFuZCB3ZSBhcmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIHNjcmVlblNoYXJlU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIHNjcmVlbiBhdWRpbyBzdHJlYW0sIGlmIHRoZXkgYXJlIHNoYXJpbmcgdGhlaXIgYXVkaW8sXG4gICAqIGFuZCB3ZSBhcmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIHNjcmVlblNoYXJlQXVkaW9TdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCB2aWRlbyBkaW1lbnNpb25zIGZvciB0aGlzIHBhcnRpY2lwYW50LlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdW5zdWJzY3JpYmUgZnJvbSB0aGlzIHBhcnRpY2lwYW50J3MgdmlkZW8uXG4gICAqL1xuICB2aWRlb0RpbWVuc2lvbj86IFZpZGVvRGltZW5zaW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIHNjcmVlbiBzaGFyZSBkaW1lbnNpb25zIGZvciB0aGlzIHBhcnRpY2lwYW50LlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdW5zdWJzY3JpYmUgZnJvbSB0aGlzIHBhcnRpY2lwYW50J3Mgc2NyZWVuIHNoYXJlLlxuICAgKi9cbiAgc2NyZWVuU2hhcmVEaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcblxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgcGFydGljaXBhbnQgaXMgdGhlIGxvY2FsIHBhcnRpY2lwYW50LlxuICAgKi9cbiAgaXNMb2NhbFBhcnRpY2lwYW50PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHBpbiBzdGF0ZSBvZiB0aGUgcGFydGljaXBhbnQuXG4gICAqL1xuICBwaW4/OiBQYXJ0aWNpcGFudFBpbjtcblxuICAvKipcbiAgICogVGhlIGxhc3QgcmVhY3Rpb24gdGhpcyB1c2VyIGhhcyBzZW50IHRvIHRoaXMgY2FsbC5cbiAgICogSW50ZWdyYXRvcnMgY2FuIGJhdGNoL2NvbGxlY3QgcGFzdCByZWFjdGlvbnMgYW5kIHNob3cgdGhlbSB0byB0aGUgVUkuXG4gICAqL1xuICByZWFjdGlvbj86IFN0cmVhbVJlYWN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdmlzaWJpbGl0eSBzdGF0ZSBvZiB0aGUgcGFydGljaXBhbnQncyB0cmFja3Mgd2l0aGluIGEgZGVmaW5lZCB2aWV3cG9ydC5cbiAgICovXG4gIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPzogUmVjb3JkPFZpZGVvVHJhY2tUeXBlLCBWaXNpYmlsaXR5U3RhdGU+O1xuXG4gIC8qKlxuICAgKiBUaGUgdm9sdW1lIG9mIHRoZSBwYXJ0aWNpcGFudCdzIGF1ZGlvIHN0cmVhbSAoZnJvbSAwIHRvIDEpLlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdXNlIHRoZSBkZWZhdWx0IHZvbHVtZS5cbiAgICpcbiAgICogTm90ZTogdGhpcyB2YWx1ZSBpcyBub3QgYXBwbGljYWJsZSBpbiBSZWFjdCBOYXRpdmUuXG4gICAqL1xuICBhdWRpb1ZvbHVtZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgVmlkZW9UcmFja1R5cGUgPSAndmlkZW9UcmFjaycgfCAnc2NyZWVuU2hhcmVUcmFjayc7XG5leHBvcnQgdHlwZSBBdWRpb1RyYWNrVHlwZSA9ICdhdWRpb1RyYWNrJyB8ICdzY3JlZW5TaGFyZUF1ZGlvVHJhY2snO1xuZXhwb3J0IHR5cGUgVHJhY2tNdXRlVHlwZSA9XG4gIHwgJ2F1ZGlvJ1xuICB8ICd2aWRlbydcbiAgfCAnc2NyZWVuc2hhcmUnXG4gIHwgJ3NjcmVlbnNoYXJlX2F1ZGlvJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcGFydGljaXBhbnQncyBwaW4gc3RhdGUuXG4gKi9cbmV4cG9ydCB0eXBlIFBhcnRpY2lwYW50UGluID0ge1xuICAvKipcbiAgICogU2V0IHRvIHRydWUgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZCBieSB0aGUgbG9jYWwgdXNlci5cbiAgICogRmFsc2UgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZCBzZXJ2ZXItc2lkZSwgYnkgdGhlIGNhbGwgbW9kZXJhdG9yLlxuICAgKi9cbiAgaXNMb2NhbFBpbjogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGltZXN0YW1wIHdoZW4gdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZC5cbiAgICovXG4gIHBpbm5lZEF0OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBDbG9zZWRDYXB0aW9uc1NldHRpbmdzID0ge1xuICAvKipcbiAgICogVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGtlZXAgYSBjbG9zZWQgY2FwdGlvbiBpbiB0aGUgc3RhdGUgKHZpc2libGUpLlxuICAgKiBEZWZhdWx0IGlzIDI3MDAgbXMuXG4gICAqL1xuICB2aXNpYmlsaXR5RHVyYXRpb25Ncz86IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjbG9zZWQgY2FwdGlvbnMgdG8ga2VlcCBpbiB0aGUgc3RhdGUgKHZpc2libGUpLlxuICAgKiBXaGVuIHRoZSBtYXhpbXVtIG51bWJlciBpcyByZWFjaGVkLCB0aGUgb2xkZXN0IGNsb3NlZCBjYXB0aW9uIGlzIHJlbW92ZWQuXG4gICAqXG4gICAqIERlZmF1bHQgaXMgMi5cbiAgICovXG4gIG1heFZpc2libGVDYXB0aW9ucz86IG51bWJlcjtcbn07XG5cbi8qKlxuICogQSBwYXJ0aWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2ggPSBQYXJ0aWFsPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+O1xuXG4vKipcbiAqIEEgY29sbGVjdGlvbiBvZiB7QGxpbmsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNofSBvcmdhbml6ZWQgYnkgc2Vzc2lvbklkLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcyA9IHtcbiAgW3Nlc3Npb25JZDogc3RyaW5nXTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoO1xufTtcblxuZXhwb3J0IHR5cGUgU3Vic2NyaXB0aW9uQ2hhbmdlID0ge1xuICAvKipcbiAgICogVGhlIHZpZGVvIGRpbWVuc2lvbiB0byByZXF1ZXN0LlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgaW4gY2FzZSB5b3Ugd2FudCB0byB1bnN1YnNjcmliZS5cbiAgICovXG4gIGRpbWVuc2lvbjogVmlkZW9EaW1lbnNpb24gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBTdWJzY3JpcHRpb25DaGFuZ2VzID0ge1xuICBbc2Vzc2lvbklkOiBzdHJpbmddOiBTdWJzY3JpcHRpb25DaGFuZ2U7XG59O1xuXG4vKipcbiAqIEEgcHJlZmVycmVkIGNvZGVjIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgYSB2aWRlbyBvciBhdWRpbyB0cmFjay5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdHlwZSBQcmVmZXJyZWRDb2RlYyA9ICd2cDgnIHwgJ2gyNjQnIHwgJ3ZwOScgfCAnYXYxJztcblxuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2YgdHJhY2sgcHVibGljYXRpb24gb3B0aW9ucy5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdHlwZSBDbGllbnRQdWJsaXNoT3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgY29kZWMgdG8gdXNlIHdoZW4gcHVibGlzaGluZyB0aGUgdmlkZW8gc3RyZWFtLlxuICAgKi9cbiAgcHJlZmVycmVkQ29kZWM/OiBQcmVmZXJyZWRDb2RlYztcbiAgLyoqXG4gICAqIFRoZSBmbXRwIGxpbmUgZm9yIHRoZSB2aWRlbyBjb2RlYy5cbiAgICovXG4gIGZtdHBMaW5lPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCBiaXRyYXRlIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgdGhlIHZpZGVvIHN0cmVhbS5cbiAgICovXG4gIHByZWZlcnJlZEJpdHJhdGU/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc2ltdWxjYXN0IGxheWVycyB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIHRoZSB2aWRlbyBzdHJlYW0uXG4gICAqL1xuICBtYXhTaW11bGNhc3RMYXllcnM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIHN1YnNjcmlwdGlvbiAoaW5jb21pbmcgdmlkZW8gc3RyZWFtKSBjb2RlYy5cbiAgICovXG4gIHN1YnNjcmliZXJDb2RlYz86IFByZWZlcnJlZENvZGVjO1xuICAvKipcbiAgICogVGhlIGZtdHAgbGluZSBmb3IgdGhlIHN1YnNjcmliZXIgY29kZWMuXG4gICAqL1xuICBzdWJzY3JpYmVyRm10cExpbmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqL1xuICBzY3JlZW5TaGFyZVNldHRpbmdzPzogU2NyZWVuU2hhcmVTZXR0aW5ncztcbn07XG5cbmV4cG9ydCB0eXBlIFNjcmVlblNoYXJlU2V0dGluZ3MgPSB7XG4gIC8qKlxuICAgKiBMaW1pdHMgdGhlIG1heGltdW0gZnJhbWVyYXRlIChpbiBmcmFtZXMgcGVyIHNlY29uZCkgb2YgdGhlIHNjcmVlbiBzaGFyZS5cbiAgICogRGVmYXVsdHMgdG8gMzAuXG4gICAqL1xuICBtYXhGcmFtZXJhdGU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIExpbWl0cyB0aGUgbWF4aW11bSBiaXRyYXRlIChpbiBiaXRzIHBlciBzZWNvbmQpIG9mIHRoZSBzY3JlZW4gc2hhcmUuXG4gICAqIERlZmF1bHRzIHRvIDMwMDAwMDAgKDNNYnBzKS5cbiAgICovXG4gIG1heEJpdHJhdGU/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBDYWxsTGVhdmVPcHRpb25zID0ge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGNhbGxlciB3aWxsIGdldCBhIGBjYWxsLnJlamVjdGVkYCBldmVudC5cbiAgICogSGFzIGFuIGVmZmVjdCBvbmx5IGlmIHRoZSBjYWxsIGlzIGluIHRoZSBgcmluZ2luZ2Agc3RhdGUuXG4gICAqL1xuICByZWplY3Q/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVhc29uIGZvciBsZWF2aW5nIHRoZSBjYWxsLlxuICAgKiBUaGlzIHdpbGwgYmUgc2VudCB0byB0aGUgYmFja2VuZCBhbmQgd2lsbCBiZSB2aXNpYmxlIGluIHRoZSBsb2dzLlxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBUaGUgb3B0aW9ucyB0byBwYXNzIHRvIHtAbGluayBDYWxsfSBjb25zdHJ1Y3Rvci5cbiAqL1xuZXhwb3J0IHR5cGUgQ2FsbENvbnN0cnVjdG9yID0ge1xuICAvKipcbiAgICogVGhlIHN0cmVhbUNsaWVudCBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcblxuICAvKipcbiAgICogVGhlIENhbGwgdHlwZS5cbiAgICovXG4gIHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIENhbGwgSUQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBsaXN0IG9mIHtAbGluayBNZW1iZXJSZXNwb25zZX0gZnJvbSB0aGUgYmFja2VuZC5cbiAgICogSWYgcHJvdmlkZWQsIHRoZSBjYWxsIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZGF0YSBmcm9tIHRoaXMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGluaXRpYWxpemluZyBhIG5ldyBcInBlbmRpbmcgY2FsbFwiIGZyb20gYW4gZXZlbnQuXG4gICAqL1xuICBtZW1iZXJzPzogTWVtYmVyUmVzcG9uc2VbXTtcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbGlzdCBvZiB7QGxpbmsgT3duQ2FwYWJpbGl0eX0gY29taW5nIGZyb20gdGhlIGJhY2tlZC5cbiAgICogSWYgcHJvdmlkZWQsIHRoZSBjYWxsIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZGF0YSBmcm9tIHRoaXMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGluaXRpYWxpemluZyBhIG5ldyBcInBlbmRpbmcgY2FsbFwiIGZyb20gYW4gZXZlbnQuXG4gICAqL1xuICBvd25DYXBhYmlsaXRpZXM/OiBPd25DYXBhYmlsaXR5W107XG5cbiAgLyoqXG4gICAqIEZsYWdzIHRoZSBjYWxsIGFzIGEgcmluZ2luZyBjYWxsLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmluZ2luZz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHRoaXMgY2FsbCBpbnN0YW5jZSBzaG91bGQgcmVjZWl2ZSB1cGRhdGVzIGZyb20gdGhlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlLlxuICAgKi9cbiAgd2F0Y2hpbmc/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb21wYXJhdG9yIHRvIHVzZSB3aGVuIHNvcnRpbmcgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc29ydFBhcnRpY2lwYW50c0J5PzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PjtcblxuICAvKipcbiAgICogVGhlIHN0YXRlIHN0b3JlIG9mIHRoZSBjbGllbnRcbiAgICovXG4gIGNsaWVudFN0b3JlOiBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmU7XG59O1xuXG4vKipcbiAqIFRoZSBvcHRpb25zIHRvIHBhc3MgdG8ge0BsaW5rIENhbGwuam9pbn0gbWV0aG9kLlxuICovXG5leHBvcnQgdHlwZSBKb2luQ2FsbERhdGEgPSBPbWl0PEpvaW5DYWxsUmVxdWVzdCwgJ2xvY2F0aW9uJz47XG5leHBvcnQgeyBBeGlvc0Vycm9yIH07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwucHJvdG9cIiAocGFja2FnZSBcInN0cmVhbS52aWRlby5zZnUuc2lnbmFsXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHR5cGUgeyBScGNUcmFuc3BvcnQgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHR5cGUgeyBTZXJ2aWNlSW5mbyB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgeyBTaWduYWxTZXJ2ZXIgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTZW5kU3RhdHNSZXNwb25zZSB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgU2VuZFN0YXRzUmVxdWVzdCB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgSUNFUmVzdGFydFJlc3BvbnNlIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBJQ0VSZXN0YXJ0UmVxdWVzdCB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgSUNFVHJpY2tsZVJlc3BvbnNlIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgdHlwZSB7IFNlbmRBbnN3ZXJSZXNwb25zZSB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgU2VuZEFuc3dlclJlcXVlc3QgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgeyBzdGFja0ludGVyY2VwdCB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgdHlwZSB7IFNldFB1Ymxpc2hlclJlc3BvbnNlIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTZXRQdWJsaXNoZXJSZXF1ZXN0IH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBVbmFyeUNhbGwgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHR5cGUgeyBScGNPcHRpb25zIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjJztcbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVNpZ25hbFNlcnZlckNsaWVudCB7XG4gIC8qKlxuICAgKiBTZXRQdWJsaXNoZXIgc2VuZHMgdGhlIFdlYlJUQyBvZmZlciBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiB1c2VkIHRvIHB1Ymxpc2ggQS9WXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNldFB1Ymxpc2hlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZXRQdWJsaXNoZXIoXG4gICAgaW5wdXQ6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBhbnN3ZXIgaXMgc2VudCBieSB0aGUgY2xpZW50IHRvIHRoZSBTRlUgYWZ0ZXIgcmVjZWl2aW5nIGEgc3Vic2NyaWJlcl9vZmZlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZEFuc3dlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRBbnN3ZXIoXG4gICAgaW5wdXQ6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZEFuc3dlclJlcXVlc3QsIFNlbmRBbnN3ZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBTZW5kSUNFQ2FuZGlkYXRlIHNlbmRzIGFuIElDRSBjYW5kaWRhdGUgdG8gdGhlIGNsaWVudFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VUcmlja2xlKHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZSk7XG4gICAqL1xuICBpY2VUcmlja2xlKFxuICAgIGlucHV0OiBJQ0VUcmlja2xlLFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8SUNFVHJpY2tsZSwgSUNFVHJpY2tsZVJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFVwZGF0ZVN1YnNjcmliZXJzIGlzIHVzZWQgdG8gbm90aWZ5IHRoZSBTRlUgYWJvdXQgdGhlIGxpc3Qgb2YgdmlkZW8gc3Vic2NyaXB0aW9uc1xuICAgKiBUT0RPOiBzeW5jIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhpcyArIHVwZGF0ZSB0cmFja3MgdXNpbmcgdGhlIGRpbWVuc2lvbiBpbmZvIHNlbnQgYnkgdGhlIHVzZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlU3Vic2NyaXB0aW9ucyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgaW5wdXQ6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBVcGRhdGVNdXRlU3RhdGVzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UpO1xuICAgKi9cbiAgdXBkYXRlTXV0ZVN0YXRlcyhcbiAgICBpbnB1dDogVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCwgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVJlc3RhcnQoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZSk7XG4gICAqL1xuICBpY2VSZXN0YXJ0KFxuICAgIGlucHV0OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVJlc3RhcnRSZXF1ZXN0LCBJQ0VSZXN0YXJ0UmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZFN0YXRzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRTdGF0cyhcbiAgICBpbnB1dDogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRTdGF0c1JlcXVlc3QsIFNlbmRTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdGFydE5vaXNlQ2FuY2VsbGF0aW9uKFxuICAgIGlucHV0OiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0b3BOb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWduYWxTZXJ2ZXJDbGllbnQgaW1wbGVtZW50cyBJU2lnbmFsU2VydmVyQ2xpZW50LCBTZXJ2aWNlSW5mbyB7XG4gIHR5cGVOYW1lID0gU2lnbmFsU2VydmVyLnR5cGVOYW1lO1xuICBtZXRob2RzID0gU2lnbmFsU2VydmVyLm1ldGhvZHM7XG4gIG9wdGlvbnMgPSBTaWduYWxTZXJ2ZXIub3B0aW9ucztcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBfdHJhbnNwb3J0OiBScGNUcmFuc3BvcnQpIHt9XG4gIC8qKlxuICAgKiBTZXRQdWJsaXNoZXIgc2VuZHMgdGhlIFdlYlJUQyBvZmZlciBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiB1c2VkIHRvIHB1Ymxpc2ggQS9WXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNldFB1Ymxpc2hlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZXRQdWJsaXNoZXIoXG4gICAgaW5wdXQ6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1swXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFNldFB1Ymxpc2hlclJlcXVlc3QsIFNldFB1Ymxpc2hlclJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBhbnN3ZXIgaXMgc2VudCBieSB0aGUgY2xpZW50IHRvIHRoZSBTRlUgYWZ0ZXIgcmVjZWl2aW5nIGEgc3Vic2NyaWJlcl9vZmZlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZEFuc3dlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRBbnN3ZXIoXG4gICAgaW5wdXQ6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZEFuc3dlclJlcXVlc3QsIFNlbmRBbnN3ZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1sxXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFNlbmRBbnN3ZXJSZXF1ZXN0LCBTZW5kQW5zd2VyUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmRJQ0VDYW5kaWRhdGUgc2VuZHMgYW4gSUNFIGNhbmRpZGF0ZSB0byB0aGUgY2xpZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVRyaWNrbGUoc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZSkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlKTtcbiAgICovXG4gIGljZVRyaWNrbGUoXG4gICAgaW5wdXQ6IElDRVRyaWNrbGUsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxJQ0VUcmlja2xlLCBJQ0VUcmlja2xlUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbMl0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxJQ0VUcmlja2xlLCBJQ0VUcmlja2xlUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZVN1YnNjcmliZXJzIGlzIHVzZWQgdG8gbm90aWZ5IHRoZSBTRlUgYWJvdXQgdGhlIGxpc3Qgb2YgdmlkZW8gc3Vic2NyaXB0aW9uc1xuICAgKiBUT0RPOiBzeW5jIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhpcyArIHVwZGF0ZSB0cmFja3MgdXNpbmcgdGhlIGRpbWVuc2lvbiBpbmZvIHNlbnQgYnkgdGhlIHVzZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlU3Vic2NyaXB0aW9ucyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgaW5wdXQ6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1szXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsXG4gICAgICBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlTXV0ZVN0YXRlcyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZU11dGVTdGF0ZXMoXG4gICAgaW5wdXQ6IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s0XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LCBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVJlc3RhcnQoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZSk7XG4gICAqL1xuICBpY2VSZXN0YXJ0KFxuICAgIGlucHV0OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVJlc3RhcnRSZXF1ZXN0LCBJQ0VSZXN0YXJ0UmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNV0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxJQ0VSZXN0YXJ0UmVxdWVzdCwgSUNFUmVzdGFydFJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTZW5kU3RhdHMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVzcG9uc2UpO1xuICAgKi9cbiAgc2VuZFN0YXRzKFxuICAgIGlucHV0OiBTZW5kU3RhdHNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZFN0YXRzUmVxdWVzdCwgU2VuZFN0YXRzUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNl0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxTZW5kU3RhdHNSZXF1ZXN0LCBTZW5kU3RhdHNSZXNwb25zZT4oXG4gICAgICAndW5hcnknLFxuICAgICAgdGhpcy5fdHJhbnNwb3J0LFxuICAgICAgbWV0aG9kLFxuICAgICAgb3B0LFxuICAgICAgaW5wdXQsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RhcnROb2lzZUNhbmNlbGxhdGlvbihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oXG4gICAgaW5wdXQ6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s3XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgICBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0b3BOb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzhdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8XG4gICAgICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgTWV0aG9kSW5mbyxcbiAgTmV4dFVuYXJ5Rm4sXG4gIFJwY0ludGVyY2VwdG9yLFxuICBScGNPcHRpb25zLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQge1xuICBUd2lycEZldGNoVHJhbnNwb3J0LFxuICBUd2lycE9wdGlvbnMsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy90d2lycC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyQ2xpZW50IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5jbGllbnQnO1xuaW1wb3J0IHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogVHdpcnBPcHRpb25zID0ge1xuICBiYXNlVXJsOiAnJyxcbiAgc2VuZEpzb246IHRydWUsXG4gIHRpbWVvdXQ6IDUgKiAxMDAwLCAvLyBtcy5cbiAganNvbk9wdGlvbnM6IHtcbiAgICBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhIZWFkZXJzID0gKFxuICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuKTogUnBjSW50ZXJjZXB0b3IgPT4ge1xuICByZXR1cm4ge1xuICAgIGludGVyY2VwdFVuYXJ5KFxuICAgICAgbmV4dDogTmV4dFVuYXJ5Rm4sXG4gICAgICBtZXRob2Q6IE1ldGhvZEluZm8sXG4gICAgICBpbnB1dDogb2JqZWN0LFxuICAgICAgb3B0aW9uczogUnBjT3B0aW9ucyxcbiAgICApOiBVbmFyeUNhbGwge1xuICAgICAgb3B0aW9ucy5tZXRhID0geyAuLi5vcHRpb25zLm1ldGEsIC4uLmhlYWRlcnMgfTtcbiAgICAgIHJldHVybiBuZXh0KG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgd2l0aFJlcXVlc3RMb2dnZXIgPSAoXG4gIGxvZ2dlcjogTG9nZ2VyLFxuICBsZXZlbDogTG9nTGV2ZWwsXG4pOiBScGNJbnRlcmNlcHRvciA9PiB7XG4gIHJldHVybiB7XG4gICAgaW50ZXJjZXB0VW5hcnk6IChcbiAgICAgIG5leHQ6IE5leHRVbmFyeUZuLFxuICAgICAgbWV0aG9kOiBNZXRob2RJbmZvLFxuICAgICAgaW5wdXQ6IG9iamVjdCxcbiAgICAgIG9wdGlvbnM6IFJwY09wdGlvbnMsXG4gICAgKTogVW5hcnlDYWxsID0+IHtcbiAgICAgIGxldCBpbnZvY2F0aW9uOiBVbmFyeUNhbGwgfCB1bmRlZmluZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBpbnZvY2F0aW9uID0gbmV4dChtZXRob2QsIGlucHV0LCBvcHRpb25zKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGxvZ2dlcihsZXZlbCwgYEludm9rZWQgU0ZVIFJQQyBtZXRob2QgJHttZXRob2QubmFtZX1gLCB7XG4gICAgICAgICAgcmVxdWVzdDogaW52b2NhdGlvbj8ucmVxdWVzdCxcbiAgICAgICAgICBoZWFkZXJzOiBpbnZvY2F0aW9uPy5yZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgICByZXNwb25zZTogaW52b2NhdGlvbj8ucmVzcG9uc2UsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludm9jYXRpb247XG4gICAgfSxcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgU2lnbmFsU2VydmVyQ2xpZW50IGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIHRoZSB0d2lycCBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU2lnbmFsQ2xpZW50ID0gKG9wdGlvbnM/OiBUd2lycE9wdGlvbnMpID0+IHtcbiAgY29uc3QgdHJhbnNwb3J0ID0gbmV3IFR3aXJwRmV0Y2hUcmFuc3BvcnQoe1xuICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbnMsXG4gIH0pO1xuXG4gIHJldHVybiBuZXcgU2lnbmFsU2VydmVyQ2xpZW50KHRyYW5zcG9ydCk7XG59O1xuIiwiaW1wb3J0IHR5cGUgeyBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHR5cGUgeyBBUElFcnJvclJlc3BvbnNlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvbm5lY3Rpb25FcnJvckV2ZW50IH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG06IG51bWJlcikgPT4gbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgbSkpO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbjxUPih2YWx1ZTogRnVuY3Rpb24gfCBUKTogdmFsdWUgaXMgRnVuY3Rpb24ge1xuICByZXR1cm4gKFxuICAgIHZhbHVlICYmXG4gICAgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICAgICdmdW5jdGlvbicgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgdmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbilcbiAgKTtcbn1cblxuLyoqXG4gKiBBIG1hcCBvZiBrbm93biBlcnJvciBjb2Rlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEtub3duQ29kZXMgPSB7XG4gIFRPS0VOX0VYUElSRUQ6IDQwLFxuICBXU19DTE9TRURfU1VDQ0VTUzogMTAwMCxcbiAgV1NfQ0xPU0VEX0FCUlVQVExZOiAxMDA2LFxuICBXU19QT0xJQ1lfVklPTEFUSU9OOiAxMDA4LFxufTtcblxuLyoqXG4gKiByZXRyeUludGVydmFsIC0gQSByZXRyeSBpbnRlcnZhbCB3aGljaCBpbmNyZWFzZXMgYWNjIHRvIG51bWJlciBvZiBmYWlsdXJlc1xuICpcbiAqIEByZXR1cm4ge251bWJlcn0gRHVyYXRpb24gdG8gd2FpdCBpbiBtaWxsaXNlY29uZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldHJ5SW50ZXJ2YWwobnVtYmVyT2ZGYWlsdXJlczogbnVtYmVyKSB7XG4gIC8vIHRyeSB0byByZWNvbm5lY3QgaW4gMC4yNS01IHNlY29uZHMgKHJhbmRvbSB0byBzcHJlYWQgb3V0IHRoZSBsb2FkIGZyb20gZmFpbHVyZXMpXG4gIGNvbnN0IG1heCA9IE1hdGgubWluKDUwMCArIG51bWJlck9mRmFpbHVyZXMgKiAyMDAwLCA1MDAwKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4oTWF0aC5tYXgoMjUwLCAobnVtYmVyT2ZGYWlsdXJlcyAtIDEpICogMjAwMCksIDUwMDApO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSWQoKSB7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUR2NCgpO1xufVxuXG5mdW5jdGlvbiBoZXgoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBsZXQgcyA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcyArPSBieXRlc1tpXS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgfVxuICByZXR1cm4gcztcbn1cblxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVVSUR2NCgpIHtcbiAgY29uc3QgYnl0ZXMgPSBnZXRSYW5kb21CeXRlcygxNik7XG4gIGJ5dGVzWzZdID0gKGJ5dGVzWzZdICYgMHgwZikgfCAweDQwOyAvLyB2ZXJzaW9uXG4gIGJ5dGVzWzhdID0gKGJ5dGVzWzhdICYgMHhiZikgfCAweDgwOyAvLyB2YXJpYW50XG5cbiAgcmV0dXJuIChcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoMCwgNCkpICtcbiAgICAnLScgK1xuICAgIGhleChieXRlcy5zdWJhcnJheSg0LCA2KSkgK1xuICAgICctJyArXG4gICAgaGV4KGJ5dGVzLnN1YmFycmF5KDYsIDgpKSArXG4gICAgJy0nICtcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoOCwgMTApKSArXG4gICAgJy0nICtcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoMTAsIDE2KSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb20oYnl0ZXM6IFVpbnQ4QXJyYXkpOiB2b2lkIHtcbiAgY29uc3QgbWF4ID0gTWF0aC5wb3coMiwgKDggKiBieXRlcy5ieXRlTGVuZ3RoKSAvIGJ5dGVzLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBieXRlc1tpXSA9IE1hdGgucmFuZG9tKCkgKiBtYXg7XG4gIH1cbn1cbmRlY2xhcmUgY29uc3QgbXNDcnlwdG86IENyeXB0bztcblxuY29uc3QgZ2V0UmFuZG9tVmFsdWVzID0gKCgpID0+IHtcbiAgaWYgKFxuICAgIHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGNyeXB0bz8uZ2V0UmFuZG9tVmFsdWVzICE9PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICByZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tO1xuICB9XG59KSgpO1xuXG5mdW5jdGlvbiBnZXRSYW5kb21CeXRlcyhsZW5ndGg6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gIGdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gIHJldHVybiBieXRlcztcbn1cblxuLyoqXG4gKiBJbmZvcm1zIGlmIGEgcHJvbWlzZSBpcyB5ZXQgdG8gYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzUHJvbWlzZVBlbmRpbmc8VD4ocHJvbWlzZTogUHJvbWlzZTxUPikge1xuICBjb25zdCBlbXB0eU9iaiA9IHt9O1xuICByZXR1cm4gUHJvbWlzZS5yYWNlKFtwcm9taXNlLCBlbXB0eU9ial0pLnRoZW4oXG4gICAgKHZhbHVlKSA9PiB2YWx1ZSA9PT0gZW1wdHlPYmosXG4gICAgKCkgPT4gZmFsc2UsXG4gICk7XG59XG5cbi8qKlxuICogbGlzdGVuRm9yQ29ubmVjdGlvbkNoYW5nZXMgLSBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIGZpcmVkIG9uIGJyb3dzZXIgZ29pbmcgb25saW5lIG9yIG9mZmxpbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYjogKGU6IEV2ZW50KSA9PiB2b2lkKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2IpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYjogKGU6IEV2ZW50KSA9PiB2b2lkKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2IpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXJyb3JSZXNwb25zZShcbiAgcmVzOiBBeGlvc1Jlc3BvbnNlPHVua25vd24+LFxuKTogcmVzIGlzIEF4aW9zUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4ge1xuICByZXR1cm4gIXJlcy5zdGF0dXMgfHwgcmVzLnN0YXR1cyA8IDIwMCB8fCAzMDAgPD0gcmVzLnN0YXR1cztcbn1cblxuLy8gVHlwZSBndWFyZHMgdG8gY2hlY2sgV2ViU29ja2V0IGVycm9yIHR5cGVcbmV4cG9ydCBmdW5jdGlvbiBpc0Nsb3NlRXZlbnQoXG4gIHJlczogQ2xvc2VFdmVudCB8IENvbm5lY3Rpb25FcnJvckV2ZW50LFxuKTogcmVzIGlzIENsb3NlRXZlbnQge1xuICByZXR1cm4gKHJlcyBhcyBDbG9zZUV2ZW50KS5jb2RlICE9PSB1bmRlZmluZWQ7XG59XG4iLCIvKipcbiAqIENoZWNrcyB3aGV0aGVyIHdlIGFyZSB1c2luZyBSZWFjdCBOYXRpdmVcbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmVhY3ROYXRpdmUgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gbmF2aWdhdG9yLnByb2R1Y3Q/LnRvTG93ZXJDYXNlKCkgPT09ICdyZWFjdG5hdGl2ZSc7XG59O1xuIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5cbi8vIGxvZyBsZXZlbHMsIHNvcnRlZCBieSB2ZXJib3NpdHlcbmV4cG9ydCBjb25zdCBsb2dMZXZlbHM6IFJlY29yZDxMb2dMZXZlbCwgbnVtYmVyPiA9IE9iamVjdC5mcmVlemUoe1xuICB0cmFjZTogMCxcbiAgZGVidWc6IDEsXG4gIGluZm86IDIsXG4gIHdhcm46IDMsXG4gIGVycm9yOiA0LFxufSk7XG5cbmxldCBsb2dnZXI6IExvZ2dlciB8IHVuZGVmaW5lZDtcbmxldCBsZXZlbDogTG9nTGV2ZWwgPSAnaW5mbyc7XG5cbmV4cG9ydCBjb25zdCBsb2dUb0NvbnNvbGU6IExvZ2dlciA9IChsb2dMZXZlbCwgbWVzc2FnZSwgLi4uYXJncykgPT4ge1xuICBsZXQgbG9nTWV0aG9kO1xuICBzd2l0Y2ggKGxvZ0xldmVsKSB7XG4gICAgY2FzZSAnZXJyb3InOlxuICAgICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICBtZXNzYWdlID0gYEVSUk9SOiAke21lc3NhZ2V9YDtcbiAgICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd3YXJuJzpcbiAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgbWVzc2FnZSA9IGBXQVJOOiAke21lc3NhZ2V9YDtcbiAgICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUud2FybjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2luZm8nOlxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndHJhY2UnOlxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS50cmFjZTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLmxvZztcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgbG9nTWV0aG9kKG1lc3NhZ2UsIC4uLmFyZ3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldExvZ2dlciA9IChsOiBMb2dnZXIsIGx2bD86IExvZ0xldmVsKSA9PiB7XG4gIGxvZ2dlciA9IGw7XG4gIGlmIChsdmwpIHtcbiAgICBzZXRMb2dMZXZlbChsdmwpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSAobDogTG9nTGV2ZWwpID0+IHtcbiAgbGV2ZWwgPSBsO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExvZ0xldmVsID0gKCk6IExvZ0xldmVsID0+IGxldmVsO1xuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VyID0gKHdpdGhUYWdzPzogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgbG9nZ2VyTWV0aG9kID0gbG9nZ2VyIHx8IGxvZ1RvQ29uc29sZTtcbiAgY29uc3QgdGFncyA9ICh3aXRoVGFncyB8fCBbXSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJzonKTtcbiAgY29uc3QgcmVzdWx0OiBMb2dnZXIgPSAobG9nTGV2ZWwsIG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgICBpZiAobG9nTGV2ZWxzW2xvZ0xldmVsXSA+PSBsb2dMZXZlbHNbbGV2ZWxdKSB7XG4gICAgICBsb2dnZXJNZXRob2QobG9nTGV2ZWwsIGBbJHt0YWdzfV06ICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiaW1wb3J0IHtcbiAgRmluaXNoZWRVbmFyeUNhbGwsXG4gIFJwY0Vycm9yLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgeyBUd2lycEVycm9yQ29kZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy90d2lycC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgcmV0cnlJbnRlcnZhbCwgc2xlZXAgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzJztcbmltcG9ydCB7IEVycm9yIGFzIFNmdUVycm9yIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbi8qKlxuICogQW4gaW50ZXJuYWwgaW50ZXJmYWNlIHdoaWNoIGFzc2VydHMgdGhhdCBcInJldHJ5YWJsZVwiIFNGVSByZXNwb25zZXNcbiAqIGNvbnRhaW4gYSBmaWVsZCBjYWxsZWQgXCJlcnJvclwiLlxuICogSWRlYWxseSwgdGhpcyBzaG91bGQgYmUgY29taW5nIGZyb20gdGhlIFByb3RvYnVmIGRlZmluaXRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdVJlc3BvbnNlV2l0aEVycm9yIHtcbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGVycm9yIGZpZWxkIHdoaWNoIHNob3VsZCBiZSBwcmVzZW50IGluIGFsbCBTRlUgcmVzcG9uc2VzLlxuICAgKi9cbiAgZXJyb3I/OiBTZnVFcnJvcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvc3VyZSB3aGljaCB3cmFwcyB0aGUgZ2l2ZW4gUlBDIGNhbGwgYW5kIHJldHJpZXMgaW52b2tpbmdcbiAqIHRoZSBSUEMgdW50aWwgaXQgc3VjY2VlZHMgb3IgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgaXMgcmVhY2hlZC5cbiAqXG4gKiBGb3IgZWFjaCByZXRyeSwgdGhlcmUgd291bGQgYmUgYSBkZWxheSB0byBhdm9pZCByZXF1ZXN0IGJ1cnN0cyB0b3dhcmQgdGhlIFNGVS5cbiAqXG4gKiBAcGFyYW0gcnBjIHRoZSBjbG9zdXJlIGFyb3VuZCB0aGUgUlBDIGNhbGwgdG8gZXhlY3V0ZS5cbiAqIEBwYXJhbSBzaWduYWwgdGhlIHNpZ25hbCB0byBhYm9ydCB0aGUgUlBDIGNhbGwgYW5kIHJldHJpZXMgbG9vcC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJldHJ5YWJsZSA9IGFzeW5jIDxcbiAgSSBleHRlbmRzIG9iamVjdCxcbiAgTyBleHRlbmRzIFNmdVJlc3BvbnNlV2l0aEVycm9yLFxuPihcbiAgcnBjOiAoKSA9PiBVbmFyeUNhbGw8SSwgTz4sXG4gIHNpZ25hbD86IEFib3J0U2lnbmFsLFxuKTogUHJvbWlzZTxGaW5pc2hlZFVuYXJ5Q2FsbDxJLCBPPj4gPT4ge1xuICBsZXQgYXR0ZW1wdCA9IDA7XG4gIGxldCByZXN1bHQ6IEZpbmlzaGVkVW5hcnlDYWxsPEksIE8+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBkbyB7XG4gICAgaWYgKGF0dGVtcHQgPiAwKSBhd2FpdCBzbGVlcChyZXRyeUludGVydmFsKGF0dGVtcHQpKTtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgcnBjKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBpc1JlcXVlc3RDYW5jZWxsZWQgPVxuICAgICAgICBlcnIgaW5zdGFuY2VvZiBScGNFcnJvciAmJlxuICAgICAgICBlcnIuY29kZSA9PT0gVHdpcnBFcnJvckNvZGVbVHdpcnBFcnJvckNvZGUuY2FuY2VsbGVkXTtcbiAgICAgIGNvbnN0IGlzQWJvcnRlZCA9IHNpZ25hbD8uYWJvcnRlZCA/PyBmYWxzZTtcbiAgICAgIGlmIChpc1JlcXVlc3RDYW5jZWxsZWQgfHwgaXNBYm9ydGVkKSB0aHJvdyBlcnI7XG4gICAgICBnZXRMb2dnZXIoWydzZnUtY2xpZW50JywgJ3JwYyddKSgnZGVidWcnLCBgcnBjIGZhaWxlZCAoJHthdHRlbXB0fSlgLCBlcnIpO1xuICAgICAgYXR0ZW1wdCsrO1xuICAgIH1cbiAgfSB3aGlsZSAoIXJlc3VsdCB8fCByZXN1bHQucmVzcG9uc2UuZXJyb3I/LnNob3VsZFJldHJ5KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8qKlxuICogUmV0dXJucyBhIGdlbmVyaWMgU0RQIGZvciB0aGUgZ2l2ZW4gZGlyZWN0aW9uLlxuICogV2UgdXNlIHRoaXMgU0RQIHRvIHNlbmQgaXQgYXMgcGFydCBvZiBvdXIgSm9pblJlcXVlc3Qgc28gdGhhdCB0aGUgU0ZVXG4gKiBjYW4gdXNlIGl0IHRvIGRldGVybWluZSB0aGUgY2xpZW50J3MgY29kZWMgY2FwYWJpbGl0aWVzLlxuICpcbiAqIEBwYXJhbSBkaXJlY3Rpb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgdHJhbnNjZWl2ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRHZW5lcmljU2RwID0gYXN5bmMgKGRpcmVjdGlvbjogUlRDUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb24pID0+IHtcbiAgY29uc3QgdGVtcFBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gIHRlbXBQYy5hZGRUcmFuc2NlaXZlcigndmlkZW8nLCB7IGRpcmVjdGlvbiB9KTtcbiAgdGVtcFBjLmFkZFRyYW5zY2VpdmVyKCdhdWRpbycsIHsgZGlyZWN0aW9uIH0pO1xuXG4gIGNvbnN0IG9mZmVyID0gYXdhaXQgdGVtcFBjLmNyZWF0ZU9mZmVyKCk7XG4gIGNvbnN0IHNkcCA9IG9mZmVyLnNkcCA/PyAnJztcblxuICB0ZW1wUGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZm9yRWFjaCgodCkgPT4ge1xuICAgIHQuc3RvcD8uKCk7XG4gIH0pO1xuICB0ZW1wUGMuY2xvc2UoKTtcbiAgcmV0dXJuIHNkcDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBjb2RlYyBpcyBhbiBTVkMgY29kZWMuXG4gKlxuICogQHBhcmFtIGNvZGVjT3JNaW1lVHlwZSB0aGUgY29kZWMgdG8gY2hlY2suXG4gKi9cbmV4cG9ydCBjb25zdCBpc1N2Y0NvZGVjID0gKGNvZGVjT3JNaW1lVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XG4gIGlmICghY29kZWNPck1pbWVUeXBlKSByZXR1cm4gZmFsc2U7XG4gIGNvZGVjT3JNaW1lVHlwZSA9IGNvZGVjT3JNaW1lVHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKFxuICAgIGNvZGVjT3JNaW1lVHlwZSA9PT0gJ3ZwOScgfHxcbiAgICBjb2RlY09yTWltZVR5cGUgPT09ICdhdjEnIHx8XG4gICAgY29kZWNPck1pbWVUeXBlID09PSAndmlkZW8vdnA5JyB8fFxuICAgIGNvZGVjT3JNaW1lVHlwZSA9PT0gJ3ZpZGVvL2F2MSdcbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBDYWxsRXZlbnRMaXN0ZW5lciwgRXZlbnRUeXBlcyB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBTZnVFdmVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCB0eXBlIFNmdUV2ZW50S2luZHMgPSBOb25OdWxsYWJsZTxTZnVFdmVudFsnZXZlbnRQYXlsb2FkJ11bJ29uZW9mS2luZCddPjtcbmV4cG9ydCB0eXBlIEFsbFNmdUV2ZW50cyA9IHtcbiAgW0sgaW4gU2Z1RXZlbnRLaW5kc106IEsgZXh0ZW5kcyBrZXlvZiBFeHRyYWN0PFxuICAgIFNmdUV2ZW50WydldmVudFBheWxvYWQnXSxcbiAgICB7IG9uZW9mS2luZDogSyB9XG4gID5cbiAgICA/IEV4dHJhY3Q8U2Z1RXZlbnRbJ2V2ZW50UGF5bG9hZCddLCB7IG9uZW9mS2luZDogSyB9PltLXVxuICAgIDogbmV2ZXI7XG59O1xuXG5leHBvcnQgdHlwZSBEaXNwYXRjaGFibGVNZXNzYWdlPEsgZXh0ZW5kcyBTZnVFdmVudEtpbmRzPiA9IHtcbiAgZXZlbnRQYXlsb2FkOiB7XG4gICAgb25lb2ZLaW5kOiBLO1xuICB9ICYge1xuICAgIFtLZXkgaW4gS106IEFsbFNmdUV2ZW50c1tLZXldO1xuICB9O1xufTtcblxuY29uc3Qgc2Z1RXZlbnRLaW5kczogeyBba2V5IGluIFNmdUV2ZW50S2luZHNdOiB1bmRlZmluZWQgfSA9IHtcbiAgc3Vic2NyaWJlck9mZmVyOiB1bmRlZmluZWQsXG4gIHB1Ymxpc2hlckFuc3dlcjogdW5kZWZpbmVkLFxuICBjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ6IHVuZGVmaW5lZCxcbiAgYXVkaW9MZXZlbENoYW5nZWQ6IHVuZGVmaW5lZCxcbiAgaWNlVHJpY2tsZTogdW5kZWZpbmVkLFxuICBjaGFuZ2VQdWJsaXNoUXVhbGl0eTogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudEpvaW5lZDogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudExlZnQ6IHVuZGVmaW5lZCxcbiAgZG9taW5hbnRTcGVha2VyQ2hhbmdlZDogdW5kZWZpbmVkLFxuICBqb2luUmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgaGVhbHRoQ2hlY2tSZXNwb25zZTogdW5kZWZpbmVkLFxuICB0cmFja1B1Ymxpc2hlZDogdW5kZWZpbmVkLFxuICB0cmFja1VucHVibGlzaGVkOiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWQsXG4gIGNhbGxHcmFudHNVcGRhdGVkOiB1bmRlZmluZWQsXG4gIGdvQXdheTogdW5kZWZpbmVkLFxuICBpY2VSZXN0YXJ0OiB1bmRlZmluZWQsXG4gIHBpbnNVcGRhdGVkOiB1bmRlZmluZWQsXG4gIGNhbGxFbmRlZDogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudFVwZGF0ZWQ6IHVuZGVmaW5lZCxcbiAgcGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZTogdW5kZWZpbmVkLFxuICBjaGFuZ2VQdWJsaXNoT3B0aW9uczogdW5kZWZpbmVkLFxufTtcblxuZXhwb3J0IGNvbnN0IGlzU2Z1RXZlbnQgPSAoXG4gIGV2ZW50TmFtZTogU2Z1RXZlbnRLaW5kcyB8IEV2ZW50VHlwZXMsXG4pOiBldmVudE5hbWUgaXMgU2Z1RXZlbnRLaW5kcyA9PiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2Z1RXZlbnRLaW5kcywgZXZlbnROYW1lKTtcbn07XG5cbmV4cG9ydCBjbGFzcyBEaXNwYXRjaGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dnZXIgPSBnZXRMb2dnZXIoWydEaXNwYXRjaGVyJ10pO1xuICBwcml2YXRlIHN1YnNjcmliZXJzOiBQYXJ0aWFsPFxuICAgIFJlY29yZDxTZnVFdmVudEtpbmRzLCBDYWxsRXZlbnRMaXN0ZW5lcjxhbnk+W10gfCB1bmRlZmluZWQ+XG4gID4gPSB7fTtcblxuICBkaXNwYXRjaCA9IDxLIGV4dGVuZHMgU2Z1RXZlbnRLaW5kcz4oXG4gICAgbWVzc2FnZTogRGlzcGF0Y2hhYmxlTWVzc2FnZTxLPixcbiAgICBsb2dUYWc6IHN0cmluZyA9ICcwJyxcbiAgKSA9PiB7XG4gICAgY29uc3QgZXZlbnRLaW5kID0gbWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kO1xuICAgIGlmICghZXZlbnRLaW5kKSByZXR1cm47XG4gICAgY29uc3QgcGF5bG9hZCA9IG1lc3NhZ2UuZXZlbnRQYXlsb2FkW2V2ZW50S2luZF07XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYERpc3BhdGNoaW5nICR7ZXZlbnRLaW5kfSwgdGFnPSR7bG9nVGFnfWAsIHBheWxvYWQpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuc3Vic2NyaWJlcnNbZXZlbnRLaW5kXTtcbiAgICBpZiAoIWxpc3RlbmVycykgcmV0dXJuO1xuICAgIGZvciAoY29uc3QgZm4gb2YgbGlzdGVuZXJzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBmbihwYXlsb2FkKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnTGlzdGVuZXIgZmFpbGVkIHdpdGggZXJyb3InLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgb24gPSA8RSBleHRlbmRzIGtleW9mIEFsbFNmdUV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGZuOiBDYWxsRXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgKHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA/Pz0gW10pLnB1c2goZm4gYXMgbmV2ZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGZuKTtcbiAgICB9O1xuICB9O1xuXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsU2Z1RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICB0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPSAodGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdIHx8IFtdKS5maWx0ZXIoXG4gICAgICAoZikgPT4gZiAhPT0gZm4sXG4gICAgKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElDRVRyaWNrbGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBQZWVyVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG4vKipcbiAqIEEgYnVmZmVyIGZvciBJQ0UgQ2FuZGlkYXRlcy4gVXNlZCBmb3IgSUNFIFRyaWNrbGU6XG4gKiAtIGh0dHBzOi8vYmxvZ2dlZWsubWUvd2VicnRjZ2xvc3NhcnkvdHJpY2tsZS1pY2UvXG4gKi9cbmV4cG9ydCBjbGFzcyBJY2VUcmlja2xlQnVmZmVyIHtcbiAgcmVhZG9ubHkgc3Vic2NyaWJlckNhbmRpZGF0ZXMgPSBuZXcgUmVwbGF5U3ViamVjdDxSVENJY2VDYW5kaWRhdGVJbml0PigpO1xuICByZWFkb25seSBwdWJsaXNoZXJDYW5kaWRhdGVzID0gbmV3IFJlcGxheVN1YmplY3Q8UlRDSWNlQ2FuZGlkYXRlSW5pdD4oKTtcblxuICBwdXNoID0gKGljZVRyaWNrbGU6IElDRVRyaWNrbGUpID0+IHtcbiAgICBjb25zdCBpY2VDYW5kaWRhdGUgPSB0b0ljZUNhbmRpZGF0ZShpY2VUcmlja2xlKTtcbiAgICBpZiAoIWljZUNhbmRpZGF0ZSkgcmV0dXJuO1xuXG4gICAgaWYgKGljZVRyaWNrbGUucGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVIpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlckNhbmRpZGF0ZXMubmV4dChpY2VDYW5kaWRhdGUpO1xuICAgIH0gZWxzZSBpZiAoaWNlVHJpY2tsZS5wZWVyVHlwZSA9PT0gUGVlclR5cGUuUFVCTElTSEVSX1VOU1BFQ0lGSUVEKSB7XG4gICAgICB0aGlzLnB1Ymxpc2hlckNhbmRpZGF0ZXMubmV4dChpY2VDYW5kaWRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydzZnUtY2xpZW50J10pO1xuICAgICAgbG9nZ2VyKCd3YXJuJywgYElDRVRyaWNrbGUsIFVua25vd24gcGVlciB0eXBlYCwgaWNlVHJpY2tsZSk7XG4gICAgfVxuICB9O1xuXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpYmVyQ2FuZGlkYXRlcy5jb21wbGV0ZSgpO1xuICAgIHRoaXMucHVibGlzaGVyQ2FuZGlkYXRlcy5jb21wbGV0ZSgpO1xuICB9O1xufVxuXG5jb25zdCB0b0ljZUNhbmRpZGF0ZSA9IChcbiAgaWNlVHJpY2tsZTogSUNFVHJpY2tsZSxcbik6IFJUQ0ljZUNhbmRpZGF0ZUluaXQgfCB1bmRlZmluZWQgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGljZVRyaWNrbGUuaWNlQ2FuZGlkYXRlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ3NmdS1jbGllbnQnXSk7XG4gICAgbG9nZ2VyKCdlcnJvcicsIGBGYWlsZWQgdG8gcGFyc2UgSUNFIFRyaWNrbGVgLCBlLCBpY2VUcmlja2xlKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59O1xuIiwiaW50ZXJmYWNlIFBlbmRpbmdQcm9taXNlIHtcbiAgcHJvbWlzZTogUHJvbWlzZTx1bmtub3duPjtcbiAgb25Db250aW51ZWQ6ICgpID0+IHZvaWQ7XG59XG5cbnR5cGUgQXN5bmNXcmFwcGVyPFAgZXh0ZW5kcyB1bmtub3duW10sIFQ+ID0gKFxuICB0YWc6IHN0cmluZyB8IHN5bWJvbCxcbiAgY2I6ICguLi5hcmdzOiBQKSA9PiBQcm9taXNlPFQ+LFxuKSA9PiB7XG4gIGNiOiAoKSA9PiBQcm9taXNlPFQ+O1xuICBvbkNvbnRpbnVlZDogKCkgPT4gdm9pZDtcbn07XG5cbi8qKlxuICogUnVucyBhc3luYyBmdW5jdGlvbnMgc2VyaWFsbHkuIFVzZWZ1bCBmb3Igd3JhcHBpbmcgYXN5bmMgYWN0aW9ucyB0aGF0XG4gKiBzaG91bGQgbmV2ZXIgcnVuIHNpbXVsdGFuZW91c2x5OiBpZiBtYXJrZWQgd2l0aCB0aGUgc2FtZSB0YWcsIGZ1bmN0aW9uc1xuICogd2lsbCBydW4gb25lIGFmdGVyIGFub3RoZXIuXG4gKlxuICogQHBhcmFtIHRhZyBBc3luYyBmdW5jdGlvbnMgd2l0aCB0aGUgc2FtZSB0YWcgd2lsbCBydW4gc2VyaWFsbHkuIEFzeW5jIGZ1bmN0aW9uc1xuICogd2l0aCBkaWZmZXJlbnQgdGFncyBjYW4gcnVuIGluIHBhcmFsbGVsLlxuICogQHBhcmFtIGNiIEFzeW5jIGZ1bmN0aW9uIHRvIHJ1bi5cbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFzeW5jIGZ1bmN0aW9ucyByZXR1cm5zLlxuICovXG5leHBvcnQgY29uc3Qgd2l0aG91dENvbmN1cnJlbmN5ID0gY3JlYXRlUnVubmVyKHdyYXBXaXRoQ29udGludWF0aW9uVHJhY2tpbmcpO1xuXG4vKipcbiAqIFJ1bnMgYXN5bmMgZnVuY3Rpb25zIHNlcmlhbGx5LCBhbmQgY2FuY2VscyBhbGwgb3RoZXIgYWN0aW9ucyB3aXRoIHRoZSBzYW1lIHRhZ1xuICogd2hlbiBhIG5ldyBhY3Rpb24gaXMgc2NoZWR1bGVkLiBVc2VmdWwgZm9yIHdyYXBwaW5nIGFzeW5jIGFjdGlvbnMgdGhhdCBvdmVycmlkZVxuICogZWFjaCBvdGhlciAoZS5nLiBlbmFibGluZyBhbmQgZGlzYWJsaW5nIGNhbWVyYSkuXG4gKlxuICogSWYgYW4gYXN5bmMgZnVuY3Rpb24gaGFzbid0IHN0YXJ0ZWQgeWV0IGFuZCB3YXMgY2FuY2VsZWQsIGl0IHdpbGwgbmV2ZXIgcnVuLlxuICogSWYgYW4gYXN5bmMgZnVuY3Rpb24gaXMgYWxyZWFkeSBydW5uaW5nIGFuZCB3YXMgY2FuY2VsZWQsIGl0IHdpbGwgYmUgbm90aWZpZWRcbiAqIHZpYSBhbiBhYm9ydCBzaWduYWwgcGFzc2VkIGFzIGFuIGFyZ3VtZW50LlxuICpcbiAqIEBwYXJhbSB0YWcgQXN5bmMgZnVuY3Rpb25zIHdpdGggdGhlIHNhbWUgdGFnIHdpbGwgcnVuIHNlcmlhbGx5IGFuZCBhcmUgY2FuY2VsZWRcbiAqIHdoZW4gYSBuZXcgYWN0aW9uIHdpdGggdGhlIHNhbWUgdGFnIGlzIHNjaGVkdWxlZC5cbiAqIEBwYXJhbSBjYiBBc3luYyBmdW5jdGlvbiB0byBydW4uIFJlY2VpdmVzIEFib3J0U2lnbmFsIGFzIHRoZSBvbmx5IGFyZ3VtZW50LlxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYXN5bmMgZnVuY3Rpb25zIHJldHVybnMuIElmIHRoZSBmdW5jdGlvbiBkaWRuJ3RcbiAqIHN0YXJ0IGFuZCB3YXMgY2FuY2VsZWQsIHdpbGwgcmVzb2x2ZSB3aXRoICdjYW5jZWxlZCcuIElmIHRoZSBmdW5jdGlvbiBzdGFydGVkIHRvIHJ1bixcbiAqIGl0J3MgdXAgdG8gdGhlIGZ1bmN0aW9uIHRvIGRlY2lkZSBob3cgdG8gcmVhY3QgdG8gY2FuY2VsYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoQ2FuY2VsbGF0aW9uID0gY3JlYXRlUnVubmVyKHdyYXBXaXRoQ2FuY2VsbGF0aW9uKTtcblxuY29uc3QgcGVuZGluZ1Byb21pc2VzID0gbmV3IE1hcDxzdHJpbmcgfCBzeW1ib2wsIFBlbmRpbmdQcm9taXNlPigpO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFzUGVuZGluZyh0YWc6IHN0cmluZyB8IHN5bWJvbCkge1xuICByZXR1cm4gcGVuZGluZ1Byb21pc2VzLmhhcyh0YWcpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0dGxlZCh0YWc6IHN0cmluZyB8IHN5bWJvbCkge1xuICBhd2FpdCBwZW5kaW5nUHJvbWlzZXMuZ2V0KHRhZyk/LnByb21pc2U7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBjb21tb24gZnVuY3Rpb25hbGl0eSBvZiBydW5uaW5nIGFzeW5jIGZ1bmN0aW9ucyBzZXJpYWxseSwgYnkgY2hhaW5pbmdcbiAqIHRoZWlyIHByb21pc2VzIG9uZSBhZnRlciBhbm90aGVyLlxuICpcbiAqIEJlZm9yZSBydW5uaW5nLCBhc3luYyBmdW5jdGlvbiBpcyBcIndyYXBwZWRcIiB1c2luZyB0aGUgcHJvdmlkZWQgd3JhcHBlci4gVGhpcyB3cmFwcGVyXG4gKiBjYW4gYWRkIGFkZGl0aW9uYWwgc3RlcHMgdG8gcnVuIGJlZm9yZSBvciBhZnRlciB0aGUgZnVuY3Rpb24uXG4gKlxuICogV2hlbiBhc3luYyBmdW5jdGlvbiBpcyBzY2hlZHVsZWQgdG8gcnVuLCB0aGUgcHJldmlvdXMgZnVuY3Rpb24gaXMgbm90aWZpZWRcbiAqIGJ5IGNhbGxpbmcgdGhlIGFzc29jaWF0ZWQgb25Db250aW51ZWQgY2FsbGJhY2suIFRoaXMgYmVoYXZpb3Igb2YgdGhpcyBjYWxsYmFja1xuICogaXMgZGVmaW5lZCBieSB0aGUgd3JhcHBlci5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUnVubmVyPFAgZXh0ZW5kcyB1bmtub3duW10sIFQ+KHdyYXBwZXI6IEFzeW5jV3JhcHBlcjxQLCBUPikge1xuICByZXR1cm4gZnVuY3Rpb24gcnVuKHRhZzogc3RyaW5nIHwgc3ltYm9sLCBjYjogKC4uLmFyZ3M6IFApID0+IFByb21pc2U8VD4pIHtcbiAgICBjb25zdCB7IGNiOiB3cmFwcGVkLCBvbkNvbnRpbnVlZCB9ID0gd3JhcHBlcih0YWcsIGNiKTtcbiAgICBjb25zdCBwZW5kaW5nID0gcGVuZGluZ1Byb21pc2VzLmdldCh0YWcpO1xuICAgIHBlbmRpbmc/Lm9uQ29udGludWVkKCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IHBlbmRpbmdcbiAgICAgID8gcGVuZGluZy5wcm9taXNlLnRoZW4od3JhcHBlZCwgd3JhcHBlZClcbiAgICAgIDogd3JhcHBlZCgpO1xuICAgIHBlbmRpbmdQcm9taXNlcy5zZXQodGFnLCB7IHByb21pc2UsIG9uQ29udGludWVkIH0pO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9O1xufVxuXG4vKipcbiAqIFdyYXBzIGFuIGFzeW5jIGZ1bmN0aW9uIHdpdGggYW4gYWRkaXRpb25hbCBzdGVwIHJ1biBhZnRlciB0aGUgZnVuY3Rpb246XG4gKiBpZiB0aGUgZnVuY3Rpb24gaXMgdGhlIGxhc3QgaW4gdGhlIHF1ZXVlLCBpdCBjbGVhbnMgdXAgdGhlIHdob2xlIGNoYWluXG4gKiBvZiBwcm9taXNlcyBhZnRlciBmaW5pc2hpbmcuXG4gKi9cbmZ1bmN0aW9uIHdyYXBXaXRoQ29udGludWF0aW9uVHJhY2tpbmc8VD4oXG4gIHRhZzogc3RyaW5nIHwgc3ltYm9sLFxuICBjYjogKCkgPT4gUHJvbWlzZTxUPixcbikge1xuICBsZXQgaGFzQ29udGludWF0aW9uID0gZmFsc2U7XG4gIGNvbnN0IHdyYXBwZWQgPSAoKSA9PlxuICAgIGNiKCkuZmluYWxseSgoKSA9PiB7XG4gICAgICBpZiAoIWhhc0NvbnRpbnVhdGlvbikge1xuICAgICAgICBwZW5kaW5nUHJvbWlzZXMuZGVsZXRlKHRhZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIGNvbnN0IG9uQ29udGludWVkID0gKCkgPT4gKGhhc0NvbnRpbnVhdGlvbiA9IHRydWUpO1xuICByZXR1cm4geyBjYjogd3JhcHBlZCwgb25Db250aW51ZWQgfTtcbn1cblxuLyoqXG4gKiBXcmFwcyBhbiBhc3luYyBmdW5jdGlvbiB3aXRoIGFkZGl0aW9uYWwgZnVuY3Rpb25hbGlsdHk6XG4gKiAxLiBBc3NvY2lhdGVzIGFuIGFib3J0IHNpZ25hbCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uLCB0aGF0IGlzIHBhc3NlZCB0byBpdFxuICogICAgYXMgYW4gYXJndW1lbnQuIFdoZW4gYSBuZXcgZnVuY3Rpb24gaXMgc2NoZWR1bGVkIHRvIHJ1biBhZnRlciB0aGUgY3VycmVudFxuICogICAgb25lLCBjdXJyZW50IHNpZ25hbCBpcyBhYm9ydGVkLlxuICogMi4gSWYgY3VycmVudCBmdW5jdGlvbiBkaWRuJ3Qgc3RhcnQgYW5kIHdhcyBhYm9ydGVkLCBpbiB3aWxsIG5ldmVyIHN0YXJ0LlxuICogMy4gSWYgdGhlIGZ1bmN0aW9uIGlzIHRoZSBsYXN0IGluIHRoZSBxdWV1ZSwgaXQgY2xlYW5zIHVwIHRoZSB3aG9sZSBjaGFpblxuICogICAgb2YgcHJvbWlzZXMgYWZ0ZXIgZmluaXNoaW5nLlxuICovXG5mdW5jdGlvbiB3cmFwV2l0aENhbmNlbGxhdGlvbjxUPihcbiAgdGFnOiBzdHJpbmcgfCBzeW1ib2wsXG4gIGNiOiAoc2lnbmFsOiBBYm9ydFNpZ25hbCkgPT4gUHJvbWlzZTxUIHwgJ2NhbmNlbGVkJz4sXG4pIHtcbiAgY29uc3QgYWMgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnN0IHdyYXBwZWQgPSAoKSA9PiB7XG4gICAgaWYgKGFjLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCdjYW5jZWxlZCcgYXMgY29uc3QpO1xuICAgIH1cblxuICAgIHJldHVybiBjYihhYy5zaWduYWwpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgaWYgKCFhYy5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICBwZW5kaW5nUHJvbWlzZXMuZGVsZXRlKHRhZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uQ29udGludWVkID0gKCkgPT4gYWMuYWJvcnQoKTtcbiAgcmV0dXJuIHsgY2I6IHdyYXBwZWQsIG9uQ29udGludWVkIH07XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxudHlwZSBGdW5jdGlvblBhdGNoPFQ+ID0gKGN1cnJlbnRWYWx1ZTogVCkgPT4gVDtcblxuLyoqXG4gKiBBIHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gKi9cbmV4cG9ydCB0eXBlIFBhdGNoPFQ+ID0gVCB8IEZ1bmN0aW9uUGF0Y2g8VD47XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCB1cGRhdGUgaXMgYSBmdW5jdGlvbiBwYXRjaC5cbiAqXG4gKiBAcGFyYW0gdXBkYXRlIHRoZSB2YWx1ZSB0byBjaGVjay5cbiAqL1xuY29uc3QgaXNGdW5jdGlvblBhdGNoID0gPFQ+KHVwZGF0ZTogUGF0Y2g8VD4pOiB1cGRhdGUgaXMgRnVuY3Rpb25QYXRjaDxUPiA9PlxuICB0eXBlb2YgdXBkYXRlID09PSAnZnVuY3Rpb24nO1xuXG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYW4gb2JzZXJ2YWJsZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBvYnNlcnZhYmxlIGhhc1xuICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gKlxuICogQHBhcmFtIG9ic2VydmFibGUkIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgdmFsdWUgZnJvbS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRWYWx1ZSA9IDxUPihvYnNlcnZhYmxlJDogT2JzZXJ2YWJsZTxUPikgPT4ge1xuICBsZXQgdmFsdWUhOiBUO1xuICBsZXQgZXJyOiBFcnJvciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgY29tYmluZUxhdGVzdChbb2JzZXJ2YWJsZSRdKVxuICAgIC5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogKFt2XSkgPT4ge1xuICAgICAgICB2YWx1ZSA9IHY7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IChlKSA9PiB7XG4gICAgICAgIGVyciA9IGU7XG4gICAgICB9LFxuICAgIH0pXG4gICAgLnVuc3Vic2NyaWJlKCk7XG5cbiAgaWYgKGVycikgdGhyb3cgZXJyO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBTdWJqZWN0LlxuICogQW4gYHVwZGF0ZWAgY2FuIGVpdGhlciBiZSBhIG5ldyB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzXG4gKiB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc3ViamVjdCB0aGUgc3ViamVjdCB0byB1cGRhdGUuXG4gKiBAcGFyYW0gdXBkYXRlIHRoZSB1cGRhdGUgdG8gYXBwbHkgdG8gdGhlIHN1YmplY3QuXG4gKiBAcmV0dXJuIHRoZSB1cGRhdGVkIHZhbHVlLlxuICovXG5leHBvcnQgY29uc3Qgc2V0Q3VycmVudFZhbHVlID0gPFQ+KHN1YmplY3Q6IFN1YmplY3Q8VD4sIHVwZGF0ZTogUGF0Y2g8VD4pID0+IHtcbiAgY29uc3QgbmV4dCA9IGlzRnVuY3Rpb25QYXRjaCh1cGRhdGUpXG4gICAgPyB1cGRhdGUoZ2V0Q3VycmVudFZhbHVlKHN1YmplY3QpKVxuICAgIDogdXBkYXRlO1xuXG4gIHN1YmplY3QubmV4dChuZXh0KTtcbiAgcmV0dXJuIG5leHQ7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBTdWJqZWN0IGFuZCByZXR1cm5zIHRoZSBwcmV2aW91cyB2YWx1ZVxuICogYW5kIGEgZnVuY3Rpb24gdG8gcm9sbCBiYWNrIHRoZSB1cGRhdGUuXG4gKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIG9wdGltaXN0aWNhbGx5IHVwZGF0ZSBhIHZhbHVlXG4gKiBhbmQgcm9sbCBiYWNrIHRoZSB1cGRhdGUgaWYgYW4gZXJyb3Igb2NjdXJzLlxuICpcbiAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVZhbHVlID0gPFQ+KFxuICBzdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8VD4sXG4gIHVwZGF0ZTogUGF0Y2g8VD4sXG4pID0+IHtcbiAgY29uc3QgbGFzdFZhbHVlID0gc3ViamVjdC5nZXRWYWx1ZSgpO1xuICBjb25zdCB2YWx1ZSA9IHNldEN1cnJlbnRWYWx1ZShzdWJqZWN0LCB1cGRhdGUpO1xuICByZXR1cm4ge1xuICAgIGxhc3RWYWx1ZSxcbiAgICB2YWx1ZSxcbiAgICByb2xsYmFjazogKCkgPT4gc2V0Q3VycmVudFZhbHVlKHN1YmplY3QsIGxhc3RWYWx1ZSksXG4gIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdWJzY3JpcHRpb24gYW5kIHJldHVybnMgYSBmdW5jdGlvbiB0byB1bnN1YnNjcmliZS5cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSB0aGUgb2JzZXJ2YWJsZSB0byBzdWJzY3JpYmUgdG8uXG4gKiBAcGFyYW0gaGFuZGxlciB0aGUgaGFuZGxlciB0byBjYWxsIHdoZW4gdGhlIG9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZS5cbiAqIEBwYXJhbSBvbkVycm9yIGFuIG9wdGlvbmFsIGVycm9yIGhhbmRsZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTdWJzY3JpcHRpb24gPSA8VD4oXG4gIG9ic2VydmFibGU6IE9ic2VydmFibGU8VD4sXG4gIGhhbmRsZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCxcbiAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHZvaWQgPSAoZXJyb3IpID0+XG4gICAgZ2V0TG9nZ2VyKFsnUnhVdGlscyddKSgnd2FybicsICdBbiBvYnNlcnZhYmxlIGVtaXR0ZWQgYW4gZXJyb3InLCBlcnJvciksXG4pID0+IHtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gb2JzZXJ2YWJsZS5zdWJzY3JpYmUoeyBuZXh0OiBoYW5kbGVyLCBlcnJvcjogb25FcnJvciB9KTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN1YnNjcmlwdGlvbiBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlLiBNYWtlcyBzdXJlIHRoYXRcbiAqIG9ubHkgb25lIGFzeW5jIGhhbmRsZXIgcnVucyBhdCB0aGUgc2FtZSB0aW1lLiBJZiB1cGRhdGVzIGNvbWUgaW4gcXVpY2tlciB0aGFuXG4gKiBpdCB0YWtlcyBmb3IgdGhlIGN1cnJlbnQgaGFuZGxlciB0byBmaW5pc2gsIG90aGVyIGhhbmRsZXJzIHdpbGwgd2FpdC5cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSB0aGUgb2JzZXJ2YWJsZSB0byBzdWJzY3JpYmUgdG8uXG4gKiBAcGFyYW0gaGFuZGxlciB0aGUgYXN5bmMgaGFuZGxlciB0byBjYWxsIHdoZW4gdGhlIG9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbiA9IDxUPihcbiAgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxUPixcbiAgaGFuZGxlcjogKHZhbHVlOiBUKSA9PiBQcm9taXNlPHZvaWQ+LFxuKSA9PiB7XG4gIGNvbnN0IHRhZyA9IFN5bWJvbCgpO1xuICByZXR1cm4gY3JlYXRlU3Vic2NyaXB0aW9uKG9ic2VydmFibGUsICh2YWx1ZSkgPT4ge1xuICAgIHdpdGhvdXRDb25jdXJyZW5jeSh0YWcsICgpID0+IGhhbmRsZXIodmFsdWUpKTtcbiAgfSk7XG59O1xuIiwiLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICovXG5leHBvcnQgZW51bSBDYWxsaW5nU3RhdGUge1xuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gYW4gdW5rbm93biBzdGF0ZS5cbiAgICovXG4gIFVOS05PV04gPSAndW5rbm93bicsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIGFuIGlkbGUgc3RhdGUuXG4gICAqL1xuICBJRExFID0gJ2lkbGUnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiByaW5naW5nLlxuICAgKiAoVXNlciBoYXNuJ3QgYWNjZXB0ZWQgbm9yIHJlamVjdGVkIHRoZSBjYWxsIHlldC4pXG4gICAqL1xuICBSSU5HSU5HID0gJ3JpbmdpbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiBqb2luaW5nLlxuICAgKi9cbiAgSk9JTklORyA9ICdqb2luaW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICovXG4gIEpPSU5FRCA9ICdqb2luZWQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBoYXMgYmVlbiBsZWZ0LlxuICAgKi9cbiAgTEVGVCA9ICdsZWZ0JyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgcmVjb25uZWN0aW5nLlxuICAgKi9cbiAgUkVDT05ORUNUSU5HID0gJ3JlY29ubmVjdGluZycsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIG1pZ3JhdGluZyBmcm9tIG9uZSBub2RlIHRvIGFub3RoZXIuXG4gICAqL1xuICBNSUdSQVRJTkcgPSAnbWlncmF0aW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaGFzIGZhaWxlZCB0byByZWNvbm5lY3QuXG4gICAqL1xuICBSRUNPTk5FQ1RJTkdfRkFJTEVEID0gJ3JlY29ubmVjdGluZy1mYWlsZWQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiBvZmZsaW5lIG1vZGUuXG4gICAqL1xuICBPRkZMSU5FID0gJ29mZmxpbmUnLFxufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgdHlwZSB7IFBhdGNoIH0gZnJvbSAnLi9yeFV0aWxzJztcbmltcG9ydCAqIGFzIFJ4VXRpbHMgZnJvbSAnLi9yeFV0aWxzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4vQ2FsbGluZ1N0YXRlJztcbmltcG9ydCB0eXBlIHsgT3duVXNlclJlc3BvbnNlIH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUge1xuICAvKipcbiAgICogQSBzdG9yZSBrZWVwaW5nIGRhdGEgb2YgYSBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHVzZXIgb3ZlciBXUyB0byB0aGUgY29vcmRpbmF0b3Igc2VydmVyLlxuICAgKi9cbiAgY29ubmVjdGVkVXNlclN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKi9cbiAgY2FsbHNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsW10+KFtdKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbm5lY3RlZFVzZXJTdWJqZWN0LnN1YnNjcmliZShhc3luYyAodXNlcikgPT4ge1xuICAgICAgLy8gbGVhdmUgYWxsIGNhbGxzIHdoZW4gdGhlIHVzZXIgZGlzY29ubmVjdHMuXG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY2xpZW50LXN0YXRlJ10pO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdGhpcy5jYWxscykge1xuICAgICAgICAgIGlmIChjYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgbG9nZ2VyKCdpbmZvJywgYFVzZXIgZGlzY29ubmVjdGVkLCBsZWF2aW5nIGNhbGw6ICR7Y2FsbC5jaWR9YCk7XG4gICAgICAgICAgYXdhaXQgY2FsbFxuICAgICAgICAgICAgLmxlYXZlKHsgcmVhc29uOiAnY2xpZW50LmRpc2Nvbm5lY3RVc2VyKCkgY2FsbGVkJyB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsIGBFcnJvciBsZWF2aW5nIGNhbGw6ICR7Y2FsbC5jaWR9YCwgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgdXNlci5cbiAgICovXG4gIGdldCBjb25uZWN0ZWRVc2VyKCk6IE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY29ubmVjdGVkVXNlclN1YmplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgdXNlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB1c2VyIHRoZSB1c2VyIHRvIHNldCBhcyBjb25uZWN0ZWQuXG4gICAqL1xuICBzZXRDb25uZWN0ZWRVc2VyID0gKHVzZXI6IFBhdGNoPE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5jb25uZWN0ZWRVc2VyU3ViamVjdCwgdXNlcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBnZXQgY2FsbHMoKTogQ2FsbFtdIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsc1N1YmplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKiBAcGFyYW0gY2FsbHNcbiAgICovXG4gIHNldENhbGxzID0gKGNhbGxzOiBQYXRjaDxDYWxsW10+KSA9PiB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbHNTdWJqZWN0LCBjYWxscyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB7QGxpbmsgQ2FsbH0gb2JqZWN0IHRvIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gYWRkLlxuICAgKi9cbiAgcmVnaXN0ZXJDYWxsID0gKGNhbGw6IENhbGwpID0+IHtcbiAgICBpZiAoIXRoaXMuY2FsbHMuZmluZCgoYykgPT4gYy5jaWQgPT09IGNhbGwuY2lkKSkge1xuICAgICAgdGhpcy5zZXRDYWxscygoY2FsbHMpID0+IFsuLi5jYWxscywgY2FsbF0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHtAbGluayBDYWxsfSBvYmplY3QgZnJvbSB0aGUgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHRvIHJlbW92ZVxuICAgKi9cbiAgdW5yZWdpc3RlckNhbGwgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldENhbGxzKChjYWxscykgPT4gY2FsbHMuZmlsdGVyKChjKSA9PiBjICE9PSBjYWxsKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZpbmRzIGEge0BsaW5rIENhbGx9IG9iamVjdCBpbiB0aGUgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIGNhbGwgdG8gZmluZC5cbiAgICogQHBhcmFtIGlkIHRoZSBpZCBvZiB0aGUgY2FsbCB0byBmaW5kLlxuICAgKi9cbiAgZmluZENhbGwgPSAodHlwZTogc3RyaW5nLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbHMuZmluZCgoYykgPT4gYy50eXBlID09PSB0eXBlICYmIGMuaWQgPT09IGlkKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBBIHJlYWN0aXZlIHN0b3JlIHRoYXQgZXhwb3NlcyBzdGF0ZSB2YXJpYWJsZXMgaW4gYSByZWFjdGl2ZSBtYW5uZXIuXG4gKiBZb3UgY2FuIHN1YnNjcmliZSB0byBjaGFuZ2VzIG9mIHRoZSBkaWZmZXJlbnQgc3RhdGUgdmFyaWFibGVzLlxuICogVGhpcyBjZW50cmFsIHN0b3JlIGNvbnRhaW5zIGFsbCB0aGUgc3RhdGUgdmFyaWFibGVzIHJlbGF0ZWQgdG8gW2BTdHJlYW1WaWRlb0NsaWVudGBdKC4vU3RyZWFtVmlkZUNsaWVudC5tZCkgYW5kIFtgQ2FsbGBdKC4vQ2FsbC5tZCkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1WaWRlb1JlYWRPbmx5U3RhdGVTdG9yZSB7XG4gIC8qKlxuICAgKiBEYXRhIGRlc2NyaWJpbmcgYSB1c2VyIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgb3ZlciBXUyB0byBjb29yZGluYXRvciBzZXJ2ZXIuXG4gICAqL1xuICBjb25uZWN0ZWRVc2VyJDogT2JzZXJ2YWJsZTxPd25Vc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKi9cbiAgY2FsbHMkOiBPYnNlcnZhYmxlPENhbGxbXT47XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGFsbG93cyB5b3UgdGhlIGdldCB0aGUgY3VycmVudCB2YWx1ZSBvZiBhIHN0YXRlIHZhcmlhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0gb2JzZXJ2YWJsZSB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIGN1cnJlbnQgdmFsdWUgb2YuXG4gICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBvYnNlcnZhYmxlLlxuICAgKi9cbiAgZ2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5nZXRDdXJyZW50VmFsdWU7XG5cbiAgY29uc3RydWN0b3Ioc3RvcmU6IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSkge1xuICAgIC8vIGNvbnZlcnQgYW5kIGV4cG9zZSBzdWJqZWN0cyBhcyBvYnNlcnZhYmxlc1xuICAgIHRoaXMuY29ubmVjdGVkVXNlciQgPSBzdG9yZS5jb25uZWN0ZWRVc2VyU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmNhbGxzJCA9IHN0b3JlLmNhbGxzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCB1c2VyIGNvbm5lY3RlZCBvdmVyIFdTIHRvIHRoZSBiYWNrZW5kLlxuICAgKi9cbiAgZ2V0IGNvbm5lY3RlZFVzZXIoKTogT3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5jb25uZWN0ZWRVc2VyJCk7XG4gIH1cblxuICAvKipcbiAgICogQSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICovXG4gIGdldCBjYWxscygpOiBDYWxsW10ge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxzJCk7XG4gIH1cbn1cbiIsIi8qKlxuICogRGVmaW5lcyBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHNvcnRpbmcgaXRlbXMuXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBhcmF0b3I8VD4gPSAoYTogVCwgYjogVCkgPT4gLTEgfCAwIHwgMTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGNvbWJpbmVkIHtAbGluayBDb21wYXJhdG9yPFQ+fSB3aGljaCBzb3J0cyBpdGVtcyBieSB0aGUgZ2l2ZW4gY29tcGFyYXRvcnMuXG4gKiBUaGUgY29tcGFyYXRvcnMgYXJlIGFwcGxpZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIGdpdmVuIChsZWZ0IC0+IHJpZ2h0KS5cbiAqXG4gKiBAcGFyYW0gY29tcGFyYXRvcnMgdGhlIGNvbXBhcmF0b3JzIHRvIHVzZSBmb3Igc29ydGluZy5cbiAqIEByZXR1cm5zIGEgY29tYmluZWQge0BsaW5rIENvbXBhcmF0b3I8VD59LlxuICovXG5leHBvcnQgY29uc3QgY29tYmluZUNvbXBhcmF0b3JzID0gPFQ+KFxuICAuLi5jb21wYXJhdG9yczogQ29tcGFyYXRvcjxUPltdXG4pOiBDb21wYXJhdG9yPFQ+ID0+IHtcbiAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgZm9yIChjb25zdCBjb21wYXJhdG9yIG9mIGNvbXBhcmF0b3JzKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBjb21wYXJhdG9yKGEsIGIpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gMCkgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgY29tcGFyYXRvciB3aGljaCBzb3J0cyBpdGVtcyBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBieVZhbHVlID0gKGEsIGIpID0+IGEgPCBiID8gLSAxIDogYSA+IGIgPyAxIDogMDtcbiAqIGNvbnN0IGJ5VmFsdWVEZXNjID0gZGVzY2VuZGluZyhieVZhbHVlKTtcbiAqXG4gKiBAcGFyYW0gY29tcGFyYXRvciB0aGUgY29tcGFyYXRvciB0byB3cmFwLlxuICovXG5leHBvcnQgY29uc3QgZGVzY2VuZGluZyA9IDxUPihjb21wYXJhdG9yOiBDb21wYXJhdG9yPFQ+KTogQ29tcGFyYXRvcjxUPiA9PiB7XG4gIHJldHVybiAoYSwgYikgPT4gY29tcGFyYXRvcihiLCBhKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb21wYXJhdG9yIHdoaWNoIGNvbmRpdGlvbmFsbHkgYXBwbGllcyB0aGUgZ2l2ZW4gY29tcGFyYXRvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc2hvdWxkU29ydEJ5VmFsdWUgPSAoYSwgYikgPT4gYSAlIDIgPT09IDA7IC8vIHJldHVybiBmYWxzZSB0byB0dXJuIGl0IG9mZlxuICogY29uc3QgYnlWYWx1ZSA9IChhLCBiKSA9PiBhIDwgYiA/IC0gMSA6IGEgPiBiID8gMSA6IDA7XG4gKiBjb25zdCBjb21wYXJhdG9yID0gY29uZGl0aW9uYWwoc2hvdWxkU29ydEJ5VmFsdWUpKGJ5VmFsdWUpO1xuICpcbiAqIEBwYXJhbSBwcmVkaWNhdGUgdGhlIHByZWRpY2F0ZSB0byB1c2UgZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdG8gYXBwbHkgdGhlIGNvbXBhcmF0b3IuXG4gKi9cbmV4cG9ydCBjb25zdCBjb25kaXRpb25hbCA9IDxUPihwcmVkaWNhdGU6IChhOiBULCBiOiBUKSA9PiBib29sZWFuKSA9PiB7XG4gIHJldHVybiAoY29tcGFyYXRvcjogQ29tcGFyYXRvcjxUPik6IENvbXBhcmF0b3I8VD4gPT4ge1xuICAgIHJldHVybiAoYSwgYikgPT4ge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYSwgYikpIHJldHVybiAwO1xuICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYSwgYik7XG4gICAgfTtcbiAgfTtcbn07XG5cbi8qKlxuICogQSBuby1vcCBjb21wYXJhdG9yIHdoaWNoIGFsd2F5cyByZXR1cm5zIDAuXG4gKi9cbmV4cG9ydCBjb25zdCBub29wQ29tcGFyYXRvciA9IDxUPigpOiBDb21wYXJhdG9yPFQ+ID0+IHtcbiAgcmV0dXJuICgpID0+IDA7XG59O1xuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwYXJ0aWNpcGFudCBoYXMgYSB2aWRlby5cbiAqXG4gKiBAcGFyYW0gcCB0aGUgcGFydGljaXBhbnQgdG8gY2hlY2suXG4gKi9cbmV4cG9ydCBjb25zdCBoYXNWaWRlbyA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICBwLnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyhUcmFja1R5cGUuVklERU8pO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgcGFydGljaXBhbnQgaGFzIGF1ZGlvLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc0F1ZGlvID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5BVURJTyk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwYXJ0aWNpcGFudCBpcyBzY3JlZW4gc2hhcmluZy5cbiAqXG4gKiBAcGFyYW0gcCB0aGUgcGFydGljaXBhbnQgdG8gY2hlY2suXG4gKi9cbmV4cG9ydCBjb25zdCBoYXNTY3JlZW5TaGFyZSA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICBwLnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyhUcmFja1R5cGUuU0NSRUVOX1NIQVJFKTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGlzIHNjcmVlbiBzaGFyaW5nIGF1ZGlvLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1NjcmVlblNoYXJlQXVkaW8gPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCk6IGJvb2xlYW4gPT5cbiAgcC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXMoVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZC5cbiAqXG4gKiBAcGFyYW0gcCB0aGUgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1Bpbm5lZCA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICAhIXAucGluICYmIChwLnBpbi5pc0xvY2FsUGluIHx8IHAucGluLnBpbm5lZEF0ID4gMCk7XG4iLCJpbXBvcnQgeyBDb21wYXJhdG9yIH0gZnJvbSAnLi8nO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7XG4gIGhhc0F1ZGlvLFxuICBoYXNTY3JlZW5TaGFyZSxcbiAgaGFzVmlkZW8sXG59IGZyb20gJy4uL2hlbHBlcnMvcGFydGljaXBhbnRVdGlscyc7XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB0aGUgZmFjdCB0aGF0IHRoZXkgYXJlIHRoZSBkb21pbmFudCBzcGVha2VyIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3QgZG9taW5hbnRTcGVha2VyOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGEuaXNEb21pbmFudFNwZWFrZXIgJiYgIWIuaXNEb21pbmFudFNwZWFrZXIpIHJldHVybiAtMTtcbiAgaWYgKCFhLmlzRG9taW5hbnRTcGVha2VyICYmIGIuaXNEb21pbmFudFNwZWFrZXIpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB0aGUgZmFjdCB0aGF0IHRoZXkgYXJlIHNwZWFraW5nIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3Qgc3BlYWtpbmc6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5pc1NwZWFraW5nICYmICFiLmlzU3BlYWtpbmcpIHJldHVybiAtMTtcbiAgaWYgKCFhLmlzU3BlYWtpbmcgJiYgYi5pc1NwZWFraW5nKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBzb3J0cyBwYXJ0aWNpcGFudHMgYnkgc2NyZWVuIHNoYXJpbmcgc3RhdHVzLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzY3JlZW5TaGFyaW5nOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGhhc1NjcmVlblNoYXJlKGEpICYmICFoYXNTY3JlZW5TaGFyZShiKSkgcmV0dXJuIC0xO1xuICBpZiAoIWhhc1NjcmVlblNoYXJlKGEpICYmIGhhc1NjcmVlblNoYXJlKGIpKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBzb3J0cyBwYXJ0aWNpcGFudHMgYnkgdmlkZW8gc3RhdHVzLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBwdWJsaXNoaW5nVmlkZW86IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoaGFzVmlkZW8oYSkgJiYgIWhhc1ZpZGVvKGIpKSByZXR1cm4gLTE7XG4gIGlmICghaGFzVmlkZW8oYSkgJiYgaGFzVmlkZW8oYikpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBhdWRpbyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHB1Ymxpc2hpbmdBdWRpbzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChoYXNBdWRpbyhhKSAmJiAhaGFzQXVkaW8oYikpIHJldHVybiAtMTtcbiAgaWYgKCFoYXNBdWRpbyhhKSAmJiBoYXNBdWRpbyhiKSkgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggcHJpb3JpdGl6ZXMgcGFydGljaXBhbnRzIHdobyBhcmUgcGlubmVkLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBwaW5uZWQ6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5waW4gJiYgYi5waW4pIHtcbiAgICBpZiAoIWEucGluLmlzTG9jYWxQaW4gJiYgYi5waW4uaXNMb2NhbFBpbikgcmV0dXJuIC0xO1xuICAgIGlmIChhLnBpbi5pc0xvY2FsUGluICYmICFiLnBpbi5pc0xvY2FsUGluKSByZXR1cm4gMTtcbiAgICBpZiAoYS5waW4ucGlubmVkQXQgPiBiLnBpbi5waW5uZWRBdCkgcmV0dXJuIC0xO1xuICAgIGlmIChhLnBpbi5waW5uZWRBdCA8IGIucGluLnBpbm5lZEF0KSByZXR1cm4gMTtcbiAgfVxuXG4gIGlmIChhLnBpbiAmJiAhYi5waW4pIHJldHVybiAtMTtcbiAgaWYgKCFhLnBpbiAmJiBiLnBpbikgcmV0dXJuIDE7XG5cbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciBjcmVhdG9yIHdoaWNoIHdpbGwgc2V0IHVwIGEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplc1xuICogcGFydGljaXBhbnRzIHdobyBoYXZlIGEgc3BlY2lmaWMgcmVhY3Rpb24uXG4gKlxuICogQHBhcmFtIHR5cGUgdGhlIHJlYWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBjb25zdCByZWFjdGlvblR5cGUgPSAoXG4gIHR5cGU6IHN0cmluZyxcbik6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPT4ge1xuICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5yZWFjdGlvbj8udHlwZSA9PT0gdHlwZSAmJiBiLnJlYWN0aW9uPy50eXBlICE9PSB0eXBlKSByZXR1cm4gLTE7XG4gICAgaWYgKGEucmVhY3Rpb24/LnR5cGUgIT09IHR5cGUgJiYgYi5yZWFjdGlvbj8udHlwZSA9PT0gdHlwZSkgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG4gIH07XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciBjcmVhdG9yIHdoaWNoIHdpbGwgc2V0IHVwIGEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplc1xuICogcGFydGljaXBhbnRzIHdobyBoYXZlIGEgc3BlY2lmaWMgcm9sZS5cbiAqXG4gKiBAcGFyYW0gcm9sZXMgdGhlIHJvbGVzIHRvIHByaW9yaXRpemUuXG4gKi9cbmV4cG9ydCBjb25zdCByb2xlID1cbiAgKC4uLnJvbGVzOiBzdHJpbmdbXSk6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPT5cbiAgKGEsIGIpID0+IHtcbiAgICBpZiAoaGFzQW55Um9sZShhLCByb2xlcykgJiYgIWhhc0FueVJvbGUoYiwgcm9sZXMpKSByZXR1cm4gLTE7XG4gICAgaWYgKCFoYXNBbnlSb2xlKGEsIHJvbGVzKSAmJiBoYXNBbnlSb2xlKGIsIHJvbGVzKSkgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBuYW1lOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGEubmFtZSA8IGIubmFtZSkgcmV0dXJuIC0xO1xuICBpZiAoYS5uYW1lID4gYi5uYW1lKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBoYXNBbnlSb2xlID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIHJvbGVzOiBzdHJpbmdbXSkgPT5cbiAgKHAucm9sZXMgfHwgW10pLnNvbWUoKHIpID0+IHJvbGVzLmluY2x1ZGVzKHIpKTtcbiIsImltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIFZpc2liaWxpdHlTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGNvbWJpbmVDb21wYXJhdG9ycywgY29uZGl0aW9uYWwgfSBmcm9tICcuL2NvbXBhcmF0b3InO1xuaW1wb3J0IHtcbiAgZG9taW5hbnRTcGVha2VyLFxuICBwaW5uZWQsXG4gIHB1Ymxpc2hpbmdBdWRpbyxcbiAgcHVibGlzaGluZ1ZpZGVvLFxuICByZWFjdGlvblR5cGUsXG4gIHJvbGUsXG4gIHNjcmVlblNoYXJpbmcsXG4gIHNwZWFraW5nLFxufSBmcm9tICcuL3BhcnRpY2lwYW50cyc7XG5cbi8vIGEgY29tcGFyYXRvciBkZWNvcmF0b3Igd2hpY2ggYXBwbGllcyB0aGUgZGVjb3JhdGVkIGNvbXBhcmF0b3Igb25seSBpZiB0aGVcbi8vIHBhcnRpY2lwYW50IGlzIGludmlzaWJsZS5cbi8vIFRoaXMgZW5zdXJlcyBzdGFibGUgc29ydGluZyB3aGVuIGFsbCBwYXJ0aWNpcGFudHMgYXJlIHZpc2libGUuXG5jb25zdCBpZkludmlzaWJsZUJ5ID0gY29uZGl0aW9uYWwoXG4gIChhOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LCBiOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KSA9PlxuICAgIGEudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEUgfHxcbiAgICBiLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFLFxuKTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3IgdGhhdCBhcHBsaWVzIHRoZSBkZWNvcmF0ZWQgY29tcGFyYXRvciB3aGVuIGEgcGFydGljaXBhbnQgaXNcbiAqIGVpdGhlciBpbnZpc2libGUgb3IgaXRzIHZpc2liaWxpdHkgc3RhdGUgaXNuJ3Qga25vd24uXG4gKiBGb3IgdmlzaWJsZSBwYXJ0aWNpcGFudHMsIGl0IGVuc3VyZXMgc3RhYmxlIHNvcnRpbmcuXG4gKi9cbmNvbnN0IGlmSW52aXNpYmxlT3JVbmtub3duQnkgPSBjb25kaXRpb25hbChcbiAgKGE6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIGI6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpID0+XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGEudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOIHx8XG4gICAgYi52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGIudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuKTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBzb3J0aW5nIHByZXNldC5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIHNjcmVlblNoYXJpbmcsXG4gIGlmSW52aXNpYmxlQnkoXG4gICAgY29tYmluZUNvbXBhcmF0b3JzKFxuICAgICAgZG9taW5hbnRTcGVha2VyLFxuICAgICAgc3BlYWtpbmcsXG4gICAgICByZWFjdGlvblR5cGUoJ3JhaXNlZC1oYW5kJyksXG4gICAgICBwdWJsaXNoaW5nVmlkZW8sXG4gICAgICBwdWJsaXNoaW5nQXVkaW8sXG4gICAgKSxcbiAgKSxcbiAgLy8gaWZJbnZpc2libGVCeShuYW1lKSxcbik7XG5cbi8qKlxuICogVGhlIHNvcnRpbmcgcHJlc2V0IGZvciBzcGVha2VyIGxheW91dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIHNjcmVlblNoYXJpbmcsXG4gIGRvbWluYW50U3BlYWtlcixcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICAvLyBpZkludmlzaWJsZUJ5KG5hbWUpLFxuKTtcblxuLyoqXG4gKiBUaGUgc29ydGluZyBwcmVzZXQgZm9yIGxheW91dHMgdGhhdCBkb24ndCByZW5kZXIgYWxsIHBhcnRpY2lwYW50cyBidXRcbiAqIGluc3RlYWQsIHJlbmRlciB0aGVtIGluIHBhZ2VzLlxuICovXG5leHBvcnQgY29uc3QgcGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCA9IGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgcGlubmVkLFxuICBpZkludmlzaWJsZU9yVW5rbm93bkJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIGRvbWluYW50U3BlYWtlcixcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIC8vIGlmSW52aXNpYmxlT3JVbmtub3duQnkobmFtZSksXG4pO1xuXG4vKipcbiAqIFRoZSBzb3J0aW5nIHByZXNldCBmb3IgbGl2ZXN0cmVhbXMgYW5kIGF1ZGlvIHJvb21zLlxuICovXG5leHBvcnQgY29uc3QgbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCA9IGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBkb21pbmFudFNwZWFrZXIsXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICByb2xlKCdhZG1pbicsICdob3N0JywgJ3NwZWFrZXInKSxcbiAgLy8gbmFtZSxcbik7XG4iLCJpbXBvcnQge1xuICBCZWhhdmlvclN1YmplY3QsXG4gIGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuICBtYXAsXG4gIE9ic2VydmFibGUsXG4gIHNoYXJlUmVwbGF5LFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHsgUGF0Y2ggfSBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0ICogYXMgUnhVdGlscyBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi9DYWxsaW5nU3RhdGUnO1xuaW1wb3J0IHtcbiAgdHlwZSBDbG9zZWRDYXB0aW9uc1NldHRpbmdzLFxuICB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gIHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoLFxuICB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzLFxuICB0eXBlIFN1YnNjcmlwdGlvbkNoYW5nZXMsXG4gIFZpZGVvVHJhY2tUeXBlLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0c1JlcG9ydCB9IGZyb20gJy4uL3N0YXRzJztcbmltcG9ydCB7XG4gIEJsb2NrZWRVc2VyRXZlbnQsXG4gIENhbGxDbG9zZWRDYXB0aW9uLFxuICBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50LFxuICBDYWxsSW5ncmVzc1Jlc3BvbnNlLFxuICBDYWxsTWVtYmVyQWRkZWRFdmVudCxcbiAgQ2FsbE1lbWJlclJlbW92ZWRFdmVudCxcbiAgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudCxcbiAgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnQsXG4gIENhbGxSZWFjdGlvbkV2ZW50LFxuICBDYWxsUmVzcG9uc2UsXG4gIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQsXG4gIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudCxcbiAgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudCxcbiAgQ2FsbFNlc3Npb25SZXNwb25zZSxcbiAgQ2FsbFNldHRpbmdzUmVzcG9uc2UsXG4gIENsb3NlZENhcHRpb25FdmVudCxcbiAgRWdyZXNzUmVzcG9uc2UsXG4gIE1lbWJlclJlc3BvbnNlLFxuICBPd25DYXBhYmlsaXR5LFxuICBUaHVtYm5haWxSZXNwb25zZSxcbiAgVW5ibG9ja2VkVXNlckV2ZW50LFxuICBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnQsXG4gIFVzZXJSZXNwb25zZSxcbiAgV1NFdmVudCxcbn0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gJy4uL2dlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wJztcbmltcG9ydCB7IFJlY29ubmVjdERldGFpbHMgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBDYWxsU3RhdGUgYXMgU2Z1Q2FsbFN0YXRlLFxuICBQaW4sXG4gIFRyYWNrVHlwZSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENvbXBhcmF0b3IsIGRlZmF1bHRTb3J0UHJlc2V0IH0gZnJvbSAnLi4vc29ydGluZyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgaGFzU2NyZWVuU2hhcmUgfSBmcm9tICcuLi9oZWxwZXJzL3BhcnRpY2lwYW50VXRpbHMnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgZWdyZXNzIG9iamVjdCAtIHdoZW4gbm8gZWdyZXNzIGRhdGEgaXMgYXZhaWxhYmxlLlxuICovXG5jb25zdCBkZWZhdWx0RWdyZXNzOiBFZ3Jlc3NSZXNwb25zZSA9IHtcbiAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgaGxzOiB7IHBsYXlsaXN0X3VybDogJycgfSxcbiAgcnRtcHM6IFtdLFxufTtcblxudHlwZSBPcnBoYW5lZFRyYWNrID0ge1xuICBpZDogc3RyaW5nO1xuICB0cmFja0xvb2t1cFByZWZpeDogc3RyaW5nO1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgdHJhY2s6IE1lZGlhU3RyZWFtO1xufTtcblxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqIEByZWFjdCBZb3UgZG9uJ3QgaGF2ZSB0byB1c2UgdGhpcyBjbGFzcyBkaXJlY3RseSwgYXMgd2UgYXJlIGV4cG9zaW5nIHRoZSBzdGF0ZSB0aHJvdWdoIEhvb2tzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbFN0YXRlIHtcbiAgcHJpdmF0ZSBiYWNrc3RhZ2VTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPih0cnVlKTtcbiAgcHJpdmF0ZSBibG9ja2VkVXNlcklkc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZ1tdPihbXSk7XG4gIHByaXZhdGUgY3JlYXRlZEF0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RGF0ZT4obmV3IERhdGUoKSk7XG4gIHByaXZhdGUgZW5kZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgc3RhcnRzQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIHVwZGF0ZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGU+KG5ldyBEYXRlKCkpO1xuICBwcml2YXRlIGNyZWF0ZWRCeVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGN1c3RvbVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlY29yZDxzdHJpbmcsIGFueT4+KHt9KTtcbiAgcHJpdmF0ZSBlZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxFZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGluZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsSW5ncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgcmVjb3JkaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIHNlc3Npb25TdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsU2Vzc2lvblJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgc2V0dGluZ3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgdHJhbnNjcmliaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIGNhcHRpb25pbmdTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG4gIHByaXZhdGUgZW5kZWRCeVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIHRodW1ibmFpbHNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBUaHVtYm5haWxSZXNwb25zZSB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgbWVtYmVyc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PE1lbWJlclJlc3BvbnNlW10+KFtdKTtcbiAgcHJpdmF0ZSBvd25DYXBhYmlsaXRpZXNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxPd25DYXBhYmlsaXR5W10+KFtdKTtcbiAgcHJpdmF0ZSBjYWxsaW5nU3RhdGVTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsaW5nU3RhdGU+KFxuICAgIENhbGxpbmdTdGF0ZS5VTktOT1dOLFxuICApO1xuICBwcml2YXRlIHN0YXJ0ZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgcGFydGljaXBhbnRDb3VudFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PG51bWJlcj4oMCk7XG4gIHByaXZhdGUgYW5vbnltb3VzUGFydGljaXBhbnRDb3VudFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PG51bWJlcj4oMCk7XG4gIHByaXZhdGUgcGFydGljaXBhbnRzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPihcbiAgICBbXSxcbiAgKTtcbiAgcHJpdmF0ZSBjYWxsU3RhdHNSZXBvcnRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBDYWxsU3RhdHNSZXBvcnQgfCB1bmRlZmluZWRcbiAgPih1bmRlZmluZWQpO1xuICBwcml2YXRlIGNsb3NlZENhcHRpb25zU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2FsbENsb3NlZENhcHRpb25bXT4oW10pO1xuXG4gIC8vIFRoZXNlIGFyZSB0cmFja3MgdGhhdCB3ZXJlIGRlbGl2ZXJlZCB0byB0aGUgU3Vic2NyaWJlcidzIG9uVHJhY2sgZXZlbnRcbiAgLy8gdGhhdCB3ZSBjb3VsZG4ndCBhc3NvY2lhdGUgd2l0aCBhIHBhcnRpY2lwYW50IHlldC5cbiAgLy8gVGhpcyBoYXBwZW5zIHdoZW4gdGhlIHBhcnRpY2lwYW50Sm9pbmVkIGV2ZW50IGhhc24ndCBiZWVuIHJlY2VpdmVkIHlldC5cbiAgLy8gV2Uga2VlcCB0aGVzZSB0cmFja3MgYXJvdW5kIHVudGlsIHdlIGNhbiBhc3NvY2lhdGUgdGhlbSB3aXRoIGEgcGFydGljaXBhbnQuXG4gIHByaXZhdGUgb3JwaGFuZWRUcmFja3M6IE9ycGhhbmVkVHJhY2tbXSA9IFtdO1xuXG4gIC8vIERlcml2ZWQgc3RhdGVcblxuICAvKipcbiAgICogVGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKiBVc2VmdWwgZm9yIGRpc3BsYXlpbmcgdGhlIGNhbGwgZHVyYXRpb24uXG4gICAqL1xuICBzdGFydGVkQXQkOiBPYnNlcnZhYmxlPERhdGUgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmVyLXNpZGUgY291bnRlZCBudW1iZXIgb2YgcGFydGljaXBhbnRzIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBjYWxsLlxuICAgKiBUaGlzIG51bWJlciBpbmNsdWRlcyB0aGUgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBhcyB3ZWxsLlxuICAgKi9cbiAgcGFydGljaXBhbnRDb3VudCQ6IE9ic2VydmFibGU8bnVtYmVyPjtcblxuICAvKipcbiAgICogVGhlIHNlcnZlci1zaWRlIGNvdW50ZWQgbnVtYmVyIG9mIGFub255bW91cyBwYXJ0aWNpcGFudHMgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFRoaXMgbnVtYmVyIGV4Y2x1ZGVzIHRoZSByZWd1bGFyIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIGFub255bW91c1BhcnRpY2lwYW50Q291bnQkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIEFsbCBwYXJ0aWNpcGFudHMgb2YgdGhlIGN1cnJlbnQgY2FsbCAodGhpcyBpbmNsdWRlcyB0aGUgY3VycmVudCB1c2VyIGFuZCBvdGhlciBwYXJ0aWNpcGFudHMgYXMgd2VsbCkuXG4gICAqL1xuICBwYXJ0aWNpcGFudHMkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT47XG5cbiAgLyoqXG4gICAqIFJlbW90ZSBwYXJ0aWNpcGFudHMgb2YgdGhlIGN1cnJlbnQgY2FsbCAodGhpcyBpbmNsdWRlcyBldmVyeSBwYXJ0aWNpcGFudCBleGNlcHQgdGhlIGxvZ2dlZC1pbiB1c2VyKS5cbiAgICovXG4gIHJlbW90ZVBhcnRpY2lwYW50cyQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPjtcblxuICAvKipcbiAgICogVGhlIGxvY2FsIHBhcnRpY2lwYW50IG9mIHRoZSBjdXJyZW50IGNhbGwgKHRoZSBsb2dnZWQtaW4gdXNlcikuXG4gICAqL1xuICBsb2NhbFBhcnRpY2lwYW50JDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogUGlubmVkIHBhcnRpY2lwYW50cyBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgcGlubmVkUGFydGljaXBhbnRzJDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+O1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IGVsZWN0ZWQgZG9taW5hbnQgc3BlYWtlciBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZG9taW5hbnRTcGVha2VyJDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogRW1pdHMgdHJ1ZSB3aGVuZXZlciB0aGVyZSBpcyBhbiBhY3RpdmUgc2NyZWVuIHNoYXJpbmcgc2Vzc2lvbiB3aXRoaW5cbiAgICogdGhlIGN1cnJlbnQgY2FsbC4gVXNlZnVsIGZvciBkaXNwbGF5aW5nIGEgXCJzY3JlZW4gc2hhcmluZ1wiIGluZGljYXRvciBhbmRcbiAgICogc3dpdGNoaW5nIHRoZSBsYXlvdXQgdG8gYSBzY3JlZW4gc2hhcmluZyBsYXlvdXQuXG4gICAqXG4gICAqIFRoZSBhY3R1YWwgc2NyZWVuIHNoYXJpbmcgdHJhY2sgaXNuJ3QgZXhwb3NlZCBoZXJlLCBidXQgY2FuIGJlIHJldHJpZXZlZFxuICAgKiBmcm9tIHRoZSBsaXN0IG9mIGNhbGwgcGFydGljaXBhbnRzLiBXZSBhbHNvIGRvbid0IHdhbnQgdG8gYmUgbGltaXRpbmdcbiAgICogdG8gdGhlIG51bWJlciBvZiBzaGFyZSBzY3JlZW4gdHJhY2tzIGFyZSBkaXNwbGF5ZWQgaW4gYSBjYWxsLlxuICAgKi9cbiAgaGFzT25nb2luZ1NjcmVlblNoYXJlJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogVGhlIGxhdGVzdCBzdGF0cyByZXBvcnQgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogV2hlbiBzdGF0cyBnYXRoZXJpbmcgaXMgZW5hYmxlZCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdCBhIG5ldyB2YWx1ZVxuICAgKiBhdCBhIHJlZ3VsYXIgKGNvbmZpZ3VyYWJsZSkgaW50ZXJ2YWwuXG4gICAqXG4gICAqIENvbnN1bWVycyBvZiB0aGlzIG9ic2VydmFibGUgY2FuIGltcGxlbWVudCB0aGVpciBvd24gYmF0Y2hpbmcgbG9naWNcbiAgICogaW4gY2FzZSB0aGV5IHdhbnQgdG8gc2hvdyBoaXN0b3JpY2FsIHN0YXRzIGRhdGEuXG4gICAqL1xuICBjYWxsU3RhdHNSZXBvcnQkOiBPYnNlcnZhYmxlPENhbGxTdGF0c1JlcG9ydCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG1lbWJlcnMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIG1lbWJlcnMkOiBPYnNlcnZhYmxlPE1lbWJlclJlc3BvbnNlW10+O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBjYXBhYmlsaXRpZXMgb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICovXG4gIG93bkNhcGFiaWxpdGllcyQ6IE9ic2VydmFibGU8T3duQ2FwYWJpbGl0eVtdPjtcblxuICAvKipcbiAgICogVGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqL1xuICBjYWxsaW5nU3RhdGUkOiBPYnNlcnZhYmxlPENhbGxpbmdTdGF0ZT47XG5cbiAgLyoqXG4gICAqIFRoZSBiYWNrc3RhZ2Ugc3RhdGUuXG4gICAqL1xuICBiYWNrc3RhZ2UkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGxpc3Qgb2YgYmxvY2tlZCB1c2VyIElEcy5cbiAgICovXG4gIGJsb2NrZWRVc2VySWRzJDogT2JzZXJ2YWJsZTxzdHJpbmdbXT47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgY3JlYXRlZEF0JDogT2JzZXJ2YWJsZTxEYXRlPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIGVuZGVkLlxuICAgKi9cbiAgZW5kZWRBdCQ6IE9ic2VydmFibGU8RGF0ZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBzY2hlZHVsZWQgdG8gc3RhcnQuXG4gICAqL1xuICBzdGFydHNBdCQ6IE9ic2VydmFibGU8RGF0ZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiB1cGRhdGVkLlxuICAgKi9cbiAgdXBkYXRlZEF0JDogT2JzZXJ2YWJsZTxEYXRlPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB1c2VyIHdobyBjcmVhdGVkIHRoaXMgY2FsbC5cbiAgICovXG4gIGNyZWF0ZWRCeSQ6IE9ic2VydmFibGU8VXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBjdXN0b20gZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBjdXN0b20kOiBPYnNlcnZhYmxlPFJlY29yZDxzdHJpbmcsIGFueT4+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGVncmVzcyBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGVncmVzcyQ6IE9ic2VydmFibGU8RWdyZXNzUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGluZ3Jlc3MgZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBpbmdyZXNzJDogT2JzZXJ2YWJsZTxDYWxsSW5ncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSByZWNvcmRpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgcmVjb3JkaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBzZXNzaW9uIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgc2Vzc2lvbiQ6IE9ic2VydmFibGU8Q2FsbFNlc3Npb25SZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2V0dGluZ3Mgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgc2V0dGluZ3MkOiBPYnNlcnZhYmxlPENhbGxTZXR0aW5nc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0cmFuc2NyaWJpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgdHJhbnNjcmliaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBjbG9zZWQgY2FwdGlvbmluZyBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBjYXB0aW9uaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB1c2VyIHdobyBlbmRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBlbmRlZEJ5JDogT2JzZXJ2YWJsZTxVc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRodW1ibmFpbHMgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgdGh1bWJuYWlscyQ6IE9ic2VydmFibGU8VGh1bWJuYWlsUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgcXVldWUgb2YgY2xvc2VkIGNhcHRpb25zLlxuICAgKi9cbiAgY2xvc2VkQ2FwdGlvbnMkOiBPYnNlcnZhYmxlPENhbGxDbG9zZWRDYXB0aW9uW10+O1xuXG4gIHJlYWRvbmx5IGxvZ2dlciA9IGdldExvZ2dlcihbJ0NhbGxTdGF0ZSddKTtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIGNvbXBhcmF0b3JzIHRoYXQgYXJlIHVzZWQgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgcHJpdmF0ZSBzb3J0UGFydGljaXBhbnRzQnkgPSBkZWZhdWx0U29ydFByZXNldDtcblxuICAvKipcbiAgICogVGhlIGNsb3NlZCBjYXB0aW9ucyBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBjbG9zZWRDYXB0aW9uc1NldHRpbmdzOiBDbG9zZWRDYXB0aW9uc1NldHRpbmdzIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGNsb3NlZENhcHRpb25zVGFza3MgPSBuZXcgTWFwPHN0cmluZywgTm9kZUpTLlRpbWVvdXQ+KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBldmVudEhhbmRsZXJzOiB7XG4gICAgW0V2ZW50VHlwZSBpbiBXU0V2ZW50Wyd0eXBlJ11dOlxuICAgICAgfCAoKGV2ZW50OiBFeHRyYWN0PFdTRXZlbnQsIHsgdHlwZTogRXZlbnRUeXBlIH0+KSA9PiB2b2lkKVxuICAgICAgfCB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIENhbGxTdGF0ZSBjbGFzcy5cbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzU3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKFxuICAgICAgLy8gbWFpbnRhaW4gc3RhYmxlLXNvcnQgYnkgbXV0YXRpbmcgdGhlIHBhcnRpY2lwYW50cyBzdG9yZWRcbiAgICAgIC8vIGluIHRoZSBvcmlnaW5hbCBzdWJqZWN0XG4gICAgICBtYXAoKHBzKSA9PiBwcy5zb3J0KHRoaXMuc29ydFBhcnRpY2lwYW50c0J5KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxvY2FsUGFydGljaXBhbnQkID0gdGhpcy5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBhcnRpY2lwYW50cykgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuaXNMb2NhbFBhcnRpY2lwYW50KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnJlbW90ZVBhcnRpY2lwYW50cyQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuZmlsdGVyKChwKSA9PiAhcC5pc0xvY2FsUGFydGljaXBhbnQpKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMucGlubmVkUGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maWx0ZXIoKHApID0+ICEhcC5waW4pKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZG9taW5hbnRTcGVha2VyJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwLmlzRG9taW5hbnRTcGVha2VyKSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmhhc09uZ29pbmdTY3JlZW5TaGFyZSQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuc29tZSgocCkgPT4gaGFzU2NyZWVuU2hhcmUocCkpKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICAvLyBkYXRlc1xuICAgIHRoaXMuY3JlYXRlZEF0JCA9IHRoaXMuY3JlYXRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQXQkID0gdGhpcy5lbmRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnN0YXJ0c0F0JCA9IHRoaXMuc3RhcnRzQXRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuc3RhcnRlZEF0JCA9IHRoaXMuc3RhcnRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnVwZGF0ZWRBdCQgPSB0aGlzLnVwZGF0ZWRBdFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICB0aGlzLmNhbGxTdGF0c1JlcG9ydCQgPSB0aGlzLmNhbGxTdGF0c1JlcG9ydFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5tZW1iZXJzJCA9IHRoaXMubWVtYmVyc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICAvLyBjb21wbGV4IG9iamVjdHMgc2hvdWxkIHdvcmsgYXMgc3RyZWFtcyBvZiBkYXRhXG4gICAgdGhpcy5jcmVhdGVkQnkkID0gdGhpcy5jcmVhdGVkQnlTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY3VzdG9tJCA9IHRoaXMuY3VzdG9tU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVncmVzcyQgPSB0aGlzLmVncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5pbmdyZXNzJCA9IHRoaXMuaW5ncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXNzaW9uJCA9IHRoaXMuc2Vzc2lvblN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXR0aW5ncyQgPSB0aGlzLnNldHRpbmdzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQnkkID0gdGhpcy5lbmRlZEJ5U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnRodW1ibmFpbHMkID0gdGhpcy50aHVtYm5haWxzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmNsb3NlZENhcHRpb25zJCA9IHRoaXMuY2xvc2VkQ2FwdGlvbnNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgc2hhbGxvdyBjb21wYXJpc29uIG9mIHR3byBhcnJheXMuXG4gICAgICogRXhwZWN0cyBwcmltaXRpdmUgdmFsdWVzOiBbMSwgMiwgM10gaXMgZXF1YWwgdG8gWzIsIDEsIDNdLlxuICAgICAqL1xuICAgIGNvbnN0IGlzU2hhbGxvd0VxdWFsID0gPFQ+KGE6IEFycmF5PFQ+LCBiOiBBcnJheTxUPik6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGEpIGlmICghYi5pbmNsdWRlcyhpdGVtKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGIpIGlmICghYS5pbmNsdWRlcyhpdGVtKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gT2JzZXJ2YWJsZSBmcm9tIHRoZSBnaXZlbiBzdWJqZWN0IGJ5IHBpcGluZyB0byB0aGVcbiAgICAgKiBgZGlzdGluY3RVbnRpbENoYW5nZWQoKWAgb3BlcmF0b3IuXG4gICAgICovXG4gICAgY29uc3QgZHVjID0gPFQ+KFxuICAgICAgc3ViamVjdDogQmVoYXZpb3JTdWJqZWN0PFQ+LFxuICAgICAgY29tcGFyYXRvcj86IChhOiBULCBiOiBUKSA9PiBib29sZWFuLFxuICAgICk6IE9ic2VydmFibGU8VD4gPT5cbiAgICAgIHN1YmplY3QuYXNPYnNlcnZhYmxlKCkucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZChjb21wYXJhdG9yKSk7XG5cbiAgICAvLyBwcmltaXRpdmUgdmFsdWVzIHNob3VsZCBvbmx5IGVtaXQgb25jZSB0aGUgdmFsdWUgdGhleSBob2xkIGNoYW5nZXNcbiAgICB0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnQkID0gZHVjKFxuICAgICAgdGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCxcbiAgICApO1xuICAgIHRoaXMuYmxvY2tlZFVzZXJJZHMkID0gZHVjKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCBpc1NoYWxsb3dFcXVhbCk7XG4gICAgdGhpcy5iYWNrc3RhZ2UkID0gZHVjKHRoaXMuYmFja3N0YWdlU3ViamVjdCk7XG4gICAgdGhpcy5jYWxsaW5nU3RhdGUkID0gZHVjKHRoaXMuY2FsbGluZ1N0YXRlU3ViamVjdCk7XG4gICAgdGhpcy5vd25DYXBhYmlsaXRpZXMkID0gZHVjKHRoaXMub3duQ2FwYWJpbGl0aWVzU3ViamVjdCwgaXNTaGFsbG93RXF1YWwpO1xuICAgIHRoaXMucGFydGljaXBhbnRDb3VudCQgPSBkdWModGhpcy5wYXJ0aWNpcGFudENvdW50U3ViamVjdCk7XG4gICAgdGhpcy5yZWNvcmRpbmckID0gZHVjKHRoaXMucmVjb3JkaW5nU3ViamVjdCk7XG4gICAgdGhpcy50cmFuc2NyaWJpbmckID0gZHVjKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCk7XG4gICAgdGhpcy5jYXB0aW9uaW5nJCA9IGR1Yyh0aGlzLmNhcHRpb25pbmdTdWJqZWN0KTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IHtcbiAgICAgIC8vIHRoZXNlIGV2ZW50cyBhcmUgbm90IHVwZGF0aW5nIHRoZSBjYWxsIHN0YXRlOlxuICAgICAgJ2NhbGwuZGVsZXRlZCc6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCc6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLnJlY29yZGluZ19yZWFkeSc6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLnRyYW5zY3JpcHRpb25fcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC51c2VyX211dGVkJzogdW5kZWZpbmVkLFxuICAgICAgJ2Nvbm5lY3Rpb24uZXJyb3InOiB1bmRlZmluZWQsXG4gICAgICAnY29ubmVjdGlvbi5vayc6IHVuZGVmaW5lZCxcbiAgICAgICdoZWFsdGguY2hlY2snOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5iYW5uZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5kZWFjdGl2YXRlZCc6IHVuZGVmaW5lZCxcbiAgICAgICd1c2VyLmRlbGV0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5tdXRlZCc6IHVuZGVmaW5lZCxcbiAgICAgICd1c2VyLnByZXNlbmNlLmNoYW5nZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5yZWFjdGl2YXRlZCc6IHVuZGVmaW5lZCxcbiAgICAgICd1c2VyLnVuYmFubmVkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIudXBkYXRlZCc6IHVuZGVmaW5lZCxcbiAgICAgIGN1c3RvbTogdW5kZWZpbmVkLFxuXG4gICAgICAvLyBldmVudHMgdGhhdCB1cGRhdGUgY2FsbCBzdGF0ZTpcbiAgICAgICdjYWxsLmFjY2VwdGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwuYmxvY2tlZF91c2VyJzogdGhpcy5ibG9ja1VzZXIsXG4gICAgICAnY2FsbC5jbG9zZWRfY2FwdGlvbic6IHRoaXMudXBkYXRlRnJvbUNsb3NlZENhcHRpb25zLFxuICAgICAgJ2NhbGwuY2xvc2VkX2NhcHRpb25zX2ZhaWxlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYXB0aW9uaW5nU3ViamVjdCwgZmFsc2UpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLmNsb3NlZF9jYXB0aW9uc19zdGFydGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNhcHRpb25pbmdTdWJqZWN0LCB0cnVlKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC5jbG9zZWRfY2FwdGlvbnNfc3RvcHBlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYXB0aW9uaW5nU3ViamVjdCwgZmFsc2UpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLmNyZWF0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5lbmRlZCc6IChlKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpO1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVuZGVkQnlTdWJqZWN0LCBlLnVzZXIpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLmhsc19icm9hZGNhc3RpbmdfZmFpbGVkJzogdGhpcy51cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkLFxuICAgICAgJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19zdGFydGVkJzogdGhpcy51cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RhcnRlZCxcbiAgICAgICdjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RvcHBlZCc6IHRoaXMudXBkYXRlRnJvbUhMU0Jyb2FkY2FzdFN0b3BwZWQsXG4gICAgICAnY2FsbC5saXZlX3N0YXJ0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5tZW1iZXJfYWRkZWQnOiB0aGlzLnVwZGF0ZUZyb21NZW1iZXJBZGRlZCxcbiAgICAgICdjYWxsLm1lbWJlcl9yZW1vdmVkJzogdGhpcy51cGRhdGVGcm9tTWVtYmVyUmVtb3ZlZCxcbiAgICAgICdjYWxsLm1lbWJlcl91cGRhdGVkX3Blcm1pc3Npb24nOiB0aGlzLnVwZGF0ZU1lbWJlcnMsXG4gICAgICAnY2FsbC5tZW1iZXJfdXBkYXRlZCc6IHRoaXMudXBkYXRlTWVtYmVycyxcbiAgICAgICdjYWxsLm5vdGlmaWNhdGlvbic6IChlKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpO1xuICAgICAgICB0aGlzLnNldE1lbWJlcnMoZS5tZW1iZXJzKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC5wZXJtaXNzaW9uc191cGRhdGVkJzogdGhpcy51cGRhdGVPd25DYXBhYmlsaXRpZXMsXG4gICAgICAnY2FsbC5yZWFjdGlvbl9uZXcnOiB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50UmVhY3Rpb24sXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfc3RhcnRlZCc6ICgpID0+XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nU3ViamVjdCwgdHJ1ZSksXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfc3RvcHBlZCc6ICgpID0+XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nU3ViamVjdCwgZmFsc2UpLFxuICAgICAgJ2NhbGwucmVjb3JkaW5nX2ZhaWxlZCc6ICgpID0+XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nU3ViamVjdCwgZmFsc2UpLFxuICAgICAgJ2NhbGwucmVqZWN0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5yaW5nJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwubWlzc2VkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9lbmRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfY291bnRfdXBkYXRlZCc6XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudENvdW50VXBkYXRlLFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9qb2luZWQnOlxuICAgICAgICB0aGlzLnVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRKb2luZWQsXG4gICAgICAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2xlZnQnOiB0aGlzLnVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRMZWZ0LFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9zdGFydGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwudHJhbnNjcmlwdGlvbl9zdGFydGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QsIHRydWUpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLnRyYW5zY3JpcHRpb25fc3RvcHBlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwudHJhbnNjcmlwdGlvbl9mYWlsZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCwgZmFsc2UpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLnVuYmxvY2tlZF91c2VyJzogdGhpcy51bmJsb2NrVXNlcixcbiAgICAgICdjYWxsLnVwZGF0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIHRoZSBjbGVhbnVwIHRhc2tzLlxuICAgKi9cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICBmb3IgKGNvbnN0IFtjY0tleSwgdGFza0lkXSBvZiB0aGlzLmNsb3NlZENhcHRpb25zVGFza3MuZW50cmllcygpKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGFza0lkKTtcbiAgICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnNUYXNrcy5kZWxldGUoY2NLZXkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiBjcml0ZXJpYSB0aGF0IGFyZSB1c2VkIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICogVG8gZGlzYWJsZSBzb3J0aW5nLCB5b3UgY2FuIHBhc3MgYG5vb3BDb21wYXJhdG9yKClgLlxuICAgKlxuICAgKiBAcGFyYW0gY29tcGFyYXRvciB0aGUgY29tcGFyYXRvciB0byB1c2UgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0U29ydFBhcnRpY2lwYW50c0J5ID0gKGNvbXBhcmF0b3I6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4pID0+IHtcbiAgICB0aGlzLnNvcnRQYXJ0aWNpcGFudHNCeSA9IGNvbXBhcmF0b3I7XG4gICAgLy8gdHJpZ2dlciByZS1zb3J0aW5nIG9mIHBhcnRpY2lwYW50c1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRzU3ViamVjdCwgKHBzKSA9PiBwcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYW4gb2JzZXJ2YWJsZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBvYnNlcnZhYmxlIGhhc1xuICAgKiBub3QgZW1pdHRlZCBhIHZhbHVlIHlldC5cbiAgICpcbiAgICogQHBhcmFtIG9ic2VydmFibGUkIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgdmFsdWUgZnJvbS5cbiAgICovXG4gIGdldEN1cnJlbnRWYWx1ZSA9IFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlO1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgU3ViamVjdC5cbiAgICogQW4gYHVwZGF0ZWAgY2FuIGVpdGhlciBiZSBhIG5ldyB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzXG4gICAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHN1YmplY3QgdGhlIHN1YmplY3QgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gdXBkYXRlIHRoZSB1cGRhdGUgdG8gYXBwbHkgdG8gdGhlIHN1YmplY3QuXG4gICAqIEByZXR1cm4gdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAqL1xuICBzZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZTtcblxuICAvKipcbiAgICogVGhlIHNlcnZlci1zaWRlIGNvdW50ZWQgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIGdldCBwYXJ0aWNpcGFudENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50Q291bnQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gY291bnQgdGhlIG51bWJlciBvZiBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBzZXRQYXJ0aWNpcGFudENvdW50ID0gKGNvdW50OiBQYXRjaDxudW1iZXI+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRDb3VudFN1YmplY3QsIGNvdW50KTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKiBVc2VmdWwgZm9yIGRpc3BsYXlpbmcgdGhlIGNhbGwgZHVyYXRpb24uXG4gICAqL1xuICBnZXQgc3RhcnRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXJ0ZWRBdCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHN0YXJ0ZWRBdCB0aGUgdGltZSB0aGUgY2FsbCBzZXNzaW9uIGFjdHVhbGx5IHN0YXJ0ZWQuXG4gICAqL1xuICBzZXRTdGFydGVkQXQgPSAoc3RhcnRlZEF0OiBQYXRjaDxEYXRlIHwgdW5kZWZpbmVkPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXJ0ZWRBdFN1YmplY3QsIHN0YXJ0ZWRBdCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBjbG9zZWQgY2FwdGlvbnMgYXJlIGVuYWJsZWQgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBjYXB0aW9uaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhcHRpb25pbmckKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjbG9zZWQgY2FwdGlvbmluZyBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNhcHRpb25pbmcgdGhlIGNsb3NlZCBjYXB0aW9uaW5nIHN0YXRlLlxuICAgKi9cbiAgc2V0Q2FwdGlvbmluZyA9IChjYXB0aW9uaW5nOiBib29sZWFuKSA9PiB7XG4gICAgcmV0dXJuIFJ4VXRpbHMudXBkYXRlVmFsdWUodGhpcy5jYXB0aW9uaW5nU3ViamVjdCwgY2FwdGlvbmluZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBjYWxsLlxuICAgKiBUaGlzIG51bWJlciBpbmNsdWRlcyB0aGUgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBhcyB3ZWxsLlxuICAgKi9cbiAgZ2V0IGFub255bW91c1BhcnRpY2lwYW50Q291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gY291bnQgdGhlIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0QW5vbnltb3VzUGFydGljaXBhbnRDb3VudCA9IChjb3VudDogUGF0Y2g8bnVtYmVyPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnRTdWJqZWN0LCBjb3VudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IHBhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5wYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHBhcnRpY2lwYW50cyB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBzZXRQYXJ0aWNpcGFudHMgPSAocGFydGljaXBhbnRzOiBQYXRjaDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRzU3ViamVjdCwgcGFydGljaXBhbnRzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGxvY2FsIHBhcnRpY2lwYW50IGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgbG9jYWxQYXJ0aWNpcGFudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5sb2NhbFBhcnRpY2lwYW50JCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcmVtb3RlIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IHJlbW90ZVBhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5yZW1vdGVQYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZG9taW5hbnQgc3BlYWtlciBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IGRvbWluYW50U3BlYWtlcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5kb21pbmFudFNwZWFrZXIkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwaW5uZWQgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgcGlubmVkUGFydGljaXBhbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnBpbm5lZFBhcnRpY2lwYW50cyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlbGwgaWYgdGhlcmUgaXMgYW4gb25nb2luZyBzY3JlZW4gc2hhcmUgaW4gdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGhhc09uZ29pbmdTY3JlZW5TaGFyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5oYXNPbmdvaW5nU2NyZWVuU2hhcmUkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbGluZyBzdGF0ZS5cbiAgICovXG4gIGdldCBjYWxsaW5nU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbGluZ1N0YXRlJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2FsbGluZyBzdGF0ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdGF0ZSB0aGUgbmV3IGNhbGxpbmcgc3RhdGUuXG4gICAqL1xuICBzZXRDYWxsaW5nU3RhdGUgPSAoc3RhdGU6IFBhdGNoPENhbGxpbmdTdGF0ZT4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsaW5nU3RhdGVTdWJqZWN0LCBzdGF0ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIHN0YXRzIHJlcG9ydC5cbiAgICovXG4gIGdldCBjYWxsU3RhdHNSZXBvcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbFN0YXRzUmVwb3J0JCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2FsbCBzdGF0cyByZXBvcnQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gcmVwb3J0IHRoZSByZXBvcnQgdG8gc2V0LlxuICAgKi9cbiAgc2V0Q2FsbFN0YXRzUmVwb3J0ID0gKHJlcG9ydDogUGF0Y2g8Q2FsbFN0YXRzUmVwb3J0IHwgdW5kZWZpbmVkPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxTdGF0c1JlcG9ydFN1YmplY3QsIHJlcG9ydCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBtZW1iZXJzIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgbWVtYmVycygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5tZW1iZXJzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbWVtYmVycyBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIG1lbWJlcnMgdGhlIG1lbWJlcnMgdG8gc2V0LlxuICAgKi9cbiAgc2V0TWVtYmVycyA9IChtZW1iZXJzOiBQYXRjaDxNZW1iZXJSZXNwb25zZVtdPikgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVyc1N1YmplY3QsIG1lbWJlcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBjdXJyZW50IHVzZXIgZm9yIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgb3duQ2FwYWJpbGl0aWVzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLm93bkNhcGFiaWxpdGllcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG93biBjYXBhYmlsaXRpZXMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gY2FwYWJpbGl0aWVzIHRoZSBjYXBhYmlsaXRpZXMgdG8gc2V0LlxuICAgKi9cbiAgc2V0T3duQ2FwYWJpbGl0aWVzID0gKGNhcGFiaWxpdGllczogUGF0Y2g8T3duQ2FwYWJpbGl0eVtdPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm93bkNhcGFiaWxpdGllc1N1YmplY3QsIGNhcGFiaWxpdGllcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBiYWNrc3RhZ2Ugc3RhdGUuXG4gICAqL1xuICBnZXQgYmFja3N0YWdlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmJhY2tzdGFnZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgbGlzdCBvZiBibG9ja2VkIHVzZXIgSURzLlxuICAgKi9cbiAgZ2V0IGJsb2NrZWRVc2VySWRzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqL1xuICBnZXQgY3JlYXRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRBdCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICovXG4gIGdldCBlbmRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmVuZGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIGVuZGVkLlxuICAgKiBAcGFyYW0gZW5kZWRBdCB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICovXG4gIHNldEVuZGVkQXQgPSAoZW5kZWRBdDogUGF0Y2g8RGF0ZSB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5lbmRlZEF0U3ViamVjdCwgZW5kZWRBdCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBzY2hlZHVsZWQgdG8gc3RhcnQuXG4gICAqL1xuICBnZXQgc3RhcnRzQXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc3RhcnRzQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gdXBkYXRlZC5cbiAgICovXG4gIGdldCB1cGRhdGVkQXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMudXBkYXRlZEF0JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB1c2VyIHdobyBjcmVhdGVkIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBjcmVhdGVkQnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY3JlYXRlZEJ5JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBjdXN0b20gZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgY3VzdG9tKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmN1c3RvbSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgZWdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGVncmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5lZ3Jlc3MkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGluZ3Jlc3MgZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgaW5ncmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5pbmdyZXNzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSByZWNvcmRpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHJlY29yZGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmckKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHNlc3Npb24gZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgc2Vzc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBzZXR0aW5ncyBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgc2V0dGluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc2V0dGluZ3MkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRyYW5zY3JpYmluZyBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgdHJhbnNjcmliaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gZW5kZWQgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGVuZGVkQnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRCeSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGh1bWJuYWlscyBvZiB0aGlzIGNhbGwsIGlmIGVuYWJsZWQgaW4gdGhlIGNhbGwgc2V0dGluZ3MuXG4gICAqL1xuICBnZXQgdGh1bWJuYWlscygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy50aHVtYm5haWxzJCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBxdWV1ZSBvZiBjbG9zZWQgY2FwdGlvbnMuXG4gICAqL1xuICBnZXQgY2xvc2VkQ2FwdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2xvc2VkQ2FwdGlvbnMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHRyeSB0byBmaW5kIHRoZSBwYXJ0aWNpcGFudCB3aXRoIHRoZSBnaXZlbiBzZXNzaW9uSWQgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIG9mIHRoZSBwYXJ0aWNpcGFudCB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB0aGUgcGFydGljaXBhbnQgd2l0aCB0aGUgZ2l2ZW4gc2Vzc2lvbklkIG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmQuXG4gICAqL1xuICBmaW5kUGFydGljaXBhbnRCeVNlc3Npb25JZCA9IChcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgKTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZCA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbmV3IGxvb2t1cCB0YWJsZSBvZiBwYXJ0aWNpcGFudHMgaW5kZXhlZCBieSB0aGVpciBzZXNzaW9uIElELlxuICAgKi9cbiAgZ2V0UGFydGljaXBhbnRMb29rdXBCeVNlc3Npb25JZCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWNpcGFudHMucmVkdWNlPHtcbiAgICAgIFtzZXNzaW9uSWQ6IHN0cmluZ106IFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfCB1bmRlZmluZWQ7XG4gICAgfT4oKGxvb2t1cFRhYmxlLCBwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgbG9va3VwVGFibGVbcGFydGljaXBhbnQuc2Vzc2lvbklkXSA9IHBhcnRpY2lwYW50O1xuICAgICAgcmV0dXJuIGxvb2t1cFRhYmxlO1xuICAgIH0sIHt9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBhIHBhcnRpY2lwYW50IGluIHRoZSBjdXJyZW50IGNhbGwgaWRlbnRpZmllZCBieSB0aGUgZ2l2ZW4gYHNlc3Npb25JZGAuXG4gICAqIElmIHRoZSBwYXJ0aWNpcGFudCBjYW4ndCBiZSBmb3VuZCwgdGhpcyBvcGVyYXRpb24gaXMgbm8tb3AuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIElEIG9mIHRoZSBwYXJ0aWNpcGFudCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSBwYXRjaCB0aGUgcGF0Y2ggdG8gYXBwbHkgdG8gdGhlIHBhcnRpY2lwYW50LlxuICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBwYXJ0aWNpcGFudCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgcGFydGljaXBhbnQgY291bGRuJ3QgYmUgZm91bmQuXG4gICAqL1xuICB1cGRhdGVQYXJ0aWNpcGFudCA9IChcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICBwYXRjaDpcbiAgICAgIHwgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoXG4gICAgICB8ICgocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCkgPT4gU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoKSxcbiAgKSA9PiB7XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgUGFydGljaXBhbnQgd2l0aCBzZXNzaW9uSWQgJHtzZXNzaW9uSWR9IG5vdCBmb3VuZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRoZVBhdGNoID0gdHlwZW9mIHBhdGNoID09PSAnZnVuY3Rpb24nID8gcGF0Y2gocGFydGljaXBhbnQpIDogcGF0Y2g7XG4gICAgY29uc3QgdXBkYXRlZFBhcnRpY2lwYW50OiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50ID0ge1xuICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAuLi50aGVQYXRjaCxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocCkgPT5cbiAgICAgICAgcC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCA/IHVwZGF0ZWRQYXJ0aWNpcGFudCA6IHAsXG4gICAgICApLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsIGlkZW50aWZpZWQgYnkgdGhlIGdpdmVuIGBzZXNzaW9uSWRgLlxuICAgKiBJZiBhIHBhcnRpY2lwYW50IHdpdGggbWF0Y2hpbmcgYHNlc3Npb25JZGAgY2FuJ3QgYmUgZm91bmQsIHRoZSBwcm92aWRlZFxuICAgKiBgcGFydGljaXBhbnRgIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBJRCBvZiB0aGUgcGFydGljaXBhbnQgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gcGFydGljaXBhbnQgdGhlIHBhcnRpY2lwYW50IHRvIHVwZGF0ZSBvciBhZGQuXG4gICAqL1xuICB1cGRhdGVPckFkZFBhcnRpY2lwYW50ID0gKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHBhcnRpY2lwYW50OiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT4ge1xuICAgICAgbGV0IGFkZCA9IHRydWU7XG4gICAgICBjb25zdCBuZXh0UGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAocC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCkge1xuICAgICAgICAgIGFkZCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wLFxuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGFkZCkgbmV4dFBhcnRpY2lwYW50cy5wdXNoKHBhcnRpY2lwYW50KTtcbiAgICAgIHJldHVybiBuZXh0UGFydGljaXBhbnRzO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFsbCBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbCB3aG9zZSBzZXNzaW9uIElEIGlzIGluIHRoZSBnaXZlbiBgc2Vzc2lvbklkc2AuXG4gICAqIElmIG5vIHBhdGNoZXMgYXJlIHByb3ZpZGVkLCB0aGlzIG9wZXJhdGlvbiBpcyBuby1vcC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBwYXRjaCB0aGUgcGF0Y2ggdG8gYXBwbHkgdG8gdGhlIHBhcnRpY2lwYW50cy5cbiAgICogQHJldHVybnMgYWxsIHBhcnRpY2lwYW50cywgd2l0aCBhbGwgcGF0Y2ggYXBwbGllZC5cbiAgICovXG4gIHVwZGF0ZVBhcnRpY2lwYW50cyA9IChwYXRjaDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMpID0+IHtcbiAgICBpZiAoT2JqZWN0LmtleXMocGF0Y2gpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzO1xuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBjb25zdCB0aGVQYXRjaCA9IHBhdGNoW3Auc2Vzc2lvbklkXTtcbiAgICAgICAgaWYgKHRoZVBhdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgICAuLi50aGVQYXRjaCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRyYWNrIHN1YnNjcmlwdGlvbiBjb25maWd1cmF0aW9uIGZvciBvbmUgb3IgbW9yZSBwYXJ0aWNpcGFudHMuXG4gICAqIFlvdSBoYXZlIHRvIGNyZWF0ZSBhIHN1YnNjcmlwdGlvbiBmb3IgZWFjaCBwYXJ0aWNpcGFudCBmb3IgYWxsIHRoZSBkaWZmZXJlbnQga2luZHMgb2YgdHJhY2tzIHlvdSB3YW50IHRvIHJlY2VpdmUuXG4gICAqIFlvdSBjYW4gb25seSBzdWJzY3JpYmUgZm9yIHRyYWNrcyBhZnRlciB0aGUgcGFydGljaXBhbnQgc3RhcnRlZCBwdWJsaXNoaW5nIHRoZSBnaXZlbiBraW5kIG9mIHRyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHN1YnNjcmlwdGlvbiB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSBjaGFuZ2VzIHRoZSBsaXN0IG9mIHN1YnNjcmlwdGlvbiBjaGFuZ2VzIHRvIGRvLlxuICAgKi9cbiAgdXBkYXRlUGFydGljaXBhbnRUcmFja3MgPSAoXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgICBjaGFuZ2VzOiBTdWJzY3JpcHRpb25DaGFuZ2VzLFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVQYXJ0aWNpcGFudHMoXG4gICAgICBPYmplY3QuZW50cmllcyhjaGFuZ2VzKS5yZWR1Y2U8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXM+KFxuICAgICAgICAoYWNjLCBbc2Vzc2lvbklkLCBjaGFuZ2VdKSA9PiB7XG4gICAgICAgICAgaWYgKGNoYW5nZS5kaW1lbnNpb24pIHtcbiAgICAgICAgICAgIGNoYW5nZS5kaW1lbnNpb24uaGVpZ2h0ID0gTWF0aC5jZWlsKGNoYW5nZS5kaW1lbnNpb24uaGVpZ2h0KTtcbiAgICAgICAgICAgIGNoYW5nZS5kaW1lbnNpb24ud2lkdGggPSBNYXRoLmNlaWwoY2hhbmdlLmRpbWVuc2lvbi53aWR0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHByb3A6IGtleW9mIFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfCB1bmRlZmluZWQgPVxuICAgICAgICAgICAgdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaydcbiAgICAgICAgICAgICAgPyAndmlkZW9EaW1lbnNpb24nXG4gICAgICAgICAgICAgIDogdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaydcbiAgICAgICAgICAgICAgICA/ICdzY3JlZW5TaGFyZURpbWVuc2lvbidcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAocHJvcCkge1xuICAgICAgICAgICAgYWNjW3Nlc3Npb25JZF0gPSB7XG4gICAgICAgICAgICAgIFtwcm9wXTogY2hhbmdlLmRpbWVuc2lvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sXG4gICAgICAgIHt9LFxuICAgICAgKSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjYWxsIHN0YXRlIHdpdGggdGhlIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IHRoZSB2aWRlbyBldmVudCB0aGF0IG91ciBiYWNrZW5kIHNlbnQgdXMuXG4gICAqL1xuICB1cGRhdGVGcm9tRXZlbnQgPSAoZXZlbnQ6IFdTRXZlbnQpID0+IHtcbiAgICBjb25zdCB1cGRhdGUgPSB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnQudHlwZV07XG4gICAgaWYgKHVwZGF0ZSkge1xuICAgICAgdXBkYXRlKGV2ZW50IGFzIGFueSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwYXJ0aWNpcGFudCBwaW5uZWQgc3RhdGUgd2l0aCBzZXJ2ZXIgc2lkZSBwaW5uaW5nIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSBwaW5zIHRoZSBsYXRlc3QgcGlucyBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICBzZXRTZXJ2ZXJTaWRlUGlucyA9IChwaW5zOiBQaW5bXSkgPT4ge1xuICAgIGNvbnN0IHBpbnNMb29rdXAgPSBwaW5zLnJlZHVjZTx7IFtzZXNzaW9uSWQ6IHN0cmluZ106IG51bWJlciB8IHVuZGVmaW5lZCB9PihcbiAgICAgIChsb29rdXAsIHBpbikgPT4ge1xuICAgICAgICBsb29rdXBbcGluLnNlc3Npb25JZF0gPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gbG9va3VwO1xuICAgICAgfSxcbiAgICAgIHt9LFxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlcnZlclNpZGVQaW5uZWRBdCA9IHBpbnNMb29rdXBbcGFydGljaXBhbnQuc2Vzc2lvbklkXTtcbiAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGlzIG5ld2x5IHBpbm5lZFxuICAgICAgICBpZiAoc2VydmVyU2lkZVBpbm5lZEF0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgICAgcGluOiB7XG4gICAgICAgICAgICAgIGlzTG9jYWxQaW46IGZhbHNlLFxuICAgICAgICAgICAgICBwaW5uZWRBdDogc2VydmVyU2lkZVBpbm5lZEF0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCBpcyBubyBsb25nZXIgcGlubmVkIHNlcnZlciBzaWRlXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmVzZXQgdGhlIHBpblxuICAgICAgICBpZiAocGFydGljaXBhbnQucGluICYmICFwYXJ0aWNpcGFudC5waW4uaXNMb2NhbFBpbikge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICAgIHBpbjogdW5kZWZpbmVkLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gY2hhbmdlcyB0byBiZSBhcHBsaWVkXG4gICAgICAgIHJldHVybiBwYXJ0aWNpcGFudDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gb3JwaGFuZWQgdHJhY2sgdG8gdGhlIGNhbGwgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gb3JwaGFuZWRUcmFjayB0aGUgb3JwaGFuZWQgdHJhY2sgdG8gYWRkLlxuICAgKi9cbiAgcmVnaXN0ZXJPcnBoYW5lZFRyYWNrID0gKG9ycGhhbmVkVHJhY2s6IE9ycGhhbmVkVHJhY2spID0+IHtcbiAgICB0aGlzLm9ycGhhbmVkVHJhY2tzLnB1c2gob3JwaGFuZWRUcmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gb3JwaGFuZWQgdHJhY2sgZnJvbSB0aGUgY2FsbCBzdGF0ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBpZCB0aGUgSUQgb2YgdGhlIG9ycGhhbmVkIHRyYWNrIHRvIHJlbW92ZS5cbiAgICovXG4gIHJlbW92ZU9ycGhhbmVkVHJhY2sgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMub3JwaGFuZWRUcmFja3MgPSB0aGlzLm9ycGhhbmVkVHJhY2tzLmZpbHRlcigobykgPT4gby5pZCAhPT0gaWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUYWtlcyBhbGwgb3JwaGFuZWQgdHJhY2tzIHdpdGggdGhlIGdpdmVuIHRyYWNrIGxvb2t1cCBwcmVmaXguXG4gICAqIEFsbCBvcnBoYW5lZCB0cmFja3Mgd2l0aCB0aGUgZ2l2ZW4gdHJhY2sgbG9va3VwIHByZWZpeCBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBjYWxsIHN0YXRlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHRyYWNrTG9va3VwUHJlZml4IHRoZSB0cmFjayBsb29rdXAgcHJlZml4IHRvIG1hdGNoIHRoZSBvcnBoYW5lZCB0cmFja3MgYnkuXG4gICAqL1xuICB0YWtlT3JwaGFuZWRUcmFja3MgPSAodHJhY2tMb29rdXBQcmVmaXg6IHN0cmluZyk6IE9ycGhhbmVkVHJhY2tbXSA9PiB7XG4gICAgY29uc3Qgb3JwaGFucyA9IHRoaXMub3JwaGFuZWRUcmFja3MuZmlsdGVyKFxuICAgICAgKG9ycGhhbikgPT4gb3JwaGFuLnRyYWNrTG9va3VwUHJlZml4ID09PSB0cmFja0xvb2t1cFByZWZpeCxcbiAgICApO1xuICAgIGlmIChvcnBoYW5zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMub3JwaGFuZWRUcmFja3MgPSB0aGlzLm9ycGhhbmVkVHJhY2tzLmZpbHRlcihcbiAgICAgICAgKG9ycGhhbikgPT4gb3JwaGFuLnRyYWNrTG9va3VwUHJlZml4ICE9PSB0cmFja0xvb2t1cFByZWZpeCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBvcnBoYW5zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjbG9zZWQgY2FwdGlvbnMgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgdGhlIG5ldyBjbG9zZWQgY2FwdGlvbnMgc2V0dGluZ3MuXG4gICAqL1xuICB1cGRhdGVDbG9zZWRDYXB0aW9uU2V0dGluZ3MgPSAoY29uZmlnOiBQYXJ0aWFsPENsb3NlZENhcHRpb25zU2V0dGluZ3M+KSA9PiB7XG4gICAgdGhpcy5jbG9zZWRDYXB0aW9uc1NldHRpbmdzID0geyAuLi50aGlzLmNsb3NlZENhcHRpb25zU2V0dGluZ3MsIC4uLmNvbmZpZyB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjYWxsIHN0YXRlIHdpdGggdGhlIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgKi9cbiAgdXBkYXRlRnJvbUNhbGxSZXNwb25zZSA9IChjYWxsOiBDYWxsUmVzcG9uc2UpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJhY2tzdGFnZVN1YmplY3QsIGNhbGwuYmFja3N0YWdlKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgY2FsbC5ibG9ja2VkX3VzZXJfaWRzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRBdFN1YmplY3QsIG5ldyBEYXRlKGNhbGwuY3JlYXRlZF9hdCkpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudXBkYXRlZEF0U3ViamVjdCwgbmV3IERhdGUoY2FsbC51cGRhdGVkX2F0KSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUoXG4gICAgICB0aGlzLnN0YXJ0c0F0U3ViamVjdCxcbiAgICAgIGNhbGwuc3RhcnRzX2F0ID8gbmV3IERhdGUoY2FsbC5zdGFydHNfYXQpIDogdW5kZWZpbmVkLFxuICAgICk7XG4gICAgdGhpcy5zZXRFbmRlZEF0KGNhbGwuZW5kZWRfYXQgPyBuZXcgRGF0ZShjYWxsLmVuZGVkX2F0KSA6IHVuZGVmaW5lZCk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jcmVhdGVkQnlTdWJqZWN0LCBjYWxsLmNyZWF0ZWRfYnkpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY3VzdG9tU3ViamVjdCwgY2FsbC5jdXN0b20pO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgY2FsbC5lZ3Jlc3MpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuaW5ncmVzc1N1YmplY3QsIGNhbGwuaW5ncmVzcyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCBjYWxsLnJlY29yZGluZyk7XG4gICAgY29uc3QgcyA9IHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2Vzc2lvblN1YmplY3QsIGNhbGwuc2Vzc2lvbik7XG4gICAgdGhpcy51cGRhdGVQYXJ0aWNpcGFudENvdW50RnJvbVNlc3Npb24ocyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXR0aW5nc1N1YmplY3QsIGNhbGwuc2V0dGluZ3MpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCwgY2FsbC50cmFuc2NyaWJpbmcpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FwdGlvbmluZ1N1YmplY3QsIGNhbGwuY2FwdGlvbmluZyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50aHVtYm5haWxzU3ViamVjdCwgY2FsbC50aHVtYm5haWxzKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIFNGVSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFN0YXRlIHRoZSBjYWxsIHN0YXRlIGZyb20gdGhlIFNGVSBzZXJ2ZXIuXG4gICAqIEBwYXJhbSBjdXJyZW50U2Vzc2lvbklkIHRoZSBzZXNzaW9uIElEIG9mIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqIEBwYXJhbSByZWNvbm5lY3REZXRhaWxzIG9wdGlvbmFsIHJlY29ubmVjdCBkZXRhaWxzLlxuICAgKi9cbiAgdXBkYXRlRnJvbVNmdUNhbGxTdGF0ZSA9IChcbiAgICBjYWxsU3RhdGU6IFNmdUNhbGxTdGF0ZSxcbiAgICBjdXJyZW50U2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgcmVjb25uZWN0RGV0YWlscz86IFJlY29ubmVjdERldGFpbHMsXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRzLCBwYXJ0aWNpcGFudENvdW50LCBzdGFydGVkQXQsIHBpbnMgfSA9IGNhbGxTdGF0ZTtcbiAgICBjb25zdCBsb2NhbFB1Ymxpc2hlZFRyYWNrcyA9XG4gICAgICByZWNvbm5lY3REZXRhaWxzPy5hbm5vdW5jZWRUcmFja3MubWFwKCh0KSA9PiB0LnRyYWNrVHlwZSkgPz8gW107XG4gICAgdGhpcy5zZXRQYXJ0aWNpcGFudHMoKCkgPT4ge1xuICAgICAgY29uc3QgcGFydGljaXBhbnRMb29rdXAgPSB0aGlzLmdldFBhcnRpY2lwYW50TG9va3VwQnlTZXNzaW9uSWQoKTtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudHMubWFwPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+KChwKSA9PiB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIGxvY2FsIHN0YXRlIG9mIHRoZSBwYXJ0aWNpcGFudFxuICAgICAgICAvLyAoZS5nLiB2aWRlb0RpbWVuc2lvbiwgdmlzaWJpbGl0eVN0YXRlLCBwaW5uZWRBdCwgZXRjLilcbiAgICAgICAgLy8gYXMgaXQgZG9lc24ndCBleGlzdCBvbiB0aGUgc2VydmVyLlxuICAgICAgICBjb25zdCBleGlzdGluZ1BhcnRpY2lwYW50ID0gcGFydGljaXBhbnRMb29rdXBbcC5zZXNzaW9uSWRdO1xuICAgICAgICBjb25zdCBpc0xvY2FsUGFydGljaXBhbnQgPSBwLnNlc3Npb25JZCA9PT0gY3VycmVudFNlc3Npb25JZDtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nUGFydGljaXBhbnQsIHAsIHtcbiAgICAgICAgICBpc0xvY2FsUGFydGljaXBhbnQsXG4gICAgICAgICAgcHVibGlzaGVkVHJhY2tzOiBpc0xvY2FsUGFydGljaXBhbnRcbiAgICAgICAgICAgID8gbG9jYWxQdWJsaXNoZWRUcmFja3NcbiAgICAgICAgICAgIDogcC5wdWJsaXNoZWRUcmFja3MsXG4gICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6XG4gICAgICAgICAgICBleGlzdGluZ1BhcnRpY2lwYW50Py52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/PyB7XG4gICAgICAgICAgICAgIHZpZGVvVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgICAgICBzY3JlZW5TaGFyZVRyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0gc2F0aXNmaWVzIFBhcnRpYWw8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudD8udG90YWwgfHwgMCk7XG4gICAgdGhpcy5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQ/LmFub255bW91cyB8fCAwKTtcbiAgICB0aGlzLnNldFN0YXJ0ZWRBdChzdGFydGVkQXQgPyBUaW1lc3RhbXAudG9EYXRlKHN0YXJ0ZWRBdCkgOiBuZXcgRGF0ZSgpKTtcbiAgICB0aGlzLnNldFNlcnZlclNpZGVQaW5zKHBpbnMpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbU1lbWJlclJlbW92ZWQgPSAoZXZlbnQ6IENhbGxNZW1iZXJSZW1vdmVkRXZlbnQpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZXZlbnQuY2FsbCk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5tZW1iZXJzU3ViamVjdCwgKG1lbWJlcnMpID0+XG4gICAgICBtZW1iZXJzLmZpbHRlcigobSkgPT4gZXZlbnQubWVtYmVycy5pbmRleE9mKG0udXNlcl9pZCkgPT09IC0xKSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbU1lbWJlckFkZGVkID0gKGV2ZW50OiBDYWxsTWVtYmVyQWRkZWRFdmVudCkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT4gW1xuICAgICAgLi4ubWVtYmVycyxcbiAgICAgIC4uLmV2ZW50Lm1lbWJlcnMsXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RvcHBlZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIChlZ3Jlc3MgPSBkZWZhdWx0RWdyZXNzKSA9PiAoe1xuICAgICAgLi4uZWdyZXNzLFxuICAgICAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgKGVncmVzcyA9IGRlZmF1bHRFZ3Jlc3MpID0+ICh7XG4gICAgICAuLi5lZ3Jlc3MsXG4gICAgICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICAgIH0pKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdGFydGVkID0gKFxuICAgIGV2ZW50OiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIChlZ3Jlc3MgPSBkZWZhdWx0RWdyZXNzKSA9PiAoe1xuICAgICAgLi4uZWdyZXNzLFxuICAgICAgYnJvYWRjYXN0aW5nOiB0cnVlLFxuICAgICAgaGxzOiB7XG4gICAgICAgIC4uLmVncmVzcy5obHMsXG4gICAgICAgIHBsYXlsaXN0X3VybDogZXZlbnQuaGxzX3BsYXlsaXN0X3VybCxcbiAgICAgIH0sXG4gICAgfSkpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uID0gKFxuICAgIHNlc3Npb246IENhbGxTZXNzaW9uUmVzcG9uc2UgfCB1bmRlZmluZWQsXG4gICkgPT4ge1xuICAgIC8vIHdoZW4gaW4gSk9JTkVEIHN0YXRlLCB3ZSBzaG91bGQgdXNlIHRoZSBwYXJ0aWNpcGFudCBjb3VudCBjb21pbmcgdGhyb3VnaFxuICAgIC8vIHRoZSBTRlUgaGVhbHRoY2hlY2sgZXZlbnQsIGFzIGl0J3MgbW9yZSBhY2N1cmF0ZS5cbiAgICBpZiAoIXNlc3Npb24gfHwgdGhpcy5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHJldHVybjtcbiAgICBjb25zdCBieVJvbGVDb3VudCA9IE9iamVjdC52YWx1ZXMoXG4gICAgICBzZXNzaW9uLnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICkucmVkdWNlKCh0b3RhbCwgY291bnRCeVJvbGUpID0+IHRvdGFsICsgY291bnRCeVJvbGUsIDApO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50Q291bnQgPSBNYXRoLm1heChieVJvbGVDb3VudCwgc2Vzc2lvbi5wYXJ0aWNpcGFudHMubGVuZ3RoKTtcbiAgICB0aGlzLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudCk7XG4gICAgdGhpcy5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHNlc3Npb24uYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50IHx8IDApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudENvdW50VXBkYXRlID0gKFxuICAgIGV2ZW50OiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBhbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQ6IGV2ZW50LmFub255bW91c19wYXJ0aWNpcGFudF9jb3VudCxcbiAgICAgICAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IGV2ZW50LnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRMZWZ0ID0gKFxuICAgIGV2ZW50OiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICBjb25zdCB7IHBhcnRpY2lwYW50cywgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUgfSA9IHNlc3Npb247XG4gICAgICBjb25zdCB7IHVzZXIsIHVzZXJfc2Vzc2lvbl9pZCB9ID0gZXZlbnQucGFydGljaXBhbnQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50cy5maWx0ZXIoXG4gICAgICAgICAgKHApID0+IHAudXNlcl9zZXNzaW9uX2lkICE9PSB1c2VyX3Nlc3Npb25faWQsXG4gICAgICAgICksXG4gICAgICAgIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgICAgICAgW3VzZXIucm9sZV06IE1hdGgubWF4KFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIChwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZVt1c2VyLnJvbGVdIHx8IDApIC0gMSxcbiAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRKb2luZWQgPSAoXG4gICAgZXZlbnQ6IENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudCxcbiAgKSA9PiB7XG4gICAgY29uc3QgcyA9IHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2Vzc2lvblN1YmplY3QsIChzZXNzaW9uKSA9PiB7XG4gICAgICBpZiAoIXNlc3Npb24pIHJldHVybiBzZXNzaW9uO1xuICAgICAgY29uc3QgeyBwYXJ0aWNpcGFudHMsIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlIH0gPSBzZXNzaW9uO1xuICAgICAgY29uc3QgeyB1c2VyLCB1c2VyX3Nlc3Npb25faWQgfSA9IGV2ZW50LnBhcnRpY2lwYW50O1xuICAgICAgLy8gSXQgY291bGQgaGFwcGVuIHRoYXQgdGhlIGJhY2tlbmQgZGVsaXZlcnMgdGhlIHNhbWUgcGFydGljaXBhbnQgbW9yZSB0aGFuIG9uY2UuXG4gICAgICAvLyBPbmNlIHdpdGggdGhlIGNhbGwuc2Vzc2lvbl9zdGFydGVkIGV2ZW50IGFuZCBvbmNlIGFnYWluIHdpdGggdGhlXG4gICAgICAvLyBjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkIGV2ZW50LiBJbiB0aGlzIGNhc2UsXG4gICAgICAvLyB3ZSBzaG91bGQgdXBkYXRlIHRoZSBleGlzdGluZyBwYXJ0aWNpcGFudCBhbmQgcHJldmVudCBkdXBsaWNhdGluZyBpdC5cbiAgICAgIGxldCBzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCA9IHRydWU7XG4gICAgICBjb25zdCB1cGRhdGVkUGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAocC51c2VyX3Nlc3Npb25faWQgPT09IHVzZXJfc2Vzc2lvbl9pZCkge1xuICAgICAgICAgIHNob3VsZEluc2VydFBhcnRpY2lwYW50ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnBhcnRpY2lwYW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2hvdWxkSW5zZXJ0UGFydGljaXBhbnQpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIG5ldyBhcnJheSwgd2UgY2FuIHNhZmVseSBwdXNoIHRoZSBuZXcgcGFydGljaXBhbnRcbiAgICAgICAgdXBkYXRlZFBhcnRpY2lwYW50cy5wdXNoKGV2ZW50LnBhcnRpY2lwYW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgYXJlIHVwZGF0aW5nIGFuIGV4aXN0aW5nIHBhcnRpY2lwYW50LCB3ZSBkb24ndCB3YW50IHRvIGluY3JlbWVudFxuICAgICAgLy8gdGhlIHBhcnRpY2lwYW50X2J5X3JvbGUgY291bnQuXG4gICAgICBjb25zdCBpbmNyZW1lbnQgPSBzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgcGFydGljaXBhbnRzOiB1cGRhdGVkUGFydGljaXBhbnRzLFxuICAgICAgICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZToge1xuICAgICAgICAgIC4uLnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICAgICAgIFt1c2VyLnJvbGVdOiAocGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGVbdXNlci5yb2xlXSB8fCAwKSArIGluY3JlbWVudCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVQYXJ0aWNpcGFudENvdW50RnJvbVNlc3Npb24ocyk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVNZW1iZXJzID0gKFxuICAgIGV2ZW50OiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50IHwgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT5cbiAgICAgIG1lbWJlcnMubWFwKChtZW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgbWVtYmVyVXBkYXRlID0gZXZlbnQubWVtYmVycy5maW5kKFxuICAgICAgICAgIChtKSA9PiBtLnVzZXJfaWQgPT09IG1lbWJlci51c2VyX2lkLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbWVtYmVyVXBkYXRlID8gbWVtYmVyVXBkYXRlIDogbWVtYmVyO1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZVBhcnRpY2lwYW50UmVhY3Rpb24gPSAoZXZlbnQ6IENhbGxSZWFjdGlvbkV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyB1c2VyLCBjdXN0b20sIHR5cGUsIGVtb2ppX2NvZGUgfSA9IGV2ZW50LnJlYWN0aW9uO1xuICAgIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+IHtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudHMubWFwKChwKSA9PiB7XG4gICAgICAgIC8vIHNraXAgaWYgdGhlIHJlYWN0aW9uIGlzIG5vdCBmb3IgdGhpcyBwYXJ0aWNpcGFudFxuICAgICAgICBpZiAocC51c2VySWQgIT09IHVzZXIuaWQpIHJldHVybiBwO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHBhcnRpY2lwYW50IHdpdGggdGhlIG5ldyByZWFjdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgcmVhY3Rpb246IHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBlbW9qaV9jb2RlLFxuICAgICAgICAgICAgY3VzdG9tLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIHVuYmxvY2tVc2VyID0gKGV2ZW50OiBVbmJsb2NrZWRVc2VyRXZlbnQpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgKGN1cnJlbnQpID0+IHtcbiAgICAgIGlmICghY3VycmVudCkgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICByZXR1cm4gY3VycmVudC5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gZXZlbnQudXNlci5pZCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBibG9ja1VzZXIgPSAoZXZlbnQ6IEJsb2NrZWRVc2VyRXZlbnQpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgKGN1cnJlbnQpID0+IFtcbiAgICAgIC4uLihjdXJyZW50IHx8IFtdKSxcbiAgICAgIGV2ZW50LnVzZXIuaWQsXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVPd25DYXBhYmlsaXRpZXMgPSAoZXZlbnQ6IFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC51c2VyLmlkID09PSB0aGlzLmxvY2FsUGFydGljaXBhbnQ/LnVzZXJJZCkge1xuICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXNTdWJqZWN0LCBldmVudC5vd25fY2FwYWJpbGl0aWVzKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tQ2xvc2VkQ2FwdGlvbnMgPSAoZXZlbnQ6IENsb3NlZENhcHRpb25FdmVudCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2xvc2VkQ2FwdGlvbnNTdWJqZWN0LCAocXVldWUpID0+IHtcbiAgICAgIGNvbnN0IHsgY2xvc2VkX2NhcHRpb24gfSA9IGV2ZW50O1xuXG4gICAgICBjb25zdCBrZXlPZiA9IChjOiBDYWxsQ2xvc2VkQ2FwdGlvbikgPT4gYCR7Yy5zcGVha2VyX2lkfS8ke2Muc3RhcnRfdGltZX1gO1xuICAgICAgY29uc3QgY3VycmVudEtleSA9IGtleU9mKGNsb3NlZF9jYXB0aW9uKTtcblxuICAgICAgY29uc3QgZHVwbGljYXRlID0gcXVldWUuc29tZSgoY2FwdGlvbikgPT4ga2V5T2YoY2FwdGlvbikgPT09IGN1cnJlbnRLZXkpO1xuICAgICAgaWYgKGR1cGxpY2F0ZSkgcmV0dXJuIHF1ZXVlO1xuXG4gICAgICBjb25zdCBuZXh0UXVldWUgPSBbLi4ucXVldWUsIGNsb3NlZF9jYXB0aW9uXTtcblxuICAgICAgY29uc3QgeyB2aXNpYmlsaXR5RHVyYXRpb25NcyA9IDI3MDAsIG1heFZpc2libGVDYXB0aW9ucyA9IDIgfSA9XG4gICAgICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnNTZXR0aW5ncyB8fCB7fTtcbiAgICAgIC8vIHNjaGVkdWxlIHRoZSByZW1vdmFsIG9mIHRoZSBjbG9zZWQgY2FwdGlvbiBhZnRlciB0aGUgcmV0ZW50aW9uIHRpbWVcbiAgICAgIGlmICh2aXNpYmlsaXR5RHVyYXRpb25NcyA+IDApIHtcbiAgICAgICAgY29uc3QgdGFza0lkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jbG9zZWRDYXB0aW9uc1N1YmplY3QsIChjYXB0aW9ucykgPT5cbiAgICAgICAgICAgIGNhcHRpb25zLmZpbHRlcigoY2FwdGlvbikgPT4gY2FwdGlvbiAhPT0gY2xvc2VkX2NhcHRpb24pLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5jbG9zZWRDYXB0aW9uc1Rhc2tzLmRlbGV0ZShjdXJyZW50S2V5KTtcbiAgICAgICAgfSwgdmlzaWJpbGl0eUR1cmF0aW9uTXMpO1xuICAgICAgICB0aGlzLmNsb3NlZENhcHRpb25zVGFza3Muc2V0KGN1cnJlbnRLZXksIHRhc2tJZCk7XG5cbiAgICAgICAgLy8gY2FuY2VsIHRoZSBjbGVhbnVwIHRhc2tzIGZvciB0aGUgY2xvc2VkIGNhcHRpb25zIHRoYXQgYXJlIG5vIGxvbmdlciBpbiB0aGUgcXVldWVcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0UXVldWUubGVuZ3RoIC0gbWF4VmlzaWJsZUNhcHRpb25zOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBrZXlPZihuZXh0UXVldWVbaV0pO1xuICAgICAgICAgIGNvbnN0IHRhc2sgPSB0aGlzLmNsb3NlZENhcHRpb25zVGFza3MuZ2V0KGtleSk7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRhc2spO1xuICAgICAgICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnNUYXNrcy5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyB0cmltIHRoZSBxdWV1ZVxuICAgICAgcmV0dXJuIG5leHRRdWV1ZS5zbGljZSgtbWF4VmlzaWJsZUNhcHRpb25zKTtcbiAgICB9KTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7XG4gIENhbGxFdmVudExpc3RlbmVyLFxuICBMb2dnZXIsXG59IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlLCBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB7IFBlZXJUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4uL1N0cmVhbVNmdUNsaWVudCc7XG5pbXBvcnQgeyBBbGxTZnVFdmVudHMsIERpc3BhdGNoZXIgfSBmcm9tICcuL0Rpc3BhdGNoZXInO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5cbmV4cG9ydCB0eXBlIEJhc2VQZWVyQ29ubmVjdGlvbk9wdHMgPSB7XG4gIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuICBzdGF0ZTogQ2FsbFN0YXRlO1xuICBjb25uZWN0aW9uQ29uZmlnPzogUlRDQ29uZmlndXJhdGlvbjtcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgb25VbnJlY292ZXJhYmxlRXJyb3I/OiAoKSA9PiB2b2lkO1xuICBsb2dUYWc6IHN0cmluZztcbn07XG5cbi8qKlxuICogQSBiYXNlIGNsYXNzIGZvciB0aGUgYFB1Ymxpc2hlcmAgYW5kIGBTdWJzY3JpYmVyYCBjbGFzc2VzLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlUGVlckNvbm5lY3Rpb24ge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG4gIHByb3RlY3RlZCByZWFkb25seSBwZWVyVHlwZTogUGVlclR5cGU7XG4gIHByb3RlY3RlZCByZWFkb25seSBwYzogUlRDUGVlckNvbm5lY3Rpb247XG4gIHByb3RlY3RlZCByZWFkb25seSBzdGF0ZTogQ2FsbFN0YXRlO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgcHJvdGVjdGVkIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuXG4gIHByb3RlY3RlZCByZWFkb25seSBvblVucmVjb3ZlcmFibGVFcnJvcj86ICgpID0+IHZvaWQ7XG4gIHByb3RlY3RlZCBpc0ljZVJlc3RhcnRpbmcgPSBmYWxzZTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmlwdGlvbnM6ICgoKSA9PiB2b2lkKVtdID0gW107XG4gIHByaXZhdGUgdW5zdWJzY3JpYmVJY2VUcmlja2xlPzogKCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBgQmFzZVBlZXJDb25uZWN0aW9uYCBpbnN0YW5jZS5cbiAgICovXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcbiAgICBwZWVyVHlwZTogUGVlclR5cGUsXG4gICAge1xuICAgICAgc2Z1Q2xpZW50LFxuICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgIHN0YXRlLFxuICAgICAgZGlzcGF0Y2hlcixcbiAgICAgIG9uVW5yZWNvdmVyYWJsZUVycm9yLFxuICAgICAgbG9nVGFnLFxuICAgIH06IEJhc2VQZWVyQ29ubmVjdGlvbk9wdHMsXG4gICkge1xuICAgIHRoaXMucGVlclR5cGUgPSBwZWVyVHlwZTtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5kaXNwYXRjaGVyID0gZGlzcGF0Y2hlcjtcbiAgICB0aGlzLm9uVW5yZWNvdmVyYWJsZUVycm9yID0gb25VbnJlY292ZXJhYmxlRXJyb3I7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoW1xuICAgICAgcGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVIgPyAnU3Vic2NyaWJlcicgOiAnUHVibGlzaGVyJyxcbiAgICAgIGxvZ1RhZyxcbiAgICBdKTtcblxuICAgIHRoaXMucGMgPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oY29ubmVjdGlvbkNvbmZpZyk7XG4gICAgdGhpcy5wYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICB0aGlzLnBjLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZWVycm9yJywgdGhpcy5vbkljZUNhbmRpZGF0ZUVycm9yKTtcbiAgICB0aGlzLnBjLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJyxcbiAgICAgIHRoaXMub25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UsXG4gICAgKTtcbiAgICB0aGlzLnBjLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWdhdGhlcmluZ3N0YXRlY2hhbmdlJywgdGhpcy5vbkljZUdhdGhlckNoYW5nZSk7XG4gICAgdGhpcy5wYy5hZGRFdmVudExpc3RlbmVyKCdzaWduYWxpbmdzdGF0ZWNoYW5nZScsIHRoaXMub25TaWduYWxpbmdDaGFuZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gIGluc3RhbmNlLlxuICAgKi9cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmRldGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLnBjLmNsb3NlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGFjaGVzIHRoZSBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKi9cbiAgcHJvdGVjdGVkIGRldGFjaEV2ZW50SGFuZGxlcnMoKSB7XG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZWVycm9yJywgdGhpcy5vbkljZUNhbmRpZGF0ZUVycm9yKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJywgdGhpcy5vblNpZ25hbGluZ0NoYW5nZSk7XG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsXG4gICAgICB0aGlzLm9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLFxuICAgICk7XG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgJ2ljZWdhdGhlcmluZ3N0YXRlY2hhbmdlJyxcbiAgICAgIHRoaXMub25JY2VHYXRoZXJDaGFuZ2UsXG4gICAgKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlSWNlVHJpY2tsZT8uKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBJQ0UgcmVzdGFydCBvbiB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYC5cbiAgICovXG4gIHByb3RlY3RlZCBhYnN0cmFjdCByZXN0YXJ0SWNlKCk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgZXZlbnRzIHN5bmNocm9ub3VzbHkuXG4gICAqIENvbnNlY3V0aXZlIGV2ZW50cyBhcmUgcXVldWVkIGFuZCBleGVjdXRlZCBvbmUgYWZ0ZXIgdGhlIG90aGVyLlxuICAgKi9cbiAgcHJvdGVjdGVkIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxTZnVFdmVudHM+KFxuICAgIGV2ZW50OiBFLFxuICAgIGZuOiBDYWxsRXZlbnRMaXN0ZW5lcjxFPixcbiAgKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICB0aGlzLmRpc3BhdGNoZXIub24oZXZlbnQsIChlKSA9PiB7XG4gICAgICAgIHdpdGhvdXRDb25jdXJyZW5jeShgcGMuJHtldmVudH1gLCBhc3luYyAoKSA9PiBmbihlKSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEVycm9yIGhhbmRsaW5nICR7ZXZlbnR9YCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSB0cmlja2xlZCBJQ0UgY2FuZGlkYXRlcyB0byB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYC5cbiAgICovXG4gIHByb3RlY3RlZCBhZGRUcmlja2xlZEljZUNhbmRpZGF0ZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBpY2VUcmlja2xlQnVmZmVyIH0gPSB0aGlzLnNmdUNsaWVudDtcbiAgICBjb25zdCBvYnNlcnZhYmxlID1cbiAgICAgIHRoaXMucGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVJcbiAgICAgICAgPyBpY2VUcmlja2xlQnVmZmVyLnN1YnNjcmliZXJDYW5kaWRhdGVzXG4gICAgICAgIDogaWNlVHJpY2tsZUJ1ZmZlci5wdWJsaXNoZXJDYW5kaWRhdGVzO1xuXG4gICAgdGhpcy51bnN1YnNjcmliZUljZVRyaWNrbGU/LigpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVJY2VUcmlja2xlID0gY3JlYXRlU2FmZUFzeW5jU3Vic2NyaXB0aW9uKFxuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIGFzeW5jIChjYW5kaWRhdGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGMuYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBJQ0UgY2FuZGlkYXRlIGVycm9yYCwgZSwgY2FuZGlkYXRlKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFNGVSBjbGllbnQgdG8gdXNlLlxuICAgKlxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICovXG4gIHNldFNmdUNsaWVudCA9IChzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCkgPT4ge1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGBSVENQZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpYCBtZXRob2RcbiAgICogQHBhcmFtIHNlbGVjdG9yIGFuIG9wdGlvbmFsIGBNZWRpYVN0cmVhbVRyYWNrYCB0byBnZXQgdGhlIHN0YXRzIGZvci5cbiAgICovXG4gIGdldFN0YXRzID0gKHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayB8IG51bGwpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYy5nZXRTdGF0cyhzZWxlY3Rvcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIElDRUNhbmRpZGF0ZSBldmVudCBhbmRcbiAgICogSW5pdGlhdGVzIGFuIElDRSBUcmlja2xlIHByb2Nlc3Mgd2l0aCB0aGUgU0ZVLlxuICAgKi9cbiAgcHJpdmF0ZSBvbkljZUNhbmRpZGF0ZSA9IChlOiBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBjYW5kaWRhdGUgfSA9IGU7XG4gICAgaWYgKCFjYW5kaWRhdGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdudWxsIGljZSBjYW5kaWRhdGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpY2VDYW5kaWRhdGUgPSB0aGlzLnRvSlNPTihjYW5kaWRhdGUpO1xuICAgIHRoaXMuc2Z1Q2xpZW50XG4gICAgICAuaWNlVHJpY2tsZSh7IHBlZXJUeXBlOiB0aGlzLnBlZXJUeXBlLCBpY2VDYW5kaWRhdGUgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB0aGlzLmxvZ2dlcignd2FybicsIGBJQ0VUcmlja2xlIGZhaWxlZGAsIGVycikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgSUNFIGNhbmRpZGF0ZSB0byBhIEpTT04gc3RyaW5nLlxuICAgKi9cbiAgcHJpdmF0ZSB0b0pTT04gPSAoY2FuZGlkYXRlOiBSVENJY2VDYW5kaWRhdGUpOiBzdHJpbmcgPT4ge1xuICAgIGlmICghY2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnQpIHtcbiAgICAgIC8vIHJlYWN0LW5hdGl2ZS13ZWJydGMgZG9lc24ndCBpbmNsdWRlIHVzZXJuYW1lRnJhZ21lbnQgaW4gdGhlIGNhbmRpZGF0ZVxuICAgICAgY29uc3Qgc2VnbWVudHMgPSBjYW5kaWRhdGUuY2FuZGlkYXRlLnNwbGl0KCcgJyk7XG4gICAgICBjb25zdCB1ZnJhZ0luZGV4ID0gc2VnbWVudHMuZmluZEluZGV4KChzKSA9PiBzID09PSAndWZyYWcnKSArIDE7XG4gICAgICBjb25zdCB1c2VybmFtZUZyYWdtZW50ID0gc2VnbWVudHNbdWZyYWdJbmRleF07XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAuLi5jYW5kaWRhdGUsIHVzZXJuYW1lRnJhZ21lbnQgfSk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjYW5kaWRhdGUudG9KU09OKCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBJQ0UgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2UgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIG9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElDRSBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZWRgLCBzdGF0ZSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkcpIHJldHVybjtcblxuICAgIC8vIGRvIG5vdGhpbmcgd2hlbiBJQ0UgaXMgcmVzdGFydGluZ1xuICAgIGlmICh0aGlzLmlzSWNlUmVzdGFydGluZykgcmV0dXJuO1xuXG4gICAgaWYgKHN0YXRlID09PSAnZmFpbGVkJyB8fCBzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBBdHRlbXB0aW5nIHRvIHJlc3RhcnQgSUNFYCk7XG4gICAgICB0aGlzLnJlc3RhcnRJY2UoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgSUNFIHJlc3RhcnQgZmFpbGVkYCwgZSk7XG4gICAgICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3I/LigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBJQ0UgY2FuZGlkYXRlIGVycm9yIGV2ZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBvbkljZUNhbmRpZGF0ZUVycm9yID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgIGUgaW5zdGFuY2VvZiBSVENQZWVyQ29ubmVjdGlvbkljZUVycm9yRXZlbnQgJiZcbiAgICAgIGAke2UuZXJyb3JDb2RlfTogJHtlLmVycm9yVGV4dH1gO1xuICAgIGNvbnN0IGljZVN0YXRlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgY29uc3QgbG9nTGV2ZWwgPVxuICAgICAgaWNlU3RhdGUgPT09ICdjb25uZWN0ZWQnIHx8IGljZVN0YXRlID09PSAnY2hlY2tpbmcnID8gJ2RlYnVnJyA6ICd3YXJuJztcbiAgICB0aGlzLmxvZ2dlcihsb2dMZXZlbCwgYElDRSBDYW5kaWRhdGUgZXJyb3JgLCBlcnJvck1lc3NhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBJQ0UgZ2F0aGVyaW5nIHN0YXRlIGNoYW5nZSBldmVudC5cbiAgICovXG4gIHByaXZhdGUgb25JY2VHYXRoZXJDaGFuZ2UgPSAoKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElDRSBHYXRoZXJpbmcgU3RhdGVgLCB0aGlzLnBjLmljZUdhdGhlcmluZ1N0YXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgc2lnbmFsaW5nIHN0YXRlIGNoYW5nZSBldmVudC5cbiAgICovXG4gIHByaXZhdGUgb25TaWduYWxpbmdDaGFuZ2UgPSAoKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYFNpZ25hbGluZyBzdGF0ZSBjaGFuZ2VkYCwgdGhpcy5wYy5zaWduYWxpbmdTdGF0ZSk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBQdWJsaXNoT3B0aW9uLCBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgT3B0aW1hbFZpZGVvTGF5ZXIgfSBmcm9tICcuL3ZpZGVvTGF5ZXJzJztcblxudHlwZSBUcmFuc2NlaXZlcklkID0ge1xuICBwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uO1xuICB0cmFuc2NlaXZlcjogUlRDUnRwVHJhbnNjZWl2ZXI7XG59O1xudHlwZSBUcmFja0xheWVyc0NhY2hlID0ge1xuICBwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uO1xuICBsYXllcnM6IE9wdGltYWxWaWRlb0xheWVyW107XG59O1xuXG5leHBvcnQgY2xhc3MgVHJhbnNjZWl2ZXJDYWNoZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2FjaGU6IFRyYW5zY2VpdmVySWRbXSA9IFtdO1xuICBwcml2YXRlIHJlYWRvbmx5IGxheWVyczogVHJhY2tMYXllcnNDYWNoZVtdID0gW107XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG1haW50YWluaW5nIHRoZSBvcmRlciBob3cgdHJhbnNjZWl2ZXJzIHdlcmUgYWRkZWQgdG8gdGhlIHBlZXIgY29ubmVjdGlvbi5cbiAgICogVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBzb21lIGJyb3dzZXJzIChGaXJlZm94KSBkb24ndCByZWxpYWJseSByZXBvcnRcbiAgICogdHJhY2tJZCBhbmQgYG1pZGAgcGFyYW1ldGVycy5cbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhbnNjZWl2ZXJPcmRlcjogUlRDUnRwVHJhbnNjZWl2ZXJbXSA9IFtdO1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgdHJhbnNjZWl2ZXIgdG8gdGhlIGNhY2hlLlxuICAgKi9cbiAgYWRkID0gKHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24sIHRyYW5zY2VpdmVyOiBSVENSdHBUcmFuc2NlaXZlcikgPT4ge1xuICAgIHRoaXMuY2FjaGUucHVzaCh7IHB1Ymxpc2hPcHRpb24sIHRyYW5zY2VpdmVyIH0pO1xuICAgIHRoaXMudHJhbnNjZWl2ZXJPcmRlci5wdXNoKHRyYW5zY2VpdmVyKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgdHJhbnNjZWl2ZXIgZm9yIHRoZSBnaXZlbiBwdWJsaXNoIG9wdGlvbi5cbiAgICovXG4gIGdldCA9IChwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uKTogUlRDUnRwVHJhbnNjZWl2ZXIgfCB1bmRlZmluZWQgPT4ge1xuICAgIHJldHVybiB0aGlzLmZpbmRUcmFuc2NlaXZlcihwdWJsaXNoT3B0aW9uKT8udHJhbnNjZWl2ZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGxhc3QgdHJhbnNjZWl2ZXIgZm9yIHRoZSBnaXZlbiB0cmFjayB0eXBlIGFuZCBwdWJsaXNoIG9wdGlvbiBpZC5cbiAgICovXG4gIGdldFdpdGggPSAodHJhY2tUeXBlOiBUcmFja1R5cGUsIGlkOiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gdGhpcy5maW5kVHJhbnNjZWl2ZXIoeyB0cmFja1R5cGUsIGlkIH0pPy50cmFuc2NlaXZlcjtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjYWNoZSBoYXMgdGhlIGdpdmVuIHB1Ymxpc2ggb3B0aW9uLlxuICAgKi9cbiAgaGFzID0gKHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24pOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gISF0aGlzLmdldChwdWJsaXNoT3B0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogRmluZHMgdGhlIGZpcnN0IHRyYW5zY2VpdmVyIHRoYXQgc2F0aXNmaWVzIHRoZSBnaXZlbiBwcmVkaWNhdGUuXG4gICAqL1xuICBmaW5kID0gKFxuICAgIHByZWRpY2F0ZTogKGl0ZW06IFRyYW5zY2VpdmVySWQpID0+IGJvb2xlYW4sXG4gICk6IFRyYW5zY2VpdmVySWQgfCB1bmRlZmluZWQgPT4ge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmZpbmQocHJlZGljYXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogUHJvdmlkZXMgYWxsIHRoZSBpdGVtcyBpbiB0aGUgY2FjaGUuXG4gICAqL1xuICBpdGVtcyA9ICgpOiBUcmFuc2NlaXZlcklkW10gPT4ge1xuICAgIHJldHVybiB0aGlzLmNhY2hlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0IGluZGV4IG9mIHRoZSB0cmFuc2NlaXZlciBpbiB0aGUgY2FjaGUuXG4gICAqL1xuICBpbmRleE9mID0gKHRyYW5zY2VpdmVyOiBSVENSdHBUcmFuc2NlaXZlcik6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNjZWl2ZXJPcmRlci5pbmRleE9mKHRyYW5zY2VpdmVyKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBjYWNoZWQgdmlkZW8gbGF5ZXJzIGZvciB0aGUgZ2l2ZW4gdHJhY2suXG4gICAqL1xuICBnZXRMYXllcnMgPSAoXG4gICAgcHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbixcbiAgKTogT3B0aW1hbFZpZGVvTGF5ZXJbXSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmxheWVycy5maW5kKFxuICAgICAgKGl0ZW0pID0+XG4gICAgICAgIGl0ZW0ucHVibGlzaE9wdGlvbi5pZCA9PT0gcHVibGlzaE9wdGlvbi5pZCAmJlxuICAgICAgICBpdGVtLnB1Ymxpc2hPcHRpb24udHJhY2tUeXBlID09PSBwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSxcbiAgICApO1xuICAgIHJldHVybiBlbnRyeT8ubGF5ZXJzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2aWRlbyBsYXllcnMgZm9yIHRoZSBnaXZlbiB0cmFjay5cbiAgICovXG4gIHNldExheWVycyA9IChcbiAgICBwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uLFxuICAgIGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSA9IFtdLFxuICApID0+IHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMuZmluZExheWVyKHB1Ymxpc2hPcHRpb24pO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgZW50cnkubGF5ZXJzID0gbGF5ZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxheWVycy5wdXNoKHsgcHVibGlzaE9wdGlvbiwgbGF5ZXJzIH0pO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGZpbmRUcmFuc2NlaXZlciA9IChwdWJsaXNoT3B0aW9uOiBQYXJ0aWFsPFB1Ymxpc2hPcHRpb24+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGUuZmluZChcbiAgICAgIChpdGVtKSA9PlxuICAgICAgICBpdGVtLnB1Ymxpc2hPcHRpb24uaWQgPT09IHB1Ymxpc2hPcHRpb24uaWQgJiZcbiAgICAgICAgaXRlbS5wdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSA9PT0gcHVibGlzaE9wdGlvbi50cmFja1R5cGUsXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIGZpbmRMYXllciA9IChwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJzLmZpbmQoXG4gICAgICAoaXRlbSkgPT5cbiAgICAgICAgaXRlbS5wdWJsaXNoT3B0aW9uLmlkID09PSBwdWJsaXNoT3B0aW9uLmlkICYmXG4gICAgICAgIGl0ZW0ucHVibGlzaE9wdGlvbi50cmFja1R5cGUgPT09IHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlLFxuICAgICk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG5leHBvcnQgY29uc3QgZW5zdXJlRXhoYXVzdGVkID0gKHg6IG5ldmVyLCBtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgZ2V0TG9nZ2VyKFsnaGVscGVycyddKSgnd2FybicsIG1lc3NhZ2UsIHgpO1xufTtcbiIsImltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uLy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBUcmFja011dGVUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgZW5zdXJlRXhoYXVzdGVkIH0gZnJvbSAnLi4vLi4vaGVscGVycy9lbnN1cmVFeGhhdXN0ZWQnO1xuXG5leHBvcnQgY29uc3QgdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleSA9IChcbiAgdHJhY2tUeXBlOiBUcmFja1R5cGUsXG4pOlxuICB8ICdhdWRpb1N0cmVhbSdcbiAgfCAndmlkZW9TdHJlYW0nXG4gIHwgJ3NjcmVlblNoYXJlU3RyZWFtJ1xuICB8ICdzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtJ1xuICB8IHVuZGVmaW5lZCA9PiB7XG4gIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgcmV0dXJuICdzY3JlZW5TaGFyZVN0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPOlxuICAgICAgcmV0dXJuICdzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5WSURFTzpcbiAgICAgIHJldHVybiAndmlkZW9TdHJlYW0nO1xuICAgIGNhc2UgVHJhY2tUeXBlLkFVRElPOlxuICAgICAgcmV0dXJuICdhdWRpb1N0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuVU5TUEVDSUZJRUQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYWNrIHR5cGUgaXMgdW5zcGVjaWZpZWQnKTtcbiAgICBkZWZhdWx0OlxuICAgICAgZW5zdXJlRXhoYXVzdGVkKHRyYWNrVHlwZSwgJ1Vua25vd24gdHJhY2sgdHlwZScpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbXV0ZVR5cGVUb1RyYWNrVHlwZSA9IChcbiAgbXV0ZVR5cGU6IFRyYWNrTXV0ZVR5cGUsXG4pOiBUcmFja1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBzd2l0Y2ggKG11dGVUeXBlKSB7XG4gICAgY2FzZSAnYXVkaW8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5BVURJTztcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLlZJREVPO1xuICAgIGNhc2UgJ3NjcmVlbnNoYXJlJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFO1xuICAgIGNhc2UgJ3NjcmVlbnNoYXJlX2F1ZGlvJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPO1xuICAgIGRlZmF1bHQ6XG4gICAgICBlbnN1cmVFeGhhdXN0ZWQobXV0ZVR5cGUsICdVbmtub3duIG11dGUgdHlwZScpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdG9UcmFja1R5cGUgPSAodHJhY2tUeXBlOiBzdHJpbmcpOiBUcmFja1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBzd2l0Y2ggKHRyYWNrVHlwZSkge1xuICAgIGNhc2UgJ1RSQUNLX1RZUEVfQVVESU8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5BVURJTztcbiAgICBjYXNlICdUUkFDS19UWVBFX1ZJREVPJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuVklERU87XG4gICAgY2FzZSAnVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkUnOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU7XG4gICAgY2FzZSAnVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkVfQVVESU8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU87XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc0F1ZGlvVHJhY2tUeXBlID0gKHRyYWNrVHlwZTogVHJhY2tUeXBlKTogYm9vbGVhbiA9PlxuICB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5BVURJTyB8fCB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU87XG4iLCJpbXBvcnQgeyBpc1N2Y0NvZGVjIH0gZnJvbSAnLi9jb2RlY3MnO1xuaW1wb3J0IHtcbiAgUHVibGlzaE9wdGlvbixcbiAgVmlkZW9EaW1lbnNpb24sXG4gIFZpZGVvTGF5ZXIsXG4gIFZpZGVvUXVhbGl0eSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGlzQXVkaW9UcmFja1R5cGUgfSBmcm9tICcuL2hlbHBlcnMvdHJhY2tzJztcblxuZXhwb3J0IHR5cGUgT3B0aW1hbFZpZGVvTGF5ZXIgPSBSVENSdHBFbmNvZGluZ1BhcmFtZXRlcnMgJiB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICAvLyBOT1RFIE9MOiBzaG91bGQgYmUgcGFydCBvZiBSVENSdHBFbmNvZGluZ1BhcmFtZXRlcnNcbiAgc2NhbGFiaWxpdHlNb2RlPzogc3RyaW5nO1xufTtcblxuY29uc3QgZGVmYXVsdEJpdHJhdGVQZXJSaWQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gIHE6IDMwMDAwMCxcbiAgaDogNzUwMDAwLFxuICBmOiAxMjUwMDAwLFxufTtcblxuLyoqXG4gKiBJbiBTVkMsIHdlIG5lZWQgdG8gc2VuZCBvbmx5IG9uZSB2aWRlbyBlbmNvZGluZyAobGF5ZXIpLlxuICogdGhpcyBsYXllciB3aWxsIGhhdmUgdGhlIGFkZGl0aW9uYWwgc3BhdGlhbCBhbmQgdGVtcG9yYWwgbGF5ZXJzXG4gKiBkZWZpbmVkIHZpYSB0aGUgc2NhbGFiaWxpdHlNb2RlIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSBsYXllcnMgdGhlIGxheWVycyB0byBwcm9jZXNzLlxuICovXG5leHBvcnQgY29uc3QgdG9TdmNFbmNvZGluZ3MgPSAoXG4gIGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSB8IHVuZGVmaW5lZCxcbik6IFJUQ1J0cEVuY29kaW5nUGFyYW1ldGVyc1tdIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCFsYXllcnMpIHJldHVybjtcbiAgLy8gd2UgdGFrZSB0aGUgaGlnaGVzdCBxdWFsaXR5IGxheWVyLCBhbmQgd2UgYXNzaWduIGl0IHRvIGBxYCBlbmNvZGVyLlxuICBjb25zdCB3aXRoUmlkID0gKHJpZDogc3RyaW5nKSA9PiAobDogT3B0aW1hbFZpZGVvTGF5ZXIpID0+IGwucmlkID09PSByaWQ7XG4gIGNvbnN0IGhpZ2hlc3RMYXllciA9XG4gICAgbGF5ZXJzLmZpbmQod2l0aFJpZCgnZicpKSB8fFxuICAgIGxheWVycy5maW5kKHdpdGhSaWQoJ2gnKSkgfHxcbiAgICBsYXllcnMuZmluZCh3aXRoUmlkKCdxJykpO1xuICByZXR1cm4gW3sgLi4uaGlnaGVzdExheWVyLCByaWQ6ICdxJyB9XTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHJpZCB0byBhIHZpZGVvIHF1YWxpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCByaWRUb1ZpZGVvUXVhbGl0eSA9IChyaWQ6IHN0cmluZyk6IFZpZGVvUXVhbGl0eSA9PiB7XG4gIHJldHVybiByaWQgPT09ICdxJ1xuICAgID8gVmlkZW9RdWFsaXR5LkxPV19VTlNQRUNJRklFRFxuICAgIDogcmlkID09PSAnaCdcbiAgICAgID8gVmlkZW9RdWFsaXR5Lk1JRFxuICAgICAgOiBWaWRlb1F1YWxpdHkuSElHSDsgLy8gZGVmYXVsdCB0byBISUdIXG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiB2aWRlbyBsYXllcnMgdG8gU0ZVIHZpZGVvIGxheWVycy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvVmlkZW9MYXllcnMgPSAoXG4gIGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSB8IHVuZGVmaW5lZCA9IFtdLFxuKTogVmlkZW9MYXllcltdID0+IHtcbiAgcmV0dXJuIGxheWVycy5tYXA8VmlkZW9MYXllcj4oKGxheWVyKSA9PiAoe1xuICAgIHJpZDogbGF5ZXIucmlkIHx8ICcnLFxuICAgIGJpdHJhdGU6IGxheWVyLm1heEJpdHJhdGUgfHwgMCxcbiAgICBmcHM6IGxheWVyLm1heEZyYW1lcmF0ZSB8fCAwLFxuICAgIHF1YWxpdHk6IHJpZFRvVmlkZW9RdWFsaXR5KGxheWVyLnJpZCB8fCAnJyksXG4gICAgdmlkZW9EaW1lbnNpb246IHsgd2lkdGg6IGxheWVyLndpZHRoLCBoZWlnaHQ6IGxheWVyLmhlaWdodCB9LFxuICB9KSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBzcGF0aWFsIGFuZCB0ZW1wb3JhbCBsYXllcnMgdG8gYSBzY2FsYWJpbGl0eSBtb2RlLlxuICovXG5jb25zdCB0b1NjYWxhYmlsaXR5TW9kZSA9IChzcGF0aWFsTGF5ZXJzOiBudW1iZXIsIHRlbXBvcmFsTGF5ZXJzOiBudW1iZXIpID0+XG4gIGBMJHtzcGF0aWFsTGF5ZXJzfVQke3RlbXBvcmFsTGF5ZXJzfSR7c3BhdGlhbExheWVycyA+IDEgPyAnX0tFWScgOiAnJ31gO1xuXG4vKipcbiAqIERldGVybWluZXMgdGhlIG1vc3Qgb3B0aW1hbCB2aWRlbyBsYXllcnMgZm9yIHRoZSBnaXZlbiB0cmFjay5cbiAqXG4gKiBAcGFyYW0gdmlkZW9UcmFjayB0aGUgdmlkZW8gdHJhY2sgdG8gZmluZCBvcHRpbWFsIGxheWVycyBmb3IuXG4gKiBAcGFyYW0gcHVibGlzaE9wdGlvbiB0aGUgcHVibGlzaCBvcHRpb25zIGZvciB0aGUgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCBjb21wdXRlVmlkZW9MYXllcnMgPSAoXG4gIHZpZGVvVHJhY2s6IE1lZGlhU3RyZWFtVHJhY2ssXG4gIHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24sXG4pOiBPcHRpbWFsVmlkZW9MYXllcltdIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKGlzQXVkaW9UcmFja1R5cGUocHVibGlzaE9wdGlvbi50cmFja1R5cGUpKSByZXR1cm47XG4gIGNvbnN0IG9wdGltYWxWaWRlb0xheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSA9IFtdO1xuICBjb25zdCBzZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgY29uc3QgeyB3aWR0aCA9IDAsIGhlaWdodCA9IDAgfSA9IHNldHRpbmdzO1xuICBjb25zdCB7XG4gICAgYml0cmF0ZSxcbiAgICBjb2RlYyxcbiAgICBmcHMsXG4gICAgbWF4U3BhdGlhbExheWVycyA9IDMsXG4gICAgbWF4VGVtcG9yYWxMYXllcnMgPSAzLFxuICAgIHZpZGVvRGltZW5zaW9uID0geyB3aWR0aDogMTI4MCwgaGVpZ2h0OiA3MjAgfSxcbiAgfSA9IHB1Ymxpc2hPcHRpb247XG4gIGNvbnN0IG1heEJpdHJhdGUgPSBnZXRDb21wdXRlZE1heEJpdHJhdGUoXG4gICAgdmlkZW9EaW1lbnNpb24sXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGJpdHJhdGUsXG4gICk7XG4gIGxldCBkb3duc2NhbGVGYWN0b3IgPSAxO1xuICBsZXQgYml0cmF0ZUZhY3RvciA9IDE7XG4gIGNvbnN0IHN2Y0NvZGVjID0gaXNTdmNDb2RlYyhjb2RlYz8ubmFtZSk7XG4gIGZvciAoY29uc3QgcmlkIG9mIFsnZicsICdoJywgJ3EnXS5zbGljZSgwLCBtYXhTcGF0aWFsTGF5ZXJzKSkge1xuICAgIGNvbnN0IGxheWVyOiBPcHRpbWFsVmlkZW9MYXllciA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHJpZCxcbiAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHdpZHRoIC8gZG93bnNjYWxlRmFjdG9yKSxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQgLyBkb3duc2NhbGVGYWN0b3IpLFxuICAgICAgbWF4Qml0cmF0ZTogbWF4Qml0cmF0ZSAvIGJpdHJhdGVGYWN0b3IgfHwgZGVmYXVsdEJpdHJhdGVQZXJSaWRbcmlkXSxcbiAgICAgIG1heEZyYW1lcmF0ZTogZnBzLFxuICAgIH07XG4gICAgaWYgKHN2Y0NvZGVjKSB7XG4gICAgICAvLyBmb3IgU1ZDIGNvZGVjcywgd2UgbmVlZCB0byBzZXQgdGhlIHNjYWxhYmlsaXR5IG1vZGUsIGFuZCB0aGVcbiAgICAgIC8vIGNvZGVjIHdpbGwgaGFuZGxlIHRoZSByZXN0IChsYXllcnMsIHRlbXBvcmFsIGxheWVycywgZXRjLilcbiAgICAgIGxheWVyLnNjYWxhYmlsaXR5TW9kZSA9IHRvU2NhbGFiaWxpdHlNb2RlKFxuICAgICAgICBtYXhTcGF0aWFsTGF5ZXJzLFxuICAgICAgICBtYXhUZW1wb3JhbExheWVycyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZvciBub24tU1ZDIGNvZGVjcywgd2UgbmVlZCB0byBkb3duc2NhbGUgcHJvcG9ydGlvbmFsbHkgKHNpbXVsY2FzdClcbiAgICAgIGxheWVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeSA9IGRvd25zY2FsZUZhY3RvcjtcbiAgICB9XG5cbiAgICBkb3duc2NhbGVGYWN0b3IgKj0gMjtcbiAgICBiaXRyYXRlRmFjdG9yICo9IDI7XG5cbiAgICAvLyBSZXZlcnNpbmcgdGhlIG9yZGVyIFtmLCBoLCBxXSB0byBbcSwgaCwgZl0gYXMgQ2hyb21lIHVzZXMgZW5jb2RpbmcgaW5kZXhcbiAgICAvLyB3aGVuIGRlY2lkaW5nIHdoaWNoIGxheWVyIHRvIGRpc2FibGUgd2hlbiBDUFUgb3IgYmFuZHdpZHRoIGlzIGNvbnN0cmFpbmVkLlxuICAgIC8vIEVuY29kaW5ncyBzaG91bGQgYmUgb3JkZXJlZCBpbiBpbmNyZWFzaW5nIHNwYXRpYWwgcmVzb2x1dGlvbiBvcmRlci5cbiAgICBvcHRpbWFsVmlkZW9MYXllcnMudW5zaGlmdChsYXllcik7XG4gIH1cblxuICAvLyBmb3Igc2ltcGxpY2l0eSwgd2Ugc3RhcnQgd2l0aCBhbGwgbGF5ZXJzIGVuYWJsZWQsIHRoZW4gdGhpcyBmdW5jdGlvblxuICAvLyB3aWxsIGNsZWFyL3JlYXNzaWduIHRoZSBsYXllcnMgdGhhdCBhcmUgbm90IG5lZWRlZFxuICByZXR1cm4gd2l0aFNpbXVsY2FzdENvbnN0cmFpbnRzKHNldHRpbmdzLCBvcHRpbWFsVmlkZW9MYXllcnMpO1xufTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgbWF4aW11bSBiaXRyYXRlIGZvciBhIGdpdmVuIHJlc29sdXRpb24uXG4gKiBJZiB0aGUgY3VycmVudCByZXNvbHV0aW9uIGlzIGxvd2VyIHRoYW4gdGhlIHRhcmdldCByZXNvbHV0aW9uLFxuICogd2Ugd2FudCB0byBwcm9wb3J0aW9uYWxseSByZWR1Y2UgdGhlIHRhcmdldCBiaXRyYXRlLlxuICogSWYgdGhlIGN1cnJlbnQgcmVzb2x1dGlvbiBpcyBoaWdoZXIgdGhhbiB0aGUgdGFyZ2V0IHJlc29sdXRpb24sXG4gKiB3ZSB3YW50IHRvIHVzZSB0aGUgdGFyZ2V0IGJpdHJhdGUuXG4gKlxuICogQHBhcmFtIHRhcmdldFJlc29sdXRpb24gdGhlIHRhcmdldCByZXNvbHV0aW9uLlxuICogQHBhcmFtIGN1cnJlbnRXaWR0aCB0aGUgY3VycmVudCB3aWR0aCBvZiB0aGUgdHJhY2suXG4gKiBAcGFyYW0gY3VycmVudEhlaWdodCB0aGUgY3VycmVudCBoZWlnaHQgb2YgdGhlIHRyYWNrLlxuICogQHBhcmFtIGJpdHJhdGUgdGhlIHRhcmdldCBiaXRyYXRlLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Q29tcHV0ZWRNYXhCaXRyYXRlID0gKFxuICB0YXJnZXRSZXNvbHV0aW9uOiBWaWRlb0RpbWVuc2lvbixcbiAgY3VycmVudFdpZHRoOiBudW1iZXIsXG4gIGN1cnJlbnRIZWlnaHQ6IG51bWJlcixcbiAgYml0cmF0ZTogbnVtYmVyLFxuKTogbnVtYmVyID0+IHtcbiAgLy8gaWYgdGhlIGN1cnJlbnQgcmVzb2x1dGlvbiBpcyBsb3dlciB0aGFuIHRoZSB0YXJnZXQgcmVzb2x1dGlvbixcbiAgLy8gd2Ugd2FudCB0byBwcm9wb3J0aW9uYWxseSByZWR1Y2UgdGhlIHRhcmdldCBiaXRyYXRlXG4gIGNvbnN0IHsgd2lkdGg6IHRhcmdldFdpZHRoLCBoZWlnaHQ6IHRhcmdldEhlaWdodCB9ID0gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgaWYgKGN1cnJlbnRXaWR0aCA8IHRhcmdldFdpZHRoIHx8IGN1cnJlbnRIZWlnaHQgPCB0YXJnZXRIZWlnaHQpIHtcbiAgICBjb25zdCBjdXJyZW50UGl4ZWxzID0gY3VycmVudFdpZHRoICogY3VycmVudEhlaWdodDtcbiAgICBjb25zdCB0YXJnZXRQaXhlbHMgPSB0YXJnZXRXaWR0aCAqIHRhcmdldEhlaWdodDtcbiAgICBjb25zdCByZWR1Y3Rpb25GYWN0b3IgPSBjdXJyZW50UGl4ZWxzIC8gdGFyZ2V0UGl4ZWxzO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGJpdHJhdGUgKiByZWR1Y3Rpb25GYWN0b3IpO1xuICB9XG4gIHJldHVybiBiaXRyYXRlO1xufTtcblxuLyoqXG4gKiBCcm93c2VycyBoYXZlIGRpZmZlcmVudCBzaW11bGNhc3QgY29uc3RyYWludHMgZm9yIGRpZmZlcmVudCB2aWRlbyByZXNvbHV0aW9ucy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIG1vZGlmaWVzIHRoZSBwcm92aWRlZCBsaXN0IG9mIHZpZGVvIGxheWVycyBhY2NvcmRpbmcgdG8gdGhlXG4gKiBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHNpbXVsY2FzdCBjb25zdHJhaW50cyBpbiB0aGUgQ2hyb21pdW0gYmFzZWQgYnJvd3NlcnMuXG4gKlxuICogaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2V4dGVybmFsL3dlYnJ0Yy8rL3JlZnMvaGVhZHMvbWFpbi9tZWRpYS9lbmdpbmUvc2ltdWxjYXN0LmNjIzkwXG4gKi9cbmNvbnN0IHdpdGhTaW11bGNhc3RDb25zdHJhaW50cyA9IChcbiAgc2V0dGluZ3M6IE1lZGlhVHJhY2tTZXR0aW5ncyxcbiAgb3B0aW1hbFZpZGVvTGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdLFxuKSA9PiB7XG4gIGxldCBsYXllcnM6IE9wdGltYWxWaWRlb0xheWVyW107XG5cbiAgY29uc3Qgc2l6ZSA9IE1hdGgubWF4KHNldHRpbmdzLndpZHRoIHx8IDAsIHNldHRpbmdzLmhlaWdodCB8fCAwKTtcbiAgaWYgKHNpemUgPD0gMzIwKSB7XG4gICAgLy8gcHJvdmlkZSBvbmx5IG9uZSBsYXllciAzMjB4MjQwIChxKSwgdGhlIG9uZSB3aXRoIHRoZSBoaWdoZXN0IHF1YWxpdHlcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnMuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIucmlkID09PSAnZicpO1xuICB9IGVsc2UgaWYgKHNpemUgPD0gNjQwKSB7XG4gICAgLy8gcHJvdmlkZSB0d28gbGF5ZXJzLCAxNjB4MTIwIChxKSBhbmQgNjQweDQ4MCAoaClcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnMuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIucmlkICE9PSAnaCcpO1xuICB9IGVsc2Uge1xuICAgIC8vIHByb3ZpZGUgdGhyZWUgbGF5ZXJzIGZvciBzaXplcyA+IDY0MHg0ODBcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnM7XG4gIH1cblxuICBjb25zdCByaWRNYXBwaW5nID0gWydxJywgJ2gnLCAnZiddO1xuICByZXR1cm4gbGF5ZXJzLm1hcDxPcHRpbWFsVmlkZW9MYXllcj4oKGxheWVyLCBpbmRleCkgPT4gKHtcbiAgICAuLi5sYXllcixcbiAgICByaWQ6IHJpZE1hcHBpbmdbaW5kZXhdLCAvLyByZWFzc2lnbiByaWRcbiAgfSkpO1xufTtcbiIsImltcG9ydCB7IHBhcnNlIH0gZnJvbSAnc2RwLXRyYW5zZm9ybSc7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIG1pZCBmcm9tIHRoZSB0cmFuc2NlaXZlciBvciB0aGUgU0RQLlxuICpcbiAqIEBwYXJhbSB0cmFuc2NlaXZlciB0aGUgdHJhbnNjZWl2ZXIuXG4gKiBAcGFyYW0gdHJhbnNjZWl2ZXJJbml0SW5kZXggdGhlIGluZGV4IG9mIHRoZSB0cmFuc2NlaXZlciBpbiB0aGUgdHJhbnNjZWl2ZXIncyBpbml0IGFycmF5LlxuICogQHBhcmFtIHNkcCB0aGUgU0RQLlxuICovXG5leHBvcnQgY29uc3QgZXh0cmFjdE1pZCA9IChcbiAgdHJhbnNjZWl2ZXI6IFJUQ1J0cFRyYW5zY2VpdmVyLFxuICB0cmFuc2NlaXZlckluaXRJbmRleDogbnVtYmVyLFxuICBzZHA6IHN0cmluZyB8IHVuZGVmaW5lZCxcbik6IHN0cmluZyA9PiB7XG4gIGlmICh0cmFuc2NlaXZlci5taWQpIHJldHVybiB0cmFuc2NlaXZlci5taWQ7XG4gIGlmICghc2RwKSByZXR1cm4gU3RyaW5nKHRyYW5zY2VpdmVySW5pdEluZGV4KTtcblxuICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayE7XG4gIGNvbnN0IHBhcnNlZFNkcCA9IHBhcnNlKHNkcCk7XG4gIGNvbnN0IG1lZGlhID0gcGFyc2VkU2RwLm1lZGlhLmZpbmQoKG0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgbS50eXBlID09PSB0cmFjay5raW5kICYmXG4gICAgICAvLyBpZiBgbXNpZGAgaXMgbm90IHByZXNlbnQsIHdlIGFzc3VtZSB0aGF0IHRoZSB0cmFjayBpcyB0aGUgZmlyc3Qgb25lXG4gICAgICAobS5tc2lkPy5pbmNsdWRlcyh0cmFjay5pZCkgPz8gdHJ1ZSlcbiAgICApO1xuICB9KTtcbiAgaWYgKHR5cGVvZiBtZWRpYT8ubWlkICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIFN0cmluZyhtZWRpYS5taWQpO1xuICBpZiAodHJhbnNjZWl2ZXJJbml0SW5kZXggPCAwKSByZXR1cm4gJyc7XG4gIHJldHVybiBTdHJpbmcodHJhbnNjZWl2ZXJJbml0SW5kZXgpO1xufTtcbiIsImltcG9ydCB7XG4gIEJhc2VQZWVyQ29ubmVjdGlvbixcbiAgQmFzZVBlZXJDb25uZWN0aW9uT3B0cyxcbn0gZnJvbSAnLi9CYXNlUGVlckNvbm5lY3Rpb24nO1xuaW1wb3J0IHsgVHJhbnNjZWl2ZXJDYWNoZSB9IGZyb20gJy4vVHJhbnNjZWl2ZXJDYWNoZSc7XG5pbXBvcnQge1xuICBQZWVyVHlwZSxcbiAgUHVibGlzaE9wdGlvbixcbiAgVHJhY2tJbmZvLFxuICBUcmFja1R5cGUsXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBWaWRlb1NlbmRlciB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIGNvbXB1dGVWaWRlb0xheWVycyxcbiAgdG9TdmNFbmNvZGluZ3MsXG4gIHRvVmlkZW9MYXllcnMsXG59IGZyb20gJy4vdmlkZW9MYXllcnMnO1xuaW1wb3J0IHsgaXNTdmNDb2RlYyB9IGZyb20gJy4vY29kZWNzJztcbmltcG9ydCB7IGlzQXVkaW9UcmFja1R5cGUgfSBmcm9tICcuL2hlbHBlcnMvdHJhY2tzJztcbmltcG9ydCB7IGV4dHJhY3RNaWQgfSBmcm9tICcuL2hlbHBlcnMvc2RwJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuXG5leHBvcnQgdHlwZSBQdWJsaXNoZXJDb25zdHJ1Y3Rvck9wdHMgPSBCYXNlUGVlckNvbm5lY3Rpb25PcHRzICYge1xuICBwdWJsaXNoT3B0aW9uczogUHVibGlzaE9wdGlvbltdO1xufTtcblxuLyoqXG4gKiBUaGUgYFB1Ymxpc2hlcmAgaXMgcmVzcG9uc2libGUgZm9yIHB1Ymxpc2hpbmcvdW5wdWJsaXNoaW5nIG1lZGlhIHN0cmVhbXMgdG8vZnJvbSB0aGUgU0ZVXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBQdWJsaXNoZXIgZXh0ZW5kcyBCYXNlUGVlckNvbm5lY3Rpb24ge1xuICBwcml2YXRlIHJlYWRvbmx5IHRyYW5zY2VpdmVyQ2FjaGUgPSBuZXcgVHJhbnNjZWl2ZXJDYWNoZSgpO1xuICBwcml2YXRlIHB1Ymxpc2hPcHRpb25zOiBQdWJsaXNoT3B0aW9uW107XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgYFB1Ymxpc2hlcmAgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IHB1Ymxpc2hPcHRpb25zLCAuLi5iYXNlT3B0aW9ucyB9OiBQdWJsaXNoZXJDb25zdHJ1Y3Rvck9wdHMpIHtcbiAgICBzdXBlcihQZWVyVHlwZS5QVUJMSVNIRVJfVU5TUEVDSUZJRUQsIGJhc2VPcHRpb25zKTtcbiAgICB0aGlzLnB1Ymxpc2hPcHRpb25zID0gcHVibGlzaE9wdGlvbnM7XG4gICAgdGhpcy5wYy5hZGRFdmVudExpc3RlbmVyKCduZWdvdGlhdGlvbm5lZWRlZCcsIHRoaXMub25OZWdvdGlhdGlvbk5lZWRlZCk7XG5cbiAgICB0aGlzLm9uKCdpY2VSZXN0YXJ0JywgKGljZVJlc3RhcnQpID0+IHtcbiAgICAgIGlmIChpY2VSZXN0YXJ0LnBlZXJUeXBlICE9PSBQZWVyVHlwZS5QVUJMSVNIRVJfVU5TUEVDSUZJRUQpIHJldHVybjtcbiAgICAgIHRoaXMucmVzdGFydEljZSgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFUmVzdGFydCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICB0aGlzLm9uVW5yZWNvdmVyYWJsZUVycm9yPy4oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbignY2hhbmdlUHVibGlzaFF1YWxpdHknLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgIGZvciAoY29uc3QgdmlkZW9TZW5kZXIgb2YgZXZlbnQudmlkZW9TZW5kZXJzKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2hhbmdlUHVibGlzaFF1YWxpdHkodmlkZW9TZW5kZXIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5vbignY2hhbmdlUHVibGlzaE9wdGlvbnMnLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMucHVibGlzaE9wdGlvbnMgPSBldmVudC5wdWJsaXNoT3B0aW9ucztcbiAgICAgIHJldHVybiB0aGlzLnN5bmNQdWJsaXNoT3B0aW9ucygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGFjaGVzIHRoZSBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gcmVwbGFjZSB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYFxuICAgKiBpbnN0YW5jZSB3aXRoIGEgbmV3IG9uZSAoaW4gY2FzZSBvZiBtaWdyYXRpb24pLlxuICAgKi9cbiAgZGV0YWNoRXZlbnRIYW5kbGVycygpIHtcbiAgICBzdXBlci5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKCduZWdvdGlhdGlvbm5lZWRlZCcsIHRoaXMub25OZWdvdGlhdGlvbk5lZWRlZCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHRyYWNrIG9mIHRoZSBnaXZlbiBtZWRpYSBzdHJlYW0uXG4gICAqXG4gICAqIENvbnNlY3V0aXZlIGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdpbGwgcmVwbGFjZSB0aGUgc3RyZWFtLlxuICAgKiBUaGUgcHJldmlvdXMgc3RyZWFtIHdpbGwgYmUgc3RvcHBlZC5cbiAgICpcbiAgICogQHBhcmFtIHRyYWNrIHRoZSB0cmFjayB0byBwdWJsaXNoLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0cmFjayB0eXBlIHRvIHB1Ymxpc2guXG4gICAqL1xuICBwdWJsaXNoID0gYXN5bmMgKHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLCB0cmFja1R5cGU6IFRyYWNrVHlwZSkgPT4ge1xuICAgIGlmICghdGhpcy5wdWJsaXNoT3B0aW9ucy5zb21lKChvKSA9PiBvLnRyYWNrVHlwZSA9PT0gdHJhY2tUeXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBwdWJsaXNoIG9wdGlvbnMgZm91bmQgZm9yICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19YCk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBwdWJsaXNoT3B0aW9uIG9mIHRoaXMucHVibGlzaE9wdGlvbnMpIHtcbiAgICAgIGlmIChwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSAhPT0gdHJhY2tUeXBlKSBjb250aW51ZTtcblxuICAgICAgLy8gY3JlYXRlIGEgY2xvbmUgb2YgdGhlIHRyYWNrIGFzIG90aGVyd2lzZSB0aGUgc2FtZSB0cmFja0lkIHdpbGxcbiAgICAgIC8vIGFwcGVhciBpbiB0aGUgU0RQIGluIG11bHRpcGxlIHRyYW5zY2VpdmVyc1xuICAgICAgY29uc3QgdHJhY2tUb1B1Ymxpc2ggPSB0cmFjay5jbG9uZSgpO1xuXG4gICAgICBjb25zdCB0cmFuc2NlaXZlciA9IHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5nZXQocHVibGlzaE9wdGlvbik7XG4gICAgICBpZiAoIXRyYW5zY2VpdmVyKSB7XG4gICAgICAgIHRoaXMuYWRkVHJhbnNjZWl2ZXIodHJhY2tUb1B1Ymxpc2gsIHB1Ymxpc2hPcHRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgdHJhbnNjZWl2ZXIuc2VuZGVyLnJlcGxhY2VUcmFjayh0cmFja1RvUHVibGlzaCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgbmV3IHRyYW5zY2VpdmVyIGNhcnJ5aW5nIHRoZSBnaXZlbiB0cmFjayB0byB0aGUgcGVlciBjb25uZWN0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBhZGRUcmFuc2NlaXZlciA9IChcbiAgICB0cmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgICBwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uLFxuICApID0+IHtcbiAgICBjb25zdCB2aWRlb0VuY29kaW5ncyA9IGNvbXB1dGVWaWRlb0xheWVycyh0cmFjaywgcHVibGlzaE9wdGlvbik7XG4gICAgY29uc3Qgc2VuZEVuY29kaW5ncyA9IGlzU3ZjQ29kZWMocHVibGlzaE9wdGlvbi5jb2RlYz8ubmFtZSlcbiAgICAgID8gdG9TdmNFbmNvZGluZ3ModmlkZW9FbmNvZGluZ3MpXG4gICAgICA6IHZpZGVvRW5jb2RpbmdzO1xuICAgIGNvbnN0IHRyYW5zY2VpdmVyID0gdGhpcy5wYy5hZGRUcmFuc2NlaXZlcih0cmFjaywge1xuICAgICAgZGlyZWN0aW9uOiAnc2VuZG9ubHknLFxuICAgICAgc2VuZEVuY29kaW5ncyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHRyYWNrVHlwZSA9IHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBBZGRlZCAke1RyYWNrVHlwZVt0cmFja1R5cGVdfSB0cmFuc2NlaXZlcmApO1xuICAgIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5hZGQocHVibGlzaE9wdGlvbiwgdHJhbnNjZWl2ZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgdGhlIGN1cnJlbnQgUHVibGlzaGVyIHN0YXRlIHdpdGggdGhlIHByb3ZpZGVkIHB1Ymxpc2ggb3B0aW9ucy5cbiAgICovXG4gIHByaXZhdGUgc3luY1B1Ymxpc2hPcHRpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIGVuYWJsZSBwdWJsaXNoaW5nIHdpdGggbmV3IG9wdGlvbnMgLT4gW2F2MSwgdnA5XVxuICAgIGZvciAoY29uc3QgcHVibGlzaE9wdGlvbiBvZiB0aGlzLnB1Ymxpc2hPcHRpb25zKSB7XG4gICAgICBjb25zdCB7IHRyYWNrVHlwZSB9ID0gcHVibGlzaE9wdGlvbjtcbiAgICAgIGlmICghdGhpcy5pc1B1Ymxpc2hpbmcodHJhY2tUeXBlKSkgY29udGludWU7XG4gICAgICBpZiAodGhpcy50cmFuc2NlaXZlckNhY2hlLmhhcyhwdWJsaXNoT3B0aW9uKSkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZmluZChcbiAgICAgICAgKGkpID0+XG4gICAgICAgICAgISFpLnRyYW5zY2VpdmVyLnNlbmRlci50cmFjayAmJlxuICAgICAgICAgIGkucHVibGlzaE9wdGlvbi50cmFja1R5cGUgPT09IHRyYWNrVHlwZSxcbiAgICAgICk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW0udHJhbnNjZWl2ZXIpIGNvbnRpbnVlO1xuXG4gICAgICAvLyB0YWtlIHRoZSB0cmFjayBmcm9tIHRoZSBleGlzdGluZyB0cmFuc2NlaXZlciBmb3IgdGhlIHNhbWUgdHJhY2sgdHlwZSxcbiAgICAgIC8vIGNsb25lIGl0IGFuZCBwdWJsaXNoIGl0IHdpdGggdGhlIG5ldyBwdWJsaXNoIG9wdGlvbnNcbiAgICAgIGNvbnN0IHRyYWNrID0gaXRlbS50cmFuc2NlaXZlci5zZW5kZXIudHJhY2shLmNsb25lKCk7XG4gICAgICB0aGlzLmFkZFRyYW5zY2VpdmVyKHRyYWNrLCBwdWJsaXNoT3B0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIHB1Ymxpc2hpbmcgd2l0aCBvcHRpb25zIG5vdCByZXF1aXJlZCBhbnltb3JlIC0+IFt2cDldXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5pdGVtcygpKSB7XG4gICAgICBjb25zdCB7IHB1Ymxpc2hPcHRpb24sIHRyYW5zY2VpdmVyIH0gPSBpdGVtO1xuICAgICAgY29uc3QgaGFzUHVibGlzaE9wdGlvbiA9IHRoaXMucHVibGlzaE9wdGlvbnMuc29tZShcbiAgICAgICAgKG9wdGlvbikgPT5cbiAgICAgICAgICBvcHRpb24uaWQgPT09IHB1Ymxpc2hPcHRpb24uaWQgJiZcbiAgICAgICAgICBvcHRpb24udHJhY2tUeXBlID09PSBwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSxcbiAgICAgICk7XG4gICAgICBpZiAoaGFzUHVibGlzaE9wdGlvbikgY29udGludWU7XG4gICAgICAvLyBpdCBpcyBzYWZlIHRvIHN0b3AgdGhlIHRyYWNrIGhlcmUsIGl0IGlzIGEgY2xvbmVcbiAgICAgIHRyYW5zY2VpdmVyLnNlbmRlci50cmFjaz8uc3RvcCgpO1xuICAgICAgYXdhaXQgdHJhbnNjZWl2ZXIuc2VuZGVyLnJlcGxhY2VUcmFjayhudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdHJhY2sgdHlwZSBpcyBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkIHRvIHRoZSBTRlUuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHRyYWNrIHR5cGUgdG8gY2hlY2suXG4gICAqL1xuICBpc1B1Ymxpc2hpbmcgPSAodHJhY2tUeXBlOiBUcmFja1R5cGUpOiBib29sZWFuID0+IHtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50cmFuc2NlaXZlckNhY2hlLml0ZW1zKCkpIHtcbiAgICAgIGlmIChpdGVtLnB1Ymxpc2hPcHRpb24udHJhY2tUeXBlICE9PSB0cmFja1R5cGUpIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCB0cmFjayA9IGl0ZW0udHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrO1xuICAgICAgaWYgKCF0cmFjaykgY29udGludWU7XG5cbiAgICAgIGlmICh0cmFjay5yZWFkeVN0YXRlID09PSAnbGl2ZScgJiYgdHJhY2suZW5hYmxlZCkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogTWFwcyB0aGUgZ2l2ZW4gdHJhY2sgSUQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgdHJhY2sgdHlwZS5cbiAgICovXG4gIGdldFRyYWNrVHlwZSA9ICh0cmFja0lkOiBzdHJpbmcpOiBUcmFja1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICAgIGZvciAoY29uc3QgdHJhbnNjZWl2ZXJJZCBvZiB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuaXRlbXMoKSkge1xuICAgICAgY29uc3QgeyBwdWJsaXNoT3B0aW9uLCB0cmFuc2NlaXZlciB9ID0gdHJhbnNjZWl2ZXJJZDtcbiAgICAgIGlmICh0cmFuc2NlaXZlci5zZW5kZXIudHJhY2s/LmlkID09PSB0cmFja0lkKSB7XG4gICAgICAgIHJldHVybiBwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIGNsb25lZCB0cmFjayB0aGF0IGlzIGJlaW5nIHB1Ymxpc2hlZCB0byB0aGUgU0ZVLlxuICAgKi9cbiAgc3RvcFRyYWNrcyA9ICguLi50cmFja1R5cGVzOiBUcmFja1R5cGVbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuaXRlbXMoKSkge1xuICAgICAgY29uc3QgeyBwdWJsaXNoT3B0aW9uLCB0cmFuc2NlaXZlciB9ID0gaXRlbTtcbiAgICAgIGlmICghdHJhY2tUeXBlcy5pbmNsdWRlcyhwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSkpIGNvbnRpbnVlO1xuICAgICAgdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrPy5zdG9wKCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgY2hhbmdlUHVibGlzaFF1YWxpdHkgPSBhc3luYyAodmlkZW9TZW5kZXI6IFZpZGVvU2VuZGVyKSA9PiB7XG4gICAgY29uc3QgeyB0cmFja1R5cGUsIGxheWVycywgcHVibGlzaE9wdGlvbklkIH0gPSB2aWRlb1NlbmRlcjtcbiAgICBjb25zdCBlbmFibGVkTGF5ZXJzID0gbGF5ZXJzLmZpbHRlcigobCkgPT4gbC5hY3RpdmUpO1xuXG4gICAgY29uc3QgdGFnID0gJ1VwZGF0ZSBwdWJsaXNoIHF1YWxpdHk6JztcbiAgICB0aGlzLmxvZ2dlcignaW5mbycsIGAke3RhZ30gcmVxdWVzdGVkIGxheWVycyBieSBTRlU6YCwgZW5hYmxlZExheWVycyk7XG5cbiAgICBjb25zdCBzZW5kZXIgPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0V2l0aChcbiAgICAgIHRyYWNrVHlwZSxcbiAgICAgIHB1Ymxpc2hPcHRpb25JZCxcbiAgICApPy5zZW5kZXI7XG4gICAgaWYgKCFzZW5kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2dlcignd2FybicsIGAke3RhZ30gbm8gdmlkZW8gc2VuZGVyIGZvdW5kLmApO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IHNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7XG4gICAgaWYgKHBhcmFtcy5lbmNvZGluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dnZXIoJ3dhcm4nLCBgJHt0YWd9IHRoZXJlIGFyZSBubyBlbmNvZGluZ3Mgc2V0LmApO1xuICAgIH1cblxuICAgIGNvbnN0IFtjb2RlY0luVXNlXSA9IHBhcmFtcy5jb2RlY3M7XG4gICAgY29uc3QgdXNlc1N2Y0NvZGVjID0gY29kZWNJblVzZSAmJiBpc1N2Y0NvZGVjKGNvZGVjSW5Vc2UubWltZVR5cGUpO1xuXG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IGVuY29kZXIgb2YgcGFyYW1zLmVuY29kaW5ncykge1xuICAgICAgY29uc3QgbGF5ZXIgPSB1c2VzU3ZjQ29kZWNcbiAgICAgICAgPyAvLyBmb3IgU1ZDLCB3ZSBvbmx5IGhhdmUgb25lIGxheWVyIChxKSBhbmQgb2Z0ZW4gcmlkIGlzIG9taXR0ZWRcbiAgICAgICAgICBlbmFibGVkTGF5ZXJzWzBdXG4gICAgICAgIDogLy8gZm9yIG5vbi1TVkMsIHdlIG5lZWQgdG8gZmluZCB0aGUgbGF5ZXIgYnkgcmlkIChzaW11bGNhc3QpXG4gICAgICAgICAgZW5hYmxlZExheWVycy5maW5kKChsKSA9PiBsLm5hbWUgPT09IGVuY29kZXIucmlkKSA/P1xuICAgICAgICAgIChwYXJhbXMuZW5jb2RpbmdzLmxlbmd0aCA9PT0gMSA/IGVuYWJsZWRMYXllcnNbMF0gOiB1bmRlZmluZWQpO1xuXG4gICAgICAvLyBmbGlwICdhY3RpdmUnIGZsYWcgb25seSB3aGVuIG5lY2Vzc2FyeVxuICAgICAgY29uc3Qgc2hvdWxkQWN0aXZhdGUgPSAhIWxheWVyPy5hY3RpdmU7XG4gICAgICBpZiAoc2hvdWxkQWN0aXZhdGUgIT09IGVuY29kZXIuYWN0aXZlKSB7XG4gICAgICAgIGVuY29kZXIuYWN0aXZlID0gc2hvdWxkQWN0aXZhdGU7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBza2lwIHRoZSByZXN0IG9mIHRoZSBzZXR0aW5ncyBpZiB0aGUgbGF5ZXIgaXMgZGlzYWJsZWQgb3Igbm90IGZvdW5kXG4gICAgICBpZiAoIWxheWVyKSBjb250aW51ZTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICBtYXhGcmFtZXJhdGUsXG4gICAgICAgIHNjYWxlUmVzb2x1dGlvbkRvd25CeSxcbiAgICAgICAgbWF4Qml0cmF0ZSxcbiAgICAgICAgc2NhbGFiaWxpdHlNb2RlLFxuICAgICAgfSA9IGxheWVyO1xuICAgICAgaWYgKFxuICAgICAgICBzY2FsZVJlc29sdXRpb25Eb3duQnkgPj0gMSAmJlxuICAgICAgICBzY2FsZVJlc29sdXRpb25Eb3duQnkgIT09IGVuY29kZXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5XG4gICAgICApIHtcbiAgICAgICAgZW5jb2Rlci5zY2FsZVJlc29sdXRpb25Eb3duQnkgPSBzY2FsZVJlc29sdXRpb25Eb3duQnk7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG1heEJpdHJhdGUgPiAwICYmIG1heEJpdHJhdGUgIT09IGVuY29kZXIubWF4Qml0cmF0ZSkge1xuICAgICAgICBlbmNvZGVyLm1heEJpdHJhdGUgPSBtYXhCaXRyYXRlO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhGcmFtZXJhdGUgPiAwICYmIG1heEZyYW1lcmF0ZSAhPT0gZW5jb2Rlci5tYXhGcmFtZXJhdGUpIHtcbiAgICAgICAgZW5jb2Rlci5tYXhGcmFtZXJhdGUgPSBtYXhGcmFtZXJhdGU7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBzY2FsYWJpbGl0eU1vZGUgaXMgbm90IGluIHRoZSB0eXBlZGVmcyB5ZXRcbiAgICAgIGlmIChzY2FsYWJpbGl0eU1vZGUgJiYgc2NhbGFiaWxpdHlNb2RlICE9PSBlbmNvZGVyLnNjYWxhYmlsaXR5TW9kZSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHNjYWxhYmlsaXR5TW9kZSBpcyBub3QgaW4gdGhlIHR5cGVkZWZzIHlldFxuICAgICAgICBlbmNvZGVyLnNjYWxhYmlsaXR5TW9kZSA9IHNjYWxhYmlsaXR5TW9kZTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlRW5jb2RlcnMgPSBwYXJhbXMuZW5jb2RpbmdzLmZpbHRlcigoZSkgPT4gZS5hY3RpdmUpO1xuICAgIGlmICghY2hhbmdlZCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyKCdpbmZvJywgYCR7dGFnfSBubyBjaGFuZ2U6YCwgYWN0aXZlRW5jb2RlcnMpO1xuICAgIH1cblxuICAgIGF3YWl0IHNlbmRlci5zZXRQYXJhbWV0ZXJzKHBhcmFtcyk7XG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgJHt0YWd9IGVuYWJsZWQgcmlkczpgLCBhY3RpdmVFbmNvZGVycyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc3RhcnRzIHRoZSBJQ0UgY29ubmVjdGlvbiBhbmQgcmVuZWdvdGlhdGVzIHdpdGggdGhlIFNGVS5cbiAgICovXG4gIHJlc3RhcnRJY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1Jlc3RhcnRpbmcgSUNFIGNvbm5lY3Rpb24nKTtcbiAgICBjb25zdCBzaWduYWxpbmdTdGF0ZSA9IHRoaXMucGMuc2lnbmFsaW5nU3RhdGU7XG4gICAgaWYgKHRoaXMuaXNJY2VSZXN0YXJ0aW5nIHx8IHNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1sb2NhbC1vZmZlcicpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdJQ0UgcmVzdGFydCBpcyBhbHJlYWR5IGluIHByb2dyZXNzJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHRoaXMubmVnb3RpYXRlKHsgaWNlUmVzdGFydDogdHJ1ZSB9KTtcbiAgfTtcblxuICBwcml2YXRlIG9uTmVnb3RpYXRpb25OZWVkZWQgPSAoKSA9PiB7XG4gICAgd2l0aG91dENvbmN1cnJlbmN5KCdwdWJsaXNoZXIubmVnb3RpYXRlJywgKCkgPT4gdGhpcy5uZWdvdGlhdGUoKSkuY2F0Y2goXG4gICAgICAoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBOZWdvdGlhdGlvbiBmYWlsZWQuYCwgZXJyKTtcbiAgICAgICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvcj8uKCk7XG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyBhIG5ldyBvZmZlci9hbnN3ZXIgZXhjaGFuZ2Ugd2l0aCB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBTRlUuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25hbCBvZmZlciBvcHRpb25zIHRvIHVzZS5cbiAgICovXG4gIHByaXZhdGUgbmVnb3RpYXRlID0gYXN5bmMgKG9wdGlvbnM/OiBSVENPZmZlck9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGMuY3JlYXRlT2ZmZXIob3B0aW9ucyk7XG4gICAgY29uc3QgdHJhY2tJbmZvcyA9IHRoaXMuZ2V0QW5ub3VuY2VkVHJhY2tzKG9mZmVyLnNkcCk7XG4gICAgaWYgKHRyYWNrSW5mb3MubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IG5lZ290aWF0ZSB3aXRob3V0IGFubm91bmNpbmcgYW55IHRyYWNrc2ApO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IG9wdGlvbnM/LmljZVJlc3RhcnQgPz8gZmFsc2U7XG4gICAgICBhd2FpdCB0aGlzLnBjLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuXG4gICAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBhd2FpdCB0aGlzLnNmdUNsaWVudC5zZXRQdWJsaXNoZXIoe1xuICAgICAgICBzZHA6IG9mZmVyLnNkcCB8fCAnJyxcbiAgICAgICAgdHJhY2tzOiB0cmFja0luZm9zLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgYXdhaXQgdGhpcy5wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7IHR5cGU6ICdhbnN3ZXInLCBzZHA6IHJlc3BvbnNlLnNkcCB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmFkZFRyaWNrbGVkSWNlQ2FuZGlkYXRlcygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB0cmFja3MgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICovXG4gIGdldFB1Ymxpc2hlZFRyYWNrcyA9ICgpOiBNZWRpYVN0cmVhbVRyYWNrW10gPT4ge1xuICAgIGNvbnN0IHRyYWNrczogTWVkaWFTdHJlYW1UcmFja1tdID0gW107XG4gICAgZm9yIChjb25zdCB7IHRyYW5zY2VpdmVyIH0gb2YgdGhpcy50cmFuc2NlaXZlckNhY2hlLml0ZW1zKCkpIHtcbiAgICAgIGNvbnN0IHRyYWNrID0gdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrO1xuICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJykgdHJhY2tzLnB1c2godHJhY2spO1xuICAgIH1cbiAgICByZXR1cm4gdHJhY2tzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB0cmFja3MgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHNkcCBhbiBvcHRpb25hbCBTRFAgdG8gZXh0cmFjdCB0aGUgYG1pZGAgZnJvbS5cbiAgICovXG4gIGdldEFubm91bmNlZFRyYWNrcyA9IChzZHA6IHN0cmluZyB8IHVuZGVmaW5lZCk6IFRyYWNrSW5mb1tdID0+IHtcbiAgICBjb25zdCB0cmFja0luZm9zOiBUcmFja0luZm9bXSA9IFtdO1xuICAgIGZvciAoY29uc3QgYnVuZGxlIG9mIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5pdGVtcygpKSB7XG4gICAgICBjb25zdCB7IHRyYW5zY2VpdmVyLCBwdWJsaXNoT3B0aW9uIH0gPSBidW5kbGU7XG4gICAgICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjaztcbiAgICAgIGlmICghdHJhY2spIGNvbnRpbnVlO1xuXG4gICAgICB0cmFja0luZm9zLnB1c2godGhpcy50b1RyYWNrSW5mbyh0cmFuc2NlaXZlciwgcHVibGlzaE9wdGlvbiwgc2RwKSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFja0luZm9zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB0cmFja3MgdGhhdCBhcmUgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICogVGhpcyBtZXRob2Qgc2hhbGwgYmUgdXNlZCBmb3IgdGhlIHJlY29ubmVjdGlvbiBmbG93LlxuICAgKiBUaGVyZSB3ZSBzaG91bGRuJ3QgYW5ub3VuY2UgdGhlIHRyYWNrcyB0aGF0IGhhdmUgYmVlbiBzdG9wcGVkIGR1ZSB0byBhIGNvZGVjIHN3aXRjaC5cbiAgICovXG4gIGdldEFubm91bmNlZFRyYWNrc0ZvclJlY29ubmVjdCA9ICgpOiBUcmFja0luZm9bXSA9PiB7XG4gICAgY29uc3Qgc2RwID0gdGhpcy5wYy5sb2NhbERlc2NyaXB0aW9uPy5zZHA7XG4gICAgY29uc3QgdHJhY2tJbmZvczogVHJhY2tJbmZvW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHB1Ymxpc2hPcHRpb24gb2YgdGhpcy5wdWJsaXNoT3B0aW9ucykge1xuICAgICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0KHB1Ymxpc2hPcHRpb24pO1xuICAgICAgaWYgKCF0cmFuc2NlaXZlciB8fCAhdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrKSBjb250aW51ZTtcblxuICAgICAgdHJhY2tJbmZvcy5wdXNoKHRoaXMudG9UcmFja0luZm8odHJhbnNjZWl2ZXIsIHB1Ymxpc2hPcHRpb24sIHNkcCkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhY2tJbmZvcztcbiAgfTtcblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIGdpdmVuIHRyYW5zY2VpdmVyIHRvIGEgYFRyYWNrSW5mb2Agb2JqZWN0LlxuICAgKi9cbiAgcHJpdmF0ZSB0b1RyYWNrSW5mbyA9IChcbiAgICB0cmFuc2NlaXZlcjogUlRDUnRwVHJhbnNjZWl2ZXIsXG4gICAgcHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbixcbiAgICBzZHA6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgKTogVHJhY2tJbmZvID0+IHtcbiAgICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayE7XG4gICAgY29uc3QgaXNUcmFja0xpdmUgPSB0cmFjay5yZWFkeVN0YXRlID09PSAnbGl2ZSc7XG4gICAgY29uc3QgbGF5ZXJzID0gaXNUcmFja0xpdmVcbiAgICAgID8gY29tcHV0ZVZpZGVvTGF5ZXJzKHRyYWNrLCBwdWJsaXNoT3B0aW9uKVxuICAgICAgOiB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0TGF5ZXJzKHB1Ymxpc2hPcHRpb24pO1xuICAgIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5zZXRMYXllcnMocHVibGlzaE9wdGlvbiwgbGF5ZXJzKTtcblxuICAgIGNvbnN0IGlzQXVkaW9UcmFjayA9IGlzQXVkaW9UcmFja1R5cGUocHVibGlzaE9wdGlvbi50cmFja1R5cGUpO1xuICAgIGNvbnN0IGlzU3RlcmVvID0gaXNBdWRpb1RyYWNrICYmIHRyYWNrLmdldFNldHRpbmdzKCkuY2hhbm5lbENvdW50ID09PSAyO1xuICAgIGNvbnN0IHRyYW5zY2VpdmVySW5kZXggPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuaW5kZXhPZih0cmFuc2NlaXZlcik7XG4gICAgY29uc3QgYXVkaW9TZXR0aW5ncyA9IHRoaXMuc3RhdGUuc2V0dGluZ3M/LmF1ZGlvO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYWNrSWQ6IHRyYWNrLmlkLFxuICAgICAgbGF5ZXJzOiB0b1ZpZGVvTGF5ZXJzKGxheWVycyksXG4gICAgICB0cmFja1R5cGU6IHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlLFxuICAgICAgbWlkOiBleHRyYWN0TWlkKHRyYW5zY2VpdmVyLCB0cmFuc2NlaXZlckluZGV4LCBzZHApLFxuICAgICAgc3RlcmVvOiBpc1N0ZXJlbyxcbiAgICAgIGR0eDogaXNBdWRpb1RyYWNrICYmICEhYXVkaW9TZXR0aW5ncz8ub3B1c19kdHhfZW5hYmxlZCxcbiAgICAgIHJlZDogaXNBdWRpb1RyYWNrICYmICEhYXVkaW9TZXR0aW5ncz8ucmVkdW5kYW50X2NvZGluZ19lbmFibGVkLFxuICAgICAgbXV0ZWQ6ICFpc1RyYWNrTGl2ZSxcbiAgICAgIGNvZGVjOiBwdWJsaXNoT3B0aW9uLmNvZGVjLFxuICAgICAgcHVibGlzaE9wdGlvbklkOiBwdWJsaXNoT3B0aW9uLmlkLFxuICAgIH07XG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBCYXNlUGVlckNvbm5lY3Rpb24sXG4gIEJhc2VQZWVyQ29ubmVjdGlvbk9wdHMsXG59IGZyb20gJy4vQmFzZVBlZXJDb25uZWN0aW9uJztcbmltcG9ydCB7IFBlZXJUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFN1YnNjcmliZXJPZmZlciB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IHRvVHJhY2tUeXBlLCB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5IH0gZnJvbSAnLi9oZWxwZXJzL3RyYWNrcyc7XG5cbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYCB0aGF0IGhhbmRsZXMgdGhlIGluY29taW5nXG4gKiBtZWRpYSBzdHJlYW1zIGZyb20gdGhlIFNGVS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmliZXIgZXh0ZW5kcyBCYXNlUGVlckNvbm5lY3Rpb24ge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBgU3Vic2NyaWJlcmAgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRzOiBCYXNlUGVlckNvbm5lY3Rpb25PcHRzKSB7XG4gICAgc3VwZXIoUGVlclR5cGUuU1VCU0NSSUJFUiwgb3B0cyk7XG4gICAgdGhpcy5wYy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuaGFuZGxlT25UcmFjayk7XG5cbiAgICB0aGlzLm9uKCdzdWJzY3JpYmVyT2ZmZXInLCBhc3luYyAoc3Vic2NyaWJlck9mZmVyKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5uZWdvdGlhdGUoc3Vic2NyaWJlck9mZmVyKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBOZWdvdGlhdGlvbiBmYWlsZWQuYCwgZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGFjaGVzIHRoZSBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gcmVwbGFjZSB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYFxuICAgKiBpbnN0YW5jZSB3aXRoIGEgbmV3IG9uZSAoaW4gY2FzZSBvZiBtaWdyYXRpb24pLlxuICAgKi9cbiAgZGV0YWNoRXZlbnRIYW5kbGVycygpIHtcbiAgICBzdXBlci5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuaGFuZGxlT25UcmFjayk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdGFydHMgdGhlIElDRSBjb25uZWN0aW9uIGFuZCByZW5lZ290aWF0ZXMgd2l0aCB0aGUgU0ZVLlxuICAgKi9cbiAgcmVzdGFydEljZSA9IGFzeW5jICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnUmVzdGFydGluZyBJQ0UgY29ubmVjdGlvbicpO1xuICAgIGlmICh0aGlzLnBjLnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1yZW1vdGUtb2ZmZXInKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnSUNFIHJlc3RhcnQgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYy5jb25uZWN0aW9uU3RhdGUgPT09ICduZXcnKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgYElDRSBjb25uZWN0aW9uIGlzIG5vdCB5ZXQgZXN0YWJsaXNoZWQsIHNraXBwaW5nIHJlc3RhcnQuYCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzSXNJY2VSZXN0YXJ0aW5nID0gdGhpcy5pc0ljZVJlc3RhcnRpbmc7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gdHJ1ZTtcbiAgICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LmljZVJlc3RhcnQoe1xuICAgICAgICBwZWVyVHlwZTogUGVlclR5cGUuU1VCU0NSSUJFUixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIHN0YXRlLCBhcyBvdXIgaW50ZW50IGZvciByZXN0YXJ0aW5nIElDRSBmYWlsZWRcbiAgICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gcHJldmlvdXNJc0ljZVJlc3RhcnRpbmc7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGhhbmRsZU9uVHJhY2sgPSAoZTogUlRDVHJhY2tFdmVudCkgPT4ge1xuICAgIGNvbnN0IFtwcmltYXJ5U3RyZWFtXSA9IGUuc3RyZWFtcztcbiAgICAvLyBleGFtcGxlOiBgZTNmNmFhZjgtYjAzZC00OTExLWJlMzYtODNmNDdkMzdhNzZhOlRSQUNLX1RZUEVfVklERU9gXG4gICAgY29uc3QgW3RyYWNrSWQsIHJhd1RyYWNrVHlwZV0gPSBwcmltYXJ5U3RyZWFtLmlkLnNwbGl0KCc6Jyk7XG4gICAgY29uc3QgcGFydGljaXBhbnRUb1VwZGF0ZSA9IHRoaXMuc3RhdGUucGFydGljaXBhbnRzLmZpbmQoXG4gICAgICAocCkgPT4gcC50cmFja0xvb2t1cFByZWZpeCA9PT0gdHJhY2tJZCxcbiAgICApO1xuICAgIHRoaXMubG9nZ2VyKFxuICAgICAgJ2RlYnVnJyxcbiAgICAgIGBbb25UcmFja106IEdvdCByZW1vdGUgJHtyYXdUcmFja1R5cGV9IHRyYWNrIGZvciB1c2VySWQ6ICR7cGFydGljaXBhbnRUb1VwZGF0ZT8udXNlcklkfWAsXG4gICAgICBlLnRyYWNrLmlkLFxuICAgICAgZS50cmFjayxcbiAgICApO1xuXG4gICAgY29uc3QgdHJhY2tEZWJ1Z0luZm8gPSBgJHtwYXJ0aWNpcGFudFRvVXBkYXRlPy51c2VySWR9ICR7cmF3VHJhY2tUeXBlfToke3RyYWNrSWR9YDtcbiAgICBlLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ211dGUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBbb25UcmFja106IFRyYWNrIG11dGVkOiAke3RyYWNrRGVidWdJbmZvfWApO1xuICAgIH0pO1xuXG4gICAgZS50cmFjay5hZGRFdmVudExpc3RlbmVyKCd1bm11dGUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBbb25UcmFja106IFRyYWNrIHVubXV0ZWQ6ICR7dHJhY2tEZWJ1Z0luZm99YCk7XG4gICAgfSk7XG5cbiAgICBlLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgW29uVHJhY2tdOiBUcmFjayBlbmRlZDogJHt0cmFja0RlYnVnSW5mb31gKTtcbiAgICAgIHRoaXMuc3RhdGUucmVtb3ZlT3JwaGFuZWRUcmFjayhwcmltYXJ5U3RyZWFtLmlkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRyYWNrVHlwZSA9IHRvVHJhY2tUeXBlKHJhd1RyYWNrVHlwZSk7XG4gICAgaWYgKCF0cmFja1R5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2dlcignZXJyb3InLCBgVW5rbm93biB0cmFjayB0eXBlOiAke3Jhd1RyYWNrVHlwZX1gKTtcbiAgICB9XG5cbiAgICBpZiAoIXBhcnRpY2lwYW50VG9VcGRhdGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgIGBbb25UcmFja106IFJlY2VpdmVkIHRyYWNrIGZvciB1bmtub3duIHBhcnRpY2lwYW50OiAke3RyYWNrSWR9YCxcbiAgICAgICAgZSxcbiAgICAgICk7XG4gICAgICB0aGlzLnN0YXRlLnJlZ2lzdGVyT3JwaGFuZWRUcmFjayh7XG4gICAgICAgIGlkOiBwcmltYXJ5U3RyZWFtLmlkLFxuICAgICAgICB0cmFja0xvb2t1cFByZWZpeDogdHJhY2tJZCxcbiAgICAgICAgdHJhY2s6IHByaW1hcnlTdHJlYW0sXG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN0cmVhbUtpbmRQcm9wID0gdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleSh0cmFja1R5cGUpO1xuICAgIGlmICghc3RyZWFtS2luZFByb3ApIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBVbmtub3duIHRyYWNrIHR5cGU6ICR7cmF3VHJhY2tUeXBlfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCB0aGUgcHJldmlvdXMgc3RyZWFtIHRvIGRpc3Bvc2UgaXQgbGF0ZXJcbiAgICAvLyB1c3VhbGx5IHRoaXMgaGFwcGVucyBkdXJpbmcgbWlncmF0aW9uLCB3aGVuIHRoZSBzdHJlYW0gaXMgcmVwbGFjZWRcbiAgICAvLyB3aXRoIGEgbmV3IG9uZSBidXQgdGhlIG9sZCBvbmUgaXMgc3RpbGwgaW4gdGhlIHN0YXRlXG4gICAgY29uc3QgcHJldmlvdXNTdHJlYW0gPSBwYXJ0aWNpcGFudFRvVXBkYXRlW3N0cmVhbUtpbmRQcm9wXTtcblxuICAgIC8vIHJlcGxhY2UgdGhlIHByZXZpb3VzIHN0cmVhbSB3aXRoIHRoZSBuZXcgb25lLCBwcmV2ZW50cyBmbGlja2VyaW5nXG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFRvVXBkYXRlLnNlc3Npb25JZCwge1xuICAgICAgW3N0cmVhbUtpbmRQcm9wXTogcHJpbWFyeVN0cmVhbSxcbiAgICB9KTtcblxuICAgIC8vIG5vdywgZGlzcG9zZSB0aGUgcHJldmlvdXMgc3RyZWFtIGlmIGl0IGV4aXN0c1xuICAgIGlmIChwcmV2aW91c1N0cmVhbSkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgYFtvblRyYWNrXTogQ2xlYW5pbmcgdXAgcHJldmlvdXMgcmVtb3RlICR7ZS50cmFjay5raW5kfSB0cmFja3MgZm9yIHVzZXJJZDogJHtwYXJ0aWNpcGFudFRvVXBkYXRlLnVzZXJJZH1gLFxuICAgICAgKTtcbiAgICAgIHByZXZpb3VzU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgdC5zdG9wKCk7XG4gICAgICAgIHByZXZpb3VzU3RyZWFtLnJlbW92ZVRyYWNrKHQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgbmVnb3RpYXRlID0gYXN5bmMgKHN1YnNjcmliZXJPZmZlcjogU3Vic2NyaWJlck9mZmVyKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgUmVjZWl2ZWQgc3Vic2NyaWJlck9mZmVyYCwgc3Vic2NyaWJlck9mZmVyKTtcblxuICAgIGF3YWl0IHRoaXMucGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe1xuICAgICAgdHlwZTogJ29mZmVyJyxcbiAgICAgIHNkcDogc3Vic2NyaWJlck9mZmVyLnNkcCxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkVHJpY2tsZWRJY2VDYW5kaWRhdGVzKCk7XG5cbiAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLnBjLmNyZWF0ZUFuc3dlcigpO1xuICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihhbnN3ZXIpO1xuXG4gICAgYXdhaXQgdGhpcy5zZnVDbGllbnQuc2VuZEFuc3dlcih7XG4gICAgICBwZWVyVHlwZTogUGVlclR5cGUuU1VCU0NSSUJFUixcbiAgICAgIHNkcDogYW5zd2VyLnNkcCB8fCAnJyxcbiAgICB9KTtcblxuICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gZmFsc2U7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBTZnVFdmVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBEaXNwYXRjaGFibGVNZXNzYWdlLCBTZnVFdmVudEtpbmRzIH0gZnJvbSAnLi9EaXNwYXRjaGVyJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVdlYlNvY2tldFNpZ25hbENoYW5uZWwgPSAob3B0czoge1xuICBlbmRwb2ludDogc3RyaW5nO1xuICBvbk1lc3NhZ2U6IDxLIGV4dGVuZHMgU2Z1RXZlbnRLaW5kcz4obWVzc2FnZTogRGlzcGF0Y2hhYmxlTWVzc2FnZTxLPikgPT4gdm9pZDtcbiAgbG9nVGFnOiBzdHJpbmc7XG59KSA9PiB7XG4gIGNvbnN0IHsgZW5kcG9pbnQsIG9uTWVzc2FnZSwgbG9nVGFnIH0gPSBvcHRzO1xuICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydTZnVDbGllbnRXUycsIGxvZ1RhZ10pO1xuICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoZW5kcG9pbnQpO1xuICB3cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJzsgLy8gZG8gd2UgbmVlZCB0aGlzP1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGUpID0+IHtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ1NpZ25hbGluZyBXUyBjaGFubmVsIGVycm9yJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKGUpID0+IHtcbiAgICBsb2dnZXIoJ2luZm8nLCAnU2lnbmFsaW5nIFdTIGNoYW5uZWwgaXMgY2xvc2VkJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoZSkgPT4ge1xuICAgIGxvZ2dlcignaW5mbycsICdTaWduYWxpbmcgV1MgY2hhbm5lbCBpcyBvcGVuJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJcbiAgICAgICAgICA/IFNmdUV2ZW50LmZyb21CaW5hcnkobmV3IFVpbnQ4QXJyYXkoZS5kYXRhKSlcbiAgICAgICAgICA6IFNmdUV2ZW50LmZyb21Kc29uU3RyaW5nKGUuZGF0YS50b1N0cmluZygpKTtcblxuICAgICAgb25NZXNzYWdlKG1lc3NhZ2UgYXMgRGlzcGF0Y2hhYmxlTWVzc2FnZTxTZnVFdmVudEtpbmRzPik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIoXG4gICAgICAgICdlcnJvcicsXG4gICAgICAgICdGYWlsZWQgdG8gZGVjb2RlIGEgbWVzc2FnZS4gQ2hlY2sgd2hldGhlciB0aGUgUHJvdG8gbW9kZWxzIG1hdGNoLicsXG4gICAgICAgIHsgZXZlbnQ6IGUsIGVycm9yOiBlcnIgfSxcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHdzO1xufTtcbiIsImltcG9ydCB7IElDRVNlcnZlciB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5cbmV4cG9ydCBjb25zdCB0b1J0Y0NvbmZpZ3VyYXRpb24gPSAoY29uZmlnOiBJQ0VTZXJ2ZXJbXSk6IFJUQ0NvbmZpZ3VyYXRpb24gPT4ge1xuICByZXR1cm4ge1xuICAgIGljZVNlcnZlcnM6IGNvbmZpZy5tYXAoKGljZSkgPT4gKHtcbiAgICAgIHVybHM6IGljZS51cmxzLFxuICAgICAgdXNlcm5hbWU6IGljZS51c2VybmFtZSxcbiAgICAgIGNyZWRlbnRpYWw6IGljZS5wYXNzd29yZCxcbiAgICB9KSksXG4gIH07XG59O1xuIiwiZXhwb3J0IGludGVyZmFjZSBTYWZlUHJvbWlzZTxUPiB7XG4gICgpOiBQcm9taXNlPFQ+O1xuICBjaGVja1BlbmRpbmcoKTogYm9vbGVhbjtcbn1cblxudHlwZSBGdWxmaWxsbWVudDxUPiA9XG4gIHwge1xuICAgICAgc3RhdHVzOiAncmVzb2x2ZWQnO1xuICAgICAgcmVzdWx0OiBUO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0dXM6ICdyZWplY3RlZCc7XG4gICAgICBlcnJvcjogdW5rbm93bjtcbiAgICB9O1xuXG4vKipcbiAqIFNhdmluZyBhIGxvbmctbGl2ZWQgcmVmZXJlbmNlIHRvIGEgcHJvbWlzZSB0aGF0IGNhbiByZWplY3QgY2FuIGJlIHVuc2FmZSxcbiAqIHNpbmNlIHJlamVjdGluZyB0aGUgcHJvbWlzZSBjYXVzZXMgYW4gdW5oYW5kbGVkIHJlamVjdGlvbiBlcnJvciAoZXZlbiBpZiB0aGVcbiAqIHJlamVjdGlvbiBpcyBoYW5kbGVkIGV2ZXJ5d2hlcmUgcHJvbWlzZSByZXN1bHQgaXMgZXhwZWN0ZWQpLlxuICpcbiAqIFRvIGF2b2lkIHRoYXQsIHdlIGFkZCBib3RoIHJlc29sdXRpb24gYW5kIHJlamVjdGlvbiBoYW5kbGVycyB0byB0aGUgcHJvbWlzZS5cbiAqIFRoYXQgd2F5LCB0aGUgc2F2ZWQgcHJvbWlzZSBuZXZlciByZWplY3RzLiBBIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGFzIHJldHVyblxuICogdmFsdWUgdG8gYnVpbGQgYSAqbmV3KiBwcm9taXNlLCB0aGF0IHJlc29sdmVzIGFuZCByZWplY3RzIGFsb25nIHdpdGhcbiAqIHRoZSBvcmlnaW5hbCBwcm9taXNlLlxuICogQHBhcmFtIHByb21pc2UgUHJvbWlzZSB0byB3cmFwLCB3aGljaCBwb3NzaWJseSByZWplY3RzXG4gKiBAcmV0dXJucyBDYWxsYmFjayB0byBidWlsZCBhIG5ldyBwcm9taXNlLCB3aGljaCByZXNvbHZlcyBhbmQgcmVqZWN0cyBhbG9uZ1xuICogd2l0aCB0aGUgb3JpZ2luYWwgcHJvbWlzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVNhZmVQcm9taXNlPFQ+KHByb21pc2U6IFByb21pc2U8VD4pOiBTYWZlUHJvbWlzZTxUPiB7XG4gIGxldCBpc1BlbmRpbmcgPSB0cnVlO1xuXG4gIGNvbnN0IHNhZmVQcm9taXNlOiBQcm9taXNlPEZ1bGZpbGxtZW50PFQ+PiA9IHByb21pc2VcbiAgICAudGhlbihcbiAgICAgIChyZXN1bHQpID0+ICh7IHN0YXR1czogJ3Jlc29sdmVkJyBhcyBjb25zdCwgcmVzdWx0IH0pLFxuICAgICAgKGVycm9yKSA9PiAoeyBzdGF0dXM6ICdyZWplY3RlZCcgYXMgY29uc3QsIGVycm9yIH0pLFxuICAgIClcbiAgICAuZmluYWxseSgoKSA9PiAoaXNQZW5kaW5nID0gZmFsc2UpKTtcblxuICBjb25zdCB1bndyYXBQcm9taXNlID0gKCkgPT5cbiAgICBzYWZlUHJvbWlzZS50aGVuKChmdWxmaWxsbWVudCkgPT4ge1xuICAgICAgaWYgKGZ1bGZpbGxtZW50LnN0YXR1cyA9PT0gJ3JlamVjdGVkJykgdGhyb3cgZnVsZmlsbG1lbnQuZXJyb3I7XG4gICAgICByZXR1cm4gZnVsZmlsbG1lbnQucmVzdWx0O1xuICAgIH0pO1xuXG4gIHVud3JhcFByb21pc2UuY2hlY2tQZW5kaW5nID0gKCkgPT4gaXNQZW5kaW5nO1xuICByZXR1cm4gdW53cmFwUHJvbWlzZTtcbn1cblxuZXhwb3J0IHR5cGUgUHJvbWlzZVdpdGhSZXNvbHZlcnM8VD4gPSB7XG4gIHByb21pc2U6IFByb21pc2U8VD47XG4gIHJlc29sdmU6ICh2YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB2b2lkO1xuICByZWplY3Q6IChyZWFzb246IGFueSkgPT4gdm9pZDtcbiAgaXNSZXNvbHZlZDogYm9vbGVhbjtcbiAgaXNSZWplY3RlZDogYm9vbGVhbjtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBwcm9taXNlIHdpdGggcmVzb2x2ZXJzLlxuICpcbiAqIEJhc2VkIG9uOlxuICogLSBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcm9taXNlLXdpdGgtcmVzb2x2ZXJzL2Jsb2IvbWFpbi9wb2x5ZmlsbHMuanNcbiAqL1xuZXhwb3J0IGNvbnN0IHByb21pc2VXaXRoUmVzb2x2ZXJzID0gPFQgPSB2b2lkPigpOiBQcm9taXNlV2l0aFJlc29sdmVyczxUPiA9PiB7XG4gIGxldCByZXNvbHZlOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcbiAgbGV0IHJlamVjdDogKHJlYXNvbjogYW55KSA9PiB2b2lkO1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8VD4oKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgIHJlamVjdCA9IF9yZWplY3Q7XG4gIH0pO1xuXG4gIGxldCBpc1Jlc29sdmVkID0gZmFsc2U7XG4gIGxldCBpc1JlamVjdGVkID0gZmFsc2U7XG5cbiAgY29uc3QgcmVzb2x2ZXIgPSAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4ge1xuICAgIGlzUmVzb2x2ZWQgPSB0cnVlO1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IHJlamVjdGVyID0gKHJlYXNvbjogYW55KSA9PiB7XG4gICAgaXNSZWplY3RlZCA9IHRydWU7XG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIHJlc29sdmU6IHJlc29sdmVyLFxuICAgIHJlamVjdDogcmVqZWN0ZXIsXG4gICAgaXNSZXNvbHZlZCxcbiAgICBpc1JlamVjdGVkLFxuICB9O1xufTtcbiIsImNvbnN0IHVuaW5pdGlhbGl6ZWQgPSBTeW1ib2woJ3VuaW5pdGlhbGl6ZWQnKTtcblxuLyoqXG4gKiBMYXppbHkgY3JlYXRlcyBhIHZhbHVlIHVzaW5nIGEgcHJvdmlkZWQgZmFjdG9yeVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGF6eTxUPihmYWN0b3J5OiAoKSA9PiBUKTogKCkgPT4gVCB7XG4gIGxldCB2YWx1ZTogVCB8IHR5cGVvZiB1bmluaXRpYWxpemVkID0gdW5pbml0aWFsaXplZDtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAodmFsdWUgPT09IHVuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHZhbHVlID0gZmFjdG9yeSgpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cbiIsIi8vIERvIG5vdCBtb2RpZnkgdGhpcyBmaWxlIG1hbnVhbGx5LiBJbnN0ZWFkLCBlZGl0IHdvcmtlci50c1xuLy8gYW5kIHRoZSBydW4gLi9nZW5lcmF0ZS10aW1lci13b3JrZXIuc2hcbmV4cG9ydCBjb25zdCB0aW1lcldvcmtlciA9IHtcbiAgc3JjOiBgY29uc3QgdGltZXJJZE1hcHBpbmcgPSBuZXcgTWFwKCk7XG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gZXZlbnQuZGF0YTtcbiAgICBzd2l0Y2ggKHJlcXVlc3QudHlwZSkge1xuICAgICAgICBjYXNlICdzZXRUaW1lb3V0JzpcbiAgICAgICAgY2FzZSAnc2V0SW50ZXJ2YWwnOlxuICAgICAgICAgICAgdGltZXJJZE1hcHBpbmcuc2V0KHJlcXVlc3QuaWQsIChyZXF1ZXN0LnR5cGUgPT09ICdzZXRUaW1lb3V0JyA/IHNldFRpbWVvdXQgOiBzZXRJbnRlcnZhbCkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRpY2socmVxdWVzdC5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcXVlc3QudHlwZSA9PT0gJ3NldFRpbWVvdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVySWRNYXBwaW5nLmRlbGV0ZShyZXF1ZXN0LmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZXF1ZXN0LnRpbWVvdXQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbGVhclRpbWVvdXQnOlxuICAgICAgICBjYXNlICdjbGVhckludGVydmFsJzpcbiAgICAgICAgICAgIChyZXF1ZXN0LnR5cGUgPT09ICdjbGVhclRpbWVvdXQnID8gY2xlYXJUaW1lb3V0IDogY2xlYXJJbnRlcnZhbCkodGltZXJJZE1hcHBpbmcuZ2V0KHJlcXVlc3QuaWQpKTtcbiAgICAgICAgICAgIHRpbWVySWRNYXBwaW5nLmRlbGV0ZShyZXF1ZXN0LmlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn0pO1xuZnVuY3Rpb24gdGljayhpZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IHR5cGU6ICd0aWNrJywgaWQgfTtcbiAgICBzZWxmLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xufWAsXG59O1xuIiwiaW1wb3J0IHsgbGF6eSB9IGZyb20gJy4uL2hlbHBlcnMvbGF6eSc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgVGltZXJXb3JrZXJFdmVudCwgVGltZXJXb3JrZXJSZXF1ZXN0IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyB0aW1lcldvcmtlciB9IGZyb20gJy4vd29ya2VyLmJ1aWxkJztcblxuY2xhc3MgVGltZXJXb3JrZXIge1xuICBwcml2YXRlIGN1cnJlbnRUaW1lcklkID0gMTtcbiAgcHJpdmF0ZSBjYWxsYmFja3MgPSBuZXcgTWFwPG51bWJlciwgKCkgPT4gdm9pZD4oKTtcbiAgcHJpdmF0ZSB3b3JrZXI6IFdvcmtlciB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBmYWxsYmFjayA9IGZhbHNlO1xuXG4gIHNldHVwKHsgdXNlVGltZXJXb3JrZXIgPSB0cnVlIH06IHsgdXNlVGltZXJXb3JrZXI/OiBib29sZWFuIH0gPSB7fSk6IHZvaWQge1xuICAgIGlmICghdXNlVGltZXJXb3JrZXIpIHtcbiAgICAgIHRoaXMuZmFsbGJhY2sgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzb3VyY2UgPSB0aW1lcldvcmtlci5zcmM7XG4gICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3NvdXJjZV0sIHtcbiAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBzY3JpcHQgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyKHNjcmlwdCwgeyBuYW1lOiAnc3RyLXRpbWVyLXdvcmtlcicgfSk7XG4gICAgICB0aGlzLndvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgaWQgfSA9IGV2ZW50LmRhdGEgYXMgVGltZXJXb3JrZXJFdmVudDtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd0aWNrJykge1xuICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLmdldChpZCk/LigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgZ2V0TG9nZ2VyKFsndGltZXItd29ya2VyJ10pKCdlcnJvcicsIGVycik7XG4gICAgICB0aGlzLmZhbGxiYWNrID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuY2FsbGJhY2tzLmNsZWFyKCk7XG4gICAgdGhpcy53b3JrZXI/LnRlcm1pbmF0ZSgpO1xuICAgIHRoaXMud29ya2VyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZmFsbGJhY2sgPSBmYWxzZTtcbiAgfVxuXG4gIGdldCByZWFkeSgpIHtcbiAgICByZXR1cm4gdGhpcy5mYWxsYmFjayB8fCBCb29sZWFuKHRoaXMud29ya2VyKTtcbiAgfVxuXG4gIHNldEludGVydmFsKGNhbGxiYWNrOiAoKSA9PiB2b2lkLCB0aW1lb3V0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNldFRpbWVyKCdzZXRJbnRlcnZhbCcsIGNhbGxiYWNrLCB0aW1lb3V0KTtcbiAgfVxuXG4gIGNsZWFySW50ZXJ2YWwoaWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyVGltZXIoJ2NsZWFySW50ZXJ2YWwnLCBpZCk7XG4gIH1cblxuICBzZXRUaW1lb3V0KGNhbGxiYWNrOiAoKSA9PiB2b2lkLCB0aW1lb3V0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNldFRpbWVyKCdzZXRUaW1lb3V0JywgY2FsbGJhY2ssIHRpbWVvdXQpO1xuICB9XG5cbiAgY2xlYXJUaW1lb3V0KGlkPzogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhclRpbWVyKCdjbGVhclRpbWVvdXQnLCBpZCk7XG4gIH1cblxuICBwcml2YXRlIHNldFRpbWVyKFxuICAgIHR5cGU6ICdzZXRUaW1lb3V0JyB8ICdzZXRJbnRlcnZhbCcsXG4gICAgY2FsbGJhY2s6ICgpID0+IHZvaWQsXG4gICAgdGltZW91dDogbnVtYmVyLFxuICApIHtcbiAgICBpZiAoIXRoaXMucmVhZHkpIHtcbiAgICAgIHRoaXMuc2V0dXAoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mYWxsYmFjaykge1xuICAgICAgcmV0dXJuICh0eXBlID09PSAnc2V0VGltZW91dCcgPyBzZXRUaW1lb3V0IDogc2V0SW50ZXJ2YWwpKFxuICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgdGltZW91dCxcbiAgICAgICkgYXMgdW5rbm93biBhcyBudW1iZXI7XG4gICAgfVxuXG4gICAgY29uc3QgaWQgPSB0aGlzLmdldFRpbWVySWQoKTtcblxuICAgIHRoaXMuY2FsbGJhY2tzLnNldChpZCwgKCkgPT4ge1xuICAgICAgY2FsbGJhY2soKTtcblxuICAgICAgLy8gVGltZW91dHMgYXJlIG9uZS1vZmYgb3BlcmF0aW9ucywgc28gbm8gbmVlZCB0byBrZWVwIGNhbGxiYWNrIHJlZmVyZW5jZVxuICAgICAgLy8gYWZ0ZXIgdGltZXIgaGFzIGZpcmVkXG4gICAgICBpZiAodHlwZSA9PT0gJ3NldFRpbWVvdXQnKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLmRlbGV0ZShpZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZSwgaWQsIHRpbWVvdXQgfSk7XG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhclRpbWVyKHR5cGU6ICdjbGVhclRpbWVvdXQnIHwgJ2NsZWFySW50ZXJ2YWwnLCBpZD86IG51bWJlcikge1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucmVhZHkpIHtcbiAgICAgIHRoaXMuc2V0dXAoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mYWxsYmFjaykge1xuICAgICAgKHR5cGUgPT09ICdjbGVhclRpbWVvdXQnID8gY2xlYXJUaW1lb3V0IDogY2xlYXJJbnRlcnZhbCkoaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2tzLmRlbGV0ZShpZCk7XG4gICAgdGhpcy5zZW5kTWVzc2FnZSh7IHR5cGUsIGlkIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRUaW1lcklkKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRUaW1lcklkKys7XG4gIH1cblxuICBwcml2YXRlIHNlbmRNZXNzYWdlKG1lc3NhZ2U6IFRpbWVyV29ya2VyUmVxdWVzdCkge1xuICAgIGlmICghdGhpcy53b3JrZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgdGltZXIgd29ya2VyIGJlZm9yZSBpdCdzIHNldCB1cFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgfVxufVxuXG5sZXQgdGltZXJXb3JrZXJFbmFibGVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBlbmFibGVUaW1lcldvcmtlciA9ICgpID0+IHtcbiAgdGltZXJXb3JrZXJFbmFibGVkID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRUaW1lcnMgPSBsYXp5KCgpID0+IHtcbiAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGltZXJXb3JrZXIoKTtcbiAgaW5zdGFuY2Uuc2V0dXAoeyB1c2VUaW1lcldvcmtlcjogdGltZXJXb3JrZXJFbmFibGVkIH0pO1xuICByZXR1cm4gaW5zdGFuY2U7XG59KTtcbiIsImltcG9ydCB7IFNpZ25hbFNlcnZlckNsaWVudCB9IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5jbGllbnQnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU2lnbmFsQ2xpZW50LFxuICByZXRyeWFibGUsXG4gIHdpdGhIZWFkZXJzLFxuICB3aXRoUmVxdWVzdExvZ2dlcixcbn0gZnJvbSAnLi9ycGMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCxcbiAgRGlzcGF0Y2hlcixcbiAgSWNlVHJpY2tsZUJ1ZmZlcixcbn0gZnJvbSAnLi9ydGMnO1xuaW1wb3J0IHtcbiAgSm9pblJlcXVlc3QsXG4gIEpvaW5SZXNwb25zZSxcbiAgU2Z1UmVxdWVzdCxcbn0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgU2VuZEFuc3dlclJlcXVlc3QsXG4gIFNlbmRTdGF0c1JlcXVlc3QsXG4gIFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gIFRyYWNrTXV0ZVN0YXRlLFxuICBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbCc7XG5pbXBvcnQgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUR2NCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQgeyBDcmVkZW50aWFscyB9IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGdldExvZ0xldmVsIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHtcbiAgbWFrZVNhZmVQcm9taXNlLFxuICBQcm9taXNlV2l0aFJlc29sdmVycyxcbiAgcHJvbWlzZVdpdGhSZXNvbHZlcnMsXG4gIFNhZmVQcm9taXNlLFxufSBmcm9tICcuL2hlbHBlcnMvcHJvbWlzZSc7XG5pbXBvcnQgeyBnZXRUaW1lcnMgfSBmcm9tICcuL3RpbWVycyc7XG5cbmV4cG9ydCB0eXBlIFN0cmVhbVNmdUNsaWVudENvbnN0cnVjdG9yID0ge1xuICAvKipcbiAgICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgaW5zdGFuY2UgdG8gdXNlLlxuICAgKi9cbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcblxuICAvKipcbiAgICogVGhlIGNyZWRlbnRpYWxzIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHM7XG5cbiAgLyoqXG4gICAqIGBzZXNzaW9uSWRgIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbG9nIHRhZyB0byB1c2UgZm9yIGxvZ2dpbmcuIFVzZWZ1bCBmb3IgZGVidWdnaW5nIG11bHRpcGxlIGluc3RhbmNlcy5cbiAgICovXG4gIGxvZ1RhZzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHdhaXRpbmcgZm9yIHRoZSBgam9pblJlc3BvbnNlYC5cbiAgICogRGVmYXVsdHMgdG8gNTAwMG1zLlxuICAgKi9cbiAgam9pblJlc3BvbnNlVGltZW91dD86IG51bWJlcjtcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uIGlzIGNsb3NlZC5cbiAgICovXG4gIG9uU2lnbmFsQ2xvc2U/OiAoKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBUaGUgU3RyZWFtQ2xpZW50IGluc3RhbmNlIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcbn07XG5cbi8qKlxuICogVGhlIGNsaWVudCB1c2VkIGZvciBleGNoYW5naW5nIGluZm9ybWF0aW9uIHdpdGggdGhlIFNGVS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVNmdUNsaWVudCB7XG4gIC8qKlxuICAgKiBBIGJ1ZmZlciBmb3IgSUNFIENhbmRpZGF0ZXMgdGhhdCBhcmUgcmVjZWl2ZWQgYmVmb3JlXG4gICAqIHRoZSBQdWJsaXNoZXIgYW5kIFN1YnNjcmliZXIgUGVlciBDb25uZWN0aW9ucyBhcmUgcmVhZHkgdG8gaGFuZGxlIHRoZW0uXG4gICAqL1xuICByZWFkb25seSBpY2VUcmlja2xlQnVmZmVyID0gbmV3IEljZVRyaWNrbGVCdWZmZXIoKTtcblxuICAvKipcbiAgICogVGhlIGBzZXNzaW9uSWRgIG9mIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHBhcnRpY2lwYW50LlxuICAgKi9cbiAgcmVhZG9ubHkgc2Vzc2lvbklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBgZWRnZU5hbWVgIHJlcHJlc2VudGluZyB0aGUgZWRnZSB0aGUgY2xpZW50IGlzIGNvbm5lY3RlZCB0by5cbiAgICovXG4gIHJlYWRvbmx5IGVkZ2VOYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEhvbGRzIHRoZSBjdXJyZW50IFdlYlNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBTRlUuXG4gICAqL1xuICBwcml2YXRlIHNpZ25hbFdzITogV2ViU29ja2V0O1xuXG4gIC8qKlxuICAgKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgcmVhZHkgKG9wZW4pLlxuICAgKi9cbiAgcHJpdmF0ZSBzaWduYWxSZWFkeSE6IFNhZmVQcm9taXNlPFdlYlNvY2tldD47XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8gaW5kaWNhdGUgaWYgdGhlIGNsaWVudCBpcyBpbiB0aGUgcHJvY2VzcyBvZiBsZWF2aW5nIHRoZSBjYWxsLlxuICAgKiBUaGlzIGlzIHNldCB0byBgdHJ1ZWAgd2hlbiB0aGUgdXNlciBpbml0aWF0ZXMgdGhlIGxlYXZlIHByb2Nlc3MuXG4gICAqL1xuICBpc0xlYXZpbmcgPSBmYWxzZTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHJwYzogU2lnbmFsU2VydmVyQ2xpZW50O1xuICBwcml2YXRlIGtlZXBBbGl2ZUludGVydmFsPzogbnVtYmVyO1xuICBwcml2YXRlIGNvbm5lY3Rpb25DaGVja1RpbWVvdXQ/OiBOb2RlSlMuVGltZW91dDtcbiAgcHJpdmF0ZSBtaWdyYXRlQXdheVRpbWVvdXQ/OiBOb2RlSlMuVGltZW91dDtcbiAgcHJpdmF0ZSBwaW5nSW50ZXJ2YWxJbk1zID0gMTAgKiAxMDAwO1xuICBwcml2YXRlIHVuaGVhbHRoeVRpbWVvdXRJbk1zID0gdGhpcy5waW5nSW50ZXJ2YWxJbk1zICsgNSAqIDEwMDA7XG4gIHByaXZhdGUgbGFzdE1lc3NhZ2VUaW1lc3RhbXA/OiBEYXRlO1xuICBwcml2YXRlIHJlYWRvbmx5IHVuc3Vic2NyaWJlSWNlVHJpY2tsZTogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSB1bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IG9uU2lnbmFsQ2xvc2U6ICgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dUYWc6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBjcmVkZW50aWFsczogQ3JlZGVudGlhbHM7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBqb2luUmVzcG9uc2VUaW1lb3V0OiBudW1iZXI7XG4gIHByaXZhdGUgbmV0d29ya0F2YWlsYWJsZVRhc2s6IFByb21pc2VXaXRoUmVzb2x2ZXJzPHZvaWQ+IHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIEpvaW5SZXNwb25zZSBpcyByZWNlaXZlZC5cbiAgICogUmVqZWN0cyBhZnRlciBhIGNlcnRhaW4gdGhyZXNob2xkIGlmIHRoZSByZXNwb25zZSBpcyBub3QgcmVjZWl2ZWQuXG4gICAqL1xuICBwcml2YXRlIGpvaW5SZXNwb25zZVRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVyczxKb2luUmVzcG9uc2U+KCk7XG5cbiAgLyoqXG4gICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtaWdyYXRpb24gaXMgY29tcGxldGUuXG4gICAqIFJlamVjdHMgYWZ0ZXIgYSBjZXJ0YWluIHRocmVzaG9sZCBpZiB0aGUgbWlncmF0aW9uIGlzIG5vdCBjb21wbGV0ZS5cbiAgICovXG4gIHByaXZhdGUgbWlncmF0aW9uVGFzaz86IFByb21pc2VXaXRoUmVzb2x2ZXJzPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBBIGNvbnRyb2xsZXIgdG8gYWJvcnQgdGhlIGN1cnJlbnQgcmVxdWVzdHMuXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAvKipcbiAgICogVGhlIG5vcm1hbCBjbG9zdXJlIGNvZGUuIFVzZWQgZm9yIGNvbnRyb2xsZWQgc2h1dGRvd25zLlxuICAgKi9cbiAgc3RhdGljIE5PUk1BTF9DTE9TVVJFID0gMTAwMDtcbiAgLyoqXG4gICAqIFRoZSBlcnJvciBjb2RlIHVzZWQgd2hlbiB0aGUgU0ZVIGNvbm5lY3Rpb24gaXMgdW5oZWFsdGh5LlxuICAgKiBVc3VhbGx5LCB0aGlzIG1lYW5zIHRoYXQgbm8gbWVzc2FnZSBoYXMgYmVlbiByZWNlaXZlZCBmcm9tIHRoZSBTRlUgZm9yXG4gICAqIGEgY2VydGFpbiBhbW91bnQgb2YgdGltZSAoYGNvbm5lY3Rpb25DaGVja1RpbWVvdXRgKS5cbiAgICovXG4gIHN0YXRpYyBFUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSA9IDQwMDE7XG4gIC8qKlxuICAgKiBUaGUgZXJyb3IgY29kZSB1c2VkIHdoZW4gdGhlIFNGVSBjb25uZWN0aW9uIGlzIGRpc3Bvc2VkIGJlY2F1c2UgYSBuZXdcbiAgICogY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCBvciBpcyBhYm91dCB0byBiZSBlc3RhYmxpc2hlZC5cbiAgICogSGVyZSwgd2UgZG9uJ3QgdXNlIDEwMDAgKG5vcm1hbCBjbG9zdXJlKSBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdGhlXG4gICAqIFNGVSB0byBjbGVhbiB1cCB0aGUgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBwYXJ0aWNpcGFudC5cbiAgICovXG4gIHN0YXRpYyBESVNQT1NFX09MRF9TT0NLRVQgPSA0MDAyO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFNGVSBjbGllbnQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGlzcGF0Y2hlcixcbiAgICBjcmVkZW50aWFscyxcbiAgICBzZXNzaW9uSWQsXG4gICAgbG9nVGFnLFxuICAgIGpvaW5SZXNwb25zZVRpbWVvdXQgPSA1MDAwLFxuICAgIG9uU2lnbmFsQ2xvc2UsXG4gICAgc3RyZWFtQ2xpZW50LFxuICB9OiBTdHJlYW1TZnVDbGllbnRDb25zdHJ1Y3Rvcikge1xuICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uSWQgfHwgZ2VuZXJhdGVVVUlEdjQoKTtcbiAgICB0aGlzLm9uU2lnbmFsQ2xvc2UgPSBvblNpZ25hbENsb3NlO1xuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICBjb25zdCB7IHNlcnZlciwgdG9rZW4gfSA9IGNyZWRlbnRpYWxzO1xuICAgIHRoaXMuZWRnZU5hbWUgPSBzZXJ2ZXIuZWRnZV9uYW1lO1xuICAgIHRoaXMuam9pblJlc3BvbnNlVGltZW91dCA9IGpvaW5SZXNwb25zZVRpbWVvdXQ7XG4gICAgdGhpcy5sb2dUYWcgPSBsb2dUYWc7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoWydTZnVDbGllbnQnLCBsb2dUYWddKTtcbiAgICB0aGlzLnJwYyA9IGNyZWF0ZVNpZ25hbENsaWVudCh7XG4gICAgICBiYXNlVXJsOiBzZXJ2ZXIudXJsLFxuICAgICAgaW50ZXJjZXB0b3JzOiBbXG4gICAgICAgIHdpdGhIZWFkZXJzKHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSksXG4gICAgICAgIGdldExvZ0xldmVsKCkgPT09ICd0cmFjZScgJiYgd2l0aFJlcXVlc3RMb2dnZXIodGhpcy5sb2dnZXIsICd0cmFjZScpLFxuICAgICAgXS5maWx0ZXIoKHYpID0+ICEhdiksXG4gICAgfSk7XG5cbiAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciB0aGUgSUNFVHJpY2tsZSBraW5kIG9mIGV2ZW50cy5cbiAgICAvLyBUaGUgU0ZVIG1pZ2h0IHRyaWdnZXIgdGhlc2UgZXZlbnRzIGJlZm9yZSB0aGUgaW5pdGlhbCBSVENcbiAgICAvLyBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIG9yIFwiSm9pblJlc3BvbnNlXCIgcmVjZWl2ZWQuXG4gICAgLy8gSW4gdGhhdCBjYXNlLCB0aG9zZSBldmVudHMgKElDRSBjYW5kaWRhdGVzKSBuZWVkIHRvIGJlIGJ1ZmZlcmVkXG4gICAgLy8gYW5kIGxhdGVyIGFkZGVkIHRvIHRoZSBhcHByb3ByaWF0ZSBQZWVyQ29ubmVjdGlvblxuICAgIC8vIG9uY2UgdGhlIHJlbW90ZURlc2NyaXB0aW9uIGlzIGtub3duIGFuZCBzZXQuXG4gICAgdGhpcy51bnN1YnNjcmliZUljZVRyaWNrbGUgPSBkaXNwYXRjaGVyLm9uKCdpY2VUcmlja2xlJywgKGljZVRyaWNrbGUpID0+IHtcbiAgICAgIHRoaXMuaWNlVHJpY2tsZUJ1ZmZlci5wdXNoKGljZVRyaWNrbGUpO1xuICAgIH0pO1xuXG4gICAgLy8gbGlzdGVuIHRvIG5ldHdvcmsgY2hhbmdlcyB0byBoYW5kbGUgb2ZmbGluZSBzdGF0ZVxuICAgIC8vIHdlIHNob3VsZG4ndCBhdHRlbXB0IHRvIHJlY292ZXIgd2Vic29ja2V0IGNvbm5lY3Rpb24gd2hlbiBvZmZsaW5lXG4gICAgdGhpcy51bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkID0gc3RyZWFtQ2xpZW50Lm9uKCduZXR3b3JrLmNoYW5nZWQnLCAoZSkgPT4ge1xuICAgICAgaWYgKCFlLm9ubGluZSkge1xuICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrID0gcHJvbWlzZVdpdGhSZXNvbHZlcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2s/LnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY3JlYXRlV2ViU29ja2V0KCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVdlYlNvY2tldCA9ICgpID0+IHtcbiAgICB0aGlzLnNpZ25hbFdzID0gY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCh7XG4gICAgICBsb2dUYWc6IHRoaXMubG9nVGFnLFxuICAgICAgZW5kcG9pbnQ6IGAke3RoaXMuY3JlZGVudGlhbHMuc2VydmVyLndzX2VuZHBvaW50fT90YWc9JHt0aGlzLmxvZ1RhZ31gLFxuICAgICAgb25NZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICB0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUNvbm5lY3Rpb25DaGVjaygpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuZGlzcGF0Y2gobWVzc2FnZSwgdGhpcy5sb2dUYWcpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2lnbmFsV3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLmhhbmRsZVdlYlNvY2tldENsb3NlKTtcblxuICAgIHRoaXMuc2lnbmFsUmVhZHkgPSBtYWtlU2FmZVByb21pc2UoXG4gICAgICBQcm9taXNlLnJhY2U8V2ViU29ja2V0PihbXG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgY29uc3Qgb25PcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxXcy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcGVuJywgb25PcGVuKTtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5zaWduYWxXcyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnNpZ25hbFdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvbk9wZW4pO1xuICAgICAgICB9KSxcblxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ1NGVSBXUyBjb25uZWN0aW9uIHRpbWVkIG91dCcpKSxcbiAgICAgICAgICAgIHRoaXMuam9pblJlc3BvbnNlVGltZW91dCxcbiAgICAgICAgICApO1xuICAgICAgICB9KSxcbiAgICAgIF0pLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBjbGVhblVwV2ViU29ja2V0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2lnbmFsV3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLmhhbmRsZVdlYlNvY2tldENsb3NlKTtcbiAgfTtcblxuICBnZXQgaXNIZWFsdGh5KCkge1xuICAgIHJldHVybiB0aGlzLnNpZ25hbFdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOO1xuICB9XG5cbiAgZ2V0IGpvaW5UYXNrKCkge1xuICAgIHJldHVybiB0aGlzLmpvaW5SZXNwb25zZVRhc2sucHJvbWlzZTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlV2ViU29ja2V0Q2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zaWduYWxXcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMuaGFuZGxlV2ViU29ja2V0Q2xvc2UpO1xuICAgIGdldFRpbWVycygpLmNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgdGhpcy5vblNpZ25hbENsb3NlPy4oKTtcbiAgfTtcblxuICBjbG9zZSA9IChjb2RlOiBudW1iZXIgPSBTdHJlYW1TZnVDbGllbnQuTk9STUFMX0NMT1NVUkUsIHJlYXNvbj86IHN0cmluZykgPT4ge1xuICAgIGlmICh0aGlzLnNpZ25hbFdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgQ2xvc2luZyBTRlUgV1MgY29ubmVjdGlvbjogJHtjb2RlfSAtICR7cmVhc29ufWApO1xuICAgICAgdGhpcy5zaWduYWxXcy5jbG9zZShjb2RlLCBganMtY2xpZW50OiAke3JlYXNvbn1gKTtcbiAgICAgIHRoaXMuY2xlYW5VcFdlYlNvY2tldCgpO1xuICAgIH1cbiAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgfTtcblxuICBwcml2YXRlIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ0Rpc3Bvc2luZyBTRlUgY2xpZW50Jyk7XG4gICAgdGhpcy51bnN1YnNjcmliZUljZVRyaWNrbGUoKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlTmV0d29ya0NoYW5nZWQoKTtcbiAgICBjbGVhckludGVydmFsKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLm1pZ3JhdGVBd2F5VGltZW91dCk7XG4gICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB0aGlzLm1pZ3JhdGlvblRhc2s/LnJlc29sdmUoKTtcbiAgICB0aGlzLmljZVRyaWNrbGVCdWZmZXIuZGlzcG9zZSgpO1xuICB9O1xuXG4gIGxlYXZlQW5kQ2xvc2UgPSBhc3luYyAocmVhc29uOiBzdHJpbmcpID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmlzTGVhdmluZyA9IHRydWU7XG4gICAgICBhd2FpdCB0aGlzLm5vdGlmeUxlYXZlKHJlYXNvbik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnRXJyb3Igbm90aWZ5aW5nIFNGVSBhYm91dCBsZWF2aW5nIGNhbGwnLCBlcnIpO1xuICAgIH1cblxuICAgIHRoaXMuY2xvc2UoU3RyZWFtU2Z1Q2xpZW50Lk5PUk1BTF9DTE9TVVJFLCByZWFzb24uc3Vic3RyaW5nKDAsIDExNSkpO1xuICB9O1xuXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMgPSBhc3luYyAodHJhY2tzOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXSkgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLnVwZGF0ZVN1YnNjcmlwdGlvbnMoeyBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLCB0cmFja3MgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzZXRQdWJsaXNoZXIgPSBhc3luYyAoZGF0YTogT21pdDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5zZXRQdWJsaXNoZXIoeyAuLi5kYXRhLCBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgc2VuZEFuc3dlciA9IGFzeW5jIChkYXRhOiBPbWl0PFNlbmRBbnN3ZXJSZXF1ZXN0LCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5zZW5kQW5zd2VyKHsgLi4uZGF0YSwgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIGljZVRyaWNrbGUgPSBhc3luYyAoZGF0YTogT21pdDxJQ0VUcmlja2xlLCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5pY2VUcmlja2xlKHsgLi4uZGF0YSwgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIGljZVJlc3RhcnQgPSBhc3luYyAoZGF0YTogT21pdDxJQ0VSZXN0YXJ0UmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuaWNlUmVzdGFydCh7IC4uLmRhdGEsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICB1cGRhdGVNdXRlU3RhdGVzID0gYXN5bmMgKG11dGVTdGF0ZXM6IFRyYWNrTXV0ZVN0YXRlW10pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PlxuICAgICAgICB0aGlzLnJwYy51cGRhdGVNdXRlU3RhdGVzKHsgbXV0ZVN0YXRlcywgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIHNlbmRTdGF0cyA9IGFzeW5jIChzdGF0czogT21pdDxTZW5kU3RhdHNSZXF1ZXN0LCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5zZW5kU3RhdHMoeyAuLi5zdGF0cywgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIHN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc3RhcnROb2lzZUNhbmNlbGxhdGlvbih7IHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzdG9wTm9pc2VDYW5jZWxsYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHsgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIGVudGVyTWlncmF0aW9uID0gYXN5bmMgKG9wdHM6IHsgdGltZW91dD86IG51bWJlciB9ID0ge30pID0+IHtcbiAgICB0aGlzLmlzTGVhdmluZyA9IHRydWU7XG4gICAgY29uc3QgeyB0aW1lb3V0ID0gNyAqIDEwMDAgfSA9IG9wdHM7XG5cbiAgICB0aGlzLm1pZ3JhdGlvblRhc2s/LnJlamVjdChuZXcgRXJyb3IoJ0NhbmNlbGxlZCBwcmV2aW91cyBtaWdyYXRpb24nKSk7XG4gICAgY29uc3QgdGFzayA9ICh0aGlzLm1pZ3JhdGlvblRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVycygpKTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuZGlzcGF0Y2hlci5vbihcbiAgICAgICdwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubWlncmF0ZUF3YXlUaW1lb3V0KTtcbiAgICAgICAgdGFzay5yZXNvbHZlKCk7XG4gICAgICB9LFxuICAgICk7XG4gICAgdGhpcy5taWdyYXRlQXdheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB0YXNrLnJlamVjdChcbiAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgIGBNaWdyYXRpb24gKCR7dGhpcy5sb2dUYWd9KSBmYWlsZWQgdG8gY29tcGxldGUgaW4gJHt0aW1lb3V0fW1zYCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSwgdGltZW91dCk7XG5cbiAgICByZXR1cm4gdGFzay5wcm9taXNlO1xuICB9O1xuXG4gIGpvaW4gPSBhc3luYyAoXG4gICAgZGF0YTogT21pdDxKb2luUmVxdWVzdCwgJ3Nlc3Npb25JZCcgfCAndG9rZW4nPixcbiAgKTogUHJvbWlzZTxKb2luUmVzcG9uc2U+ID0+IHtcbiAgICAvLyB3YWl0IGZvciB0aGUgc2lnbmFsIHdlYiBzb2NrZXQgdG8gYmUgcmVhZHkgYmVmb3JlIHNlbmRpbmcgXCJqb2luUmVxdWVzdFwiXG4gICAgYXdhaXQgdGhpcy5zaWduYWxSZWFkeSgpO1xuICAgIGlmICh0aGlzLmpvaW5SZXNwb25zZVRhc2suaXNSZXNvbHZlZCB8fCB0aGlzLmpvaW5SZXNwb25zZVRhc2suaXNSZWplY3RlZCkge1xuICAgICAgLy8gd2UgbmVlZCB0byBsb2NrIHRoZSBSUEMgcmVxdWVzdHMgdW50aWwgd2UgcmVjZWl2ZSBhIEpvaW5SZXNwb25zZS5cbiAgICAgIC8vIHRoYXQncyB3aHkgd2UgaGF2ZSB0aGlzIHByaW1pdGl2ZSBsb2NrIG1lY2hhbmlzbS5cbiAgICAgIC8vIHRoZSBjbGllbnQgc3RhcnRzIHdpdGggYWxyZWFkeSBpbml0aWFsaXplZCBqb2luUmVzcG9uc2VUYXNrLFxuICAgICAgLy8gYW5kIHRoaXMgY29kZSBjcmVhdGVzIGEgbmV3IG9uZSBmb3IgdGhlIG5leHQgam9pbiByZXF1ZXN0LlxuICAgICAgdGhpcy5qb2luUmVzcG9uc2VUYXNrID0gcHJvbWlzZVdpdGhSZXNvbHZlcnM8Sm9pblJlc3BvbnNlPigpO1xuICAgIH1cblxuICAgIC8vIGNhcHR1cmUgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgam9pblJlc3BvbnNlVGFzayBhcyBpdCBtaWdodFxuICAgIC8vIGJlIHJlcGxhY2VkIHdpdGggYSBuZXcgb25lIGluIGNhc2UgYSBzZWNvbmQgam9pbiByZXF1ZXN0IGlzIG1hZGVcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5qb2luUmVzcG9uc2VUYXNrO1xuXG4gICAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLmRpc3BhdGNoZXIub24oJ2pvaW5SZXNwb25zZScsIChqb2luUmVzcG9uc2UpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdSZWNlaXZlZCBqb2luUmVzcG9uc2UnLCBqb2luUmVzcG9uc2UpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5rZWVwQWxpdmUoKTtcbiAgICAgIGN1cnJlbnQucmVzb2x2ZShqb2luUmVzcG9uc2UpO1xuICAgIH0pO1xuXG4gICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgY3VycmVudC5yZWplY3QobmV3IEVycm9yKCdXYWl0aW5nIGZvciBcImpvaW5SZXNwb25zZVwiIGhhcyB0aW1lZCBvdXQnKSk7XG4gICAgfSwgdGhpcy5qb2luUmVzcG9uc2VUaW1lb3V0KTtcblxuICAgIGF3YWl0IHRoaXMuc2VuZChcbiAgICAgIFNmdVJlcXVlc3QuY3JlYXRlKHtcbiAgICAgICAgcmVxdWVzdFBheWxvYWQ6IHtcbiAgICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVxdWVzdCcsXG4gICAgICAgICAgam9pblJlcXVlc3Q6IEpvaW5SZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICAgIHRva2VuOiB0aGlzLmNyZWRlbnRpYWxzLnRva2VuLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHJldHVybiBjdXJyZW50LnByb21pc2U7XG4gIH07XG5cbiAgcGluZyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZW5kKFxuICAgICAgU2Z1UmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICByZXF1ZXN0UGF5bG9hZDoge1xuICAgICAgICAgIG9uZW9mS2luZDogJ2hlYWx0aENoZWNrUmVxdWVzdCcsXG4gICAgICAgICAgaGVhbHRoQ2hlY2tSZXF1ZXN0OiB7fSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBub3RpZnlMZWF2ZSA9IGFzeW5jIChyZWFzb246IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnNlbmQoXG4gICAgICBTZnVSZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgIHJlcXVlc3RQYXlsb2FkOiB7XG4gICAgICAgICAgb25lb2ZLaW5kOiAnbGVhdmVDYWxsUmVxdWVzdCcsXG4gICAgICAgICAgbGVhdmVDYWxsUmVxdWVzdDoge1xuICAgICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIHNlbmQgPSBhc3luYyAobWVzc2FnZTogU2Z1UmVxdWVzdCkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2lnbmFsUmVhZHkoKTsgLy8gd2FpdCBmb3IgdGhlIHNpZ25hbCB3cyB0byBiZSBvcGVuXG4gICAgY29uc3QgbXNnSnNvbiA9IFNmdVJlcXVlc3QudG9Kc29uKG1lc3NhZ2UpO1xuICAgIGlmICh0aGlzLnNpZ25hbFdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU2lnbmFsIFdTIGlzIG5vdCBvcGVuLiBTa2lwcGluZyBtZXNzYWdlJywgbXNnSnNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBTZW5kaW5nIG1lc3NhZ2UgdG86ICR7dGhpcy5lZGdlTmFtZX1gLCBtc2dKc29uKTtcbiAgICB0aGlzLnNpZ25hbFdzLnNlbmQoU2Z1UmVxdWVzdC50b0JpbmFyeShtZXNzYWdlKSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBrZWVwQWxpdmUgPSAoKSA9PiB7XG4gICAgY29uc3QgdGltZXJzID0gZ2V0VGltZXJzKCk7XG4gICAgdGltZXJzLmNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgdGhpcy5rZWVwQWxpdmVJbnRlcnZhbCA9IHRpbWVycy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnBpbmcoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRXJyb3Igc2VuZGluZyBoZWFsdGhDaGVja1JlcXVlc3QgdG8gU0ZVJywgZSk7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbEluTXMpO1xuICB9O1xuXG4gIHByaXZhdGUgc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5sYXN0TWVzc2FnZVRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0TWVzc2FnZSA9XG4gICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAodGltZVNpbmNlTGFzdE1lc3NhZ2UgPiB0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZShcbiAgICAgICAgICAgIFN0cmVhbVNmdUNsaWVudC5FUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSxcbiAgICAgICAgICAgIGBTRlUgY29ubmVjdGlvbiB1bmhlYWx0aHkuIERpZG4ndCByZWNlaXZlIGFueSBtZXNzYWdlIGZvciAke3RoaXMudW5oZWFsdGh5VGltZW91dEluTXN9bXNgLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB0eXBlIHsgQ2FsbEFjY2VwdGVkRXZlbnQsIENhbGxSZWplY3RlZEV2ZW50IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IENhbGxFbmRlZCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IENhbGxFbmRlZFJlYXNvbiB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZWQgdGhlIGRlbGl2ZXJ5IG9mIGBjYWxsLmFjY2VwdGVkYC5cbiAqIE9uY2UgdGhlIGV2ZW50IGlzIHJlY2VpdmVkLCB0aGUgY2FsbCBpcyBqb2luZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxBY2NlcHRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBvbkNhbGxBY2NlcHRlZChldmVudDogQ2FsbEFjY2VwdGVkRXZlbnQpIHtcbiAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgdGhlIGV2ZW50IGlmIGl0J3MgZnJvbSB0aGUgY3VycmVudCB1c2VyXG4gICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IGNhbGwuY3VycmVudFVzZXJJZCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgc3RhdGUgfSA9IGNhbGw7XG4gICAgaWYgKFxuICAgICAgZXZlbnQuY2FsbC5jcmVhdGVkX2J5LmlkID09PSBjYWxsLmN1cnJlbnRVc2VySWQgJiZcbiAgICAgIHN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkdcbiAgICApIHtcbiAgICAgIGF3YWl0IGNhbGwuam9pbigpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgZGVsaXZlcnkgb2YgYGNhbGwucmVqZWN0ZWRgIFdlYnNvY2tldCBldmVudC5cbiAqIE9uY2UgdGhlIGV2ZW50IGlzIHJlY2VpdmVkLCB0aGUgY2FsbCBpcyBsZWZ0LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hDYWxsUmVqZWN0ZWQgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gb25DYWxsUmVqZWN0ZWQoZXZlbnQ6IENhbGxSZWplY3RlZEV2ZW50KSB7XG4gICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIHRoZSBldmVudCBpZiBpdCdzIGZyb20gdGhlIGN1cnJlbnQgdXNlclxuICAgIGlmIChldmVudC51c2VyLmlkID09PSBjYWxsLmN1cnJlbnRVc2VySWQpIHJldHVybjtcbiAgICBjb25zdCB7IGNhbGw6IGV2ZW50Q2FsbCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBzZXNzaW9uOiBjYWxsU2Vzc2lvbiB9ID0gZXZlbnRDYWxsO1xuXG4gICAgaWYgKCFjYWxsU2Vzc2lvbikge1xuICAgICAgY2FsbC5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ05vIGNhbGwgc2Vzc2lvbiBwcm92aWRlZC4gSWdub3JpbmcgY2FsbC5yZWplY3RlZCBldmVudC4nLFxuICAgICAgICBldmVudCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVqZWN0ZWRCeSA9IGNhbGxTZXNzaW9uLnJlamVjdGVkX2J5O1xuICAgIGNvbnN0IHsgbWVtYmVycywgY2FsbGluZ1N0YXRlIH0gPSBjYWxsLnN0YXRlO1xuICAgIGlmIChjYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HKSB7XG4gICAgICBjYWxsLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICAnQ2FsbCBpcyBub3QgaW4gcmluZ2luZyBtb2RlIChpdCBpcyBlaXRoZXIgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgYWxyZWFkeSkuIElnbm9yaW5nIGNhbGwucmVqZWN0ZWQgZXZlbnQuJyxcbiAgICAgICAgZXZlbnQsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FsbC5pc0NyZWF0ZWRCeU1lKSB7XG4gICAgICBjb25zdCBldmVyeW9uZUVsc2VSZWplY3RlZCA9IG1lbWJlcnNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gbS51c2VyX2lkICE9PSBjYWxsLmN1cnJlbnRVc2VySWQpXG4gICAgICAgIC5ldmVyeSgobSkgPT4gcmVqZWN0ZWRCeVttLnVzZXJfaWRdKTtcbiAgICAgIGlmIChldmVyeW9uZUVsc2VSZWplY3RlZCkge1xuICAgICAgICBjYWxsLmxvZ2dlcignaW5mbycsICdldmVyeW9uZSByZWplY3RlZCwgbGVhdmluZyB0aGUgY2FsbCcpO1xuICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKHsgcmVhc29uOiAncmluZzogZXZlcnlvbmUgcmVqZWN0ZWQnIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmVqZWN0ZWRCeVtldmVudENhbGwuY3JlYXRlZF9ieS5pZF0pIHtcbiAgICAgICAgY2FsbC5sb2dnZXIoJ2luZm8nLCAnY2FsbCBjcmVhdG9yIHJlamVjdGVkLCBsZWF2aW5nIGNhbGwnKTtcbiAgICAgICAgYXdhaXQgY2FsbC5sZWF2ZSh7IHJlYXNvbjogJ3Jpbmc6IGNyZWF0b3IgcmVqZWN0ZWQnIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgdGhlIGRlbGl2ZXJ5IG9mIGBjYWxsLmVuZGVkYCBXZWJzb2NrZXQgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxFbmRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvbkNhbGxFbmRlZCgpIHtcbiAgICBjb25zdCB7IGNhbGxpbmdTdGF0ZSB9ID0gY2FsbC5zdGF0ZTtcbiAgICBpZiAoXG4gICAgICBjYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5JRExFICYmXG4gICAgICBjYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5MRUZUXG4gICAgKSB7XG4gICAgICBjYWxsXG4gICAgICAgIC5sZWF2ZSh7IHJlYXNvbjogJ2NhbGwuZW5kZWQgZXZlbnQgcmVjZWl2ZWQnLCByZWplY3Q6IGZhbHNlIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY2FsbC5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBsZWF2ZSBjYWxsIGFmdGVyIGNhbGwuZW5kZWQgJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBXYXRjaGVzIGZvciBgY2FsbEVuZGVkYCBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFNmdUNhbGxFbmRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBjYWxsLm9uKCdjYWxsRW5kZWQnLCBhc3luYyAoZTogQ2FsbEVuZGVkKSA9PiB7XG4gICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAvLyBgY2FsbC5lbmRlZGAgZXZlbnQgYXJyaXZlZCBhZnRlciB0aGUgY2FsbCBpcyBhbHJlYWR5IGxlZnRcbiAgICAgIC8vIGFuZCBhbGwgZXZlbnQgaGFuZGxlcnMgYXJlIGRldGFjaGVkLiBXZSBuZWVkIHRvIG1hbnVhbGx5XG4gICAgICAvLyB1cGRhdGUgdGhlIGNhbGwgc3RhdGUgdG8gcmVmbGVjdCB0aGUgY2FsbCBoYXMgZW5kZWQuXG4gICAgICBjYWxsLnN0YXRlLnNldEVuZGVkQXQobmV3IERhdGUoKSk7XG4gICAgICBjb25zdCByZWFzb24gPSBDYWxsRW5kZWRSZWFzb25bZS5yZWFzb25dO1xuICAgICAgYXdhaXQgY2FsbC5sZWF2ZSh7IHJlYXNvbjogYGNhbGxFbmRlZCByZWNlaXZlZDogJHtyZWFzb259YCB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNhbGwubG9nZ2VyKFxuICAgICAgICAnZXJyb3InLFxuICAgICAgICAnRmFpbGVkIHRvIGxlYXZlIGNhbGwgYWZ0ZXIgYmVpbmcgZW5kZWQgYnkgdGhlIFNGVScsXG4gICAgICAgIGVycixcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IENhbGxHcmFudHNVcGRhdGVkIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgT3duQ2FwYWJpbGl0eSB9IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgZm9yIGBjYWxsR3JhbnRzVXBkYXRlZGAgZXZlbnRzLlxuICpcbiAqIEBwYXJhbSBzdGF0ZSB0aGUgY2FsbCBzdGF0ZSB0byB1cGRhdGUuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxHcmFudHNVcGRhdGVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uQ2FsbEdyYW50c1VwZGF0ZWQoZXZlbnQ6IENhbGxHcmFudHNVcGRhdGVkKSB7XG4gICAgY29uc3QgeyBjdXJyZW50R3JhbnRzIH0gPSBldmVudDtcbiAgICBpZiAoY3VycmVudEdyYW50cykge1xuICAgICAgY29uc3QgeyBjYW5QdWJsaXNoQXVkaW8sIGNhblB1Ymxpc2hWaWRlbywgY2FuU2NyZWVuc2hhcmUgfSA9XG4gICAgICAgIGN1cnJlbnRHcmFudHM7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZTogUGFydGlhbDxSZWNvcmQ8T3duQ2FwYWJpbGl0eSwgYm9vbGVhbj4+ID0ge1xuICAgICAgICBbT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPXTogY2FuUHVibGlzaEF1ZGlvLFxuICAgICAgICBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXTogY2FuUHVibGlzaFZpZGVvLFxuICAgICAgICBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV06IGNhblNjcmVlbnNoYXJlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbmV4dENhcGFiaWxpdGllcyA9IHN0YXRlLm93bkNhcGFiaWxpdGllcy5maWx0ZXIoXG4gICAgICAgIChjYXBhYmlsaXR5KSA9PiB1cGRhdGVbY2FwYWJpbGl0eV0gIT09IGZhbHNlLFxuICAgICAgKTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHVwZGF0ZSkuZm9yRWFjaCgoW2NhcGFiaWxpdHksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgJiYgIW5leHRDYXBhYmlsaXRpZXMuaW5jbHVkZXMoY2FwYWJpbGl0eSBhcyBPd25DYXBhYmlsaXR5KSkge1xuICAgICAgICAgIG5leHRDYXBhYmlsaXRpZXMucHVzaChjYXBhYmlsaXR5IGFzIE93bkNhcGFiaWxpdHkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKG5leHRDYXBhYmlsaXRpZXMpO1xuICAgIH1cbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBEaXNwYXRjaGVyIH0gZnJvbSAnLi4vcnRjJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB0eXBlIHsgUGluc0NoYW5nZWQgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBFcnJvckNvZGUsXG4gIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgT3duQ2FwYWJpbGl0eSB9IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5cbmV4cG9ydCBjb25zdCB3YXRjaENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignY29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJywgKGUpID0+IHtcbiAgICBjb25zdCB7IGNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlcyB9ID0gZTtcbiAgICBpZiAoIWNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlcykgcmV0dXJuO1xuICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50cyhcbiAgICAgIGNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlcy5yZWR1Y2U8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXM+KFxuICAgICAgICAocGF0Y2hlcywgdXBkYXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzZXNzaW9uSWQsIGNvbm5lY3Rpb25RdWFsaXR5IH0gPSB1cGRhdGU7XG4gICAgICAgICAgcGF0Y2hlc1tzZXNzaW9uSWRdID0ge1xuICAgICAgICAgICAgY29ubmVjdGlvblF1YWxpdHksXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gcGF0Y2hlcztcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgICApLFxuICAgICk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBhcHByb3hpbWF0ZSBudW1iZXIgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsIGJ5IHBlZWtpbmcgYXQgdGhlXG4gKiBoZWFsdGggY2hlY2sgZXZlbnRzIHRoYXQgb3VyIFNGVSBzZW5kcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQgPSAoXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4pID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2hlYWx0aENoZWNrUmVzcG9uc2UnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRDb3VudCB9ID0gZTtcbiAgICBpZiAocGFydGljaXBhbnRDb3VudCkge1xuICAgICAgc3RhdGUuc2V0UGFydGljaXBhbnRDb3VudChwYXJ0aWNpcGFudENvdW50LnRvdGFsKTtcbiAgICAgIHN0YXRlLnNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudC5hbm9ueW1vdXMpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgd2F0Y2hMaXZlRW5kZWQgPSAoZGlzcGF0Y2hlcjogRGlzcGF0Y2hlciwgY2FsbDogQ2FsbCkgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignZXJyb3InLCAoZSkgPT4ge1xuICAgIGlmIChlLmVycm9yICYmIGUuZXJyb3IuY29kZSAhPT0gRXJyb3JDb2RlLkxJVkVfRU5ERUQpIHJldHVybjtcblxuICAgIGlmICghY2FsbC5wZXJtaXNzaW9uc0NvbnRleHQuaGFzUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LkpPSU5fQkFDS1NUQUdFKSkge1xuICAgICAgY2FsbC5sZWF2ZSh7IHJlYXNvbjogJ2xpdmUgZW5kZWQnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY2FsbC5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBsZWF2ZSBjYWxsIGFmdGVyIGxpdmUgZW5kZWQnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogV2F0Y2hlcyBhbmQgbG9ncyB0aGUgZXJyb3JzIHJlcG9ydGVkIGJ5IHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIFNGVS5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoU2Z1RXJyb3JSZXBvcnRzID0gKGRpc3BhdGNoZXI6IERpc3BhdGNoZXIpID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICBpZiAoIWUuZXJyb3IpIHJldHVybjtcbiAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydTZnVDbGllbnQnXSk7XG4gICAgY29uc3QgeyBlcnJvciwgcmVjb25uZWN0U3RyYXRlZ3kgfSA9IGU7XG4gICAgbG9nZ2VyKCdlcnJvcicsICdTRlUgcmVwb3J0ZWQgZXJyb3InLCB7XG4gICAgICBjb2RlOiBFcnJvckNvZGVbZXJyb3IuY29kZV0sXG4gICAgICByZWNvbm5lY3RTdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lbcmVjb25uZWN0U3RyYXRlZ3ldLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHNob3VsZFJldHJ5OiBlcnJvci5zaG91bGRSZXRyeSxcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBwaW5zVXBkYXRlZGAgZXZlbnRzIGFuZCB1cGRhdGVzIHRoZSBwaW5uZWQgc3RhdGUgb2YgcGFydGljaXBhbnRzXG4gKiBpbiB0aGUgY2FsbC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGluc1VwZGF0ZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QaW5zVXBkYXRlZChlOiBQaW5zQ2hhbmdlZCkge1xuICAgIGNvbnN0IHsgcGlucyB9ID0gZTtcbiAgICBzdGF0ZS5zZXRTZXJ2ZXJTaWRlUGlucyhwaW5zKTtcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQge1xuICBUcmFja1R5cGUsXG4gIFRyYWNrVW5wdWJsaXNoUmVhc29uLFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuXG4vKipcbiAqIEFuIGV2ZW50IGhhbmRsZXIgdGhhdCBoYW5kbGVzIHNvZnQgbXV0ZXMuXG4gKlxuICogQHBhcmFtIGNhbGwgdGhlIGNhbGwuXG4gKi9cbmV4cG9ydCBjb25zdCBoYW5kbGVSZW1vdGVTb2Z0TXV0ZSA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBjYWxsLm9uKCd0cmFja1VucHVibGlzaGVkJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBjYXVzZSwgdHlwZSwgc2Vzc2lvbklkIH0gPSBldmVudDtcbiAgICBjb25zdCB7IGxvY2FsUGFydGljaXBhbnQgfSA9IGNhbGwuc3RhdGU7XG4gICAgaWYgKFxuICAgICAgY2F1c2UgPT09IFRyYWNrVW5wdWJsaXNoUmVhc29uLk1PREVSQVRJT04gJiZcbiAgICAgIHNlc3Npb25JZCA9PT0gbG9jYWxQYXJ0aWNpcGFudD8uc2Vzc2lvbklkXG4gICAgKSB7XG4gICAgICBjb25zdCBsb2dnZXIgPSBjYWxsLmxvZ2dlcjtcbiAgICAgIGxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgTG9jYWwgcGFydGljaXBhbnQncyAke1RyYWNrVHlwZVt0eXBlXX0gdHJhY2sgaXMgbXV0ZWQgcmVtb3RlbHlgLFxuICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlID09PSBUcmFja1R5cGUuVklERU8pIHtcbiAgICAgICAgICBhd2FpdCBjYWxsLmNhbWVyYS5kaXNhYmxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPKSB7XG4gICAgICAgICAgYXdhaXQgY2FsbC5taWNyb3Bob25lLmRpc2FibGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICB0eXBlID09PSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFIHx8XG4gICAgICAgICAgdHlwZSA9PT0gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJT1xuICAgICAgICApIHtcbiAgICAgICAgICBhd2FpdCBjYWxsLnNjcmVlblNoYXJlLmRpc2FibGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAnVW5zdXBwb3J0ZWQgdHJhY2sgdHlwZSB0byBzb2Z0IG11dGUnLFxuICAgICAgICAgICAgVHJhY2tUeXBlW3R5cGVdLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIHN0b3AgcHVibGlzaGluZycsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcbiIsIi8qKlxuICogQWRkcyB1bmlxdWUgdmFsdWVzIHRvIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSBhcnIgdGhlIGFycmF5IHRvIGFkZCB0by5cbiAqIEBwYXJhbSB2YWx1ZXMgdGhlIHZhbHVlcyB0byBhZGQuXG4gKi9cbmV4cG9ydCBjb25zdCBwdXNoVG9JZk1pc3NpbmcgPSA8VD4oYXJyOiBUW10sIC4uLnZhbHVlczogVFtdKTogVFtdID0+IHtcbiAgZm9yIChjb25zdCB2IG9mIHZhbHVlcykge1xuICAgIGlmICghYXJyLmluY2x1ZGVzKHYpKSB7XG4gICAgICBhcnIucHVzaCh2KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIFBhcnRpY2lwYW50Sm9pbmVkLFxuICBQYXJ0aWNpcGFudExlZnQsXG4gIFBhcnRpY2lwYW50VXBkYXRlZCxcbiAgVHJhY2tQdWJsaXNoZWQsXG4gIFRyYWNrVW5wdWJsaXNoZWQsXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgUGFydGljaXBhbnQgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHtcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgcHVzaFRvSWZNaXNzaW5nIH0gZnJvbSAnLi4vaGVscGVycy9hcnJheSc7XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGBwYXJ0aWNpcGFudEpvaW5lZGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBhcnRpY2lwYW50Sm9pbmVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uUGFydGljaXBhbnRKb2luZWQoZTogUGFydGljaXBhbnRKb2luZWQpIHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSBlO1xuICAgIGlmICghcGFydGljaXBhbnQpIHJldHVybjtcbiAgICAvLyBgc3RhdGUudXBkYXRlT3JBZGRQYXJ0aWNpcGFudGAgYWN0cyBhcyBhIHNhZmVndWFyZCBhZ2FpbnN0XG4gICAgLy8gcG90ZW50aWFsIGR1cGxpY2F0ZSBldmVudHMgZnJvbSB0aGUgU0ZVLlxuICAgIC8vXG4gICAgLy8gQWx0aG91Z2ggdGhlIFNGVSBzaG91bGQgbm90IHNlbmQgZHVwbGljYXRlIGV2ZW50cywgd2UgaGF2ZSBzZWVuXG4gICAgLy8gc29tZSByYWNlIGNvbmRpdGlvbnMgaW4gdGhlIHBhc3QgZHVyaW5nIHRoZSBgam9pbi1mbG93YC5cbiAgICAvLyBUaGUgU0ZVIHdvdWxkIHNlbmQgcGFydGljaXBhbnQgaW5mbyBhcyBwYXJ0IG9mIHRoZSBgam9pbmBcbiAgICAvLyByZXNwb25zZSBhbmQgdGhlbiBmb2xsb3cgdXAgd2l0aCBhIGBwYXJ0aWNpcGFudEpvaW5lZGAgZXZlbnQgZm9yXG4gICAgLy8gYWxyZWFkeSBhbm5vdW5jZWQgcGFydGljaXBhbnRzLlxuICAgIGNvbnN0IG9ycGhhbmVkVHJhY2tzID0gcmVjb25jaWxlT3JwaGFuZWRUcmFja3Moc3RhdGUsIHBhcnRpY2lwYW50KTtcbiAgICBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50KFxuICAgICAgcGFydGljaXBhbnQuc2Vzc2lvbklkLFxuICAgICAgT2JqZWN0LmFzc2lnbjxcbiAgICAgICAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgICAgICAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoIHwgdW5kZWZpbmVkLFxuICAgICAgICBQYXJ0aWFsPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+XG4gICAgICA+KHBhcnRpY2lwYW50LCBvcnBoYW5lZFRyYWNrcywge1xuICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZToge1xuICAgICAgICAgIHZpZGVvVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgIHNjcmVlblNoYXJlVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGBwYXJ0aWNpcGFudExlZnRgIGV2ZW50LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudExlZnQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QYXJ0aWNpcGFudExlZnQoZTogUGFydGljaXBhbnRMZWZ0KSB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gZTtcbiAgICBpZiAoIXBhcnRpY2lwYW50KSByZXR1cm47XG5cbiAgICBzdGF0ZS5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5maWx0ZXIoKHApID0+IHAuc2Vzc2lvbklkICE9PSBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpLFxuICAgICk7XG4gIH07XG59O1xuXG4vKipcbiAqIEFuIGV2ZW50IHJlc3BvbmRlciB3aGljaCBoYW5kbGVzIHRoZSBgcGFydGljaXBhbnRVcGRhdGVkYCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGFydGljaXBhbnRVcGRhdGVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uUGFydGljaXBhbnRVcGRhdGVkKGU6IFBhcnRpY2lwYW50VXBkYXRlZCkge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IGU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkgcmV0dXJuO1xuICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50LnNlc3Npb25JZCwgcGFydGljaXBhbnQpO1xuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHRyYWNrUHVibGlzaGVkYCBldmVudC5cbiAqIFRoZSBTRlUgd2lsbCBzZW5kIHRoaXMgZXZlbnQgd2hlbiBhIHBhcnRpY2lwYW50IHB1Ymxpc2hlcyBhIHRyYWNrLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hUcmFja1B1Ymxpc2hlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblRyYWNrUHVibGlzaGVkKGU6IFRyYWNrUHVibGlzaGVkKSB7XG4gICAgY29uc3QgeyB0eXBlLCBzZXNzaW9uSWQgfSA9IGU7XG4gICAgLy8gQW4gb3B0aW1pemF0aW9uIGZvciBsYXJnZSBjYWxscy5cbiAgICAvLyBBZnRlciBhIGNlcnRhaW4gdGhyZXNob2xkLCB0aGUgU0ZVIHdvdWxkIHN0b3AgZW1pdHRpbmcgYHBhcnRpY2lwYW50Sm9pbmVkYFxuICAgIC8vIGV2ZW50cywgYW5kIGluc3RlYWQsIGl0IHdvdWxkIG9ubHkgcHJvdmlkZSB0aGUgcGFydGljaXBhbnQncyBpbmZvcm1hdGlvblxuICAgIC8vIG9uY2UgdGhleSBzdGFydCBwdWJsaXNoaW5nIGEgdHJhY2suXG4gICAgaWYgKGUucGFydGljaXBhbnQpIHtcbiAgICAgIGNvbnN0IG9ycGhhbmVkVHJhY2tzID0gcmVjb25jaWxlT3JwaGFuZWRUcmFja3Moc3RhdGUsIGUucGFydGljaXBhbnQpO1xuICAgICAgY29uc3QgcGFydGljaXBhbnQgPSBPYmplY3QuYXNzaWduKGUucGFydGljaXBhbnQsIG9ycGhhbmVkVHJhY2tzKTtcbiAgICAgIHN0YXRlLnVwZGF0ZU9yQWRkUGFydGljaXBhbnQoc2Vzc2lvbklkLCBwYXJ0aWNpcGFudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHApID0+ICh7XG4gICAgICAgIHB1Ymxpc2hlZFRyYWNrczogcHVzaFRvSWZNaXNzaW5nKFsuLi5wLnB1Ymxpc2hlZFRyYWNrc10sIHR5cGUpLFxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGB0cmFja1VucHVibGlzaGVkYCBldmVudC5cbiAqIFRoZSBTRlUgd2lsbCBzZW5kIHRoaXMgZXZlbnQgd2hlbiBhIHBhcnRpY2lwYW50IHVucHVibGlzaGVzIGEgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFRyYWNrVW5wdWJsaXNoZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25UcmFja1VucHVibGlzaGVkKGU6IFRyYWNrVW5wdWJsaXNoZWQpIHtcbiAgICBjb25zdCB7IHR5cGUsIHNlc3Npb25JZCB9ID0gZTtcbiAgICAvLyBBbiBvcHRpbWl6YXRpb24gZm9yIGxhcmdlIGNhbGxzLiBTZWUgYHdhdGNoVHJhY2tQdWJsaXNoZWRgLlxuICAgIGlmIChlLnBhcnRpY2lwYW50KSB7XG4gICAgICBjb25zdCBvcnBoYW5lZFRyYWNrcyA9IHJlY29uY2lsZU9ycGhhbmVkVHJhY2tzKHN0YXRlLCBlLnBhcnRpY2lwYW50KTtcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gT2JqZWN0LmFzc2lnbihlLnBhcnRpY2lwYW50LCBvcnBoYW5lZFRyYWNrcyk7XG4gICAgICBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50KHNlc3Npb25JZCwgcGFydGljaXBhbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwKSA9PiAoe1xuICAgICAgICBwdWJsaXNoZWRUcmFja3M6IHAucHVibGlzaGVkVHJhY2tzLmZpbHRlcigodCkgPT4gdCAhPT0gdHlwZSksXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBSZWNvbmNpbGVzIG9ycGhhbmVkIHRyYWNrcyAoaWYgYW55KSBmb3IgdGhlIGdpdmVuIHBhcnRpY2lwYW50LlxuICpcbiAqIEBwYXJhbSBzdGF0ZSB0aGUgY2FsbCBzdGF0ZS5cbiAqIEBwYXJhbSBwYXJ0aWNpcGFudCB0aGUgcGFydGljaXBhbnQuXG4gKi9cbmNvbnN0IHJlY29uY2lsZU9ycGhhbmVkVHJhY2tzID0gKFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuICBwYXJ0aWNpcGFudDogUGFydGljaXBhbnQsXG4pOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2ggfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBvcnBoYW5UcmFja3MgPSBzdGF0ZS50YWtlT3JwaGFuZWRUcmFja3MocGFydGljaXBhbnQudHJhY2tMb29rdXBQcmVmaXgpO1xuICBpZiAoIW9ycGhhblRyYWNrcy5sZW5ndGgpIHJldHVybjtcbiAgY29uc3QgcmVjb25jaWxlZFRyYWNrczogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoID0ge307XG4gIGZvciAoY29uc3Qgb3JwaGFuIG9mIG9ycGhhblRyYWNrcykge1xuICAgIGNvbnN0IGtleSA9IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkob3JwaGFuLnRyYWNrVHlwZSk7XG4gICAgaWYgKCFrZXkpIGNvbnRpbnVlO1xuICAgIHJlY29uY2lsZWRUcmFja3Nba2V5XSA9IG9ycGhhbi50cmFjaztcbiAgfVxuICByZXR1cm4gcmVjb25jaWxlZFRyYWNrcztcbn07XG4iLCJpbXBvcnQgeyBEaXNwYXRjaGVyIH0gZnJvbSAnLi4vcnRjJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBkb21pbmFudFNwZWFrZXJDaGFuZ2VkYCBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaERvbWluYW50U3BlYWtlckNoYW5nZWQgPSAoXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4pID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2RvbWluYW50U3BlYWtlckNoYW5nZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBlO1xuICAgIGlmIChzZXNzaW9uSWQgPT09IHN0YXRlLmRvbWluYW50U3BlYWtlcj8uc2Vzc2lvbklkKSByZXR1cm47XG4gICAgc3RhdGUuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+XG4gICAgICBwYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICAvLyBtYXJrIHRoZSBuZXcgZG9taW5hbnQgc3BlYWtlclxuICAgICAgICBpZiAocGFydGljaXBhbnQuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBpc0RvbWluYW50U3BlYWtlcjogdHJ1ZSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHVubWFyayB0aGUgb2xkIGRvbWluYW50IHNwZWFrZXJcbiAgICAgICAgaWYgKHBhcnRpY2lwYW50LmlzRG9taW5hbnRTcGVha2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgICAgaXNEb21pbmFudFNwZWFrZXI6IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRpY2lwYW50OyAvLyBubyBjaGFuZ2VcbiAgICAgIH0pLFxuICAgICk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBXYXRjaGVzIGZvciBgYXVkaW9MZXZlbENoYW5nZWRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQXVkaW9MZXZlbENoYW5nZWQgPSAoXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4pID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2F1ZGlvTGV2ZWxDaGFuZ2VkJywgKGUpID0+IHtcbiAgICBjb25zdCB7IGF1ZGlvTGV2ZWxzIH0gPSBlO1xuICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50cyhcbiAgICAgIGF1ZGlvTGV2ZWxzLnJlZHVjZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcz4oKHBhdGNoZXMsIGN1cnJlbnQpID0+IHtcbiAgICAgICAgcGF0Y2hlc1tjdXJyZW50LnNlc3Npb25JZF0gPSB7XG4gICAgICAgICAgYXVkaW9MZXZlbDogY3VycmVudC5sZXZlbCxcbiAgICAgICAgICBpc1NwZWFraW5nOiBjdXJyZW50LmlzU3BlYWtpbmcsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwYXRjaGVzO1xuICAgICAgfSwge30pLFxuICAgICk7XG4gIH0pO1xufTtcbiIsImltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IERpc3BhdGNoZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHtcbiAgaGFuZGxlUmVtb3RlU29mdE11dGUsXG4gIHdhdGNoQXVkaW9MZXZlbENoYW5nZWQsXG4gIHdhdGNoQ2FsbEFjY2VwdGVkLFxuICB3YXRjaENhbGxFbmRlZCxcbiAgd2F0Y2hDYWxsR3JhbnRzVXBkYXRlZCxcbiAgd2F0Y2hDYWxsUmVqZWN0ZWQsXG4gIHdhdGNoQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkLFxuICB3YXRjaERvbWluYW50U3BlYWtlckNoYW5nZWQsXG4gIHdhdGNoTGl2ZUVuZGVkLFxuICB3YXRjaFBhcnRpY2lwYW50Q291bnRDaGFuZ2VkLFxuICB3YXRjaFBhcnRpY2lwYW50Sm9pbmVkLFxuICB3YXRjaFBhcnRpY2lwYW50TGVmdCxcbiAgd2F0Y2hQYXJ0aWNpcGFudFVwZGF0ZWQsXG4gIHdhdGNoUGluc1VwZGF0ZWQsXG4gIHdhdGNoU2Z1Q2FsbEVuZGVkLFxuICB3YXRjaFNmdUVycm9yUmVwb3J0cyxcbiAgd2F0Y2hUcmFja1B1Ymxpc2hlZCxcbiAgd2F0Y2hUcmFja1VucHVibGlzaGVkLFxufSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHtcbiAgQWxsQ2FsbEV2ZW50cyxcbiAgQWxsQ2xpZW50Q2FsbEV2ZW50cyxcbiAgQ2FsbEV2ZW50TGlzdGVuZXIsXG59IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuXG50eXBlIFJpbmdDYWxsRXZlbnRzID0gRXh0cmFjdDxcbiAgQWxsQ2xpZW50Q2FsbEV2ZW50cyxcbiAgJ2NhbGwuYWNjZXB0ZWQnIHwgJ2NhbGwucmVqZWN0ZWQnIHwgJ2NhbGwubWlzc2VkJ1xuPjtcblxuLyoqXG4gKiBSZWdpc3RlcnMgdGhlIGRlZmF1bHQgZXZlbnQgaGFuZGxlcnMgZm9yIGEgY2FsbCBkdXJpbmcgaXRzIGxpZmVjeWNsZS5cbiAqXG4gKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byByZWdpc3RlciBldmVudCBoYW5kbGVycyBmb3IuXG4gKiBAcGFyYW0gZGlzcGF0Y2hlciB0aGUgZGlzcGF0Y2hlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRXZlbnRIYW5kbGVycyA9IChjYWxsOiBDYWxsLCBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyKSA9PiB7XG4gIGNvbnN0IHN0YXRlID0gY2FsbC5zdGF0ZTtcbiAgY29uc3QgZXZlbnRIYW5kbGVycyA9IFtcbiAgICBjYWxsLm9uKCdjYWxsLmVuZGVkJywgd2F0Y2hDYWxsRW5kZWQoY2FsbCkpLFxuICAgIHdhdGNoU2Z1Q2FsbEVuZGVkKGNhbGwpLFxuXG4gICAgd2F0Y2hMaXZlRW5kZWQoZGlzcGF0Y2hlciwgY2FsbCksXG4gICAgd2F0Y2hTZnVFcnJvclJlcG9ydHMoZGlzcGF0Y2hlciksXG4gICAgd2F0Y2hDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQoZGlzcGF0Y2hlciwgc3RhdGUpLFxuICAgIHdhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQoZGlzcGF0Y2hlciwgc3RhdGUpLFxuXG4gICAgY2FsbC5vbigncGFydGljaXBhbnRKb2luZWQnLCB3YXRjaFBhcnRpY2lwYW50Sm9pbmVkKHN0YXRlKSksXG4gICAgY2FsbC5vbigncGFydGljaXBhbnRMZWZ0Jywgd2F0Y2hQYXJ0aWNpcGFudExlZnQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCdwYXJ0aWNpcGFudFVwZGF0ZWQnLCB3YXRjaFBhcnRpY2lwYW50VXBkYXRlZChzdGF0ZSkpLFxuXG4gICAgY2FsbC5vbigndHJhY2tQdWJsaXNoZWQnLCB3YXRjaFRyYWNrUHVibGlzaGVkKHN0YXRlKSksXG4gICAgY2FsbC5vbigndHJhY2tVbnB1Ymxpc2hlZCcsIHdhdGNoVHJhY2tVbnB1Ymxpc2hlZChzdGF0ZSkpLFxuXG4gICAgd2F0Y2hBdWRpb0xldmVsQ2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG4gICAgd2F0Y2hEb21pbmFudFNwZWFrZXJDaGFuZ2VkKGRpc3BhdGNoZXIsIHN0YXRlKSxcblxuICAgIGNhbGwub24oJ2NhbGxHcmFudHNVcGRhdGVkJywgd2F0Y2hDYWxsR3JhbnRzVXBkYXRlZChzdGF0ZSkpLFxuICAgIGNhbGwub24oJ3BpbnNVcGRhdGVkJywgd2F0Y2hQaW5zVXBkYXRlZChzdGF0ZSkpLFxuXG4gICAgaGFuZGxlUmVtb3RlU29mdE11dGUoY2FsbCksXG4gIF07XG5cbiAgaWYgKGNhbGwucmluZ2luZykge1xuICAgIC8vIHRoZXNlIGV2ZW50cyBhcmUgb25seSByZWxldmFudCB3aGVuIHRoZSBjYWxsIGlzIHJpbmdpbmdcbiAgICBldmVudEhhbmRsZXJzLnB1c2gocmVnaXN0ZXJSaW5naW5nQ2FsbEV2ZW50SGFuZGxlcnMoY2FsbCkpO1xuICB9XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBldmVudEhhbmRsZXJzLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXJzIGV2ZW50IGhhbmRsZXJzIGZvciBhIGNhbGwgdGhhdCBpcyBvZiByaW5naW5nIHR5cGUuXG4gKlxuICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnMgZm9yLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSaW5naW5nQ2FsbEV2ZW50SGFuZGxlcnMgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICBjb25zdCBjb29yZGluYXRvclJpbmdFdmVudHM6IHtcbiAgICBba2V5IGluIFJpbmdDYWxsRXZlbnRzXTogKFxuICAgICAgY2FsbDogQ2FsbCxcbiAgICApID0+IENhbGxFdmVudExpc3RlbmVyPEFsbENhbGxFdmVudHNba2V5XT47XG4gIH0gPSB7XG4gICAgJ2NhbGwuYWNjZXB0ZWQnOiB3YXRjaENhbGxBY2NlcHRlZChjYWxsKSxcbiAgICAnY2FsbC5yZWplY3RlZCc6IHdhdGNoQ2FsbFJlamVjdGVkKGNhbGwpLFxuICB9O1xuXG4gIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSBPYmplY3Qua2V5cyhjb29yZGluYXRvclJpbmdFdmVudHMpLm1hcCgoZXZlbnQpID0+IHtcbiAgICBjb25zdCBldmVudE5hbWUgPSBldmVudCBhcyBSaW5nQ2FsbEV2ZW50cztcbiAgICByZXR1cm4gY2FsbC5vbihldmVudE5hbWUsIGNvb3JkaW5hdG9yUmluZ0V2ZW50c1tldmVudE5hbWVdKTtcbiAgfSk7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBldmVudEhhbmRsZXJzLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBMb2NhbENsaWVudERldGFpbHNUeXBlIH0gZnJvbSAnLi4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHsgU2RrLCBTZGtUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBGbGF0dGVuIHRoZSBzdGF0cyByZXBvcnQgaW50byBhbiBhcnJheSBvZiBzdGF0cyBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSByZXBvcnQgdGhlIHJlcG9ydCB0byBmbGF0dGVuLlxuICovXG5leHBvcnQgY29uc3QgZmxhdHRlbiA9IChyZXBvcnQ6IFJUQ1N0YXRzUmVwb3J0KSA9PiB7XG4gIGNvbnN0IHN0YXRzOiBSVENTdGF0c1tdID0gW107XG4gIHJlcG9ydC5mb3JFYWNoKChzKSA9PiB7XG4gICAgc3RhdHMucHVzaChzKTtcbiAgfSk7XG4gIHJldHVybiBzdGF0cztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtTaWduYXR1cmUgPSAoY2xpZW50RGV0YWlsczogTG9jYWxDbGllbnREZXRhaWxzVHlwZSkgPT4ge1xuICBjb25zdCB7IHNkaywgLi4ucGxhdGZvcm0gfSA9IGNsaWVudERldGFpbHM7XG4gIGNvbnN0IHNka05hbWUgPSBnZXRTZGtOYW1lKHNkayk7XG4gIGNvbnN0IHNka1ZlcnNpb24gPSBnZXRTZGtWZXJzaW9uKHNkayk7XG5cbiAgcmV0dXJuIHtcbiAgICBzZGtOYW1lLFxuICAgIHNka1ZlcnNpb24sXG4gICAgLi4ucGxhdGZvcm0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2RrTmFtZSA9IChzZGs6IFNkayB8IHVuZGVmaW5lZCkgPT4ge1xuICByZXR1cm4gc2RrICYmIHNkay50eXBlID09PSBTZGtUeXBlLlJFQUNUXG4gICAgPyAnc3RyZWFtLXJlYWN0J1xuICAgIDogc2RrICYmIHNkay50eXBlID09PSBTZGtUeXBlLlJFQUNUX05BVElWRVxuICAgICAgPyAnc3RyZWFtLXJlYWN0LW5hdGl2ZSdcbiAgICAgIDogJ3N0cmVhbS1qcyc7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2RrVmVyc2lvbiA9IChzZGs6IFNkayB8IHVuZGVmaW5lZCkgPT4ge1xuICByZXR1cm4gc2RrID8gYCR7c2RrLm1ham9yfS4ke3Nkay5taW5vcn0uJHtzZGsucGF0Y2h9YCA6ICcwLjAuMC1kZXZlbG9wbWVudCc7XG59O1xuIiwiLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIFNhZmFyaS5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzU2FmYXJpID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgRmlyZWZveC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRmlyZWZveCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Py5pbmNsdWRlcygnRmlyZWZveCcpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIEdvb2dsZSBDaHJvbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Nocm9tZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Py5pbmNsdWRlcygnQ2hyb21lJyk7XG59O1xuIiwiaW1wb3J0IHR5cGUge1xuICBBZ2dyZWdhdGVkU3RhdHNSZXBvcnQsXG4gIEJhc2VTdGF0cyxcbiAgUGFydGljaXBhbnRzU3RhdHNSZXBvcnQsXG4gIFJUQ01lZGlhU291cmNlU3RhdHMsXG4gIFN0YXRzUmVwb3J0LFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IFB1Ymxpc2hlciwgU3Vic2NyaWJlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGlzRmlyZWZveCB9IGZyb20gJy4uL2hlbHBlcnMvYnJvd3NlcnMnO1xuXG5leHBvcnQgdHlwZSBTdGF0c1JlcG9ydGVyT3B0cyA9IHtcbiAgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjtcbiAgcHVibGlzaGVyPzogUHVibGlzaGVyO1xuICBzdGF0ZTogQ2FsbFN0YXRlO1xuICBkYXRhY2VudGVyOiBzdHJpbmc7XG4gIHBvbGxpbmdJbnRlcnZhbEluTXM/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBTdGF0c1JlcG9ydGVyID0ge1xuICAvKipcbiAgICogV2lsbCB0dXJuIG9uIHN0YXRzIHJlcG9ydGluZyBmb3IgYSBnaXZlbiBzZXNzaW9uSWQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqL1xuICBzdGFydFJlcG9ydGluZ1N0YXRzRm9yOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFdpbGwgdHVybiBvZmYgc3RhdHMgcmVwb3J0aW5nIGZvciBhIGdpdmVuIHNlc3Npb25JZC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICovXG4gIHN0b3BSZXBvcnRpbmdTdGF0c0ZvcjogKHNlc3Npb25JZDogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIGZvciByZXRyaWV2aW5nIHN0YXRzIGZvciBhIGdpdmVuIHBlZXIgY29ubmVjdGlvbiBraW5kXG4gICAqIGFuZCBtZWRpYSBzdHJlYW0gZmxvd2luZyB0aHJvdWdoIGl0LlxuICAgKlxuICAgKiBAcGFyYW0ga2luZCB0aGUgcGVlciBjb25uZWN0aW9uIGtpbmQgKHN1YnNjcmliZXIgb3IgcHVibGlzaGVyKS5cbiAgICogQHBhcmFtIG1lZGlhU3RyZWFtIHRoZSBtZWRpYSBzdHJlYW0uXG4gICAqL1xuICBnZXRTdGF0c0ZvclN0cmVhbTogKFxuICAgIGtpbmQ6ICdzdWJzY3JpYmVyJyB8ICdwdWJsaXNoZXInLFxuICAgIHRyYWNrczogTWVkaWFTdHJlYW1UcmFja1tdLFxuICApID0+IFByb21pc2U8U3RhdHNSZXBvcnRbXT47XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHJldHJpZXZpbmcgcmF3IHN0YXRzIGZvciBhIGdpdmVuIHBlZXIgY29ubmVjdGlvbiBraW5kLlxuICAgKlxuICAgKiBAcGFyYW0ga2luZCB0aGUgcGVlciBjb25uZWN0aW9uIGtpbmQgKHN1YnNjcmliZXIgb3IgcHVibGlzaGVyKS5cbiAgICogQHBhcmFtIHNlbGVjdG9yIHRoZSB0cmFjayBzZWxlY3Rvci4gSWYgbm90IHByb3ZpZGVkLCBzdGF0cyBmb3IgYWxsIHRyYWNrcyB3aWxsIGJlIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0UmF3U3RhdHNGb3JUcmFjazogKFxuICAgIGtpbmQ6ICdzdWJzY3JpYmVyJyB8ICdwdWJsaXNoZXInLFxuICAgIHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayxcbiAgKSA9PiBQcm9taXNlPFJUQ1N0YXRzUmVwb3J0IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIHN0YXRzIHJlcG9ydGVyIGFuZCByZWxlYXNlcyBhbGwgcmVzb3VyY2VzLlxuICAgKi9cbiAgc3RvcDogKCkgPT4gdm9pZDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTdGF0c1JlcG9ydGVyIGluc3RhbmNlIHRoYXQgY29sbGVjdHMgbWV0cmljcyBhYm91dCB0aGUgb25nb2luZyBjYWxsIGFuZCByZXBvcnRzIHRoZW0gdG8gdGhlIHN0YXRlIHN0b3JlXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTdGF0c1JlcG9ydGVyID0gKHtcbiAgc3Vic2NyaWJlcixcbiAgcHVibGlzaGVyLFxuICBzdGF0ZSxcbiAgZGF0YWNlbnRlcixcbiAgcG9sbGluZ0ludGVydmFsSW5NcyA9IDIwMDAsXG59OiBTdGF0c1JlcG9ydGVyT3B0cyk6IFN0YXRzUmVwb3J0ZXIgPT4ge1xuICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydzdGF0cyddKTtcbiAgY29uc3QgZ2V0UmF3U3RhdHNGb3JUcmFjayA9IGFzeW5jIChcbiAgICBraW5kOiAnc3Vic2NyaWJlcicgfCAncHVibGlzaGVyJyxcbiAgICBzZWxlY3Rvcj86IE1lZGlhU3RyZWFtVHJhY2ssXG4gICkgPT4ge1xuICAgIGlmIChraW5kID09PSAnc3Vic2NyaWJlcicgJiYgc3Vic2NyaWJlcikge1xuICAgICAgcmV0dXJuIHN1YnNjcmliZXIuZ2V0U3RhdHMoc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gJ3B1Ymxpc2hlcicgJiYgcHVibGlzaGVyKSB7XG4gICAgICByZXR1cm4gcHVibGlzaGVyLmdldFN0YXRzKHNlbGVjdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0U3RhdHNGb3JTdHJlYW0gPSBhc3luYyAoXG4gICAga2luZDogJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcicsXG4gICAgdHJhY2tzOiBNZWRpYVN0cmVhbVRyYWNrW10sXG4gICkgPT4ge1xuICAgIGNvbnN0IHBjID0ga2luZCA9PT0gJ3N1YnNjcmliZXInID8gc3Vic2NyaWJlciA6IHB1Ymxpc2hlcjtcbiAgICBpZiAoIXBjKSByZXR1cm4gW107XG4gICAgY29uc3Qgc3RhdHNGb3JTdHJlYW06IFN0YXRzUmVwb3J0W10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrcykge1xuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgcGMuZ2V0U3RhdHModHJhY2spO1xuICAgICAgY29uc3Qgc3RhdHMgPSB0cmFuc2Zvcm0ocmVwb3J0LCB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdHJhY2tLaW5kOiB0cmFjay5raW5kLFxuICAgICAgICBraW5kLFxuICAgICAgfSk7XG4gICAgICBzdGF0c0ZvclN0cmVhbS5wdXNoKHN0YXRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRzRm9yU3RyZWFtO1xuICB9O1xuXG4gIGNvbnN0IHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3IgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICBzZXNzaW9uSWRzVG9UcmFjay5hZGQoc2Vzc2lvbklkKTtcbiAgICB2b2lkIHJ1bigpO1xuICB9O1xuXG4gIGNvbnN0IHN0b3BSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHNlc3Npb25JZHNUb1RyYWNrLmRlbGV0ZShzZXNzaW9uSWQpO1xuICAgIHZvaWQgcnVuKCk7XG4gIH07XG5cbiAgY29uc3Qgc2Vzc2lvbklkc1RvVHJhY2sgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAvKipcbiAgICogVGhlIG1haW4gc3RhdHMgcmVwb3J0aW5nIGxvb3AuXG4gICAqL1xuICBjb25zdCBydW4gPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcGFydGljaXBhbnRTdGF0czogUGFydGljaXBhbnRzU3RhdHNSZXBvcnQgPSB7fTtcbiAgICBpZiAoc2Vzc2lvbklkc1RvVHJhY2suc2l6ZSA+IDApIHtcbiAgICAgIGNvbnN0IHNlc3Npb25JZHMgPSBuZXcgU2V0KHNlc3Npb25JZHNUb1RyYWNrKTtcbiAgICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2Ygc3RhdGUucGFydGljaXBhbnRzKSB7XG4gICAgICAgIGlmICghc2Vzc2lvbklkcy5oYXMocGFydGljaXBhbnQuc2Vzc2lvbklkKSkgY29udGludWU7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBhdWRpb1N0cmVhbSxcbiAgICAgICAgICBpc0xvY2FsUGFydGljaXBhbnQsXG4gICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICB2aWRlb1N0cmVhbSxcbiAgICAgICAgfSA9IHBhcnRpY2lwYW50O1xuICAgICAgICBjb25zdCBraW5kID0gaXNMb2NhbFBhcnRpY2lwYW50ID8gJ3B1Ymxpc2hlcicgOiAnc3Vic2NyaWJlcic7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdHJhY2tzID0gaXNMb2NhbFBhcnRpY2lwYW50XG4gICAgICAgICAgICA/IHB1Ymxpc2hlcj8uZ2V0UHVibGlzaGVkVHJhY2tzKCkgfHwgW11cbiAgICAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgIC4uLih2aWRlb1N0cmVhbT8uZ2V0VmlkZW9UcmFja3MoKSB8fCBbXSksXG4gICAgICAgICAgICAgICAgLi4uKGF1ZGlvU3RyZWFtPy5nZXRBdWRpb1RyYWNrcygpIHx8IFtdKSxcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICBwYXJ0aWNpcGFudFN0YXRzW3Nlc3Npb25JZF0gPSBhd2FpdCBnZXRTdGF0c0ZvclN0cmVhbShraW5kLCB0cmFja3MpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgbG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBjb2xsZWN0ICR7a2luZH0gc3RhdHMgZm9yICR7dXNlcklkfWAsIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgW3N1YnNjcmliZXJTdGF0cywgcHVibGlzaGVyU3RhdHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgc3Vic2NyaWJlclxuICAgICAgICAuZ2V0U3RhdHMoKVxuICAgICAgICAudGhlbigocmVwb3J0KSA9PlxuICAgICAgICAgIHRyYW5zZm9ybShyZXBvcnQsIHtcbiAgICAgICAgICAgIGtpbmQ6ICdzdWJzY3JpYmVyJyxcbiAgICAgICAgICAgIHRyYWNrS2luZDogJ3ZpZGVvJyxcbiAgICAgICAgICAgIHB1Ymxpc2hlcixcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICAudGhlbihhZ2dyZWdhdGUpLFxuICAgICAgcHVibGlzaGVyXG4gICAgICAgID8gcHVibGlzaGVyXG4gICAgICAgICAgICAuZ2V0U3RhdHMoKVxuICAgICAgICAgICAgLnRoZW4oKHJlcG9ydCkgPT5cbiAgICAgICAgICAgICAgdHJhbnNmb3JtKHJlcG9ydCwge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdwdWJsaXNoZXInLFxuICAgICAgICAgICAgICAgIHRyYWNrS2luZDogJ3ZpZGVvJyxcbiAgICAgICAgICAgICAgICBwdWJsaXNoZXIsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oYWdncmVnYXRlKVxuICAgICAgICA6IGdldEVtcHR5U3RhdHMoKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IFtzdWJzY3JpYmVyUmF3U3RhdHMsIHB1Ymxpc2hlclJhd1N0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldFJhd1N0YXRzRm9yVHJhY2soJ3N1YnNjcmliZXInKSxcbiAgICAgIHB1Ymxpc2hlciA/IGdldFJhd1N0YXRzRm9yVHJhY2soJ3B1Ymxpc2hlcicpIDogdW5kZWZpbmVkLFxuICAgIF0pO1xuXG4gICAgc3RhdGUuc2V0Q2FsbFN0YXRzUmVwb3J0KHtcbiAgICAgIGRhdGFjZW50ZXIsXG4gICAgICBwdWJsaXNoZXJTdGF0cyxcbiAgICAgIHN1YnNjcmliZXJTdGF0cyxcbiAgICAgIHN1YnNjcmliZXJSYXdTdGF0cyxcbiAgICAgIHB1Ymxpc2hlclJhd1N0YXRzLFxuICAgICAgcGFydGljaXBhbnRzOiBwYXJ0aWNpcGFudFN0YXRzLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH0pO1xuICB9O1xuXG4gIGxldCB0aW1lb3V0SWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICBpZiAocG9sbGluZ0ludGVydmFsSW5NcyA+IDApIHtcbiAgICBjb25zdCBsb29wID0gYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcnVuKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgbG9nZ2VyKCdkZWJ1ZycsICdGYWlsZWQgdG8gY29sbGVjdCBzdGF0cycsIGUpO1xuICAgICAgfSk7XG4gICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGxvb3AsIHBvbGxpbmdJbnRlcnZhbEluTXMpO1xuICAgIH07XG4gICAgdm9pZCBsb29wKCk7XG4gIH1cblxuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGdldFJhd1N0YXRzRm9yVHJhY2ssXG4gICAgZ2V0U3RhdHNGb3JTdHJlYW0sXG4gICAgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcixcbiAgICBzdG9wUmVwb3J0aW5nU3RhdHNGb3IsXG4gICAgc3RvcCxcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFN0YXRzVHJhbnNmb3JtT3B0cyA9IHtcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHRyYWNrIHdlIGFyZSB0cmFuc2Zvcm1pbmcgc3RhdHMgZm9yLlxuICAgKi9cbiAgdHJhY2tLaW5kOiAnYXVkaW8nIHwgJ3ZpZGVvJztcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHBlZXIgY29ubmVjdGlvbiB3ZSBhcmUgdHJhbnNmb3JtaW5nIHN0YXRzIGZvci5cbiAgICovXG4gIGtpbmQ6ICdzdWJzY3JpYmVyJyB8ICdwdWJsaXNoZXInO1xuICAvKipcbiAgICogVGhlIHB1Ymxpc2hlciBpbnN0YW5jZS5cbiAgICovXG4gIHB1Ymxpc2hlcjogUHVibGlzaGVyIHwgdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHJhdyBSVEMgc3RhdHMgaW50byBhIHNsaW1tZXIgYW5kIHVuaWZvcm0gYWNyb3NzIGJyb3dzZXJzIGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0gcmVwb3J0IHRoZSByZXBvcnQgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIG9wdHMgdGhlIHRyYW5zZm9ybSBvcHRpb25zLlxuICovXG5jb25zdCB0cmFuc2Zvcm0gPSAoXG4gIHJlcG9ydDogUlRDU3RhdHNSZXBvcnQsXG4gIG9wdHM6IFN0YXRzVHJhbnNmb3JtT3B0cyxcbik6IFN0YXRzUmVwb3J0ID0+IHtcbiAgY29uc3QgeyB0cmFja0tpbmQsIGtpbmQsIHB1Ymxpc2hlciB9ID0gb3B0cztcbiAgY29uc3QgZGlyZWN0aW9uID0ga2luZCA9PT0gJ3N1YnNjcmliZXInID8gJ2luYm91bmQtcnRwJyA6ICdvdXRib3VuZC1ydHAnO1xuICBjb25zdCBzdGF0cyA9IGZsYXR0ZW4ocmVwb3J0KTtcbiAgY29uc3Qgc3RyZWFtcyA9IHN0YXRzXG4gICAgLmZpbHRlcihcbiAgICAgIChzdGF0KSA9PlxuICAgICAgICBzdGF0LnR5cGUgPT09IGRpcmVjdGlvbiAmJlxuICAgICAgICAoc3RhdCBhcyBSVENSdHBTdHJlYW1TdGF0cykua2luZCA9PT0gdHJhY2tLaW5kLFxuICAgIClcbiAgICAubWFwKChzdGF0KTogQmFzZVN0YXRzID0+IHtcbiAgICAgIGNvbnN0IHJ0Y1N0cmVhbVN0YXRzID0gc3RhdCBhcyBSVENJbmJvdW5kUnRwU3RyZWFtU3RhdHMgJlxuICAgICAgICBSVENPdXRib3VuZFJ0cFN0cmVhbVN0YXRzO1xuXG4gICAgICBjb25zdCBjb2RlYyA9IHN0YXRzLmZpbmQoXG4gICAgICAgIChzKSA9PiBzLnR5cGUgPT09ICdjb2RlYycgJiYgcy5pZCA9PT0gcnRjU3RyZWFtU3RhdHMuY29kZWNJZCxcbiAgICAgICkgYXMgUlRDUnRwQ29kZWMgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IHN0YXRzLmZpbmQoXG4gICAgICAgIChzKSA9PiBzLnR5cGUgPT09ICd0cmFuc3BvcnQnICYmIHMuaWQgPT09IHJ0Y1N0cmVhbVN0YXRzLnRyYW5zcG9ydElkLFxuICAgICAgKSBhcyBSVENUcmFuc3BvcnRTdGF0cyB8IHVuZGVmaW5lZDtcblxuICAgICAgbGV0IHJvdW5kVHJpcFRpbWU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgIGlmICh0cmFuc3BvcnQgJiYgdHJhbnNwb3J0LmR0bHNTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlUGFpciA9IHN0YXRzLmZpbmQoXG4gICAgICAgICAgKHMpID0+XG4gICAgICAgICAgICBzLnR5cGUgPT09ICdjYW5kaWRhdGUtcGFpcicgJiZcbiAgICAgICAgICAgIHMuaWQgPT09IHRyYW5zcG9ydC5zZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCxcbiAgICAgICAgKSBhcyBSVENJY2VDYW5kaWRhdGVQYWlyU3RhdHMgfCB1bmRlZmluZWQ7XG4gICAgICAgIHJvdW5kVHJpcFRpbWUgPSBjYW5kaWRhdGVQYWlyPy5jdXJyZW50Um91bmRUcmlwVGltZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRyYWNrVHlwZTogVHJhY2tUeXBlIHwgdW5kZWZpbmVkO1xuICAgICAgaWYgKGtpbmQgPT09ICdwdWJsaXNoZXInICYmIHB1Ymxpc2hlcikge1xuICAgICAgICBjb25zdCBmaXJlZm94ID0gaXNGaXJlZm94KCk7XG4gICAgICAgIGNvbnN0IG1lZGlhU291cmNlID0gc3RhdHMuZmluZChcbiAgICAgICAgICAocykgPT5cbiAgICAgICAgICAgIHMudHlwZSA9PT0gJ21lZGlhLXNvdXJjZScgJiZcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIG1lZGlhU291cmNlSWQsIHNvIHdlIG5lZWQgdG8gZ3Vlc3MgdGhlIG1lZGlhIHNvdXJjZVxuICAgICAgICAgICAgKGZpcmVmb3ggPyB0cnVlIDogcy5pZCA9PT0gcnRjU3RyZWFtU3RhdHMubWVkaWFTb3VyY2VJZCksXG4gICAgICAgICkgYXMgUlRDTWVkaWFTb3VyY2VTdGF0cyB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG1lZGlhU291cmNlKSB7XG4gICAgICAgICAgdHJhY2tUeXBlID0gcHVibGlzaGVyLmdldFRyYWNrVHlwZShtZWRpYVNvdXJjZS50cmFja0lkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ5dGVzU2VudDogcnRjU3RyZWFtU3RhdHMuYnl0ZXNTZW50LFxuICAgICAgICBieXRlc1JlY2VpdmVkOiBydGNTdHJlYW1TdGF0cy5ieXRlc1JlY2VpdmVkLFxuICAgICAgICBjb2RlYzogY29kZWM/Lm1pbWVUeXBlLFxuICAgICAgICBjdXJyZW50Um91bmRUcmlwVGltZTogcm91bmRUcmlwVGltZSxcbiAgICAgICAgZnJhbWVIZWlnaHQ6IHJ0Y1N0cmVhbVN0YXRzLmZyYW1lSGVpZ2h0LFxuICAgICAgICBmcmFtZVdpZHRoOiBydGNTdHJlYW1TdGF0cy5mcmFtZVdpZHRoLFxuICAgICAgICBmcmFtZXNQZXJTZWNvbmQ6IHJ0Y1N0cmVhbVN0YXRzLmZyYW1lc1BlclNlY29uZCxcbiAgICAgICAgaml0dGVyOiBydGNTdHJlYW1TdGF0cy5qaXR0ZXIsXG4gICAgICAgIGtpbmQ6IHJ0Y1N0cmVhbVN0YXRzLmtpbmQsXG4gICAgICAgIG1lZGlhU291cmNlSWQ6IHJ0Y1N0cmVhbVN0YXRzLm1lZGlhU291cmNlSWQsXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IGF2YWlsYWJsZSBpbiBDaHJvbWUgb25seSwgVFMgZG9lc24ndCByZWNvZ25pemUgdGhpc1xuICAgICAgICBxdWFsaXR5TGltaXRhdGlvblJlYXNvbjogcnRjU3RyZWFtU3RhdHMucXVhbGl0eUxpbWl0YXRpb25SZWFzb24sXG4gICAgICAgIHJpZDogcnRjU3RyZWFtU3RhdHMucmlkLFxuICAgICAgICBzc3JjOiBydGNTdHJlYW1TdGF0cy5zc3JjLFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcmF3U3RhdHM6IHJlcG9ydCxcbiAgICBzdHJlYW1zLFxuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgfTtcbn07XG5cbmNvbnN0IGdldEVtcHR5U3RhdHMgPSAoc3RhdHM/OiBTdGF0c1JlcG9ydCk6IEFnZ3JlZ2F0ZWRTdGF0c1JlcG9ydCA9PiB7XG4gIHJldHVybiB7XG4gICAgcmF3UmVwb3J0OiBzdGF0cyA/PyB7IHN0cmVhbXM6IFtdLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcbiAgICB0b3RhbEJ5dGVzU2VudDogMCxcbiAgICB0b3RhbEJ5dGVzUmVjZWl2ZWQ6IDAsXG4gICAgYXZlcmFnZUppdHRlckluTXM6IDAsXG4gICAgYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zOiAwLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uczogJ25vbmUnLFxuICAgIGhpZ2hlc3RGcmFtZVdpZHRoOiAwLFxuICAgIGhpZ2hlc3RGcmFtZUhlaWdodDogMCxcbiAgICBoaWdoZXN0RnJhbWVzUGVyU2Vjb25kOiAwLFxuICAgIGNvZGVjOiAnJyxcbiAgICBjb2RlY1BlclRyYWNrVHlwZToge30sXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9O1xufTtcblxuLyoqXG4gKiBBZ2dyZWdhdGVzIGdlbmVyaWMgc3RhdHMuXG4gKlxuICogQHBhcmFtIHN0YXRzIHRoZSBzdGF0cyB0byBhZ2dyZWdhdGUuXG4gKi9cbmNvbnN0IGFnZ3JlZ2F0ZSA9IChzdGF0czogU3RhdHNSZXBvcnQpOiBBZ2dyZWdhdGVkU3RhdHNSZXBvcnQgPT4ge1xuICBjb25zdCBhZ2dyZWdhdGVkU3RhdHMgPSBnZXRFbXB0eVN0YXRzKHN0YXRzKTtcblxuICBsZXQgbWF4QXJlYSA9IC0xO1xuICBjb25zdCBhcmVhID0gKHc6IG51bWJlciwgaDogbnVtYmVyKSA9PiB3ICogaDtcblxuICBjb25zdCBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgY29uc3Qgc3RyZWFtcyA9IHN0YXRzLnN0cmVhbXM7XG4gIGNvbnN0IHJlcG9ydCA9IHN0cmVhbXMucmVkdWNlKChhY2MsIHN0cmVhbSkgPT4ge1xuICAgIGFjYy50b3RhbEJ5dGVzU2VudCArPSBzdHJlYW0uYnl0ZXNTZW50IHx8IDA7XG4gICAgYWNjLnRvdGFsQnl0ZXNSZWNlaXZlZCArPSBzdHJlYW0uYnl0ZXNSZWNlaXZlZCB8fCAwO1xuICAgIGFjYy5hdmVyYWdlSml0dGVySW5NcyArPSBzdHJlYW0uaml0dGVyIHx8IDA7XG4gICAgYWNjLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyArPSBzdHJlYW0uY3VycmVudFJvdW5kVHJpcFRpbWUgfHwgMDtcblxuICAgIC8vIG5haXZlIGNhbGN1bGF0aW9uIG9mIHRoZSBoaWdoZXN0IHJlc29sdXRpb25cbiAgICBjb25zdCBzdHJlYW1BcmVhID0gYXJlYShzdHJlYW0uZnJhbWVXaWR0aCB8fCAwLCBzdHJlYW0uZnJhbWVIZWlnaHQgfHwgMCk7XG4gICAgaWYgKHN0cmVhbUFyZWEgPiBtYXhBcmVhKSB7XG4gICAgICBhY2MuaGlnaGVzdEZyYW1lV2lkdGggPSBzdHJlYW0uZnJhbWVXaWR0aCB8fCAwO1xuICAgICAgYWNjLmhpZ2hlc3RGcmFtZUhlaWdodCA9IHN0cmVhbS5mcmFtZUhlaWdodCB8fCAwO1xuICAgICAgYWNjLmhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQgPSBzdHJlYW0uZnJhbWVzUGVyU2Vjb25kIHx8IDA7XG4gICAgICBtYXhBcmVhID0gc3RyZWFtQXJlYTtcbiAgICB9XG5cbiAgICBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMuYWRkKHN0cmVhbS5xdWFsaXR5TGltaXRhdGlvblJlYXNvbiB8fCAnJyk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgYWdncmVnYXRlZFN0YXRzKTtcblxuICBpZiAoc3RyZWFtcy5sZW5ndGggPiAwKSB7XG4gICAgcmVwb3J0LmF2ZXJhZ2VKaXR0ZXJJbk1zID0gTWF0aC5yb3VuZChcbiAgICAgIChyZXBvcnQuYXZlcmFnZUppdHRlckluTXMgLyBzdHJlYW1zLmxlbmd0aCkgKiAxMDAwLFxuICAgICk7XG4gICAgcmVwb3J0LmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyA9IE1hdGgucm91bmQoXG4gICAgICAocmVwb3J0LmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyAvIHN0cmVhbXMubGVuZ3RoKSAqIDEwMDAsXG4gICAgKTtcbiAgICAvLyB3ZSB0YWtlIHRoZSBmaXJzdCBjb2RlYyB3ZSBmaW5kLCBhcyBpdCBzaG91bGQgYmUgdGhlIHNhbWUgZm9yIGFsbCBzdHJlYW1zXG4gICAgcmVwb3J0LmNvZGVjID0gc3RyZWFtc1swXS5jb2RlYyB8fCAnJztcbiAgICByZXBvcnQuY29kZWNQZXJUcmFja1R5cGUgPSBzdHJlYW1zLnJlZHVjZShcbiAgICAgIChhY2MsIHN0cmVhbSkgPT4ge1xuICAgICAgICBpZiAoc3RyZWFtLnRyYWNrVHlwZSkge1xuICAgICAgICAgIGFjY1tzdHJlYW0udHJhY2tUeXBlXSA9IHN0cmVhbS5jb2RlYyB8fCAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSxcbiAgICAgIHt9IGFzIFJlY29yZDxUcmFja1R5cGUsIHN0cmluZz4sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uID0gW1xuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ2NwdScpICYmICdjcHUnLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ2JhbmR3aWR0aCcpICYmICdiYW5kd2lkdGgnLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ290aGVyJykgJiYgJ290aGVyJyxcbiAgXVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAuam9pbignLCAnKTtcbiAgaWYgKHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uKSB7XG4gICAgcmVwb3J0LnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyA9IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uO1xuICB9XG5cbiAgcmV0dXJuIHJlcG9ydDtcbn07XG4iLCJpbXBvcnQge1xuICBBbmRyb2lkVGhlcm1hbFN0YXRlLFxuICBBcHBsZVRoZXJtYWxTdGF0ZSxcbiAgQ2xpZW50RGV0YWlscyxcbiAgRGV2aWNlLFxuICBPUyxcbiAgU2RrLFxuICBTZGtUeXBlLFxufSBmcm9tICcuL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBTZW5kU3RhdHNSZXF1ZXN0IH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IFVBUGFyc2VyIH0gZnJvbSAndWEtcGFyc2VyLWpzJztcblxudHlwZSBXZWJSVENJbmZvVHlwZSA9IHtcbiAgdmVyc2lvbjogc3RyaW5nO1xufTtcblxuY29uc3QgdmVyc2lvbiA9IHByb2Nlc3MuZW52LlBLR19WRVJTSU9OIHx8ICcwLjAuMCc7XG5jb25zdCBbbWFqb3IsIG1pbm9yLCBwYXRjaF0gPSB2ZXJzaW9uLnNwbGl0KCcuJyk7XG5cbmxldCBzZGtJbmZvOiBTZGsgfCB1bmRlZmluZWQgPSB7XG4gIHR5cGU6IFNka1R5cGUuUExBSU5fSkFWQVNDUklQVCxcbiAgbWFqb3IsXG4gIG1pbm9yLFxuICBwYXRjaCxcbn07XG5cbmxldCBvc0luZm86IE9TIHwgdW5kZWZpbmVkO1xubGV0IGRldmljZUluZm86IERldmljZSB8IHVuZGVmaW5lZDtcbmxldCB3ZWJSdGNJbmZvOiBXZWJSVENJbmZvVHlwZSB8IHVuZGVmaW5lZDtcbmxldCBkZXZpY2VTdGF0ZTogU2VuZFN0YXRzUmVxdWVzdFsnZGV2aWNlU3RhdGUnXSA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcblxuZXhwb3J0IGNvbnN0IHNldFNka0luZm8gPSAoaW5mbzogU2RrKSA9PiB7XG4gIHNka0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNka0luZm8gPSAoKSA9PiB7XG4gIHJldHVybiBzZGtJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldE9TSW5mbyA9IChpbmZvOiBPUykgPT4ge1xuICBvc0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9TSW5mbyA9ICgpID0+IHtcbiAgcmV0dXJuIG9zSW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBzZXREZXZpY2VJbmZvID0gKGluZm86IERldmljZSkgPT4ge1xuICBkZXZpY2VJbmZvID0gaW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZXZpY2VJbmZvID0gKCkgPT4ge1xuICByZXR1cm4gZGV2aWNlSW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRXZWJSVENJbmZvID0gKCkgPT4ge1xuICByZXR1cm4gd2ViUnRjSW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRXZWJSVENJbmZvID0gKGluZm86IFdlYlJUQ0luZm9UeXBlKSA9PiB7XG4gIHdlYlJ0Y0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IHR5cGUgTG9jYWxDbGllbnREZXRhaWxzVHlwZSA9IENsaWVudERldGFpbHMgJiB7XG4gIHdlYlJUQ0luZm8/OiBXZWJSVENJbmZvVHlwZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRUaGVybWFsU3RhdGUgPSAoc3RhdGU6IHN0cmluZykgPT4ge1xuICBpZiAoIW9zSW5mbykge1xuICAgIGRldmljZVN0YXRlID0geyBvbmVvZktpbmQ6IHVuZGVmaW5lZCB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChvc0luZm8ubmFtZSA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgY29uc3QgdGhlcm1hbFN0YXRlID1cbiAgICAgIEFuZHJvaWRUaGVybWFsU3RhdGVbc3RhdGUgYXMga2V5b2YgdHlwZW9mIEFuZHJvaWRUaGVybWFsU3RhdGVdIHx8XG4gICAgICBBbmRyb2lkVGhlcm1hbFN0YXRlLlVOU1BFQ0lGSUVEO1xuXG4gICAgZGV2aWNlU3RhdGUgPSB7XG4gICAgICBvbmVvZktpbmQ6ICdhbmRyb2lkJyxcbiAgICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgdGhlcm1hbFN0YXRlLFxuICAgICAgICBpc1Bvd2VyU2F2ZXJNb2RlOlxuICAgICAgICAgIGRldmljZVN0YXRlPy5vbmVvZktpbmQgPT09ICdhbmRyb2lkJyAmJlxuICAgICAgICAgIGRldmljZVN0YXRlLmFuZHJvaWQuaXNQb3dlclNhdmVyTW9kZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIGlmIChvc0luZm8ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW9zJykge1xuICAgIGNvbnN0IHRoZXJtYWxTdGF0ZSA9XG4gICAgICBBcHBsZVRoZXJtYWxTdGF0ZVtzdGF0ZSBhcyBrZXlvZiB0eXBlb2YgQXBwbGVUaGVybWFsU3RhdGVdIHx8XG4gICAgICBBcHBsZVRoZXJtYWxTdGF0ZS5VTlNQRUNJRklFRDtcblxuICAgIGRldmljZVN0YXRlID0ge1xuICAgICAgb25lb2ZLaW5kOiAnYXBwbGUnLFxuICAgICAgYXBwbGU6IHtcbiAgICAgICAgdGhlcm1hbFN0YXRlLFxuICAgICAgICBpc0xvd1Bvd2VyTW9kZUVuYWJsZWQ6XG4gICAgICAgICAgZGV2aWNlU3RhdGU/Lm9uZW9mS2luZCA9PT0gJ2FwcGxlJyAmJlxuICAgICAgICAgIGRldmljZVN0YXRlLmFwcGxlLmlzTG93UG93ZXJNb2RlRW5hYmxlZCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHNldFBvd2VyU3RhdGUgPSAocG93ZXJNb2RlOiBib29sZWFuKSA9PiB7XG4gIGlmICghb3NJbmZvKSB7XG4gICAgZGV2aWNlU3RhdGUgPSB7IG9uZW9mS2luZDogdW5kZWZpbmVkIH07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG9zSW5mby5uYW1lID09PSAnYW5kcm9pZCcpIHtcbiAgICBkZXZpY2VTdGF0ZSA9IHtcbiAgICAgIG9uZW9mS2luZDogJ2FuZHJvaWQnLFxuICAgICAgYW5kcm9pZDoge1xuICAgICAgICB0aGVybWFsU3RhdGU6XG4gICAgICAgICAgZGV2aWNlU3RhdGU/Lm9uZW9mS2luZCA9PT0gJ2FuZHJvaWQnXG4gICAgICAgICAgICA/IGRldmljZVN0YXRlLmFuZHJvaWQudGhlcm1hbFN0YXRlXG4gICAgICAgICAgICA6IEFuZHJvaWRUaGVybWFsU3RhdGUuVU5TUEVDSUZJRUQsXG4gICAgICAgIGlzUG93ZXJTYXZlck1vZGU6IHBvd2VyTW9kZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIGlmIChvc0luZm8ubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW9zJykge1xuICAgIGRldmljZVN0YXRlID0ge1xuICAgICAgb25lb2ZLaW5kOiAnYXBwbGUnLFxuICAgICAgYXBwbGU6IHtcbiAgICAgICAgdGhlcm1hbFN0YXRlOlxuICAgICAgICAgIGRldmljZVN0YXRlPy5vbmVvZktpbmQgPT09ICdhcHBsZSdcbiAgICAgICAgICAgID8gZGV2aWNlU3RhdGUuYXBwbGUudGhlcm1hbFN0YXRlXG4gICAgICAgICAgICA6IEFwcGxlVGhlcm1hbFN0YXRlLlVOU1BFQ0lGSUVELFxuICAgICAgICBpc0xvd1Bvd2VyTW9kZUVuYWJsZWQ6IHBvd2VyTW9kZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldERldmljZVN0YXRlID0gKCkgPT4ge1xuICByZXR1cm4gZGV2aWNlU3RhdGU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q2xpZW50RGV0YWlscyA9ICgpOiBMb2NhbENsaWVudERldGFpbHNUeXBlID0+IHtcbiAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgIC8vIFNpbmNlIFJOIGRvZXNuJ3Qgc3VwcG9ydCB3ZWIsIHNoYXJpbmcgYnJvd3NlciBpbmZvIGlzIG5vdCByZXF1aXJlZFxuICAgIHJldHVybiB7XG4gICAgICBzZGs6IGdldFNka0luZm8oKSxcbiAgICAgIG9zOiBnZXRPU0luZm8oKSxcbiAgICAgIGRldmljZTogZ2V0RGV2aWNlSW5mbygpLFxuICAgIH07XG4gIH1cblxuICBjb25zdCB1c2VyQWdlbnQgPSBuZXcgVUFQYXJzZXIobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIGNvbnN0IHsgYnJvd3Nlciwgb3MsIGRldmljZSwgY3B1IH0gPSB1c2VyQWdlbnQuZ2V0UmVzdWx0KCk7XG4gIHJldHVybiB7XG4gICAgc2RrOiBnZXRTZGtJbmZvKCksXG4gICAgYnJvd3Nlcjoge1xuICAgICAgbmFtZTogYnJvd3Nlci5uYW1lIHx8IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICB2ZXJzaW9uOiBicm93c2VyLnZlcnNpb24gfHwgJycsXG4gICAgfSxcbiAgICBvczoge1xuICAgICAgbmFtZTogb3MubmFtZSB8fCAnJyxcbiAgICAgIHZlcnNpb246IG9zLnZlcnNpb24gfHwgJycsXG4gICAgICBhcmNoaXRlY3R1cmU6IGNwdS5hcmNoaXRlY3R1cmUgfHwgJycsXG4gICAgfSxcbiAgICBkZXZpY2U6IHtcbiAgICAgIG5hbWU6IFtkZXZpY2UudmVuZG9yLCBkZXZpY2UubW9kZWwsIGRldmljZS50eXBlXVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgIC5qb2luKCcgJyksXG4gICAgICB2ZXJzaW9uOiAnJyxcbiAgICB9LFxuICB9O1xufTtcbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4uL1N0cmVhbVNmdUNsaWVudCc7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5LCBTdGF0c09wdGlvbnMgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IFB1Ymxpc2hlciwgU3Vic2NyaWJlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBmbGF0dGVuLCBnZXRTZGtOYW1lLCBnZXRTZGtWZXJzaW9uIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge1xuICBnZXREZXZpY2VTdGF0ZSxcbiAgZ2V0V2ViUlRDSW5mbyxcbiAgTG9jYWxDbGllbnREZXRhaWxzVHlwZSxcbn0gZnJvbSAnLi4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHtcbiAgSW5wdXREZXZpY2VzLFxuICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENhbWVyYU1hbmFnZXIsIE1pY3JvcGhvbmVNYW5hZ2VyIH0gZnJvbSAnLi4vZGV2aWNlcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IFRlbGVtZXRyeSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwnO1xuXG5leHBvcnQgdHlwZSBTZnVTdGF0c1JlcG9ydGVyT3B0aW9ucyA9IHtcbiAgb3B0aW9uczogU3RhdHNPcHRpb25zO1xuICBjbGllbnREZXRhaWxzOiBMb2NhbENsaWVudERldGFpbHNUeXBlO1xuICBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyO1xuICBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG4gIG1pY3JvcGhvbmU6IE1pY3JvcGhvbmVNYW5hZ2VyO1xuICBjYW1lcmE6IENhbWVyYU1hbmFnZXI7XG4gIHN0YXRlOiBDYWxsU3RhdGU7XG59O1xuXG5leHBvcnQgY2xhc3MgU2Z1U3RhdHNSZXBvcnRlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnU2Z1U3RhdHNSZXBvcnRlciddKTtcblxuICByZWFkb25seSBvcHRpb25zOiBTdGF0c09wdGlvbnM7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyO1xuICBwcml2YXRlIHJlYWRvbmx5IHB1Ymxpc2hlcj86IFB1Ymxpc2hlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBtaWNyb3Bob25lOiBNaWNyb3Bob25lTWFuYWdlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBjYW1lcmE6IENhbWVyYU1hbmFnZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3RhdGU6IENhbGxTdGF0ZTtcblxuICBwcml2YXRlIGludGVydmFsSWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHVuc3Vic2NyaWJlRGV2aWNlUGVybWlzc2lvbnNTdWJzY3JpcHRpb24/OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24/OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IHNka05hbWU6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBzZGtWZXJzaW9uOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgd2ViUlRDVmVyc2lvbjogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGlucHV0RGV2aWNlcyA9IG5ldyBNYXA8J21pYycgfCAnY2FtZXJhJywgSW5wdXREZXZpY2VzPigpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50LFxuICAgIHtcbiAgICAgIG9wdGlvbnMsXG4gICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgc3Vic2NyaWJlcixcbiAgICAgIHB1Ymxpc2hlcixcbiAgICAgIG1pY3JvcGhvbmUsXG4gICAgICBjYW1lcmEsXG4gICAgICBzdGF0ZSxcbiAgICB9OiBTZnVTdGF0c1JlcG9ydGVyT3B0aW9ucyxcbiAgKSB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuICAgIHRoaXMubWljcm9waG9uZSA9IG1pY3JvcGhvbmU7XG4gICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgY29uc3QgeyBzZGssIGJyb3dzZXIgfSA9IGNsaWVudERldGFpbHM7XG4gICAgdGhpcy5zZGtOYW1lID0gZ2V0U2RrTmFtZShzZGspO1xuICAgIHRoaXMuc2RrVmVyc2lvbiA9IGdldFNka1ZlcnNpb24oc2RrKTtcblxuICAgIC8vIHVzZSB0aGUgV2ViUlRDIHZlcnNpb24gaWYgc2V0IGJ5IHRoZSBTREsgKFJlYWN0IE5hdGl2ZSkgb3RoZXJ3aXNlLFxuICAgIC8vIHVzZSB0aGUgYnJvd3NlciB2ZXJzaW9uIGFzIGEgZmFsbGJhY2tcbiAgICBjb25zdCB3ZWJSVENJbmZvID0gZ2V0V2ViUlRDSW5mbygpO1xuICAgIHRoaXMud2ViUlRDVmVyc2lvbiA9XG4gICAgICB3ZWJSVENJbmZvPy52ZXJzaW9uIHx8XG4gICAgICBgJHticm93c2VyPy5uYW1lIHx8ICcnfS0ke2Jyb3dzZXI/LnZlcnNpb24gfHwgJyd9YCB8fFxuICAgICAgJ04vQSc7XG4gIH1cblxuICBwcml2YXRlIG9ic2VydmVEZXZpY2UgPSAoXG4gICAgZGV2aWNlOiBDYW1lcmFNYW5hZ2VyIHwgTWljcm9waG9uZU1hbmFnZXIsXG4gICAga2luZDogJ21pYycgfCAnY2FtZXJhJyxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBoYXNCcm93c2VyUGVybWlzc2lvbiQgfSA9IGRldmljZS5zdGF0ZTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlRGV2aWNlUGVybWlzc2lvbnNTdWJzY3JpcHRpb24/LigpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVEZXZpY2VQZXJtaXNzaW9uc1N1YnNjcmlwdGlvbiA9IGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgIGNvbWJpbmVMYXRlc3QoW2hhc0Jyb3dzZXJQZXJtaXNzaW9uJCwgdGhpcy5zdGF0ZS5vd25DYXBhYmlsaXRpZXMkXSksXG4gICAgICAoW2hhc1Blcm1pc3Npb24sIG93bkNhcGFiaWxpdGllc10pID0+IHtcbiAgICAgICAgLy8gY2xlYW51cCB0aGUgcHJldmlvdXMgbGlzdERldmljZXMoKSBzdWJzY3JpcHRpb24gaW4gY2FzZVxuICAgICAgICAvLyBwZXJtaXNzaW9ucyBvciBjYXBhYmlsaXRpZXMgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICAvLyB3ZSB3aWxsIHN1YnNjcmliZSBhZ2FpbiBpZiBldmVyeXRoaW5nIGlzIGluIG9yZGVyLlxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24/LigpO1xuICAgICAgICBjb25zdCBoYXNDYXBhYmlsaXR5ID1cbiAgICAgICAgICBraW5kID09PSAnbWljJ1xuICAgICAgICAgICAgPyBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKVxuICAgICAgICAgICAgOiBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKTtcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uIHx8ICFoYXNDYXBhYmlsaXR5KSB7XG4gICAgICAgICAgdGhpcy5pbnB1dERldmljZXMuc2V0KGtpbmQsIHtcbiAgICAgICAgICAgIGN1cnJlbnREZXZpY2U6ICcnLFxuICAgICAgICAgICAgYXZhaWxhYmxlRGV2aWNlczogW10sXG4gICAgICAgICAgICBpc1Blcm1pdHRlZDogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbiA9IGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgICAgICBjb21iaW5lTGF0ZXN0KFtkZXZpY2UubGlzdERldmljZXMoKSwgZGV2aWNlLnN0YXRlLnNlbGVjdGVkRGV2aWNlJF0pLFxuICAgICAgICAgIChbZGV2aWNlcywgZGV2aWNlSWRdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGRldmljZXMuZmluZCgoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dERldmljZXMuc2V0KGtpbmQsIHtcbiAgICAgICAgICAgICAgY3VycmVudERldmljZTogc2VsZWN0ZWQ/LmxhYmVsIHx8IGRldmljZUlkIHx8ICcnLFxuICAgICAgICAgICAgICBhdmFpbGFibGVEZXZpY2VzOiBkZXZpY2VzLm1hcCgoZCkgPT4gZC5sYWJlbCksXG4gICAgICAgICAgICAgIGlzUGVybWl0dGVkOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBzZW5kQ29ubmVjdGlvblRpbWUgPSAoY29ubmVjdGlvblRpbWVTZWNvbmRzOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLnNlbmRUZWxlbWV0cnlEYXRhKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY29ubmVjdGlvblRpbWVTZWNvbmRzJyxcbiAgICAgICAgY29ubmVjdGlvblRpbWVTZWNvbmRzLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICBzZW5kUmVjb25uZWN0aW9uVGltZSA9IChcbiAgICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgdGltZVNlY29uZHM6IG51bWJlcixcbiAgKSA9PiB7XG4gICAgdGhpcy5zZW5kVGVsZW1ldHJ5RGF0YSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG9uZW9mS2luZDogJ3JlY29ubmVjdGlvbicsXG4gICAgICAgIHJlY29ubmVjdGlvbjogeyBzdHJhdGVneSwgdGltZVNlY29uZHMgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBzZW5kVGVsZW1ldHJ5RGF0YSA9ICh0ZWxlbWV0cnlEYXRhOiBUZWxlbWV0cnkpID0+IHtcbiAgICAvLyBpbnRlbnRpb25hbGx5IG5vdCBhd2FpdGluZyB0aGUgcHJvbWlzZSBoZXJlXG4gICAgLy8gdG8gYXZvaWQgaW1wZWRpbmcgd2l0aCB0aGUgb25nb2luZyBhY3Rpb25zLlxuICAgIHRoaXMucnVuKHRlbGVtZXRyeURhdGEpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBzZW5kIHRlbGVtZXRyeSBkYXRhJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIHJ1biA9IGFzeW5jICh0ZWxlbWV0cnlEYXRhPzogVGVsZW1ldHJ5KSA9PiB7XG4gICAgY29uc3QgW3N1YnNjcmliZXJTdGF0cywgcHVibGlzaGVyU3RhdHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5zdWJzY3JpYmVyLmdldFN0YXRzKCkudGhlbihmbGF0dGVuKS50aGVuKEpTT04uc3RyaW5naWZ5KSxcbiAgICAgIHRoaXMucHVibGlzaGVyPy5nZXRTdGF0cygpLnRoZW4oZmxhdHRlbikudGhlbihKU09OLnN0cmluZ2lmeSkgPz8gJ1tdJyxcbiAgICBdKTtcblxuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnNlbmRTdGF0cyh7XG4gICAgICBzZGs6IHRoaXMuc2RrTmFtZSxcbiAgICAgIHNka1ZlcnNpb246IHRoaXMuc2RrVmVyc2lvbixcbiAgICAgIHdlYnJ0Y1ZlcnNpb246IHRoaXMud2ViUlRDVmVyc2lvbixcbiAgICAgIHN1YnNjcmliZXJTdGF0cyxcbiAgICAgIHB1Ymxpc2hlclN0YXRzLFxuICAgICAgYXVkaW9EZXZpY2VzOiB0aGlzLmlucHV0RGV2aWNlcy5nZXQoJ21pYycpLFxuICAgICAgdmlkZW9EZXZpY2VzOiB0aGlzLmlucHV0RGV2aWNlcy5nZXQoJ2NhbWVyYScpLFxuICAgICAgZGV2aWNlU3RhdGU6IGdldERldmljZVN0YXRlKCksXG4gICAgICB0ZWxlbWV0cnk6IHRlbGVtZXRyeURhdGEsXG4gICAgfSk7XG4gIH07XG5cbiAgc3RhcnQgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXBvcnRpbmdfaW50ZXJ2YWxfbXMgPD0gMCkgcmV0dXJuO1xuXG4gICAgdGhpcy5vYnNlcnZlRGV2aWNlKHRoaXMubWljcm9waG9uZSwgJ21pYycpO1xuICAgIHRoaXMub2JzZXJ2ZURldmljZSh0aGlzLmNhbWVyYSwgJ2NhbWVyYScpO1xuXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMucnVuKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gcmVwb3J0IHN0YXRzJywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH0sIHRoaXMub3B0aW9ucy5yZXBvcnRpbmdfaW50ZXJ2YWxfbXMpO1xuICB9O1xuXG4gIHN0b3AgPSAoKSA9PiB7XG4gICAgdGhpcy51bnN1YnNjcmliZURldmljZVBlcm1pc3Npb25zU3Vic2NyaXB0aW9uPy4oKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlRGV2aWNlUGVybWlzc2lvbnNTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy51bnN1YnNjcmliZUxpc3REZXZpY2VzU3Vic2NyaXB0aW9uPy4oKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLmlucHV0RGV2aWNlcy5jbGVhcigpO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICB0aGlzLmludGVydmFsSWQgPSB1bmRlZmluZWQ7XG4gIH07XG59XG4iLCJjb25zdCBERUZBVUxUX1RIUkVTSE9MRCA9IDAuMzU7XG5cbmV4cG9ydCB0eXBlIEVudHJ5SGFuZGxlciA9IChlbnRyeTogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSkgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgVW5vYnNlcnZlID0gKCkgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgT2JzZXJ2ZSA9IChcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gIGVudHJ5SGFuZGxlcjogRW50cnlIYW5kbGVyLFxuKSA9PiBVbm9ic2VydmU7XG5cbmV4cG9ydCBjbGFzcyBWaWV3cG9ydFRyYWNrZXIge1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgZWxlbWVudEhhbmRsZXJNYXA6IE1hcDxcbiAgICBIVE1MRWxlbWVudCxcbiAgICAoZW50cnk6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkpID0+IHZvaWRcbiAgPiA9IG5ldyBNYXAoKTtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIG9ic2VydmVyOiBJbnRlcnNlY3Rpb25PYnNlcnZlciB8IG51bGwgPSBudWxsO1xuICAvLyBpbiBSZWFjdCBjaGlsZHJlbiByZW5kZXIgYmVmb3JlIHZpZXdwb3J0IGlzIHNldCwgYWRkXG4gIC8vIHRoZW0gdG8gdGhlIHF1ZXVlIGFuZCBvYnNlcnZlIHRoZW0gb25jZSB0aGUgb2JzZXJ2ZXIgaXMgcmVhZHlcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHF1ZXVlU2V0OiBTZXQ8cmVhZG9ubHkgW0hUTUxFbGVtZW50LCBFbnRyeUhhbmRsZXJdPiA9IG5ldyBTZXQoKTtcblxuICAvKipcbiAgICogTWV0aG9kIHRvIHNldCBzY3JvbGxhYmxlIHZpZXdwb3J0IGFzIHJvb3QgZm9yIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlciwgcmV0dXJuc1xuICAgKiBjbGVhbnVwIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgdXBvbiBkaXNwb3Npbmcgb2YgdGhlIERPTSBlbGVtZW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAqXG4gICAqIEBwYXJhbSB2aWV3cG9ydEVsZW1lbnRcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHJldHVybnMgVW5vYnNlcnZlXG4gICAqL1xuICBwdWJsaWMgc2V0Vmlld3BvcnQgPSAoXG4gICAgdmlld3BvcnRFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBvcHRpb25zPzogUGljazxJbnRlcnNlY3Rpb25PYnNlcnZlckluaXQsICd0aHJlc2hvbGQnIHwgJ3Jvb3RNYXJnaW4nPixcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIHRoaXMub2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgdGhpcy5lbGVtZW50SGFuZGxlck1hcC5jbGVhcigpO1xuICAgIH07XG5cbiAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLmdldChcbiAgICAgICAgICAgIGVudHJ5LnRhcmdldCBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGhhbmRsZXI/LihlbnRyeSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcm9vdDogdmlld3BvcnRFbGVtZW50LFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB0aHJlc2hvbGQ6IG9wdGlvbnM/LnRocmVzaG9sZCA/PyBERUZBVUxUX1RIUkVTSE9MRCxcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnF1ZXVlU2V0LnNpemUpIHtcbiAgICAgIHRoaXMucXVldWVTZXQuZm9yRWFjaCgoW3F1ZXVlRWxlbWVudCwgcXVldWVIYW5kbGVyXSkgPT4ge1xuICAgICAgICAvLyBjaGVjayBpZiBlbGVtZW50IHdoaWNoIHJlcXVlc3RlZCBvYnNlcnZhdGlvbiBpc1xuICAgICAgICAvLyBhIGNoaWxkIG9mIGEgdmlld3BvcnQgZWxlbWVudCwgc2tpcCBpZiBpc24ndFxuICAgICAgICBpZiAoIXZpZXdwb3J0RWxlbWVudC5jb250YWlucyhxdWV1ZUVsZW1lbnQpKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vYnNlcnZlciEub2JzZXJ2ZShxdWV1ZUVsZW1lbnQpO1xuICAgICAgICB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLnNldChxdWV1ZUVsZW1lbnQsIHF1ZXVlSGFuZGxlcik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucXVldWVTZXQuY2xlYXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xlYW51cDtcbiAgfTtcblxuICAvKipcbiAgICogTWV0aG9kIHRvIHNldCBlbGVtZW50IHRvIG9ic2VydmUgYW5kIGhhbmRsZXIgdG8gYmUgdHJpZ2dlcmVkIHdoZW5ldmVyIEludGVyc2VjdGlvbk9ic2VydmVyXG4gICAqIGRldGVjdHMgYSBwb3NzaWJsZSBjaGFuZ2UgaW4gZWxlbWVudCdzIHZpc2liaWxpdHkgd2l0aGluIHNwZWNpZmllZCB2aWV3cG9ydCwgcmV0dXJuc1xuICAgKiBjbGVhbnVwIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgdXBvbiBkaXNwb3Npbmcgb2YgdGhlIERPTSBlbGVtZW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqIEBwYXJhbSBoYW5kbGVyXG4gICAqIEByZXR1cm5zIFVub2JzZXJ2ZVxuICAgKi9cbiAgcHVibGljIG9ic2VydmU6IE9ic2VydmUgPSAoZWxlbWVudCwgaGFuZGxlcikgPT4ge1xuICAgIGNvbnN0IHF1ZXVlSXRlbSA9IFtlbGVtZW50LCBoYW5kbGVyXSBhcyBjb25zdDtcblxuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgIHRoaXMub2JzZXJ2ZXI/LnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgIHRoaXMucXVldWVTZXQuZGVsZXRlKHF1ZXVlSXRlbSk7XG4gICAgfTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLmhhcyhlbGVtZW50KSkgcmV0dXJuIGNsZWFudXA7XG5cbiAgICBpZiAoIXRoaXMub2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMucXVldWVTZXQuYWRkKHF1ZXVlSXRlbSk7XG4gICAgICByZXR1cm4gY2xlYW51cDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vYnNlcnZlci5yb290IS5jb250YWlucyhlbGVtZW50KSkge1xuICAgICAgdGhpcy5lbGVtZW50SGFuZGxlck1hcC5zZXQoZWxlbWVudCwgaGFuZGxlcik7XG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsZWFudXA7XG4gIH07XG59XG4iLCJpbXBvcnQge1xuICBBdWRpb1RyYWNrVHlwZSxcbiAgRGVib3VuY2VUeXBlLFxuICBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICBWaWRlb1RyYWNrVHlwZSxcbiAgVmlzaWJpbGl0eVN0YXRlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBUcmFja1R5cGUsIFZpZGVvRGltZW5zaW9uIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7XG4gIEJlaGF2aW9yU3ViamVjdCxcbiAgY29tYmluZUxhdGVzdCxcbiAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkLFxuICBtYXAsXG4gIHNoYXJlUmVwbGF5LFxuICB0YWtlV2hpbGUsXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVmlld3BvcnRUcmFja2VyIH0gZnJvbSAnLi9WaWV3cG9ydFRyYWNrZXInO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IGlzRmlyZWZveCwgaXNTYWZhcmkgfSBmcm9tICcuL2Jyb3dzZXJzJztcbmltcG9ydCB7XG4gIGhhc1NjcmVlblNoYXJlLFxuICBoYXNTY3JlZW5TaGFyZUF1ZGlvLFxuICBoYXNWaWRlbyxcbn0gZnJvbSAnLi9wYXJ0aWNpcGFudFV0aWxzJztcbmltcG9ydCB0eXBlIHsgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB0eXBlIHsgU3RyZWFtU2Z1Q2xpZW50IH0gZnJvbSAnLi4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7IFNwZWFrZXJNYW5hZ2VyIH0gZnJvbSAnLi4vZGV2aWNlcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VmFsdWUsIHNldEN1cnJlbnRWYWx1ZSB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuXG5jb25zdCBERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEU6IFJlY29yZDxcbiAgVmlkZW9UcmFja1R5cGUsXG4gIFZpc2liaWxpdHlTdGF0ZVxuPiA9IHtcbiAgdmlkZW9UcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gIHNjcmVlblNoYXJlVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxufSBhcyBjb25zdDtcblxudHlwZSBWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGUgPVxuICB8IHtcbiAgICAgIGVuYWJsZWQ6IHRydWU7XG4gICAgICBkaW1lbnNpb246IFZpZGVvRGltZW5zaW9uO1xuICAgIH1cbiAgfCB7IGVuYWJsZWQ6IGZhbHNlIH07XG5cbmNvbnN0IGdsb2JhbE92ZXJyaWRlS2V5ID0gU3ltYm9sKCdnbG9iYWxPdmVycmlkZUtleScpO1xuXG5pbnRlcmZhY2UgVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyB7XG4gIFtzZXNzaW9uSWQ6IHN0cmluZ106IFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZSB8IHVuZGVmaW5lZDtcbiAgW2dsb2JhbE92ZXJyaWRlS2V5XT86IFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZTtcbn1cblxuLyoqXG4gKiBBIG1hbmFnZXIgY2xhc3MgdGhhdCBoYW5kbGVzIGR5bmFzY2FsZSByZWxhdGVkIHRhc2tzIGxpa2U6XG4gKlxuICogLSBiaW5kaW5nIHZpZGVvIGVsZW1lbnRzIHRvIHNlc3Npb24gaWRzXG4gKiAtIGJpbmRpbmcgYXVkaW8gZWxlbWVudHMgdG8gc2Vzc2lvbiBpZHNcbiAqIC0gdHJhY2tpbmcgZWxlbWVudCB2aXNpYmlsaXR5XG4gKiAtIHVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdmlld3BvcnQgdmlzaWJpbGl0eVxuICogLSB1cGRhdGluZyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHZpZGVvIGVsZW1lbnQgZGltZW5zaW9uc1xuICogLSB1cGRhdGluZyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHB1Ymxpc2hlZCB0cmFja3NcbiAqL1xuZXhwb3J0IGNsYXNzIER5bmFzY2FsZU1hbmFnZXIge1xuICAvKipcbiAgICogVGhlIHZpZXdwb3J0IHRyYWNrZXIgaW5zdGFuY2UuXG4gICAqL1xuICByZWFkb25seSB2aWV3cG9ydFRyYWNrZXIgPSBuZXcgVmlld3BvcnRUcmFja2VyKCk7XG5cbiAgcHJpdmF0ZSBsb2dnZXIgPSBnZXRMb2dnZXIoWydEeW5hc2NhbGVNYW5hZ2VyJ10pO1xuICBwcml2YXRlIGNhbGxTdGF0ZTogQ2FsbFN0YXRlO1xuICBwcml2YXRlIHNwZWFrZXI6IFNwZWFrZXJNYW5hZ2VyO1xuICBwcml2YXRlIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgdmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1N1YmplY3QgPVxuICAgIG5ldyBCZWhhdmlvclN1YmplY3Q8VmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcz4oe30pO1xuXG4gIHZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkID1cbiAgICB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIGluY29taW5nVmlkZW9TZXR0aW5ncyQgPSB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkLnBpcGUoXG4gICAgbWFwKChvdmVycmlkZXMpID0+IHtcbiAgICAgIGNvbnN0IHsgW2dsb2JhbE92ZXJyaWRlS2V5XTogZ2xvYmFsU2V0dGluZ3MsIC4uLnBhcnRpY2lwYW50cyB9ID1cbiAgICAgICAgb3ZlcnJpZGVzO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlZDogZ2xvYmFsU2V0dGluZ3M/LmVuYWJsZWQgIT09IGZhbHNlLFxuICAgICAgICBwcmVmZXJyZWRSZXNvbHV0aW9uOiBnbG9iYWxTZXR0aW5ncz8uZW5hYmxlZFxuICAgICAgICAgID8gZ2xvYmFsU2V0dGluZ3MuZGltZW5zaW9uXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIHBhcnRpY2lwYW50czogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHBhcnRpY2lwYW50cykubWFwKFxuICAgICAgICAgICAgKFtzZXNzaW9uSWQsIHBhcnRpY2lwYW50T3ZlcnJpZGVdKSA9PiBbXG4gICAgICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHBhcnRpY2lwYW50T3ZlcnJpZGU/LmVuYWJsZWQgIT09IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZWZlcnJlZFJlc29sdXRpb246IHBhcnRpY2lwYW50T3ZlcnJpZGU/LmVuYWJsZWRcbiAgICAgICAgICAgICAgICAgID8gcGFydGljaXBhbnRPdmVycmlkZS5kaW1lbnNpb25cbiAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICApLFxuICAgICAgICApLFxuICAgICAgICBpc1BhcnRpY2lwYW50VmlkZW9FbmFibGVkOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+XG4gICAgICAgICAgb3ZlcnJpZGVzW3Nlc3Npb25JZF0/LmVuYWJsZWQgPz9cbiAgICAgICAgICBvdmVycmlkZXNbZ2xvYmFsT3ZlcnJpZGVLZXldPy5lbmFibGVkID8/XG4gICAgICAgICAgdHJ1ZSxcbiAgICAgIH07XG4gICAgfSksXG4gICAgc2hhcmVSZXBsYXkoMSksXG4gICk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgRHluYXNjYWxlTWFuYWdlciBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gbWFuYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FsbFN0YXRlOiBDYWxsU3RhdGUsIHNwZWFrZXI6IFNwZWFrZXJNYW5hZ2VyKSB7XG4gICAgdGhpcy5jYWxsU3RhdGUgPSBjYWxsU3RhdGU7XG4gICAgdGhpcy5zcGVha2VyID0gc3BlYWtlcjtcbiAgfVxuXG4gIHNldFNmdUNsaWVudChzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICB9XG5cbiAgZ2V0IHRyYWNrU3Vic2NyaXB0aW9ucygpIHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb25zOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcCBvZiB0aGlzLmNhbGxTdGF0ZS5yZW1vdGVQYXJ0aWNpcGFudHMpIHtcbiAgICAgIC8vIE5PVEU6IGF1ZGlvIHRyYWNrcyBkb24ndCBoYXZlIHRvIGJlIHJlcXVlc3RlZCBleHBsaWNpdGx5XG4gICAgICAvLyBhcyB0aGUgU0ZVIHdpbGwgaW1wbGljaXRseSBzdWJzY3JpYmUgdXMgdG8gYWxsIG9mIHRoZW0sXG4gICAgICAvLyBvbmNlIHRoZXkgYmVjb21lIGF2YWlsYWJsZS5cbiAgICAgIGlmIChwLnZpZGVvRGltZW5zaW9uICYmIGhhc1ZpZGVvKHApKSB7XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlID1cbiAgICAgICAgICB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNbcC5zZXNzaW9uSWRdID8/XG4gICAgICAgICAgdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzW2dsb2JhbE92ZXJyaWRlS2V5XTtcblxuICAgICAgICBpZiAob3ZlcnJpZGU/LmVuYWJsZWQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHVzZXJJZDogcC51c2VySWQsXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHAuc2Vzc2lvbklkLFxuICAgICAgICAgICAgdHJhY2tUeXBlOiBUcmFja1R5cGUuVklERU8sXG4gICAgICAgICAgICBkaW1lbnNpb246IG92ZXJyaWRlPy5kaW1lbnNpb24gPz8gcC52aWRlb0RpbWVuc2lvbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHAuc2NyZWVuU2hhcmVEaW1lbnNpb24gJiYgaGFzU2NyZWVuU2hhcmUocCkpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHtcbiAgICAgICAgICB1c2VySWQ6IHAudXNlcklkLFxuICAgICAgICAgIHNlc3Npb25JZDogcC5zZXNzaW9uSWQsXG4gICAgICAgICAgdHJhY2tUeXBlOiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFLFxuICAgICAgICAgIGRpbWVuc2lvbjogcC5zY3JlZW5TaGFyZURpbWVuc2lvbixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoaGFzU2NyZWVuU2hhcmVBdWRpbyhwKSkge1xuICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goe1xuICAgICAgICAgIHVzZXJJZDogcC51c2VySWQsXG4gICAgICAgICAgc2Vzc2lvbklkOiBwLnNlc3Npb25JZCxcbiAgICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaXB0aW9ucztcbiAgfVxuXG4gIGdldCB2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzKCkge1xuICAgIHJldHVybiBnZXRDdXJyZW50VmFsdWUodGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzJCk7XG4gIH1cblxuICBzZXRWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzID0gKFxuICAgIG92ZXJyaWRlOiBWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGUgfCB1bmRlZmluZWQsXG4gICAgc2Vzc2lvbklkcz86IHN0cmluZ1tdLFxuICApID0+IHtcbiAgICBpZiAoIXNlc3Npb25JZHMpIHtcbiAgICAgIHJldHVybiBzZXRDdXJyZW50VmFsdWUoXG4gICAgICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1N1YmplY3QsXG4gICAgICAgIG92ZXJyaWRlID8geyBbZ2xvYmFsT3ZlcnJpZGVLZXldOiBvdmVycmlkZSB9IDoge30sXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBzZXRDdXJyZW50VmFsdWUoXG4gICAgICB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNTdWJqZWN0LFxuICAgICAgKG92ZXJyaWRlcykgPT4gKHtcbiAgICAgICAgLi4ub3ZlcnJpZGVzLFxuICAgICAgICAuLi5PYmplY3QuZnJvbUVudHJpZXMoc2Vzc2lvbklkcy5tYXAoKGlkKSA9PiBbaWQsIG92ZXJyaWRlXSkpLFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBhcHBseVRyYWNrU3Vic2NyaXB0aW9ucyA9IChcbiAgICBkZWJvdW5jZVR5cGU6IERlYm91bmNlVHlwZSA9IERlYm91bmNlVHlwZS5TTE9XLFxuICApID0+IHtcbiAgICBpZiAodGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUpO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZVN1YnNjcmlwdGlvbnMgPSAoKSA9PiB7XG4gICAgICB0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlID0gbnVsbDtcbiAgICAgIHRoaXMuc2Z1Q2xpZW50XG4gICAgICAgID8udXBkYXRlU3Vic2NyaXB0aW9ucyh0aGlzLnRyYWNrU3Vic2NyaXB0aW9ucylcbiAgICAgICAgLmNhdGNoKChlcnI6IHVua25vd24pID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgRmFpbGVkIHRvIHVwZGF0ZSB0cmFjayBzdWJzY3JpcHRpb25zYCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChkZWJvdW5jZVR5cGUpIHtcbiAgICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUgPSBzZXRUaW1lb3V0KFxuICAgICAgICB1cGRhdGVTdWJzY3JpcHRpb25zLFxuICAgICAgICBkZWJvdW5jZVR5cGUsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVTdWJzY3JpcHRpb25zKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIGJlZ2luIHRyYWNraW5nIHRoZSBnaXZlbiBlbGVtZW50IGZvciB2aXNpYmlsaXR5IGNoYW5nZXMgd2l0aGluIHRoZVxuICAgKiBjb25maWd1cmVkIHZpZXdwb3J0IGVsZW1lbnQgKGBjYWxsLnNldFZpZXdwb3J0YCkuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHRyYWNrLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHZpZGVvLlxuICAgKiBAcmV0dXJucyBVbnRyYWNrLlxuICAgKi9cbiAgdHJhY2tFbGVtZW50VmlzaWJpbGl0eSA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICAgIGVsZW1lbnQ6IFQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cCA9IHRoaXMudmlld3BvcnRUcmFja2VyLm9ic2VydmUoZWxlbWVudCwgKGVudHJ5KSA9PiB7XG4gICAgICB0aGlzLmNhbGxTdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aW91c1Zpc2liaWxpdHlTdGF0ZSA9XG4gICAgICAgICAgcGFydGljaXBhbnQudmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz9cbiAgICAgICAgICBERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEU7XG5cbiAgICAgICAgLy8gb2JzZXJ2ZXIgdHJpZ2dlcnMgd2hlbiB0aGUgZWxlbWVudCBpcyBcIm1vdmVkXCIgdG8gYmUgYSBmdWxsc2NyZWVuIGVsZW1lbnRcbiAgICAgICAgLy8ga2VlcCBpdCBWSVNJQkxFIGlmIHRoYXQgaGFwcGVucyB0byBwcmV2ZW50IGZ1bGxzY3JlZW4gd2l0aCBwbGFjZWhvbGRlclxuICAgICAgICBjb25zdCBpc1Zpc2libGUgPVxuICAgICAgICAgIGVudHJ5LmlzSW50ZXJzZWN0aW5nIHx8IGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50ID09PSBlbGVtZW50XG4gICAgICAgICAgICA/IFZpc2liaWxpdHlTdGF0ZS5WSVNJQkxFXG4gICAgICAgICAgICA6IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6IHtcbiAgICAgICAgICAgIC4uLnByZXZpb3VzVmlzaWJpbGl0eVN0YXRlLFxuICAgICAgICAgICAgW3RyYWNrVHlwZV06IGlzVmlzaWJsZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgLy8gcmVzZXQgdmlzaWJpbGl0eSBzdGF0ZSB0byBVTktOT1dOIHVwb24gY2xlYW51cFxuICAgICAgLy8gc28gdGhhdCB0aGUgbGF5b3V0cyB0aGF0IGFyZSBub3QgYWN0aXZlbHkgb2JzZXJ2ZWRcbiAgICAgIC8vIGNhbiBzdGlsbCBmdW5jdGlvbiBub3JtYWxseSAocnVudGltZSBsYXlvdXQgc3dpdGNoaW5nKVxuICAgICAgdGhpcy5jYWxsU3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCAocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNWaXNpYmlsaXR5U3RhdGUgPVxuICAgICAgICAgIHBhcnRpY2lwYW50LnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/XG4gICAgICAgICAgREVGQVVMVF9WSUVXUE9SVF9WSVNJQklMSVRZX1NUQVRFO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlOiB7XG4gICAgICAgICAgICAuLi5wcmV2aW91c1Zpc2liaWxpdHlTdGF0ZSxcbiAgICAgICAgICAgIFt0cmFja1R5cGVdOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgdmlld3BvcnQgZWxlbWVudCB0byB0cmFjayBib3VuZCB2aWRlbyBlbGVtZW50cyBmb3IgdmlzaWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgdGhlIHZpZXdwb3J0IGVsZW1lbnQuXG4gICAqL1xuICBzZXRWaWV3cG9ydCA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KGVsZW1lbnQ6IFQpID0+IHtcbiAgICByZXR1cm4gdGhpcy52aWV3cG9ydFRyYWNrZXIuc2V0Vmlld3BvcnQoZWxlbWVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIGEgRE9NIDx2aWRlbz4gZWxlbWVudCB0byB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICogVGhpcyBtZXRob2Qgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgdmlkZW8gZWxlbWVudCB3aWxsIHBsYXlcbiAgICogdGhlIGNvcnJlY3QgdmlkZW8gc3RyZWFtIGZvciB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogVW5kZXIgdGhlIGhvb2QsIGl0IHdvdWxkIGFsc28ga2VlcCB0cmFjayBvZiB0aGUgdmlkZW8gZWxlbWVudCBkaW1lbnNpb25zXG4gICAqIGFuZCB1cGRhdGUgdGhlIHN1YnNjcmlwdGlvbiBhY2NvcmRpbmdseSBpbiBvcmRlciB0byBvcHRpbWl6ZSB0aGUgYmFuZHdpZHRoLlxuICAgKlxuICAgKiBJZiBhIFwidmlld3BvcnRcIiBpcyBjb25maWd1cmVkLCB0aGUgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICogdHJhY2tlZCBmb3IgdmlzaWJpbGl0eSBhbmQgdGhlIHN1YnNjcmlwdGlvbiB3aWxsIGJlIHVwZGF0ZWQgYWNjb3JkaW5nbHkuXG4gICAqXG4gICAqIEBwYXJhbSB2aWRlb0VsZW1lbnQgdGhlIHZpZGVvIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiB2aWRlby5cbiAgICovXG4gIGJpbmRWaWRlb0VsZW1lbnQgPSAoXG4gICAgdmlkZW9FbGVtZW50OiBIVE1MVmlkZW9FbGVtZW50LFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIGNvbnN0IGJvdW5kUGFydGljaXBhbnQgPVxuICAgICAgdGhpcy5jYWxsU3RhdGUuZmluZFBhcnRpY2lwYW50QnlTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgICBpZiAoIWJvdW5kUGFydGljaXBhbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zID0gKFxuICAgICAgZGVib3VuY2VUeXBlOiBEZWJvdW5jZVR5cGUsXG4gICAgICBkaW1lbnNpb246IFZpZGVvRGltZW5zaW9uIHwgdW5kZWZpbmVkLFxuICAgICkgPT4ge1xuICAgICAgaWYgKGRpbWVuc2lvbiAmJiAoZGltZW5zaW9uLndpZHRoID09PSAwIHx8IGRpbWVuc2lvbi5oZWlnaHQgPT09IDApKSB7XG4gICAgICAgIC8vIGlnbm9yZSAweDAgZGltZW5zaW9ucy4gdGhpcyBjYW4gaGFwcGVuIHdoZW4gdGhlIHZpZGVvIGVsZW1lbnRcbiAgICAgICAgLy8gaXMgbm90IHZpc2libGUgKGUuZy4sIGhhcyBkaXNwbGF5OiBub25lKS5cbiAgICAgICAgLy8gd2UgdHJlYXQgdGhpcyBhcyBcInVuc3Vic2NyaXB0aW9uXCIgYXMgd2UgZG9uJ3Qgd2FudCB0byBrZWVwXG4gICAgICAgIC8vIGNvbnN1bWluZyBiYW5kd2lkdGggZm9yIGEgdmlkZW8gdGhhdCBpcyBub3QgdmlzaWJsZSBvbiB0aGUgc2NyZWVuLlxuICAgICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgSWdub3JpbmcgMHgwIGRpbWVuc2lvbmAsIGJvdW5kUGFydGljaXBhbnQpO1xuICAgICAgICBkaW1lbnNpb24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbGxTdGF0ZS51cGRhdGVQYXJ0aWNpcGFudFRyYWNrcyh0cmFja1R5cGUsIHtcbiAgICAgICAgW3Nlc3Npb25JZF06IHsgZGltZW5zaW9uIH0sXG4gICAgICB9KTtcbiAgICAgIHRoaXMuYXBwbHlUcmFja1N1YnNjcmlwdGlvbnMoZGVib3VuY2VUeXBlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcGFydGljaXBhbnQkID0gdGhpcy5jYWxsU3RhdGUucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKFxuICAgICAgICAocGFydGljaXBhbnRzKSA9PlxuICAgICAgICAgIHBhcnRpY2lwYW50cy5maW5kKFxuICAgICAgICAgICAgKHBhcnRpY2lwYW50KSA9PiBwYXJ0aWNpcGFudC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCxcbiAgICAgICAgICApIGFzIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gICAgICApLFxuICAgICAgdGFrZVdoaWxlKChwYXJ0aWNpcGFudCkgPT4gISFwYXJ0aWNpcGFudCksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgc2hhcmVSZXBsYXkoeyBidWZmZXJTaXplOiAxLCByZWZDb3VudDogdHJ1ZSB9KSxcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogU2luY2UgdGhlIHZpZGVvIGVsZW1lbnRzIGFyZSBub3cgYmVpbmcgcmVtb3ZlZCBmcm9tIHRoZSBET00gKFJlYWN0IFNESykgdXBvblxuICAgICAqIHZpc2liaWxpdHkgY2hhbmdlLCB0aGlzIHN1YnNjcmlwdGlvbiBpcyBub3QgaW4gdXNlIGFuIHN0YXlzIGhlcmUgb25seSBmb3IgdGhlXG4gICAgICogcGxhaW4gSlMgaW50ZWdyYXRpb25zIHdoZXJlIGludGVncmF0b3JzIG1pZ2h0IGNob29zZSBub3QgdG8gcmVtb3ZlIHRoZSB2aWRlb1xuICAgICAqIGVsZW1lbnRzIGZyb20gdGhlIERPTS5cbiAgICAgKi9cbiAgICAvLyBrZWVwIGNvcHkgZm9yIHJlc2l6ZSBvYnNlcnZlciBoYW5kbGVyXG4gICAgbGV0IHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlOiBWaXNpYmlsaXR5U3RhdGUgfCB1bmRlZmluZWQ7XG4gICAgY29uc3Qgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGVTdWJzY3JpcHRpb24gPVxuICAgICAgYm91bmRQYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnRcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogcGFydGljaXBhbnQkXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgbWFwKChwKSA9PiBwLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy5bdHJhY2tUeXBlXSksXG4gICAgICAgICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgLy8gc2tpcCBpbml0aWFsIHRyaWdnZXJcbiAgICAgICAgICAgICAgaWYgKCF2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID1cbiAgICAgICAgICAgICAgICAgIG5leHRWaWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/PyBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPVxuICAgICAgICAgICAgICAgIG5leHRWaWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/PyBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTjtcblxuICAgICAgICAgICAgICBpZiAobmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKFxuICAgICAgICAgICAgICAgICAgRGVib3VuY2VUeXBlLk1FRElVTSxcbiAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLk1FRElVTSwge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB2aWRlb0VsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgbGV0IGxhc3REaW1lbnNpb25zOiBWaWRlb0RpbWVuc2lvbiB8IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IGJvdW5kUGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50XG4gICAgICA/IG51bGxcbiAgICAgIDogbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB2aWRlb0VsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHZpZGVvRWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIHNraXAgaW5pdGlhbCB0cmlnZ2VyXG4gICAgICAgICAgaWYgKCFsYXN0RGltZW5zaW9ucykge1xuICAgICAgICAgICAgbGFzdERpbWVuc2lvbnMgPSBjdXJyZW50RGltZW5zaW9ucztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAobGFzdERpbWVuc2lvbnMud2lkdGggPT09IGN1cnJlbnREaW1lbnNpb25zLndpZHRoICYmXG4gICAgICAgICAgICAgIGxhc3REaW1lbnNpb25zLmhlaWdodCA9PT0gY3VycmVudERpbWVuc2lvbnMuaGVpZ2h0KSB8fFxuICAgICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZWxhdGl2ZURlbHRhID0gTWF0aC5tYXgoXG4gICAgICAgICAgICBjdXJyZW50RGltZW5zaW9ucy53aWR0aCAvIGxhc3REaW1lbnNpb25zLndpZHRoLFxuICAgICAgICAgICAgY3VycmVudERpbWVuc2lvbnMuaGVpZ2h0IC8gbGFzdERpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gTG93IHF1YWxpdHkgdmlkZW8gaW4gYW4gdXBzY2FsZWQgdmlkZW8gZWxlbWVudCBpcyB2ZXJ5IG5vdGljYWJsZS5cbiAgICAgICAgICAvLyBXZSB0cnkgdG8gdXBzY2FsZSBmYXN0ZXIsIGFuZCBkb3duc2NhbGUgc2xvd2VyLiBXZSBhbHNvIHVwZGF0ZSBkZWJvdW5jZVxuICAgICAgICAgIC8vIG1vcmUgaWYgdGhlIHNpemUgY2hhbmdlIGlzIG5vdCBzaWduaWZpY2FudCwgZ3VyYWRpbmcgYWdhaW5zdCBmYXN0LWZpcmluZ1xuICAgICAgICAgIC8vIHJlc2l6ZSBldmVudHMuXG4gICAgICAgICAgY29uc3QgZGVib3VuY2VUeXBlID1cbiAgICAgICAgICAgIHJlbGF0aXZlRGVsdGEgPiAxLjIgPyBEZWJvdW5jZVR5cGUuSU1NRURJQVRFIDogRGVib3VuY2VUeXBlLk1FRElVTTtcbiAgICAgICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhkZWJvdW5jZVR5cGUsIHtcbiAgICAgICAgICAgIHdpZHRoOiB2aWRlb0VsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHZpZGVvRWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGFzdERpbWVuc2lvbnMgPSBjdXJyZW50RGltZW5zaW9ucztcbiAgICAgICAgfSk7XG4gICAgcmVzaXplT2JzZXJ2ZXI/Lm9ic2VydmUodmlkZW9FbGVtZW50KTtcblxuICAgIC8vIGVsZW1lbnQgcmVuZGVycyBhbmQgZ2V0cyBib3VuZCAtIHRyYWNrIHN1YnNjcmlwdGlvbiBnZXRzXG4gICAgLy8gdHJpZ2dlcmVkIGZpcnN0IG90aGVyIG9uZXMgZ2V0IHNraXBwZWQgb24gaW5pdGlhbCBzdWJzY3JpcHRpb25zXG4gICAgY29uc3QgcHVibGlzaGVkVHJhY2tzU3Vic2NyaXB0aW9uID0gYm91bmRQYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnRcbiAgICAgID8gbnVsbFxuICAgICAgOiBwYXJ0aWNpcGFudCRcbiAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKCdwdWJsaXNoZWRUcmFja3MnKSxcbiAgICAgICAgICAgIG1hcCgocCkgPT5cbiAgICAgICAgICAgICAgdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaycgPyBoYXNWaWRlbyhwKSA6IGhhc1NjcmVlblNoYXJlKHApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICAgICAgKVxuICAgICAgICAgIC5zdWJzY3JpYmUoKGlzUHVibGlzaGluZykgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUHVibGlzaGluZykge1xuICAgICAgICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQganVzdCBzdGFydGVkIHRvIHB1Ymxpc2ggYSB0cmFja1xuICAgICAgICAgICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhEZWJvdW5jZVR5cGUuSU1NRURJQVRFLCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHZpZGVvRWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHZpZGVvRWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGp1c3Qgc3RvcHBlZCBwdWJsaXNoaW5nIGEgdHJhY2tcbiAgICAgICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLkZBU1QsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICB2aWRlb0VsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuICAgIHZpZGVvRWxlbWVudC5wbGF5c0lubGluZSA9IHRydWU7XG5cbiAgICAvLyBleHBsaWNpdGx5IG1hcmtpbmcgdGhlIGVsZW1lbnQgYXMgbXV0ZWQgd2lsbCBhbGxvdyBhdXRvcGxheSB0byB3b3JrXG4gICAgLy8gd2l0aG91dCBwcmlvciB1c2VyIGludGVyYWN0aW9uOlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL01lZGlhL0F1dG9wbGF5X2d1aWRlXG4gICAgdmlkZW9FbGVtZW50Lm11dGVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IHN0cmVhbVN1YnNjcmlwdGlvbiA9IHBhcnRpY2lwYW50JFxuICAgICAgLnBpcGUoXG4gICAgICAgIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKFxuICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snID8gJ3ZpZGVvU3RyZWFtJyA6ICdzY3JlZW5TaGFyZVN0cmVhbScsXG4gICAgICAgICksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9XG4gICAgICAgICAgdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaycgPyBwLnZpZGVvU3RyZWFtIDogcC5zY3JlZW5TaGFyZVN0cmVhbTtcbiAgICAgICAgaWYgKHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPT09IHNvdXJjZSkgcmV0dXJuO1xuICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc291cmNlID8/IG51bGw7XG4gICAgICAgIGlmIChpc1NhZmFyaSgpIHx8IGlzRmlyZWZveCgpKSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc291cmNlID8/IG51bGw7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucGxheSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBwbGF5IHN0cmVhbWAsIGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBhZGQgZXh0cmEgZGVsYXkgdW50aWwgd2UgYXR0ZW1wdCB0byBmb3JjZS1wbGF5XG4gICAgICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQncyBtZWRpYSBzdHJlYW0gaW4gRmlyZWZveCBhbmQgU2FmYXJpLFxuICAgICAgICAgICAgLy8gYXMgdGhleSBzZWVtIHRvIGhhdmUgc29tZSB0aW1pbmcgaXNzdWVzXG4gICAgICAgICAgfSwgMjUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhEZWJvdW5jZVR5cGUuRkFTVCwgdW5kZWZpbmVkKTtcbiAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgcHVibGlzaGVkVHJhY2tzU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgc3RyZWFtU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICByZXNpemVPYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIGEgRE9NIDxhdWRpbz4gZWxlbWVudCB0byB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgYXVkaW8gZWxlbWVudCB3aWxsXG4gICAqIHBsYXkgdGhlIGNvcnJlY3QgYXVkaW8gc3RyZWFtIGZvciB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIGF1ZGlvRWxlbWVudCB0aGUgYXVkaW8gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIGF1ZGlvLlxuICAgKiBAcmV0dXJucyBhIGNsZWFudXAgZnVuY3Rpb24gdGhhdCB3aWxsIHVuYmluZCB0aGUgYXVkaW8gZWxlbWVudC5cbiAgICovXG4gIGJpbmRBdWRpb0VsZW1lbnQgPSAoXG4gICAgYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50LFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogQXVkaW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5jYWxsU3RhdGUuZmluZFBhcnRpY2lwYW50QnlTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgICBpZiAoIXBhcnRpY2lwYW50IHx8IHBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGFydGljaXBhbnQkID0gdGhpcy5jYWxsU3RhdGUucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKFxuICAgICAgICAocGFydGljaXBhbnRzKSA9PlxuICAgICAgICAgIHBhcnRpY2lwYW50cy5maW5kKFxuICAgICAgICAgICAgKHApID0+IHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQsXG4gICAgICAgICAgKSBhcyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICAgICAgKSxcbiAgICAgIHRha2VXaGlsZSgocCkgPT4gISFwKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICBjb25zdCB1cGRhdGVNZWRpYVN0cmVhbVN1YnNjcmlwdGlvbiA9IHBhcnRpY2lwYW50JFxuICAgICAgLnBpcGUoXG4gICAgICAgIGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKFxuICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlQXVkaW9UcmFjaydcbiAgICAgICAgICAgID8gJ3NjcmVlblNoYXJlQXVkaW9TdHJlYW0nXG4gICAgICAgICAgICA6ICdhdWRpb1N0cmVhbScsXG4gICAgICAgICksXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9XG4gICAgICAgICAgdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVBdWRpb1RyYWNrJ1xuICAgICAgICAgICAgPyBwLnNjcmVlblNoYXJlQXVkaW9TdHJlYW1cbiAgICAgICAgICAgIDogcC5hdWRpb1N0cmVhbTtcbiAgICAgICAgaWYgKGF1ZGlvRWxlbWVudC5zcmNPYmplY3QgPT09IHNvdXJjZSkgcmV0dXJuO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGF1ZGlvRWxlbWVudC5zcmNPYmplY3QgPSBzb3VyY2UgPz8gbnVsbDtcbiAgICAgICAgICBpZiAoYXVkaW9FbGVtZW50LnNyY09iamVjdCkge1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50LnBsYXkoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gcGxheSBzdHJlYW1gLCBlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBhdWRpbyBvdXRwdXQgZGV2aWNlIHNoYWxsIGJlIHNldCBhZnRlciB0aGUgYXVkaW8gZWxlbWVudCBpcyBwbGF5ZWRcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgdGhlIGJyb3dzZXIgd2lsbCBub3QgcGljayBpdCB1cCwgYW5kIHdpbGwgYWx3YXlzXG4gICAgICAgICAgICAvLyBwbGF5IGF1ZGlvIHRocm91Z2ggdGhlIHN5c3RlbSdzIGRlZmF1bHQgZGV2aWNlXG4gICAgICAgICAgICBjb25zdCB7IHNlbGVjdGVkRGV2aWNlIH0gPSB0aGlzLnNwZWFrZXIuc3RhdGU7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWREZXZpY2UgJiYgJ3NldFNpbmtJZCcgaW4gYXVkaW9FbGVtZW50KSB7XG4gICAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5zZXRTaW5rSWQoc2VsZWN0ZWREZXZpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IHNpbmtJZFN1YnNjcmlwdGlvbiA9ICEoJ3NldFNpbmtJZCcgaW4gYXVkaW9FbGVtZW50KVxuICAgICAgPyBudWxsXG4gICAgICA6IHRoaXMuc3BlYWtlci5zdGF0ZS5zZWxlY3RlZERldmljZSQuc3Vic2NyaWJlKChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgIGlmIChkZXZpY2VJZCkge1xuICAgICAgICAgICAgYXVkaW9FbGVtZW50LnNldFNpbmtJZChkZXZpY2VJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIGNvbnN0IHZvbHVtZVN1YnNjcmlwdGlvbiA9IGNvbWJpbmVMYXRlc3QoW1xuICAgICAgdGhpcy5zcGVha2VyLnN0YXRlLnZvbHVtZSQsXG4gICAgICBwYXJ0aWNpcGFudCQucGlwZShkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCgnYXVkaW9Wb2x1bWUnKSksXG4gICAgXSkuc3Vic2NyaWJlKChbdm9sdW1lLCBwXSkgPT4ge1xuICAgICAgYXVkaW9FbGVtZW50LnZvbHVtZSA9IHAuYXVkaW9Wb2x1bWUgPz8gdm9sdW1lO1xuICAgIH0pO1xuXG4gICAgYXVkaW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzaW5rSWRTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICB2b2x1bWVTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIHVwZGF0ZU1lZGlhU3RyZWFtU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IENhbGxTZXR0aW5nc1Jlc3BvbnNlLCBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBlbnN1cmVFeGhhdXN0ZWQgfSBmcm9tICcuLi9oZWxwZXJzL2Vuc3VyZUV4aGF1c3RlZCc7XG5cbi8qKlxuICogU3RvcmVzIHRoZSBwZXJtaXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlciBhbmQgZXhwb3Nlc1xuICogYSBmZXcgaGVscGVyIG1ldGhvZHMgd2hpY2ggbWFrZSBpdCBlYXNpZXIgdG8gd29yayB3aXRoIHBlcm1pc3Npb25zLlxuICpcbiAqIFRoaXMgaXMgYW4gaW50ZXJuYWwgY2xhc3MgbWVhbnQgdG8gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoXG4gKiBhIHtAbGluayBDYWxsfSBpbnN0YW5jZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25zQ29udGV4dCB7XG4gIHByaXZhdGUgcGVybWlzc2lvbnM6IE93bkNhcGFiaWxpdHlbXSA9IFtdO1xuICBwcml2YXRlIHNldHRpbmdzPzogQ2FsbFNldHRpbmdzUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBlcm1pc3Npb25zIGZvciB0aGUgY3VycmVudCB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIHNldC5cbiAgICovXG4gIHNldFBlcm1pc3Npb25zID0gKHBlcm1pc3Npb25zOiBPd25DYXBhYmlsaXR5W10pID0+IHtcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gcGVybWlzc2lvbnMgfHwgW107XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNldHRpbmdzIGZvciB0aGUgYm91bmQgY2FsbC5cbiAgICogQHBhcmFtIHNldHRpbmdzXG4gICAqL1xuICBzZXRDYWxsU2V0dGluZ3MgPSAoc2V0dGluZ3M6IENhbGxTZXR0aW5nc1Jlc3BvbnNlKSA9PiB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgdXNlciBoYXMgYSBzcGVjaWZpYyBwZXJtaXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbiB0aGUgcGVybWlzc2lvbiB0byBjaGVjayBmb3IuXG4gICAqL1xuICBoYXNQZXJtaXNzaW9uID0gKHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wZXJtaXNzaW9ucy5pbmNsdWRlcyhwZXJtaXNzaW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCB0aGF0IGNoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IHVzZXIgaGFzIHRoZSBwZXJtaXNzaW9uXG4gICAqIHRvIHB1Ymxpc2ggdGhlIGdpdmVuIHRyYWNrIHR5cGUuXG4gICAqL1xuICBjYW5QdWJsaXNoID0gKHRyYWNrVHlwZTogVHJhY2tUeXBlKSA9PiB7XG4gICAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICAgIGNhc2UgVHJhY2tUeXBlLkFVRElPOlxuICAgICAgICByZXR1cm4gdGhpcy5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyk7XG4gICAgICBjYXNlIFRyYWNrVHlwZS5WSURFTzpcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfVklERU8pO1xuICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPOlxuICAgICAgICByZXR1cm4gdGhpcy5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUpO1xuICAgICAgY2FzZSBUcmFja1R5cGUuVU5TUEVDSUZJRUQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVuc3VyZUV4aGF1c3RlZCh0cmFja1R5cGUsICdVbmtub3duIHRyYWNrIHR5cGUnKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCB1c2VyIGNhbiByZXF1ZXN0IGEgc3BlY2lmaWMgcGVybWlzc2lvblxuICAgKiB3aXRoaW4gdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9uIHRoZSBwZXJtaXNzaW9uIHRvIGNoZWNrIGZvci5cbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBjYWxsIHNldHRpbmdzIHRvIGNoZWNrIGFnYWluc3QgKG9wdGlvbmFsKS5cbiAgICovXG4gIGNhblJlcXVlc3QgPSAoXG4gICAgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eSxcbiAgICBzZXR0aW5nczogQ2FsbFNldHRpbmdzUmVzcG9uc2UgfCB1bmRlZmluZWQgPSB0aGlzLnNldHRpbmdzLFxuICApID0+IHtcbiAgICBpZiAoIXNldHRpbmdzKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCB7IGF1ZGlvLCB2aWRlbywgc2NyZWVuc2hhcmluZyB9ID0gc2V0dGluZ3M7XG4gICAgc3dpdGNoIChwZXJtaXNzaW9uKSB7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9BVURJTzpcbiAgICAgICAgcmV0dXJuIGF1ZGlvLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9WSURFTzpcbiAgICAgICAgcmV0dXJuIHZpZGVvLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkU6XG4gICAgICAgIHJldHVybiBzY3JlZW5zaGFyaW5nLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgQ29tcGFyYXRvcixcbiAgZGVmYXVsdFNvcnRQcmVzZXQsXG4gIGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG59IGZyb20gJy4vc29ydGluZyc7XG5cbi8qKlxuICogVGhlIG9wdGlvbnMgZm9yIGEge0BsaW5rIENhbGxUeXBlfS5cbiAqL1xuZXhwb3J0IHR5cGUgQ2FsbFR5cGVPcHRpb25zID0ge1xuICAvKipcbiAgICogVGhlIHtAbGluayBDb21wYXJhdG9yfSB0byB1c2UgdG8gc29ydGluZyB0aGUgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKi9cbiAgc29ydFBhcnRpY2lwYW50c0J5PzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50Pjtcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNhbGwgdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbGxUeXBlIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBjYWxsIHR5cGUuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvcHRpb25zIGZvciB0aGUgY2FsbCB0eXBlLlxuICAgKi9cbiAgb3B0aW9uczogQ2FsbFR5cGVPcHRpb25zO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENhbGxUeXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBmb3IgdGhlIGNhbGwgdHlwZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBDYWxsVHlwZU9wdGlvbnMgPSB7XG4gICAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICAgIH0sXG4gICkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxufVxuXG4vKipcbiAqIEEgcmVnaXN0cnkgb2Yge0BsaW5rIENhbGxUeXBlfXMuXG4gKiBZb3UgY2FuIHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIGNhbGwgdHlwZXMuXG4gKi9cbmNsYXNzIENhbGxUeXBlc1JlZ2lzdHJ5IHtcbiAgLyoqXG4gICAqIFRoZSBjYWxsIHR5cGVzIHJlZ2lzdGVyZWQgaW4gdGhpcyByZWdpc3RyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgY2FsbFR5cGVzOiB7IFtrZXk6IHN0cmluZ106IENhbGxUeXBlIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ2FsbFR5cGVzUmVnaXN0cnkuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsVHlwZXMgdGhlIGluaXRpYWwgY2FsbCB0eXBlcyB0byByZWdpc3Rlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbGxUeXBlczogQ2FsbFR5cGVbXSkge1xuICAgIHRoaXMuY2FsbFR5cGVzID0gY2FsbFR5cGVzLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IENhbGxUeXBlIH0+KFxuICAgICAgKGFjYywgY2FsbFR5cGUpID0+IHtcbiAgICAgICAgYWNjW2NhbGxUeXBlLm5hbWVdID0gY2FsbFR5cGU7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAge30sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBuZXcgY2FsbCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFR5cGUgdGhlIGNhbGwgdHlwZSB0byByZWdpc3Rlci5cbiAgICovXG4gIHJlZ2lzdGVyID0gKGNhbGxUeXBlOiBDYWxsVHlwZSkgPT4ge1xuICAgIHRoaXMuY2FsbFR5cGVzW2NhbGxUeXBlLm5hbWVdID0gY2FsbFR5cGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIGEgY2FsbCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlIHRvIHVucmVnaXN0ZXIuXG4gICAqL1xuICB1bnJlZ2lzdGVyID0gKG5hbWU6IHN0cmluZykgPT4ge1xuICAgIGRlbGV0ZSB0aGlzLmNhbGxUeXBlc1tuYW1lXTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBhIGNhbGwgdHlwZSBieSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlIHRvIGdldC5cbiAgICovXG4gIGdldCA9IChuYW1lOiBzdHJpbmcpOiBDYWxsVHlwZSA9PiB7XG4gICAgaWYgKCF0aGlzLmNhbGxUeXBlc1tuYW1lXSkge1xuICAgICAgdGhpcy5yZWdpc3RlcihuZXcgQ2FsbFR5cGUobmFtZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWxsVHlwZXNbbmFtZV07XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY2FsbCB0eXBlcyByZWdpc3RyeS5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgaW5zdGFuY2UgdG8gZHluYW1pY2FsbHkgcmVnaXN0ZXIgYW5kIHVucmVnaXN0ZXIgY2FsbCB0eXBlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxUeXBlcyA9IG5ldyBDYWxsVHlwZXNSZWdpc3RyeShbXG4gIG5ldyBDYWxsVHlwZSgnZGVmYXVsdCcsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdkZXZlbG9wbWVudCcsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdsaXZlc3RyZWFtJywge1xuICAgIHNvcnRQYXJ0aWNpcGFudHNCeTogbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCxcbiAgfSksXG4gIG5ldyBDYWxsVHlwZSgnYXVkaW9fcm9vbScsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG4gIH0pLFxuXSk7XG4iLCJpbXBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuLCBtYXAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgZGlzcG9zZU9mTWVkaWFTdHJlYW0gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5cbmludGVyZmFjZSBCcm93c2VyUGVybWlzc2lvbkNvbmZpZyB7XG4gIGNvbnN0cmFpbnRzOiBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zO1xuICBxdWVyeU5hbWU6IFBlcm1pc3Npb25OYW1lO1xufVxuXG5leHBvcnQgY2xhc3MgQnJvd3NlclBlcm1pc3Npb24ge1xuICBwcml2YXRlIHJlYWR5OiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGRpc3Bvc2VDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBwcml2YXRlIHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgd2FzUHJvbXB0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnMgPSBuZXcgU2V0PChzdGF0ZTogUGVybWlzc2lvblN0YXRlKSA9PiB2b2lkPigpO1xuICBwcml2YXRlIGxvZ2dlciA9IGdldExvZ2dlcihbJ3Blcm1pc3Npb25zJ10pO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgcGVybWlzc2lvbjogQnJvd3NlclBlcm1pc3Npb25Db25maWcpIHtcbiAgICBjb25zdCBzaWduYWwgPSB0aGlzLmRpc3Bvc2VDb250cm9sbGVyLnNpZ25hbDtcblxuICAgIHRoaXMucmVhZHkgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYXNzdW1lR3JhbnRlZCA9IChlcnJvcj86IHVua25vd24pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgncHJvbXB0Jyk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoIWNhblF1ZXJ5UGVybWlzc2lvbnMoKSkge1xuICAgICAgICByZXR1cm4gYXNzdW1lR3JhbnRlZCgpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe1xuICAgICAgICAgIG5hbWU6IHBlcm1pc3Npb24ucXVlcnlOYW1lLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0dXMuc3RhdGUpO1xuICAgICAgICAgIHN0YXR1cy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB0aGlzLnNldFN0YXRlKHN0YXR1cy5zdGF0ZSksIHtcbiAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGFzc3VtZUdyYW50ZWQoZXJyKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLnN0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGlzcG9zZUNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgfVxuXG4gIGFzeW5jIGdldFN0YXRlKCkge1xuICAgIGF3YWl0IHRoaXMucmVhZHk7XG4gICAgaWYgKCF0aGlzLnN0YXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXJQZXJtaXNzaW9uIGluc3RhbmNlIHBvc3NpYmx5IGRpc3Bvc2VkJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICB9XG5cbiAgYXN5bmMgcHJvbXB0KHtcbiAgICBmb3JjZVByb21wdCA9IGZhbHNlLFxuICAgIHRocm93T25Ob3RBbGxvd2VkID0gZmFsc2UsXG4gIH06IHsgZm9yY2VQcm9tcHQ/OiBib29sZWFuOyB0aHJvd09uTm90QWxsb3dlZD86IGJvb2xlYW4gfSA9IHt9KSB7XG4gICAgcmV0dXJuIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeShcbiAgICAgIGBwZXJtaXNzaW9uLXByb21wdC0ke3RoaXMucGVybWlzc2lvbi5xdWVyeU5hbWV9YCxcbiAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChhd2FpdCB0aGlzLmdldFN0YXRlKCkpICE9PSAncHJvbXB0JyB8fFxuICAgICAgICAgICh0aGlzLndhc1Byb21wdGVkICYmICFmb3JjZVByb21wdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaXNHcmFudGVkID0gdGhpcy5zdGF0ZSA9PT0gJ2dyYW50ZWQnO1xuXG4gICAgICAgICAgaWYgKCFpc0dyYW50ZWQgJiYgdGhyb3dPbk5vdEFsbG93ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgJ1Blcm1pc3Npb24gd2FzIG5vdCBncmFudGVkIHByZXZpb3VzbHksIGFuZCBwcm9tcHRpbmcgYWdhaW4gaXMgbm90IGFsbG93ZWQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaXNHcmFudGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLndhc1Byb21wdGVkID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShcbiAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbi5jb25zdHJhaW50cyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpc3Bvc2VPZk1lZGlhU3RyZWFtKHN0cmVhbSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSgnZ3JhbnRlZCcpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZSAmJlxuICAgICAgICAgICAgdHlwZW9mIGUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAnbmFtZScgaW4gZSAmJlxuICAgICAgICAgICAgKGUubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicgfHwgZS5uYW1lID09PSAnU2VjdXJpdHlFcnJvcicpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcignaW5mbycsICdCcm93c2VyIHBlcm1pc3Npb24gd2FzIG5vdCBncmFudGVkJywge1xuICAgICAgICAgICAgICBwZXJtaXNzaW9uOiB0aGlzLnBlcm1pc3Npb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2RlbmllZCcpO1xuXG4gICAgICAgICAgICBpZiAodGhyb3dPbk5vdEFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBGYWlsZWQgdG8gZ2V0VXNlck1lZGlhYCwge1xuICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB0aGlzLnBlcm1pc3Npb24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgbGlzdGVuKGNiOiAoc3RhdGU6IFBlcm1pc3Npb25TdGF0ZSkgPT4gdm9pZCkge1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChjYik7XG4gICAgaWYgKHRoaXMuc3RhdGUpIGNiKHRoaXMuc3RhdGUpO1xuICAgIHJldHVybiAoKSA9PiB0aGlzLmxpc3RlbmVycy5kZWxldGUoY2IpO1xuICB9XG5cbiAgYXNPYnNlcnZhYmxlKCkge1xuICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuPFBlcm1pc3Npb25TdGF0ZT4oXG4gICAgICAoaGFuZGxlcikgPT4gdGhpcy5saXN0ZW4oaGFuZGxlciksXG4gICAgICAoaGFuZGxlciwgdW5saXN0ZW4pID0+IHVubGlzdGVuKCksXG4gICAgKS5waXBlKFxuICAgICAgLy8gSW4gc29tZSBicm93c2VycywgdGhlICdjaGFuZ2UnIGV2ZW50IGRvZXNuJ3QgcmVsaWFibHkgZW1pdCBhbmQgaGVuY2UsXG4gICAgICAvLyBwZXJtaXNzaW9uU3RhdGUgc3RheXMgaW4gJ3Byb21wdCcgc3RhdGUgZm9yZXZlci5cbiAgICAgIC8vIFR5cGljYWxseSwgdGhpcyBoYXBwZW5zIHdoZW4gYSB1c2VyIGdyYW50cyBvbmUtdGltZSBwZXJtaXNzaW9uLlxuICAgICAgLy8gSW5zdGVhZCBvZiBjaGVja2luZyBpZiBhIHBlcm1pc3Npb24gaXMgZ3JhbnRlZCwgd2UgY2hlY2sgaWYgaXQgaXNuJ3QgZGVuaWVkXG4gICAgICBtYXAoKHN0YXRlKSA9PiBzdGF0ZSAhPT0gJ2RlbmllZCcpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFN0YXRlKHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc3RhdGUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5RdWVyeVBlcm1pc3Npb25zKCkge1xuICByZXR1cm4gKFxuICAgICFpc1JlYWN0TmF0aXZlKCkgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICEhbmF2aWdhdG9yLnBlcm1pc3Npb25zPy5xdWVyeVxuICApO1xufVxuIiwiaW1wb3J0IHtcbiAgY29uY2F0TWFwLFxuICBkZWJvdW5jZVRpbWUsXG4gIGZyb20sXG4gIGZyb21FdmVudCxcbiAgbWFwLFxuICBtZXJnZSxcbiAgc2hhcmVSZXBsYXksXG4gIHN0YXJ0V2l0aCxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL0Jyb3dzZXJQZXJtaXNzaW9uJztcbmltcG9ydCB7IGxhenkgfSBmcm9tICcuLi9oZWxwZXJzL2xhenknO1xuaW1wb3J0IHsgaXNGaXJlZm94IH0gZnJvbSAnLi4vaGVscGVycy9icm93c2Vycyc7XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGRldmljZXNcbiAqIHRoYXQgbWVldCB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKlxuICogQHBhcmFtIHBlcm1pc3Npb24gYSBCcm93c2VyUGVybWlzc2lvbiBpbnN0YW5jZS5cbiAqIEBwYXJhbSBraW5kIHRoZSBraW5kIG9mIGRldmljZXMgdG8gZW51bWVyYXRlLlxuICovXG5jb25zdCBnZXREZXZpY2VzID0gKHBlcm1pc3Npb246IEJyb3dzZXJQZXJtaXNzaW9uLCBraW5kOiBNZWRpYURldmljZUtpbmQpID0+IHtcbiAgcmV0dXJuIGZyb20oXG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICAvLyBmb3IgcHJpdmFjeSByZWFzb25zLCBtb3N0IGJyb3dzZXJzIGRvbid0IGdpdmUgeW91IGRldmljZSBsYWJlbHNcbiAgICAgIC8vIHVubGVzcyB5b3UgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgY2FtZXJhIG9yIG1pY3JvcGhvbmUgcGVybWlzc2lvblxuICAgICAgY29uc3Qgc2hvdWxkUHJvbXB0Rm9yQnJvd3NlclBlcm1pc3Npb24gPSBkZXZpY2VzLnNvbWUoXG4gICAgICAgIChkZXZpY2UpID0+IGRldmljZS5raW5kID09PSBraW5kICYmIGRldmljZS5sYWJlbCA9PT0gJycsXG4gICAgICApO1xuICAgICAgaWYgKHNob3VsZFByb21wdEZvckJyb3dzZXJQZXJtaXNzaW9uICYmIChhd2FpdCBwZXJtaXNzaW9uLnByb21wdCgpKSkge1xuICAgICAgICBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGV2aWNlcy5maWx0ZXIoXG4gICAgICAgIChkZXZpY2UpID0+XG4gICAgICAgICAgZGV2aWNlLmtpbmQgPT09IGtpbmQgJiZcbiAgICAgICAgICBkZXZpY2UubGFiZWwgIT09ICcnICYmXG4gICAgICAgICAgZGV2aWNlLmRldmljZUlkICE9PSAnZGVmYXVsdCcsXG4gICAgICApO1xuICAgIH0pKCksXG4gICk7XG59O1xuXG4vKipcbiAqIFRlbGxzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGF1ZGlvIG91dHB1dCBjaGFuZ2Ugb24gJ2F1ZGlvJyBlbGVtZW50cyxcbiAqIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTE1lZGlhRWxlbWVudC9zZXRTaW5rSWQuXG4gKi9cbmV4cG9ydCBjb25zdCBjaGVja0lmQXVkaW9PdXRwdXRDaGFuZ2VTdXBwb3J0ZWQgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICByZXR1cm4gJ3NldFNpbmtJZCcgaW4gZWxlbWVudDtcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY29uc3RyYWludHMgdXNlZCB0byByZXF1ZXN0IGF1ZGlvIGRldmljZXMuXG4gKi9cbmNvbnN0IGF1ZGlvRGV2aWNlQ29uc3RyYWludHMgPSB7XG4gIGF1ZGlvOiB7XG4gICAgYXV0b0dhaW5Db250cm9sOiB0cnVlLFxuICAgIG5vaXNlU3VwcHJlc3Npb246IHRydWUsXG4gICAgZWNob0NhbmNlbGxhdGlvbjogdHJ1ZSxcbiAgfSxcbn0gc2F0aXNmaWVzIE1lZGlhU3RyZWFtQ29uc3RyYWludHM7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY29uc3RyYWludHMgdXNlZCB0byByZXF1ZXN0IHZpZGVvIGRldmljZXMuXG4gKi9cbmNvbnN0IHZpZGVvRGV2aWNlQ29uc3RyYWludHMgPSB7XG4gIHZpZGVvOiB7XG4gICAgd2lkdGg6IDEyODAsXG4gICAgaGVpZ2h0OiA3MjAsXG4gIH0sXG59IHNhdGlzZmllcyBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzO1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBicm93c2VyIHBlcm1pc3Npb24gdG8gdXNlIG1pY3JvcGhvbmUuIFRoaXMgcGVybWlzc2lvbiBhbHNvXG4gKiBhZmZlY3RzIGFuIGFiaWxpdHkgdG8gZW51bWVyYXRlIGF1ZGlvIGRldmljZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uID0gbGF6eShcbiAgKCkgPT5cbiAgICBuZXcgQnJvd3NlclBlcm1pc3Npb24oe1xuICAgICAgY29uc3RyYWludHM6IGF1ZGlvRGV2aWNlQ29uc3RyYWludHMsXG4gICAgICBxdWVyeU5hbWU6ICdtaWNyb3Bob25lJyBhcyBQZXJtaXNzaW9uTmFtZSxcbiAgICB9KSxcbik7XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGJyb3dzZXIgcGVybWlzc2lvbiB0byB1c2UgY2FtZXJhLiBUaGlzIHBlcm1pc3Npb24gYWxzb1xuICogYWZmZWN0cyBhbiBhYmlsaXR5IHRvIGVudW1lcmF0ZSB2aWRlbyBkZXZpY2VzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbiA9IGxhenkoXG4gICgpID0+XG4gICAgbmV3IEJyb3dzZXJQZXJtaXNzaW9uKHtcbiAgICAgIGNvbnN0cmFpbnRzOiB2aWRlb0RldmljZUNvbnN0cmFpbnRzLFxuICAgICAgcXVlcnlOYW1lOiAnY2FtZXJhJyBhcyBQZXJtaXNzaW9uTmFtZSxcbiAgICB9KSxcbik7XG5cbmNvbnN0IGdldERldmljZUNoYW5nZU9ic2VydmVyID0gbGF6eSgoKSA9PiB7XG4gIC8vICdhZGRFdmVudExpc3RlbmVyJyBpcyBub3QgYXZhaWxhYmxlIGluIFJlYWN0IE5hdGl2ZSwgcmV0dXJuaW5nXG4gIC8vIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIG5ldmVyIGZpcmVcbiAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIpIHJldHVybiBmcm9tKFtdKTtcbiAgcmV0dXJuIGZyb21FdmVudChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLCAnZGV2aWNlY2hhbmdlJykucGlwZShcbiAgICBtYXAoKCkgPT4gdW5kZWZpbmVkKSxcbiAgICBkZWJvdW5jZVRpbWUoNTAwKSxcbiAgKTtcbn0pO1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgYXVkaW8gZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZFxuICogYW5kIHdhcyBub3QgcHJvbXB0ZWQgYmVmb3JlKSBhbmQgbGlzdHMgdGhlIGF2YWlsYWJsZSAnYXVkaW9pbnB1dCcgZGV2aWNlcyxcbiAqIGlmIGRldmljZXMgYXJlIGFkZGVkL3JlbW92ZWQgdGhlIGxpc3QgaXMgdXBkYXRlZCwgYW5kIGlmIHRoZSBwZXJtaXNzaW9uIGlzIHJldm9rZWQsXG4gKiB0aGUgb2JzZXJ2YWJsZSBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb0RldmljZXMgPSBsYXp5KCgpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKCksXG4gICAgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+IGdldERldmljZXMoZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLCAnYXVkaW9pbnB1dCcpKSxcbiAgICBzaGFyZVJlcGxheSgxKSxcbiAgKTtcbn0pO1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgdmlkZW8gZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZFxuICogYW5kIHdhcyBub3QgcHJvbXB0ZWQgYmVmb3JlKSBhbmQgbGlzdHMgdGhlIGF2YWlsYWJsZSAndmlkZW9pbnB1dCcgZGV2aWNlcyxcbiAqIGlmIGRldmljZXMgYXJlIGFkZGVkL3JlbW92ZWQgdGhlIGxpc3QgaXMgdXBkYXRlZCwgYW5kIGlmIHRoZSBwZXJtaXNzaW9uIGlzIHJldm9rZWQsXG4gKiB0aGUgb2JzZXJ2YWJsZSBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWaWRlb0RldmljZXMgPSBsYXp5KCgpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKCksXG4gICAgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+IGdldERldmljZXMoZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbigpLCAndmlkZW9pbnB1dCcpKSxcbiAgICBzaGFyZVJlcGxheSgxKSxcbiAgKTtcbn0pO1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgdmlkZW8gZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZFxuICogYW5kIHdhcyBub3QgcHJvbXB0ZWQgYmVmb3JlKSBhbmQgbGlzdHMgdGhlIGF2YWlsYWJsZSAnYXVkaW9vdXRwdXQnIGRldmljZXMsXG4gKiBpZiBkZXZpY2VzIGFyZSBhZGRlZC9yZW1vdmVkIHRoZSBsaXN0IGlzIHVwZGF0ZWQsIGFuZCBpZiB0aGUgcGVybWlzc2lvbiBpcyByZXZva2VkLFxuICogdGhlIG9ic2VydmFibGUgZXJyb3JzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXVkaW9PdXRwdXREZXZpY2VzID0gbGF6eSgoKSA9PiB7XG4gIHJldHVybiBtZXJnZShcbiAgICBnZXREZXZpY2VDaGFuZ2VPYnNlcnZlcigpLFxuICAgIGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKS5hc09ic2VydmFibGUoKSxcbiAgKS5waXBlKFxuICAgIHN0YXJ0V2l0aCh1bmRlZmluZWQpLFxuICAgIGNvbmNhdE1hcCgoKSA9PiBnZXREZXZpY2VzKGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKSwgJ2F1ZGlvb3V0cHV0JykpLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufSk7XG5cbmNvbnN0IGdldFN0cmVhbSA9IGFzeW5jIChjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cykgPT4ge1xuICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cyk7XG4gIGlmIChpc0ZpcmVmb3goKSkge1xuICAgIC8vIFdoZW4gZW51bWVyYXRpbmcgZGV2aWNlcywgRmlyZWZveCB3aWxsIGhpZGUgZGV2aWNlIGxhYmVscyB1bmxlc3MgdGhlcmUncyBiZWVuXG4gICAgLy8gYW4gYWN0aXZlIHVzZXIgbWVkaWEgc3RyZWFtIG9uIHRoZSBwYWdlLiBTbyB3ZSBmb3JjZSBkZXZpY2UgbGlzdCB1cGRhdGVzIGFmdGVyXG4gICAgLy8gZXZlcnkgc3VjY2Vzc2Z1bCBnZXRVc2VyTWVkaWEgY2FsbC5cbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdkZXZpY2VjaGFuZ2UnKSk7XG4gIH1cbiAgcmV0dXJuIHN0cmVhbTtcbn07XG5cbmZ1bmN0aW9uIGlzT3ZlcmNvbnN0cmFpbmVkRXJyb3IoZXJyb3I6IHVua25vd24pIHtcbiAgcmV0dXJuIChcbiAgICBlcnJvciAmJlxuICAgIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiZcbiAgICAoKCduYW1lJyBpbiBlcnJvciAmJiBlcnJvci5uYW1lID09PSAnT3ZlcmNvbnN0cmFpbmVkRXJyb3InKSB8fFxuICAgICAgKCdtZXNzYWdlJyBpbiBlcnJvciAmJlxuICAgICAgICB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKCdPdmVyY29uc3RyYWluZWRFcnJvcicpKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGF1ZGlvIG1lZGlhIHN0cmVhbSB0aGF0IGZ1bGZpbGxzIHRoZSBnaXZlbiBjb25zdHJhaW50cy5cbiAqIElmIG5vIGNvbnN0cmFpbnRzIGFyZSBwcm92aWRlZCwgaXQgdXNlcyB0aGUgYnJvd3NlcidzIGRlZmF1bHQgb25lcy5cbiAqXG4gKiBAYW5ndWxhciBJdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgW2BEZXZpY2VNYW5hZ2VyU2VydmljZWBdKC4vRGV2aWNlTWFuYWdlclNlcnZpY2UubWQpIGZvciBhIGhpZ2hlciBsZXZlbCBBUEksIHVzZSB0aGlzIGxvdy1sZXZlbCBtZXRob2Qgb25seSBpZiB0aGUgYERldmljZU1hbmFnZXJTZXJ2aWNlYCBkb2Vzbid0IHN1aXQgeW91ciByZXF1aXJlbWVudHMuXG4gKiBAcGFyYW0gdHJhY2tDb25zdHJhaW50cyB0aGUgY29uc3RyYWludHMgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB0aGUgc3RyZWFtLlxuICogQHJldHVybnMgdGhlIG5ldyBgTWVkaWFTdHJlYW1gIGZ1bGZpbGxpbmcgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXVkaW9TdHJlYW0gPSBhc3luYyAoXG4gIHRyYWNrQ29uc3RyYWludHM/OiBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4pOiBQcm9taXNlPE1lZGlhU3RyZWFtPiA9PiB7XG4gIGNvbnN0IGNvbnN0cmFpbnRzOiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzID0ge1xuICAgIGF1ZGlvOiB7XG4gICAgICAuLi5hdWRpb0RldmljZUNvbnN0cmFpbnRzLmF1ZGlvLFxuICAgICAgLi4udHJhY2tDb25zdHJhaW50cyxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLnByb21wdCh7XG4gICAgICB0aHJvd09uTm90QWxsb3dlZDogdHJ1ZSxcbiAgICAgIGZvcmNlUHJvbXB0OiB0cnVlLFxuICAgIH0pO1xuICAgIHJldHVybiBhd2FpdCBnZXRTdHJlYW0oY29uc3RyYWludHMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc092ZXJjb25zdHJhaW5lZEVycm9yKGVycm9yKSAmJiB0cmFja0NvbnN0cmFpbnRzPy5kZXZpY2VJZCkge1xuICAgICAgY29uc3QgeyBkZXZpY2VJZCwgLi4ucmVsYXhlZENvbnN0cmFpbnRzIH0gPSB0cmFja0NvbnN0cmFpbnRzO1xuICAgICAgZ2V0TG9nZ2VyKFsnZGV2aWNlcyddKShcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnRmFpbGVkIHRvIGdldCBhdWRpbyBzdHJlYW0sIHdpbGwgdHJ5IGFnYWluIHdpdGggcmVsYXhlZCBjb25zdHJhaW50cycsXG4gICAgICAgIHsgZXJyb3IsIGNvbnN0cmFpbnRzLCByZWxheGVkQ29uc3RyYWludHMgfSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gZ2V0QXVkaW9TdHJlYW0ocmVsYXhlZENvbnN0cmFpbnRzKTtcbiAgICB9XG5cbiAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKCdlcnJvcicsICdGYWlsZWQgdG8gZ2V0IGF1ZGlvIHN0cmVhbScsIHtcbiAgICAgIGVycm9yLFxuICAgICAgY29uc3RyYWludHMsXG4gICAgfSk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBhIHZpZGVvIG1lZGlhIHN0cmVhbSB0aGF0IGZ1bGZpbGxzIHRoZSBnaXZlbiBjb25zdHJhaW50cy5cbiAqIElmIG5vIGNvbnN0cmFpbnRzIGFyZSBwcm92aWRlZCwgaXQgdXNlcyB0aGUgYnJvd3NlcidzIGRlZmF1bHQgb25lcy5cbiAqXG4gKiBAYW5ndWxhciBJdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgW2BEZXZpY2VNYW5hZ2VyU2VydmljZWBdKC4vRGV2aWNlTWFuYWdlclNlcnZpY2UubWQpIGZvciBhIGhpZ2hlciBsZXZlbCBBUEksIHVzZSB0aGlzIGxvdy1sZXZlbCBtZXRob2Qgb25seSBpZiB0aGUgYERldmljZU1hbmFnZXJTZXJ2aWNlYCBkb2Vzbid0IHN1aXQgeW91ciByZXF1aXJlbWVudHMuXG4gKiBAcGFyYW0gdHJhY2tDb25zdHJhaW50cyB0aGUgY29uc3RyYWludHMgdG8gdXNlIHdoZW4gcmVxdWVzdGluZyB0aGUgc3RyZWFtLlxuICogQHJldHVybnMgYSBuZXcgYE1lZGlhU3RyZWFtYCBmdWxmaWxsaW5nIHRoZSBnaXZlbiBjb25zdHJhaW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFZpZGVvU3RyZWFtID0gYXN5bmMgKFxuICB0cmFja0NvbnN0cmFpbnRzPzogTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gPT4ge1xuICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICB2aWRlbzoge1xuICAgICAgLi4udmlkZW9EZXZpY2VDb25zdHJhaW50cy52aWRlbyxcbiAgICAgIC4uLnRyYWNrQ29uc3RyYWludHMsXG4gICAgfSxcbiAgfTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCkucHJvbXB0KHtcbiAgICAgIHRocm93T25Ob3RBbGxvd2VkOiB0cnVlLFxuICAgICAgZm9yY2VQcm9tcHQ6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IGdldFN0cmVhbShjb25zdHJhaW50cyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzT3ZlcmNvbnN0cmFpbmVkRXJyb3IoZXJyb3IpICYmIHRyYWNrQ29uc3RyYWludHM/LmRldmljZUlkKSB7XG4gICAgICBjb25zdCB7IGRldmljZUlkLCAuLi5yZWxheGVkQ29uc3RyYWludHMgfSA9IHRyYWNrQ29uc3RyYWludHM7XG4gICAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdGYWlsZWQgdG8gZ2V0IHZpZGVvIHN0cmVhbSwgd2lsbCB0cnkgYWdhaW4gd2l0aCByZWxheGVkIGNvbnN0cmFpbnRzJyxcbiAgICAgICAgeyBlcnJvciwgY29uc3RyYWludHMsIHJlbGF4ZWRDb25zdHJhaW50cyB9LFxuICAgICAgKTtcbiAgICAgIHJldHVybiBnZXRWaWRlb1N0cmVhbShyZWxheGVkQ29uc3RyYWludHMpO1xuICAgIH1cblxuICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoJ2Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgdmlkZW8gc3RyZWFtJywge1xuICAgICAgZXJyb3IsXG4gICAgICBjb25zdHJhaW50cyxcbiAgICB9KTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLyoqXG4gKiBQcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gc2hhcmUgYSBzY3JlZW4uXG4gKiBJZiB0aGUgdXNlciBncmFudHMgdGhlIHBlcm1pc3Npb24sIGEgc2NyZWVuIHNoYXJpbmcgc3RyZWFtIGlzIHJldHVybmVkLiBUaHJvd3Mgb3RoZXJ3aXNlLlxuICpcbiAqIFRoZSBjYWxsZXJzIG9mIHRoaXMgQVBJIGFyZSByZXNwb25zaWJsZSB0byBoYW5kbGUgdGhlIHBvc3NpYmxlIGVycm9ycy5cbiAqXG4gKiBAYW5ndWxhciBJdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgW2BEZXZpY2VNYW5hZ2VyU2VydmljZWBdKC4vRGV2aWNlTWFuYWdlclNlcnZpY2UubWQpIGZvciBhIGhpZ2hlciBsZXZlbCBBUEksIHVzZSB0aGlzIGxvdy1sZXZlbCBtZXRob2Qgb25seSBpZiB0aGUgYERldmljZU1hbmFnZXJTZXJ2aWNlYCBkb2Vzbid0IHN1aXQgeW91ciByZXF1aXJlbWVudHMuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgYW55IGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBbYGdldERpc3BsYXlNZWRpYWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYURldmljZXMvZ2V0RGlzcGxheU1lZGlhKSBBUEkuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTY3JlZW5TaGFyZVN0cmVhbSA9IGFzeW5jIChcbiAgb3B0aW9ucz86IERpc3BsYXlNZWRpYVN0cmVhbU9wdGlvbnMsXG4pID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoe1xuICAgICAgdmlkZW86IHRydWUsXG4gICAgICBhdWRpbzoge1xuICAgICAgICBjaGFubmVsQ291bnQ6IHtcbiAgICAgICAgICBpZGVhbDogMixcbiAgICAgICAgfSxcbiAgICAgICAgZWNob0NhbmNlbGxhdGlvbjogZmFsc2UsXG4gICAgICAgIGF1dG9HYWluQ29udHJvbDogZmFsc2UsXG4gICAgICAgIG5vaXNlU3VwcHJlc3Npb246IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBub3QgcHJlc2VudCBpbiB0eXBlcyB5ZXRcbiAgICAgIHN5c3RlbUF1ZGlvOiAnaW5jbHVkZScsXG4gICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZ2V0TG9nZ2VyKFsnZGV2aWNlcyddKSgnZXJyb3InLCAnRmFpbGVkIHRvIGdldCBzY3JlZW4gc2hhcmUgc3RyZWFtJywgZSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRldmljZUlkcyQgPVxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IGdldERldmljZUNoYW5nZU9ic2VydmVyKCkucGlwZShcbiAgICAgICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgICAgIGNvbmNhdE1hcCgoKSA9PiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKSksXG4gICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuICAgICAgKVxuICAgIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIERlYWN0aXZhdGVzIE1lZGlhU3RyZWFtIChzdG9wcyBhbmQgcmVtb3ZlcyB0cmFja3MpIHRvIGJlIGxhdGVyIGdhcmJhZ2UgY29sbGVjdGVkXG4gKlxuICogQHBhcmFtIHN0cmVhbSBNZWRpYVN0cmVhbVxuICogQHJldHVybnMgdm9pZFxuICovXG5leHBvcnQgY29uc3QgZGlzcG9zZU9mTWVkaWFTdHJlYW0gPSAoc3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICBpZiAoIXN0cmVhbS5hY3RpdmUpIHJldHVybjtcbiAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgdHJhY2suc3RvcCgpO1xuICB9KTtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciByZWxlYXNlKCkgaXMgcHJlc2VudCBpbiByZWFjdC1uYXRpdmUtd2VicnRjIGFuZCBtdXN0IGJlIGNhbGxlZCB0byBkaXNwb3NlIHRoZSBzdHJlYW1cbiAgaWYgKHR5cGVvZiBzdHJlYW0ucmVsZWFzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBzdHJlYW0ucmVsZWFzZSgpO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSwgcGFpcndpc2UgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGRldmljZUlkcyQgfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHtcbiAgc2V0dGxlZCxcbiAgd2l0aENhbmNlbGxhdGlvbixcbiAgd2l0aG91dENvbmN1cnJlbmN5LFxufSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7XG4gIE1lZGlhU3RyZWFtRmlsdGVyLFxuICBNZWRpYVN0cmVhbUZpbHRlckVudHJ5LFxuICBNZWRpYVN0cmVhbUZpbHRlclJlZ2lzdHJhdGlvblJlc3VsdCxcbn0gZnJvbSAnLi9maWx0ZXJzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPFxuICBUIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZTxDPixcbiAgQyA9IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbj4ge1xuICAvKipcbiAgICogaWYgdHJ1ZSwgc3RvcHMgdGhlIG1lZGlhIHN0cmVhbSB3aGVuIGNhbGwgaXMgbGVmdFxuICAgKi9cbiAgc3RvcE9uTGVhdmUgPSB0cnVlO1xuICBsb2dnZXI6IExvZ2dlcjtcblxuICBwcm90ZWN0ZWQgc3Vic2NyaXB0aW9uczogRnVuY3Rpb25bXSA9IFtdO1xuICBwcml2YXRlIGlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IGZhbHNlO1xuICBwcml2YXRlIGZpbHRlcnM6IE1lZGlhU3RyZWFtRmlsdGVyRW50cnlbXSA9IFtdO1xuICBwcml2YXRlIHN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdzdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZycpO1xuICBwcml2YXRlIGZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKFxuICAgICdmaWx0ZXJSZWdpc3RyYXRpb25Db25jdXJyZW5jeVRhZycsXG4gICk7XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByZWFkb25seSBjYWxsOiBDYWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBzdGF0ZTogVCxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgdHJhY2tUeXBlOiBUcmFja1R5cGUsXG4gICkge1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFtgJHtUcmFja1R5cGVbdHJhY2tUeXBlXS50b0xvd2VyQ2FzZSgpfSBtYW5hZ2VyYF0pO1xuICAgIGlmIChcbiAgICAgIGRldmljZUlkcyQgJiZcbiAgICAgICFpc1JlYWN0TmF0aXZlKCkgJiZcbiAgICAgICh0aGlzLnRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPIHx8IHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU8pXG4gICAgKSB7XG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3RlZE9yUmVwbGFjZWREZXZpY2VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBhdmFpbGFibGUgYXVkaW8vdmlkZW8gZGV2aWNlc1xuICAgKlxuICAgKiBOb3RlOiBJdCBwcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWQpXG4gICAqXG4gICAqIEByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgaWYgYSBkZXZpY2UgaXMgY29ubmVjdGVkIG9yIGRpc2Nvbm5lY3RlZFxuICAgKi9cbiAgbGlzdERldmljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGV2aWNlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYHRydWVgIHdoZW4gdGhpcyBkZXZpY2UgaXMgaW4gZW5hYmxlZCBzdGF0ZS5cbiAgICovXG4gIGdldCBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2VuYWJsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBzdHJlYW0uXG4gICAqL1xuICBhc3luYyBlbmFibGUoKSB7XG4gICAgdGhpcy5zdGF0ZS5wcmV2U3RhdHVzID0gdGhpcy5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzO1xuICAgIGlmICh0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXMoJ2VuYWJsZWQnKTtcblxuICAgIGF3YWl0IHdpdGhDYW5jZWxsYXRpb24odGhpcy5zdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZywgYXN5bmMgKHNpZ25hbCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy51bm11dGVTdHJlYW0oKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRTdGF0dXMoJ2VuYWJsZWQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXModGhpcy5zdGF0ZS5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgb3IgcGF1c2VzIHRoZSBzdHJlYW0gYmFzZWQgb24gc3RhdGUuZGlzYWJsZU1vZGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VTdG9wPWZhbHNlXSB3aGVuIHRydWUsIHN0b3BzIHRoZSB0cmFja3MgcmVnYXJkbGVzcyBvZiB0aGUgc3RhdGUuZGlzYWJsZU1vZGVcbiAgICovXG4gIGFzeW5jIGRpc2FibGUoZm9yY2VTdG9wOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICB0aGlzLnN0YXRlLnByZXZTdGF0dXMgPSB0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXM7XG4gICAgaWYgKCFmb3JjZVN0b3AgJiYgdGhpcy5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5zZXRQZW5kaW5nU3RhdHVzKCdkaXNhYmxlZCcpO1xuXG4gICAgYXdhaXQgd2l0aENhbmNlbGxhdGlvbih0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoc2lnbmFsKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9wVHJhY2tzID1cbiAgICAgICAgICBmb3JjZVN0b3AgfHwgdGhpcy5zdGF0ZS5kaXNhYmxlTW9kZSA9PT0gJ3N0b3AtdHJhY2tzJztcbiAgICAgICAgYXdhaXQgdGhpcy5tdXRlU3RyZWFtKHN0b3BUcmFja3MpO1xuICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXR1cygnZGlzYWJsZWQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXModGhpcy5zdGF0ZS5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBwZVxuICAgKi9cbiAgYXN5bmMgc3RhdHVzQ2hhbmdlU2V0dGxlZCgpIHtcbiAgICBhd2FpdCBzZXR0bGVkKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHN0YXR1cyB3YXMgcHJldmlvdXNseSBlbmFibGVkLCBpdCB3aWxsIHJlLWVuYWJsZSB0aGUgZGV2aWNlLlxuICAgKi9cbiAgYXN5bmMgcmVzdW1lKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUucHJldlN0YXR1cyA9PT0gJ2VuYWJsZWQnICYmXG4gICAgICB0aGlzLnN0YXRlLnN0YXR1cyAhPT0gJ2VuYWJsZWQnXG4gICAgKSB7XG4gICAgICBhd2FpdCB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgY3VycmVudCBkZXZpY2Ugc3RhdHVzIGlzIGRpc2FibGVkLCBpdCB3aWxsIGVuYWJsZSB0aGUgZGV2aWNlLFxuICAgKiBlbHNlIGl0IHdpbGwgZGlzYWJsZSBpdC5cbiAgICovXG4gIGFzeW5jIHRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzID09PSAnZW5hYmxlZCcpIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGZpbHRlciB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgc3RyZWFtLlxuICAgKlxuICAgKiBUaGUgcmVnaXN0ZXJlZCBmaWx0ZXIgd2lsbCBnZXQgdGhlIGV4aXN0aW5nIHN0cmVhbSwgYW5kIGl0IHNob3VsZCByZXR1cm5cbiAgICogYSBuZXcgc3RyZWFtIHdpdGggdGhlIGFwcGxpZWQgZmlsdGVyLlxuICAgKlxuICAgKiBAcGFyYW0gZmlsdGVyIHRoZSBmaWx0ZXIgdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm5zIE1lZGlhU3RyZWFtRmlsdGVyUmVnaXN0cmF0aW9uUmVzdWx0XG4gICAqL1xuICByZWdpc3RlckZpbHRlcihcbiAgICBmaWx0ZXI6IE1lZGlhU3RyZWFtRmlsdGVyLFxuICApOiBNZWRpYVN0cmVhbUZpbHRlclJlZ2lzdHJhdGlvblJlc3VsdCB7XG4gICAgY29uc3QgZW50cnk6IE1lZGlhU3RyZWFtRmlsdGVyRW50cnkgPSB7XG4gICAgICBzdGFydDogZmlsdGVyLFxuICAgICAgc3RvcDogdW5kZWZpbmVkLFxuICAgIH07XG5cbiAgICBjb25zdCByZWdpc3RlcmVkID0gd2l0aG91dENvbmN1cnJlbmN5KFxuICAgICAgdGhpcy5maWx0ZXJSZWdpc3RyYXRpb25Db25jdXJyZW5jeVRhZyxcbiAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5maWx0ZXJzLnB1c2goZW50cnkpO1xuICAgICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZ2lzdGVyZWQsXG4gICAgICB1bnJlZ2lzdGVyOiAoKSA9PlxuICAgICAgICB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5maWx0ZXJSZWdpc3RyYXRpb25Db25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGVudHJ5LnN0b3A/LigpO1xuICAgICAgICAgIHRoaXMuZmlsdGVycyA9IHRoaXMuZmlsdGVycy5maWx0ZXIoKGYpID0+IGYgIT09IGVudHJ5KTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgICAgICB9KSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgc2V0IHRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIGZvciB0aGUgZGV2aWNlLlxuICAgKlxuICAgKiBAcGFyYW0gY29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHNldC5cbiAgICovXG4gIHNldERlZmF1bHRDb25zdHJhaW50cyhjb25zdHJhaW50czogQykge1xuICAgIHRoaXMuc3RhdGUuc2V0RGVmYXVsdENvbnN0cmFpbnRzKGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RzIGEgZGV2aWNlLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKiBAcGFyYW0gZGV2aWNlSWQgdGhlIGRldmljZSBpZCB0byBzZWxlY3QuXG4gICAqL1xuICBhc3luYyBzZWxlY3QoZGV2aWNlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciByZWZlcmVuY2UuJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZEZXZpY2VJZCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2U7XG4gICAgaWYgKGRldmljZUlkID09PSBwcmV2RGV2aWNlSWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0RGV2aWNlKGRldmljZUlkKTtcbiAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0RGV2aWNlKHByZXZEZXZpY2VJZCk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhlIG1hbmFnZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaCgocykgPT4gcygpKTtcbiAgfTtcblxuICBwcm90ZWN0ZWQgYXN5bmMgYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCkge1xuICAgIGF3YWl0IHdpdGhDYW5jZWxsYXRpb24odGhpcy5zdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLm11dGVTdHJlYW0oKTtcbiAgICAgICAgYXdhaXQgdGhpcy51bm11dGVTdHJlYW0oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXREZXZpY2VzKCk6IE9ic2VydmFibGU8TWVkaWFEZXZpY2VJbmZvW10+O1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRTdHJlYW0oY29uc3RyYWludHM6IEMpOiBQcm9taXNlPE1lZGlhU3RyZWFtPjtcblxuICBwcm90ZWN0ZWQgcHVibGlzaFN0cmVhbShzdHJlYW06IE1lZGlhU3RyZWFtKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5wdWJsaXNoKHN0cmVhbSwgdGhpcy50cmFja1R5cGUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHN0b3BQdWJsaXNoU3RyZWFtKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmNhbGwuc3RvcFB1Ymxpc2godGhpcy50cmFja1R5cGUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFRyYWNrcygpOiBNZWRpYVN0cmVhbVRyYWNrW10ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtPy5nZXRUcmFja3MoKSA/PyBbXTtcbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyBtdXRlU3RyZWFtKHN0b3BUcmFja3M6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgY29uc3QgbWVkaWFTdHJlYW0gPSB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtO1xuICAgIGlmICghbWVkaWFTdHJlYW0pIHJldHVybjtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgJHtzdG9wVHJhY2tzID8gJ1N0b3BwaW5nJyA6ICdEaXNhYmxpbmcnfSBzdHJlYW1gKTtcbiAgICBpZiAodGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wUHVibGlzaFN0cmVhbSgpO1xuICAgIH1cbiAgICB0aGlzLm11dGVMb2NhbFN0cmVhbShzdG9wVHJhY2tzKTtcbiAgICBjb25zdCBhbGxFbmRlZCA9IHRoaXMuZ2V0VHJhY2tzKCkuZXZlcnkoKHQpID0+IHQucmVhZHlTdGF0ZSA9PT0gJ2VuZGVkJyk7XG4gICAgaWYgKGFsbEVuZGVkKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHJlbGVhc2UoKSBpcyBwcmVzZW50IGluIHJlYWN0LW5hdGl2ZS13ZWJydGNcbiAgICAgIGlmICh0eXBlb2YgbWVkaWFTdHJlYW0ucmVsZWFzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbGxlZCB0byBkaXNwb3NlIHRoZSBzdHJlYW0gaW4gUk5cbiAgICAgICAgbWVkaWFTdHJlYW0ucmVsZWFzZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZS5zZXRNZWRpYVN0cmVhbSh1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICB0aGlzLmZpbHRlcnMuZm9yRWFjaCgoZW50cnkpID0+IGVudHJ5LnN0b3A/LigpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRpc2FibGVUcmFja3MoKSB7XG4gICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKHRyYWNrLmVuYWJsZWQpIHRyYWNrLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZW5hYmxlVHJhY2tzKCkge1xuICAgIHRoaXMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgIGlmICghdHJhY2suZW5hYmxlZCkgdHJhY2suZW5hYmxlZCA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BUcmFja3MoKSB7XG4gICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJykgdHJhY2suc3RvcCgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBtdXRlTG9jYWxTdHJlYW0oc3RvcFRyYWNrczogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3RvcFRyYWNrcykge1xuICAgICAgdGhpcy5zdG9wVHJhY2tzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzYWJsZVRyYWNrcygpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyB1bm11dGVTdHJlYW0oKSB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1N0YXJ0aW5nIHN0cmVhbScpO1xuICAgIGxldCBzdHJlYW06IE1lZGlhU3RyZWFtO1xuICAgIGxldCByb290U3RyZWFtOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB8IHVuZGVmaW5lZDtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtICYmXG4gICAgICB0aGlzLmdldFRyYWNrcygpLmV2ZXJ5KCh0KSA9PiB0LnJlYWR5U3RhdGUgPT09ICdsaXZlJylcbiAgICApIHtcbiAgICAgIHN0cmVhbSA9IHRoaXMuc3RhdGUubWVkaWFTdHJlYW07XG4gICAgICB0aGlzLmVuYWJsZVRyYWNrcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZWZhdWx0Q29uc3RyYWludHMgPSB0aGlzLnN0YXRlLmRlZmF1bHRDb25zdHJhaW50cztcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzOiBNZWRpYVRyYWNrQ29uc3RyYWludHMgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRDb25zdHJhaW50cyxcbiAgICAgICAgZGV2aWNlSWQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2VcbiAgICAgICAgICA/IHsgZXhhY3Q6IHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UgfVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDaGFpbnMgdHdvIG1lZGlhIHN0cmVhbXMgdG9nZXRoZXIuXG4gICAgICAgKlxuICAgICAgICogSW4gb3VyIGNhc2UsIGZpbHRlcnMgTWVkaWFTdHJlYW1zIGFyZSBkZXJpdmVkIGZyb20gdGhlaXIgcGFyZW50IE1lZGlhU3RyZWFtLlxuICAgICAgICogSG93ZXZlciwgb25jZSBhIGNoaWxkIGZpbHRlcidzIHRyYWNrIGlzIHN0b3BwZWQsXG4gICAgICAgKiB0aGUgdHJhY2tzIG9mIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0gYXJlbid0IGF1dG9tYXRpY2FsbHkgc3RvcHBlZC5cbiAgICAgICAqIFRoaXMgbGVhZHMgdG8gYSBzaXR1YXRpb24gd2hlcmUgdGhlIGNhbWVyYSBpbmRpY2F0b3IgbGlnaHQgaXMgc3RpbGwgb25cbiAgICAgICAqIGV2ZW4gdGhvdWdoIHRoZSB1c2VyIHN0b3BwZWQgcHVibGlzaGluZyB2aWRlby5cbiAgICAgICAqXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIHdvcmtzIGFyb3VuZCB0aGlzIGlzc3VlIGJ5IHN0b3BwaW5nIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0ncyB0cmFja3NcbiAgICAgICAqIGFzIHdlbGwgb25jZSB0aGUgY2hpbGQgZmlsdGVyJ3MgdHJhY2tzIGFyZSBzdG9wcGVkLlxuICAgICAgICpcbiAgICAgICAqIEl0IHdvcmtzIGJ5IHBhdGNoaW5nIHRoZSBzdG9wKCkgbWV0aG9kIG9mIHRoZSBjaGlsZCBmaWx0ZXIncyB0cmFja3MgdG8gYWxzbyBzdG9wXG4gICAgICAgKiB0aGUgcGFyZW50IE1lZGlhU3RyZWFtJ3MgdHJhY2tzIG9mIHRoZSBzYW1lIHR5cGUuIEhlcmUgd2UgYXNzdW1lIHRoYXRcbiAgICAgICAqIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0gaGFzIG9ubHkgb25lIHRyYWNrIG9mIGVhY2ggdHlwZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gcGFyZW50U3RyZWFtIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0uIE9taXQgZm9yIHRoZSByb290IHN0cmVhbS5cbiAgICAgICAqL1xuICAgICAgY29uc3QgY2hhaW5XaXRoID1cbiAgICAgICAgKHBhcmVudFN0cmVhbT86IFByb21pc2U8TWVkaWFTdHJlYW0+KSA9PlxuICAgICAgICBhc3luYyAoZmlsdGVyU3RyZWFtOiBNZWRpYVN0cmVhbSk6IFByb21pc2U8TWVkaWFTdHJlYW0+ID0+IHtcbiAgICAgICAgICBpZiAoIXBhcmVudFN0cmVhbSkgcmV0dXJuIGZpbHRlclN0cmVhbTtcbiAgICAgICAgICAvLyBUT0RPIE9MOiB0YWtlIGNhcmUgb2YgdHJhY2suZW5hYmxlZCBwcm9wZXJ0eSBhcyB3ZWxsXG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gYXdhaXQgcGFyZW50U3RyZWFtO1xuICAgICAgICAgIGZpbHRlclN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gdHJhY2suc3RvcDtcbiAgICAgICAgICAgIHRyYWNrLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICAgICAgICBvcmlnaW5hbFN0b3AuY2FsbCh0cmFjayk7XG4gICAgICAgICAgICAgIHBhcmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKChwYXJlbnRUcmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFjay5raW5kID09PSB0cmFjay5raW5kKSB7XG4gICAgICAgICAgICAgICAgICBwYXJlbnRUcmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBwYXJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgocGFyZW50VHJhY2spID0+IHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHBhcmVudCBzdHJlYW0gYWJydXB0bHkgZW5kcywgd2UgcHJvcGFnYXRlIHRoZSBldmVudFxuICAgICAgICAgICAgLy8gdG8gdGhlIGZpbHRlciBzdHJlYW0uXG4gICAgICAgICAgICAvLyBUaGlzIHVzdWFsbHkgaGFwcGVucyB3aGVuIHRoZSBjYW1lcmEvbWljcm9waG9uZSBwZXJtaXNzaW9uc1xuICAgICAgICAgICAgLy8gYXJlIHJldm9rZWQgb3Igd2hlbiB0aGUgZGV2aWNlIGlzIGRpc2Nvbm5lY3RlZC5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVBhcmVudFRyYWNrRW5kZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGZpbHRlclN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFjay5raW5kICE9PSB0cmFjay5raW5kKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRyYWNrLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdlbmRlZCcpKTsgLy8gcHJvcGFnYXRlIHRoZSBldmVudFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwYXJlbnRUcmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVBhcmVudFRyYWNrRW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICBwYXJlbnRUcmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVBhcmVudFRyYWNrRW5kZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gZmlsdGVyU3RyZWFtO1xuICAgICAgICB9O1xuXG4gICAgICAvLyB0aGUgcm9vdFN0cmVhbSByZXByZXNlbnRzIHRoZSBzdHJlYW0gY29taW5nIGZyb20gdGhlIGFjdHVhbCBkZXZpY2VcbiAgICAgIC8vIGUuZy4gY2FtZXJhIG9yIG1pY3JvcGhvbmUgc3RyZWFtXG4gICAgICByb290U3RyZWFtID0gdGhpcy5nZXRTdHJlYW0oY29uc3RyYWludHMgYXMgQyk7XG4gICAgICAvLyB3ZSBwdWJsaXNoIHRoZSBsYXN0IE1lZGlhU3RyZWFtIG9mIHRoZSBjaGFpblxuICAgICAgc3RyZWFtID0gYXdhaXQgdGhpcy5maWx0ZXJzLnJlZHVjZShcbiAgICAgICAgKHBhcmVudCwgZW50cnkpID0+XG4gICAgICAgICAgcGFyZW50XG4gICAgICAgICAgICAudGhlbigoaW5wdXRTdHJlYW0pID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgeyBzdG9wLCBvdXRwdXQgfSA9IGVudHJ5LnN0YXJ0KGlucHV0U3RyZWFtKTtcbiAgICAgICAgICAgICAgZW50cnkuc3RvcCA9IHN0b3A7XG4gICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oY2hhaW5XaXRoKHBhcmVudCksIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICAgJ0ZpbHRlciBmYWlsZWQgdG8gc3RhcnQgYW5kIHdpbGwgYmUgaWdub3JlZCcsXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgcm9vdFN0cmVhbSxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSB7XG4gICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hTdHJlYW0oc3RyZWFtKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUubWVkaWFTdHJlYW0gIT09IHN0cmVhbSkge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRNZWRpYVN0cmVhbShzdHJlYW0sIGF3YWl0IHJvb3RTdHJlYW0pO1xuICAgICAgY29uc3QgaGFuZGxlVHJhY2tFbmRlZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IHRydWU7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IGZhbHNlO1xuICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgIGF3YWl0IHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgY3JlYXRlVHJhY2tNdXRlSGFuZGxlciA9IChtdXRlZDogYm9vbGVhbikgPT4gKCkgPT4ge1xuICAgICAgICB0aGlzLmNhbGwubm90aWZ5VHJhY2tNdXRlU3RhdGUobXV0ZWQsIHRoaXMudHJhY2tUeXBlKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRXJyb3Igd2hpbGUgbm90aWZ5aW5nIHRyYWNrIG11dGUgc3RhdGUnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgY29uc3QgbXV0ZUhhbmRsZXIgPSBjcmVhdGVUcmFja011dGVIYW5kbGVyKHRydWUpO1xuICAgICAgICBjb25zdCB1bm11dGVIYW5kbGVyID0gY3JlYXRlVHJhY2tNdXRlSGFuZGxlcihmYWxzZSk7XG4gICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ211dGUnLCBtdXRlSGFuZGxlcik7XG4gICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsIHVubXV0ZUhhbmRsZXIpO1xuICAgICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVRyYWNrRW5kZWQpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignbXV0ZScsIG11dGVIYW5kbGVyKTtcbiAgICAgICAgICB0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCd1bm11dGUnLCB1bm11dGVIYW5kbGVyKTtcbiAgICAgICAgICB0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVRyYWNrRW5kZWQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0IG1lZGlhRGV2aWNlS2luZCgpIHtcbiAgICBpZiAodGhpcy50cmFja1R5cGUgPT09IFRyYWNrVHlwZS5BVURJTykge1xuICAgICAgcmV0dXJuICdhdWRpb2lucHV0JztcbiAgICB9XG4gICAgaWYgKHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU8pIHtcbiAgICAgIHJldHVybiAndmlkZW9pbnB1dCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRGlzY29ubmVjdGVkT3JSZXBsYWNlZERldmljZXMoKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoW1xuICAgICAgICAgIGRldmljZUlkcyQhLnBpcGUocGFpcndpc2UoKSksXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSQsXG4gICAgICAgIF0pLFxuICAgICAgICBhc3luYyAoW1twcmV2RGV2aWNlcywgY3VycmVudERldmljZXNdLCBkZXZpY2VJZF0pID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFkZXZpY2VJZCkgcmV0dXJuO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG5cbiAgICAgICAgICAgIGxldCBpc0RldmljZURpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGlzRGV2aWNlUmVwbGFjZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREZXZpY2UgPSB0aGlzLmZpbmREZXZpY2UoY3VycmVudERldmljZXMsIGRldmljZUlkKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZEZXZpY2UgPSB0aGlzLmZpbmREZXZpY2UocHJldkRldmljZXMsIGRldmljZUlkKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudERldmljZSAmJiBwcmV2RGV2aWNlKSB7XG4gICAgICAgICAgICAgIGlzRGV2aWNlRGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2UgJiZcbiAgICAgICAgICAgICAgcHJldkRldmljZSAmJlxuICAgICAgICAgICAgICBjdXJyZW50RGV2aWNlLmRldmljZUlkID09PSBwcmV2RGV2aWNlLmRldmljZUlkICYmXG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2UuZ3JvdXBJZCAhPT0gcHJldkRldmljZS5ncm91cElkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaXNEZXZpY2VSZXBsYWNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0RldmljZURpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZWxlY3QodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0RldmljZVJlcGxhY2VkKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3RhdHVzID09PSAnZGlzYWJsZWQnXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgICAnVW5leHBlY3RlZCBlcnJvciB3aGlsZSBoYW5kbGluZyBkaXNjb25uZWN0ZWQgb3IgcmVwbGFjZWQgZGV2aWNlJyxcbiAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGZpbmREZXZpY2UoZGV2aWNlczogTWVkaWFEZXZpY2VJbmZvW10sIGRldmljZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBraW5kID0gdGhpcy5tZWRpYURldmljZUtpbmQ7XG4gICAgcmV0dXJuIGRldmljZXMuZmluZCgoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQgJiYgZC5raW5kID09PSBraW5kKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQmVoYXZpb3JTdWJqZWN0LFxuICBkaXN0aW5jdFVudGlsQ2hhbmdlZCxcbiAgT2JzZXJ2YWJsZSxcbiAgb2YsXG4gIHNoYXJlUmVwbGF5LFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4VXRpbHMgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBCcm93c2VyUGVybWlzc2lvbiB9IGZyb20gJy4vQnJvd3NlclBlcm1pc3Npb24nO1xuXG5leHBvcnQgdHlwZSBJbnB1dERldmljZVN0YXR1cyA9ICdlbmFibGVkJyB8ICdkaXNhYmxlZCcgfCB1bmRlZmluZWQ7XG5leHBvcnQgdHlwZSBUcmFja0Rpc2FibGVNb2RlID0gJ3N0b3AtdHJhY2tzJyB8ICdkaXNhYmxlLXRyYWNrcyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlPEMgPSBNZWRpYVRyYWNrQ29uc3RyYWludHM+IHtcbiAgcHJvdGVjdGVkIHN0YXR1c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PElucHV0RGV2aWNlU3RhdHVzPih1bmRlZmluZWQpO1xuICBwcm90ZWN0ZWQgb3B0aW1pc3RpY1N0YXR1c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PElucHV0RGV2aWNlU3RhdHVzPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByb3RlY3RlZCBtZWRpYVN0cmVhbVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByb3RlY3RlZCBzZWxlY3RlZERldmljZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZyB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcm90ZWN0ZWQgZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8QyB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByZXZTdGF0dXM6IElucHV0RGV2aWNlU3RhdHVzO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnQgbWVkaWEgc3RyZWFtLCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgZGV2aWNlIGlzIGN1cnJlbnRseSBkaXNhYmxlZC5cbiAgICpcbiAgICovXG4gIG1lZGlhU3RyZWFtJCA9IHRoaXMubWVkaWFTdHJlYW1TdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICovXG4gIHNlbGVjdGVkRGV2aWNlJCA9IHRoaXMuc2VsZWN0ZWREZXZpY2VTdWJqZWN0XG4gICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgZGV2aWNlIHN0YXR1c1xuICAgKi9cbiAgc3RhdHVzJCA9IHRoaXMuc3RhdHVzU3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoZSByZWZsZWN0cyB0aGUgcmVxdWVzdGVkIGRldmljZSBzdGF0dXMuIFVzZWZ1bCBmb3Igb3B0aW1pc3RpYyBVSXNcbiAgICovXG4gIG9wdGltaXN0aWNTdGF0dXMkID0gdGhpcy5vcHRpbWlzdGljU3RhdHVzU3ViamVjdFxuICAgIC5hc09ic2VydmFibGUoKVxuICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICovXG4gIGRlZmF1bHRDb25zdHJhaW50cyQgPSB0aGlzLmRlZmF1bHRDb25zdHJhaW50c1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgLyoqXG4gICAqIEFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGVtaXQgYHRydWVgIGlmIGJyb3dzZXIvc3lzdGVtIHBlcm1pc3Npb25cbiAgICogaXMgZ3JhbnRlZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqL1xuICBoYXNCcm93c2VyUGVybWlzc2lvbiQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgbmV3IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBkaXNhYmxlTW9kZSB0aGUgZGlzYWJsZSBtb2RlIHRvIHVzZS5cbiAgICogQHBhcmFtIHBlcm1pc3Npb24gdGhlIEJyb3dzZXJQZXJtaXNzaW9uIHRvIHVzZSBmb3IgcXVlcnlpbmcuXG4gICAqIGB1bmRlZmluZWRgIG1lYW5zIG5vIHBlcm1pc3Npb24gaXMgcmVxdWlyZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUgPSAnc3RvcC10cmFja3MnLFxuICAgIHBlcm1pc3Npb24/OiBCcm93c2VyUGVybWlzc2lvbixcbiAgKSB7XG4gICAgdGhpcy5oYXNCcm93c2VyUGVybWlzc2lvbiQgPSBwZXJtaXNzaW9uXG4gICAgICA/IHBlcm1pc3Npb24uYXNPYnNlcnZhYmxlKCkucGlwZShzaGFyZVJlcGxheSgxKSlcbiAgICAgIDogb2YodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRldmljZSBzdGF0dXNcbiAgICovXG4gIGdldCBzdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc3RhdHVzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHJlcXVlc3RlZCBkZXZpY2Ugc3RhdHVzLiBVc2VmdWwgZm9yIG9wdGltaXN0aWMgVUlzXG4gICAqL1xuICBnZXQgb3B0aW1pc3RpY1N0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5vcHRpbWlzdGljU3RhdHVzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICovXG4gIGdldCBzZWxlY3RlZERldmljZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IG1lZGlhIHN0cmVhbSwgb3IgYHVuZGVmaW5lZGAgaWYgdGhlIGRldmljZSBpcyBjdXJyZW50bHkgZGlzYWJsZWQuXG4gICAqL1xuICBnZXQgbWVkaWFTdHJlYW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubWVkaWFTdHJlYW0kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGFuIG9ic2VydmFibGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgb2JzZXJ2YWJsZSBoYXNcbiAgICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdGF0dXNcbiAgICovXG4gIHNldFN0YXR1cyhzdGF0dXM6IElucHV0RGV2aWNlU3RhdHVzKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zdGF0dXNTdWJqZWN0LCBzdGF0dXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gcGVuZGluZ1N0YXR1c1xuICAgKi9cbiAgc2V0UGVuZGluZ1N0YXR1cyhwZW5kaW5nU3RhdHVzOiBJbnB1dERldmljZVN0YXR1cykge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMub3B0aW1pc3RpY1N0YXR1c1N1YmplY3QsIHBlbmRpbmdTdGF0dXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGBtZWRpYVN0cmVhbWAgc3RhdGUgdmFyaWFibGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc3RyZWFtIHRoZSBzdHJlYW0gdG8gc2V0LlxuICAgKiBAcGFyYW0gcm9vdFN0cmVhbSB0aGUgcm9vdCBzdHJlYW0sIGFwcGxpY2FibGUgd2hlbiBmaWx0ZXJzIGFyZSB1c2VkXG4gICAqIGFzIHRoaXMgaXMgdGhlIHN0cmVhbSB0aGF0IGhvbGRzIHRoZSBhY3R1YWwgZGV2aWNlSWQgaW5mb3JtYXRpb24uXG4gICAqL1xuICBzZXRNZWRpYVN0cmVhbShcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICAgIHJvb3RTdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICApIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lZGlhU3RyZWFtU3ViamVjdCwgc3RyZWFtKTtcbiAgICBpZiAocm9vdFN0cmVhbSkge1xuICAgICAgdGhpcy5zZXREZXZpY2UodGhpcy5nZXREZXZpY2VJZEZyb21TdHJlYW0ocm9vdFN0cmVhbSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGRldmljZUlkIHRoZSBkZXZpY2UgaWQgdG8gc2V0LlxuICAgKi9cbiAgc2V0RGV2aWNlKGRldmljZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNlbGVjdGVkRGV2aWNlU3ViamVjdCwgZGV2aWNlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRlZmF1bHQgY29uc3RyYWludHMgZm9yIHRoZSBkZXZpY2UuXG4gICAqL1xuICBnZXQgZGVmYXVsdENvbnN0cmFpbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmRlZmF1bHRDb25zdHJhaW50cyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGRlZmF1bHQgY29uc3RyYWludHMgZm9yIHRoZSBkZXZpY2UuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gY29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHNldC5cbiAgICovXG4gIHNldERlZmF1bHRDb25zdHJhaW50cyhjb25zdHJhaW50czogQyB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdCwgY29uc3RyYWludHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBTdWJqZWN0LlxuICAgKiBBbiBgdXBkYXRlYCBjYW4gZWl0aGVyIGJlIGEgbmV3IHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXNcbiAgICogdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc3ViamVjdCB0aGUgc3ViamVjdCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAgICogQHJldHVybiB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICovXG4gIHByb3RlY3RlZCBzZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZTtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKFxuICAgIHN0cmVhbTogTWVkaWFTdHJlYW0sXG4gICk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZGlzdGluY3RVbnRpbENoYW5nZWQsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL2RldmljZXMnO1xuXG5leHBvcnQgdHlwZSBDYW1lcmFEaXJlY3Rpb24gPSAnZnJvbnQnIHwgJ2JhY2snIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhTWFuYWdlclN0YXRlIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB7XG4gIHByaXZhdGUgZGlyZWN0aW9uU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2FtZXJhRGlyZWN0aW9uPih1bmRlZmluZWQpO1xuXG4gIC8qKlxuICAgKiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHByZWZlcnJlZCBjYW1lcmEgZGlyZWN0aW9uXG4gICAqIGZyb250IC0gbWVhbnMgdGhlIGNhbWVyYSBmYWNpbmcgdGhlIHVzZXJcbiAgICogYmFjayAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSBlbnZpcm9ubWVudFxuICAgKi9cbiAgZGlyZWN0aW9uJDogT2JzZXJ2YWJsZTxDYW1lcmFEaXJlY3Rpb24+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdG9wLXRyYWNrcycsIGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24oKSk7XG4gICAgdGhpcy5kaXJlY3Rpb24kID0gdGhpcy5kaXJlY3Rpb25TdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgY2FtZXJhIGRpcmVjdGlvblxuICAgKiBmcm9udCAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSB1c2VyXG4gICAqIGJhY2sgLSBtZWFucyB0aGUgY2FtZXJhIGZhY2luZyB0aGUgZW52aXJvbm1lbnRcbiAgICovXG4gIGdldCBkaXJlY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZGlyZWN0aW9uJCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXREaXJlY3Rpb24oZGlyZWN0aW9uOiBDYW1lcmFEaXJlY3Rpb24pIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmRpcmVjdGlvblN1YmplY3QsIGRpcmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRNZWRpYVN0cmVhbShcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICAgIHJvb3RTdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5zZXRNZWRpYVN0cmVhbShzdHJlYW0sIHJvb3RTdHJlYW0pO1xuICAgIGlmIChzdHJlYW0pIHtcbiAgICAgIC8vIFJOIGdldFNldHRpbmdzKCkgZG9lc24ndCByZXR1cm4gZmFjaW5nTW9kZSwgc28gd2UgZG9uJ3QgdmVyaWZ5IGNhbWVyYSBkaXJlY3Rpb25cbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGlzUmVhY3ROYXRpdmUoKVxuICAgICAgICA/IHRoaXMuZGlyZWN0aW9uXG4gICAgICAgIDogc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0/LmdldFNldHRpbmdzKCkuZmFjaW5nTW9kZSA9PT0gJ2Vudmlyb25tZW50J1xuICAgICAgICAgID8gJ2JhY2snXG4gICAgICAgICAgOiAnZnJvbnQnO1xuICAgICAgdGhpcy5zZXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcbiAgICByZXR1cm4gdHJhY2s/LmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gIH1cbn1cbiIsIi8qKlxuICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHBsYXRmb3JtIGlzIGEgbW9iaWxlIGRldmljZS5cbiAqXG4gKiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0Jyb3dzZXJfZGV0ZWN0aW9uX3VzaW5nX3RoZV91c2VyX2FnZW50XG4gKi9cbmV4cG9ydCBjb25zdCBpc01vYmlsZSA9ICgpID0+IC9Nb2JpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbWVyYURpcmVjdGlvbiwgQ2FtZXJhTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9DYW1lcmFNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyJztcbmltcG9ydCB7IGdldFZpZGVvRGV2aWNlcywgZ2V0VmlkZW9TdHJlYW0gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgT3duQ2FwYWJpbGl0eSwgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlIH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4uL2hlbHBlcnMvY29tcGF0aWJpbGl0eSc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhTWFuYWdlciBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPENhbWVyYU1hbmFnZXJTdGF0ZT4ge1xuICBwcml2YXRlIHRhcmdldFJlc29sdXRpb24gPSB7XG4gICAgd2lkdGg6IDEyODAsXG4gICAgaGVpZ2h0OiA3MjAsXG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ2FtZXJhTWFuYWdlci5cbiAgICpcbiAgICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYWxsOiBDYWxsKSB7XG4gICAgc3VwZXIoY2FsbCwgbmV3IENhbWVyYU1hbmFnZXJTdGF0ZSgpLCBUcmFja1R5cGUuVklERU8pO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0RpcmVjdGlvblN1cHBvcnRlZEJ5RGV2aWNlKCkge1xuICAgIHJldHVybiBpc1JlYWN0TmF0aXZlKCkgfHwgaXNNb2JpbGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3QgdGhlIGNhbWVyYSBkaXJlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBkaXJlY3Rpb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgY2FtZXJhIHRvIHNlbGVjdC5cbiAgICovXG4gIGFzeW5jIHNlbGVjdERpcmVjdGlvbihkaXJlY3Rpb246IEV4Y2x1ZGU8Q2FtZXJhRGlyZWN0aW9uLCB1bmRlZmluZWQ+KSB7XG4gICAgaWYgKHRoaXMuaXNEaXJlY3Rpb25TdXBwb3J0ZWRCeURldmljZSgpKSB7XG4gICAgICB0aGlzLnN0YXRlLnNldERpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgICAgLy8gUHJvdmlkaW5nIGJvdGggZGV2aWNlIGlkIGFuZCBkaXJlY3Rpb24gZG9lc24ndCB3b3JrLCBzbyB3ZSBkZXNlbGVjdCB0aGUgZGV2aWNlXG4gICAgICB0aGlzLnN0YXRlLnNldERldmljZSh1bmRlZmluZWQpO1xuICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnQ2FtZXJhIGRpcmVjdGlvbiBpZ25vcmVkIGZvciBkZXNrdG9wIGRldmljZXMnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmxpcHMgdGhlIGNhbWVyYSBkaXJlY3Rpb246IGlmIGl0J3MgZnJvbnQgaXQgd2lsbCBjaGFuZ2UgdG8gYmFjaywgaWYgaXQncyBiYWNrLCBpdCB3aWxsIGNoYW5nZSB0byBmcm9udC5cbiAgICpcbiAgICogTm90ZTogaWYgdGhlcmUgaXMgbm8gYXZhaWxhYmxlIGNhbWVyYSB3aXRoIHRoZSBkZXNpcmVkIGRpcmVjdGlvbiwgdGhpcyBtZXRob2Qgd2lsbCBkbyBub3RoaW5nLlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgYXN5bmMgZmxpcCgpIHtcbiAgICBjb25zdCBuZXdEaXJlY3Rpb24gPSB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gJ2Zyb250JyA/ICdiYWNrJyA6ICdmcm9udCc7XG4gICAgYXdhaXQgdGhpcy5zZWxlY3REaXJlY3Rpb24obmV3RGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIHNlbGVjdFRhcmdldFJlc29sdXRpb24ocmVzb2x1dGlvbjogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9KSB7XG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uLmhlaWdodCA9IHJlc29sdXRpb24uaGVpZ2h0O1xuICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aCA9IHJlc29sdXRpb24ud2lkdGg7XG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIGNvdWxkbid0IGVuYWJsZSBkZXZpY2UsIHRhcmdldCByZXNvbHV0aW9uIHdpbGwgYmUgYXBwbGllZCB0aGUgbmV4dCB0aW1lIHVzZXIgYXR0ZW1wdHMgdG8gc3RhcnQgdGhlIGRldmljZVxuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdjb3VsZCBub3QgYXBwbHkgdGFyZ2V0IHJlc29sdXRpb24nLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmVuYWJsZWQgJiYgdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSkge1xuICAgICAgY29uc3QgW3ZpZGVvVHJhY2tdID0gdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuICAgICAgaWYgKCF2aWRlb1RyYWNrKSByZXR1cm47XG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgIGlmIChcbiAgICAgICAgd2lkdGggIT09IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aCB8fFxuICAgICAgICBoZWlnaHQgIT09IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi5oZWlnaHRcbiAgICAgICkge1xuICAgICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgIGAke3dpZHRofXgke2hlaWdodH0gdGFyZ2V0IHJlc29sdXRpb24gYXBwbGllZCB0byBtZWRpYSBzdHJlYW1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSB2aWRlbyBzZXR0aW5ncyB0byB0aGUgY2FtZXJhLlxuICAgKlxuICAgKiBAcGFyYW0gc2V0dGluZ3MgdGhlIHZpZGVvIHNldHRpbmdzIHRvIGFwcGx5LlxuICAgKiBAcGFyYW0gcHVibGlzaCB3aGV0aGVyIHRvIHB1Ymxpc2ggdGhlIHN0cmVhbSBhZnRlciBhcHBseWluZyB0aGUgc2V0dGluZ3MuXG4gICAqL1xuICBhc3luYyBhcHBseShzZXR0aW5nczogVmlkZW9TZXR0aW5nc1Jlc3BvbnNlLCBwdWJsaXNoOiBib29sZWFuKSB7XG4gICAgY29uc3QgaGFzUHVibGlzaGVkVmlkZW8gPSAhIXRoaXMuY2FsbC5zdGF0ZS5sb2NhbFBhcnRpY2lwYW50Py52aWRlb1N0cmVhbTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gdGhpcy5jYWxsLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKFxuICAgICAgT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPLFxuICAgICk7XG4gICAgaWYgKGhhc1B1Ymxpc2hlZFZpZGVvIHx8ICFoYXNQZXJtaXNzaW9uKSByZXR1cm47XG5cbiAgICAvLyBXYWl0IGZvciBhbnkgaW4gcHJvZ3Jlc3MgY2FtZXJhIG9wZXJhdGlvblxuICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuXG4gICAgY29uc3QgeyB0YXJnZXRfcmVzb2x1dGlvbiwgY2FtZXJhX2ZhY2luZywgY2FtZXJhX2RlZmF1bHRfb24gfSA9IHNldHRpbmdzO1xuICAgIGF3YWl0IHRoaXMuc2VsZWN0VGFyZ2V0UmVzb2x1dGlvbih0YXJnZXRfcmVzb2x1dGlvbik7XG5cbiAgICAvLyBTZXQgY2FtZXJhIGRpcmVjdGlvbiBpZiBpdCdzIG5vdCB5ZXQgc2V0XG4gICAgaWYgKCF0aGlzLnN0YXRlLmRpcmVjdGlvbiAmJiAhdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSkge1xuICAgICAgdGhpcy5zdGF0ZS5zZXREaXJlY3Rpb24oY2FtZXJhX2ZhY2luZyA9PT0gJ2Zyb250JyA/ICdmcm9udCcgOiAnYmFjaycpO1xuICAgIH1cblxuICAgIGlmICghcHVibGlzaCkgcmV0dXJuO1xuXG4gICAgY29uc3QgeyBtZWRpYVN0cmVhbSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAodGhpcy5lbmFibGVkICYmIG1lZGlhU3RyZWFtKSB7XG4gICAgICAvLyBUaGUgY2FtZXJhIGlzIGFscmVhZHkgZW5hYmxlZCAoZS5nLiBsb2JieSBzY3JlZW4pLiBQdWJsaXNoIHRoZSBzdHJlYW1cbiAgICAgIGF3YWl0IHRoaXMucHVibGlzaFN0cmVhbShtZWRpYVN0cmVhbSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkICYmIGNhbWVyYV9kZWZhdWx0X29uKSB7XG4gICAgICAvLyBTdGFydCBjYW1lcmEgaWYgYmFja2VuZCBjb25maWcgc3BlY2lmaWVzLCBhbmQgdGhlcmUgaXMgbm8gbG9jYWwgc2V0dGluZ1xuICAgICAgYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlcygpOiBPYnNlcnZhYmxlPE1lZGlhRGV2aWNlSW5mb1tdPiB7XG4gICAgcmV0dXJuIGdldFZpZGVvRGV2aWNlcygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFN0cmVhbShcbiAgICBjb25zdHJhaW50czogTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuICApOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB7XG4gICAgY29uc3RyYWludHMud2lkdGggPSB0aGlzLnRhcmdldFJlc29sdXRpb24ud2lkdGg7XG4gICAgY29uc3RyYWludHMuaGVpZ2h0ID0gdGhpcy50YXJnZXRSZXNvbHV0aW9uLmhlaWdodDtcbiAgICAvLyBXZSBjYW4ndCBzZXQgYm90aCBkZXZpY2UgaWQgYW5kIGZhY2luZyBtb2RlXG4gICAgLy8gRGV2aWNlIGlkIGhhcyBoaWdoZXIgcHJpb3JpdHlcblxuICAgIGlmIChcbiAgICAgICFjb25zdHJhaW50cy5kZXZpY2VJZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5kaXJlY3Rpb24gJiZcbiAgICAgIHRoaXMuaXNEaXJlY3Rpb25TdXBwb3J0ZWRCeURldmljZSgpXG4gICAgKSB7XG4gICAgICBjb25zdHJhaW50cy5mYWNpbmdNb2RlID1cbiAgICAgICAgdGhpcy5zdGF0ZS5kaXJlY3Rpb24gPT09ICdmcm9udCcgPyAndXNlcicgOiAnZW52aXJvbm1lbnQnO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0VmlkZW9TdHJlYW0oY29uc3RyYWludHMpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1xuICBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlLFxuICBUcmFja0Rpc2FibGVNb2RlLFxufSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbiB9IGZyb20gJy4vZGV2aWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBNaWNyb3Bob25lTWFuYWdlclN0YXRlIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB7XG4gIHByaXZhdGUgc3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYHRydWVgIGlmIHRoZSB1c2VyJ3MgbWljcm9waG9uZSBpcyBtdXRlZCBidXQgdGhleSdhcmUgc3BlYWtpbmcuXG4gICAqXG4gICAqIFRoaXMgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBSZWFjdCBOYXRpdmUgU0RLLlxuICAgKi9cbiAgc3BlYWtpbmdXaGlsZU11dGVkJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICBjb25zdHJ1Y3RvcihkaXNhYmxlTW9kZTogVHJhY2tEaXNhYmxlTW9kZSkge1xuICAgIHN1cGVyKGRpc2FibGVNb2RlLCBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uKCkpO1xuXG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWQkID0gdGhpcy5zcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIGB0cnVlYCBpZiB0aGUgdXNlcidzIG1pY3JvcGhvbmUgaXMgbXV0ZWQgYnV0IHRoZXknYXJlIHNwZWFraW5nLlxuICAgKlxuICAgKiBUaGlzIGZlYXR1cmUgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgUmVhY3QgTmF0aXZlIFNESy5cbiAgICovXG4gIGdldCBzcGVha2luZ1doaWxlTXV0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkJCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRTcGVha2luZ1doaWxlTXV0ZWQoaXNTcGVha2luZzogYm9vbGVhbikge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdCwgaXNTcGVha2luZyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcbiAgICByZXR1cm4gdHJhY2s/LmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gIH1cbn1cbiIsImV4cG9ydCB0eXBlIFNvdW5kRGV0ZWN0b3JPcHRpb25zID0ge1xuICAvKipcbiAgICogRGVmaW5lcyBob3cgb2Z0ZW4gdGhlIGRldGVjdG9yIHNob3VsZCBjaGVjayB3aGV0aGVyIGEgc291bmQgaXMgcHJlc2VudC5cbiAgICogRGVmYXVsdHMgdG8gNTAwbXMuXG4gICAqL1xuICBkZXRlY3Rpb25GcmVxdWVuY3lJbk1zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBhdWRpbyBsZXZlbCB0aHJlc2hvbGQgYmVmb3JlIGEgXCJjaGFuZ2VcIiBpcyBlbWl0dGVkLlxuICAgKiBEZWZhdWx0cyB0byAxNTAuIFRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSBvZiAwLTI1NS5cbiAgICovXG4gIGF1ZGlvTGV2ZWxUaHJlc2hvbGQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL3dlYi9hcGkvYW5hbHlzZXJub2RlL2ZmdHNpemVcbiAgICpcbiAgICogRGVmYXVsdHMgdG8gMTI4LlxuICAgKi9cbiAgZmZ0U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmaW5lcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBhdWRpbyBzdHJlYW0gc2hvdWxkIGJlIHN0b3BwZWQgKGRlc3Ryb3llZClcbiAgICogd2hlbiB0aGUgc291bmQgZGV0ZWN0b3IgaXMgc3RvcHBlZC5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKi9cbiAgZGVzdHJveVN0cmVhbU9uU3RvcD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBTb3VuZERldGVjdG9yU3RhdGUgPSB7XG4gIGlzU291bmREZXRlY3RlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJlcHJlc2VudGVkIGFzIHBlcmNlbnRhZ2UgKDAtMTAwKSB3aGVyZSAxMDAlIGlzIGRlZmluZWQgYnkgYGF1ZGlvTGV2ZWxUaHJlc2hvbGRgIHByb3BlcnR5LlxuICAgKiBEZWNyZWFzZSB0aW1lIGJldHdlZW4gc2FtcGxlcyAodG8gNTAtMTAwbXMpIHdpdGggYGRldGVjdGlvbkZyZXF1ZW5jeUluTXNgIHByb3BlcnR5LlxuICAgKi9cbiAgYXVkaW9MZXZlbDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIgPSAoc3RhdGU6IFNvdW5kRGV0ZWN0b3JTdGF0ZSkgPT4gdm9pZDtcblxuY29uc3QgREVURUNUSU9OX0ZSRVFVRU5DWV9JTl9NUyA9IDUwMDtcbmNvbnN0IEFVRElPX0xFVkVMX1RIUkVTSE9MRCA9IDE1MDtcbmNvbnN0IEZGVF9TSVpFID0gMTI4O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc291bmQgZGV0ZWN0b3IuXG4gKlxuICogQHBhcmFtIGF1ZGlvU3RyZWFtIHRoZSBhdWRpbyBzdHJlYW0gdG8gb2JzZXJ2ZS4gRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBjb25maWd1cmF0aW9uLCB0aGlzIHN0cmVhbSBtaWdodCBiZSBkZXN0cm95ZWQgd2hlbiB0aGUgc291bmQgZGV0ZWN0b3IgaXMgc3RvcHBlZC5cbiAqIEBwYXJhbSBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQgYSBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgd2hlbiB0aGUgc291bmQgc3RhdGUgY2hhbmdlcy5cbiAqIEBwYXJhbSBvcHRpb25zIGN1c3RvbSBvcHRpb25zIGZvciB0aGUgc291bmQgZGV0ZWN0b3IuXG4gKiBAcmV0dXJucyBhIGNsZWFuLXVwIGZ1bmN0aW9uIHdoaWNoIG9uY2UgaW52b2tlZCBzdG9wcyB0aGUgc291bmQgZGV0ZWN0b3IuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTb3VuZERldGVjdG9yID0gKFxuICBhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW0sXG4gIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZDogU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIsXG4gIG9wdGlvbnM6IFNvdW5kRGV0ZWN0b3JPcHRpb25zID0ge30sXG4pID0+IHtcbiAgY29uc3Qge1xuICAgIGRldGVjdGlvbkZyZXF1ZW5jeUluTXMgPSBERVRFQ1RJT05fRlJFUVVFTkNZX0lOX01TLFxuICAgIGF1ZGlvTGV2ZWxUaHJlc2hvbGQgPSBBVURJT19MRVZFTF9USFJFU0hPTEQsXG4gICAgZmZ0U2l6ZSA9IEZGVF9TSVpFLFxuICAgIGRlc3Ryb3lTdHJlYW1PblN0b3AgPSB0cnVlLFxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gIGFuYWx5c2VyLmZmdFNpemUgPSBmZnRTaXplO1xuXG4gIGNvbnN0IG1pY3JvcGhvbmUgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoYXVkaW9TdHJlYW0pO1xuICBtaWNyb3Bob25lLmNvbm5lY3QoYW5hbHlzZXIpO1xuXG4gIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcbiAgICBhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShkYXRhKTtcblxuICAgIGNvbnN0IGlzU291bmREZXRlY3RlZCA9IGRhdGEuc29tZSgodmFsdWUpID0+IHZhbHVlID49IGF1ZGlvTGV2ZWxUaHJlc2hvbGQpO1xuXG4gICAgY29uc3QgYXZlcmFnZWREYXRhVmFsdWUgPSBkYXRhLnJlZHVjZSgocHYsIGN2KSA9PiBwdiArIGN2LCAwKSAvIGRhdGEubGVuZ3RoO1xuXG4gICAgY29uc3QgcGVyY2VudGFnZSA9XG4gICAgICBhdmVyYWdlZERhdGFWYWx1ZSA+IGF1ZGlvTGV2ZWxUaHJlc2hvbGRcbiAgICAgICAgPyAxMDBcbiAgICAgICAgOiBNYXRoLnJvdW5kKChhdmVyYWdlZERhdGFWYWx1ZSAvIGF1ZGlvTGV2ZWxUaHJlc2hvbGQpICogMTAwKTtcblxuICAgIC8vIFdoZW4gdGhlIHRyYWNrIGlzIGRpc2FibGVkLCBpdCB0YWtlcyB0aW1lIGZvciB0aGUgYnVmZmVyIHRvIGVtcHR5XG4gICAgLy8gVGhpcyBjaGVjayB3aWxsIGVuc3VyZSB0aGF0IHdlIGRvbid0IHNlbmQgYW55dGhpbmcgaWYgdGhlIHRyYWNrIGlzIGRpc2FibGVkXG4gICAgaWYgKGF1ZGlvU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0/LmVuYWJsZWQpIHtcbiAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCh7IGlzU291bmREZXRlY3RlZCwgYXVkaW9MZXZlbDogcGVyY2VudGFnZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHsgaXNTb3VuZERldGVjdGVkOiBmYWxzZSwgYXVkaW9MZXZlbDogMCB9KTtcbiAgICB9XG4gIH0sIGRldGVjdGlvbkZyZXF1ZW5jeUluTXMpO1xuXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cbiAgICAvLyBjbGVhbi11cCB0aGUgQXVkaW9Db250ZXh0IGVsZW1lbnRzXG4gICAgbWljcm9waG9uZS5kaXNjb25uZWN0KCk7XG4gICAgYW5hbHlzZXIuZGlzY29ubmVjdCgpO1xuICAgIGlmIChhdWRpb0NvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICBhd2FpdCBhdWRpb0NvbnRleHQuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIHRoZSBzdHJlYW1cbiAgICBpZiAoZGVzdHJveVN0cmVhbU9uU3RvcCkge1xuICAgICAgYXVkaW9TdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICBhdWRpb1N0cmVhbS5yZW1vdmVUcmFjayh0cmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgQmFzZVN0YXRzIH0gZnJvbSAnLi4vc3RhdHMnO1xuaW1wb3J0IHsgU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIgfSBmcm9tICcuL3NvdW5kLWRldGVjdG9yJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuLi9zdGF0cy91dGlscyc7XG5cbmNvbnN0IEFVRElPX0xFVkVMX1RIUkVTSE9MRCA9IDAuMjtcblxuZXhwb3J0IGNsYXNzIFJOU3BlZWNoRGV0ZWN0b3Ige1xuICBwcml2YXRlIHBjMSA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbih7fSk7XG4gIHByaXZhdGUgcGMyID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHt9KTtcbiAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgc3BlZWNoIGRldGVjdGlvbi5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBzdGFydCgpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5jbGVhbnVwQXVkaW9TdHJlYW0oKTtcbiAgICAgIGNvbnN0IGF1ZGlvU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5hdWRpb1N0cmVhbSA9IGF1ZGlvU3RyZWFtO1xuXG4gICAgICB0aGlzLnBjMS5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBjMi5hZGRJY2VDYW5kaWRhdGUoXG4gICAgICAgICAgZS5jYW5kaWRhdGUgYXMgUlRDSWNlQ2FuZGlkYXRlSW5pdCB8IHVuZGVmaW5lZCxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wYzIuYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYzEuYWRkSWNlQ2FuZGlkYXRlKFxuICAgICAgICAgIGUuY2FuZGlkYXRlIGFzIFJUQ0ljZUNhbmRpZGF0ZUluaXQgfCB1bmRlZmluZWQsXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgYXVkaW9TdHJlYW1cbiAgICAgICAgLmdldFRyYWNrcygpXG4gICAgICAgIC5mb3JFYWNoKCh0cmFjaykgPT4gdGhpcy5wYzEuYWRkVHJhY2sodHJhY2ssIGF1ZGlvU3RyZWFtKSk7XG4gICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGMxLmNyZWF0ZU9mZmVyKHt9KTtcbiAgICAgIGF3YWl0IHRoaXMucGMyLnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgIGF3YWl0IHRoaXMucGMxLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpcy5wYzIuY3JlYXRlQW5zd2VyKCk7XG4gICAgICBhd2FpdCB0aGlzLnBjMS5zZXRSZW1vdGVEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgYXdhaXQgdGhpcy5wYzIuc2V0TG9jYWxEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgY29uc3QgYXVkaW9UcmFja3MgPSBhdWRpb1N0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xuICAgICAgLy8gV2UgbmVlZCB0byBtdXRlIHRoZSBhdWRpbyB0cmFjayBmb3IgdGhpcyB0ZW1wb3Jhcnkgc3RyZWFtLCBvciBlbHNlIHlvdSB3aWxsIGhlYXIgeW91cnNlbGYgdHdpY2Ugd2hpbGUgaW4gdGhlIGNhbGwuXG4gICAgICBhdWRpb1RyYWNrcy5mb3JFYWNoKCh0cmFjaykgPT4gKHRyYWNrLmVuYWJsZWQgPSBmYWxzZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnRXJyb3IgY29ubmVjdGluZyBhbmQgbmVnb3RpYXRpbmcgYmV0d2VlbiBQZWVyQ29ubmVjdGlvbnM6JyxcbiAgICAgICAgZXJyb3IsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgc3BlZWNoIGRldGVjdGlvbiBhbmQgcmVsZWFzZXMgYWxsIGFsbG9jYXRlZCByZXNvdXJjZXMuXG4gICAqL1xuICBwdWJsaWMgc3RvcCgpIHtcbiAgICB0aGlzLnBjMS5jbG9zZSgpO1xuICAgIHRoaXMucGMyLmNsb3NlKCk7XG4gICAgdGhpcy5jbGVhbnVwQXVkaW9TdHJlYW0oKTtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBtZXRob2QgdGhhdCBkZXRlY3RzIHRoZSBhdWRpbyBsZXZlbHMgYW5kIHJldHVybnMgdGhlIHN0YXR1cy5cbiAgICovXG4gIHB1YmxpYyBvblNwZWFraW5nRGV0ZWN0ZWRTdGF0ZUNoYW5nZShcbiAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQ6IFNvdW5kU3RhdGVDaGFuZ2VIYW5kbGVyLFxuICApIHtcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0cyA9IChhd2FpdCB0aGlzLnBjMS5nZXRTdGF0cygpKSBhcyBSVENTdGF0c1JlcG9ydDtcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGZsYXR0ZW4oc3RhdHMpO1xuICAgICAgLy8gQXVkaW8gbGV2ZWxzIGFyZSBwcmVzZW50IGluc2lkZSBzdGF0cyBvZiB0eXBlIGBtZWRpYS1zb3VyY2VgIGFuZCBvZiBraW5kIGBhdWRpb2BcbiAgICAgIGNvbnN0IGF1ZGlvTWVkaWFTb3VyY2VTdGF0cyA9IHJlcG9ydC5maW5kKFxuICAgICAgICAoc3RhdCkgPT5cbiAgICAgICAgICBzdGF0LnR5cGUgPT09ICdtZWRpYS1zb3VyY2UnICYmXG4gICAgICAgICAgKHN0YXQgYXMgUlRDUnRwU3RyZWFtU3RhdHMpLmtpbmQgPT09ICdhdWRpbycsXG4gICAgICApIGFzIEJhc2VTdGF0cztcbiAgICAgIGlmIChhdWRpb01lZGlhU291cmNlU3RhdHMpIHtcbiAgICAgICAgY29uc3QgeyBhdWRpb0xldmVsIH0gPSBhdWRpb01lZGlhU291cmNlU3RhdHM7XG4gICAgICAgIGlmIChhdWRpb0xldmVsKSB7XG4gICAgICAgICAgaWYgKGF1ZGlvTGV2ZWwgPj0gQVVESU9fTEVWRUxfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQoe1xuICAgICAgICAgICAgICBpc1NvdW5kRGV0ZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgIGF1ZGlvTGV2ZWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHtcbiAgICAgICAgICAgICAgaXNTb3VuZERldGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgYXVkaW9MZXZlbDogMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDEwMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhbnVwQXVkaW9TdHJlYW0oKSB7XG4gICAgaWYgKCF0aGlzLmF1ZGlvU3RyZWFtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYXVkaW9TdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgaWYgKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciByZWxlYXNlKCkgaXMgcHJlc2VudCBpbiByZWFjdC1uYXRpdmUtd2VicnRjXG4gICAgICB0eXBlb2YgdGhpcy5hdWRpb1N0cmVhbS5yZWxlYXNlID09PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbGxlZCB0byBkaXNwb3NlIHRoZSBzdHJlYW0gaW4gUk5cbiAgICAgIHRoaXMuYXVkaW9TdHJlYW0ucmVsZWFzZSgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHR5cGUgeyBJTm9pc2VDYW5jZWxsYXRpb24gfSBmcm9tICdAc3RyZWFtLWlvL2F1ZGlvLWZpbHRlcnMtd2ViJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlcic7XG5pbXBvcnQgeyBNaWNyb3Bob25lTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9NaWNyb3Bob25lTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IFRyYWNrRGlzYWJsZU1vZGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgZ2V0QXVkaW9EZXZpY2VzLCBnZXRBdWRpb1N0cmVhbSB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgY3JlYXRlU291bmREZXRlY3RvciB9IGZyb20gJy4uL2hlbHBlcnMvc291bmQtZGV0ZWN0b3InO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7XG4gIEF1ZGlvU2V0dGluZ3NSZXNwb25zZSxcbiAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLFxuICBPd25DYXBhYmlsaXR5LFxufSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgeyBSTlNwZWVjaERldGVjdG9yIH0gZnJvbSAnLi4vaGVscGVycy9STlNwZWVjaERldGVjdG9yJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuXG5leHBvcnQgY2xhc3MgTWljcm9waG9uZU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxNaWNyb3Bob25lTWFuYWdlclN0YXRlPiB7XG4gIHByaXZhdGUgc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCA9IHRydWU7XG4gIHByaXZhdGUgc291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdzb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWcnKTtcbiAgcHJpdmF0ZSBzb3VuZERldGVjdG9yQ2xlYW51cD86IEZ1bmN0aW9uO1xuICBwcml2YXRlIHJuU3BlZWNoRGV0ZWN0b3I6IFJOU3BlZWNoRGV0ZWN0b3IgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9pc2VDYW5jZWxsYXRpb246IElOb2lzZUNhbmNlbGxhdGlvbiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBub2lzZUNhbmNlbGxhdGlvbkNoYW5nZVVuc3Vic2NyaWJlOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb24/OiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIHVucmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbj86ICgpID0+IFByb21pc2U8dm9pZD47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2FsbDogQ2FsbCxcbiAgICBkaXNhYmxlTW9kZTogVHJhY2tEaXNhYmxlTW9kZSA9IGlzUmVhY3ROYXRpdmUoKVxuICAgICAgPyAnZGlzYWJsZS10cmFja3MnXG4gICAgICA6ICdzdG9wLXRyYWNrcycsXG4gICkge1xuICAgIHN1cGVyKGNhbGwsIG5ldyBNaWNyb3Bob25lTWFuYWdlclN0YXRlKGRpc2FibGVNb2RlKSwgVHJhY2tUeXBlLkFVRElPKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KFtcbiAgICAgICAgICB0aGlzLmNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlJCxcbiAgICAgICAgICB0aGlzLmNhbGwuc3RhdGUub3duQ2FwYWJpbGl0aWVzJCxcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlJCxcbiAgICAgICAgICB0aGlzLnN0YXRlLnN0YXR1cyQsXG4gICAgICAgIF0pLFxuICAgICAgICBhc3luYyAoW2NhbGxpbmdTdGF0ZSwgb3duQ2FwYWJpbGl0aWVzLCBkZXZpY2VJZCwgc3RhdHVzXSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHJldHVybjtcbiAgICAgICAgICAgIGlmICghdGhpcy5zcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmIChvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKSkge1xuICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdGFydFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbihkZXZpY2VJZCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnQ291bGQgbm90IGVuYWJsZSBzcGVha2luZyB3aGlsZSBtdXRlZCcsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSQsIChjYWxsaW5nU3RhdGUpID0+IHtcbiAgICAgICAgLy8gZG8gbm90aGluZyB3aGVuIG5vaXNlIGZpbHRlcmluZyBpc24ndCB0dXJuZWQgb25cbiAgICAgICAgaWYgKCF0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uIHx8ICF0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uKVxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBhdXRvT24gPVxuICAgICAgICAgIHRoaXMuY2FsbC5zdGF0ZS5zZXR0aW5ncz8uYXVkaW8ubm9pc2VfY2FuY2VsbGF0aW9uPy5tb2RlID09PVxuICAgICAgICAgIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bS5BVVRPX09OO1xuXG4gICAgICAgIGlmIChhdXRvT24gJiYgY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSB7XG4gICAgICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbj8uZW5hYmxlKCkpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gZW5hYmxlIG5vaXNlIGNhbmNlbGxhdGlvbmAsIGVycik7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKSB7XG4gICAgICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbj8uZGlzYWJsZSgpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIGRpc2FibGUgbm9pc2UgY2FuY2VsbGF0aW9uYCwgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgbm9pc2UgY2FuY2VsbGF0aW9uIGZvciB0aGUgbWljcm9waG9uZS5cbiAgICpcbiAgICogTm90ZTogbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuXG4gICAqIEBwYXJhbSBub2lzZUNhbmNlbGxhdGlvbiAtIGEgbm9pc2UgY2FuY2VsbGF0aW9uIGluc3RhbmNlIHRvIHVzZS5cbiAgICovXG4gIGFzeW5jIGVuYWJsZU5vaXNlQ2FuY2VsbGF0aW9uKG5vaXNlQ2FuY2VsbGF0aW9uOiBJTm9pc2VDYW5jZWxsYXRpb24pIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vaXNlIGNhbmNlbGxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZScpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgb3duQ2FwYWJpbGl0aWVzLCBzZXR0aW5ncyB9ID0gdGhpcy5jYWxsLnN0YXRlO1xuICAgIGNvbnN0IGhhc05vaXNlQ2FuY2VsbGF0aW9uQ2FwYWJpbGl0eSA9IG93bkNhcGFiaWxpdGllcy5pbmNsdWRlcyhcbiAgICAgIE93bkNhcGFiaWxpdHkuRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTixcbiAgICApO1xuICAgIGlmICghaGFzTm9pc2VDYW5jZWxsYXRpb25DYXBhYmlsaXR5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vaXNlIGNhbmNlbGxhdGlvbiBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgIH1cbiAgICBjb25zdCBub2lzZUNhbmNlbGxhdGlvblNldHRpbmdzID0gc2V0dGluZ3M/LmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbjtcbiAgICBpZiAoXG4gICAgICAhbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyB8fFxuICAgICAgbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncy5tb2RlID09PVxuICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uRElTQUJMRURcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm9pc2UgY2FuY2VsbGF0aW9uIGlzIGRpc2FibGVkIGZvciB0aGlzIGNhbGwgdHlwZS4nKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb24gPSBub2lzZUNhbmNlbGxhdGlvbjtcblxuICAgICAgLy8gbGlzdGVuIGZvciBjaGFuZ2UgZXZlbnRzIGFuZCBub3RpZnkgdGhlIFNGVVxuICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvbkNoYW5nZVVuc3Vic2NyaWJlID0gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbi5vbihcbiAgICAgICAgJ2NoYW5nZScsXG4gICAgICAgIChlbmFibGVkOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbC5ub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0aW5nKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0IGZhaWxlZGAsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYWxsLm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wIGZhaWxlZGAsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZWdpc3RyYXRpb25SZXN1bHQgPSB0aGlzLnJlZ2lzdGVyRmlsdGVyKFxuICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi50b0ZpbHRlcigpLFxuICAgICAgKTtcbiAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb24gPSByZWdpc3RyYXRpb25SZXN1bHQucmVnaXN0ZXJlZDtcbiAgICAgIHRoaXMudW5yZWdpc3Rlck5vaXNlQ2FuY2VsbGF0aW9uID0gcmVnaXN0cmF0aW9uUmVzdWx0LnVucmVnaXN0ZXI7XG4gICAgICBhd2FpdCB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uO1xuXG4gICAgICAvLyBoYW5kbGVzIGFuIGVkZ2UgY2FzZSB3aGVyZSBhIG5vaXNlIGNhbmNlbGxhdGlvbiBpcyBlbmFibGVkIGFmdGVyXG4gICAgICAvLyB0aGUgcGFydGljaXBhbnQgYXMgam9pbmVkIHRoZSBjYWxsIC0+IHdlIGltbWVkaWF0ZWx5IGVuYWJsZSBOQ1xuICAgICAgaWYgKFxuICAgICAgICBub2lzZUNhbmNlbGxhdGlvblNldHRpbmdzLm1vZGUgPT09XG4gICAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkFVVE9fT04gJiZcbiAgICAgICAgdGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRFxuICAgICAgKSB7XG4gICAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBlbmFibGUgbm9pc2UgY2FuY2VsbGF0aW9uJywgZSk7XG4gICAgICBhd2FpdCB0aGlzLmRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIGRpc2FibGUgbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBub2lzZSBjYW5jZWxsYXRpb24gZm9yIHRoZSBtaWNyb3Bob25lLlxuICAgKlxuICAgKiBOb3RlOiBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbigpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vaXNlIGNhbmNlbGxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZScpO1xuICAgIH1cbiAgICBhd2FpdCAodGhpcy51bnJlZ2lzdGVyTm9pc2VDYW5jZWxsYXRpb24/LigpID8/IFByb21pc2UucmVzb2x2ZSgpKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbj8uZGlzYWJsZSgpKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbkNoYW5nZVVuc3Vic2NyaWJlPy4oKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byB1bnJlZ2lzdGVyIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgICB9KTtcblxuICAgIGF3YWl0IHRoaXMuY2FsbC5ub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIHNwZWFraW5nIHdoaWxlIG11dGVkIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGFzeW5jIGVuYWJsZVNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbigpIHtcbiAgICB0aGlzLnNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbkVuYWJsZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgYXdhaXQgdGhpcy5zdGFydFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbih0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgc3BlYWtpbmcgd2hpbGUgbXV0ZWQgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgYXN5bmMgZGlzYWJsZVNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbigpIHtcbiAgICB0aGlzLnNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBhdWRpbyBzZXR0aW5ncyB0byB0aGUgbWljcm9waG9uZS5cbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBhdWRpbyBzZXR0aW5ncyB0byBhcHBseS5cbiAgICogQHBhcmFtIHB1Ymxpc2ggd2hldGhlciB0byBwdWJsaXNoIHRoZSBzdHJlYW0gYWZ0ZXIgYXBwbHlpbmcgdGhlIHNldHRpbmdzLlxuICAgKi9cbiAgYXN5bmMgYXBwbHkoc2V0dGluZ3M6IEF1ZGlvU2V0dGluZ3NSZXNwb25zZSwgcHVibGlzaDogYm9vbGVhbikge1xuICAgIGlmICghcHVibGlzaCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGFzUHVibGlzaGVkQXVkaW8gPSAhIXRoaXMuY2FsbC5zdGF0ZS5sb2NhbFBhcnRpY2lwYW50Py5hdWRpb1N0cmVhbTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gdGhpcy5jYWxsLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKFxuICAgICAgT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPLFxuICAgICk7XG4gICAgaWYgKGhhc1B1Ymxpc2hlZEF1ZGlvIHx8ICFoYXNQZXJtaXNzaW9uKSByZXR1cm47XG5cbiAgICAvLyBXYWl0IGZvciBhbnkgaW4gcHJvZ3Jlc3MgbWljIG9wZXJhdGlvblxuICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuXG4gICAgLy8gUHVibGlzaCBtZWRpYSBzdHJlYW0gdGhhdCB3YXMgc2V0IGJlZm9yZSB3ZSBqb2luZWRcbiAgICBjb25zdCB7IG1lZGlhU3RyZWFtIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmICh0aGlzLmVuYWJsZWQgJiYgbWVkaWFTdHJlYW0pIHtcbiAgICAgIC8vIFRoZSBtaWMgaXMgYWxyZWFkeSBlbmFibGVkIChlLmcuIGxvYmJ5IHNjcmVlbikuIFB1Ymxpc2ggdGhlIHN0cmVhbVxuICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoU3RyZWFtKG1lZGlhU3RyZWFtKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc3RhdHVzID09PSB1bmRlZmluZWQgJiYgc2V0dGluZ3MubWljX2RlZmF1bHRfb24pIHtcbiAgICAgIC8vIFN0YXJ0IG1pYyBpZiBiYWNrZW5kIGNvbmZpZyBzcGVjaWZpZXMsIGFuZCB0aGVyZSBpcyBubyBsb2NhbCBzZXR0aW5nXG4gICAgICBhd2FpdCB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VzKCk6IE9ic2VydmFibGU8TWVkaWFEZXZpY2VJbmZvW10+IHtcbiAgICByZXR1cm4gZ2V0QXVkaW9EZXZpY2VzKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0U3RyZWFtKFxuICAgIGNvbnN0cmFpbnRzOiBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4gICk6IFByb21pc2U8TWVkaWFTdHJlYW0+IHtcbiAgICByZXR1cm4gZ2V0QXVkaW9TdHJlYW0oY29uc3RyYWludHMpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdGFydFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbihkZXZpY2VJZD86IHN0cmluZykge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLnNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgIHRoaXMucm5TcGVlY2hEZXRlY3RvciA9IG5ldyBSTlNwZWVjaERldGVjdG9yKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucm5TcGVlY2hEZXRlY3Rvci5zdGFydCgpO1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9XG4gICAgICAgICAgdGhpcy5yblNwZWVjaERldGVjdG9yPy5vblNwZWFraW5nRGV0ZWN0ZWRTdGF0ZUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0U3BlYWtpbmdXaGlsZU11dGVkKGV2ZW50LmlzU291bmREZXRlY3RlZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc291bmREZXRlY3RvckNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB0aGlzLnJuU3BlZWNoRGV0ZWN0b3I/LnN0b3AoKTtcbiAgICAgICAgICB0aGlzLnJuU3BlZWNoRGV0ZWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOZWVkIHRvIHN0YXJ0IGEgbmV3IHN0cmVhbSB0aGF0J3Mgbm90IGNvbm5lY3RlZCB0byBwdWJsaXNoZXJcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgdGhpcy5nZXRTdHJlYW0oe1xuICAgICAgICAgIGRldmljZUlkLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCA9IGNyZWF0ZVNvdW5kRGV0ZWN0b3Ioc3RyZWFtLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFNwZWFraW5nV2hpbGVNdXRlZChldmVudC5pc1NvdW5kRGV0ZWN0ZWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpIHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5zb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCkgcmV0dXJuO1xuICAgICAgY29uc3Qgc291bmREZXRlY3RvckNsZWFudXAgPSB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwO1xuICAgICAgdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc3RhdGUuc2V0U3BlYWtpbmdXaGlsZU11dGVkKGZhbHNlKTtcbiAgICAgIGF3YWl0IHNvdW5kRGV0ZWN0b3JDbGVhbnVwKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgU2NyZWVuU2hhcmVTZXR0aW5ncyB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFNjcmVlblNoYXJlU3RhdGUgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlPERpc3BsYXlNZWRpYVN0cmVhbU9wdGlvbnM+IHtcbiAgcHJpdmF0ZSBhdWRpb0VuYWJsZWRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPih0cnVlKTtcbiAgcHJpdmF0ZSBzZXR0aW5nc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFxuICAgIFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWRcbiAgPih1bmRlZmluZWQpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIGF1ZGlvRW5hYmxlZCQgPSB0aGlzLmF1ZGlvRW5hYmxlZFN1YmplY3RcbiAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICovXG4gIHNldHRpbmdzJCA9IHRoaXMuc2V0dGluZ3NTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByb3RlY3RlZCBnZXREZXZpY2VJZEZyb21TdHJlYW0gPSAoXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFRyYWNrcygpO1xuICAgIHJldHVybiB0cmFjaz8uZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZDtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIGdldCBhdWRpb0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuYXVkaW9FbmFibGVkJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBhdWRpbyBzdGF0dXMuXG4gICAqL1xuICBzZXRBdWRpb0VuYWJsZWQoaXNFbmFibGVkOiBib29sZWFuKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5hdWRpb0VuYWJsZWRTdWJqZWN0LCBpc0VuYWJsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICovXG4gIGdldCBzZXR0aW5ncygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZXR0aW5ncyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgc2NyZWVuIHNoYXJlIHNldHRpbmdzIHRvIHNldC5cbiAgICovXG4gIHNldFNldHRpbmdzKHNldHRpbmdzOiBTY3JlZW5TaGFyZVNldHRpbmdzIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXR0aW5nc1N1YmplY3QsIHNldHRpbmdzKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlcic7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVN0YXRlIH0gZnJvbSAnLi9TY3JlZW5TaGFyZVN0YXRlJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRTY3JlZW5TaGFyZVN0cmVhbSB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBTY3JlZW5TaGFyZU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxcbiAgU2NyZWVuU2hhcmVTdGF0ZSxcbiAgRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9uc1xuPiB7XG4gIGNvbnN0cnVjdG9yKGNhbGw6IENhbGwpIHtcbiAgICBzdXBlcihjYWxsLCBuZXcgU2NyZWVuU2hhcmVTdGF0ZSgpLCBUcmFja1R5cGUuU0NSRUVOX1NIQVJFKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKGNhbGwuc3RhdGUuc2V0dGluZ3MkLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgY29uc3QgbWF5YmVUYXJnZXRSZXNvbHV0aW9uID0gc2V0dGluZ3M/LnNjcmVlbnNoYXJpbmcudGFyZ2V0X3Jlc29sdXRpb247XG5cbiAgICAgICAgaWYgKG1heWJlVGFyZ2V0UmVzb2x1dGlvbikge1xuICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdENvbnN0cmFpbnRzKHtcbiAgICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICAgIHdpZHRoOiBtYXliZVRhcmdldFJlc29sdXRpb24ud2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogbWF5YmVUYXJnZXRSZXNvbHV0aW9uLmhlaWdodCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBlbmFibGUgc2NyZWVuIHNoYXJlIGF1ZGlvIG9wdGlvbnMgb24gc3VwcG9ydGVkIHBsYXRmb3Jtcy5cbiAgICpcbiAgICogTm90ZTogZm9yIG9uZ29pbmcgc2NyZWVuIHNoYXJlLCBhdWRpbyB3b24ndCBiZSBlbmFibGVkIHVudGlsIHlvdVxuICAgKiByZS1wdWJsaXNoIHRoZSBzY3JlZW4gc2hhcmUgc3RyZWFtLlxuICAgKi9cbiAgZW5hYmxlU2NyZWVuU2hhcmVBdWRpbygpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnNldEF1ZGlvRW5hYmxlZCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIGRpc2FibGUgc2NyZWVuIHNoYXJlIGF1ZGlvIG9wdGlvbnMgb24gc3VwcG9ydGVkIHBsYXRmb3Jtcy5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVTY3JlZW5TaGFyZUF1ZGlvKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3RhdGUuc2V0QXVkaW9FbmFibGVkKGZhbHNlKTtcbiAgICBpZiAodGhpcy5jYWxsLnB1Ymxpc2hlcj8uaXNQdWJsaXNoaW5nKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pKSB7XG4gICAgICBhd2FpdCB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0U2V0dGluZ3MoKTogU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2V0dGluZ3M7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgc2V0dGluZ3MgdG8gc2V0LlxuICAgKi9cbiAgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnNldFNldHRpbmdzKHNldHRpbmdzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VzKCk6IE9ic2VydmFibGU8TWVkaWFEZXZpY2VJbmZvW10+IHtcbiAgICByZXR1cm4gb2YoW10pOyAvLyB0aGVyZSBhcmUgbm8gZGV2aWNlcyB0byBiZSBsaXN0ZWQgZm9yIFNjcmVlbiBTaGFyZVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldFN0cmVhbShcbiAgICBjb25zdHJhaW50czogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hdWRpb0VuYWJsZWQpIHtcbiAgICAgIGNvbnN0cmFpbnRzLmF1ZGlvID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBnZXRTY3JlZW5TaGFyZVN0cmVhbShjb25zdHJhaW50cyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgc3RvcFB1Ymxpc2hTdHJlYW0oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5zdG9wUHVibGlzaChcbiAgICAgIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgICBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBkZWZhdWx0IGBzZWxlY3RgIG1ldGhvZCB0byB0aHJvdyBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIGRldmljZUlkIGlnbm9yZWQuXG4gICAqL1xuICBhc3luYyBzZWxlY3QoZGV2aWNlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBmb3IgU2NyZWVuIFNoYXJlJyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4VXRpbHMgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBjaGVja0lmQXVkaW9PdXRwdXRDaGFuZ2VTdXBwb3J0ZWQgfSBmcm9tICcuL2RldmljZXMnO1xuXG5leHBvcnQgY2xhc3MgU3BlYWtlclN0YXRlIHtcbiAgcHJvdGVjdGVkIHNlbGVjdGVkRGV2aWNlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPignJyk7XG4gIHByb3RlY3RlZCB2b2x1bWVTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDEpO1xuICAvKipcbiAgICogW1RlbGxzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGF1ZGlvIG91dHB1dCBjaGFuZ2Ugb24gJ2F1ZGlvJyBlbGVtZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnQvc2V0U2lua0lkKS5cbiAgICovXG4gIHJlYWRvbmx5IGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkID0gY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkKCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGRldmljZVxuICAgKlxuICAgKiBOb3RlOiB0aGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIHNlbGVjdGVkRGV2aWNlJDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2b2x1bWVcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICB2b2x1bWUkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zZWxlY3RlZERldmljZSQgPSB0aGlzLnNlbGVjdGVkRGV2aWNlU3ViamVjdFxuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgICB0aGlzLnZvbHVtZSQgPSB0aGlzLnZvbHVtZVN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICBnZXQgc2VsZWN0ZWREZXZpY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc2VsZWN0ZWREZXZpY2UkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IHNlbGVjdGVkIHZvbHVtZVxuICAgKlxuICAgKiBOb3RlOiB0aGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIGdldCB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMudm9sdW1lJCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhbiBvYnNlcnZhYmxlLCBvciB1bmRlZmluZWQgaWYgdGhlIG9ic2VydmFibGUgaGFzXG4gICAqIG5vdCBlbWl0dGVkIGEgdmFsdWUgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0gb2JzZXJ2YWJsZSQgdGhlIG9ic2VydmFibGUgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICAgKi9cbiAgZ2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5nZXRDdXJyZW50VmFsdWU7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gZGV2aWNlSWRcbiAgICovXG4gIHNldERldmljZShkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZVN1YmplY3QsIGRldmljZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHZvbHVtZVxuICAgKi9cbiAgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy52b2x1bWVTdWJqZWN0LCB2b2x1bWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBTdWJqZWN0LlxuICAgKiBBbiBgdXBkYXRlYCBjYW4gZWl0aGVyIGJlIGEgbmV3IHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXNcbiAgICogdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc3ViamVjdCB0aGUgc3ViamVjdCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAgICogQHJldHVybiB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICovXG4gIHByb3RlY3RlZCBzZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZTtcbn1cbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IFNwZWFrZXJTdGF0ZSB9IGZyb20gJy4vU3BlYWtlclN0YXRlJztcbmltcG9ydCB7IGRldmljZUlkcyQsIGdldEF1ZGlvT3V0cHV0RGV2aWNlcyB9IGZyb20gJy4vZGV2aWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBTcGVha2VyTWFuYWdlciB7XG4gIHB1YmxpYyByZWFkb25seSBzdGF0ZSA9IG5ldyBTcGVha2VyU3RhdGUoKTtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbGw6IENhbGw7XG5cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgaWYgKGRldmljZUlkcyQgJiYgIWlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoW2RldmljZUlkcyQhLCB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlJF0pLnN1YnNjcmliZShcbiAgICAgICAgICAoW2RldmljZXMsIGRldmljZUlkXSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkZXZpY2VJZCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZXZpY2UgPSBkZXZpY2VzLmZpbmQoXG4gICAgICAgICAgICAgIChkKSA9PiBkLmRldmljZUlkID09PSBkZXZpY2VJZCAmJiBkLmtpbmQgPT09ICdhdWRpb291dHB1dCcsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFkZXZpY2UpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3QoJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyB0aGUgYXZhaWxhYmxlIGF1ZGlvIG91dHB1dCBkZXZpY2VzXG4gICAqXG4gICAqIE5vdGU6IEl0IHByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZClcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICpcbiAgICogQHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHdpbGwgYmUgdXBkYXRlZCBpZiBhIGRldmljZSBpcyBjb25uZWN0ZWQgb3IgZGlzY29ubmVjdGVkXG4gICAqL1xuICBsaXN0RGV2aWNlcygpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIG1vcmUgZGV0YWlscycsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0QXVkaW9PdXRwdXREZXZpY2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0IGEgZGV2aWNlLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKlxuICAgKiBAcGFyYW0gZGV2aWNlSWQgZW1wdHkgc3RyaW5nIG1lYW5zIHRoZSBzeXN0ZW0gZGVmYXVsdFxuICAgKi9cbiAgc2VsZWN0KGRldmljZUlkOiBzdHJpbmcpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIG1vcmUgZGV0YWlscycsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnNldERldmljZShkZXZpY2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhlIG1hbmFnZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaCgocykgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSB2b2x1bWUgb2YgdGhlIGF1ZGlvIGVsZW1lbnRzXG4gICAqIEBwYXJhbSB2b2x1bWUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKi9cbiAgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHZvbHVtZSAmJiAodm9sdW1lIDwgMCB8fCB2b2x1bWUgPiAxKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWb2x1bWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEnKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5zZXRWb2x1bWUodm9sdW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZvbHVtZSBvZiBhIHBhcnRpY2lwYW50LlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgcGFydGljaXBhbnQncyBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdm9sdW1lIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gU2V0IGl0IHRvIGB1bmRlZmluZWRgIHRvIHVzZSB0aGUgZGVmYXVsdCB2b2x1bWUuXG4gICAqL1xuICBzZXRQYXJ0aWNpcGFudFZvbHVtZShzZXNzaW9uSWQ6IHN0cmluZywgdm9sdW1lOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIG1vcmUgZGV0YWlscycsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodm9sdW1lICYmICh2b2x1bWUgPCAwIHx8IHZvbHVtZSA+IDEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZvbHVtZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHRoaXMuY2FsbC5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHsgYXVkaW9Wb2x1bWU6IHZvbHVtZSB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3RyZWFtU2Z1Q2xpZW50IH0gZnJvbSAnLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHtcbiAgRGlzcGF0Y2hlcixcbiAgZ2V0R2VuZXJpY1NkcCxcbiAgaXNBdWRpb1RyYWNrVHlwZSxcbiAgaXNTZnVFdmVudCxcbiAgbXV0ZVR5cGVUb1RyYWNrVHlwZSxcbiAgUHVibGlzaGVyLFxuICBTdWJzY3JpYmVyLFxuICB0b1J0Y0NvbmZpZ3VyYXRpb24sXG4gIHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXksXG59IGZyb20gJy4vcnRjJztcbmltcG9ydCB7XG4gIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyxcbiAgcmVnaXN0ZXJSaW5naW5nQ2FsbEV2ZW50SGFuZGxlcnMsXG59IGZyb20gJy4vZXZlbnRzL2NhbGxFdmVudEhhbmRsZXJzJztcbmltcG9ydCB7XG4gIENhbGxpbmdTdGF0ZSxcbiAgQ2FsbFN0YXRlLFxuICBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUsXG59IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU2FmZUFzeW5jU3Vic2NyaXB0aW9uLFxuICBjcmVhdGVTdWJzY3JpcHRpb24sXG4gIGdldEN1cnJlbnRWYWx1ZSxcbn0gZnJvbSAnLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB0eXBlIHtcbiAgQWNjZXB0Q2FsbFJlc3BvbnNlLFxuICBCbG9ja1VzZXJSZXF1ZXN0LFxuICBCbG9ja1VzZXJSZXNwb25zZSxcbiAgQ2FsbFJpbmdFdmVudCxcbiAgQ2FsbFNldHRpbmdzUmVzcG9uc2UsXG4gIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0LFxuICBDb2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2UsXG4gIENyZWRlbnRpYWxzLFxuICBFbmRDYWxsUmVzcG9uc2UsXG4gIEdldENhbGxSZXNwb25zZSxcbiAgR2V0Q2FsbFN0YXRzUmVzcG9uc2UsXG4gIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3QsXG4gIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlLFxuICBHb0xpdmVSZXF1ZXN0LFxuICBHb0xpdmVSZXNwb25zZSxcbiAgSm9pbkNhbGxSZXF1ZXN0LFxuICBKb2luQ2FsbFJlc3BvbnNlLFxuICBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlLFxuICBMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSxcbiAgTXV0ZVVzZXJzUmVxdWVzdCxcbiAgTXV0ZVVzZXJzUmVzcG9uc2UsXG4gIFBpblJlcXVlc3QsXG4gIFBpblJlc3BvbnNlLFxuICBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdCxcbiAgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlLFxuICBSZWplY3RDYWxsUmVxdWVzdCxcbiAgUmVqZWN0Q2FsbFJlc3BvbnNlLFxuICBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3QsXG4gIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2UsXG4gIFNlbmRDYWxsRXZlbnRSZXF1ZXN0LFxuICBTZW5kQ2FsbEV2ZW50UmVzcG9uc2UsXG4gIFNlbmRSZWFjdGlvblJlcXVlc3QsXG4gIFNlbmRSZWFjdGlvblJlc3BvbnNlLFxuICBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdCxcbiAgU3RhcnRDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlLFxuICBTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlLFxuICBTdGFydFJlY29yZGluZ1JlcXVlc3QsXG4gIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2UsXG4gIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3QsXG4gIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlLFxuICBTdGF0c09wdGlvbnMsXG4gIFN0b3BDbG9zZWRDYXB0aW9uc1JlcXVlc3QsXG4gIFN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlLFxuICBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2UsXG4gIFN0b3BMaXZlUmVzcG9uc2UsXG4gIFN0b3BSZWNvcmRpbmdSZXNwb25zZSxcbiAgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZSxcbiAgVW5ibG9ja1VzZXJSZXF1ZXN0LFxuICBVbmJsb2NrVXNlclJlc3BvbnNlLFxuICBVbnBpblJlcXVlc3QsXG4gIFVucGluUmVzcG9uc2UsXG4gIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdCxcbiAgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZSxcbiAgVXBkYXRlQ2FsbFJlcXVlc3QsXG4gIFVwZGF0ZUNhbGxSZXNwb25zZSxcbiAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdCxcbiAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2UsXG4gIFZpZGVvRGltZW5zaW9uLFxufSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHtcbiAgQXVkaW9UcmFja1R5cGUsXG4gIENhbGxDb25zdHJ1Y3RvcixcbiAgQ2FsbExlYXZlT3B0aW9ucyxcbiAgQ2xpZW50UHVibGlzaE9wdGlvbnMsXG4gIENsb3NlZENhcHRpb25zU2V0dGluZ3MsXG4gIEpvaW5DYWxsRGF0YSxcbiAgVHJhY2tNdXRlVHlwZSxcbiAgVmlkZW9UcmFja1R5cGUsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0LCB0YWtlV2hpbGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJlY29ubmVjdERldGFpbHMgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIENsaWVudERldGFpbHMsXG4gIENvZGVjLFxuICBQdWJsaXNoT3B0aW9uLFxuICBTdWJzY3JpYmVPcHRpb24sXG4gIFRyYWNrVHlwZSxcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGNyZWF0ZVN0YXRzUmVwb3J0ZXIsIFNmdVN0YXRzUmVwb3J0ZXIsIFN0YXRzUmVwb3J0ZXIgfSBmcm9tICcuL3N0YXRzJztcbmltcG9ydCB7IER5bmFzY2FsZU1hbmFnZXIgfSBmcm9tICcuL2hlbHBlcnMvRHluYXNjYWxlTWFuYWdlcic7XG5pbXBvcnQgeyBQZXJtaXNzaW9uc0NvbnRleHQgfSBmcm9tICcuL3Blcm1pc3Npb25zJztcbmltcG9ydCB7IENhbGxUeXBlcyB9IGZyb20gJy4vQ2FsbFR5cGUnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQge1xuICBBbGxDYWxsRXZlbnRzLFxuICBDYWxsRXZlbnRMaXN0ZW5lcixcbiAgRXJyb3JGcm9tUmVzcG9uc2UsXG4gIExvZ2dlcixcbiAgUmVqZWN0UmVhc29uLFxuICBTdHJlYW1DYWxsRXZlbnQsXG59IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRDbGllbnREZXRhaWxzIH0gZnJvbSAnLi9jbGllbnQtZGV0YWlscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQge1xuICBDYW1lcmFNYW5hZ2VyLFxuICBNaWNyb3Bob25lTWFuYWdlcixcbiAgU2NyZWVuU2hhcmVNYW5hZ2VyLFxuICBTcGVha2VyTWFuYWdlcixcbn0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IGdldFNka1NpZ25hdHVyZSB9IGZyb20gJy4vc3RhdHMvdXRpbHMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7IGVuc3VyZUV4aGF1c3RlZCB9IGZyb20gJy4vaGVscGVycy9lbnN1cmVFeGhhdXN0ZWQnO1xuaW1wb3J0IHsgcHVzaFRvSWZNaXNzaW5nIH0gZnJvbSAnLi9oZWxwZXJzL2FycmF5JztcbmltcG9ydCB7XG4gIG1ha2VTYWZlUHJvbWlzZSxcbiAgUHJvbWlzZVdpdGhSZXNvbHZlcnMsXG4gIHByb21pc2VXaXRoUmVzb2x2ZXJzLFxufSBmcm9tICcuL2hlbHBlcnMvcHJvbWlzZSc7XG5cbi8qKlxuICogQW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGEgYENhbGxgLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNhbGwgQ0lELlxuICAgKi9cbiAgcmVhZG9ubHkgY2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICByZWFkb25seSBzdGF0ZSA9IG5ldyBDYWxsU3RhdGUoKTtcblxuICAvKipcbiAgICogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBjYWxsIGlzIFwid2F0Y2hlZFwiIGFuZCByZWNlaXZlc1xuICAgKiB1cGRhdGVzIGZyb20gdGhlIGJhY2tlbmQuXG4gICAqL1xuICB3YXRjaGluZzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGV2aWNlIG1hbmFnZXIgZm9yIHRoZSBjYW1lcmFcbiAgICovXG4gIHJlYWRvbmx5IGNhbWVyYTogQ2FtZXJhTWFuYWdlcjtcblxuICAvKipcbiAgICogRGV2aWNlIG1hbmFnZXIgZm9yIHRoZSBtaWNyb3Bob25lLlxuICAgKi9cbiAgcmVhZG9ubHkgbWljcm9waG9uZTogTWljcm9waG9uZU1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIERldmljZSBtYW5hZ2VyIGZvciB0aGUgc3BlYWtlci5cbiAgICovXG4gIHJlYWRvbmx5IHNwZWFrZXI6IFNwZWFrZXJNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBEZXZpY2UgbWFuYWdlciBmb3IgdGhlIHNjcmVlbi5cbiAgICovXG4gIHJlYWRvbmx5IHNjcmVlblNoYXJlOiBTY3JlZW5TaGFyZU1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBEeW5hc2NhbGVNYW5hZ2VyIGluc3RhbmNlLlxuICAgKi9cbiAgcmVhZG9ubHkgZHluYXNjYWxlTWFuYWdlcjogRHluYXNjYWxlTWFuYWdlcjtcblxuICBzdWJzY3JpYmVyPzogU3Vic2NyaWJlcjtcbiAgcHVibGlzaGVyPzogUHVibGlzaGVyO1xuXG4gIC8qKlxuICAgKiBGbGFnIHRlbGxpbmcgd2hldGhlciB0aGlzIGNhbGwgaXMgYSBcInJpbmdpbmdcIiBjYWxsLlxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSByaW5naW5nU3ViamVjdDogU3ViamVjdDxib29sZWFuPjtcblxuICAvKipcbiAgICogVGhlIHBlcm1pc3Npb25zIGNvbnRleHQgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgcGVybWlzc2lvbnNDb250ZXh0ID0gbmV3IFBlcm1pc3Npb25zQ29udGV4dCgpO1xuICByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcblxuICAvKipcbiAgICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgaW5zdGFuY2UgZGVkaWNhdGVkIHRvIHRoaXMgQ2FsbCBpbnN0YW5jZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG5cbiAgcHJpdmF0ZSBjbGllbnRQdWJsaXNoT3B0aW9ucz86IENsaWVudFB1Ymxpc2hPcHRpb25zO1xuICBwcml2YXRlIGN1cnJlbnRQdWJsaXNoT3B0aW9ucz86IFB1Ymxpc2hPcHRpb25bXTtcbiAgcHJpdmF0ZSBzdGF0c1JlcG9ydGVyPzogU3RhdHNSZXBvcnRlcjtcbiAgcHJpdmF0ZSBzZnVTdGF0c1JlcG9ydGVyPzogU2Z1U3RhdHNSZXBvcnRlcjtcbiAgcHJpdmF0ZSBkcm9wVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjbGllbnRTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xuICBwdWJsaWMgcmVhZG9ubHkgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG4gIHByaXZhdGUgc2Z1Q2xpZW50PzogU3RyZWFtU2Z1Q2xpZW50O1xuICBwcml2YXRlIHNmdUNsaWVudFRhZyA9IDA7XG5cbiAgcHJpdmF0ZSByZWFkb25seSByZWNvbm5lY3RDb25jdXJyZW5jeVRhZyA9IFN5bWJvbCgncmVjb25uZWN0Q29uY3VycmVuY3lUYWcnKTtcbiAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gIHByaXZhdGUgcmVjb25uZWN0U3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5VTlNQRUNJRklFRDtcbiAgcHJpdmF0ZSBmYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGRpc2Nvbm5lY3Rpb25UaW1lb3V0U2Vjb25kczogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBsYXN0T2ZmbGluZVRpbWVzdGFtcDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBuZXR3b3JrQXZhaWxhYmxlVGFzazogUHJvbWlzZVdpdGhSZXNvbHZlcnM8dm9pZD4gfCB1bmRlZmluZWQ7XG4gIC8vIG1haW50YWluIHRoZSBvcmRlciBvZiBwdWJsaXNoaW5nIHRyYWNrcyB0byByZXN0b3JlIHRoZW0gYWZ0ZXIgYSByZWNvbm5lY3Rpb25cbiAgLy8gaXQgc2hvdWxkbid0IGNvbnRhaW4gZHVwbGljYXRlc1xuICBwcml2YXRlIHRyYWNrUHVibGlzaE9yZGVyOiBUcmFja1R5cGVbXSA9IFtdO1xuICBwcml2YXRlIGpvaW5DYWxsRGF0YT86IEpvaW5DYWxsRGF0YTtcbiAgcHJpdmF0ZSBoYXNKb2luZWRPbmNlID0gZmFsc2U7XG4gIHByaXZhdGUgZGV2aWNlU2V0dGluZ3NBcHBsaWVkT25jZSA9IGZhbHNlO1xuICBwcml2YXRlIGNyZWRlbnRpYWxzPzogQ3JlZGVudGlhbHM7XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplZCA9IGZhbHNlO1xuICBwcml2YXRlIHJlYWRvbmx5IGpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdqb2luTGVhdmVDb25jdXJyZW5jeVRhZycpO1xuXG4gIC8qKlxuICAgKiBBIGxpc3QgaG9va3MvZnVuY3Rpb25zIHRvIGludm9rZSB3aGVuIHRoZSBjYWxsIGlzIGxlZnQuXG4gICAqIEEgdHlwaWNhbCB1c2UgY2FzZSBpcyB0byBjbGVhbiB1cCBzb21lIGdsb2JhbCBldmVudCBoYW5kbGVycy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgbGVhdmVDYWxsSG9va3M6IFNldDxGdW5jdGlvbj4gPSBuZXcgU2V0KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdHJlYW1DbGllbnRCYXNlUGF0aDogc3RyaW5nO1xuICBwcml2YXRlIHN0cmVhbUNsaWVudEV2ZW50SGFuZGxlcnMgPSBuZXcgTWFwPEZ1bmN0aW9uLCAoKSA9PiB2b2lkPigpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBDYWxsYCBpbnN0YW5jZS5cbiAgICpcbiAgICogTk9URTogRG9uJ3QgY2FsbCB0aGUgY29uc3RydWN0b3IgZGlyZWN0bHksIGluc3RlYWRcbiAgICogVXNlIHRoZSBbYFN0cmVhbVZpZGVvQ2xpZW50LmNhbGxgXSguL1N0cmVhbVZpZGVvQ2xpZW50Lm1kLyNjYWxsKVxuICAgKiBtZXRob2QgdG8gY29uc3RydWN0IGEgYENhbGxgIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIHR5cGUsXG4gICAgaWQsXG4gICAgc3RyZWFtQ2xpZW50LFxuICAgIG1lbWJlcnMsXG4gICAgb3duQ2FwYWJpbGl0aWVzLFxuICAgIHNvcnRQYXJ0aWNpcGFudHNCeSxcbiAgICBjbGllbnRTdG9yZSxcbiAgICByaW5naW5nID0gZmFsc2UsXG4gICAgd2F0Y2hpbmcgPSBmYWxzZSxcbiAgfTogQ2FsbENvbnN0cnVjdG9yKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5jaWQgPSBgJHt0eXBlfToke2lkfWA7XG4gICAgdGhpcy5yaW5naW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3QocmluZ2luZyk7XG4gICAgdGhpcy53YXRjaGluZyA9IHdhdGNoaW5nO1xuICAgIHRoaXMuc3RyZWFtQ2xpZW50ID0gc3RyZWFtQ2xpZW50O1xuICAgIHRoaXMuY2xpZW50U3RvcmUgPSBjbGllbnRTdG9yZTtcbiAgICB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoID0gYC9jYWxsLyR7dGhpcy50eXBlfS8ke3RoaXMuaWR9YDtcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbJ0NhbGwnXSk7XG5cbiAgICBjb25zdCBjYWxsVHlwZUNvbmZpZyA9IENhbGxUeXBlcy5nZXQodHlwZSk7XG4gICAgY29uc3QgcGFydGljaXBhbnRTb3J0ZXIgPVxuICAgICAgc29ydFBhcnRpY2lwYW50c0J5IHx8IGNhbGxUeXBlQ29uZmlnLm9wdGlvbnMuc29ydFBhcnRpY2lwYW50c0J5O1xuICAgIGlmIChwYXJ0aWNpcGFudFNvcnRlcikge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRTb3J0UGFydGljaXBhbnRzQnkocGFydGljaXBhbnRTb3J0ZXIpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhtZW1iZXJzIHx8IFtdKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhvd25DYXBhYmlsaXRpZXMgfHwgW10pO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKFxuICAgICAgcmluZ2luZyA/IENhbGxpbmdTdGF0ZS5SSU5HSU5HIDogQ2FsbGluZ1N0YXRlLklETEUsXG4gICAgKTtcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYU1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5taWNyb3Bob25lID0gbmV3IE1pY3JvcGhvbmVNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuc3BlYWtlciA9IG5ldyBTcGVha2VyTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLnNjcmVlblNoYXJlID0gbmV3IFNjcmVlblNoYXJlTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIgPSBuZXcgRHluYXNjYWxlTWFuYWdlcih0aGlzLnN0YXRlLCB0aGlzLnNwZWFrZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cCA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5qb2luTGVhdmVDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybjtcblxuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAgIHRoaXMub24oJ2FsbCcsIChldmVudCkgPT4ge1xuICAgICAgICAgIC8vIHVwZGF0ZSBzdGF0ZSB3aXRoIHRoZSBsYXRlc3QgZXZlbnQgZGF0YVxuICAgICAgICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgICAgdGhpcy5vbignY2hhbmdlUHVibGlzaE9wdGlvbnMnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRQdWJsaXNoT3B0aW9ucyA9IGV2ZW50LnB1Ymxpc2hPcHRpb25zO1xuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHJlZ2lzdGVyRXZlbnRIYW5kbGVycyh0aGlzLCB0aGlzLmRpc3BhdGNoZXIpKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJFZmZlY3RzKCk7XG4gICAgICB0aGlzLnJlZ2lzdGVyUmVjb25uZWN0SGFuZGxlcnMoKTtcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuSURMRSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgcmVnaXN0ZXJFZmZlY3RzID0gKCkgPT4ge1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgLy8gaGFuZGxlcyB1cGRhdGluZyB0aGUgcGVybWlzc2lvbnMgY29udGV4dCB3aGVuIHRoZSBzZXR0aW5ncyBjaGFuZ2UuXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5zZXR0aW5ncyQsIChzZXR0aW5ncykgPT4ge1xuICAgICAgICBpZiAoIXNldHRpbmdzKSByZXR1cm47XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNDb250ZXh0LnNldENhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlbiB0aGUgdXNlciBwZXJtaXNzaW9ucyBhcmUgbW9kaWZpZWQuXG4gICAgICBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24oXG4gICAgICAgIHRoaXMuc3RhdGUub3duQ2FwYWJpbGl0aWVzJCxcbiAgICAgICAgdGhpcy5oYW5kbGVPd25DYXBhYmlsaXRpZXNVcGRhdGVkLFxuICAgICAgKSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGVzIHRoZSBjYXNlIHdoZW4gdGhlIHVzZXIgaXMgYmxvY2tlZCBieSB0aGUgY2FsbCBvd25lci5cbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnN0YXRlLmJsb2NrZWRVc2VySWRzJCwgYXN5bmMgKGJsb2NrZWRVc2VySWRzKSA9PiB7XG4gICAgICAgIGlmICghYmxvY2tlZFVzZXJJZHMgfHwgYmxvY2tlZFVzZXJJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gICAgICAgIGlmIChjdXJyZW50VXNlcklkICYmIGJsb2NrZWRVc2VySWRzLmluY2x1ZGVzKGN1cnJlbnRVc2VySWQpKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnTGVhdmluZyBjYWxsIGJlY2F1c2Ugb2YgYmVpbmcgYmxvY2tlZCcpO1xuICAgICAgICAgIGF3YWl0IHRoaXMubGVhdmUoeyByZWFzb246ICd1c2VyIGJsb2NrZWQnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdFcnJvciBsZWF2aW5nIGNhbGwgYWZ0ZXIgYmVpbmcgYmxvY2tlZCcsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIGNhbmNlbCBhdXRvLWRyb3Agd2hlbiBjYWxsIGlzXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5zZXNzaW9uJCwgKHNlc3Npb24pID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnJpbmdpbmcpIHJldHVybjtcblxuICAgICAgICBjb25zdCByZWNlaXZlcklkID0gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgICAgICAgaWYgKCFyZWNlaXZlcklkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaXNBY2NlcHRlZEJ5TWUgPSBCb29sZWFuKHNlc3Npb24/LmFjY2VwdGVkX2J5W3JlY2VpdmVySWRdKTtcbiAgICAgICAgY29uc3QgaXNSZWplY3RlZEJ5TWUgPSBCb29sZWFuKHNlc3Npb24/LnJlamVjdGVkX2J5W3JlY2VpdmVySWRdKTtcblxuICAgICAgICBpZiAoaXNBY2NlcHRlZEJ5TWUgfHwgaXNSZWplY3RlZEJ5TWUpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbEF1dG9Ecm9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIFwicmluZ2luZ1wiIG1vZGUgZWZmZWN0cyBhbmQgZXZlbnQgaGFuZGxlcnNcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnJpbmdpbmdTdWJqZWN0LCAoaXNSaW5naW5nKSA9PiB7XG4gICAgICAgIGlmICghaXNSaW5naW5nKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNhbGxTZXNzaW9uID0gdGhpcy5zdGF0ZS5zZXNzaW9uO1xuICAgICAgICBjb25zdCByZWNlaXZlcl9pZCA9IHRoaXMuY2xpZW50U3RvcmUuY29ubmVjdGVkVXNlcj8uaWQ7XG4gICAgICAgIGNvbnN0IGVuZGVkX2F0ID0gY2FsbFNlc3Npb24/LmVuZGVkX2F0O1xuICAgICAgICBjb25zdCBjcmVhdGVkX2J5X2lkID0gdGhpcy5zdGF0ZS5jcmVhdGVkQnk/LmlkO1xuICAgICAgICBjb25zdCByZWplY3RlZF9ieSA9IGNhbGxTZXNzaW9uPy5yZWplY3RlZF9ieTtcbiAgICAgICAgY29uc3QgYWNjZXB0ZWRfYnkgPSBjYWxsU2Vzc2lvbj8uYWNjZXB0ZWRfYnk7XG4gICAgICAgIGxldCBsZWF2ZUNhbGxJZGxlID0gZmFsc2U7XG4gICAgICAgIGlmIChlbmRlZF9hdCkge1xuICAgICAgICAgIC8vIGNhbGwgd2FzIGVuZGVkIGJlZm9yZSBpdCB3YXMgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgc28gd2Ugc2hvdWxkIGxlYXZlIGl0IHRvIGlkbGVcbiAgICAgICAgICBsZWF2ZUNhbGxJZGxlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjcmVhdGVkX2J5X2lkICYmIHJlamVjdGVkX2J5KSB7XG4gICAgICAgICAgaWYgKHJlamVjdGVkX2J5W2NyZWF0ZWRfYnlfaWRdKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHdhcyBjYW5jZWxsZWQgYnkgdGhlIGNhbGxlclxuICAgICAgICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyX2lkICYmIHJlamVjdGVkX2J5KSB7XG4gICAgICAgICAgaWYgKHJlamVjdGVkX2J5W3JlY2VpdmVyX2lkXSkge1xuICAgICAgICAgICAgLy8gY2FsbCB3YXMgcmVqZWN0ZWQgYnkgdGhlIHJlY2VpdmVyIGluIHNvbWUgb3RoZXIgZGV2aWNlXG4gICAgICAgICAgICBsZWF2ZUNhbGxJZGxlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXJfaWQgJiYgYWNjZXB0ZWRfYnkpIHtcbiAgICAgICAgICBpZiAoYWNjZXB0ZWRfYnlbcmVjZWl2ZXJfaWRdKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHdhcyBhY2NlcHRlZCBieSB0aGUgcmVjZWl2ZXIgaW4gc29tZSBvdGhlciBkZXZpY2VcbiAgICAgICAgICAgIGxlYXZlQ2FsbElkbGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGVhdmVDYWxsSWRsZSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5JRExFKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJJTkdJTkcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNjaGVkdWxlQXV0b0Ryb3AoKTtcbiAgICAgICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVPd25DYXBhYmlsaXRpZXNVcGRhdGVkID0gYXN5bmMgKFxuICAgIG93bkNhcGFiaWxpdGllczogT3duQ2FwYWJpbGl0eVtdLFxuICApID0+IHtcbiAgICAvLyB1cGRhdGUgdGhlIHBlcm1pc3Npb24gY29udGV4dC5cbiAgICB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5zZXRQZXJtaXNzaW9ucyhvd25DYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlcikgcmV0dXJuO1xuXG4gICAgLy8gY2hlY2sgaWYgdGhlIHVzZXIgc3RpbGwgaGFzIHB1Ymxpc2hpbmcgcGVybWlzc2lvbnMgYW5kIHN0b3AgcHVibGlzaGluZyBpZiBub3QuXG4gICAgY29uc3QgcGVybWlzc2lvblRvVHJhY2tUeXBlID0ge1xuICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9BVURJT106IFRyYWNrVHlwZS5BVURJTyxcbiAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfVklERU9dOiBUcmFja1R5cGUuVklERU8sXG4gICAgICBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV06IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IFtwZXJtaXNzaW9uLCB0cmFja1R5cGVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgcGVybWlzc2lvblRvVHJhY2tUeXBlLFxuICAgICkpIHtcbiAgICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKFxuICAgICAgICBwZXJtaXNzaW9uIGFzIE93bkNhcGFiaWxpdHksXG4gICAgICApO1xuICAgICAgaWYgKGhhc1Blcm1pc3Npb24pIGNvbnRpbnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICAgICAgICBjYXNlIFRyYWNrVHlwZS5BVURJTzpcbiAgICAgICAgICAgIGlmICh0aGlzLm1pY3JvcGhvbmUuZW5hYmxlZCkgYXdhaXQgdGhpcy5taWNyb3Bob25lLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVHJhY2tUeXBlLlZJREVPOlxuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhLmVuYWJsZWQpIGF3YWl0IHRoaXMuY2FtZXJhLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRTpcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcmVlblNoYXJlLmVuYWJsZWQpIGF3YWl0IHRoaXMuc2NyZWVuU2hhcmUuZGlzYWJsZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgIGBDYW4ndCBkaXNhYmxlIG1pYy9jYW1lcmEvc2NyZWVuc2hhcmUgYWZ0ZXIgcmV2b2tlZCBwZXJtaXNzaW9uc2AsXG4gICAgICAgICAgZXJyLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogWW91IGNhbiBzdWJzY3JpYmUgdG8gV2ViU29ja2V0IGV2ZW50cyBwcm92aWRlZCBieSB0aGUgQVBJLiBUbyByZW1vdmUgYSBzdWJzY3JpcHRpb24sIGNhbGwgdGhlIGBvZmZgIG1ldGhvZC5cbiAgICogUGxlYXNlIG5vdGUgdGhhdCBzdWJzY3JpYmluZyB0byBXZWJTb2NrZXQgZXZlbnRzIGlzIGFuIGFkdmFuY2VkIHVzZS1jYXNlLlxuICAgKiBGb3IgbW9zdCB1c2UtY2FzZXMsIGl0IHNob3VsZCBiZSBlbm91Z2ggdG8gd2F0Y2ggZm9yIHN0YXRlIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUuXG4gICAqIEBwYXJhbSBmbiB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDYWxsRXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICBpZiAoaXNTZnVFdmVudChldmVudE5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xuICAgIH1cblxuICAgIGNvbnN0IG9mZkhhbmRsZXIgPSB0aGlzLnN0cmVhbUNsaWVudC5vbihldmVudE5hbWUsIChlKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IGUgYXMgU3RyZWFtQ2FsbEV2ZW50O1xuICAgICAgaWYgKGV2ZW50LmNhbGxfY2lkICYmIGV2ZW50LmNhbGxfY2lkID09PSB0aGlzLmNpZCkge1xuICAgICAgICBmbihldmVudCBhcyBBbGxDYWxsRXZlbnRzW0VdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGtlZXAgdGhlICdvZmYnIHJlZmVyZW5jZSByZXR1cm5lZCBieSB0aGUgc3RyZWFtIGNsaWVudFxuICAgIHRoaXMuc3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycy5zZXQoZm4sIG9mZkhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGZuKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgc3Vic2NyaXB0aW9uIGZvciBXZWJTb2NrZXQgZXZlbnRzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IHRoZSBgb25gIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIGZuIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKi9cbiAgb2ZmID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDYWxsRXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICBpZiAoaXNTZnVFdmVudChldmVudE5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaGVyLm9mZihldmVudE5hbWUsIGZuKTtcbiAgICB9XG5cbiAgICAvLyB1bnN1YnNjcmliZSBmcm9tIHRoZSBzdHJlYW0gY2xpZW50IGV2ZW50IGJ5IHVzaW5nIHRoZSAnb2ZmJyByZWZlcmVuY2VcbiAgICBjb25zdCByZWdpc3RlcmVkT2ZmSGFuZGxlciA9IHRoaXMuc3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycy5nZXQoZm4pO1xuICAgIGlmIChyZWdpc3RlcmVkT2ZmSGFuZGxlcikge1xuICAgICAgcmVnaXN0ZXJlZE9mZkhhbmRsZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIExlYXZlIHRoZSBjYWxsIGFuZCBzdG9wIHRoZSBtZWRpYSBzdHJlYW1zIHRoYXQgd2VyZSBwdWJsaXNoZWQgYnkgdGhlIGNhbGwuXG4gICAqL1xuICBsZWF2ZSA9IGFzeW5jICh7XG4gICAgcmVqZWN0LFxuICAgIHJlYXNvbiA9ICd1c2VyIGlzIGxlYXZpbmcgdGhlIGNhbGwnLFxuICB9OiBDYWxsTGVhdmVPcHRpb25zID0ge30pID0+IHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5qb2luTGVhdmVDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2FsbGluZ1N0YXRlID0gdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGU7XG4gICAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBsZWF2ZSBjYWxsIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBsZWZ0LicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTklORykge1xuICAgICAgICBjb25zdCB3YWl0VW50aWxDYWxsSm9pbmVkID0gKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUkXG4gICAgICAgICAgICAgIC5waXBlKHRha2VXaGlsZSgoc3RhdGUpID0+IHN0YXRlICE9PSBDYWxsaW5nU3RhdGUuSk9JTkVELCB0cnVlKSlcbiAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB3YWl0VW50aWxDYWxsSm9pbmVkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HICYmIHJlamVjdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHJlamVjdCkge1xuICAgICAgICAgIGF3YWl0IHRoaXMucmVqZWN0KHJlYXNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgcmVqZWN0IHdhcyB1bmRlZmluZWQsIHdlIHN0aWxsIGhhdmUgdG8gY2FuY2VsIHRoZSBjYWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICAvLyB3aGVuIEkgYW0gdGhlIGNyZWF0b3IgYW5kIGV2ZXJ5b25lIGVsc2UgbGVmdCB0aGUgY2FsbFxuICAgICAgICAgIGNvbnN0IGhhc090aGVyUGFydGljaXBhbnRzID0gdGhpcy5zdGF0ZS5yZW1vdGVQYXJ0aWNpcGFudHMubGVuZ3RoID4gMDtcbiAgICAgICAgICBpZiAodGhpcy5pc0NyZWF0ZWRCeU1lICYmICFoYXNPdGhlclBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWplY3QoJ2NhbmNlbCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICAgIHRoaXMuc3RhdHNSZXBvcnRlciA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zdG9wKCk7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMuc3Vic2NyaWJlcj8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5zdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5wdWJsaXNoZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50Py5sZWF2ZUFuZENsb3NlKHJlYXNvbik7XG4gICAgICB0aGlzLnNmdUNsaWVudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5zZXRTZnVDbGllbnQodW5kZWZpbmVkKTtcblxuICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkxFRlQpO1xuICAgICAgdGhpcy5zdGF0ZS5kaXNwb3NlKCk7XG5cbiAgICAgIC8vIENhbGwgYWxsIGxlYXZlIGNhbGwgaG9va3MsIGUuZy4gdG8gY2xlYW4gdXAgZ2xvYmFsIGV2ZW50IGhhbmRsZXJzXG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmZvckVhY2goKGhvb2spID0+IGhvb2soKSk7XG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICB0aGlzLmhhc0pvaW5lZE9uY2UgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2xpZW50U3RvcmUudW5yZWdpc3RlckNhbGwodGhpcyk7XG5cbiAgICAgIHRoaXMuY2FtZXJhLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMubWljcm9waG9uZS5kaXNwb3NlKCk7XG4gICAgICB0aGlzLnNjcmVlblNoYXJlLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuc3BlYWtlci5kaXNwb3NlKCk7XG5cbiAgICAgIGNvbnN0IHN0b3BPbkxlYXZlUHJvbWlzZXM6IFByb21pc2U8dm9pZD5bXSA9IFtdO1xuICAgICAgaWYgKHRoaXMuY2FtZXJhLnN0b3BPbkxlYXZlKSB7XG4gICAgICAgIHN0b3BPbkxlYXZlUHJvbWlzZXMucHVzaCh0aGlzLmNhbWVyYS5kaXNhYmxlKHRydWUpKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm1pY3JvcGhvbmUuc3RvcE9uTGVhdmUpIHtcbiAgICAgICAgc3RvcE9uTGVhdmVQcm9taXNlcy5wdXNoKHRoaXMubWljcm9waG9uZS5kaXNhYmxlKHRydWUpKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNjcmVlblNoYXJlLnN0b3BPbkxlYXZlKSB7XG4gICAgICAgIHN0b3BPbkxlYXZlUHJvbWlzZXMucHVzaCh0aGlzLnNjcmVlblNoYXJlLmRpc2FibGUodHJ1ZSkpO1xuICAgICAgfVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoc3RvcE9uTGVhdmVQcm9taXNlcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNhbGwgaXMgXCJyaW5naW5nXCIgdHlwZSBvZiBjYWxsLlxuICAgKi9cbiAgZ2V0IHJpbmdpbmcoKSB7XG4gICAgcmV0dXJuIGdldEN1cnJlbnRWYWx1ZSh0aGlzLnJpbmdpbmdTdWJqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnJlbnQgdXNlciBJRC5cbiAgICovXG4gIGdldCBjdXJyZW50VXNlcklkKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudFN0b3JlLmNvbm5lY3RlZFVzZXI/LmlkO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgZmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNhbGwgd2FzIGNyZWF0ZWQgYnkgdGhlIGN1cnJlbnQgdXNlci5cbiAgICovXG4gIGdldCBpc0NyZWF0ZWRCeU1lKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmNyZWF0ZWRCeT8uaWQgPT09IHRoaXMuY3VycmVudFVzZXJJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZnJvbSB0aGUgY2FsbCByZXNwb25zZSBmcm9tIHRoZSBcImNhbGwucmluZ1wiIGV2ZW50XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdXBkYXRlRnJvbVJpbmdpbmdFdmVudCA9IGFzeW5jIChldmVudDogQ2FsbFJpbmdFdmVudCkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2V0dXAoKTtcbiAgICAvLyBjYWxsLnJpbmcgZXZlbnQgZXhjbHVkZXMgdGhlIGNhbGwgY3JlYXRvciBpbiB0aGUgbWVtYmVycyBsaXN0XG4gICAgLy8gYXMgdGhlIGNyZWF0b3IgZG9lcyBub3QgZ2V0IHRoZSByaW5nIGV2ZW50XG4gICAgLy8gc28gdXBkYXRlIHRoZSBtZW1iZXIgbGlzdCBhY2NvcmRpbmdseVxuICAgIGNvbnN0IHsgY3JlYXRlZF9ieSwgc2V0dGluZ3MgfSA9IGV2ZW50LmNhbGw7XG4gICAgY29uc3QgY3JlYXRvciA9IHRoaXMuc3RhdGUubWVtYmVycy5maW5kKChtKSA9PiBtLnVzZXIuaWQgPT09IGNyZWF0ZWRfYnkuaWQpO1xuICAgIGlmICghY3JlYXRvcikge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKGV2ZW50Lm1lbWJlcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMoW2NyZWF0b3IsIC4uLmV2ZW50Lm1lbWJlcnNdKTtcbiAgICB9XG4gICAgLy8gdXBkYXRlIHRoZSBjYWxsIHN0YXRlIHdpdGggdGhlIGxhdGVzdCBldmVudCBkYXRhXG4gICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGV2ZW50LmNhbGwpO1xuICAgIHRoaXMud2F0Y2hpbmcgPSB0cnVlO1xuICAgIHRoaXMucmluZ2luZ1N1YmplY3QubmV4dCh0cnVlKTtcbiAgICAvLyB3ZSByZW1vdmUgdGhlIGluc3RhbmNlIGZyb20gdGhlIGNhbGxzIGxpc3QgdG8gZW5hYmxlIHRoZSBmb2xsb3dpbmcgZmlsdGVyIGluIHVzZUNhbGxzIGhvb2tcbiAgICAvLyBjb25zdCBjYWxscyA9IHVzZUNhbGxzKCkuZmlsdGVyKChjKSA9PiBjLnJpbmdpbmcpO1xuICAgIGNvbnN0IGNhbGxzID0gdGhpcy5jbGllbnRTdG9yZS5jYWxscy5maWx0ZXIoKGMpID0+IGMuY2lkICE9PSB0aGlzLmNpZCk7XG4gICAgdGhpcy5jbGllbnRTdG9yZS5zZXRDYWxscyhbdGhpcywgLi4uY2FsbHNdKTtcbiAgICBhd2FpdCB0aGlzLmFwcGx5RGV2aWNlQ29uZmlnKHNldHRpbmdzLCBmYWxzZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcy5yaW5nIGlmIHNldCB0byB0cnVlLCBhIGBjYWxsLnJpbmdgIGV2ZW50IHdpbGwgYmUgc2VudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKiBAcGFyYW0gcGFyYW1zLm5vdGlmeSBpZiBzZXQgdG8gdHJ1ZSwgYSBgY2FsbC5ub3RpZmljYXRpb25gIGV2ZW50IHdpbGwgYmUgc2VudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKiBAcGFyYW0gcGFyYW1zLm1lbWJlcnNfbGltaXQgdGhlIHRvdGFsIG51bWJlciBvZiBtZW1iZXJzIHRvIHJldHVybiBhcyBwYXJ0IG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIGdldCA9IGFzeW5jIChwYXJhbXM/OiB7XG4gICAgcmluZz86IGJvb2xlYW47XG4gICAgbm90aWZ5PzogYm9vbGVhbjtcbiAgICBtZW1iZXJzX2xpbWl0PzogbnVtYmVyO1xuICB9KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zZXR1cCgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldENhbGxSZXNwb25zZT4oXG4gICAgICB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoLFxuICAgICAgcGFyYW1zLFxuICAgICk7XG5cbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UocmVzcG9uc2UuY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKHJlc3BvbnNlLm1lbWJlcnMpO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKHJlc3BvbnNlLm93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKHBhcmFtcz8ucmluZyB8fCB0aGlzLnJpbmdpbmcpIHtcbiAgICAgIC8vIHRoZSBjYWxsIHJlc3BvbnNlIGNhbiBpbmRpY2F0ZSB3aGVyZSB0aGUgY2FsbCBpcyBzdGlsbCByaW5naW5nIG9yIG5vdFxuICAgICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0cmVhbUNsaWVudC5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgIHRoaXMud2F0Y2hpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5jbGllbnRTdG9yZS5yZWdpc3RlckNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5hcHBseURldmljZUNvbmZpZyhyZXNwb25zZS5jYWxsLnNldHRpbmdzLCBmYWxzZSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FsbCBhbmQgY3JlYXRlcyBpdCBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSB0byBjcmVhdGUgdGhlIGNhbGwgd2l0aC5cbiAgICovXG4gIGdldE9yQ3JlYXRlID0gYXN5bmMgKGRhdGE/OiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zZXR1cCgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlLFxuICAgICAgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgID4odGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aCwgZGF0YSk7XG5cbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UocmVzcG9uc2UuY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKHJlc3BvbnNlLm1lbWJlcnMpO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKHJlc3BvbnNlLm93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKGRhdGE/LnJpbmcgfHwgdGhpcy5yaW5naW5nKSB7XG4gICAgICAvLyB0aGUgY2FsbCByZXNwb25zZSBjYW4gaW5kaWNhdGUgd2hlcmUgdGhlIGNhbGwgaXMgc3RpbGwgcmluZ2luZyBvciBub3RcbiAgICAgIHRoaXMucmluZ2luZ1N1YmplY3QubmV4dCh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdHJlYW1DbGllbnQuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICB0aGlzLndhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2xpZW50U3RvcmUucmVnaXN0ZXJDYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuYXBwbHlEZXZpY2VDb25maWcocmVzcG9uc2UuY2FsbC5zZXR0aW5ncywgZmFsc2UpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2FsbFxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSB0byBjcmVhdGUgdGhlIGNhbGwgd2l0aC5cbiAgICovXG4gIGNyZWF0ZSA9IGFzeW5jIChkYXRhPzogR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmdldE9yQ3JlYXRlKGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIHNob3J0Y3V0IGZvciB7QGxpbmsgQ2FsbC5nZXR9IHdpdGggYHJpbmdgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgLlxuICAgKiBXaWxsIHNlbmQgYSBgY2FsbC5yaW5nYCBldmVudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKi9cbiAgcmluZyA9IGFzeW5jICgpOiBQcm9taXNlPEdldENhbGxSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldCh7IHJpbmc6IHRydWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgc2hvcnRjdXQgZm9yIHtAbGluayBDYWxsLmdldH0gd2l0aCBgbm90aWZ5YCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYC5cbiAgICogV2lsbCBzZW5kIGEgYGNhbGwubm90aWZpY2F0aW9uYCBldmVudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKi9cbiAgbm90aWZ5ID0gYXN5bmMgKCk6IFByb21pc2U8R2V0Q2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0KHsgbm90aWZ5OiB0cnVlIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXJrcyB0aGUgaW5jb21pbmcgY2FsbCBhcyBhY2NlcHRlZC5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgb25seSBmb3IgXCJyaW5naW5nXCIgY2FsbCBmbG93cy5cbiAgICoge0BsaW5rIENhbGwuam9pbn0gaW52b2tlcyB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5IGZvciB5b3Ugd2hlbiBqb2luaW5nIGEgY2FsbC5cbiAgICogVW5sZXNzIHlvdSBhcmUgaW1wbGVtZW50aW5nIGEgY3VzdG9tIFwicmluZ2luZ1wiIGZsb3csIHlvdSBzaG91bGQgbm90IHVzZSB0aGlzIG1ldGhvZC5cbiAgICovXG4gIGFjY2VwdCA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxBY2NlcHRDYWxsUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vYWNjZXB0YCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXJrcyB0aGUgaW5jb21pbmcgY2FsbCBhcyByZWplY3RlZC5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgb25seSBmb3IgXCJyaW5naW5nXCIgY2FsbCBmbG93cy5cbiAgICoge0BsaW5rIENhbGwubGVhdmV9IGludm9rZXMgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseSBmb3IgeW91IHdoZW4geW91IGxlYXZlIG9yIHJlamVjdCB0aGlzIGNhbGwuXG4gICAqIFVubGVzcyB5b3UgYXJlIGltcGxlbWVudGluZyBhIGN1c3RvbSBcInJpbmdpbmdcIiBmbG93LCB5b3Ugc2hvdWxkIG5vdCB1c2UgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSByZWFzb24gdGhlIHJlYXNvbiBmb3IgcmVqZWN0aW5nIHRoZSBjYWxsLlxuICAgKi9cbiAgcmVqZWN0ID0gYXN5bmMgKHJlYXNvbj86IFJlamVjdFJlYXNvbik6IFByb21pc2U8UmVqZWN0Q2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8UmVqZWN0Q2FsbFJlc3BvbnNlLCBSZWplY3RDYWxsUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZWplY3RgLFxuICAgICAgeyByZWFzb246IHJlYXNvbiB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgc3RhcnQgdG8gd2F0Y2ggZm9yIGNhbGwgcmVsYXRlZCBXZWJTb2NrZXQgZXZlbnRzIGFuZCBpbml0aWF0ZSBhIGNhbGwgc2Vzc2lvbiB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyBvbmNlIHRoZSBjYWxsIGpvaW4tZmxvdyBoYXMgZmluaXNoZWQuXG4gICAqL1xuICBqb2luID0gYXN5bmMgKGRhdGE/OiBKb2luQ2FsbERhdGEpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBhd2FpdCB0aGlzLnNldHVwKCk7XG4gICAgY29uc3QgY2FsbGluZ1N0YXRlID0gdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGU7XG4gICAgaWYgKFtDYWxsaW5nU3RhdGUuSk9JTkVELCBDYWxsaW5nU3RhdGUuSk9JTklOR10uaW5jbHVkZXMoY2FsbGluZ1N0YXRlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbGxlZ2FsIFN0YXRlOiBjYWxsLmpvaW4oKSBzaGFsbCBiZSBjYWxsZWQgb25seSBvbmNlYCk7XG4gICAgfVxuXG4gICAgdGhpcy5qb2luQ2FsbERhdGEgPSBkYXRhO1xuXG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1N0YXJ0aW5nIGpvaW4gZmxvdycpO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lOSU5HKTtcblxuICAgIGNvbnN0IHBlcmZvcm1pbmdNaWdyYXRpb24gPVxuICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9PT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURTtcbiAgICBjb25zdCBwZXJmb3JtaW5nUmVqb2luID1cbiAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICBjb25zdCBwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCA9XG4gICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNUO1xuXG4gICAgbGV0IHN0YXRzT3B0aW9ucyA9IHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8ub3B0aW9ucztcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jcmVkZW50aWFscyB8fFxuICAgICAgIXN0YXRzT3B0aW9ucyB8fFxuICAgICAgcGVyZm9ybWluZ1Jlam9pbiB8fFxuICAgICAgcGVyZm9ybWluZ01pZ3JhdGlvblxuICAgICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgam9pblJlc3BvbnNlID0gYXdhaXQgdGhpcy5kb0pvaW5SZXF1ZXN0KGRhdGEpO1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gam9pblJlc3BvbnNlLmNyZWRlbnRpYWxzO1xuICAgICAgICBzdGF0c09wdGlvbnMgPSBqb2luUmVzcG9uc2Uuc3RhdHNfb3B0aW9ucztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIGNhbGwgc3RhdGUgaWYgdGhlIGpvaW4tZmxvdyBmYWlsc1xuICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShjYWxsaW5nU3RhdGUpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcmV2aW91c1NmdUNsaWVudCA9IHRoaXMuc2Z1Q2xpZW50O1xuICAgIGNvbnN0IHByZXZpb3VzU2Vzc2lvbklkID0gcHJldmlvdXNTZnVDbGllbnQ/LnNlc3Npb25JZDtcbiAgICBjb25zdCBpc1dzSGVhbHRoeSA9ICEhcHJldmlvdXNTZnVDbGllbnQ/LmlzSGVhbHRoeTtcbiAgICBjb25zdCBzZnVDbGllbnQgPVxuICAgICAgcGVyZm9ybWluZ1Jlam9pbiB8fCBwZXJmb3JtaW5nTWlncmF0aW9uIHx8ICFpc1dzSGVhbHRoeVxuICAgICAgICA/IG5ldyBTdHJlYW1TZnVDbGllbnQoe1xuICAgICAgICAgICAgbG9nVGFnOiBTdHJpbmcodGhpcy5zZnVDbGllbnRUYWcrKyksXG4gICAgICAgICAgICBkaXNwYXRjaGVyOiB0aGlzLmRpc3BhdGNoZXIsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogdGhpcy5jcmVkZW50aWFscyxcbiAgICAgICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgICAgICAvLyBhIG5ldyBzZXNzaW9uX2lkIGlzIG5lY2Vzc2FyeSBmb3IgdGhlIFJFSk9JTiBzdHJhdGVneS5cbiAgICAgICAgICAgIC8vIHdlIHVzZSB0aGUgcHJldmlvdXMgc2Vzc2lvbl9pZCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIHNlc3Npb25JZDogcGVyZm9ybWluZ1Jlam9pbiA/IHVuZGVmaW5lZCA6IHByZXZpb3VzU2Vzc2lvbklkLFxuICAgICAgICAgICAgb25TaWduYWxDbG9zZTogKCkgPT4gdGhpcy5oYW5kbGVTZnVTaWduYWxDbG9zZShzZnVDbGllbnQpLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogcHJldmlvdXNTZnVDbGllbnQ7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFNmdUNsaWVudChzZnVDbGllbnQpO1xuXG4gICAgY29uc3QgY2xpZW50RGV0YWlscyA9IGdldENsaWVudERldGFpbHMoKTtcbiAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHNlbmQgSm9pblJlcXVlc3QgaWYgd2UgYXJlIHJlLXVzaW5nIGFuIGV4aXN0aW5nIGhlYWx0aHkgU0ZVIGNsaWVudFxuICAgIGlmIChwcmV2aW91c1NmdUNsaWVudCAhPT0gc2Z1Q2xpZW50KSB7XG4gICAgICAvLyBwcmVwYXJlIGEgZ2VuZXJpYyBTRFAgYW5kIHNlbmQgaXQgdG8gdGhlIFNGVS5cbiAgICAgIC8vIHRoZXNlIGFyZSB0aHJvdy1hd2F5IFNEUHMgdGhhdCB0aGUgU0ZVIHdpbGwgdXNlIHRvIGRldGVybWluZVxuICAgICAgLy8gdGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY2xpZW50IChjb2RlYyBzdXBwb3J0LCBldGMuKVxuICAgICAgY29uc3QgW3N1YnNjcmliZXJTZHAsIHB1Ymxpc2hlclNkcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldEdlbmVyaWNTZHAoJ3JlY3Zvbmx5JyksXG4gICAgICAgIGdldEdlbmVyaWNTZHAoJ3NlbmRvbmx5JyksXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IGlzUmVjb25uZWN0aW5nID1cbiAgICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSAhPT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRUQ7XG4gICAgICBjb25zdCByZWNvbm5lY3REZXRhaWxzID0gaXNSZWNvbm5lY3RpbmdcbiAgICAgICAgPyB0aGlzLmdldFJlY29ubmVjdERldGFpbHMoZGF0YT8ubWlncmF0aW5nX2Zyb20sIHByZXZpb3VzU2Vzc2lvbklkKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHByZWZlcnJlZFB1Ymxpc2hPcHRpb25zID0gIWlzUmVjb25uZWN0aW5nXG4gICAgICAgID8gdGhpcy5nZXRQcmVmZXJyZWRQdWJsaXNoT3B0aW9ucygpXG4gICAgICAgIDogdGhpcy5jdXJyZW50UHVibGlzaE9wdGlvbnMgfHwgW107XG4gICAgICBjb25zdCBwcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zID0gIWlzUmVjb25uZWN0aW5nXG4gICAgICAgID8gdGhpcy5nZXRQcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zKClcbiAgICAgICAgOiBbXTtcbiAgICAgIGNvbnN0IHsgY2FsbFN0YXRlLCBmYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzLCBwdWJsaXNoT3B0aW9ucyB9ID1cbiAgICAgICAgYXdhaXQgc2Z1Q2xpZW50LmpvaW4oe1xuICAgICAgICAgIHN1YnNjcmliZXJTZHAsXG4gICAgICAgICAgcHVibGlzaGVyU2RwLFxuICAgICAgICAgIGNsaWVudERldGFpbHMsXG4gICAgICAgICAgZmFzdFJlY29ubmVjdDogcGVyZm9ybWluZ0Zhc3RSZWNvbm5lY3QsXG4gICAgICAgICAgcmVjb25uZWN0RGV0YWlscyxcbiAgICAgICAgICBwcmVmZXJyZWRQdWJsaXNoT3B0aW9ucyxcbiAgICAgICAgICBwcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zLFxuICAgICAgICB9KTtcblxuICAgICAgdGhpcy5jdXJyZW50UHVibGlzaE9wdGlvbnMgPSBwdWJsaXNoT3B0aW9ucztcbiAgICAgIHRoaXMuZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kcyA9IGZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHM7XG4gICAgICBpZiAoY2FsbFN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbVNmdUNhbGxTdGF0ZShcbiAgICAgICAgICBjYWxsU3RhdGUsXG4gICAgICAgICAgc2Z1Q2xpZW50LnNlc3Npb25JZCxcbiAgICAgICAgICByZWNvbm5lY3REZXRhaWxzLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcGVyZm9ybWluZ01pZ3JhdGlvbikge1xuICAgICAgLy8gaW4gTUlHUkFUSU9OLCBgSk9JTkVEYCBzdGF0ZSBpcyBzZXQgaW4gYHRoaXMucmVjb25uZWN0TWlncmF0ZSgpYFxuICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkpPSU5FRCk7XG4gICAgfVxuICAgIHRoaXMuaGFzSm9pbmVkT25jZSA9IHRydWU7XG5cbiAgICAvLyB3aGVuIHBlcmZvcm1pbmcgZmFzdCByZWNvbm5lY3QsIG9yIHdoZW4gd2UgcmV1c2UgdGhlIHNhbWUgU0ZVIGNsaWVudCxcbiAgICAvLyAod3MgcmVtYWluZWQgaGVhbHRoeSksIHdlIGp1c3QgbmVlZCB0byByZXN0b3JlIHRoZSBJQ0UgY29ubmVjdGlvblxuICAgIGlmIChwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCkge1xuICAgICAgLy8gdGhlIFNGVSBhdXRvbWF0aWNhbGx5IGlzc3VlcyBhbiBJQ0UgcmVzdGFydCBvbiB0aGUgc3Vic2NyaWJlclxuICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSB0byBkbyBpdCBvdXJzZWx2ZXNcbiAgICAgIGF3YWl0IHRoaXMucmVzdG9yZUlDRShzZnVDbGllbnQsIHsgaW5jbHVkZVN1YnNjcmliZXI6IGZhbHNlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uQ29uZmlnID0gdG9SdGNDb25maWd1cmF0aW9uKHRoaXMuY3JlZGVudGlhbHMuaWNlX3NlcnZlcnMpO1xuICAgICAgdGhpcy5pbml0UHVibGlzaGVyQW5kU3Vic2NyaWJlcih7XG4gICAgICAgIHNmdUNsaWVudCxcbiAgICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgICAgc3RhdHNPcHRpb25zLFxuICAgICAgICBwdWJsaXNoT3B0aW9uczogdGhpcy5jdXJyZW50UHVibGlzaE9wdGlvbnMgfHwgW10sXG4gICAgICAgIGNsb3NlUHJldmlvdXNJbnN0YW5jZXM6ICFwZXJmb3JtaW5nTWlncmF0aW9uLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIHdlIG9ubHkgdHJhY2sgY29ubmVjdGlvbiB0aW1pbmcgaWYgd2UgYXJlIG5vdCBjYWxsaW5nIHRoaXMgbWV0aG9kIGFzIHBhcnQgb2YgYSByZWNvbm5lY3Rpb24gZmxvd1xuICAgIGlmICghcGVyZm9ybWluZ1Jlam9pbiAmJiAhcGVyZm9ybWluZ0Zhc3RSZWNvbm5lY3QgJiYgIXBlcmZvcm1pbmdNaWdyYXRpb24pIHtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZENvbm5lY3Rpb25UaW1lKFxuICAgICAgICAoRGF0ZS5ub3coKSAtIGNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHBlcmZvcm1pbmdSZWpvaW4pIHtcbiAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lbdGhpcy5yZWNvbm5lY3RTdHJhdGVneV07XG4gICAgICBhd2FpdCBwcmV2aW91c1NmdUNsaWVudD8ubGVhdmVBbmRDbG9zZShcbiAgICAgICAgYENsb3NpbmcgcHJldmlvdXMgV1MgYWZ0ZXIgcmVjb25uZWN0IHdpdGggc3RyYXRlZ3k6ICR7c3RyYXRlZ3l9YCxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghaXNXc0hlYWx0aHkpIHtcbiAgICAgIHByZXZpb3VzU2Z1Q2xpZW50Py5jbG9zZShcbiAgICAgICAgU3RyZWFtU2Z1Q2xpZW50LkRJU1BPU0VfT0xEX1NPQ0tFVCxcbiAgICAgICAgJ0Nsb3NpbmcgdW5oZWFsdGh5IFdTIGFmdGVyIHJlY29ubmVjdCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGRldmljZSBzZXR0aW5ncyBzaG91bGQgYmUgYXBwbGllZCBvbmx5IG9uY2UsIHdlIGRvbid0IGhhdmUgdG9cbiAgICAvLyByZS1hcHBseSB0aGVtIG9uIGxhdGVyIHJlY29ubmVjdGlvbnMgb3Igc2VydmVyLXNpZGUgZGF0YSBmZXRjaGVzXG4gICAgaWYgKCF0aGlzLmRldmljZVNldHRpbmdzQXBwbGllZE9uY2UgJiYgdGhpcy5zdGF0ZS5zZXR0aW5ncykge1xuICAgICAgYXdhaXQgdGhpcy5hcHBseURldmljZUNvbmZpZyh0aGlzLnN0YXRlLnNldHRpbmdzLCB0cnVlKTtcbiAgICAgIHRoaXMuZGV2aWNlU2V0dGluZ3NBcHBsaWVkT25jZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gV2Ugc2hvdWxkbid0IHBlcnNpc3QgdGhlIGByaW5nYCBhbmQgYG5vdGlmeWAgc3RhdGUgYWZ0ZXIgam9pbmluZyB0aGUgY2FsbFxuICAgIC8vIGFzIGl0J3MgYSBvbmUtdGltZSBldmVudCBhbmQgY2xhc2hlcyB3aXRoIHRoZSBwb3RlbnRpYWwgcmVjb25uZWN0aW9uIGF0dGVtcHRzLlxuICAgIC8vIFdoZW4gcmVjb25uZWN0aW5nLCBpZiBwcm92aWRlZCB3aXRoIGByaW5nOiB0cnVlYCBvciBgbm90aWZ5OiB0cnVlYCxcbiAgICAvLyB3ZSB3aWxsIHNwYW0gdGhlIG90aGVyIHBhcnRpY2lwYW50cyB3aXRoIHB1c2ggbm90aWZpY2F0aW9ucyBhbmQgYGNhbGwucmluZ2AgZXZlbnRzLlxuICAgIGRlbGV0ZSB0aGlzLmpvaW5DYWxsRGF0YT8ucmluZztcbiAgICBkZWxldGUgdGhpcy5qb2luQ2FsbERhdGE/Lm5vdGlmeTtcbiAgICAvLyByZXNldCB0aGUgcmVjb25uZWN0IHN0cmF0ZWd5IHRvIHVuc3BlY2lmaWVkIGFmdGVyIGEgc3VjY2Vzc2Z1bCByZWNvbm5lY3Rpb25cbiAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRUQ7XG5cbiAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBKb2luZWQgY2FsbCAke3RoaXMuY2lkfWApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlcyBSZWNvbm5lY3QgRGV0YWlscyBvYmplY3QuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRSZWNvbm5lY3REZXRhaWxzID0gKFxuICAgIG1pZ3JhdGluZ0Zyb21TZnVJZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHByZXZpb3VzU2Vzc2lvbklkOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICk6IFJlY29ubmVjdERldGFpbHMgPT4ge1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gdGhpcy5yZWNvbm5lY3RTdHJhdGVneTtcbiAgICBjb25zdCBwZXJmb3JtaW5nUmVqb2luID0gc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICBjb25zdCBhbm5vdW5jZWRUcmFja3MgPVxuICAgICAgdGhpcy5wdWJsaXNoZXI/LmdldEFubm91bmNlZFRyYWNrc0ZvclJlY29ubmVjdCgpIHx8IFtdO1xuICAgIHJldHVybiB7XG4gICAgICBzdHJhdGVneSxcbiAgICAgIGFubm91bmNlZFRyYWNrcyxcbiAgICAgIHN1YnNjcmlwdGlvbnM6IHRoaXMuZHluYXNjYWxlTWFuYWdlci50cmFja1N1YnNjcmlwdGlvbnMsXG4gICAgICByZWNvbm5lY3RBdHRlbXB0OiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLFxuICAgICAgZnJvbVNmdUlkOiBtaWdyYXRpbmdGcm9tU2Z1SWQgfHwgJycsXG4gICAgICBwcmV2aW91c1Nlc3Npb25JZDogcGVyZm9ybWluZ1Jlam9pbiA/IHByZXZpb3VzU2Vzc2lvbklkIHx8ICcnIDogJycsXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogUHJlcGFyZXMgdGhlIHByZWZlcnJlZCBjb2RlYyBmb3IgdGhlIGNhbGwuXG4gICAqIFRoaXMgaXMgYW4gZXhwZXJpbWVudGFsIGNsaWVudCBmZWF0dXJlIGFuZCBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIGdldFByZWZlcnJlZFB1Ymxpc2hPcHRpb25zID0gKCk6IFB1Ymxpc2hPcHRpb25bXSA9PiB7XG4gICAgY29uc3QgeyBwcmVmZXJyZWRDb2RlYywgZm10cExpbmUsIHByZWZlcnJlZEJpdHJhdGUsIG1heFNpbXVsY2FzdExheWVycyB9ID1cbiAgICAgIHRoaXMuY2xpZW50UHVibGlzaE9wdGlvbnMgfHwge307XG4gICAgaWYgKCFwcmVmZXJyZWRDb2RlYyAmJiAhcHJlZmVycmVkQml0cmF0ZSAmJiAhbWF4U2ltdWxjYXN0TGF5ZXJzKSByZXR1cm4gW107XG5cbiAgICBjb25zdCBjb2RlYyA9IHByZWZlcnJlZENvZGVjXG4gICAgICA/IENvZGVjLmNyZWF0ZSh7IG5hbWU6IHByZWZlcnJlZENvZGVjLnNwbGl0KCcvJykucG9wKCksIGZtdHA6IGZtdHBMaW5lIH0pXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHByZWZlcnJlZFB1Ymxpc2hPcHRpb25zID0gW1xuICAgICAgUHVibGlzaE9wdGlvbi5jcmVhdGUoe1xuICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5WSURFTyxcbiAgICAgICAgY29kZWMsXG4gICAgICAgIGJpdHJhdGU6IHByZWZlcnJlZEJpdHJhdGUsXG4gICAgICAgIG1heFNwYXRpYWxMYXllcnM6IG1heFNpbXVsY2FzdExheWVycyxcbiAgICAgIH0pLFxuICAgIF07XG5cbiAgICBjb25zdCBzY3JlZW5TaGFyZVNldHRpbmdzID0gdGhpcy5zY3JlZW5TaGFyZS5nZXRTZXR0aW5ncygpO1xuICAgIGlmIChzY3JlZW5TaGFyZVNldHRpbmdzKSB7XG4gICAgICBwcmVmZXJyZWRQdWJsaXNoT3B0aW9ucy5wdXNoKFxuICAgICAgICBQdWJsaXNoT3B0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgdHJhY2tUeXBlOiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFLFxuICAgICAgICAgIGZwczogc2NyZWVuU2hhcmVTZXR0aW5ncy5tYXhGcmFtZXJhdGUsXG4gICAgICAgICAgYml0cmF0ZTogc2NyZWVuU2hhcmVTZXR0aW5ncy5tYXhCaXRyYXRlLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZWZlcnJlZFB1Ymxpc2hPcHRpb25zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlcyB0aGUgcHJlZmVycmVkIG9wdGlvbnMgZm9yIHN1YnNjcmliaW5nIHRvIHRyYWNrcy5cbiAgICogVGhpcyBpcyBhbiBleHBlcmltZW50YWwgY2xpZW50IGZlYXR1cmUgYW5kIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgZ2V0UHJlZmVycmVkU3Vic2NyaWJlT3B0aW9ucyA9ICgpOiBTdWJzY3JpYmVPcHRpb25bXSA9PiB7XG4gICAgY29uc3QgeyBzdWJzY3JpYmVyQ29kZWMsIHN1YnNjcmliZXJGbXRwTGluZSB9ID1cbiAgICAgIHRoaXMuY2xpZW50UHVibGlzaE9wdGlvbnMgfHwge307XG4gICAgaWYgKCFzdWJzY3JpYmVyQ29kZWMgfHwgIXN1YnNjcmliZXJGbXRwTGluZSkgcmV0dXJuIFtdO1xuICAgIHJldHVybiBbXG4gICAgICBTdWJzY3JpYmVPcHRpb24uY3JlYXRlKHtcbiAgICAgICAgdHJhY2tUeXBlOiBUcmFja1R5cGUuVklERU8sXG4gICAgICAgIGNvZGVjczogW1xuICAgICAgICAgIHsgbmFtZTogc3Vic2NyaWJlckNvZGVjLnNwbGl0KCcvJykucG9wKCksIGZtdHA6IHN1YnNjcmliZXJGbXRwTGluZSB9LFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgXTtcbiAgfTtcblxuICAvKipcbiAgICogUGVyZm9ybXMgYW4gSUNFIHJlc3RhcnQgb24gYm90aCB0aGUgUHVibGlzaGVyIGFuZCBTdWJzY3JpYmVyIFBlZXIgQ29ubmVjdGlvbnMuXG4gICAqIFVzZXMgdGhlIHByb3ZpZGVkIFNGVSBjbGllbnQgdG8gcmVzdG9yZSB0aGUgSUNFIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiB0aHJvdyBhbiBlcnJvciBpZiB0aGUgSUNFIHJlc3RhcnQgZmFpbHMuXG4gICAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhlIHJlY29ubmVjdCBsb29wLFxuICAgKiBhbmQgYSBuZXcgcmVjb25uZWN0aW9uIHNoYWxsIGJlIGF0dGVtcHRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlc3RvcmVJQ0UgPSBhc3luYyAoXG4gICAgbmV4dFNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50LFxuICAgIG9wdHM6IHsgaW5jbHVkZVN1YnNjcmliZXI/OiBib29sZWFuOyBpbmNsdWRlUHVibGlzaGVyPzogYm9vbGVhbiB9ID0ge30sXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgaW5jbHVkZVN1YnNjcmliZXIgPSB0cnVlLCBpbmNsdWRlUHVibGlzaGVyID0gdHJ1ZSB9ID0gb3B0cztcbiAgICBpZiAodGhpcy5zdWJzY3JpYmVyKSB7XG4gICAgICB0aGlzLnN1YnNjcmliZXIuc2V0U2Z1Q2xpZW50KG5leHRTZnVDbGllbnQpO1xuICAgICAgaWYgKGluY2x1ZGVTdWJzY3JpYmVyKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3Vic2NyaWJlci5yZXN0YXJ0SWNlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnB1Ymxpc2hlcikge1xuICAgICAgdGhpcy5wdWJsaXNoZXIuc2V0U2Z1Q2xpZW50KG5leHRTZnVDbGllbnQpO1xuICAgICAgaWYgKGluY2x1ZGVQdWJsaXNoZXIpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoZXIucmVzdGFydEljZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIFB1Ymxpc2hlciBhbmQgU3Vic2NyaWJlciBQZWVyIENvbm5lY3Rpb25zLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgaW5pdFB1Ymxpc2hlckFuZFN1YnNjcmliZXIgPSAob3B0czoge1xuICAgIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuICAgIGNvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgc3RhdHNPcHRpb25zOiBTdGF0c09wdGlvbnM7XG4gICAgY2xpZW50RGV0YWlsczogQ2xpZW50RGV0YWlscztcbiAgICBwdWJsaXNoT3B0aW9uczogUHVibGlzaE9wdGlvbltdO1xuICAgIGNsb3NlUHJldmlvdXNJbnN0YW5jZXM6IGJvb2xlYW47XG4gIH0pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzZnVDbGllbnQsXG4gICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgIHN0YXRzT3B0aW9ucyxcbiAgICAgIHB1Ymxpc2hPcHRpb25zLFxuICAgICAgY2xvc2VQcmV2aW91c0luc3RhbmNlcyxcbiAgICB9ID0gb3B0cztcbiAgICBpZiAoY2xvc2VQcmV2aW91c0luc3RhbmNlcyAmJiB0aGlzLnN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlci5kaXNwb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKHtcbiAgICAgIHNmdUNsaWVudCxcbiAgICAgIGRpc3BhdGNoZXI6IHRoaXMuZGlzcGF0Y2hlcixcbiAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgIGxvZ1RhZzogU3RyaW5nKHRoaXMuc2Z1Q2xpZW50VGFnKSxcbiAgICAgIG9uVW5yZWNvdmVyYWJsZUVycm9yOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZyBhZnRlciBhIHN1YnNjcmliZXIgZXJyb3InLFxuICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIGFub255bW91cyB1c2VycyBjYW4ndCBwdWJsaXNoIGFueXRoaW5nIGhlbmNlLCB0aGVyZSBpcyBubyBuZWVkXG4gICAgLy8gdG8gY3JlYXRlIFB1Ymxpc2hlciBQZWVyIENvbm5lY3Rpb24gZm9yIHRoZW1cbiAgICBjb25zdCBpc0Fub255bW91cyA9IHRoaXMuc3RyZWFtQ2xpZW50LnVzZXI/LnR5cGUgPT09ICdhbm9ueW1vdXMnO1xuICAgIGlmICghaXNBbm9ueW1vdXMpIHtcbiAgICAgIGlmIChjbG9zZVByZXZpb3VzSW5zdGFuY2VzICYmIHRoaXMucHVibGlzaGVyKSB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHVibGlzaGVyID0gbmV3IFB1Ymxpc2hlcih7XG4gICAgICAgIHNmdUNsaWVudCxcbiAgICAgICAgZGlzcGF0Y2hlcjogdGhpcy5kaXNwYXRjaGVyLFxuICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgICAgcHVibGlzaE9wdGlvbnMsXG4gICAgICAgIGxvZ1RhZzogU3RyaW5nKHRoaXMuc2Z1Q2xpZW50VGFnKSxcbiAgICAgICAgb25VbnJlY292ZXJhYmxlRXJyb3I6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdChXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU4pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBwdWJsaXNoZXIgZXJyb3InLFxuICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0c1JlcG9ydGVyPy5zdG9wKCk7XG4gICAgdGhpcy5zdGF0c1JlcG9ydGVyID0gY3JlYXRlU3RhdHNSZXBvcnRlcih7XG4gICAgICBzdWJzY3JpYmVyOiB0aGlzLnN1YnNjcmliZXIsXG4gICAgICBwdWJsaXNoZXI6IHRoaXMucHVibGlzaGVyLFxuICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICBkYXRhY2VudGVyOiBzZnVDbGllbnQuZWRnZU5hbWUsXG4gICAgfSk7XG5cbiAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICBpZiAoc3RhdHNPcHRpb25zPy5yZXBvcnRpbmdfaW50ZXJ2YWxfbXMgPiAwKSB7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgPSBuZXcgU2Z1U3RhdHNSZXBvcnRlcihzZnVDbGllbnQsIHtcbiAgICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgICAgb3B0aW9uczogc3RhdHNPcHRpb25zLFxuICAgICAgICBzdWJzY3JpYmVyOiB0aGlzLnN1YnNjcmliZXIsXG4gICAgICAgIHB1Ymxpc2hlcjogdGhpcy5wdWJsaXNoZXIsXG4gICAgICAgIG1pY3JvcGhvbmU6IHRoaXMubWljcm9waG9uZSxcbiAgICAgICAgY2FtZXJhOiB0aGlzLmNhbWVyYSxcbiAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlci5zdGFydCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmVzIGNyZWRlbnRpYWxzIGZvciBqb2luaW5nIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIGpvaW4gY2FsbCBkYXRhLlxuICAgKi9cbiAgZG9Kb2luUmVxdWVzdCA9IGFzeW5jIChkYXRhPzogSm9pbkNhbGxEYXRhKTogUHJvbWlzZTxKb2luQ2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgbG9jYXRpb24gPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5nZXRMb2NhdGlvbkhpbnQoKTtcbiAgICBjb25zdCByZXF1ZXN0OiBKb2luQ2FsbFJlcXVlc3QgPSB7IC4uLmRhdGEsIGxvY2F0aW9uIH07XG4gICAgY29uc3Qgam9pblJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIEpvaW5DYWxsUmVzcG9uc2UsXG4gICAgICBKb2luQ2FsbFJlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2pvaW5gLCByZXF1ZXN0KTtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2Uoam9pblJlc3BvbnNlLmNhbGwpO1xuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhqb2luUmVzcG9uc2UubWVtYmVycyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMoam9pblJlc3BvbnNlLm93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKGRhdGE/LnJpbmcgJiYgIXRoaXMucmluZ2luZykge1xuICAgICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJpbmdpbmcgJiYgIXRoaXMuaXNDcmVhdGVkQnlNZSkge1xuICAgICAgLy8gc2lnbmFscyBvdGhlciB1c2VycyB0aGF0IEkgaGF2ZSBhY2NlcHRlZCB0aGUgaW5jb21pbmcgY2FsbC5cbiAgICAgIGF3YWl0IHRoaXMuYWNjZXB0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ2xpZW50Ll9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy53YXRjaGluZyA9IHRydWU7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnJlZ2lzdGVyQ2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gam9pblJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBjbG9zaW5nIG9mIHRoZSBTRlUgc2lnbmFsIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IGluc3RhbmNlIHRoYXQgd2FzIGNsb3NlZC5cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlU2Z1U2lnbmFsQ2xvc2UgPSAoc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnW1JlY29ubmVjdF0gU0ZVIHNpZ25hbCBjb25uZWN0aW9uIGNsb3NlZCcpO1xuICAgIC8vIFNGVSBXUyBjbG9zZWQgYmVmb3JlIHdlIGZpbmlzaGVkIGN1cnJlbnQgam9pbiwgbm8gbmVlZCB0byBzY2hlZHVsZSByZWNvbm5lY3RcbiAgICAvLyBiZWNhdXNlIGpvaW4gb3BlcmF0aW9uIHdpbGwgZmFpbFxuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5JTkcpIHJldHVybjtcbiAgICAvLyBub3JtYWwgY2xvc2UsIG5vIG5lZWQgdG8gcmVjb25uZWN0XG4gICAgaWYgKHNmdUNsaWVudC5pc0xlYXZpbmcpIHJldHVybjtcbiAgICB0aGlzLnJlY29ubmVjdChXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU4pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZycsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHJlY29ubmVjdGlvbiBmbG93LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHN0cmF0ZWd5IHRoZSByZWNvbm5lY3Rpb24gc3RyYXRlZ3kgdG8gdXNlLlxuICAgKi9cbiAgcHJpdmF0ZSByZWNvbm5lY3QgPSBhc3luYyAoXG4gICAgc3RyYXRlZ3k6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORyB8fFxuICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEXG4gICAgKVxuICAgICAgcmV0dXJuO1xuXG4gICAgcmV0dXJuIHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLnJlY29ubmVjdENvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgW1JlY29ubmVjdF0gUmVjb25uZWN0aW5nIHdpdGggc3RyYXRlZ3kgJHtXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVtzdHJhdGVneV19YCxcbiAgICAgICk7XG5cbiAgICAgIGxldCByZWNvbm5lY3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9IHN0cmF0ZWd5O1xuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3Rpb25UaW1lb3V0U2Vjb25kcyA+IDAgJiZcbiAgICAgICAgICAoRGF0ZS5ub3coKSAtIHJlY29ubmVjdFN0YXJ0VGltZSkgLyAxMDAwID5cbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdGlvblRpbWVvdXRTZWNvbmRzXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgJ1tSZWNvbm5lY3RdIFN0b3BwaW5nIHJlY29ubmVjdGlvbiBhdHRlbXB0cyBhZnRlciByZWFjaGluZyBkaXNjb25uZWN0aW9uIHRpbWVvdXQnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR19GQUlMRUQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIGRvbid0IGluY3JlbWVudCByZWNvbm5lY3QgYXR0ZW1wdHMgZm9yIHRoZSBGQVNUIHN0cmF0ZWd5LlxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RTdHJhdGVneSAhPT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVCkge1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMrKztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lbdGhpcy5yZWNvbm5lY3RTdHJhdGVneV07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gd2FpdCB1bnRpbCB0aGUgbmV0d29yayBpcyBhdmFpbGFibGVcbiAgICAgICAgICBhd2FpdCB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrPy5wcm9taXNlO1xuICAgICAgICAgIHN3aXRjaCAodGhpcy5yZWNvbm5lY3RTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5VTlNQRUNJRklFRDpcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYFtSZWNvbm5lY3RdIE5vLW9wIHN0cmF0ZWd5ICR7Y3VycmVudH1gKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q6XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVjb25uZWN0RmFzdCgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOOlxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlY29ubmVjdFJlam9pbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURTpcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWNvbm5lY3RNaWdyYXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgZW5zdXJlRXhoYXVzdGVkKFxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgJ1Vua25vd24gcmVjb25uZWN0aW9uIHN0cmF0ZWd5JyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrOyAvLyBkby13aGlsZSBsb29wLCByZWNvbm5lY3Rpb24gd29ya2VkLCBleGl0IHRoZSBsb29wXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3JGcm9tUmVzcG9uc2UgJiYgZXJyb3IudW5yZWNvdmVyYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgYFtSZWNvbm5lY3RdIENhbid0IHJlY29ubmVjdCBkdWUgdG8gY29vcmRpbmF0b3IgdW5yZWNvdmVyYWJsZSBlcnJvcmAsXG4gICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICBgW1JlY29ubmVjdF0gJHtjdXJyZW50fSAoJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfSkgZmFpbGVkLiBBdHRlbXB0aW5nIHdpdGggUkVKT0lOYCxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYXdhaXQgc2xlZXAoNTAwKTtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChcbiAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5KT0lORUQgJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEICYmXG4gICAgICAgIHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuTEVGVFxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhdGVzIHRoZSByZWNvbm5lY3Rpb24gZmxvdyB3aXRoIHRoZSBcImZhc3RcIiBzdHJhdGVneS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdEZhc3QgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVDtcbiAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HKTtcbiAgICBhd2FpdCB0aGlzLmpvaW4odGhpcy5qb2luQ2FsbERhdGEpO1xuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZFJlY29ubmVjdGlvblRpbWUoXG4gICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNULFxuICAgICAgKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgdGhlIHJlY29ubmVjdGlvbiBmbG93IHdpdGggdGhlIFwicmVqb2luXCIgc3RyYXRlZ3kuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZWNvbm5lY3RSZWpvaW4gPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkcpO1xuICAgIGF3YWl0IHRoaXMuam9pbih0aGlzLmpvaW5DYWxsRGF0YSk7XG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlUHVibGlzaGVkVHJhY2tzKCk7XG4gICAgdGhpcy5yZXN0b3JlU3Vic2NyaWJlZFRyYWNrcygpO1xuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZFJlY29ubmVjdGlvblRpbWUoXG4gICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU4sXG4gICAgICAoRGF0ZS5ub3coKSAtIHJlY29ubmVjdFN0YXJ0VGltZSkgLyAxMDAwLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyB0aGUgcmVjb25uZWN0aW9uIGZsb3cgd2l0aCB0aGUgXCJtaWdyYXRlXCIgc3RyYXRlZ3kuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZWNvbm5lY3RNaWdyYXRlID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlY29ubmVjdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY3VycmVudFNmdUNsaWVudCA9IHRoaXMuc2Z1Q2xpZW50O1xuICAgIGlmICghY3VycmVudFNmdUNsaWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbWlncmF0ZSB3aXRob3V0IGFuIGFjdGl2ZSBTRlUgY2xpZW50Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5Lk1JR1JBVEU7XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLk1JR1JBVElORyk7XG4gICAgY29uc3QgY3VycmVudFN1YnNjcmliZXIgPSB0aGlzLnN1YnNjcmliZXI7XG4gICAgY29uc3QgY3VycmVudFB1Ymxpc2hlciA9IHRoaXMucHVibGlzaGVyO1xuXG4gICAgY3VycmVudFN1YnNjcmliZXI/LmRldGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgICBjdXJyZW50UHVibGlzaGVyPy5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG5cbiAgICBjb25zdCBtaWdyYXRpb25UYXNrID0gbWFrZVNhZmVQcm9taXNlKGN1cnJlbnRTZnVDbGllbnQuZW50ZXJNaWdyYXRpb24oKSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudFNmdSA9IGN1cnJlbnRTZnVDbGllbnQuZWRnZU5hbWU7XG4gICAgICBhd2FpdCB0aGlzLmpvaW4oeyAuLi50aGlzLmpvaW5DYWxsRGF0YSwgbWlncmF0aW5nX2Zyb206IGN1cnJlbnRTZnUgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIGNsZWFudXAgdGhlIG1pZ3JhdGlvbl9mcm9tIGZpZWxkIGFmdGVyIHRoZSBtaWdyYXRpb24gaXMgY29tcGxldGUgb3IgZmFpbGVkXG4gICAgICAvLyBhcyB3ZSBkb24ndCB3YW50IHRvIGtlZXAgZGlydHkgZGF0YSBpbiB0aGUgam9pbiBjYWxsIGRhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLmpvaW5DYWxsRGF0YT8ubWlncmF0aW5nX2Zyb207XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlUHVibGlzaGVkVHJhY2tzKCk7XG4gICAgdGhpcy5yZXN0b3JlU3Vic2NyaWJlZFRyYWNrcygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFdhaXQgZm9yIHRoZSBtaWdyYXRpb24gdG8gY29tcGxldGUsIHRoZW4gY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnRcbiAgICAgIC8vIGFuZCB0aGUgcGVlciBjb25uZWN0aW9uIGluc3RhbmNlcy4gSW4gY2FzZSBvZiBmYWlsdXJlLCB0aGUgbWlncmF0aW9uXG4gICAgICAvLyB0YXNrIHdvdWxkIHRocm93IGFuIGVycm9yIGFuZCBSRUpPSU4gd291bGQgYmUgYXR0ZW1wdGVkLlxuICAgICAgYXdhaXQgbWlncmF0aW9uVGFzaygpO1xuXG4gICAgICAvLyBpbiBNSUdSQVRFLCB3ZSBjYW4gY29uc2lkZXIgdGhlIGNhbGwgYXMgam9pbmVkIG9ubHkgYWZ0ZXJcbiAgICAgIC8vIGBwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlYCBldmVudCBpcyByZWNlaXZlZCwgc2lnbmFsZWQgYnlcbiAgICAgIC8vIHRoZSBgbWlncmF0aW9uVGFza2BcbiAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lORUQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50U3Vic2NyaWJlcj8uZGlzcG9zZSgpO1xuICAgICAgY3VycmVudFB1Ymxpc2hlcj8uZGlzcG9zZSgpO1xuXG4gICAgICAvLyBhbmQgY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnQsIHdpdGhvdXQgc3BlY2lmeWluZyBjbG9zZSBjb2RlXG4gICAgICBjdXJyZW50U2Z1Q2xpZW50LmNsb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZFJlY29ubmVjdGlvblRpbWUoXG4gICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFLFxuICAgICAgKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIHZhcmlvdXMgZXZlbnQgaGFuZGxlcnMgZm9yIHJlY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyUmVjb25uZWN0SGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgLy8gaGFuZGxlcyB0aGUgbGVnYWN5IFwiZ29Bd2F5XCIgZXZlbnRcbiAgICBjb25zdCB1bnJlZ2lzdGVyR29Bd2F5ID0gdGhpcy5vbignZ29Bd2F5JywgKCkgPT4ge1xuICAgICAgdGhpcy5yZWNvbm5lY3QoV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBoYW5kbGVzIHRoZSBcImVycm9yXCIgZXZlbnQsIHRocm91Z2ggd2hpY2ggdGhlIFNGVSBjYW4gcmVxdWVzdCBhIHJlY29ubmVjdFxuICAgIGNvbnN0IHVucmVnaXN0ZXJPbkVycm9yID0gdGhpcy5vbignZXJyb3InLCAoZSkgPT4ge1xuICAgICAgY29uc3QgeyByZWNvbm5lY3RTdHJhdGVneTogc3RyYXRlZ3kgfSA9IGU7XG4gICAgICBpZiAoc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEKSByZXR1cm47XG4gICAgICBpZiAoc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkRJU0NPTk5FQ1QpIHtcbiAgICAgICAgdGhpcy5sZWF2ZSh7IHJlYXNvbjogJ1NGVSBpbnN0cnVjdGVkIHRvIGRpc2Nvbm5lY3QnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBDYW4ndCBsZWF2ZSBjYWxsIGFmdGVyIGRpc2Nvbm5lY3QgcmVxdWVzdGAsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Qoc3RyYXRlZ3kpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHVucmVnaXN0ZXJOZXR3b3JrQ2hhbmdlZCA9IHRoaXMuc3RyZWFtQ2xpZW50Lm9uKFxuICAgICAgJ25ldHdvcmsuY2hhbmdlZCcsXG4gICAgICAoZSkgPT4ge1xuICAgICAgICBpZiAoIWUub25saW5lKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1tSZWNvbm5lY3RdIEdvaW5nIG9mZmxpbmUnKTtcbiAgICAgICAgICBpZiAoIXRoaXMuaGFzSm9pbmVkT25jZSkgcmV0dXJuO1xuICAgICAgICAgIHRoaXMubGFzdE9mZmxpbmVUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyB0YXNrIHRoYXQgd291bGQgcmVzb2x2ZSB3aGVuIHRoZSBuZXR3b3JrIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnN0IG5ldHdvcmtBdmFpbGFibGVUYXNrID0gcHJvbWlzZVdpdGhSZXNvbHZlcnMoKTtcbiAgICAgICAgICBuZXR3b3JrQXZhaWxhYmxlVGFzay5wcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVDtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RPZmZsaW5lVGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9mZmxpbmUgPSAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdE9mZmxpbmVUaW1lc3RhbXApIC8gMTAwMDtcbiAgICAgICAgICAgICAgaWYgKG9mZmxpbmUgPiB0aGlzLmZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGRuJ3QgYXR0ZW1wdCBGQVNUIGlmIHdlIGhhdmUgZXhjZWVkZWQgdGhlIGRlYWRsaW5lLlxuICAgICAgICAgICAgICAgIC8vIFRoZSBTRlUgd291bGQgaGF2ZSBhbHJlYWR5IHdpcGVkIG91dCB0aGUgc2Vzc2lvbi5cbiAgICAgICAgICAgICAgICBzdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdChzdHJhdGVneSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICAgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZyBhZnRlciBnb2luZyBvbmxpbmUnLFxuICAgICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2sgPSBuZXR3b3JrQXZhaWxhYmxlVGFzaztcbiAgICAgICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuT0ZGTElORSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1tSZWNvbm5lY3RdIEdvaW5nIG9ubGluZScpO1xuICAgICAgICAgIHRoaXMuc2Z1Q2xpZW50Py5jbG9zZShcbiAgICAgICAgICAgIFN0cmVhbVNmdUNsaWVudC5ESVNQT1NFX09MRF9TT0NLRVQsXG4gICAgICAgICAgICAnQ2xvc2luZyBXUyB0byByZWNvbm5lY3QgYWZ0ZXIgZ29pbmcgb25saW5lJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIHdlIHdlbnQgb25saW5lLCByZWxlYXNlIHRoZSBwcmV2aW91cyB3YWl0ZXJzIGFuZCByZXNldCB0aGUgc3RhdGVcbiAgICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrPy5yZXNvbHZlKCk7XG4gICAgICAgICAgdGhpcy5uZXR3b3JrQXZhaWxhYmxlVGFzayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHVucmVnaXN0ZXJHb0F3YXkpO1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHVucmVnaXN0ZXJPbkVycm9yKTtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bnJlZ2lzdGVyTmV0d29ya0NoYW5nZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0b3JlcyB0aGUgcHVibGlzaGVkIHRyYWNrcyBhZnRlciBhIHJlY29ubmVjdGlvbi5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlc3RvcmVQdWJsaXNoZWRUcmFja3MgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gdGhlIHRyYWNrcyBuZWVkIHRvIGJlIHJlc3RvcmVkIGluIHRoZWlyIG9yaWdpbmFsIG9yZGVyIG9mIHB1Ymxpc2hpbmdcbiAgICAvLyBvdGhlcndpc2UsIHdlIG1pZ2h0IGdldCBgbS1saW5lcyBvcmRlciBtaXNtYXRjaGAgZXJyb3JzXG4gICAgZm9yIChjb25zdCB0cmFja1R5cGUgb2YgdGhpcy50cmFja1B1Ymxpc2hPcmRlcikge1xuICAgICAgbGV0IG1lZGlhU3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZDtcbiAgICAgIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgICAgIGNhc2UgVHJhY2tUeXBlLkFVRElPOlxuICAgICAgICAgIG1lZGlhU3RyZWFtID0gdGhpcy5taWNyb3Bob25lLnN0YXRlLm1lZGlhU3RyZWFtO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRyYWNrVHlwZS5WSURFTzpcbiAgICAgICAgICBtZWRpYVN0cmVhbSA9IHRoaXMuY2FtZXJhLnN0YXRlLm1lZGlhU3RyZWFtO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU6XG4gICAgICAgICAgbWVkaWFTdHJlYW0gPSB0aGlzLnNjcmVlblNoYXJlLnN0YXRlLm1lZGlhU3RyZWFtO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBzY3JlZW4gc2hhcmUgYXVkaW8gY2FuJ3QgZXhpc3Qgd2l0aG91dCBhIHNjcmVlbiBzaGFyZSwgc28gd2UgaGFuZGxlIGl0IHRoZXJlXG4gICAgICAgIGNhc2UgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTzpcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuVU5TUEVDSUZJRUQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZW5zdXJlRXhoYXVzdGVkKHRyYWNrVHlwZSwgJ1Vua25vd24gdHJhY2sgdHlwZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFTdHJlYW0pIGF3YWl0IHRoaXMucHVibGlzaChtZWRpYVN0cmVhbSwgdHJhY2tUeXBlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc3RvcmVzIHRoZSBzdWJzY3JpYmVkIHRyYWNrcyBhZnRlciBhIHJlY29ubmVjdGlvbi5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlc3RvcmVTdWJzY3JpYmVkVHJhY2tzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVtb3RlUGFydGljaXBhbnRzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmIChyZW1vdGVQYXJ0aWNpcGFudHMubGVuZ3RoIDw9IDApIHJldHVybjtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuYXBwbHlUcmFja1N1YnNjcmlwdGlvbnModW5kZWZpbmVkKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHZpZGVvIHN0cmVhbSB0byB0aGUgY2FsbC5cbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBjYWxsLnB1Ymxpc2goKWAuXG4gICAqL1xuICBwdWJsaXNoVmlkZW9TdHJlYW0gPSBhc3luYyAodmlkZW9TdHJlYW06IE1lZGlhU3RyZWFtKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5wdWJsaXNoKHZpZGVvU3RyZWFtLCBUcmFja1R5cGUuVklERU8pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gYXVkaW8gc3RyZWFtIHRvIHRoZSBjYWxsLlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGNhbGwucHVibGlzaCgpYFxuICAgKi9cbiAgcHVibGlzaEF1ZGlvU3RyZWFtID0gYXN5bmMgKGF1ZGlvU3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgIGF3YWl0IHRoaXMucHVibGlzaChhdWRpb1N0cmVhbSwgVHJhY2tUeXBlLkFVRElPKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHNjcmVlbi1zaGFyZSBzdHJlYW0gdG8gdGhlIGNhbGwuXG4gICAqIEBkZXByZWNhdGVkIHVzZSBgY2FsbC5wdWJsaXNoKClgXG4gICAqL1xuICBwdWJsaXNoU2NyZWVuU2hhcmVTdHJlYW0gPSBhc3luYyAoc2NyZWVuU2hhcmVTdHJlYW06IE1lZGlhU3RyZWFtKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5wdWJsaXNoKHNjcmVlblNoYXJlU3RyZWFtLCBUcmFja1R5cGUuU0NSRUVOX1NIQVJFKTtcbiAgfTtcblxuICAvKipcbiAgICogUHVibGlzaGVzIHRoZSBnaXZlbiBtZWRpYSBzdHJlYW0uXG4gICAqXG4gICAqIEBwYXJhbSBtZWRpYVN0cmVhbSB0aGUgbWVkaWEgc3RyZWFtIHRvIHB1Ymxpc2guXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHR5cGUgb2YgdGhlIHRyYWNrIHRvIGFubm91bmNlLlxuICAgKi9cbiAgcHVibGlzaCA9IGFzeW5jIChtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0sIHRyYWNrVHlwZTogVHJhY2tUeXBlKSA9PiB7XG4gICAgaWYgKCF0aGlzLnNmdUNsaWVudCkgdGhyb3cgbmV3IEVycm9yKGBDYWxsIG5vdCBqb2luZWQgeWV0LmApO1xuICAgIC8vIGpvaW5pbmcgaXMgaW4gcHJvZ3Jlc3MsIGFuZCB3ZSBzaG91bGQgd2FpdCB1bnRpbCB0aGUgY2xpZW50IGlzIHJlYWR5XG4gICAgYXdhaXQgdGhpcy5zZnVDbGllbnQuam9pblRhc2s7XG5cbiAgICBpZiAoIXRoaXMucGVybWlzc2lvbnNDb250ZXh0LmNhblB1Ymxpc2godHJhY2tUeXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBwZXJtaXNzaW9uIHRvIHB1Ymxpc2ggJHtUcmFja1R5cGVbdHJhY2tUeXBlXX1gKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHVibGlzaGVyKSB0aHJvdyBuZXcgRXJyb3IoJ1B1Ymxpc2hlciBpcyBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGNvbnN0IFt0cmFja10gPSBpc0F1ZGlvVHJhY2tUeXBlKHRyYWNrVHlwZSlcbiAgICAgID8gbWVkaWFTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVxuICAgICAgOiBtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuXG4gICAgaWYgKCF0cmFjaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVGhlcmUgaXMgbm8gJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0gdHJhY2sgaW4gdGhlIHN0cmVhbWAsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0cmFjay5yZWFkeVN0YXRlID09PSAnZW5kZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHB1Ymxpc2ggZW5kZWQgdHJhY2tzLmApO1xuICAgIH1cblxuICAgIHB1c2hUb0lmTWlzc2luZyh0aGlzLnRyYWNrUHVibGlzaE9yZGVyLCB0cmFja1R5cGUpO1xuICAgIGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2godHJhY2ssIHRyYWNrVHlwZSk7XG5cbiAgICBjb25zdCB0cmFja1R5cGVzID0gW3RyYWNrVHlwZV07XG4gICAgaWYgKHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSkge1xuICAgICAgY29uc3QgW2F1ZGlvVHJhY2tdID0gbWVkaWFTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcbiAgICAgIGlmIChhdWRpb1RyYWNrKSB7XG4gICAgICAgIHB1c2hUb0lmTWlzc2luZyh0aGlzLnRyYWNrUHVibGlzaE9yZGVyLCBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcbiAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoZXIucHVibGlzaChhdWRpb1RyYWNrLCBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcbiAgICAgICAgdHJhY2tUeXBlcy5wdXNoKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IHRoaXMudXBkYXRlTG9jYWxTdHJlYW1TdGF0ZShtZWRpYVN0cmVhbSwgLi4udHJhY2tUeXBlcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHRyYWNrIHR5cGUgdG8gdGhlIGNhbGwsIGlmIGl0IGlzIGN1cnJlbnRseSBiZWluZyBwdWJsaXNoZWQuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFja1R5cGVzIHRoZSB0cmFjayB0eXBlcyB0byBzdG9wIHB1Ymxpc2hpbmcuXG4gICAqL1xuICBzdG9wUHVibGlzaCA9IGFzeW5jICguLi50cmFja1R5cGVzOiBUcmFja1R5cGVbXSkgPT4ge1xuICAgIGlmICghdGhpcy5zZnVDbGllbnQgfHwgIXRoaXMucHVibGlzaGVyKSByZXR1cm47XG4gICAgdGhpcy5wdWJsaXNoZXIuc3RvcFRyYWNrcyguLi50cmFja1R5cGVzKTtcbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2FsU3RyZWFtU3RhdGUodW5kZWZpbmVkLCAuLi50cmFja1R5cGVzKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBuZXcgc3RyZWFtLlxuICAgKlxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW0gdGhlIG5ldyBzdHJlYW0gdG8gdXBkYXRlIHRoZSBjYWxsIHN0YXRlIHdpdGguXG4gICAqIElmIHVuZGVmaW5lZCwgdGhlIHN0cmVhbSB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgY2FsbCBzdGF0ZS5cbiAgICogQHBhcmFtIHRyYWNrVHlwZXMgdGhlIHRyYWNrIHR5cGVzIHRvIHVwZGF0ZSB0aGUgY2FsbCBzdGF0ZSB3aXRoLlxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVMb2NhbFN0cmVhbVN0YXRlID0gYXN5bmMgKFxuICAgIG1lZGlhU3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgICAuLi50cmFja1R5cGVzOiBUcmFja1R5cGVbXVxuICApID0+IHtcbiAgICBpZiAoIXRoaXMuc2Z1Q2xpZW50IHx8ICF0aGlzLnNmdUNsaWVudC5zZXNzaW9uSWQpIHJldHVybjtcbiAgICBhd2FpdCB0aGlzLm5vdGlmeVRyYWNrTXV0ZVN0YXRlKCFtZWRpYVN0cmVhbSwgLi4udHJhY2tUeXBlcyk7XG5cbiAgICBjb25zdCB7IHNlc3Npb25JZCB9ID0gdGhpcy5zZnVDbGllbnQ7XG4gICAgZm9yIChjb25zdCB0cmFja1R5cGUgb2YgdHJhY2tUeXBlcykge1xuICAgICAgY29uc3Qgc3RyZWFtU3RhdGVQcm9wID0gdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleSh0cmFja1R5cGUpO1xuICAgICAgaWYgKCFzdHJlYW1TdGF0ZVByb3ApIGNvbnRpbnVlO1xuXG4gICAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHApID0+ICh7XG4gICAgICAgIHB1Ymxpc2hlZFRyYWNrczogbWVkaWFTdHJlYW1cbiAgICAgICAgICA/IHB1c2hUb0lmTWlzc2luZyhbLi4ucC5wdWJsaXNoZWRUcmFja3NdLCB0cmFja1R5cGUpXG4gICAgICAgICAgOiBwLnB1Ymxpc2hlZFRyYWNrcy5maWx0ZXIoKHQpID0+IHQgIT09IHRyYWNrVHlwZSksXG4gICAgICAgIFtzdHJlYW1TdGF0ZVByb3BdOiBtZWRpYVN0cmVhbSxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHByZWZlcnJlZCBwdWJsaXNoaW5nIG9wdGlvbnNcbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25zIHRvIHVzZS5cbiAgICovXG4gIHVwZGF0ZVB1Ymxpc2hPcHRpb25zID0gKG9wdGlvbnM6IENsaWVudFB1Ymxpc2hPcHRpb25zKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAnd2FybicsXG4gICAgICAnW2NhbGwudXBkYXRlUHVibGlzaE9wdGlvbnNdOiBZb3UgYXJlIG1hbnVhbGx5IG92ZXJyaWRpbmcgdGhlIHB1Ymxpc2ggb3B0aW9ucyBmb3IgdGhpcyBjYWxsLiAnICtcbiAgICAgICAgJ1RoaXMgaXMgbm90IHJlY29tbWVuZGVkLCBhbmQgaXQgY2FuIGNhdXNlIGNhbGwgc3RhYmlsaXR5L2NvbXBhdGliaWxpdHkgaXNzdWVzLiBVc2Ugd2l0aCBjYXV0aW9uLicsXG4gICAgKTtcbiAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdVcGRhdGluZyBwdWJsaXNoIG9wdGlvbnMgYWZ0ZXIgam9pbmluZyB0aGUgY2FsbCBkb2VzIG5vdCBoYXZlIGFuIGVmZmVjdCcsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNsaWVudFB1Ymxpc2hPcHRpb25zID0geyAuLi50aGlzLmNsaWVudFB1Ymxpc2hPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIE5vdGlmaWVzIHRoZSBTRlUgdGhhdCBhIG5vaXNlIGNhbmNlbGxhdGlvbiBwcm9jZXNzIGhhcyBzdGFydGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RhcnRpbmcgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2Z1Q2xpZW50Py5zdGFydE5vaXNlQ2FuY2VsbGF0aW9uKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIG5vdGlmeSBzdGFydCBvZiBub2lzZSBjYW5jZWxsYXRpb24nLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBOb3RpZmllcyB0aGUgU0ZVIHRoYXQgYSBub2lzZSBjYW5jZWxsYXRpb24gcHJvY2VzcyBoYXMgc3RvcHBlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2Z1Q2xpZW50Py5zdG9wTm9pc2VDYW5jZWxsYXRpb24oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gbm90aWZ5IHN0b3Agb2Ygbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogTm90aWZpZXMgdGhlIFNGVSBhYm91dCB0aGUgbXV0ZSBzdGF0ZSBvZiB0aGUgZ2l2ZW4gdHJhY2sgdHlwZXMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbm90aWZ5VHJhY2tNdXRlU3RhdGUgPSBhc3luYyAobXV0ZWQ6IGJvb2xlYW4sIC4uLnRyYWNrVHlwZXM6IFRyYWNrVHlwZVtdKSA9PiB7XG4gICAgaWYgKCF0aGlzLnNmdUNsaWVudCkgcmV0dXJuO1xuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnVwZGF0ZU11dGVTdGF0ZXMoXG4gICAgICB0cmFja1R5cGVzLm1hcCgodHJhY2tUeXBlKSA9PiAoeyB0cmFja1R5cGUsIG11dGVkIH0pKSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIGVuaGFuY2UgdGhlIHJlcG9ydGVkIHN0YXRzIHdpdGggYWRkaXRpb25hbCBwYXJ0aWNpcGFudC1zcGVjaWZpYyBpbmZvcm1hdGlvbiAoYGNhbGxTdGF0c1JlcG9ydCRgIHN0YXRlIFtzdG9yZSB2YXJpYWJsZV0oLi9TdHJlYW1WaWRlb0NsaWVudC5tZC8jcmVhZG9ubHlzdGF0ZXN0b3JlKSkuXG4gICAqIFRoaXMgaXMgdXN1YWxseSBoZWxwZnVsIHdoZW4gZGV0YWlsZWQgc3RhdHMgZm9yIGEgc3BlY2lmaWMgcGFydGljaXBhbnQgYXJlIG5lZWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHN0YXJ0IHJlcG9ydGluZyBmb3IuXG4gICAqL1xuICBzdGFydFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHNSZXBvcnRlcj8uc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcihzZXNzaW9uSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPcHBvc2l0ZSBvZiBgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcmAuXG4gICAqIFdpbGwgdHVybiBvZmYgc3RhdHMgcmVwb3J0aW5nIGZvciBhIHNwZWNpZmljIHBhcnRpY2lwYW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgdG8gc3RvcCByZXBvcnRpbmcgZm9yLlxuICAgKi9cbiAgc3RvcFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHNSZXBvcnRlcj8uc3RvcFJlcG9ydGluZ1N0YXRzRm9yKHNlc3Npb25JZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgbGFzdCBzZW50IHJlYWN0aW9uIGZvciB0aGUgdXNlciBob2xkaW5nIHRoZSBnaXZlbiBgc2Vzc2lvbklkYC4gVGhpcyBpcyBhIGxvY2FsIGFjdGlvbiwgaXQgd29uJ3QgcmVzZXQgdGhlIHJlYWN0aW9uIG9uIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKi9cbiAgcmVzZXRSZWFjdGlvbiA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7XG4gICAgICByZWFjdGlvbjogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsaXN0IG9mIGNyaXRlcmlhIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cyBieS5cbiAgICpcbiAgICogQHBhcmFtIGNyaXRlcmlhIHRoZSBsaXN0IG9mIGNyaXRlcmlhIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cyBieS5cbiAgICovXG4gIHNldFNvcnRQYXJ0aWNpcGFudHNCeTogQ2FsbFN0YXRlWydzZXRTb3J0UGFydGljaXBhbnRzQnknXSA9IChjcml0ZXJpYSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnNldFNvcnRQYXJ0aWNpcGFudHNCeShjcml0ZXJpYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgcmVhY3Rpb24gdG8gdGhlIG90aGVyIGNhbGwgcGFydGljaXBhbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gcmVhY3Rpb24gdGhlIHJlYWN0aW9uIHRvIHNlbmQuXG4gICAqL1xuICBzZW5kUmVhY3Rpb24gPSBhc3luYyAoXG4gICAgcmVhY3Rpb246IFNlbmRSZWFjdGlvblJlcXVlc3QsXG4gICk6IFByb21pc2U8U2VuZFJlYWN0aW9uUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTZW5kUmVhY3Rpb25SZXNwb25zZSwgU2VuZFJlYWN0aW9uUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZWFjdGlvbmAsXG4gICAgICByZWFjdGlvbixcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCbG9ja3MgdGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gYHVzZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIGJsb2NrLlxuICAgKi9cbiAgYmxvY2tVc2VyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8QmxvY2tVc2VyUmVzcG9uc2UsIEJsb2NrVXNlclJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vYmxvY2tgLFxuICAgICAge1xuICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVuYmxvY2tzIHRoZSB1c2VyIHdpdGggdGhlIGdpdmVuIGB1c2VySWRgLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byB1bmJsb2NrLlxuICAgKi9cbiAgdW5ibG9ja1VzZXIgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxVbmJsb2NrVXNlclJlc3BvbnNlLCBVbmJsb2NrVXNlclJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vdW5ibG9ja2AsXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogTXV0ZXMgdGhlIGN1cnJlbnQgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIG11dGUgb3BlcmF0aW9uLlxuICAgKi9cbiAgbXV0ZVNlbGYgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIGNvbnN0IG15VXNlcklkID0gdGhpcy5jdXJyZW50VXNlcklkO1xuICAgIGlmIChteVVzZXJJZCkge1xuICAgICAgcmV0dXJuIHRoaXMubXV0ZVVzZXIobXlVc2VySWQsIHR5cGUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTXV0ZXMgYWxsIHRoZSBvdGhlciBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBtdXRlIG9wZXJhdGlvbi5cbiAgICovXG4gIG11dGVPdGhlcnMgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIGNvbnN0IHRyYWNrVHlwZSA9IG11dGVUeXBlVG9UcmFja1R5cGUodHlwZSk7XG4gICAgaWYgKCF0cmFja1R5cGUpIHJldHVybjtcbiAgICBjb25zdCB1c2VySWRzVG9NdXRlOiBzdHJpbmdbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFydGljaXBhbnQgb2YgdGhpcy5zdGF0ZS5yZW1vdGVQYXJ0aWNpcGFudHMpIHtcbiAgICAgIGlmIChwYXJ0aWNpcGFudC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXModHJhY2tUeXBlKSkge1xuICAgICAgICB1c2VySWRzVG9NdXRlLnB1c2gocGFydGljaXBhbnQudXNlcklkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXNlcklkc1RvTXV0ZS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5tdXRlVXNlcih1c2VySWRzVG9NdXRlLCB0eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE11dGVzIHRoZSB1c2VyIHdpdGggdGhlIGdpdmVuIGB1c2VySWRgLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byBtdXRlLlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlVXNlciA9ICh1c2VySWQ6IHN0cmluZyB8IHN0cmluZ1tdLCB0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8TXV0ZVVzZXJzUmVzcG9uc2UsIE11dGVVc2Vyc1JlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbXV0ZV91c2Vyc2AsXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWRzOiBBcnJheS5pc0FycmF5KHVzZXJJZCkgPyB1c2VySWQgOiBbdXNlcklkXSxcbiAgICAgICAgW3R5cGVdOiB0cnVlLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIG11dGUgYWxsIHVzZXJzIGluIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlQWxsVXNlcnMgPSAodHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PE11dGVVc2Vyc1Jlc3BvbnNlLCBNdXRlVXNlcnNSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L211dGVfdXNlcnNgLFxuICAgICAge1xuICAgICAgICBtdXRlX2FsbF91c2VyczogdHJ1ZSxcbiAgICAgICAgW3R5cGVdOiB0cnVlLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcmVjb3JkaW5nIHRoZSBjYWxsXG4gICAqL1xuICBzdGFydFJlY29yZGluZyA9IGFzeW5jIChyZXF1ZXN0PzogU3RhcnRSZWNvcmRpbmdSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBTdGFydFJlY29yZGluZ1Jlc3BvbnNlLFxuICAgICAgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF9yZWNvcmRpbmdgLCByZXF1ZXN0ID8gcmVxdWVzdCA6IHt9KTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgcmVjb3JkaW5nIHRoZSBjYWxsXG4gICAqL1xuICBzdG9wUmVjb3JkaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BSZWNvcmRpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX3JlY29yZGluZ2AsXG4gICAgICB7fSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHRyYW5zY3JpcHRpb24gb2YgdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IGRhdGEuXG4gICAqL1xuICBzdGFydFRyYW5zY3JpcHRpb24gPSBhc3luYyAoXG4gICAgcmVxdWVzdD86IFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3QsXG4gICk6IFByb21pc2U8U3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlLFxuICAgICAgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhcnRfdHJhbnNjcmlwdGlvbmAsIHJlcXVlc3QpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgdHJhbnNjcmlwdGlvbiBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BUcmFuc2NyaXB0aW9uID0gYXN5bmMgKCk6IFByb21pc2U8U3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RvcF90cmFuc2NyaXB0aW9uYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGNsb3NlZCBjYXB0aW9ucyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0YXJ0Q2xvc2VkQ2FwdGlvbnMgPSBhc3luYyAoXG4gICAgb3B0aW9ucz86IFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0LFxuICApOiBQcm9taXNlPFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IHRyeCA9IHRoaXMuc3RhdGUuc2V0Q2FwdGlvbmluZyh0cnVlKTsgLy8gb3B0aW1pc3RpYyB1cGRhdGVcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICAgIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZSxcbiAgICAgICAgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RcbiAgICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhcnRfY2xvc2VkX2NhcHRpb25zYCwgb3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0cngucm9sbGJhY2soKTsgLy8gcmV2ZXJ0IHRoZSBvcHRpbWlzdGljIHVwZGF0ZVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIGNsb3NlZCBjYXB0aW9ucyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BDbG9zZWRDYXB0aW9ucyA9IGFzeW5jIChcbiAgICBvcHRpb25zPzogU3RvcENsb3NlZENhcHRpb25zUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTdG9wQ2xvc2VkQ2FwdGlvbnNSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IHRyeCA9IHRoaXMuc3RhdGUuc2V0Q2FwdGlvbmluZyhmYWxzZSk7IC8vIG9wdGltaXN0aWMgdXBkYXRlXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgICBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXNwb25zZSxcbiAgICAgICAgU3RvcENsb3NlZENhcHRpb25zUmVxdWVzdFxuICAgICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX2Nsb3NlZF9jYXB0aW9uc2AsIG9wdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdHJ4LnJvbGxiYWNrKCk7IC8vIHJldmVydCB0aGUgb3B0aW1pc3RpYyB1cGRhdGVcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNsb3NlZCBjYXB0aW9uIHNldHRpbmdzLlxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIHRoZSBjbG9zZWQgY2FwdGlvbiBzZXR0aW5ncyB0byBhcHBseVxuICAgKi9cbiAgdXBkYXRlQ2xvc2VkQ2FwdGlvblNldHRpbmdzID0gKGNvbmZpZzogUGFydGlhbDxDbG9zZWRDYXB0aW9uc1NldHRpbmdzPikgPT4ge1xuICAgIHRoaXMuc3RhdGUudXBkYXRlQ2xvc2VkQ2FwdGlvblNldHRpbmdzKGNvbmZpZyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgYGNhbGwucGVybWlzc2lvbl9yZXF1ZXN0YCBldmVudCB0byBhbGwgdXNlcnMgY29ubmVjdGVkIHRvIHRoZSBjYWxsLlxuICAgKiBUaGUgY2FsbCBzZXR0aW5ncyBvYmplY3QgY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgd2hpY2ggcGVybWlzc2lvbnMgY2FuIGJlIHJlcXVlc3RlZCBkdXJpbmcgYSBjYWxsXG4gICAqIChmb3IgZXhhbXBsZSwgYSB1c2VyIG1pZ2h0IGJlIGFsbG93ZWQgdG8gcmVxdWVzdCBwZXJtaXNzaW9uIHRvIHB1Ymxpc2ggYXVkaW8sIGJ1dCBub3QgdmlkZW8pLlxuICAgKi9cbiAgcmVxdWVzdFBlcm1pc3Npb25zID0gYXN5bmMgKFxuICAgIGRhdGE6IFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9ucyB9ID0gZGF0YTtcbiAgICBjb25zdCBjYW5SZXF1ZXN0UGVybWlzc2lvbnMgPSBwZXJtaXNzaW9ucy5ldmVyeSgocGVybWlzc2lvbikgPT5cbiAgICAgIHRoaXMucGVybWlzc2lvbnNDb250ZXh0LmNhblJlcXVlc3QocGVybWlzc2lvbiBhcyBPd25DYXBhYmlsaXR5KSxcbiAgICApO1xuICAgIGlmICghY2FuUmVxdWVzdFBlcm1pc3Npb25zKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHJlcXVlc3QgcGVybWlzc2lvbnM6ICR7cGVybWlzc2lvbnMuam9pbignLCAnKX1gLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlLFxuICAgICAgUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZXF1ZXN0X3Blcm1pc3Npb25gLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byBncmFudCBjZXJ0YWluIHBlcm1pc3Npb25zIHRvIGEgdXNlciBpbiBhIGNhbGwuXG4gICAqIFRoZSBwZXJtaXNzaW9ucyBhcmUgc3BlY2lmaWMgdG8gdGhlIGNhbGwgZXhwZXJpZW5jZSBhbmQgZG8gbm90IHN1cnZpdmUgdGhlIGNhbGwgaXRzZWxmLlxuICAgKlxuICAgKiBTdXBwb3J0ZWQgcGVybWlzc2lvbnMgdGhhdCBjYW4gYmUgZ3JhbnRlZCBhcmU6XG4gICAqIC0gYHNlbmQtYXVkaW9gXG4gICAqIC0gYHNlbmQtdmlkZW9gXG4gICAqIC0gYHNjcmVlbnNoYXJlYFxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byBncmFudCBwZXJtaXNzaW9ucyB0by5cbiAgICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byBncmFudC5cbiAgICovXG4gIGdyYW50UGVybWlzc2lvbnMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHBlcm1pc3Npb25zOiBzdHJpbmdbXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICBncmFudF9wZXJtaXNzaW9uczogcGVybWlzc2lvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gcmV2b2tlIGNlcnRhaW4gcGVybWlzc2lvbnMgZnJvbSBhIHVzZXIgaW4gYSBjYWxsLlxuICAgKiBUaGUgcGVybWlzc2lvbnMgYXJlIHNwZWNpZmljIHRvIHRoZSBjYWxsIGV4cGVyaWVuY2UgYW5kIGRvIG5vdCBzdXJ2aXZlIHRoZSBjYWxsIGl0c2VsZi5cbiAgICpcbiAgICogU3VwcG9ydGVkIHBlcm1pc3Npb25zIHRoYXQgY2FuIGJlIHJldm9rZWQgYXJlOlxuICAgKiAtIGBzZW5kLWF1ZGlvYFxuICAgKiAtIGBzZW5kLXZpZGVvYFxuICAgKiAtIGBzY3JlZW5zaGFyZWBcbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gcmV2b2tlIHBlcm1pc3Npb25zIGZyb20uXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9ucyB0aGUgcGVybWlzc2lvbnMgdG8gcmV2b2tlLlxuICAgKi9cbiAgcmV2b2tlUGVybWlzc2lvbnMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHBlcm1pc3Npb25zOiBzdHJpbmdbXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICByZXZva2VfcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIGdyYW50IG9yIHJldm9rZSBhIHNwZWNpZmljIHBlcm1pc3Npb24gdG8gYSB1c2VyIGluIGEgY2FsbC4gVGhlIHBlcm1pc3Npb25zIGFyZSBzcGVjaWZpYyB0byB0aGUgY2FsbCBleHBlcmllbmNlIGFuZCBkbyBub3Qgc3Vydml2ZSB0aGUgY2FsbCBpdHNlbGYuXG4gICAqXG4gICAqIFdoZW4gcmV2b2tpbmcgYSBwZXJtaXNzaW9uLCB0aGlzIGVuZHBvaW50IHdpbGwgYWxzbyBtdXRlIHRoZSByZWxldmFudCB0cmFjayBmcm9tIHRoZSB1c2VyLiBUaGlzIGlzIHNpbWlsYXIgdG8gbXV0aW5nIGEgdXNlciB3aXRoIHRoZSBkaWZmZXJlbmNlIHRoYXQgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byB1bm11dGUgYWZ0ZXJ3YXJkcy5cbiAgICpcbiAgICogU3VwcG9ydGVkIHBlcm1pc3Npb25zIHRoYXQgY2FuIGJlIGdyYW50ZWQgb3IgcmV2b2tlZDogYHNlbmQtYXVkaW9gLCBgc2VuZC12aWRlb2AgYW5kIGBzY3JlZW5zaGFyZWAuXG4gICAqXG4gICAqIGBjYWxsLnBlcm1pc3Npb25zX3VwZGF0ZWRgIGV2ZW50IGlzIHNlbnQgdG8gYWxsIG1lbWJlcnMgb2YgdGhlIGNhbGwuXG4gICAqXG4gICAqL1xuICB1cGRhdGVVc2VyUGVybWlzc2lvbnMgPSBhc3luYyAoZGF0YTogVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2UsXG4gICAgICBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS91c2VyX3Blcm1pc3Npb25zYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgbGl2ZXN0cmVhbWluZyBvZiB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIHJlcXVlc3QgZGF0YS5cbiAgICogQHBhcmFtIHBhcmFtcyB0aGUgcmVxdWVzdCBwYXJhbXMuXG4gICAqL1xuICBnb0xpdmUgPSBhc3luYyAoZGF0YTogR29MaXZlUmVxdWVzdCA9IHt9LCBwYXJhbXM/OiB7IG5vdGlmeT86IGJvb2xlYW4gfSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEdvTGl2ZVJlc3BvbnNlLCBHb0xpdmVSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2dvX2xpdmVgLFxuICAgICAgZGF0YSxcbiAgICAgIHBhcmFtcyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgbGl2ZXN0cmVhbWluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BMaXZlID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BMaXZlUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RvcF9saXZlYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgYnJvYWRjYXN0aW5nIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RhcnRITFMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF9icm9hZGNhc3RpbmdgLFxuICAgICAge30sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIGJyb2FkY2FzdGluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BITFMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfYnJvYWRjYXN0aW5nYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc2V0dGluZ3Mgb3IgY3VzdG9tIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB1cGRhdGVzIHRoZSB1cGRhdGVzIHRvIGFwcGx5IHRvIHRoZSBjYWxsLlxuICAgKi9cbiAgdXBkYXRlID0gYXN5bmMgKHVwZGF0ZXM6IFVwZGF0ZUNhbGxSZXF1ZXN0KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wYXRjaDxcbiAgICAgIFVwZGF0ZUNhbGxSZXNwb25zZSxcbiAgICAgIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofWAsIHVwZGF0ZXMpO1xuXG4gICAgY29uc3QgeyBjYWxsLCBtZW1iZXJzLCBvd25fY2FwYWJpbGl0aWVzIH0gPSByZXNwb25zZTtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKG1lbWJlcnMpO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKG93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFbmRzIHRoZSBjYWxsLiBPbmNlIHRoZSBjYWxsIGlzIGVuZGVkLCBpdCBjYW5ub3QgYmUgcmUtam9pbmVkLlxuICAgKi9cbiAgZW5kQ2FsbCA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxFbmRDYWxsUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbWFya19lbmRlZGAsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUGlucyB0aGUgZ2l2ZW4gc2Vzc2lvbiB0byB0aGUgdG9wIG9mIHRoZSBwYXJ0aWNpcGFudHMgbGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHBpbi5cbiAgICovXG4gIHBpbiA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7XG4gICAgICBwaW46IHtcbiAgICAgICAgaXNMb2NhbFBpbjogdHJ1ZSxcbiAgICAgICAgcGlubmVkQXQ6IERhdGUubm93KCksXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbnBpbnMgdGhlIGdpdmVuIHNlc3Npb24gZnJvbSB0aGUgdG9wIG9mIHRoZSBwYXJ0aWNpcGFudHMgbGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHVucGluLlxuICAgKi9cbiAgdW5waW4gPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwge1xuICAgICAgcGluOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBpbnMgdGhlIGdpdmVuIHNlc3Npb24gdG8gdGhlIHRvcCBvZiB0aGUgcGFydGljaXBhbnRzIGxpc3QgZm9yIGV2ZXJ5b25lXG4gICAqIGluIHRoZSBjYWxsLlxuICAgKiBZb3UgY2FuIGV4ZWN1dGUgdGhpcyBtZXRob2Qgb25seSBpZiB5b3UgaGF2ZSB0aGUgYHBpbi1mb3ItZXZlcnlvbmVgIGNhcGFiaWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICovXG4gIHBpbkZvckV2ZXJ5b25lID0gYXN5bmMgKHJlcXVlc3Q6IFBpblJlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxQaW5SZXNwb25zZSwgUGluUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9waW5gLFxuICAgICAgcmVxdWVzdCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbnBpbnMgdGhlIGdpdmVuIHNlc3Npb24gZnJvbSB0aGUgdG9wIG9mIHRoZSBwYXJ0aWNpcGFudHMgbGlzdCBmb3IgZXZlcnlvbmVcbiAgICogaW4gdGhlIGNhbGwuXG4gICAqIFlvdSBjYW4gZXhlY3V0ZSB0aGlzIG1ldGhvZCBvbmx5IGlmIHlvdSBoYXZlIHRoZSBgcGluLWZvci1ldmVyeW9uZWAgY2FwYWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgdGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKi9cbiAgdW5waW5Gb3JFdmVyeW9uZSA9IGFzeW5jIChyZXF1ZXN0OiBVbnBpblJlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxVbnBpblJlc3BvbnNlLCBVbnBpblJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vdW5waW5gLFxuICAgICAgcmVxdWVzdCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBRdWVyeSBjYWxsIG1lbWJlcnMgd2l0aCBmaWx0ZXIgcXVlcnkuIFRoZSByZXN1bHQgd29uJ3QgYmUgc3RvcmVkIGluIGNhbGwgc3RhdGUuXG4gICAqIEBwYXJhbSByZXF1ZXN0XG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBxdWVyeU1lbWJlcnMgPSAocmVxdWVzdD86IE9taXQ8UXVlcnlDYWxsTWVtYmVyc1JlcXVlc3QsICd0eXBlJyB8ICdpZCc+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2UsXG4gICAgICBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgID4oJy9jYWxsL21lbWJlcnMnLCB7XG4gICAgICAuLi4ocmVxdWVzdCB8fCB7fSksXG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCB1cGRhdGUgdGhlIGNhbGwgbWVtYmVycy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIHJlcXVlc3QgZGF0YS5cbiAgICovXG4gIHVwZGF0ZUNhbGxNZW1iZXJzID0gYXN5bmMgKFxuICAgIGRhdGE6IFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlLFxuICAgICAgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9tZW1iZXJzYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlcyBhbiBhdXRvLWRyb3AgdGltZW91dCBiYXNlZCBvbiB0aGUgY2FsbCBzZXR0aW5ncy5cbiAgICogQXBwbGljYWJsZSBvbmx5IGZvciByaW5naW5nIGNhbGxzLlxuICAgKi9cbiAgcHJpdmF0ZSBzY2hlZHVsZUF1dG9Ecm9wID0gKCkgPT4ge1xuICAgIHRoaXMuY2FuY2VsQXV0b0Ryb3AoKTtcblxuICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5zdGF0ZS5zZXR0aW5ncztcbiAgICBpZiAoIXNldHRpbmdzKSByZXR1cm47XG4gICAgLy8gaWdub3JlIGlmIHRoZSBjYWxsIGlzIG5vdCByaW5naW5nXG4gICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuUklOR0lORykgcmV0dXJuO1xuXG4gICAgY29uc3QgdGltZW91dEluTXMgPSB0aGlzLmlzQ3JlYXRlZEJ5TWVcbiAgICAgID8gc2V0dGluZ3MucmluZy5hdXRvX2NhbmNlbF90aW1lb3V0X21zXG4gICAgICA6IHNldHRpbmdzLnJpbmcuaW5jb21pbmdfY2FsbF90aW1lb3V0X21zO1xuXG4gICAgLy8gMCBtZWFucyBubyBhdXRvLWRyb3BcbiAgICBpZiAodGltZW91dEluTXMgPD0gMCkgcmV0dXJuO1xuXG4gICAgdGhpcy5kcm9wVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gdGhlIGNhbGwgbWlnaHQgaGF2ZSBzdG9wcGVkIHJpbmdpbmcgYnkgdGhpcyBwb2ludCxcbiAgICAgIC8vIGUuZy4gaXQgd2FzIGFscmVhZHkgYWNjZXB0ZWQgYW5kIGpvaW5lZFxuICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuUklOR0lORykgcmV0dXJuO1xuICAgICAgdGhpcy5sZWF2ZSh7IHJlamVjdDogdHJ1ZSwgcmVhc29uOiAndGltZW91dCcgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGRyb3AgY2FsbCcsIGVycik7XG4gICAgICB9KTtcbiAgICB9LCB0aW1lb3V0SW5Ncyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBzY2hlZHVsZWQgYXV0by1kcm9wIHRpbWVvdXQuXG4gICAqL1xuICBwcml2YXRlIGNhbmNlbEF1dG9Ecm9wID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRyb3BUaW1lb3V0KTtcbiAgICB0aGlzLmRyb3BUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgcmVjb3JkaW5ncyBmb3IgdGhlIGN1cnJlbnQgY2FsbCBvciBjYWxsIHNlc3Npb24uXG4gICAqXG4gICAqIElmIGBjYWxsU2Vzc2lvbklkYCBpcyBwcm92aWRlZCwgaXQgd2lsbCByZXR1cm4gdGhlIHJlY29yZGluZ3MgZm9yIHRoYXQgY2FsbCBzZXNzaW9uLlxuICAgKiBPdGhlcndpc2UsIGFsbCByZWNvcmRpbmdzIGZvciB0aGUgY3VycmVudCBjYWxsIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsU2Vzc2lvbklkIHRoZSBjYWxsIHNlc3Npb24gaWQgdG8gcmV0cmlldmUgcmVjb3JkaW5ncyBmb3IuXG4gICAqL1xuICBxdWVyeVJlY29yZGluZ3MgPSBhc3luYyAoXG4gICAgY2FsbFNlc3Npb25JZD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlPiA9PiB7XG4gICAgbGV0IGVuZHBvaW50ID0gdGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aDtcbiAgICBpZiAoY2FsbFNlc3Npb25JZCkge1xuICAgICAgZW5kcG9pbnQgPSBgJHtlbmRwb2ludH0vJHtjYWxsU2Vzc2lvbklkfWA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8TGlzdFJlY29yZGluZ3NSZXNwb25zZT4oXG4gICAgICBgJHtlbmRwb2ludH0vcmVjb3JkaW5nc2AsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIHRyYW5zY3JpcHRpb25zIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAcmV0dXJucyB0aGUgbGlzdCBvZiB0cmFuc2NyaXB0aW9ucy5cbiAgICovXG4gIHF1ZXJ5VHJhbnNjcmlwdGlvbnMgPSBhc3luYyAoKTogUHJvbWlzZTxMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8TGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vdHJhbnNjcmlwdGlvbnNgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGNhbGwgc3RhdGlzdGljcyBmb3IgYSBwYXJ0aWN1bGFyIGNhbGwgc2Vzc2lvbiAoaGlzdG9yaWNhbCkuXG4gICAqIEhlcmUgYGNhbGxTZXNzaW9uSURgIGlzIG1hbmRhdG9yeS5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxTZXNzaW9uSUQgdGhlIGNhbGwgc2Vzc2lvbiBJRCB0byByZXRyaWV2ZSBzdGF0aXN0aWNzIGZvci5cbiAgICogQHJldHVybnMgVGhlIGNhbGwgc3RhdHMuXG4gICAqL1xuICBnZXRDYWxsU3RhdHMgPSBhc3luYyAoY2FsbFNlc3Npb25JRDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGF0cy8ke2NhbGxTZXNzaW9uSUR9YDtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldENhbGxTdGF0c1Jlc3BvbnNlPihlbmRwb2ludCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN1Ym1pdCB1c2VyIGZlZWRiYWNrIGZvciB0aGUgY2FsbFxuICAgKlxuICAgKiBAcGFyYW0gcmF0aW5nIFJhdGluZyBiZXR3ZWVuIDEgYW5kIDUgZGVub3RpbmcgdGhlIGV4cGVyaWVuY2Ugb2YgdGhlIHVzZXIgaW4gdGhlIGNhbGxcbiAgICogQHBhcmFtIHJlYXNvbiBUaGUgcmVhc29uL2Rlc2NyaXB0aW9uIGZvciB0aGUgcmF0aW5nXG4gICAqIEBwYXJhbSBjdXN0b20gQ3VzdG9tIGRhdGFcbiAgICogQHJldHVybnNcbiAgICovXG4gIHN1Ym1pdEZlZWRiYWNrID0gYXN5bmMgKFxuICAgIHJhdGluZzogbnVtYmVyLFxuICAgIHtcbiAgICAgIHJlYXNvbixcbiAgICAgIGN1c3RvbSxcbiAgICB9OiB7XG4gICAgICByZWFzb24/OiBzdHJpbmc7XG4gICAgICBjdXN0b20/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIH0gPSB7fSxcbiAgKSA9PiB7XG4gICAgaWYgKHJhdGluZyA8IDEgfHwgcmF0aW5nID4gNSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYXRpbmcgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDUnKTtcbiAgICB9XG4gICAgY29uc3QgY2FsbFNlc3Npb25JZCA9IHRoaXMuc3RhdGUuc2Vzc2lvbj8uaWQ7XG4gICAgaWYgKCFjYWxsU2Vzc2lvbklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdGZWVkYmFjayBjYW4gYmUgc3VibWl0dGVkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSBjYWxsIHNlc3Npb24nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHNka05hbWUsIHNka1ZlcnNpb24sIC4uLnBsYXRmb3JtIH0gPVxuICAgICAgZ2V0U2RrU2lnbmF0dXJlKGdldENsaWVudERldGFpbHMoKSk7XG5cbiAgICAvLyB1c2VyIHNlc3Npb25JZCBpcyBub3QgYXZhaWxhYmxlIG9uY2UgdGhlIGNhbGwgaGFzIGJlZW4gbGVmdFxuICAgIC8vIHVudGlsIHdlIHJlbGF4IHRoZSBiYWNrZW5kIHZhbGlkYXRpb24sIHdlJ2xsIHNlbmQgTi9BXG4gICAgY29uc3QgdXNlclNlc3Npb25JZCA9IHRoaXMuc2Z1Q2xpZW50Py5zZXNzaW9uSWQgPz8gJ04vQSc7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9mZWVkYmFjay8ke2NhbGxTZXNzaW9uSWR9YDtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZSxcbiAgICAgIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAgPihlbmRwb2ludCwge1xuICAgICAgcmF0aW5nLFxuICAgICAgcmVhc29uLFxuICAgICAgdXNlcl9zZXNzaW9uX2lkOiB1c2VyU2Vzc2lvbklkLFxuICAgICAgc2RrOiBzZGtOYW1lLFxuICAgICAgc2RrX3ZlcnNpb246IHNka1ZlcnNpb24sXG4gICAgICBjdXN0b206IHtcbiAgICAgICAgLi4uY3VzdG9tLFxuICAgICAgICAneC1zdHJlYW0tcGxhdGZvcm0tZGF0YSc6IHBsYXRmb3JtLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSBjdXN0b20gZXZlbnQgdG8gYWxsIGNhbGwgcGFydGljaXBhbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gcGF5bG9hZCB0aGUgcGF5bG9hZCB0byBzZW5kLlxuICAgKi9cbiAgc2VuZEN1c3RvbUV2ZW50ID0gYXN5bmMgKHBheWxvYWQ6IHsgW2tleTogc3RyaW5nXTogYW55IH0pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTZW5kQ2FsbEV2ZW50UmVzcG9uc2UsIFNlbmRDYWxsRXZlbnRSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2V2ZW50YCxcbiAgICAgIHsgY3VzdG9tOiBwYXlsb2FkIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgZGV2aWNlIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgYmFja2VuZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhcHBseURldmljZUNvbmZpZyA9IGFzeW5jIChcbiAgICBzZXR0aW5nczogQ2FsbFNldHRpbmdzUmVzcG9uc2UsXG4gICAgcHVibGlzaDogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5jYW1lcmEuYXBwbHkoc2V0dGluZ3MudmlkZW8sIHB1Ymxpc2gpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NhbWVyYSBpbml0IGZhaWxlZCcsIGVycik7XG4gICAgfSk7XG4gICAgYXdhaXQgdGhpcy5taWNyb3Bob25lLmFwcGx5KHNldHRpbmdzLmF1ZGlvLCBwdWJsaXNoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdNaWMgaW5pdCBmYWlsZWQnLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIGJlZ2luIHRyYWNraW5nIHRoZSBnaXZlbiBlbGVtZW50IGZvciB2aXNpYmlsaXR5IGNoYW5nZXMgd2l0aGluIHRoZVxuICAgKiBjb25maWd1cmVkIHZpZXdwb3J0IGVsZW1lbnQgKGBjYWxsLnNldFZpZXdwb3J0YCkuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHRyYWNrLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB2aWRlbyBtb2RlLlxuICAgKi9cbiAgdHJhY2tFbGVtZW50VmlzaWJpbGl0eSA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICAgIGVsZW1lbnQ6IFQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZHluYXNjYWxlTWFuYWdlci50cmFja0VsZW1lbnRWaXNpYmlsaXR5KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRyYWNrVHlwZSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2aWV3cG9ydCBlbGVtZW50IHRvIHRyYWNrIGJvdW5kIHZpZGVvIGVsZW1lbnRzIGZvciB2aXNpYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgdmlld3BvcnQgZWxlbWVudC5cbiAgICovXG4gIHNldFZpZXdwb3J0ID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oZWxlbWVudDogVCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuc2V0Vmlld3BvcnQoZWxlbWVudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIGEgRE9NIDx2aWRlbz4gZWxlbWVudCB0byB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICogVGhpcyBtZXRob2Qgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgdmlkZW8gZWxlbWVudCB3aWxsIHBsYXlcbiAgICogdGhlIGNvcnJlY3QgdmlkZW8gc3RyZWFtIGZvciB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogVW5kZXIgdGhlIGhvb2QsIGl0IHdvdWxkIGFsc28ga2VlcCB0cmFjayBvZiB0aGUgdmlkZW8gZWxlbWVudCBkaW1lbnNpb25zXG4gICAqIGFuZCB1cGRhdGUgdGhlIHN1YnNjcmlwdGlvbiBhY2NvcmRpbmdseSBpbiBvcmRlciB0byBvcHRpbWl6ZSB0aGUgYmFuZHdpZHRoLlxuICAgKlxuICAgKiBJZiBhIFwidmlld3BvcnRcIiBpcyBjb25maWd1cmVkLCB0aGUgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICogdHJhY2tlZCBmb3IgdmlzaWJpbGl0eSBhbmQgdGhlIHN1YnNjcmlwdGlvbiB3aWxsIGJlIHVwZGF0ZWQgYWNjb3JkaW5nbHkuXG4gICAqXG4gICAqIEBwYXJhbSB2aWRlb0VsZW1lbnQgdGhlIHZpZGVvIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiB2aWRlby5cbiAgICovXG4gIGJpbmRWaWRlb0VsZW1lbnQgPSAoXG4gICAgdmlkZW9FbGVtZW50OiBIVE1MVmlkZW9FbGVtZW50LFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIGNvbnN0IHVuYmluZCA9IHRoaXMuZHluYXNjYWxlTWFuYWdlci5iaW5kVmlkZW9FbGVtZW50KFxuICAgICAgdmlkZW9FbGVtZW50LFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdHJhY2tUeXBlLFxuICAgICk7XG5cbiAgICBpZiAoIXVuYmluZCkgcmV0dXJuO1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHVuYmluZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuZGVsZXRlKHVuYmluZCk7XG4gICAgICB1bmJpbmQoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8YXVkaW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIGF1ZGlvIGVsZW1lbnQgd2lsbFxuICAgKiBwbGF5IHRoZSBjb3JyZWN0IGF1ZGlvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSBhdWRpb0VsZW1lbnQgdGhlIGF1ZGlvIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiBhdWRpby5cbiAgICovXG4gIGJpbmRBdWRpb0VsZW1lbnQgPSAoXG4gICAgYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50LFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogQXVkaW9UcmFja1R5cGUgPSAnYXVkaW9UcmFjaycsXG4gICkgPT4ge1xuICAgIGNvbnN0IHVuYmluZCA9IHRoaXMuZHluYXNjYWxlTWFuYWdlci5iaW5kQXVkaW9FbGVtZW50KFxuICAgICAgYXVkaW9FbGVtZW50LFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdHJhY2tUeXBlLFxuICAgICk7XG5cbiAgICBpZiAoIXVuYmluZCkgcmV0dXJuO1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHVuYmluZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuZGVsZXRlKHVuYmluZCk7XG4gICAgICB1bmJpbmQoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8aW1nPiBlbGVtZW50IHRvIHRoaXMgY2FsbCdzIHRodW1ibmFpbCAoaWYgZW5hYmxlZCBpbiBzZXR0aW5ncykuXG4gICAqXG4gICAqIEBwYXJhbSBpbWFnZUVsZW1lbnQgdGhlIGltYWdlIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIG9wdHMgb3B0aW9ucyBmb3IgdGhlIGJpbmRpbmcuXG4gICAqL1xuICBiaW5kQ2FsbFRodW1ibmFpbEVsZW1lbnQgPSAoXG4gICAgaW1hZ2VFbGVtZW50OiBIVE1MSW1hZ2VFbGVtZW50LFxuICAgIG9wdHM6IHtcbiAgICAgIGZhbGxiYWNrSW1hZ2VTb3VyY2U/OiBzdHJpbmc7XG4gICAgfSA9IHt9LFxuICApID0+IHtcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9ICgpID0+IHtcbiAgICAgIGltYWdlRWxlbWVudC5zcmMgPVxuICAgICAgICBvcHRzLmZhbGxiYWNrSW1hZ2VTb3VyY2UgfHxcbiAgICAgICAgJ2h0dHBzOi8vZ2V0c3RyZWFtLmlvL3JhbmRvbV9zdmcvP25hbWU9eCZpZD14JztcbiAgICB9O1xuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgICB0aGlzLnN0YXRlLnRodW1ibmFpbHMkLFxuICAgICAgKHRodW1ibmFpbHMpID0+IHtcbiAgICAgICAgaWYgKCF0aHVtYm5haWxzKSByZXR1cm47XG4gICAgICAgIGltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGhhbmRsZUVycm9yKTtcblxuICAgICAgICBjb25zdCB0aHVtYm5haWxVcmwgPSBuZXcgVVJMKHRodW1ibmFpbHMuaW1hZ2VfdXJsKTtcbiAgICAgICAgdGh1bWJuYWlsVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3cnLCBTdHJpbmcoaW1hZ2VFbGVtZW50LmNsaWVudFdpZHRoKSk7XG4gICAgICAgIHRodW1ibmFpbFVybC5zZWFyY2hQYXJhbXMuc2V0KCdoJywgU3RyaW5nKGltYWdlRWxlbWVudC5jbGllbnRIZWlnaHQpKTtcblxuICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gdGh1bWJuYWlsVXJsLnRvU3RyaW5nKCk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIGltYWdlRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGhhbmRsZUVycm9yKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHByZWZlcmVuY2UgZm9yIGluY29taW5nIHZpZGVvIHJlc29sdXRpb24uIFRoZSBwcmVmZXJlbmNlIHdpbGxcbiAgICogYmUgbWF0Y2hlZCBhcyBjbG9zZSBhcyBwb3NzaWJsZSwgYnV0IGFjdHVhbCByZXNvbHV0aW9uIHdpbGwgZGVwZW5kXG4gICAqIG9uIHRoZSB2aWRlbyBzb3VyY2UgcXVhbGl0eSBhbmQgY2xpZW50IG5ldHdvcmsgY29uZGl0aW9ucy4gV2lsbCBlbmFibGVcbiAgICogaW5jb21pbmcgdmlkZW8sIGlmIHByZXZpb3VzbHkgZGlzYWJsZWQuXG4gICAqXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uIHByZWZlcnJlZCByZXNvbHV0aW9uLCBvciBgdW5kZWZpbmVkYCB0byBjbGVhciBwcmVmZXJlbmNlXG4gICAqIEBwYXJhbSBzZXNzaW9uSWRzIG9wdGlvbmFsbHkgc3BlY2lmeSBzZXNzaW9uIGlkcyBvZiB0aGUgcGFydGljaXBhbnRzIHRoaXNcbiAgICogcHJlZmVyZW5jZSBoYXMgZWZmZWN0IG9uLiBBZmZlY3RzIGFsbCBwYXJ0aWNpcGFudHMgYnkgZGVmYXVsdC5cbiAgICovXG4gIHNldFByZWZlcnJlZEluY29taW5nVmlkZW9SZXNvbHV0aW9uID0gKFxuICAgIHJlc29sdXRpb246IFZpZGVvRGltZW5zaW9uIHwgdW5kZWZpbmVkLFxuICAgIHNlc3Npb25JZHM/OiBzdHJpbmdbXSxcbiAgKSA9PiB7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMoXG4gICAgICByZXNvbHV0aW9uXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIGRpbWVuc2lvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgc2Vzc2lvbklkcyxcbiAgICApO1xuICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5hcHBseVRyYWNrU3Vic2NyaXB0aW9ucygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIGluY29taW5nIHZpZGVvIGZyb20gYWxsIHJlbW90ZSBjYWxsIHBhcnRpY2lwYW50cyxcbiAgICogYW5kIHJlbW92ZXMgYW55IHByZWZlcmVuY2UgZm9yIHByZWZlcnJlZCByZXNvbHV0aW9uLlxuICAgKi9cbiAgc2V0SW5jb21pbmdWaWRlb0VuYWJsZWQgPSAoZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5zZXRWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzKFxuICAgICAgZW5hYmxlZCA/IHVuZGVmaW5lZCA6IHsgZW5hYmxlZDogZmFsc2UgfSxcbiAgICApO1xuICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5hcHBseVRyYWNrU3Vic2NyaXB0aW9ucygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIGEgdXNlciBjYW4gcmVtYWluIHdhaXRpbmcgZm9yIGEgcmVjb25uZWN0XG4gICAqIGFmdGVyIGEgbmV0d29yayBkaXNydXB0aW9uXG4gICAqIEBwYXJhbSB0aW1lb3V0U2Vjb25kcyBUaW1lb3V0IGluIHNlY29uZHMsIG9yIDAgdG8ga2VlcCByZWNvbm5lY3RpbmcgaW5kZWZpbmV0ZWx5XG4gICAqL1xuICBzZXREaXNjb25uZWN0aW9uVGltZW91dCA9ICh0aW1lb3V0U2Vjb25kczogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5kaXNjb25uZWN0aW9uVGltZW91dFNlY29uZHMgPSB0aW1lb3V0U2Vjb25kcztcbiAgfTtcbn1cbiIsImltcG9ydCB7IFN0cmVhbUNsaWVudCB9IGZyb20gJy4vY2xpZW50JztcbmltcG9ydCB7XG4gIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyxcbiAgaXNDbG9zZUV2ZW50LFxuICBLbm93bkNvZGVzLFxuICByYW5kb21JZCxcbiAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICByZXRyeUludGVydmFsLFxuICBzbGVlcCxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IExvZ0xldmVsLCBTdHJlYW1WaWRlb0V2ZW50LCBVUiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHR5cGUge1xuICBDb25uZWN0ZWRFdmVudCxcbiAgQ29ubmVjdGlvbkVycm9yRXZlbnQsXG4gIFdTQXV0aE1lc3NhZ2UsXG59IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBtYWtlU2FmZVByb21pc2UsIHR5cGUgU2FmZVByb21pc2UgfSBmcm9tICcuLi8uLi9oZWxwZXJzL3Byb21pc2UnO1xuaW1wb3J0IHsgZ2V0VGltZXJzIH0gZnJvbSAnLi4vLi4vdGltZXJzJztcblxuLyoqXG4gKiBTdGFibGVXU0Nvbm5lY3Rpb24gLSBBIFdTIGNvbm5lY3Rpb24gdGhhdCByZWNvbm5lY3RzIHVwb24gZmFpbHVyZS5cbiAqIC0gdGhlIGJyb3dzZXIgd2lsbCBzb21ldGltZXMgcmVwb3J0IHRoYXQgeW91J3JlIG9ubGluZSBvciBvZmZsaW5lXG4gKiAtIHRoZSBXUyBjb25uZWN0aW9uIGNhbiBicmVhayBhbmQgZmFpbCAodGhlcmUgaXMgYSAzMHMgaGVhbHRoIGNoZWNrKVxuICogLSBzb21ldGltZXMgeW91ciBXUyBjb25uZWN0aW9uIHdpbGwgc2VlbSB0byB3b3JrIHdoaWxlIHRoZSB1c2VyIGlzIGluIGZhY3Qgb2ZmbGluZVxuICogLSB0byBzcGVlZCB1cCBvbmxpbmUvb2ZmbGluZSBkZXRlY3Rpb24geW91IGNhbiB1c2UgdGhlIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJyk7XG4gKlxuICogVGhlcmUgYXJlIDQgd2F5cyBpbiB3aGljaCBhIGNvbm5lY3Rpb24gY2FuIGJlY29tZSB1bmhlYWx0aHk6XG4gKiAtIHdlYnNvY2tldC5vbmVycm9yIGlzIGNhbGxlZFxuICogLSB3ZWJzb2NrZXQub25jbG9zZSBpcyBjYWxsZWRcbiAqIC0gdGhlIGhlYWx0aCBjaGVjayBmYWlscyBhbmQgbm8gZXZlbnQgaXMgcmVjZWl2ZWQgZm9yIH40MCBzZWNvbmRzXG4gKiAtIHRoZSBicm93c2VyIGluZGljYXRlcyB0aGUgY29ubmVjdGlvbiBpcyBub3cgb2ZmbGluZVxuICpcbiAqIFRoZXJlIGFyZSAyIGFzc3VtcHRpb25zIHdlIG1ha2UgYWJvdXQgdGhlIHNlcnZlcjpcbiAqIC0gc3RhdGUgY2FuIGJlIHJlY292ZXJlZCBieSBxdWVyeWluZyB0aGUgY2hhbm5lbCBhZ2FpblxuICogLSBpZiB0aGUgc2VydmVycyBmYWlscyB0byBwdWJsaXNoIGEgbWVzc2FnZSB0byB0aGUgY2xpZW50LCB0aGUgV1MgY29ubmVjdGlvbiBpcyBkZXN0cm95ZWRcbiAqL1xuZXhwb3J0IGNsYXNzIFN0YWJsZVdTQ29ubmVjdGlvbiB7XG4gIC8vIGxvY2FsIHZhcnNcbiAgY29ubmVjdGlvbklEPzogc3RyaW5nO1xuICBwcml2YXRlIGNvbm5lY3Rpb25PcGVuU2FmZT86IFNhZmVQcm9taXNlPENvbm5lY3RlZEV2ZW50PjtcbiAgY29uc2VjdXRpdmVGYWlsdXJlczogbnVtYmVyO1xuICBwaW5nSW50ZXJ2YWw6IG51bWJlcjtcbiAgaGVhbHRoQ2hlY2tUaW1lb3V0UmVmPzogbnVtYmVyO1xuICBpc0Nvbm5lY3Rpbmc6IGJvb2xlYW47XG4gIGlzRGlzY29ubmVjdGVkOiBib29sZWFuO1xuICBpc0hlYWx0aHk6IGJvb2xlYW47XG4gIGlzUmVzb2x2ZWQ/OiBib29sZWFuO1xuICBsYXN0RXZlbnQ6IERhdGUgfCBudWxsO1xuICBjb25uZWN0aW9uQ2hlY2tUaW1lb3V0OiBudW1iZXI7XG4gIGNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWY/OiBOb2RlSlMuVGltZW91dDtcbiAgcmVqZWN0UHJvbWlzZT86IChcbiAgICByZWFzb24/OiBFcnJvciAmIHtcbiAgICAgIGNvZGU/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgICBpc1dTRmFpbHVyZT86IGJvb2xlYW47XG4gICAgICBTdGF0dXNDb2RlPzogc3RyaW5nIHwgbnVtYmVyO1xuICAgIH0sXG4gICkgPT4gdm9pZDtcbiAgcmVxdWVzdElEOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlc29sdmVQcm9taXNlPzogKHZhbHVlOiBDb25uZWN0ZWRFdmVudCkgPT4gdm9pZDtcbiAgdG90YWxGYWlsdXJlczogbnVtYmVyO1xuICB3cz86IFdlYlNvY2tldDtcbiAgd3NJRDogbnVtYmVyO1xuXG4gIGNsaWVudDogU3RyZWFtQ2xpZW50O1xuXG4gIGNvbnN0cnVjdG9yKGNsaWVudDogU3RyZWFtQ2xpZW50KSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgLyoqIGNvbnNlY3V0aXZlIGZhaWx1cmVzIGluZmx1ZW5jZSB0aGUgZHVyYXRpb24gb2YgdGhlIHRpbWVvdXQgKi9cbiAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgIC8qKiBrZWVwIHRyYWNrIG9mIHRoZSB0b3RhbCBudW1iZXIgb2YgZmFpbHVyZXMgKi9cbiAgICB0aGlzLnRvdGFsRmFpbHVyZXMgPSAwO1xuICAgIC8qKiBXZSBvbmx5IG1ha2UgMSBhdHRlbXB0IHRvIHJlY29ubmVjdCBhdCB0aGUgc2FtZSB0aW1lLi4gKi9cbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIC8qKiBUbyBhdm9pZCByZWNvbm5lY3QgaWYgY2xpZW50IGlzIGRpc2Nvbm5lY3RlZCAqL1xuICAgIHRoaXMuaXNEaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAvKiogQm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGUgY29ubmVjdGlvbiBwcm9taXNlIGlzIHJlc29sdmVkICovXG4gICAgdGhpcy5pc1Jlc29sdmVkID0gZmFsc2U7XG4gICAgLyoqIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgd2UgaGF2ZSBhIHdvcmtpbmcgY29ubmVjdGlvbiB0byB0aGUgc2VydmVyICovXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAvKiogSW5jcmVtZW50ZWQgd2hlbiBhIG5ldyBXUyBjb25uZWN0aW9uIGlzIG1hZGUgKi9cbiAgICB0aGlzLndzSUQgPSAxO1xuICAgIC8qKiBTdG9yZSB0aGUgbGFzdCBldmVudCB0aW1lIGZvciBoZWFsdGggY2hlY2tzICovXG4gICAgdGhpcy5sYXN0RXZlbnQgPSBudWxsO1xuICAgIC8qKiBTZW5kIGEgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgZXZlcnkgMjUgc2Vjb25kcyAqL1xuICAgIHRoaXMucGluZ0ludGVydmFsID0gMjUgKiAxMDAwO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCA9IHRoaXMucGluZ0ludGVydmFsICsgMTAgKiAxMDAwO1xuXG4gICAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMub25saW5lU3RhdHVzQ2hhbmdlZCk7XG4gIH1cblxuICBfbG9nID0gKG1zZzogc3RyaW5nLCBleHRyYTogVVIgPSB7fSwgbGV2ZWw6IExvZ0xldmVsID0gJ2luZm8nKSA9PiB7XG4gICAgdGhpcy5jbGllbnQubG9nZ2VyKGxldmVsLCAnY29ubmVjdGlvbjonICsgbXNnLCB7XG4gICAgICAuLi5leHRyYSxcbiAgICB9KTtcbiAgfTtcblxuICBzZXRDbGllbnQgPSAoY2xpZW50OiBTdHJlYW1DbGllbnQpID0+IHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgfTtcblxuICAvKipcbiAgICogY29ubmVjdCAtIENvbm5lY3QgdG8gdGhlIFdTIFVSTFxuICAgKiB0aGUgZGVmYXVsdCAxNXMgdGltZW91dCBhbGxvd3MgYmV0d2VlbiAyfjMgdHJpZXNcbiAgICogQHJldHVybiB7Q29ubmVjdEFQSVJlc3BvbnNlPENvbm5lY3RlZEV2ZW50Pn0gUHJvbWlzZSB0aGF0IGNvbXBsZXRlcyBvbmNlIHRoZSBmaXJzdCBoZWFsdGggY2hlY2sgbWVzc2FnZSBpcyByZWNlaXZlZFxuICAgKi9cbiAgYXN5bmMgY29ubmVjdCh0aW1lb3V0ID0gMTUwMDApIHtcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBgWW91J3ZlIGNhbGxlZCBjb25uZWN0IHR3aWNlLCBjYW4gb25seSBhdHRlbXB0IDEgY29ubmVjdGlvbiBhdCB0aGUgdGltZWAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuaXNEaXNjb25uZWN0ZWQgPSBmYWxzZTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBoZWFsdGhDaGVjayA9IGF3YWl0IHRoaXMuX2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG5cbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYGNvbm5lY3QoKSAtIEVzdGFibGlzaGVkIHdzIGNvbm5lY3Rpb24gd2l0aCBoZWFsdGhjaGVjazogJHtoZWFsdGhDaGVja31gLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuXG4gICAgICBpZiAoXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZXJyb3IuY29kZSA9PT0gS25vd25Db2Rlcy5UT0tFTl9FWFBJUkVEICYmXG4gICAgICAgICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoIWVycm9yLmlzV1NGYWlsdXJlKSB7XG4gICAgICAgICAgLy8gQVBJIHJlamVjdGVkIHRoZSBjb25uZWN0aW9uIGFuZCB3ZSBzaG91bGQgbm90IHJldHJ5XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgU3RhdHVzQ29kZTogZXJyb3IuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIGlzV1NGYWlsdXJlOiBlcnJvci5pc1dTRmFpbHVyZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fd2FpdEZvckhlYWx0aHkodGltZW91dCk7XG4gIH1cblxuICAvKipcbiAgICogX3dhaXRGb3JIZWFsdGh5IHBvbGxzIHRoZSBwcm9taXNlIGNvbm5lY3Rpb24gdG8gc2VlIGlmIGl0cyByZXNvbHZlZCB1bnRpbCBpdCB0aW1lcyBvdXRcbiAgICogdGhlIGRlZmF1bHQgMTVzIHRpbWVvdXQgYWxsb3dzIGJldHdlZW4gMn4zIHRyaWVzXG4gICAqIEBwYXJhbSB0aW1lb3V0IGR1cmF0aW9uKG1zKVxuICAgKi9cbiAgYXN5bmMgX3dhaXRGb3JIZWFsdGh5KHRpbWVvdXQgPSAxNTAwMCkge1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSA1MDsgLy8gbXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGltZW91dDsgaSArPSBpbnRlcnZhbCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb25uZWN0aW9uT3BlbjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gdGltZW91dCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgY29kZTogZXJyb3IuY29kZSxcbiAgICAgICAgICAgICAgICAgIFN0YXR1c0NvZGU6IGVycm9yLlN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgaXNXU0ZhaWx1cmU6IGVycm9yLmlzV1NGYWlsdXJlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoaW50ZXJ2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkoKSxcbiAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHNsZWVwKHRpbWVvdXQpO1xuICAgICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgY29kZTogJycsXG4gICAgICAgICAgICBTdGF0dXNDb2RlOiAnJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdpbml0aWFsIFdTIGNvbm5lY3Rpb24gY291bGQgbm90IGJlIGVzdGFibGlzaGVkJyxcbiAgICAgICAgICAgIGlzV1NGYWlsdXJlOiB0cnVlLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgfSkoKSxcbiAgICBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgYW5kIHJldHVybnMgdGhlIHVybCBmb3Igd2Vic29ja2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB1cmwgc3RyaW5nXG4gICAqL1xuICBfYnVpbGRVcmwgPSAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIHBhcmFtcy5zZXQoJ2FwaV9rZXknLCB0aGlzLmNsaWVudC5rZXkpO1xuICAgIHBhcmFtcy5zZXQoJ3N0cmVhbS1hdXRoLXR5cGUnLCB0aGlzLmNsaWVudC5nZXRBdXRoVHlwZSgpKTtcbiAgICBwYXJhbXMuc2V0KCdYLVN0cmVhbS1DbGllbnQnLCB0aGlzLmNsaWVudC5nZXRVc2VyQWdlbnQoKSk7XG5cbiAgICByZXR1cm4gYCR7dGhpcy5jbGllbnQud3NCYXNlVVJMfS9jb25uZWN0PyR7cGFyYW1zLnRvU3RyaW5nKCl9YDtcbiAgfTtcblxuICAvKipcbiAgICogZGlzY29ubmVjdCAtIERpc2Nvbm5lY3QgdGhlIGNvbm5lY3Rpb24gYW5kIGRvZXNuJ3QgcmVjb3Zlci4uLlxuICAgKlxuICAgKi9cbiAgZGlzY29ubmVjdCh0aW1lb3V0PzogbnVtYmVyKSB7XG4gICAgdGhpcy5fbG9nKFxuICAgICAgYGRpc2Nvbm5lY3QoKSAtIENsb3NpbmcgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGZvciB3c0lEICR7dGhpcy53c0lEfWAsXG4gICAgKTtcblxuICAgIHRoaXMud3NJRCArPSAxO1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAvLyBzdGFydCBieSByZW1vdmluZyBhbGwgdGhlIGxpc3RlbmVyc1xuICAgIGlmICh0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZikge1xuICAgICAgZ2V0VGltZXJzKCkuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZik7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICB9XG5cbiAgICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy5vbmxpbmVTdGF0dXNDaGFuZ2VkKTtcblxuICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG5cbiAgICBsZXQgaXNDbG9zZWRQcm9taXNlOiBQcm9taXNlPHZvaWQ+O1xuICAgIC8vIGFuZCBmaW5hbGx5IGNsb3NlLi4uXG4gICAgLy8gQXNzaWduaW5nIHRvIGxvY2FsIGhlcmUgYmVjYXVzZSB3ZSB3aWxsIHJlbW92ZSBpdCBmcm9tIHRoaXMgYmVmb3JlIHRoZVxuICAgIC8vIHByb21pc2UgcmVzb2x2ZXMuXG4gICAgY29uc3QgeyB3cyB9ID0gdGhpcztcbiAgICBpZiAod3MgJiYgd3MuY2xvc2UgJiYgd3MucmVhZHlTdGF0ZSA9PT0gd3MuT1BFTikge1xuICAgICAgaXNDbG9zZWRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY29uc3Qgb25jbG9zZSA9IChldmVudDogQ2xvc2VFdmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAgIGBkaXNjb25uZWN0KCkgLSByZXNvbHZpbmcgaXNDbG9zZWRQcm9taXNlICR7XG4gICAgICAgICAgICAgIGV2ZW50ID8gJ3dpdGgnIDogJ3dpdGhvdXQnXG4gICAgICAgICAgICB9IGNsb3NlIGZyYW1lYCxcbiAgICAgICAgICAgIHsgZXZlbnQgfSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB3cy5vbmNsb3NlID0gb25jbG9zZTtcbiAgICAgICAgLy8gSW4gY2FzZSB3ZSBkb24ndCByZWNlaXZlIGNsb3NlIGZyYW1lIHdlYnNvY2tldCBzZXJ2ZXIgaW4gdGltZSxcbiAgICAgICAgLy8gbGV0cyBub3Qgd2FpdCBmb3IgbW9yZSB0aGFuIDEgc2Vjb25kLlxuICAgICAgICBzZXRUaW1lb3V0KG9uY2xvc2UsIHRpbWVvdXQgIT0gbnVsbCA/IHRpbWVvdXQgOiAxMDAwKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBkaXNjb25uZWN0KCkgLSBNYW51YWxseSBjbG9zZWQgY29ubmVjdGlvbiBieSBjYWxsaW5nIGNsaWVudC5kaXNjb25uZWN0KClgLFxuICAgICAgKTtcblxuICAgICAgd3MuY2xvc2UoXG4gICAgICAgIEtub3duQ29kZXMuV1NfQ0xPU0VEX1NVQ0NFU1MsXG4gICAgICAgICdNYW51YWxseSBjbG9zZWQgY29ubmVjdGlvbiBieSBjYWxsaW5nIGNsaWVudC5kaXNjb25uZWN0KCknLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbG9nKFxuICAgICAgICBgZGlzY29ubmVjdCgpIC0gd3MgY29ubmVjdGlvbiBkb2Vzbid0IGV4aXN0IG9yIGl0IGlzIGFscmVhZHkgY2xvc2VkLmAsXG4gICAgICApO1xuICAgICAgaXNDbG9zZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMud3M7XG5cbiAgICByZXR1cm4gaXNDbG9zZWRQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIF9jb25uZWN0IC0gQ29ubmVjdCB0byB0aGUgV1MgZW5kcG9pbnRcbiAgICpcbiAgICogQHJldHVybiB7Q29ubmVjdEFQSVJlc3BvbnNlPENvbm5lY3RlZEV2ZW50Pn0gUHJvbWlzZSB0aGF0IGNvbXBsZXRlcyBvbmNlIHRoZSBmaXJzdCBoZWFsdGggY2hlY2sgbWVzc2FnZSBpcyByZWNlaXZlZFxuICAgKi9cbiAgYXN5bmMgX2Nvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nKSByZXR1cm47IC8vIHNpbXBseSBpZ25vcmUgX2Nvbm5lY3QgaWYgaXQncyBjdXJyZW50bHkgdHJ5aW5nIHRvIGNvbm5lY3RcbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IHRydWU7XG4gICAgdGhpcy5yZXF1ZXN0SUQgPSByYW5kb21JZCgpO1xuICAgIGxldCBpc1Rva2VuUmVhZHkgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fbG9nKGBfY29ubmVjdCgpIC0gd2FpdGluZyBmb3IgdG9rZW5gKTtcbiAgICAgIGF3YWl0IHRoaXMuY2xpZW50LnRva2VuTWFuYWdlci50b2tlblJlYWR5KCk7XG4gICAgICBpc1Rva2VuUmVhZHkgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHRva2VuIHByb3ZpZGVyIGhhcyBmYWlsZWQgYmVmb3JlLCBzbyB0cnkgYWdhaW5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKCFpc1Rva2VuUmVhZHkpIHtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgIGBfY29ubmVjdCgpIC0gdG9rZW5Qcm92aWRlciBmYWlsZWQgYmVmb3JlLCBzbyBnb2luZyB0byByZXRyeWAsXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5sb2FkVG9rZW4oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmNsaWVudC5pc0Nvbm5lY3Rpb25Jc1Byb21pc2VQZW5kaW5nKSB7XG4gICAgICAgIHRoaXMuY2xpZW50Ll9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldHVwQ29ubmVjdGlvblByb21pc2UoKTtcbiAgICAgIGNvbnN0IHdzVVJMID0gdGhpcy5fYnVpbGRVcmwoKTtcbiAgICAgIHRoaXMuX2xvZyhgX2Nvbm5lY3QoKSAtIENvbm5lY3RpbmcgdG8gJHt3c1VSTH1gLCB7XG4gICAgICAgIHdzVVJMLFxuICAgICAgICByZXF1ZXN0SUQ6IHRoaXMucmVxdWVzdElELFxuICAgICAgfSk7XG4gICAgICBjb25zdCBXUyA9IHRoaXMuY2xpZW50Lm9wdGlvbnMuV2ViU29ja2V0SW1wbCA/PyBXZWJTb2NrZXQ7XG4gICAgICB0aGlzLndzID0gbmV3IFdTKHdzVVJMKTtcbiAgICAgIHRoaXMud3Mub25vcGVuID0gdGhpcy5vbm9wZW4uYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgdGhpcy53cy5vbmNsb3NlID0gdGhpcy5vbmNsb3NlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IHRoaXMub25lcnJvci5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMub25tZXNzYWdlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jb25uZWN0aW9uT3BlbjtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25JRCA9IHJlc3BvbnNlLmNvbm5lY3Rpb25faWQ7XG4gICAgICAgIHRoaXMuY2xpZW50LnJlc29sdmVDb25uZWN0aW9uSWQ/Lih0aGlzLmNvbm5lY3Rpb25JRCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2xpZW50Ll9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UoKTtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0aGlzLl9sb2coYF9jb25uZWN0KCkgLSBFcnJvciAtIGAsIGVycik7XG4gICAgICB0aGlzLmNsaWVudC5yZWplY3RDb25uZWN0aW9uSWQ/LihlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBfcmVjb25uZWN0IC0gUmV0cnkgdGhlIGNvbm5lY3Rpb24gdG8gV1MgZW5kcG9pbnRcbiAgICpcbiAgICogQHBhcmFtIHt7IGludGVydmFsPzogbnVtYmVyOyByZWZyZXNoVG9rZW4/OiBib29sZWFuIH19IG9wdGlvbnMgRm9sbG93aW5nIG9wdGlvbnMgYXJlIGF2YWlsYWJsZVxuICAgKlxuICAgKiAtIGBpbnRlcnZhbGBcdHtpbnR9XHRcdFx0bnVtYmVyIG9mIG1zIHRoYXQgZnVuY3Rpb24gc2hvdWxkIHdhaXQgYmVmb3JlIHJlY29ubmVjdGluZ1xuICAgKiAtIGByZWZyZXNoVG9rZW5gIHtib29sZWFufVx0cmVsb2FkL3JlZnJlc2ggdXNlciB0b2tlbiBiZSByZWZyZXNoZWQgYmVmb3JlIGF0dGVtcHRpbmcgcmVjb25uZWN0aW9uLlxuICAgKi9cbiAgYXN5bmMgX3JlY29ubmVjdChcbiAgICBvcHRpb25zOiB7IGludGVydmFsPzogbnVtYmVyOyByZWZyZXNoVG9rZW4/OiBib29sZWFuIH0gPSB7fSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBJbml0aWF0aW5nIHRoZSByZWNvbm5lY3QnKTtcblxuICAgIC8vIG9ubHkgYWxsb3cgMSBjb25uZWN0aW9uIGF0IHRoZSB0aW1lXG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nIHx8IHRoaXMuaXNIZWFsdGh5KSB7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgxKSBzaW5jZSBhbHJlYWR5IGNvbm5lY3Rpbmcgb3IgaGVhbHRoeScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlY29ubmVjdCBpbiBjYXNlIG9mIG9uIGVycm9yIG9yIG9uIGNsb3NlXG4gICAgLy8gYWxzbyByZWNvbm5lY3QgaWYgdGhlIGhlYWx0aCBjaGVjayBjeWNsZSBmYWlsc1xuICAgIGxldCBpbnRlcnZhbCA9IG9wdGlvbnMuaW50ZXJ2YWw7XG4gICAgaWYgKCFpbnRlcnZhbCkge1xuICAgICAgaW50ZXJ2YWwgPSByZXRyeUludGVydmFsKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyk7XG4gICAgfVxuICAgIC8vIHJlY29ubmVjdCwgb3IgdHJ5IGFnYWluIGFmdGVyIGEgbGl0dGxlIHdoaWxlLi4uXG4gICAgYXdhaXQgc2xlZXAoaW50ZXJ2YWwpO1xuXG4gICAgLy8gQ2hlY2sgb25jZSBhZ2FpbiBpZiBieSBzb21lIG90aGVyIGNhbGwgdG8gX3JlY29ubmVjdCBpcyBhY3RpdmUgb3IgY29ubmVjdGlvbiBpc1xuICAgIC8vIGFscmVhZHkgcmVzdG9yZWQsIHRoZW4gbm8gbmVlZCB0byBwcm9jZWVkLlxuICAgIGlmICh0aGlzLmlzQ29ubmVjdGluZyB8fCB0aGlzLmlzSGVhbHRoeSkge1xuICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMikgc2luY2UgYWxyZWFkeSBjb25uZWN0aW5nIG9yIGhlYWx0aHknKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0Rpc2Nvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMykgc2luY2UgZGlzY29ubmVjdCgpIGlzIGNhbGxlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gRGVzdHJveWluZyBjdXJyZW50IFdTIGNvbm5lY3Rpb24nKTtcblxuICAgIC8vIGNsZWFudXAgdGhlIG9sZCBjb25uZWN0aW9uXG4gICAgdGhpcy5fZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKTtcblxuICAgIGlmIChvcHRpb25zLnJlZnJlc2hUb2tlbikge1xuICAgICAgYXdhaXQgdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLl9jb25uZWN0KCk7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdhaXRpbmcgZm9yIHJlY292ZXJDYWxsQmFjaycpO1xuICAgICAgLy8gYXdhaXQgdGhpcy5jbGllbnQucmVjb3ZlclN0YXRlKCk7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEZpbmlzaGVkIHJlY292ZXJDYWxsQmFjaycpO1xuXG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICAgIGlmIChcbiAgICAgICAgZXJyb3IuY29kZSA9PT0gS25vd25Db2Rlcy5UT0tFTl9FWFBJUkVEICYmXG4gICAgICAgICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnX3JlY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyByZWNvbm5lY3Qgb24gV1MgZmFpbHVyZXMsIGRvbid0IHJlY29ubmVjdCBpZiB0aGVyZSBpcyBhIGNvZGUgYnVnXG4gICAgICBpZiAoZXJyb3IuaXNXU0ZhaWx1cmUpIHtcbiAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlLCBzbyBnb2luZyB0byB0cnkgdG8gcmVjb25uZWN0Jyk7XG5cbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gPT0gRU5EID09Jyk7XG4gIH1cblxuICAvKipcbiAgICogb25saW5lU3RhdHVzQ2hhbmdlZCAtIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGJyb3dzZXIgY29ubmVjdHMgb3IgZGlzY29ubmVjdHMgZnJvbSB0aGUgaW50ZXJuZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IHdpdGggdHlwZSBvbmxpbmUgb3Igb2ZmbGluZVxuICAgKlxuICAgKi9cbiAgb25saW5lU3RhdHVzQ2hhbmdlZCA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICAvLyBtYXJrIHRoZSBjb25uZWN0aW9uIGFzIGRvd25cbiAgICAgIHRoaXMuX2xvZygnb25saW5lU3RhdHVzQ2hhbmdlZCgpIC0gU3RhdHVzIGNoYW5naW5nIHRvIG9mZmxpbmUnKTtcbiAgICAgIC8vIHdlIGtub3cgdGhhdCB0aGUgYXBwIGlzIG9mZmxpbmUgc28gZGlzcGF0Y2ggdGhlIHVuaGVhbHRoeSBjb25uZWN0aW9uIGV2ZW50IGltbWVkaWF0ZWx5XG4gICAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ29ubGluZScpIHtcbiAgICAgIC8vIHJldHJ5IHJpZ2h0IG5vdy4uLlxuICAgICAgLy8gV2UgY2hlY2sgdGhpcy5pc0hlYWx0aHksIG5vdCBzdXJlIGlmIGl0J3MgYWx3YXlzXG4gICAgICAvLyBzbWFydCB0byBjcmVhdGUgYSBuZXcgV1MgY29ubmVjdGlvbiBpZiB0aGUgb2xkIG9uZSBpcyBzdGlsbCB1cCBhbmQgcnVubmluZy5cbiAgICAgIC8vIGl0J3MgcG9zc2libGUgd2UgZGlkbid0IG1pc3MgYW55IG1lc3NhZ2VzLCBzbyB0aGlzIHByb2Nlc3MgaXMganVzdCBleHBlbnNpdmUgYW5kIG5vdCBuZWVkZWQuXG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBvbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSBTdGF0dXMgY2hhbmdpbmcgdG8gb25saW5lLiBpc0hlYWx0aHk6ICR7dGhpcy5pc0hlYWx0aHl9YCxcbiAgICAgICk7XG4gICAgICBpZiAoIXRoaXMuaXNIZWFsdGh5KSB7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdCh7IGludGVydmFsOiAxMCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgb25vcGVuID0gKHdzSUQ6IG51bWJlcikgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIGNvbnN0IHVzZXIgPSB0aGlzLmNsaWVudC51c2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyKCdlcnJvcicsIGBVc2VyIG5vdCBzZXQsIGNhbid0IGNvbm5lY3QgdG8gV1NgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0b2tlbiA9IHRoaXMuY2xpZW50Ll9nZXRUb2tlbigpO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRoaXMuY2xpZW50LmxvZ2dlcignZXJyb3InLCBgVG9rZW4gbm90IHNldCwgY2FuJ3QgY29ubmVjdCBhdXRoZW50aWNhdGVgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhdXRoTWVzc2FnZTogV1NBdXRoTWVzc2FnZSA9IHtcbiAgICAgIHRva2VuLFxuICAgICAgdXNlcl9kZXRhaWxzOiB7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgIGltYWdlOiB1c2VyLmltYWdlLFxuICAgICAgICBjdXN0b206IHVzZXIuY3VzdG9tLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgdGhpcy53cz8uc2VuZChKU09OLnN0cmluZ2lmeShhdXRoTWVzc2FnZSkpO1xuICAgIHRoaXMuX2xvZygnb25vcGVuKCkgLSBvbm9wZW4gY2FsbGJhY2snLCB7IHdzSUQgfSk7XG4gIH07XG5cbiAgb25tZXNzYWdlID0gKHdzSUQ6IG51bWJlciwgZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIHRoaXMuX2xvZygnb25tZXNzYWdlKCkgLSBvbm1lc3NhZ2UgY2FsbGJhY2snLCB7IGV2ZW50LCB3c0lEIH0pO1xuICAgIGNvbnN0IGRhdGEgPVxuICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09ICdzdHJpbmcnXG4gICAgICAgID8gKEpTT04ucGFyc2UoZXZlbnQuZGF0YSkgYXMgU3RyZWFtVmlkZW9FdmVudClcbiAgICAgICAgOiBudWxsO1xuXG4gICAgLy8gd2Ugd2FpdCB0aWxsIHRoZSBmaXJzdCBtZXNzYWdlIGJlZm9yZSB3ZSBjb25zaWRlciB0aGUgY29ubmVjdGlvbiBvcGVuLlxuICAgIC8vIHRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCBhdXRoIGVycm9ycyBhbmQgc2ltaWxhciBlcnJvcnMgdHJpZ2dlciBhIHdzLm9ub3BlbiBhbmQgaW1tZWRpYXRlbHlcbiAgICAvLyBhZnRlciB0aGF0IGEgd3Mub25jbG9zZS5cbiAgICBpZiAoIXRoaXMuaXNSZXNvbHZlZCAmJiBkYXRhICYmIGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3Rpb24uZXJyb3InKSB7XG4gICAgICB0aGlzLmlzUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgdGhpcy5yZWplY3RQcm9taXNlPy4odGhpcy5fZXJyb3JGcm9tV1NFdmVudChkYXRhLCBmYWxzZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdHJpZ2dlciB0aGUgZXZlbnQuLlxuICAgIHRoaXMubGFzdEV2ZW50ID0gbmV3IERhdGUoKTtcblxuICAgIGlmIChcbiAgICAgIGRhdGEgJiZcbiAgICAgIChkYXRhLnR5cGUgPT09ICdoZWFsdGguY2hlY2snIHx8IGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3Rpb24ub2snKVxuICAgICkge1xuICAgICAgLy8gdGhlIGluaXRpYWwgaGVhbHRoLWNoZWNrIHNob3VsZCBjb21lIGZyb20gdGhlIGNsaWVudFxuICAgICAgdGhpcy5zY2hlZHVsZU5leHRQaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgJiYgZGF0YS50eXBlID09PSAnY29ubmVjdGlvbi5vaycpIHtcbiAgICAgIHRoaXMucmVzb2x2ZVByb21pc2U/LihkYXRhKTtcbiAgICAgIHRoaXMuX3NldEhlYWx0aCh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLmVycm9yJyAmJiBkYXRhLmVycm9yKSB7XG4gICAgICBjb25zdCB7IGNvZGUgfSA9IGRhdGEuZXJyb3I7XG4gICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKFxuICAgICAgICBjb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgIXRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5pc1N0YXRpYygpXG4gICAgICApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZik7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhKSB7XG4gICAgICBkYXRhLnJlY2VpdmVkX2F0ID0gbmV3IERhdGUoKTtcbiAgICAgIHRoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoZGF0YSk7XG4gICAgfVxuICAgIHRoaXMuc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2soKTtcbiAgfTtcblxuICBvbmNsb3NlID0gKHdzSUQ6IG51bWJlciwgZXZlbnQ6IENsb3NlRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICB0aGlzLl9sb2coJ29uY2xvc2UoKSAtIG9uY2xvc2UgY2FsbGJhY2sgLSAnICsgZXZlbnQuY29kZSwgeyBldmVudCwgd3NJRCB9KTtcblxuICAgIGlmIChldmVudC5jb2RlID09PSBLbm93bkNvZGVzLldTX0NMT1NFRF9TVUNDRVNTKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgcGVybWFuZW50IGVycm9yIHJhaXNlZCBieSBzdHJlYW0uLlxuICAgICAgLy8gdXN1YWxseSBjYXVzZWQgYnkgaW52YWxpZCBhdXRoIGRldGFpbHNcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBgV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciAke2V2ZW50LnJlYXNvbn1gLFxuICAgICAgKTtcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgZXJyb3IucmVhc29uID0gZXZlbnQucmVhc29uO1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgZXJyb3IuY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBlcnJvci53YXNDbGVhbiA9IGV2ZW50Lndhc0NsZWFuO1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgZXJyb3IudGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgICB0aGlzLnJlamVjdFByb21pc2U/LihlcnJvcik7XG4gICAgICB0aGlzLl9sb2coYG9uY2xvc2UoKSAtIFdTIGNvbm5lY3Rpb24gcmVqZWN0IHdpdGggZXJyb3IgJHtldmVudC5yZWFzb259YCwge1xuICAgICAgICBldmVudCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICAgIHRoaXMudG90YWxGYWlsdXJlcyArPSAxO1xuICAgICAgdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgIHRoaXMucmVqZWN0UHJvbWlzZT8uKHRoaXMuX2Vycm9yRnJvbVdTRXZlbnQoZXZlbnQpKTtcblxuICAgICAgdGhpcy5fbG9nKGBvbmNsb3NlKCkgLSBXUyBjb25uZWN0aW9uIGNsb3NlZC4gQ2FsbGluZyByZWNvbm5lY3QgLi4uYCwge1xuICAgICAgICBldmVudCxcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZWNvbm5lY3QgaWYgaXRzIGFuIGFibm9ybWFsIGZhaWx1cmVcbiAgICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICAgIH1cbiAgfTtcblxuICBvbmVycm9yID0gKHdzSUQ6IG51bWJlciwgZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgdGhpcy50b3RhbEZhaWx1cmVzICs9IDE7XG4gICAgdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVqZWN0UHJvbWlzZT8uKG5ldyBFcnJvcihgV2ViU29ja2V0IGVycm9yOiAke2V2ZW50fWApKTtcbiAgICB0aGlzLl9sb2coYG9uZXJyb3IoKSAtIFdTIGNvbm5lY3Rpb24gcmVzdWx0ZWQgaW50byBlcnJvcmAsIHsgZXZlbnQgfSk7XG5cbiAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgfTtcblxuICAvKipcbiAgICogX3NldEhlYWx0aCAtIFNldHMgdGhlIGNvbm5lY3Rpb24gdG8gaGVhbHRoeSBvciB1bmhlYWx0aHkuXG4gICAqIEJyb2FkY2FzdHMgYW4gZXZlbnQgaW4gY2FzZSB0aGUgY29ubmVjdGlvbiBzdGF0dXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBoZWFsdGh5IGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgY29ubmVjdGlvbiBpcyBoZWFsdGh5IG9yIG5vdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRpc3BhdGNoSW1tZWRpYXRlbHkgYm9vbGVhbiBpbmRpY2F0aW5nIHRvIGRpc3BhdGNoIGV2ZW50IGltbWVkaWF0ZWx5IGV2ZW4gaWYgdGhlIGNvbm5lY3Rpb24gaXMgdW5oZWFsdGh5XG4gICAqL1xuICBfc2V0SGVhbHRoID0gKGhlYWx0aHk6IGJvb2xlYW4sIGRpc3BhdGNoSW1tZWRpYXRlbHkgPSBmYWxzZSkgPT4ge1xuICAgIGlmIChoZWFsdGh5ID09PSB0aGlzLmlzSGVhbHRoeSkgcmV0dXJuO1xuXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBoZWFsdGh5O1xuXG4gICAgaWYgKHRoaXMuaXNIZWFsdGh5IHx8IGRpc3BhdGNoSW1tZWRpYXRlbHkpIHtcbiAgICAgIHRoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJyxcbiAgICAgICAgb25saW5lOiB0aGlzLmlzSGVhbHRoeSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHdlJ3JlIG9mZmxpbmUsIHdhaXQgZmV3IHNlY29uZHMgYW5kIGZpcmUgYW5kIGV2ZW50IGlmIHN0aWxsIG9mZmxpbmVcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzSGVhbHRoeSkgcmV0dXJuO1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICBvbmxpbmU6IHRoaXMuaXNIZWFsdGh5LFxuICAgICAgfSk7XG4gICAgfSwgNTAwMCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIF9lcnJvckZyb21XU0V2ZW50IC0gQ3JlYXRlcyBhbiBlcnJvciBvYmplY3QgZm9yIHRoZSBXUyBldmVudFxuICAgKi9cbiAgcHJpdmF0ZSBfZXJyb3JGcm9tV1NFdmVudCA9IChcbiAgICBldmVudDogQ2xvc2VFdmVudCB8IENvbm5lY3Rpb25FcnJvckV2ZW50LFxuICAgIGlzV1NGYWlsdXJlID0gdHJ1ZSxcbiAgKSA9PiB7XG4gICAgbGV0IGNvZGU6IG51bWJlcjtcbiAgICBsZXQgc3RhdHVzQ29kZTogbnVtYmVyO1xuICAgIGxldCBtZXNzYWdlOiBzdHJpbmc7XG4gICAgaWYgKGlzQ2xvc2VFdmVudChldmVudCkpIHtcbiAgICAgIGNvZGUgPSBldmVudC5jb2RlO1xuICAgICAgbWVzc2FnZSA9IGV2ZW50LnJlYXNvbjtcbiAgICAgIHN0YXR1c0NvZGUgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBldmVudDtcbiAgICAgIGNvZGUgPSBlcnJvci5jb2RlO1xuICAgICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICBzdGF0dXNDb2RlID0gZXJyb3IuU3RhdHVzQ29kZTtcbiAgICB9XG5cbiAgICBjb25zdCBtc2cgPSBgV1MgZmFpbGVkIHdpdGggY29kZTogJHtjb2RlfSBhbmQgcmVhc29uOiAke21lc3NhZ2V9YDtcbiAgICB0aGlzLl9sb2cobXNnLCB7IGV2ZW50IH0sICd3YXJuJyk7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobXNnKSBhcyBFcnJvciAmIHtcbiAgICAgIGNvZGU/OiBudW1iZXI7XG4gICAgICBpc1dTRmFpbHVyZT86IGJvb2xlYW47XG4gICAgICBTdGF0dXNDb2RlPzogbnVtYmVyO1xuICAgIH07XG4gICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgLyoqXG4gICAgICogU3RhdHVzQ29kZSBkb2VzIG5vdCBleGlzdCBvbiBhbnkgZXZlbnQgdHlwZXMgYnV0IGhhcyBiZWVuIGxlZnRcbiAgICAgKiBhcyBpcyB0byBwcmVzZXJ2ZSBKUyBmdW5jdGlvbmFsaXR5IGR1cmluZyB0aGUgVFMgaW1wbGVtZW50YXRpb25cbiAgICAgKi9cbiAgICBlcnJvci5TdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICBlcnJvci5pc1dTRmFpbHVyZSA9IGlzV1NGYWlsdXJlO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfTtcblxuICAvKipcbiAgICogX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uIC0gUmVtb3ZlcyB0aGUgY3VycmVudCBXUyBjb25uZWN0aW9uXG4gICAqXG4gICAqL1xuICBfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKSB7XG4gICAgLy8gaW5jcmVtZW50IHRoZSBJRCwgbWVhbmluZyB3ZSB3aWxsIGlnbm9yZSBhbGwgbWVzc2FnZXMgZnJvbSB0aGUgb2xkXG4gICAgLy8gd3MgY29ubmVjdGlvbiBmcm9tIG5vdyBvbi5cbiAgICB0aGlzLndzSUQgKz0gMTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzPy53cz8uY2xvc2UoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyB3ZSBkb24ndCBjYXJlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9zZXR1cFByb21pc2UgLSBzZXRzIHVwIHRoZSB0aGlzLmNvbm5lY3RPcGVuIHByb21pc2VcbiAgICovXG4gIF9zZXR1cENvbm5lY3Rpb25Qcm9taXNlID0gKCkgPT4ge1xuICAgIHRoaXMuaXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIC8qKiBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBvbmNlIHdzLm9wZW4gaXMgY2FsbGVkICovXG4gICAgdGhpcy5jb25uZWN0aW9uT3BlblNhZmUgPSBtYWtlU2FmZVByb21pc2UoXG4gICAgICBuZXcgUHJvbWlzZTxDb25uZWN0ZWRFdmVudD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgICAgdGhpcy5yZWplY3RQcm9taXNlID0gcmVqZWN0O1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBnZXQgY29ubmVjdGlvbk9wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbk9wZW5TYWZlPy4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYSBuZXh0IGhlYWx0aCBjaGVjayBwaW5nIGZvciB3ZWJzb2NrZXQuXG4gICAqL1xuICBzY2hlZHVsZU5leHRQaW5nID0gKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVycyA9IGdldFRpbWVycygpO1xuICAgIGlmICh0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZikge1xuICAgICAgdGltZXJzLmNsZWFyVGltZW91dCh0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZik7XG4gICAgfVxuXG4gICAgLy8gMzAgc2Vjb25kcyBpcyB0aGUgcmVjb21tZW5kZWQgaW50ZXJ2YWwgKG1lc3NlbmdlciB1c2VzIHRoaXMpXG4gICAgdGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYgPSB0aW1lcnMuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBzZW5kIHRoZSBoZWFsdGhjaGVjay4uLiwgc2VydmVyIHJlcGxpZXMgd2l0aCBhIGhlYWx0aCBjaGVjayBldmVudFxuICAgICAgY29uc3QgZGF0YSA9IFt7IHR5cGU6ICdoZWFsdGguY2hlY2snLCBjbGllbnRfaWQ6IHRoaXMuY2xpZW50LmNsaWVudElEIH1dO1xuICAgICAgLy8gdHJ5IHRvIHNlbmQgb24gdGhlIGNvbm5lY3Rpb25cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud3M/LnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBlcnJvciB3aWxsIGFscmVhZHkgYmUgZGV0ZWN0ZWQgZWxzZXdoZXJlXG4gICAgICB9XG4gICAgfSwgdGhpcy5waW5nSW50ZXJ2YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayAtIHNjaGVkdWxlcyBhIGNoZWNrIGZvciB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBsYXN0IHJlY2VpdmVkIGV2ZW50IGFuZCBub3cuXG4gICAqIElmIHRoZSBkaWZmZXJlbmNlIGlzIG1vcmUgdGhhbiAzNSBzZWNvbmRzLCBpdCBtZWFucyBvdXIgaGVhbHRoIGNoZWNrIGxvZ2ljIGhhcyBmYWlsZWQgYW5kIHdlYnNvY2tldCBuZWVkc1xuICAgKiB0byBiZSByZWNvbm5lY3RlZC5cbiAgICovXG4gIHNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5sYXN0RXZlbnQgJiZcbiAgICAgICAgbm93LmdldFRpbWUoKSAtIHRoaXMubGFzdEV2ZW50LmdldFRpbWUoKSA+IHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZygnc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgLSBnb2luZyB0byByZWNvbm5lY3QnKTtcbiAgICAgICAgdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0KTtcbiAgfTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRnJvbVRva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3QgZnJhZ21lbnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcbiAgaWYgKGZyYWdtZW50cy5sZW5ndGggIT09IDMpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgY29uc3QgYjY0UGF5bG9hZCA9IGZyYWdtZW50c1sxXTtcbiAgY29uc3QgcGF5bG9hZCA9IGRlY29kZUJhc2U2NChiNjRQYXlsb2FkKTtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG4gIHJldHVybiBkYXRhLnVzZXJfaWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG4vLyBiYXNlLTY0IGRlY29kZXIgdGhyb3dzIGV4Y2VwdGlvbiBpZiBlbmNvZGVkIHN0cmluZyBpcyBub3QgcGFkZGVkIGJ5ICc9JyB0byBtYWtlIHN0cmluZyBsZW5ndGhcbi8vIGluIG11bHRpcGxlcyBvZiA0LiBTbyBnb25uYSB1c2Ugb3VyIG93biBtZXRob2QgZm9yIHRoaXMgcHVycG9zZSB0byBrZWVwIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvYmxvYi9tYXN0ZXIvaW5kZXguanMjTDI2XG5jb25zdCBkZWNvZGVCYXNlNjQgPSAoczogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgZSA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0sXG4gICAgdyA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG4gICAgTCA9IHMubGVuZ3RoO1xuICBsZXQgaSxcbiAgICBiID0gMCxcbiAgICBjLFxuICAgIHgsXG4gICAgbCA9IDAsXG4gICAgYSxcbiAgICByID0gJyc7XG4gIGNvbnN0IEEgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG4gIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgZVtBLmNoYXJBdChpKV0gPSBpO1xuICB9XG4gIGZvciAoeCA9IDA7IHggPCBMOyB4KyspIHtcbiAgICBjID0gZVtzLmNoYXJBdCh4KV07XG4gICAgYiA9IChiIDw8IDYpICsgYztcbiAgICBsICs9IDY7XG4gICAgd2hpbGUgKGwgPj0gOCkge1xuICAgICAgKChhID0gKGIgPj4+IChsIC09IDgpKSAmIDB4ZmYpIHx8IHggPCBMIC0gMikgJiYgKHIgKz0gdyhhKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByO1xufTtcbiIsImltcG9ydCB7IGdldFVzZXJGcm9tVG9rZW4gfSBmcm9tICcuL3NpZ25pbmcnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBUb2tlbk9yUHJvdmlkZXIsIFVzZXJXaXRoSWQgfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBUb2tlbk1hbmFnZXJcbiAqXG4gKiBIYW5kbGVzIGFsbCB0aGUgb3BlcmF0aW9ucyBhcm91bmQgdXNlciB0b2tlbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFRva2VuTWFuYWdlciB7XG4gIGxvYWRUb2tlblByb21pc2U6IFByb21pc2U8c3RyaW5nPiB8IG51bGw7XG4gIHR5cGU6ICdzdGF0aWMnIHwgJ3Byb3ZpZGVyJztcbiAgc2VjcmV0Pzogc3RyaW5nO1xuICB0b2tlbj86IHN0cmluZztcbiAgdG9rZW5Qcm92aWRlcj86IFRva2VuT3JQcm92aWRlcjtcbiAgdXNlcj86IFVzZXJXaXRoSWQ7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3Ioc2VjcmV0Pzogc3RyaW5nKSB7XG4gICAgdGhpcy5sb2FkVG9rZW5Qcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLnNlY3JldCA9IHNlY3JldDtcbiAgICB0aGlzLnR5cGUgPSAnc3RhdGljJztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXRpYyBzdHJpbmcgdG9rZW4gb3IgdG9rZW4gcHJvdmlkZXIuXG4gICAqIFRva2VuIHByb3ZpZGVyIHNob3VsZCByZXR1cm4gYSB0b2tlbiBzdHJpbmcgb3IgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIHN0cmluZyB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIHtUb2tlbk9yUHJvdmlkZXJ9IHRva2VuT3JQcm92aWRlciAtIHRoZSB0b2tlbiBvciB0b2tlbiBwcm92aWRlci5cbiAgICogQHBhcmFtIHtVc2VyUmVzcG9uc2V9IHVzZXIgLSB0aGUgdXNlciBvYmplY3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBbm9ueW1vdXMgLSB3aGV0aGVyIHRoZSB1c2VyIGlzIGFub255bW91cyBvciBub3QuXG4gICAqL1xuICBzZXRUb2tlbk9yUHJvdmlkZXIgPSBhc3luYyAoXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICBpc0Fub255bW91czogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgdGhpcy52YWxpZGF0ZVRva2VuKHRva2VuT3JQcm92aWRlciwgdXNlciwgaXNBbm9ueW1vdXMpO1xuICAgIHRoaXMudXNlciA9IHVzZXI7XG5cbiAgICBpZiAoaXNGdW5jdGlvbih0b2tlbk9yUHJvdmlkZXIpKSB7XG4gICAgICB0aGlzLnRva2VuUHJvdmlkZXIgPSB0b2tlbk9yUHJvdmlkZXI7XG4gICAgICB0aGlzLnR5cGUgPSAncHJvdmlkZXInO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy50b2tlbiA9IHRva2VuT3JQcm92aWRlcjtcbiAgICAgIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMubG9hZFRva2VuKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgdG9rZW4gbWFuYWdlci5cbiAgICogVXNlZnVsIGZvciBjbGllbnQgZGlzY29ubmVjdGlvbiBvciBzd2l0Y2hpbmcgdXNlci5cbiAgICovXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMudG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50b2tlblByb3ZpZGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuICAgIHRoaXMudXNlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBudWxsO1xuICB9O1xuXG4gIC8vIFZhbGlkYXRlcyB0aGUgdXNlciB0b2tlbi5cbiAgdmFsaWRhdGVUb2tlbiA9IChcbiAgICB0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIGlzQW5vbnltb3VzOiBib29sZWFuLFxuICApID0+IHtcbiAgICAvLyBhbGxvdyBlbXB0eSB0b2tlbiBmb3IgYW5vbiB1c2VyXG4gICAgaWYgKHVzZXIgJiYgaXNBbm9ueW1vdXMgJiYgIXRva2VuT3JQcm92aWRlcikgcmV0dXJuO1xuXG4gICAgLy8gRG9uJ3QgYWxsb3cgZW1wdHkgdG9rZW4gZm9yIG5vbi1zZXJ2ZXIgc2lkZSBjbGllbnQuXG4gICAgaWYgKCF0aGlzLnNlY3JldCAmJiAhdG9rZW5PclByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXJXaXRoSWQgdG9rZW4gY2FuIG5vdCBiZSBlbXB0eScpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRva2VuT3JQcm92aWRlciAmJlxuICAgICAgdHlwZW9mIHRva2VuT3JQcm92aWRlciAhPT0gJ3N0cmluZycgJiZcbiAgICAgICFpc0Z1bmN0aW9uKHRva2VuT3JQcm92aWRlcilcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlciB0b2tlbiBzaG91bGQgZWl0aGVyIGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRva2VuT3JQcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEFsbG93IGVtcHR5IHRva2VuIGZvciBhbm9ueW1vdXMgdXNlcnNcbiAgICAgIGlmIChpc0Fub255bW91cyAmJiB0b2tlbk9yUHJvdmlkZXIgPT09ICcnKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHRva2VuVXNlcklkID0gZ2V0VXNlckZyb21Ub2tlbih0b2tlbk9yUHJvdmlkZXIpO1xuICAgICAgaWYgKFxuICAgICAgICB0b2tlbk9yUHJvdmlkZXIgIT0gbnVsbCAmJlxuICAgICAgICAodG9rZW5Vc2VySWQgPT0gbnVsbCB8fFxuICAgICAgICAgIHRva2VuVXNlcklkID09PSAnJyB8fFxuICAgICAgICAgICghaXNBbm9ueW1vdXMgJiYgdG9rZW5Vc2VySWQgIT09IHVzZXIuaWQpKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAndXNlclRva2VuIGRvZXMgbm90IGhhdmUgYSB1c2VyX2lkIG9yIGlzIG5vdCBtYXRjaGluZyB3aXRoIHVzZXIuaWQnLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBSZXNvbHZlcyB3aGVuIHRva2VuIGlzIHJlYWR5LiBUaGlzIGZ1bmN0aW9uIGlzIHNpbXBseSB0byBjaGVjayBpZiBsb2FkVG9rZW4gaXMgaW4gcHJvZ3Jlc3MsIGluIHdoaWNoXG4gIC8vIGNhc2UgYSBmdW5jdGlvbiBzaG91bGQgd2FpdC5cbiAgdG9rZW5SZWFkeSA9ICgpID0+IHRoaXMubG9hZFRva2VuUHJvbWlzZTtcblxuICAvLyBGZXRjaGVzIGEgdG9rZW4gZnJvbSB0b2tlblByb3ZpZGVyIGZ1bmN0aW9uIGFuZCBzZXRzIGluIHRva2VuTWFuYWdlci5cbiAgLy8gSW4gY2FzZSBvZiBzdGF0aWMgdG9rZW4sIGl0IHdpbGwgc2ltcGx5IHJlc29sdmUgdG8gc3RhdGljIHRva2VuLlxuICBsb2FkVG9rZW4gPSAoKSA9PiB7XG4gICAgdGhpcy5sb2FkVG9rZW5Qcm9taXNlID0gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUodGhpcy50b2tlbiBhcyBzdHJpbmcpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50b2tlblByb3ZpZGVyICYmIHR5cGVvZiB0aGlzLnRva2VuUHJvdmlkZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy50b2tlbiA9IGF3YWl0IHRoaXMudG9rZW5Qcm92aWRlcigpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgICAgIG5ldyBFcnJvcihgQ2FsbCB0byB0b2tlblByb3ZpZGVyIGZhaWxlZCB3aXRoIG1lc3NhZ2U6ICR7ZX1gKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUodGhpcy50b2tlbik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5sb2FkVG9rZW5Qcm9taXNlO1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBjdXJyZW50IHRva2VuXG4gIGdldFRva2VuID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy51c2VyICYmICF0aGlzLnRva2VuKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbjtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVXNlciB0b2tlbiBpcyBub3Qgc2V0LiBFaXRoZXIgY2xpZW50LmNvbm5lY3RVc2VyIHdhc24ndCBjYWxsZWQgb3IgY2xpZW50LmRpc2Nvbm5lY3Qgd2FzIGNhbGxlZGAsXG4gICAgKTtcbiAgfTtcblxuICBpc1N0YXRpYyA9ICgpID0+IHRoaXMudHlwZSA9PT0gJ3N0YXRpYyc7XG59XG4iLCJpbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi8uLi9sb2dnZXInO1xuXG5leHBvcnQgY29uc3QgZ2V0TG9jYXRpb25IaW50ID0gYXN5bmMgKFxuICBoaW50VXJsID0gYGh0dHBzOi8vaGludC5zdHJlYW0taW8tdmlkZW8uY29tL2AsXG4gIHRpbWVvdXQgPSAyMDAwLFxuICBtYXhBdHRlbXB0cyA9IDMsXG4pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydsb2NhdGlvbi1oaW50J10pO1xuXG4gIGxldCBhdHRlbXB0ID0gMDtcbiAgbGV0IGxvY2F0aW9uSGludCA9ICdFUlInO1xuICBkbyB7XG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gYWJvcnRDb250cm9sbGVyLmFib3J0KCksIHRpbWVvdXQpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGhpbnRVcmwsIHtcbiAgICAgICAgbWV0aG9kOiAnSEVBRCcsXG4gICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgYXdzUG9wID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtYW16LWNmLXBvcCcpIHx8ICdFUlInO1xuICAgICAgbG9nZ2VyKCdkZWJ1ZycsIGBMb2NhdGlvbiBoZWFkZXI6ICR7YXdzUG9wfWApO1xuICAgICAgbG9jYXRpb25IaW50ID0gYXdzUG9wLnN1YnN0cmluZygwLCAzKTsgLy8gQU1TMS1QMiAtPiBBTVNcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIGdldCBsb2NhdGlvbiBoaW50IGZyb20gJHtoaW50VXJsfWAsIGUpO1xuICAgICAgbG9jYXRpb25IaW50ID0gJ0VSUic7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbiAgfSB3aGlsZSAobG9jYXRpb25IaW50ID09PSAnRVJSJyAmJiArK2F0dGVtcHQgPCBtYXhBdHRlbXB0cyk7XG5cbiAgcmV0dXJuIGxvY2F0aW9uSGludDtcbn07XG4iLCJpbXBvcnQgYXhpb3MsIHtcbiAgQXhpb3NFcnJvcixcbiAgQXhpb3NJbnN0YW5jZSxcbiAgQXhpb3NSZXF1ZXN0Q29uZmlnLFxuICBBeGlvc1Jlc3BvbnNlLFxufSBmcm9tICdheGlvcyc7XG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xuaW1wb3J0IHsgU3RhYmxlV1NDb25uZWN0aW9uIH0gZnJvbSAnLi9jb25uZWN0aW9uJztcbmltcG9ydCB7IFRva2VuTWFuYWdlciB9IGZyb20gJy4vdG9rZW5fbWFuYWdlcic7XG5pbXBvcnQge1xuICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIGlzRXJyb3JSZXNwb25zZSxcbiAgaXNGdW5jdGlvbixcbiAgS25vd25Db2RlcyxcbiAgcmFuZG9tSWQsXG4gIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyxcbiAgcmV0cnlJbnRlcnZhbCxcbiAgc2xlZXAsXG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgQWxsQ2xpZW50RXZlbnRzLFxuICBBbGxDbGllbnRFdmVudFR5cGVzLFxuICBBUElFcnJvclJlc3BvbnNlLFxuICBDbGllbnRFdmVudExpc3RlbmVyLFxuICBDb25uZWN0QVBJUmVzcG9uc2UsXG4gIEVycm9yRnJvbVJlc3BvbnNlLFxuICBMb2dnZXIsXG4gIFN0cmVhbUNsaWVudE9wdGlvbnMsXG4gIFN0cmVhbVZpZGVvRXZlbnQsXG4gIFRva2VuT3JQcm92aWRlcixcbiAgVXNlcixcbiAgVXNlcldpdGhJZCxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2NhdGlvbkhpbnQgfSBmcm9tICcuL2xvY2F0aW9uJztcbmltcG9ydCB7XG4gIENvbm5lY3RlZEV2ZW50LFxuICBDcmVhdGVHdWVzdFJlcXVlc3QsXG4gIENyZWF0ZUd1ZXN0UmVzcG9uc2UsXG59IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBtYWtlU2FmZVByb21pc2UsIHR5cGUgU2FmZVByb21pc2UgfSBmcm9tICcuLi8uLi9oZWxwZXJzL3Byb21pc2UnO1xuXG5leHBvcnQgY2xhc3MgU3RyZWFtQ2xpZW50IHtcbiAgX3VzZXI/OiBVc2VyV2l0aElkO1xuICBhbm9ueW1vdXM6IGJvb2xlYW47XG4gIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZT86IGJvb2xlYW47XG4gIGF4aW9zSW5zdGFuY2U6IEF4aW9zSW5zdGFuY2U7XG4gIGJhc2VVUkw/OiBzdHJpbmc7XG4gIGJyb3dzZXI6IGJvb2xlYW47XG4gIGNsaWVudElEPzogc3RyaW5nO1xuICBrZXk6IHN0cmluZztcbiAgbGlzdGVuZXJzOiBQYXJ0aWFsPFxuICAgIFJlY29yZDxBbGxDbGllbnRFdmVudFR5cGVzLCBDbGllbnRFdmVudExpc3RlbmVyPGFueT5bXSB8IHVuZGVmaW5lZD5cbiAgPiA9IHt9O1xuICBsb2dnZXI6IExvZ2dlcjtcblxuICBwcml2YXRlIGxvY2F0aW9uSGludDogUHJvbWlzZTxzdHJpbmc+IHwgdW5kZWZpbmVkO1xuXG4gIG5vZGU6IGJvb2xlYW47XG4gIG9wdGlvbnM6IFN0cmVhbUNsaWVudE9wdGlvbnM7XG4gIHNlY3JldD86IHN0cmluZztcbiAgc2V0VXNlclByb21pc2U6IENvbm5lY3RBUElSZXNwb25zZSB8IG51bGw7XG4gIHRva2VuTWFuYWdlcjogVG9rZW5NYW5hZ2VyO1xuICB1c2VyPzogVXNlcldpdGhJZDtcbiAgdXNlckFnZW50Pzogc3RyaW5nO1xuICB1c2VySUQ/OiBzdHJpbmc7XG4gIHdzQmFzZVVSTD86IHN0cmluZztcbiAgd3NDb25uZWN0aW9uOiBTdGFibGVXU0Nvbm5lY3Rpb24gfCBudWxsO1xuICBwcml2YXRlIHdzUHJvbWlzZVNhZmU6IFNhZmVQcm9taXNlPENvbm5lY3RlZEV2ZW50IHwgdW5kZWZpbmVkPiB8IG51bGw7XG4gIGNvbnNlY3V0aXZlRmFpbHVyZXM6IG51bWJlcjtcbiAgZGVmYXVsdFdTVGltZW91dDogbnVtYmVyO1xuICByZXNvbHZlQ29ubmVjdGlvbklkPzogRnVuY3Rpb247XG4gIHJlamVjdENvbm5lY3Rpb25JZD86IEZ1bmN0aW9uO1xuICBwcml2YXRlIGNvbm5lY3Rpb25JZFByb21pc2VTYWZlPzogU2FmZVByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZT86IFByb21pc2U8Q3JlYXRlR3Vlc3RSZXNwb25zZT47XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUgYXBpIGtleVxuICAgKiBAcGFyYW0ge1N0cmVhbUNsaWVudE9wdGlvbnN9IFtvcHRpb25zXSAtIGFkZGl0aW9uYWwgb3B0aW9ucywgaGVyZSB5b3UgY2FuIHBhc3MgY3VzdG9tIG9wdGlvbnMgdG8gYXhpb3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNlY3JldF0gLSB0aGUgYXBpIHNlY3JldFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJyb3dzZXJdIC0gZW5mb3JjZSB0aGUgY2xpZW50IHRvIGJlIGluIGJyb3dzZXIgbW9kZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLndhcm1VcF0gLSBkZWZhdWx0IHRvIGZhbHNlLCBpZiB0cnVlLCBjbGllbnQgd2lsbCBvcGVuIGEgY29ubmVjdGlvbiBhcyBzb29uIGFzIHBvc3NpYmxlIHRvIHNwZWVkIHVwIGZvbGxvd2luZyByZXF1ZXN0c1xuICAgKiBAcGFyYW0ge0xvZ2dlcn0gW29wdGlvbnMuTG9nZ2VyXSAtIGN1c3RvbSBsb2dnZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbWVvdXRdIC0gZGVmYXVsdCB0byAzMDAwXG4gICAqIEBwYXJhbSB7aHR0cHNBZ2VudH0gW29wdGlvbnMuaHR0cHNBZ2VudF0gLSBjdXN0b20gaHR0cHNBZ2VudCwgaW4gbm9kZSBpdCdzIGRlZmF1bHQgdG8gaHR0cHMuYWdlbnQoKVxuICAgKi9cbiAgY29uc3RydWN0b3Ioa2V5OiBzdHJpbmcsIG9wdGlvbnM/OiBTdHJlYW1DbGllbnRPcHRpb25zKSB7XG4gICAgLy8gc2V0IHRoZSBrZXlcbiAgICB0aGlzLmtleSA9IGtleTtcblxuICAgIC8vIHNldCB0aGUgc2VjcmV0XG4gICAgdGhpcy5zZWNyZXQgPSBvcHRpb25zPy5zZWNyZXQ7XG5cbiAgICAvLyBzZXQgdGhlIG9wdGlvbnMuLi4gYW5kIGZpZ3VyZSBvdXQgZGVmYXVsdHMuLi5cbiAgICBjb25zdCBpbnB1dE9wdGlvbnMgPSBvcHRpb25zXG4gICAgICA/IG9wdGlvbnNcbiAgICAgIDogKHtcbiAgICAgICAgICBicm93c2VyOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyxcbiAgICAgICAgfSBhcyBQYXJ0aWFsPFN0cmVhbUNsaWVudE9wdGlvbnM+KTtcblxuICAgIHRoaXMuYnJvd3NlciA9IGlucHV0T3B0aW9ucy5icm93c2VyIHx8IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIHRoaXMubm9kZSA9ICF0aGlzLmJyb3dzZXI7XG5cbiAgICBpZiAodGhpcy5icm93c2VyKSB7XG4gICAgICB0aGlzLmxvY2F0aW9uSGludCA9IGdldExvY2F0aW9uSGludChcbiAgICAgICAgb3B0aW9ucz8ubG9jYXRpb25IaW50VXJsLFxuICAgICAgICBvcHRpb25zPy5sb2NhdGlvbkhpbnRUaW1lb3V0LFxuICAgICAgICBvcHRpb25zPy5sb2NhdGlvbkhpbnRNYXhBdHRlbXB0cyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdGltZW91dDogNTAwMCxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2UsIC8vIG1ha2luZyBzdXJlIGNvb2tpZXMgYXJlIG5vdCBzZW50XG4gICAgICAuLi5pbnB1dE9wdGlvbnMsXG4gICAgfTtcblxuICAgIGlmICh0aGlzLm5vZGUgJiYgIXRoaXMub3B0aW9ucy5odHRwc0FnZW50KSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaHR0cHNBZ2VudCA9IG5ldyBodHRwcy5BZ2VudCh7XG4gICAgICAgIGtlZXBBbGl2ZTogdHJ1ZSxcbiAgICAgICAga2VlcEFsaXZlTXNlY3M6IDMwMDAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEJhc2VVUkwoXG4gICAgICB0aGlzLm9wdGlvbnMuYmFzZVVSTCB8fCAnaHR0cHM6Ly92aWRlby5zdHJlYW0taW8tYXBpLmNvbS92aWRlbycsXG4gICAgKTtcblxuICAgIHRoaXMuYXhpb3NJbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICBiYXNlVVJMOiB0aGlzLmJhc2VVUkwsXG4gICAgfSk7XG5cbiAgICAvLyBXUyBjb25uZWN0aW9uIGlzIGluaXRpYWxpemVkIHdoZW4gc2V0VXNlciBpcyBjYWxsZWRcbiAgICB0aGlzLndzQ29ubmVjdGlvbiA9IG51bGw7XG4gICAgdGhpcy53c1Byb21pc2VTYWZlID0gbnVsbDtcbiAgICB0aGlzLnNldFVzZXJQcm9taXNlID0gbnVsbDtcblxuICAgIC8vIG1hcHBpbmcgYmV0d2VlbiBjaGFubmVsIGdyb3VwcyBhbmQgY29uZmlnc1xuICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgdGhpcy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUgPVxuICAgICAgdGhpcy5vcHRpb25zPy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU7XG5cbiAgICAvLyBJZiBpdCBpcyBhIHNlcnZlci1zaWRlIGNsaWVudCwgdGhlbiBsZXRzIGluaXRpYWxpemUgdGhlIHRva2VuTWFuYWdlciwgc2luY2UgdG9rZW4gd2lsbCBiZVxuICAgIC8vIGdlbmVyYXRlZCBmcm9tIHNlY3JldC5cbiAgICB0aGlzLnRva2VuTWFuYWdlciA9IG5ldyBUb2tlbk1hbmFnZXIodGhpcy5zZWNyZXQpO1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG5cbiAgICB0aGlzLmRlZmF1bHRXU1RpbWVvdXQgPSAxNTAwMDtcblxuICAgIHRoaXMubG9nZ2VyID0gaXNGdW5jdGlvbihpbnB1dE9wdGlvbnMubG9nZ2VyKVxuICAgICAgPyBpbnB1dE9wdGlvbnMubG9nZ2VyXG4gICAgICA6ICgpID0+IG51bGw7XG4gIH1cblxuICBnZXRBdXRoVHlwZSA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5hbm9ueW1vdXMgPyAnYW5vbnltb3VzJyA6ICdqd3QnO1xuICB9O1xuXG4gIHNldEJhc2VVUkwgPSAoYmFzZVVSTDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcbiAgICB0aGlzLndzQmFzZVVSTCA9IHRoaXMuYmFzZVVSTFxuICAgICAgLnJlcGxhY2UoJ2h0dHAnLCAnd3MnKVxuICAgICAgLnJlcGxhY2UoJzozMDMwJywgJzo4ODAwJyk7XG4gIH07XG5cbiAgZ2V0TG9jYXRpb25IaW50ID0gYXN5bmMgKFxuICAgIGhpbnRVcmw/OiBzdHJpbmcsXG4gICAgdGltZW91dD86IG51bWJlcixcbiAgKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICBjb25zdCBoaW50ID0gYXdhaXQgdGhpcy5sb2NhdGlvbkhpbnQ7XG4gICAgaWYgKCFoaW50IHx8IGhpbnQgPT09ICdFUlInKSB7XG4gICAgICB0aGlzLmxvY2F0aW9uSGludCA9IGdldExvY2F0aW9uSGludChcbiAgICAgICAgaGludFVybCA/PyB0aGlzLm9wdGlvbnMubG9jYXRpb25IaW50VXJsLFxuICAgICAgICB0aW1lb3V0ID8/IHRoaXMub3B0aW9ucy5sb2NhdGlvbkhpbnRUaW1lb3V0LFxuICAgICAgKTtcbiAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uSGludDtcbiAgICB9XG4gICAgcmV0dXJuIGhpbnQ7XG4gIH07XG5cbiAgX2dldENvbm5lY3Rpb25JRCA9ICgpID0+IHRoaXMud3NDb25uZWN0aW9uPy5jb25uZWN0aW9uSUQ7XG5cbiAgX2hhc0Nvbm5lY3Rpb25JRCA9ICgpID0+IEJvb2xlYW4odGhpcy5fZ2V0Q29ubmVjdGlvbklEKCkpO1xuXG4gIC8qKlxuICAgKiBjb25uZWN0VXNlciAtIFNldCB0aGUgY3VycmVudCB1c2VyIGFuZCBvcGVuIGEgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHVzZXIgRGF0YSBhYm91dCB0aGlzIHVzZXIuIElFIHtuYW1lOiBcImpvaG5cIn1cbiAgICogQHBhcmFtIHtUb2tlbk9yUHJvdmlkZXJ9IHVzZXJUb2tlbk9yUHJvdmlkZXIgVG9rZW4gb3IgcHJvdmlkZXJcbiAgICpcbiAgICogQHJldHVybiB7Q29ubmVjdEFQSVJlc3BvbnNlfSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgc2V0dXBcbiAgICovXG4gIGNvbm5lY3RVc2VyID0gYXN5bmMgKFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgdXNlclRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICApID0+IHtcbiAgICBpZiAoIXVzZXIuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFwiaWRcIiBmaWVsZCBvbiB0aGUgdXNlciBpcyBtaXNzaW5nJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGluZyBjb25uZWN0VXNlciBtdWx0aXBsZSB0aW1lcyBpcyBwb3RlbnRpYWxseSB0aGUgcmVzdWx0IG9mIGEgIGJhZCBpbnRlZ3JhdGlvbiwgaG93ZXZlcixcbiAgICAgKiBJZiB0aGUgdXNlciBpZCByZW1haW5zIHRoZSBzYW1lIHdlIGRvbid0IHRocm93IGVycm9yXG4gICAgICovXG4gICAgaWYgKHRoaXMudXNlcklEID09PSB1c2VyLmlkICYmIHRoaXMuc2V0VXNlclByb21pc2UpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdDb25zZWN1dGl2ZSBjYWxscyB0byBjb25uZWN0VXNlciBpcyBkZXRlY3RlZCwgaWRlYWxseSB5b3Ugc2hvdWxkIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgaW4geW91ciBhcHAuJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRVc2VyUHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy51c2VySUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VzZSBjbGllbnQuZGlzY29ubmVjdCgpIGJlZm9yZSB0cnlpbmcgdG8gY29ubmVjdCBhcyBhIGRpZmZlcmVudCB1c2VyLiBjb25uZWN0VXNlciB3YXMgY2FsbGVkIHR3aWNlLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICh0aGlzLl9pc1VzaW5nU2VydmVyQXV0aCgpIHx8IHRoaXMubm9kZSkgJiZcbiAgICAgICF0aGlzLm9wdGlvbnMuYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdFxuICAgICkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ1BsZWFzZSBkbyBub3QgdXNlIGNvbm5lY3RVc2VyIHNlcnZlciBzaWRlLiBVc2Ugb3VyIEBzdHJlYW0taW8vbm9kZS1zZGsgaW5zdGVhZDogaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9hcGkvJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gd2UgZ2VuZXJhdGUgdGhlIGNsaWVudCBpZCBjbGllbnQgc2lkZVxuICAgIHRoaXMudXNlcklEID0gdXNlci5pZDtcbiAgICB0aGlzLmFub255bW91cyA9IGZhbHNlO1xuXG4gICAgY29uc3Qgc2V0VG9rZW5Qcm9taXNlID0gdGhpcy5fc2V0VG9rZW4oXG4gICAgICB1c2VyLFxuICAgICAgdXNlclRva2VuT3JQcm92aWRlcixcbiAgICAgIHRoaXMuYW5vbnltb3VzLFxuICAgICk7XG4gICAgdGhpcy5fc2V0VXNlcih1c2VyKTtcblxuICAgIGNvbnN0IHdzUHJvbWlzZSA9IHRoaXMub3BlbkNvbm5lY3Rpb24oKTtcblxuICAgIHRoaXMuc2V0VXNlclByb21pc2UgPSBQcm9taXNlLmFsbChbc2V0VG9rZW5Qcm9taXNlLCB3c1Byb21pc2VdKS50aGVuKFxuICAgICAgKHJlc3VsdCkgPT4gcmVzdWx0WzFdLCAvLyBXZSBvbmx5IHJldHVybiBjb25uZWN0aW9uIHByb21pc2U7XG4gICAgKTtcblxuICAgIHRyeSB7XG4gICAgICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy51cGRhdGVOZXR3b3JrQ29ubmVjdGlvblN0YXR1cyk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZXRVc2VyUHJvbWlzZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmICh0aGlzLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSkge1xuICAgICAgICAvLyBjbGVhbnVwIGNsaWVudCB0byBhbGxvdyB0aGUgdXNlciB0byByZXRyeSBjb25uZWN0VXNlciBhZ2FpblxuICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0VXNlcigpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICBfc2V0VG9rZW4gPSAoXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICB1c2VyVG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICAgaXNBbm9ueW1vdXM6IGJvb2xlYW4sXG4gICkgPT5cbiAgICB0aGlzLnRva2VuTWFuYWdlci5zZXRUb2tlbk9yUHJvdmlkZXIoXG4gICAgICB1c2VyVG9rZW5PclByb3ZpZGVyLFxuICAgICAgdXNlcixcbiAgICAgIGlzQW5vbnltb3VzLFxuICAgICk7XG5cbiAgX3NldFVzZXIgPSAodXNlcjogVXNlcldpdGhJZCkgPT4ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgb25lIGlzIHVzZWQgYnkgdGhlIGZyb250ZW5kLiBUaGlzIGlzIGEgY29weSBvZiB0aGUgY3VycmVudCB1c2VyIG9iamVjdCBzdG9yZWQgb24gYmFja2VuZC5cbiAgICAgKiBJdCBjb250YWlucyByZXNlcnZlZCBwcm9wZXJ0aWVzIGFuZCBvd24gdXNlciBwcm9wZXJ0aWVzIHdoaWNoIGFyZSBub3QgcHJlc2VudCBpbiBgdGhpcy5fdXNlcmAuXG4gICAgICovXG4gICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICB0aGlzLnVzZXJJRCA9IHVzZXIuaWQ7XG4gICAgLy8gdGhpcyBvbmUgaXMgYWN0dWFsbHkgdXNlZCBmb3IgcmVxdWVzdHMuIFRoaXMgaXMgYSBjb3B5IG9mIGN1cnJlbnQgdXNlciBwcm92aWRlZCB0byBgY29ubmVjdFVzZXJgIGZ1bmN0aW9uLlxuICAgIHRoaXMuX3VzZXIgPSB7IC4uLnVzZXIgfTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uLCB3aXRob3V0IHJlbW92aW5nIHRoZSB1c2VyIHNldCBvbiBjbGllbnQuXG4gICAqIGNsaWVudC5jbG9zZUNvbm5lY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBkZWZhdWx0IGF1dG8tcmV0cnkgbWVjaGFuaXNtIGZvciByZWNvbm5lY3Rpb24uIFlvdSBuZWVkXG4gICAqIHRvIGNhbGwgY2xpZW50Lm9wZW5Db25uZWN0aW9uIHRvIHJlY29ubmVjdCB0byB3ZWJzb2NrZXQuXG4gICAqXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBvbiBtb2JpbGUgc2lkZS4gWW91IGNhbiBvbmx5IHJlY2VpdmUgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIGlmIHlvdSBkb24ndCBoYXZlIGFjdGl2ZSB3ZWJzb2NrZXQgY29ubmVjdGlvbi5cbiAgICogU28gd2hlbiB5b3VyIGFwcCBnb2VzIHRvIGJhY2tncm91bmQsIHlvdSBjYW4gY2FsbCBgY2xpZW50LmNsb3NlQ29ubmVjdGlvbmAuXG4gICAqIEFuZCB3aGVuIGFwcCBjb21lcyBiYWNrIHRvIGZvcmVncm91bmQsIGNhbGwgYGNsaWVudC5vcGVuQ29ubmVjdGlvbmAuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2VzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBjbG9zZUNvbm5lY3Rpb24gPSBhc3luYyAodGltZW91dD86IG51bWJlcikgPT4ge1xuICAgIGF3YWl0IHRoaXMud3NDb25uZWN0aW9uPy5kaXNjb25uZWN0KHRpbWVvdXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uIHdpdGggdGhlIGN1cnJlbnQgdXNlci4gUmV0dXJucyBlbXB0eSBwcm9taXNlLCBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgY29ubmVjdGlvblxuICAgKi9cbiAgb3BlbkNvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnVzZXJJRCkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICdVc2VyV2l0aElkIGlzIG5vdCBzZXQgb24gY2xpZW50LCB1c2UgY2xpZW50LmNvbm5lY3RVc2VyIG9yIGNsaWVudC5jb25uZWN0QW5vbnltb3VzVXNlciBpbnN0ZWFkJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgd3NQcm9taXNlID0gdGhpcy53c1Byb21pc2VTYWZlPy4oKTtcbiAgICBpZiAodGhpcy53c0Nvbm5lY3Rpb24/LmlzQ29ubmVjdGluZyAmJiB3c1Byb21pc2UpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgICdjbGllbnQ6b3BlbkNvbm5lY3Rpb24oKSAtIGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcycsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGF3YWl0IHdzUHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53c0Nvbm5lY3Rpb24/LmlzSGVhbHRoeSAmJiB0aGlzLl9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgJ2NsaWVudDpvcGVuQ29ubmVjdGlvbigpIC0gb3BlbkNvbm5lY3Rpb24gY2FsbGVkIHR3aWNlLCBoZWFsdGh5IGNvbm5lY3Rpb24gYWxyZWFkeSBleGlzdHMnLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSgpO1xuXG4gICAgdGhpcy5jbGllbnRJRCA9IGAke3RoaXMudXNlcklEfS0tJHtyYW5kb21JZCgpfWA7XG4gICAgY29uc3QgbmV3V3NQcm9taXNlID0gdGhpcy5jb25uZWN0KCk7XG4gICAgdGhpcy53c1Byb21pc2VTYWZlID0gbWFrZVNhZmVQcm9taXNlKG5ld1dzUHJvbWlzZSk7XG4gICAgcmV0dXJuIGF3YWl0IG5ld1dzUHJvbWlzZTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBhbmQgcmVtb3ZlcyB0aGUgdXNlciBmcm9tIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBkaXNjb25uZWN0VXNlciA9IGFzeW5jICh0aW1lb3V0PzogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnY2xpZW50OmRpc2Nvbm5lY3QoKSAtIERpc2Nvbm5lY3RpbmcgdGhlIGNsaWVudCcpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSB1c2VyIHNwZWNpZmljIGZpZWxkc1xuICAgIGRlbGV0ZSB0aGlzLnVzZXI7XG4gICAgZGVsZXRlIHRoaXMuX3VzZXI7XG4gICAgZGVsZXRlIHRoaXMudXNlcklEO1xuXG4gICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcblxuICAgIGF3YWl0IHRoaXMuY2xvc2VDb25uZWN0aW9uKHRpbWVvdXQpO1xuICAgIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLnVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzKTtcblxuICAgIHRoaXMudG9rZW5NYW5hZ2VyLnJlc2V0KCk7XG5cbiAgICB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVqZWN0Q29ubmVjdGlvbklkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVzb2x2ZUNvbm5lY3Rpb25JZCA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICBjb25uZWN0R3Vlc3RVc2VyID0gYXN5bmMgKHVzZXI6IFVzZXIgJiB7IHR5cGU6ICdndWVzdCcgfSkgPT4ge1xuICAgIHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSA9IHRoaXMuZG9BeGlvc1JlcXVlc3Q8XG4gICAgICBDcmVhdGVHdWVzdFJlc3BvbnNlLFxuICAgICAgQ3JlYXRlR3Vlc3RSZXF1ZXN0XG4gICAgPigncG9zdCcsICcvZ3Vlc3QnLCB7IHVzZXIgfSwgeyBwdWJsaWNFbmRwb2ludDogdHJ1ZSB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5ndWVzdFVzZXJDcmVhdGVQcm9taXNlO1xuICAgIHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZS5maW5hbGx5KFxuICAgICAgKCkgPT4gKHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSA9IHVuZGVmaW5lZCksXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmNvbm5lY3RVc2VyKHJlc3BvbnNlLnVzZXIsIHJlc3BvbnNlLmFjY2Vzc190b2tlbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIGNvbm5lY3RBbm9ueW1vdXNVc2VyIC0gU2V0IGFuIGFub255bW91cyB1c2VyIGFuZCBvcGVuIGEgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgICovXG4gIGNvbm5lY3RBbm9ueW1vdXNVc2VyID0gYXN5bmMgKFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICkgPT4ge1xuICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLnVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzKTtcbiAgICBhd2FpdCB0aGlzLl9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UoKTtcblxuICAgIHRoaXMuYW5vbnltb3VzID0gdHJ1ZTtcbiAgICBhd2FpdCB0aGlzLl9zZXRUb2tlbih1c2VyLCB0b2tlbk9yUHJvdmlkZXIsIHRoaXMuYW5vbnltb3VzKTtcblxuICAgIHRoaXMuX3NldFVzZXIodXNlcik7XG4gICAgLy8gc29tZSBlbmRwb2ludHMgcmVxdWlyZSBhIGNvbm5lY3Rpb25faWQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgLy8gYXMgYW5vbnltb3VzIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG9wZW4gV1MgY29ubmVjdGlvbnMsIHdlIGp1c3RcbiAgICAvLyByZXNvbHZlIHRoZSBjb25uZWN0aW9uX2lkIGhlcmUuXG4gICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbklkPy4oKTtcbiAgfTtcblxuICAvKipcbiAgICogb24gLSBMaXN0ZW4gdG8gZXZlbnRzIG9uIGFsbCBjaGFubmVscyBhbmQgdXNlcnMgeW91ciB3YXRjaGluZ1xuICAgKlxuICAgKiBjbGllbnQub24oJ21lc3NhZ2UubmV3JywgZXZlbnQgPT4ge2NvbnNvbGUubG9nKFwibXkgbmV3IG1lc3NhZ2VcIiwgZXZlbnQsIGNoYW5uZWwuc3RhdGUubWVzc2FnZXMpfSlcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yIChvcHRpb25hbClcbiAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBjYWxsXG4gICAqXG4gICAqIEByZXR1cm4gIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHVuc3Vic2NyaWJlcyB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEFkZGluZyBsaXN0ZW5lciBmb3IgJHtldmVudE5hbWV9IGV2ZW50YCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXT8ucHVzaChjYWxsYmFjayBhcyBDbGllbnRFdmVudExpc3RlbmVyPGFueT4pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBvZmYgLSBSZW1vdmUgdGhlIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBSZW1vdmluZyBsaXN0ZW5lciBmb3IgJHtldmVudE5hbWV9IGV2ZW50YCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0/LmZpbHRlcihcbiAgICAgICh2YWx1ZSkgPT4gdmFsdWUgIT09IGNhbGxiYWNrLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHNldHMgdXAgdGhlIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVxuICAgKi9cbiAgX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSA9ICgpID0+IHtcbiAgICAvKiogYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSBjb25uZWN0aW9uIGlkIGlzIHNldCAqL1xuICAgIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVNhZmUgPSBtYWtlU2FmZVByb21pc2UoXG4gICAgICBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbklkID0gcmVzb2x2ZTtcbiAgICAgICAgdGhpcy5yZWplY3RDb25uZWN0aW9uSWQgPSByZWplY3Q7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIGdldCBjb25uZWN0aW9uSWRQcm9taXNlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlPy4oKTtcbiAgfVxuXG4gIGdldCBpc0Nvbm5lY3Rpb25Jc1Byb21pc2VQZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlPy5jaGVja1BlbmRpbmcoKSA/PyBmYWxzZTtcbiAgfVxuXG4gIGdldCB3c1Byb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMud3NQcm9taXNlU2FmZT8uKCk7XG4gIH1cblxuICBfbG9nQXBpUmVxdWVzdCA9IChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YTogdW5rbm93bixcbiAgICBjb25maWc6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHtcbiAgICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgbWF4Qm9keUxlbmd0aD86IG51bWJlciB9O1xuICAgIH0sXG4gICkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCd0cmFjZScsIGBjbGllbnQ6ICR7dHlwZX0gLSBSZXF1ZXN0IC0gJHt1cmx9YCwge1xuICAgICAgcGF5bG9hZDogZGF0YSxcbiAgICAgIGNvbmZpZyxcbiAgICB9KTtcbiAgfTtcblxuICBfbG9nQXBpUmVzcG9uc2UgPSA8VD4oXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHVybDogc3RyaW5nLFxuICAgIHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+LFxuICApID0+IHtcbiAgICB0aGlzLmxvZ2dlcihcbiAgICAgICd0cmFjZScsXG4gICAgICBgY2xpZW50OiR7dHlwZX0gLSBSZXNwb25zZSAtIHVybDogJHt1cmx9ID4gc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWAsXG4gICAgICB7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIF9sb2dBcGlFcnJvciA9ICh0eXBlOiBzdHJpbmcsIHVybDogc3RyaW5nLCBlcnJvcjogdW5rbm93bikgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBjbGllbnQ6JHt0eXBlfSAtIEVycm9yIC0gdXJsOiAke3VybH1gLCB7XG4gICAgICB1cmwsXG4gICAgICBlcnJvcixcbiAgICB9KTtcbiAgfTtcblxuICBkb0F4aW9zUmVxdWVzdCA9IGFzeW5jIDxULCBEID0gdW5rbm93bj4oXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBELFxuICAgIG9wdGlvbnM6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHtcbiAgICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgbWF4Qm9keUxlbmd0aD86IG51bWJlciB9O1xuICAgIH0gJiB7IHB1YmxpY0VuZHBvaW50PzogYm9vbGVhbiB9ID0ge30sXG4gICk6IFByb21pc2U8VD4gPT4ge1xuICAgIGlmICghb3B0aW9ucy5wdWJsaWNFbmRwb2ludCkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLnRva2VuTWFuYWdlci50b2tlblJlYWR5KCksXG4gICAgICAgIHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSxcbiAgICAgIF0pO1xuICAgICAgLy8gd2UgbmVlZCB0byB3YWl0IGZvciBwcmVzZW5jZSBvZiBjb25uZWN0aW9uIGlkIGJlZm9yZSBtYWtpbmcgcmVxdWVzdHNcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaW4gY2FzZSBjb25uZWN0aW9uIGlkIHdhcyByZWplY3RlZFxuICAgICAgICAvLyByZWNvbm5lY3Rpb24gbWF5YmUgaW4gcHJvZ3Jlc3NcbiAgICAgICAgLy8gd2UgY2FuIHdhaXQgZm9yIGhlYWx0aHkgY29ubmVjdGlvbiB0byByZXNvbHZlLCB3aGljaCByZWplY3RzIHdoZW4gMTVzIHRpbWVvdXQgaXMgcmVhY2hlZFxuICAgICAgICBhd2FpdCB0aGlzLndzQ29ubmVjdGlvbj8uX3dhaXRGb3JIZWFsdGh5KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdENvbmZpZyA9IHRoaXMuX2VucmljaEF4aW9zT3B0aW9ucyhvcHRpb25zKTtcbiAgICB0cnkge1xuICAgICAgbGV0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+O1xuICAgICAgdGhpcy5fbG9nQXBpUmVxdWVzdCh0eXBlLCB1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2dldCc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UuZ2V0KHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UuZGVsZXRlKHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Bvc3QnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLnBvc3QodXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncHV0JzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5wdXQodXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGF0Y2gnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLnBhdGNoKHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29wdGlvbnMnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLm9wdGlvbnModXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVxdWVzdCB0eXBlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9sb2dBcGlSZXNwb25zZTxUPih0eXBlLCB1cmwsIHJlc3BvbnNlKTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH0gY2F0Y2ggKGU6IGFueSAvKipUT0RPOiBnZW5lcmFsaXplIGVycm9yIHR5cGVzICAqLykge1xuICAgICAgZS5jbGllbnRfcmVxdWVzdF9pZCA9IHJlcXVlc3RDb25maWcuaGVhZGVycz8uWyd4LWNsaWVudC1yZXF1ZXN0LWlkJ107XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICAgIGlmIChlLnJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuX2xvZ0FwaUVycm9yKHR5cGUsIHVybCwgZS5yZXNwb25zZSk7XG4gICAgICAgIC8qKiBjb25uZWN0aW9uX2ZhbGxiYWNrIGRlcGVuZHMgb24gdGhpcyB0b2tlbiBleHBpcmF0aW9uIGxvZ2ljICovXG4gICAgICAgIGlmIChcbiAgICAgICAgICBlLnJlc3BvbnNlLmRhdGEuY29kZSA9PT0gS25vd25Db2Rlcy5UT0tFTl9FWFBJUkVEICYmXG4gICAgICAgICAgIXRoaXMudG9rZW5NYW5hZ2VyLmlzU3RhdGljKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA+IDEpIHtcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKHJldHJ5SW50ZXJ2YWwodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIEQ+KHR5cGUsIHVybCwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVzcG9uc2UoZS5yZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9sb2dBcGlFcnJvcih0eXBlLCB1cmwsIGUpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgICAgICB0aHJvdyBlIGFzIEF4aW9zRXJyb3I8QVBJRXJyb3JSZXNwb25zZT47XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGdldCA9IDxUPih1cmw6IHN0cmluZywgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIHVua25vd24+KCdnZXQnLCB1cmwsIG51bGwsIHtcbiAgICAgIHBhcmFtcyxcbiAgICB9KTtcbiAgfTtcblxuICBwdXQgPSA8VCwgRCA9IHVua25vd24+KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBELFxuICAgIHBhcmFtcz86IEF4aW9zUmVxdWVzdENvbmZpZ1sncGFyYW1zJ10sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIEQ+KCdwdXQnLCB1cmwsIGRhdGEsIHsgcGFyYW1zIH0pO1xuICB9O1xuXG4gIHBvc3QgPSA8VCwgRCA9IHVua25vd24+KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBELFxuICAgIHBhcmFtcz86IEF4aW9zUmVxdWVzdENvbmZpZ1sncGFyYW1zJ10sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIEQ+KCdwb3N0JywgdXJsLCBkYXRhLCB7IHBhcmFtcyB9KTtcbiAgfTtcblxuICBwYXRjaCA9IDxULCBEID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4oJ3BhdGNoJywgdXJsLCBkYXRhLCB7IHBhcmFtcyB9KTtcbiAgfTtcblxuICBkZWxldGUgPSA8VD4odXJsOiBzdHJpbmcsIHBhcmFtcz86IEF4aW9zUmVxdWVzdENvbmZpZ1sncGFyYW1zJ10pID0+IHtcbiAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdDxULCB1bmtub3duPignZGVsZXRlJywgdXJsLCBudWxsLCB7XG4gICAgICBwYXJhbXMsXG4gICAgfSk7XG4gIH07XG5cbiAgZXJyb3JGcm9tUmVzcG9uc2UgPSAoXG4gICAgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4sXG4gICk6IEVycm9yRnJvbVJlc3BvbnNlPEFQSUVycm9yUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHN0YXR1cyB9ID0gcmVzcG9uc2U7XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yRnJvbVJlc3BvbnNlPEFQSUVycm9yUmVzcG9uc2U+KCk7XG4gICAgZXJyLm1lc3NhZ2UgPSBgU3RyZWFtIGVycm9yIGNvZGUgJHtkYXRhLmNvZGV9OiAke2RhdGEubWVzc2FnZX1gO1xuICAgIGVyci5jb2RlID0gZGF0YS5jb2RlO1xuICAgIGVyci51bnJlY292ZXJhYmxlID0gZGF0YS51bnJlY292ZXJhYmxlO1xuICAgIGVyci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIGVyci5zdGF0dXMgPSBzdGF0dXM7XG4gICAgcmV0dXJuIGVycjtcbiAgfTtcblxuICBoYW5kbGVSZXNwb25zZSA9IDxUPihyZXNwb25zZTogQXhpb3NSZXNwb25zZTxUPikgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgIGlmIChpc0Vycm9yUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICB0aHJvdyB0aGlzLmVycm9yRnJvbVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgZGlzcGF0Y2hFdmVudCA9IChldmVudDogU3RyZWFtVmlkZW9FdmVudCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBEaXNwYXRjaGluZyBldmVudDogJHtldmVudC50eXBlfWAsIGV2ZW50KTtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICAvLyBjYWxsIGdlbmVyaWMgbGlzdGVuZXJzXG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycy5hbGwgfHwgW10pIHtcbiAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBjYWxsIHR5cGUgc3BlY2lmaWMgbGlzdGVuZXJzXG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVyc1tldmVudC50eXBlXSB8fCBbXSkge1xuICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnVzZXJJRCB8fCAhdGhpcy5fdXNlcikge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICdDYWxsIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIGJlZm9yZSBzdGFydGluZyB0aGUgY29ubmVjdGlvbicsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXRoaXMud3NCYXNlVVJMKSB0aHJvdyBFcnJvcignV2Vic29ja2V0IGJhc2UgdXJsIG5vdCBzZXQnKTtcbiAgICBpZiAoIXRoaXMuY2xpZW50SUQpIHRocm93IEVycm9yKCdjbGllbnRJRCBpcyBub3Qgc2V0Jyk7XG5cbiAgICAvLyBUaGUgU3RhYmxlV1NDb25uZWN0aW9uIGhhbmRsZXMgYWxsIHRoZSByZWNvbm5lY3Rpb24gbG9naWMuXG4gICAgdGhpcy53c0Nvbm5lY3Rpb24gPSBuZXcgU3RhYmxlV1NDb25uZWN0aW9uKHRoaXMpO1xuXG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnU3RyZWFtQ2xpZW50LmNvbm5lY3Q6IHRoaXMud3NDb25uZWN0aW9uLmNvbm5lY3QoKScpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLndzQ29ubmVjdGlvbi5jb25uZWN0KHRoaXMuZGVmYXVsdFdTVGltZW91dCk7XG4gIH07XG5cbiAgZ2V0VXNlckFnZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHZlcnNpb24gPSBwcm9jZXNzLmVudi5QS0dfVkVSU0lPTiB8fCAnMC4wLjAtZGV2ZWxvcG1lbnQnO1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnVzZXJBZ2VudCB8fFxuICAgICAgYHN0cmVhbS12aWRlby1qYXZhc2NyaXB0LWNsaWVudC0ke1xuICAgICAgICB0aGlzLm5vZGUgPyAnbm9kZScgOiAnYnJvd3NlcidcbiAgICAgIH0tJHt2ZXJzaW9ufWBcbiAgICApO1xuICB9O1xuXG4gIHNldFVzZXJBZ2VudCA9ICh1c2VyQWdlbnQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMudXNlckFnZW50ID0gdXNlckFnZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBfaXNVc2luZ1NlcnZlckF1dGggLSBSZXR1cm5zIHRydWUgaWYgd2UncmUgdXNpbmcgc2VydmVyIHNpZGUgYXV0aFxuICAgKi9cbiAgX2lzVXNpbmdTZXJ2ZXJBdXRoID0gKCkgPT4gISF0aGlzLnNlY3JldDtcblxuICBfZW5yaWNoQXhpb3NPcHRpb25zID0gKFxuICAgIG9wdGlvbnM6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnIH0gJiB7XG4gICAgICBwdWJsaWNFbmRwb2ludD86IGJvb2xlYW47XG4gICAgfSA9IHtcbiAgICAgIHBhcmFtczoge30sXG4gICAgICBoZWFkZXJzOiB7fSxcbiAgICAgIGNvbmZpZzoge30sXG4gICAgfSxcbiAgKTogQXhpb3NSZXF1ZXN0Q29uZmlnID0+IHtcbiAgICBjb25zdCB0b2tlbiA9XG4gICAgICBvcHRpb25zLnB1YmxpY0VuZHBvaW50ICYmICF0aGlzLnVzZXIgPyB1bmRlZmluZWQgOiB0aGlzLl9nZXRUb2tlbigpO1xuICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSB0b2tlbiA/IHsgQXV0aG9yaXphdGlvbjogdG9rZW4gfSA6IHVuZGVmaW5lZDtcblxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzPy5bJ3gtY2xpZW50LXJlcXVlc3QtaWQnXSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICd4LWNsaWVudC1yZXF1ZXN0LWlkJzogcmFuZG9tSWQoKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmFtczoge1xuICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXJJRCxcbiAgICAgICAgY29ubmVjdGlvbl9pZDogdGhpcy5fZ2V0Q29ubmVjdGlvbklEKCksXG4gICAgICAgIGFwaV9rZXk6IHRoaXMua2V5LFxuICAgICAgICAuLi5vcHRpb25zLnBhcmFtcyxcbiAgICAgIH0sXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLmF1dGhvcml6YXRpb24sXG4gICAgICAgICdzdHJlYW0tYXV0aC10eXBlJzpcbiAgICAgICAgICBvcHRpb25zLnB1YmxpY0VuZHBvaW50ICYmICF0aGlzLnVzZXJcbiAgICAgICAgICAgID8gJ2Fub255bW91cydcbiAgICAgICAgICAgIDogdGhpcy5nZXRBdXRoVHlwZSgpLFxuICAgICAgICAnWC1TdHJlYW0tQ2xpZW50JzogdGhpcy5nZXRVc2VyQWdlbnQoKSxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICAgIC4uLm9wdGlvbnMuY29uZmlnLFxuICAgICAgLi4udGhpcy5vcHRpb25zLmF4aW9zUmVxdWVzdENvbmZpZyxcbiAgICB9O1xuICB9O1xuXG4gIF9nZXRUb2tlbiA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMudG9rZW5NYW5hZ2VyKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB0aGlzLnRva2VuTWFuYWdlci5nZXRUb2tlbigpO1xuICB9O1xuXG4gIHVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzID0gKFxuICAgIGV2ZW50OiB7IHR5cGU6ICdvbmxpbmUnIHwgJ29mZmxpbmUnIH0gfCBFdmVudCxcbiAgKSA9PiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdvZmZsaW5lJykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ2RldmljZSB3ZW50IG9mZmxpbmUnKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICduZXR3b3JrLmNoYW5nZWQnLCBvbmxpbmU6IGZhbHNlIH0pO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ29ubGluZScpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdkZXZpY2Ugd2VudCBvbmxpbmUnKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICduZXR3b3JrLmNoYW5nZWQnLCBvbmxpbmU6IHRydWUgfSk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4vQ2FsbCc7XG5pbXBvcnQgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB7XG4gIFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlLFxuICBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUsXG59IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHR5cGUge1xuICBDb25uZWN0ZWRFdmVudCxcbiAgQ3JlYXRlRGV2aWNlUmVxdWVzdCxcbiAgQ3JlYXRlR3Vlc3RSZXF1ZXN0LFxuICBDcmVhdGVHdWVzdFJlc3BvbnNlLFxuICBHZXRFZGdlc1Jlc3BvbnNlLFxuICBMaXN0RGV2aWNlc1Jlc3BvbnNlLFxuICBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3QsXG4gIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2UsXG4gIFF1ZXJ5Q2FsbHNSZXF1ZXN0LFxuICBRdWVyeUNhbGxzUmVzcG9uc2UsXG4gIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdCxcbiAgUXVlcnlDYWxsU3RhdHNSZXNwb25zZSxcbn0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHtcbiAgQWxsQ2xpZW50RXZlbnRzLFxuICBDbGllbnRFdmVudExpc3RlbmVyLFxuICBMb2dnZXIsXG4gIExvZ0xldmVsLFxuICBTdHJlYW1DbGllbnRPcHRpb25zLFxuICBUb2tlbk9yUHJvdmlkZXIsXG4gIFRva2VuUHJvdmlkZXIsXG4gIFVzZXIsXG4gIFVzZXJXaXRoSWQsXG59IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGxvZ1RvQ29uc29sZSwgc2V0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgZ2V0U2RrSW5mbyB9IGZyb20gJy4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHsgU2RrVHlwZSB9IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5pbXBvcnQgeyBlbmFibGVUaW1lcldvcmtlciB9IGZyb20gJy4vdGltZXJzJztcblxuLyoqXG4gKiBBIGBTdHJlYW1WaWRlb0NsaWVudGAgaW5zdGFuY2UgbGV0cyB5b3UgY29tbXVuaWNhdGUgd2l0aCBvdXIgQVBJLCBhbmQgYXV0aGVudGljYXRlIHVzZXJzLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtVmlkZW9DbGllbnQge1xuICAvKipcbiAgICogQSByZWFjdGl2ZSBzdG9yZSB0aGF0IGV4cG9zZXMgYWxsIHRoZSBzdGF0ZSB2YXJpYWJsZXMgcmVhY3RpdmVseS5cbiAgICogWW91IGNhbiBzdWJzY3JpYmUgdG8gY2hhbmdlcyBvZiB0aGUgZGlmZmVyZW50IHN0YXRlIHZhcmlhYmxlcy5cbiAgICogT3VyIGxpYnJhcnkgaXMgYnVpbHQgaW4gYSB3YXkgdGhhdCBhbGwgc3RhdGUgY2hhbmdlcyBhcmUgZXhwb3NlZCBpbiB0aGlzIHN0b3JlLFxuICAgKiBvIGFsbCBVSSBjaGFuZ2VzIGluIHlvdXIgYXBwbGljYXRpb24gc2hvdWxkIGJlIGhhbmRsZWQgYnkgc3Vic2NyaWJpbmcgdG8gdGhlc2UgdmFyaWFibGVzLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgdGhlIGBjbGllbnQuc3RhdGVgIGdldHRlci5cbiAgICovXG4gIHJlYWRvbmx5IHJlYWRPbmx5U3RhdGVTdG9yZTogU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmU7XG4gIHJlYWRvbmx5IGxvZ0xldmVsOiBMb2dMZXZlbCA9ICd3YXJuJztcbiAgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHdyaXRlYWJsZVN0YXRlU3RvcmU6IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZTtcbiAgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgcHJvdGVjdGVkIGV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXI6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gIHByaXZhdGUgcmVhZG9ubHkgY29ubmVjdGlvbkNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKFxuICAgICdjb25uZWN0aW9uQ29uY3VycmVuY3lUYWcnLFxuICApO1xuXG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZU1hcDogTWFwPHN0cmluZywgU3RyZWFtVmlkZW9DbGllbnQ+ID0gbmV3IE1hcCgpO1xuXG4gIC8qKlxuICAgKiBZb3Ugc2hvdWxkIGNyZWF0ZSBvbmx5IG9uZSBpbnN0YW5jZSBvZiBgU3RyZWFtVmlkZW9DbGllbnRgLlxuICAgKi9cbiAgY29uc3RydWN0b3IoYXBpS2V5OiBzdHJpbmcsIG9wdHM/OiBTdHJlYW1DbGllbnRPcHRpb25zKTtcbiAgY29uc3RydWN0b3IoYXJnczoge1xuICAgIGFwaUtleTogc3RyaW5nO1xuICAgIG9wdGlvbnM/OiBTdHJlYW1DbGllbnRPcHRpb25zO1xuICAgIHVzZXI/OiBVc2VyO1xuICAgIHRva2VuPzogc3RyaW5nO1xuICAgIHRva2VuUHJvdmlkZXI/OiBUb2tlblByb3ZpZGVyO1xuICB9KTtcbiAgY29uc3RydWN0b3IoXG4gICAgYXBpS2V5T3JBcmdzOlxuICAgICAgfCBzdHJpbmdcbiAgICAgIHwge1xuICAgICAgICAgIGFwaUtleTogc3RyaW5nO1xuICAgICAgICAgIG9wdGlvbnM/OiBTdHJlYW1DbGllbnRPcHRpb25zO1xuICAgICAgICAgIHVzZXI/OiBVc2VyO1xuICAgICAgICAgIHRva2VuPzogc3RyaW5nO1xuICAgICAgICAgIHRva2VuUHJvdmlkZXI/OiBUb2tlblByb3ZpZGVyO1xuICAgICAgICB9LFxuICAgIG9wdHM/OiBTdHJlYW1DbGllbnRPcHRpb25zLFxuICApIHtcbiAgICBsZXQgbG9nZ2VyOiBMb2dnZXIgPSBsb2dUb0NvbnNvbGU7XG4gICAgbGV0IGxvZ0xldmVsOiBMb2dMZXZlbCA9ICd3YXJuJztcbiAgICBpZiAodHlwZW9mIGFwaUtleU9yQXJncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxvZ0xldmVsID0gb3B0cz8ubG9nTGV2ZWwgfHwgbG9nTGV2ZWw7XG4gICAgICBsb2dnZXIgPSBvcHRzPy5sb2dnZXIgfHwgbG9nZ2VyO1xuICAgICAgaWYgKG9wdHM/LmVuYWJsZVRpbWVyV29ya2VyKSBlbmFibGVUaW1lcldvcmtlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dMZXZlbCA9IGFwaUtleU9yQXJncy5vcHRpb25zPy5sb2dMZXZlbCB8fCBsb2dMZXZlbDtcbiAgICAgIGxvZ2dlciA9IGFwaUtleU9yQXJncy5vcHRpb25zPy5sb2dnZXIgfHwgbG9nZ2VyO1xuICAgICAgaWYgKGFwaUtleU9yQXJncy5vcHRpb25zPy5lbmFibGVUaW1lcldvcmtlcikgZW5hYmxlVGltZXJXb3JrZXIoKTtcbiAgICB9XG5cbiAgICBzZXRMb2dnZXIobG9nZ2VyLCBsb2dMZXZlbCk7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoWydjbGllbnQnXSk7XG4gICAgY29uc3QgY29vcmRpbmF0b3JMb2dnZXIgPSBnZXRMb2dnZXIoWydjb29yZGluYXRvciddKTtcblxuICAgIGlmICh0eXBlb2YgYXBpS2V5T3JBcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5zdHJlYW1DbGllbnQgPSBuZXcgU3RyZWFtQ2xpZW50KGFwaUtleU9yQXJncywge1xuICAgICAgICBwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU6IHRydWUsXG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIGxvZ0xldmVsLFxuICAgICAgICBsb2dnZXI6IGNvb3JkaW5hdG9yTG9nZ2VyLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RyZWFtQ2xpZW50ID0gbmV3IFN0cmVhbUNsaWVudChhcGlLZXlPckFyZ3MuYXBpS2V5LCB7XG4gICAgICAgIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTogdHJ1ZSxcbiAgICAgICAgLi4uYXBpS2V5T3JBcmdzLm9wdGlvbnMsXG4gICAgICAgIGxvZ0xldmVsLFxuICAgICAgICBsb2dnZXI6IGNvb3JkaW5hdG9yTG9nZ2VyLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNka0luZm8gPSBnZXRTZGtJbmZvKCk7XG4gICAgICBpZiAoc2RrSW5mbykge1xuICAgICAgICBjb25zdCBzZGtOYW1lID0gU2RrVHlwZVtzZGtJbmZvLnR5cGVdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHNka1ZlcnNpb24gPSBgJHtzZGtJbmZvLm1ham9yfS4ke3Nka0luZm8ubWlub3J9LiR7c2RrSW5mby5wYXRjaH1gO1xuICAgICAgICBjb25zdCB1c2VyQWdlbnQgPSB0aGlzLnN0cmVhbUNsaWVudC5nZXRVc2VyQWdlbnQoKTtcbiAgICAgICAgdGhpcy5zdHJlYW1DbGllbnQuc2V0VXNlckFnZW50KFxuICAgICAgICAgIGAke3VzZXJBZ2VudH0tdmlkZW8tJHtzZGtOYW1lfS1zZGstJHtzZGtWZXJzaW9ufWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlID0gbmV3IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSgpO1xuICAgIHRoaXMucmVhZE9ubHlTdGF0ZVN0b3JlID0gbmV3IFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlKFxuICAgICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICk7XG5cbiAgICBpZiAodHlwZW9mIGFwaUtleU9yQXJncyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhcGlLZXlPckFyZ3MudXNlcjtcbiAgICAgIGNvbnN0IHRva2VuID0gYXBpS2V5T3JBcmdzLnRva2VuIHx8IGFwaUtleU9yQXJncy50b2tlblByb3ZpZGVyO1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgbGV0IGlkID0gdXNlci5pZDtcbiAgICAgICAgaWYgKHVzZXIudHlwZSA9PT0gJ2Fub255bW91cycpIHtcbiAgICAgICAgICBpZCA9ICchYW5vbic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgaWYgKFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZU1hcC5oYXMoYXBpS2V5T3JBcmdzLmFwaUtleSArIGlkKSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgYEEgU3RyZWFtVmlkZW9DbGllbnQgYWxyZWFkeSBleGlzdHMgZm9yICR7dXNlci50eXBlID09PSAnYW5vbnltb3VzJyA/ICdhbiBhbm9ueW1vdXMgdXNlcicgOiBpZH07IFByZWZlciB1c2luZyBnZXRPckNyZWF0ZUluc3RhbmNlIG1ldGhvZGAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1c2VyLmlkID0gaWQ7XG4gICAgICAgICAgU3RyZWFtVmlkZW9DbGllbnQuX2luc3RhbmNlTWFwLnNldChhcGlLZXlPckFyZ3MuYXBpS2V5ICsgaWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdFVzZXIodXNlciwgdG9rZW4pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGNvbm5lY3QnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldE9yQ3JlYXRlSW5zdGFuY2UoYXJnczoge1xuICAgIGFwaUtleTogc3RyaW5nO1xuICAgIHVzZXI6IFVzZXI7XG4gICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgdG9rZW5Qcm92aWRlcj86IFRva2VuUHJvdmlkZXI7XG4gICAgb3B0aW9ucz86IFN0cmVhbUNsaWVudE9wdGlvbnM7XG4gIH0pOiBTdHJlYW1WaWRlb0NsaWVudCB7XG4gICAgY29uc3QgdXNlciA9IGFyZ3MudXNlcjtcbiAgICBpZiAoIXVzZXIuaWQpIHtcbiAgICAgIGlmIChhcmdzLnVzZXIudHlwZSA9PT0gJ2Fub255bW91cycpIHtcbiAgICAgICAgdXNlci5pZCA9ICchYW5vbic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgSUQgaXMgcmVxdWlyZWQgZm9yIGEgbm9uLWFub255bW91cyB1c2VyJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghYXJncy50b2tlbiAmJiAhYXJncy50b2tlblByb3ZpZGVyKSB7XG4gICAgICBpZiAoYXJncy51c2VyLnR5cGUgIT09ICdhbm9ueW1vdXMnICYmIGFyZ3MudXNlci50eXBlICE9PSAnZ3Vlc3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnVG9rZW5Qcm92aWRlciBvciB0b2tlbiBpcyByZXF1aXJlZCBmb3IgYSB1c2VyIHRoYXQgaXMgbm90IGEgZ3Vlc3Qgb3IgYW5vbnltb3VzJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGluc3RhbmNlID0gU3RyZWFtVmlkZW9DbGllbnQuX2luc3RhbmNlTWFwLmdldChhcmdzLmFwaUtleSArIHVzZXIuaWQpO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIGluc3RhbmNlID0gbmV3IFN0cmVhbVZpZGVvQ2xpZW50KHsgLi4uYXJncywgdXNlciB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcmVhY3RpdmUgc3RhdGUgc3RvcmUsIHVzZSB0aGlzIGlmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgdG8gdGhlIGNsaWVudCBzdGF0ZVxuICAgKi9cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRPbmx5U3RhdGVTdG9yZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25uZWN0cyB0aGUgZ2l2ZW4gdXNlciB0byB0aGUgY2xpZW50LlxuICAgKiBPbmx5IG9uZSB1c2VyIGNhbiBjb25uZWN0IGF0IGEgdGltZSwgaWYgeW91IHdhbnQgdG8gY2hhbmdlIHVzZXJzLCBjYWxsIGBkaXNjb25uZWN0VXNlcmAgYmVmb3JlIGNvbm5lY3RpbmcgYSBuZXcgdXNlci5cbiAgICogSWYgdGhlIGNvbm5lY3Rpb24gaXMgc3VjY2Vzc2Z1bCwgdGhlIGNvbm5lY3RlZCB1c2VyIFtzdGF0ZSB2YXJpYWJsZV0oI3JlYWRvbmx5c3RhdGVzdG9yZSkgd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlciB0aGUgdXNlciB0byBjb25uZWN0LlxuICAgKiBAcGFyYW0gdG9rZW4gYSB0b2tlbiBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRva2VuLlxuICAgKi9cbiAgY29ubmVjdFVzZXIgPSBhc3luYyAoXG4gICAgdXNlcjogVXNlcixcbiAgICB0b2tlbj86IFRva2VuT3JQcm92aWRlcixcbiAgKTogUHJvbWlzZTx2b2lkIHwgQ29ubmVjdGVkRXZlbnQ+ID0+IHtcbiAgICBpZiAodXNlci50eXBlID09PSAnYW5vbnltb3VzJykge1xuICAgICAgdXNlci5pZCA9ICchYW5vbic7XG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0QW5vbnltb3VzVXNlcih1c2VyIGFzIFVzZXJXaXRoSWQsIHRva2VuKTtcbiAgICB9XG4gICAgbGV0IGNvbm5lY3RVc2VyID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmNvbm5lY3RVc2VyKHVzZXIsIHRva2VuKTtcbiAgICB9O1xuICAgIGlmICh1c2VyLnR5cGUgPT09ICdndWVzdCcpIHtcbiAgICAgIGNvbm5lY3RVc2VyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuY29ubmVjdEd1ZXN0VXNlcih1c2VyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgY29ubmVjdFVzZXJSZXNwb25zZSA9IGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeShcbiAgICAgIHRoaXMuY29ubmVjdGlvbkNvbmN1cnJlbmN5VGFnLFxuICAgICAgKCkgPT4gY29ubmVjdFVzZXIoKSxcbiAgICApO1xuICAgIC8vIGNvbm5lY3RVc2VyUmVzcG9uc2Ugd2lsbCBiZSB2b2lkIGlmIGNvbm5lY3RVc2VyIGNhbGxlZCB0d2ljZSBmb3IgdGhlIHNhbWUgdXNlclxuICAgIGlmIChjb25uZWN0VXNlclJlc3BvbnNlPy5tZSkge1xuICAgICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLnNldENvbm5lY3RlZFVzZXIoY29ubmVjdFVzZXJSZXNwb25zZS5tZSk7XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyLnB1c2goXG4gICAgICB0aGlzLm9uKCdjb25uZWN0aW9uLmNoYW5nZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50Lm9ubGluZSkge1xuICAgICAgICAgIGNvbnN0IGNhbGxzVG9SZVdhdGNoID0gdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLmNhbGxzXG4gICAgICAgICAgICAuZmlsdGVyKChjYWxsKSA9PiBjYWxsLndhdGNoaW5nKVxuICAgICAgICAgICAgLm1hcCgoY2FsbCkgPT4gY2FsbC5jaWQpO1xuXG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnaW5mbycsXG4gICAgICAgICAgICBgUmV3YXRjaGluZyBjYWxscyBhZnRlciBjb25uZWN0aW9uIGNoYW5nZWQgJHtjYWxsc1RvUmVXYXRjaC5qb2luKFxuICAgICAgICAgICAgICAnLCAnLFxuICAgICAgICAgICAgKX1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGNhbGxzVG9SZVdhdGNoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucXVlcnlDYWxscyh7XG4gICAgICAgICAgICAgIHdhdGNoOiB0cnVlLFxuICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczoge1xuICAgICAgICAgICAgICAgIGNpZDogeyAkaW46IGNhbGxzVG9SZVdhdGNoIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNvcnQ6IFt7IGZpZWxkOiAnY2lkJywgZGlyZWN0aW9uOiAxIH1dLFxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIHJlLXdhdGNoIGNhbGxzJywgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY2FsbC5jcmVhdGVkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2FsbCwgbWVtYmVycyB9ID0gZXZlbnQ7XG4gICAgICAgIGlmICh1c2VyLmlkID09PSBjYWxsLmNyZWF0ZWRfYnkuaWQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICdSZWNlaXZlZCBgY2FsbC5jcmVhdGVkYCBzZW50IGJ5IHRoZSBjdXJyZW50IHVzZXInLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYE5ldyBjYWxsIGNyZWF0ZWQgYW5kIHJlZ2lzdGVyZWQ6ICR7Y2FsbC5jaWR9YCk7XG4gICAgICAgIGNvbnN0IG5ld0NhbGwgPSBuZXcgQ2FsbCh7XG4gICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgICB0eXBlOiBjYWxsLnR5cGUsXG4gICAgICAgICAgaWQ6IGNhbGwuaWQsXG4gICAgICAgICAgbWVtYmVycyxcbiAgICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICB9KTtcbiAgICAgICAgbmV3Q2FsbC5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGNhbGwpO1xuICAgICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUucmVnaXN0ZXJDYWxsKG5ld0NhbGwpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY2FsbC5yaW5nJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2FsbCwgbWVtYmVycyB9ID0gZXZlbnQ7XG4gICAgICAgIGlmICh1c2VyLmlkID09PSBjYWxsLmNyZWF0ZWRfYnkuaWQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAnUmVjZWl2ZWQgYGNhbGwucmluZ2Agc2VudCBieSB0aGUgY3VycmVudCB1c2VyIHNvIGlnbm9yaW5nIHRoZSBldmVudCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYGNhbGwuY3JlYXRlZGAgd2FzIHJlY2VpdmVkIGJlZm9yZSBgY2FsbC5yaW5nYC5cbiAgICAgICAgLy8gdGhlIGNsaWVudCBhbHJlYWR5IGhhcyB0aGUgY2FsbCBpbnN0YW5jZSBhbmQgd2UganVzdCBuZWVkIHRvIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgY29uc3QgdGhlQ2FsbCA9IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5maW5kQ2FsbChjYWxsLnR5cGUsIGNhbGwuaWQpO1xuICAgICAgICBpZiAodGhlQ2FsbCkge1xuICAgICAgICAgIGF3YWl0IHRoZUNhbGwudXBkYXRlRnJvbVJpbmdpbmdFdmVudChldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgY2xpZW50IGRvZXNuJ3QgaGF2ZSB0aGUgY2FsbCBpbnN0YW5jZSwgY3JlYXRlIHRoZSBpbnN0YW5jZSBhbmQgZmV0Y2ggdGhlIGxhdGVzdCBzdGF0ZVxuICAgICAgICAgIC8vIE5vdGU6IHJlbGF0ZWQgLSB3ZSBhbHNvIGhhdmUgb25SaW5naW5nQ2FsbCBtZXRob2QgdG8gaGFuZGxlIHRoaXMgY2FzZSBmcm9tIHB1c2ggbm90aWZpY2F0aW9uc1xuICAgICAgICAgIGNvbnN0IG5ld0NhbGxJbnN0YW5jZSA9IG5ldyBDYWxsKHtcbiAgICAgICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgICAgICB0eXBlOiBjYWxsLnR5cGUsXG4gICAgICAgICAgICBpZDogY2FsbC5pZCxcbiAgICAgICAgICAgIG1lbWJlcnMsXG4gICAgICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICAgICAgcmluZ2luZzogdHJ1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhd2FpdCBuZXdDYWxsSW5zdGFuY2UuZ2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICByZXR1cm4gY29ubmVjdFVzZXJSZXNwb25zZTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgdXNlciBmcm9tIHRoZSBjbGllbnQuXG4gICAqXG4gICAqIElmIHRoZSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWxseSBkaXNjb25uZWN0ZWQsIHRoZSBjb25uZWN0ZWQgdXNlciBbc3RhdGUgdmFyaWFibGVdKCNyZWFkb25seXN0YXRlc3RvcmUpIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseVxuICAgKlxuICAgKiBAcGFyYW0gdGltZW91dCBNYXggbnVtYmVyIG9mIG1zLCB0byB3YWl0IGZvciBjbG9zZSBldmVudCBvZiB3ZWJzb2NrZXQsIGJlZm9yZSBmb3JjZWZ1bGx5IGFzc3VtaW5nIHN1Y2Nlc3NmdWwgZGlzY29ubmVjdGlvbi5cbiAgICogICAgICAgICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnRcbiAgICovXG4gIGRpc2Nvbm5lY3RVc2VyID0gYXN5bmMgKHRpbWVvdXQ/OiBudW1iZXIpID0+IHtcbiAgICBpZiAoIXRoaXMuc3RyZWFtQ2xpZW50LnVzZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdXNlcklkID0gdGhpcy5zdHJlYW1DbGllbnQudXNlcj8uaWQ7XG4gICAgY29uc3QgYXBpS2V5ID0gdGhpcy5zdHJlYW1DbGllbnQua2V5O1xuICAgIGNvbnN0IGRpc2Nvbm5lY3RVc2VyID0gKCkgPT4gdGhpcy5zdHJlYW1DbGllbnQuZGlzY29ubmVjdFVzZXIodGltZW91dCk7XG4gICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuY29ubmVjdGlvbkNvbmN1cnJlbmN5VGFnLCAoKSA9PlxuICAgICAgZGlzY29ubmVjdFVzZXIoKSxcbiAgICApO1xuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZU1hcC5kZWxldGUoYXBpS2V5ICsgdXNlcklkKTtcbiAgICB9XG4gICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyLmZvckVhY2goKHVucmVnaXN0ZXIpID0+IHVucmVnaXN0ZXIoKSk7XG4gICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyID0gW107XG4gICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLnNldENvbm5lY3RlZFVzZXIodW5kZWZpbmVkKTtcbiAgfTtcblxuICAvKipcbiAgICogWW91IGNhbiBzdWJzY3JpYmUgdG8gV2ViU29ja2V0IGV2ZW50cyBwcm92aWRlZCBieSB0aGUgQVBJLlxuICAgKiBUbyByZW1vdmUgYSBzdWJzY3JpcHRpb24sIGNhbGwgdGhlIGBvZmZgIG1ldGhvZCBvciwgZXhlY3V0ZSB0aGUgcmV0dXJuZWQgdW5zdWJzY3JpYmUgZnVuY3Rpb24uXG4gICAqIFBsZWFzZSBub3RlIHRoYXQgc3Vic2NyaWJpbmcgdG8gV2ViU29ja2V0IGV2ZW50cyBpcyBhbiBhZHZhbmNlZCB1c2UtY2FzZSwgZm9yIG1vc3QgdXNlLWNhc2VzIGl0IHNob3VsZCBiZSBlbm91Z2ggdG8gd2F0Y2ggZm9yIGNoYW5nZXMgaW4gdGhlIHJlYWN0aXZlIFtzdGF0ZSBzdG9yZV0oI3JlYWRvbmx5c3RhdGVzdG9yZSkuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUgb3IgJ2FsbCcuXG4gICAqIEBwYXJhbSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC5cbiAgICogQHJldHVybnMgYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24uXG4gICAqL1xuICBvbiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5vbihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHN1YnNjcmlwdGlvbiBmb3IgV2ViU29ja2V0IGV2ZW50cyB0aGF0IHdlcmUgY3JlYXRlZCBieSB0aGUgYG9uYCBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUuXG4gICAqIEBwYXJhbSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgd2hpY2ggd2FzIHBhc3NlZCB0byB0aGUgYG9uYCBtZXRob2QuXG4gICAqL1xuICBvZmYgPSA8RSBleHRlbmRzIGtleW9mIEFsbENsaWVudEV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGNhbGxiYWNrOiBDbGllbnRFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQub2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBjYWxsLlxuICAgKiBAcGFyYW0gaWQgdGhlIGlkIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgY2FsbCA9ICh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gbmV3IENhbGwoe1xuICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgIGlkOiBpZCxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGd1ZXN0IHVzZXIgd2l0aCB0aGUgZ2l2ZW4gZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIGRhdGEgZm9yIHRoZSBndWVzdCB1c2VyLlxuICAgKi9cbiAgY3JlYXRlR3Vlc3RVc2VyID0gYXN5bmMgKGRhdGE6IENyZWF0ZUd1ZXN0UmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5kb0F4aW9zUmVxdWVzdDxcbiAgICAgIENyZWF0ZUd1ZXN0UmVzcG9uc2UsXG4gICAgICBDcmVhdGVHdWVzdFJlcXVlc3RcbiAgICA+KCdwb3N0JywgJy9ndWVzdCcsIGRhdGEsIHsgcHVibGljRW5kcG9pbnQ6IHRydWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgcXVlcnkgdGhlIEFQSSBmb3IgY2FsbHMgbWF0Y2hpbmcgdGhlIGdpdmVuIGZpbHRlcnMuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBxdWVyeSBkYXRhLlxuICAgKi9cbiAgcXVlcnlDYWxscyA9IGFzeW5jIChkYXRhOiBRdWVyeUNhbGxzUmVxdWVzdCA9IHt9KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlDYWxsc1Jlc3BvbnNlLFxuICAgICAgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICA+KCcvY2FsbHMnLCBkYXRhKTtcbiAgICBjb25zdCBjYWxscyA9IFtdO1xuICAgIGZvciAoY29uc3QgYyBvZiByZXNwb25zZS5jYWxscykge1xuICAgICAgY29uc3QgY2FsbCA9IG5ldyBDYWxsKHtcbiAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgaWQ6IGMuY2FsbC5pZCxcbiAgICAgICAgdHlwZTogYy5jYWxsLnR5cGUsXG4gICAgICAgIG1lbWJlcnM6IGMubWVtYmVycyxcbiAgICAgICAgb3duQ2FwYWJpbGl0aWVzOiBjLm93bl9jYXBhYmlsaXRpZXMsXG4gICAgICAgIHdhdGNoaW5nOiBkYXRhLndhdGNoLFxuICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgfSk7XG4gICAgICBjYWxsLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoYy5jYWxsKTtcbiAgICAgIGF3YWl0IGNhbGwuYXBwbHlEZXZpY2VDb25maWcoYy5jYWxsLnNldHRpbmdzLCBmYWxzZSk7XG4gICAgICBpZiAoZGF0YS53YXRjaCkge1xuICAgICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUucmVnaXN0ZXJDYWxsKGNhbGwpO1xuICAgICAgfVxuICAgICAgY2FsbHMucHVzaChjYWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgY2FsbHM6IGNhbGxzLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjYWxsIHN0YXRpc3RpY3MgcmVwb3J0cyBtYXRjaGluZyBhIHBhcnRpY3VsYXIgY29uZGl0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSBGaWx0ZXIgYW5kIHNvcnQgY29uZGl0aW9ucyBmb3IgcmV0cmlldmluZyBhdmFpbGFibGUgY2FsbCByZXBvcnQgc3VtbWFyaWVzLlxuICAgKiBAcmV0dXJucyBMaXN0IHdpdGggc3VtbWFyeSBvZiBhdmFpbGFibGUgY2FsbCByZXBvcnRzIG1hdGNoaW5nIHRoZSBjb25kaXRpb24uXG4gICAqL1xuICBxdWVyeUNhbGxTdGF0cyA9IGFzeW5jIChkYXRhOiBRdWVyeUNhbGxTdGF0c1JlcXVlc3QgPSB7fSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlDYWxsU3RhdHNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgID4oYC9jYWxsL3N0YXRzYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSByZXBvcnRzIGFnZ3JlZ2F0ZWQgZnJvbSB0aGUgY2FsbCBzdGF0cy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgU3BlY2lmeSBmaWx0ZXIgY29uZGl0aW9ucyBsaWtlIGZyb20gYW5kIHRvICh3aXRoaW4gbGFzdCAzMCBkYXlzKSBhbmQgdGhlIHJlcG9ydCB0eXBlc1xuICAgKiBAcmV0dXJucyBSZXF1ZXN0ZWQgcmVwb3J0cyB3aXRoIChtb3N0bHkpIHJhdyBkYWlseSBkYXRhIGZvciBlYWNoIHJlcG9ydCB0eXBlIHJlcXVlc3RlZFxuICAgKi9cbiAgcXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHMgPSBhc3luYyAoXG4gICAgZGF0YTogUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0ID0ge30sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdFxuICAgID4oYC9zdGF0c2AsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdmFpbGFibGUgZGF0YSBjZW50ZXJzIGF2YWlsYWJsZSBmb3IgaG9zdGluZyBjYWxscy5cbiAgICovXG4gIGVkZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8R2V0RWRnZXNSZXNwb25zZT4oYC9lZGdlc2ApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBhZGREZXZpY2UgLSBBZGRzIGEgcHVzaCBkZXZpY2UgZm9yIGEgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXIgdGhlIHB1c2ggcHJvdmlkZXIgbmFtZSAoZWcuIGFwbiwgZmlyZWJhc2UpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwdXNoX3Byb3ZpZGVyX25hbWUgdXNlciBwcm92aWRlZCBwdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIHRoZSB1c2VyIGlkIChkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ZvaXBfdG9rZW5dIGVuYWJsZXMgdXNlIG9mIFZvSVAgdG9rZW4gZm9yIHB1c2ggbm90aWZpY2F0aW9ucyBvbiBpT1MgcGxhdGZvcm1cbiAgICovXG4gIGFkZERldmljZSA9IGFzeW5jIChcbiAgICBpZDogc3RyaW5nLFxuICAgIHB1c2hfcHJvdmlkZXI6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyX25hbWU/OiBzdHJpbmcsXG4gICAgdXNlcklEPzogc3RyaW5nLFxuICAgIHZvaXBfdG9rZW4/OiBib29sZWFuLFxuICApID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxDcmVhdGVEZXZpY2VSZXF1ZXN0PignL2RldmljZXMnLCB7XG4gICAgICBpZCxcbiAgICAgIHB1c2hfcHJvdmlkZXIsXG4gICAgICB2b2lwX3Rva2VuLFxuICAgICAgLi4uKHVzZXJJRCAhPSBudWxsID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9KSxcbiAgICAgIC4uLihwdXNoX3Byb3ZpZGVyX25hbWUgIT0gbnVsbCA/IHsgcHVzaF9wcm92aWRlcl9uYW1lIH0gOiB7fSksXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGFkZERldmljZSAtIEFkZHMgYSBwdXNoIGRldmljZSBmb3IgYSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgdGhlIGRldmljZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVzaF9wcm92aWRlciB0aGUgcHVzaCBwcm92aWRlciBuYW1lIChlZy4gYXBuLCBmaXJlYmFzZSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXJfbmFtZSB1c2VyIHByb3ZpZGVkIHB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gdGhlIHVzZXIgaWQgKGRlZmF1bHRzIHRvIGN1cnJlbnQgdXNlcilcbiAgICovXG4gIGFkZFZvaXBEZXZpY2UgPSBhc3luYyAoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyOiBzdHJpbmcsXG4gICAgcHVzaF9wcm92aWRlcl9uYW1lOiBzdHJpbmcsXG4gICAgdXNlcklEPzogc3RyaW5nLFxuICApID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5hZGREZXZpY2UoXG4gICAgICBpZCxcbiAgICAgIHB1c2hfcHJvdmlkZXIsXG4gICAgICBwdXNoX3Byb3ZpZGVyX25hbWUsXG4gICAgICB1c2VySUQsXG4gICAgICB0cnVlLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGdldERldmljZXMgLSBSZXR1cm5zIHRoZSBkZXZpY2VzIGFzc29jaWF0ZWQgd2l0aCBhIGN1cnJlbnQgdXNlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gVXNlciBJRC4gT25seSB3b3JrcyBvbiBzZXJ2ZXJzaWRlXG4gICAqL1xuICBnZXREZXZpY2VzID0gYXN5bmMgKHVzZXJJRD86IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8TGlzdERldmljZXNSZXNwb25zZT4oXG4gICAgICAnL2RldmljZXMnLFxuICAgICAgdXNlcklEID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHJlbW92ZURldmljZSAtIFJlbW92ZXMgdGhlIGRldmljZSB3aXRoIHRoZSBnaXZlbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIFRoZSB1c2VyIGlkLiBPbmx5IHNwZWNpZnkgdGhpcyBmb3Igc2VydmVyc2lkZSByZXF1ZXN0c1xuICAgKi9cbiAgcmVtb3ZlRGV2aWNlID0gYXN5bmMgKGlkOiBzdHJpbmcsIHVzZXJJRD86IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5kZWxldGUoJy9kZXZpY2VzJywge1xuICAgICAgaWQsXG4gICAgICAuLi4odXNlcklEID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9KSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBjYWxsYmFjayB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSByaW5naW5nIGNhbGxzIGZyb20gcHVzaCBub3RpZmljYXRpb25zLiBJZiB0aGUgY2FsbCBhbHJlYWR5IGV4aXN0cywgaXQgd2lsbCBkbyBub3RoaW5nLlxuICAgKiBAcGFyYW0gY2FsbF9jaWRcbiAgICogQHJldHVybnNcbiAgICovXG4gIG9uUmluZ2luZ0NhbGwgPSBhc3luYyAoY2FsbF9jaWQ6IHN0cmluZykgPT4ge1xuICAgIC8vIGlmIHdlIGZpbmQgdGhlIGNhbGwgYW5kIGlzIGFscmVhZHkgcmluZ2luZywgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYSBuZXcgY2FsbFxuICAgIC8vIGFzIGNsaWVudCB3b3VsZCBoYXZlIHJlY2VpdmVkIHRoZSBjYWxsLnJpbmcgc3RhdGUgYmVjYXVzZSB0aGUgYXBwIGhhZCBXUyBhbGl2ZSB3aGVuIHJlY2VpdmluZyBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICBsZXQgY2FsbCA9IHRoaXMuc3RhdGUuY2FsbHMuZmluZCgoYykgPT4gYy5jaWQgPT09IGNhbGxfY2lkICYmIGMucmluZ2luZyk7XG4gICAgaWYgKCFjYWxsKSB7XG4gICAgICAvLyBpZiBub3QgaXQgbWVhbnMgdGhhdCBXUyBpcyBub3QgYWxpdmUgd2hlbiByZWNlaXZpbmcgdGhlIHB1c2ggbm90aWZpY2F0aW9ucyBhbmQgd2UgbmVlZCB0byBmZXRjaCB0aGUgY2FsbFxuICAgICAgY29uc3QgW2NhbGxUeXBlLCBjYWxsSWRdID0gY2FsbF9jaWQuc3BsaXQoJzonKTtcbiAgICAgIGNhbGwgPSBuZXcgQ2FsbCh7XG4gICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgIHR5cGU6IGNhbGxUeXBlLFxuICAgICAgICBpZDogY2FsbElkLFxuICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICByaW5naW5nOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBhd2FpdCBjYWxsLmdldCgpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25uZWN0cyB0aGUgZ2l2ZW4gYW5vbnltb3VzIHVzZXIgdG8gdGhlIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgdG8gY29ubmVjdC5cbiAgICogQHBhcmFtIHRva2VuT3JQcm92aWRlciBhIHRva2VuIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdG9rZW4uXG4gICAqL1xuICBwcm90ZWN0ZWQgY29ubmVjdEFub255bW91c1VzZXIgPSBhc3luYyAoXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICB0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgKSA9PiB7XG4gICAgY29uc3QgY29ubmVjdEFub255bW91c1VzZXIgPSAoKSA9PlxuICAgICAgdGhpcy5zdHJlYW1DbGllbnQuY29ubmVjdEFub255bW91c1VzZXIodXNlciwgdG9rZW5PclByb3ZpZGVyKTtcbiAgICByZXR1cm4gYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuY29ubmVjdGlvbkNvbmN1cnJlbmN5VGFnLCAoKSA9PlxuICAgICAgY29ubmVjdEFub255bW91c1VzZXIoKSxcbiAgICApO1xuICB9O1xufVxuIl0sIm5hbWVzIjpbIkF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0iLCJTUEVBS0VSIiwiRUFSUElFQ0UiLCJBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSIsIkJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW0iLCJGTEFHIiwiQkxPQ0siLCJTSEFET1dfQkxPQ0siLCJDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bSIsIkRJU0FCTEVEIiwiU0lNUExFIiwiQUkiLCJDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtIiwiQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtIiwiQ2hhbm5lbE93bkNhcGFiaWxpdHkiLCJCQU5fQ0hBTk5FTF9NRU1CRVJTIiwiQ0FTVF9QT0xMX1ZPVEUiLCJDT05ORUNUX0VWRU5UUyIsIkNSRUFURV9BVFRBQ0hNRU5UIiwiQ1JFQVRFX0NBTEwiLCJERUxFVEVfQU5ZX01FU1NBR0UiLCJERUxFVEVfQ0hBTk5FTCIsIkRFTEVURV9PV05fTUVTU0FHRSIsIkZMQUdfTUVTU0FHRSIsIkZSRUVaRV9DSEFOTkVMIiwiSk9JTl9DQUxMIiwiSk9JTl9DSEFOTkVMIiwiTEVBVkVfQ0hBTk5FTCIsIk1VVEVfQ0hBTk5FTCIsIlBJTl9NRVNTQUdFIiwiUVVFUllfUE9MTF9WT1RFUyIsIlFVT1RFX01FU1NBR0UiLCJSRUFEX0VWRU5UUyIsIlNFQVJDSF9NRVNTQUdFUyIsIlNFTkRfQ1VTVE9NX0VWRU5UUyIsIlNFTkRfTElOS1MiLCJTRU5EX01FU1NBR0UiLCJTRU5EX1BPTEwiLCJTRU5EX1JFQUNUSU9OIiwiU0VORF9SRVBMWSIsIlNFTkRfVFlQSU5HX0VWRU5UUyIsIlNFVF9DSEFOTkVMX0NPT0xET1dOIiwiU0tJUF9TTE9XX01PREUiLCJTTE9XX01PREUiLCJUWVBJTkdfRVZFTlRTIiwiVVBEQVRFX0FOWV9NRVNTQUdFIiwiVVBEQVRFX0NIQU5ORUwiLCJVUERBVEVfQ0hBTk5FTF9NRU1CRVJTIiwiVVBEQVRFX09XTl9NRVNTQUdFIiwiVVBEQVRFX1RIUkVBRCIsIlVQTE9BRF9GSUxFIiwiQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0iLCJGSVJFQkFTRSIsIkFQTiIsIkhVQVdFSSIsIlhJQU9NSSIsIk5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSIsIkFWQUlMQUJMRSIsIkFVVE9fT04iLCJPd25DYXBhYmlsaXR5IiwiQkxPQ0tfVVNFUlMiLCJDSEFOR0VfTUFYX0RVUkFUSU9OIiwiQ1JFQVRFX1JFQUNUSU9OIiwiRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTiIsIkVORF9DQUxMIiwiSk9JTl9CQUNLU1RBR0UiLCJKT0lOX0VOREVEX0NBTEwiLCJNVVRFX1VTRVJTIiwiUElOX0ZPUl9FVkVSWU9ORSIsIlJFQURfQ0FMTCIsIlJFTU9WRV9DQUxMX01FTUJFUiIsIlNDUkVFTlNIQVJFIiwiU0VORF9BVURJTyIsIlNFTkRfVklERU8iLCJTVEFSVF9CUk9BRENBU1RfQ0FMTCIsIlNUQVJUX0NMT1NFRF9DQVBUSU9OU19DQUxMIiwiU1RBUlRfUkVDT1JEX0NBTEwiLCJTVEFSVF9UUkFOU0NSSVBUSU9OX0NBTEwiLCJTVE9QX0JST0FEQ0FTVF9DQUxMIiwiU1RPUF9DTE9TRURfQ0FQVElPTlNfQ0FMTCIsIlNUT1BfUkVDT1JEX0NBTEwiLCJTVE9QX1RSQU5TQ1JJUFRJT05fQ0FMTCIsIlVQREFURV9DQUxMIiwiVVBEQVRFX0NBTExfTUVNQkVSIiwiVVBEQVRFX0NBTExfUEVSTUlTU0lPTlMiLCJVUERBVEVfQ0FMTF9TRVRUSU5HUyIsIlJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtIiwiUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0iLCJfMzYwUCIsIl80ODBQIiwiXzcyMFAiLCJfMTA4MFAiLCJfMTQ0MFAiLCJQT1JUUkFJVF8zNjBYNjQwIiwiUE9SVFJBSVRfNDgwWDg1NCIsIlBPUlRSQUlUXzcyMFgxMjgwIiwiUE9SVFJBSVRfMTA4MFgxOTIwIiwiUE9SVFJBSVRfMTQ0MFgyNTYwIiwiVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdENsb3NlZENhcHRpb25Nb2RlRW51bSIsIlRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bSIsIlRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlQ2xvc2VkQ2FwdGlvbk1vZGVFbnVtIiwiVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bSIsIlZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bSIsIkZST05UIiwiQkFDSyIsIkVYVEVSTkFMIiwiVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bSIsIkVycm9yRnJvbVJlc3BvbnNlIiwiRXJyb3IiLCJOdWxsVmFsdWUiLCJTdHJ1Y3QkVHlwZSIsIk1lc3NhZ2VUeXBlIiwiY29uc3RydWN0b3IiLCJubyIsIm5hbWUiLCJraW5kIiwiSyIsIlYiLCJUIiwiVmFsdWUiLCJpbnRlcm5hbEpzb25Xcml0ZSIsIm1lc3NhZ2UiLCJvcHRpb25zIiwianNvbiIsImsiLCJ2IiwiT2JqZWN0IiwiZW50cmllcyIsImZpZWxkcyIsInRvSnNvbiIsImludGVybmFsSnNvblJlYWQiLCJ0YXJnZXQiLCJpc0pzb25PYmplY3QiLCJnbG9iYWxUaGlzIiwidHlwZU5hbWUiLCJ0eXBlb2ZKc29uVmFsdWUiLCJjcmVhdGUiLCJmcm9tSnNvbiIsIlN0cnVjdCIsIlZhbHVlJFR5cGUiLCJvbmVvZiIsIkxpc3RWYWx1ZSIsIm9uZW9mS2luZCIsInVuZGVmaW5lZCIsImJvb2xWYWx1ZSIsIm51bWJlclZhbHVlIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJzdHJpbmdWYWx1ZSIsImxpc3RWYWx1ZUZpZWxkIiwiZmluZCIsImYiLCJsaXN0VmFsdWUiLCJzdHJ1Y3RWYWx1ZUZpZWxkIiwic3RydWN0VmFsdWUiLCJudWxsVmFsdWUiLCJOVUxMX1ZBTFVFIiwiQXJyYXkiLCJpc0FycmF5IiwiTGlzdFZhbHVlJFR5cGUiLCJyZXBlYXQiLCJ2YWx1ZXMiLCJtYXAiLCJwdXNoIiwiVGltZXN0YW1wJFR5cGUiLCJub3ciLCJtc2ciLCJtcyIsIkRhdGUiLCJzZWNvbmRzIiwiUGJMb25nIiwiZnJvbSIsIk1hdGgiLCJmbG9vciIsInRvU3RyaW5nIiwibmFub3MiLCJ0b0RhdGUiLCJ0b051bWJlciIsImNlaWwiLCJmcm9tRGF0ZSIsImRhdGUiLCJnZXRUaW1lIiwicGFyc2UiLCJ6IiwibmFub3NTdHIiLCJzdWJzdHJpbmciLCJ0b0lTT1N0cmluZyIsInJlcGxhY2UiLCJtYXRjaGVzIiwibWF0Y2giLCJpc05hTiIsInBhcnNlSW50IiwibGVuZ3RoIiwiVGltZXN0YW1wIiwiUGVlclR5cGUiLCJDb25uZWN0aW9uUXVhbGl0eSIsIlZpZGVvUXVhbGl0eSIsIlRyYWNrVHlwZSIsIkVycm9yQ29kZSIsIlNka1R5cGUiLCJUcmFja1VucHVibGlzaFJlYXNvbiIsIkdvQXdheVJlYXNvbiIsIkNhbGxFbmRlZFJlYXNvbiIsIldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IiwiQW5kcm9pZFRoZXJtYWxTdGF0ZSIsIkFwcGxlVGhlcm1hbFN0YXRlIiwiQ2FsbFN0YXRlJFR5cGUiLCJQYXJ0aWNpcGFudCIsIlBhcnRpY2lwYW50Q291bnQiLCJQaW4iLCJDYWxsU3RhdGUiLCJQYXJ0aWNpcGFudENvdW50JFR5cGUiLCJQaW4kVHlwZSIsIlBhcnRpY2lwYW50JFR5cGUiLCJTdHJlYW1RdWFsaXR5JFR5cGUiLCJTdHJlYW1RdWFsaXR5IiwiVmlkZW9EaW1lbnNpb24kVHlwZSIsIlZpZGVvRGltZW5zaW9uIiwiVmlkZW9MYXllciRUeXBlIiwiVmlkZW9MYXllciIsIlN1YnNjcmliZU9wdGlvbiRUeXBlIiwiQ29kZWMiLCJTdWJzY3JpYmVPcHRpb24iLCJQdWJsaXNoT3B0aW9uJFR5cGUiLCJQdWJsaXNoT3B0aW9uIiwiQ29kZWMkVHlwZSIsIklDRVRyaWNrbGUkVHlwZSIsIklDRVRyaWNrbGUiLCJUcmFja0luZm8kVHlwZSIsIlRyYWNrSW5mbyIsIkVycm9yJFR5cGUiLCJDbGllbnREZXRhaWxzJFR5cGUiLCJTZGsiLCJPUyIsIkJyb3dzZXIiLCJEZXZpY2UiLCJDbGllbnREZXRhaWxzIiwiU2RrJFR5cGUiLCJPUyRUeXBlIiwiQnJvd3NlciRUeXBlIiwiRGV2aWNlJFR5cGUiLCJDYWxsJFR5cGUiLCJDYWxsIiwiQ2FsbEdyYW50cyRUeXBlIiwiQ2FsbEdyYW50cyIsIklucHV0RGV2aWNlcyRUeXBlIiwiSW5wdXREZXZpY2VzIiwiQW5kcm9pZFN0YXRlJFR5cGUiLCJBbmRyb2lkU3RhdGUiLCJBcHBsZVN0YXRlJFR5cGUiLCJBcHBsZVN0YXRlIiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSIsIlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUiLCJTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IiwiU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSIsIlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIiwiUmVjb25uZWN0aW9uJFR5cGUiLCJSZWNvbm5lY3Rpb24iLCJUZWxlbWV0cnkkVHlwZSIsIlRlbGVtZXRyeSIsIlNlbmRTdGF0c1JlcXVlc3QkVHlwZSIsIlNlbmRTdGF0c1JlcXVlc3QiLCJTZW5kU3RhdHNSZXNwb25zZSRUeXBlIiwiU2VuZFN0YXRzUmVzcG9uc2UiLCJJQ0VSZXN0YXJ0UmVxdWVzdCRUeXBlIiwiSUNFUmVzdGFydFJlcXVlc3QiLCJJQ0VSZXN0YXJ0UmVzcG9uc2UkVHlwZSIsIklDRVJlc3RhcnRSZXNwb25zZSIsIlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JFR5cGUiLCJUcmFja011dGVTdGF0ZSIsIlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0IiwiVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlJFR5cGUiLCJVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UiLCJUcmFja011dGVTdGF0ZSRUeXBlIiwiQXVkaW9NdXRlQ2hhbmdlZCRUeXBlIiwiVmlkZW9NdXRlQ2hhbmdlZCRUeXBlIiwiVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QkVHlwZSIsIlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyIsIlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0IiwiVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJFR5cGUiLCJVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UiLCJUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSIsIlNlbmRBbnN3ZXJSZXF1ZXN0JFR5cGUiLCJTZW5kQW5zd2VyUmVxdWVzdCIsIlNlbmRBbnN3ZXJSZXNwb25zZSRUeXBlIiwiU2VuZEFuc3dlclJlc3BvbnNlIiwiSUNFVHJpY2tsZVJlc3BvbnNlJFR5cGUiLCJJQ0VUcmlja2xlUmVzcG9uc2UiLCJTZXRQdWJsaXNoZXJSZXF1ZXN0JFR5cGUiLCJTZXRQdWJsaXNoZXJSZXF1ZXN0IiwiU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSIsIlNldFB1Ymxpc2hlclJlc3BvbnNlIiwiU2lnbmFsU2VydmVyIiwiU2VydmljZVR5cGUiLCJJIiwiTyIsIlNmdUV2ZW50JFR5cGUiLCJTdWJzY3JpYmVyT2ZmZXIiLCJQdWJsaXNoZXJBbnN3ZXIiLCJDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQiLCJBdWRpb0xldmVsQ2hhbmdlZCIsIklDRVRyaWNrbGUkIiwiQ2hhbmdlUHVibGlzaFF1YWxpdHkiLCJQYXJ0aWNpcGFudEpvaW5lZCIsIlBhcnRpY2lwYW50TGVmdCIsIkRvbWluYW50U3BlYWtlckNoYW5nZWQiLCJKb2luUmVzcG9uc2UiLCJIZWFsdGhDaGVja1Jlc3BvbnNlIiwiVHJhY2tQdWJsaXNoZWQiLCJUcmFja1VucHVibGlzaGVkIiwiQ2FsbEdyYW50c1VwZGF0ZWQiLCJHb0F3YXkiLCJJQ0VSZXN0YXJ0IiwiUGluc0NoYW5nZWQiLCJDYWxsRW5kZWQiLCJQYXJ0aWNpcGFudFVwZGF0ZWQiLCJQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIiwiQ2hhbmdlUHVibGlzaE9wdGlvbnMiLCJTZnVFdmVudCIsIkNoYW5nZVB1Ymxpc2hPcHRpb25zJFR5cGUiLCJDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlJFR5cGUiLCJDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlIiwiUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSRUeXBlIiwiUGluc0NoYW5nZWQkVHlwZSIsIkVycm9yJCIsIklDRVJlc3RhcnQkVHlwZSIsIlNmdVJlcXVlc3QkVHlwZSIsIkpvaW5SZXF1ZXN0IiwiSGVhbHRoQ2hlY2tSZXF1ZXN0IiwiTGVhdmVDYWxsUmVxdWVzdCIsIlNmdVJlcXVlc3QiLCJMZWF2ZUNhbGxSZXF1ZXN0JFR5cGUiLCJIZWFsdGhDaGVja1JlcXVlc3QkVHlwZSIsIkhlYWx0aENoZWNrUmVzcG9uc2UkVHlwZSIsIlRyYWNrUHVibGlzaGVkJFR5cGUiLCJUcmFja1VucHVibGlzaGVkJFR5cGUiLCJKb2luUmVxdWVzdCRUeXBlIiwiTWlncmF0aW9uIiwiUmVjb25uZWN0RGV0YWlscyIsIlJlY29ubmVjdERldGFpbHMkVHlwZSIsIk1pZ3JhdGlvbiRUeXBlIiwiSm9pblJlc3BvbnNlJFR5cGUiLCJQYXJ0aWNpcGFudEpvaW5lZCRUeXBlIiwiUGFydGljaXBhbnRMZWZ0JFR5cGUiLCJQYXJ0aWNpcGFudFVwZGF0ZWQkVHlwZSIsIlN1YnNjcmliZXJPZmZlciRUeXBlIiwiUHVibGlzaGVyQW5zd2VyJFR5cGUiLCJDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQkVHlwZSIsIkNvbm5lY3Rpb25RdWFsaXR5SW5mbyIsIkNvbm5lY3Rpb25RdWFsaXR5SW5mbyRUeXBlIiwiRG9taW5hbnRTcGVha2VyQ2hhbmdlZCRUeXBlIiwiQXVkaW9MZXZlbCRUeXBlIiwiQXVkaW9MZXZlbCIsIkF1ZGlvTGV2ZWxDaGFuZ2VkJFR5cGUiLCJBdWRpb1NlbmRlciRUeXBlIiwiQXVkaW9TZW5kZXIiLCJWaWRlb0xheWVyU2V0dGluZyRUeXBlIiwiVmlkZW9MYXllclNldHRpbmciLCJWaWRlb1NlbmRlciRUeXBlIiwiVmlkZW9TZW5kZXIiLCJDaGFuZ2VQdWJsaXNoUXVhbGl0eSRUeXBlIiwiQ2FsbEdyYW50c1VwZGF0ZWQkVHlwZSIsIkdvQXdheSRUeXBlIiwiQ2FsbEVuZGVkJFR5cGUiLCJWaXNpYmlsaXR5U3RhdGUiLCJEZWJvdW5jZVR5cGUiLCJTaWduYWxTZXJ2ZXJDbGllbnQiLCJfdHJhbnNwb3J0IiwibWV0aG9kcyIsInNldFB1Ymxpc2hlciIsImlucHV0IiwibWV0aG9kIiwib3B0IiwibWVyZ2VPcHRpb25zIiwic3RhY2tJbnRlcmNlcHQiLCJzZW5kQW5zd2VyIiwiaWNlVHJpY2tsZSIsInVwZGF0ZVN1YnNjcmlwdGlvbnMiLCJ1cGRhdGVNdXRlU3RhdGVzIiwiaWNlUmVzdGFydCIsInNlbmRTdGF0cyIsInN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24iLCJzdG9wTm9pc2VDYW5jZWxsYXRpb24iLCJkZWZhdWx0T3B0aW9ucyIsImJhc2VVcmwiLCJzZW5kSnNvbiIsInRpbWVvdXQiLCJqc29uT3B0aW9ucyIsImlnbm9yZVVua25vd25GaWVsZHMiLCJ3aXRoSGVhZGVycyIsImhlYWRlcnMiLCJpbnRlcmNlcHRVbmFyeSIsIm5leHQiLCJtZXRhIiwid2l0aFJlcXVlc3RMb2dnZXIiLCJsb2dnZXIiLCJsZXZlbCIsImludm9jYXRpb24iLCJyZXF1ZXN0IiwicmVxdWVzdEhlYWRlcnMiLCJyZXNwb25zZSIsImNyZWF0ZVNpZ25hbENsaWVudCIsInRyYW5zcG9ydCIsIlR3aXJwRmV0Y2hUcmFuc3BvcnQiLCJzbGVlcCIsIm0iLCJQcm9taXNlIiwiciIsInNldFRpbWVvdXQiLCJpc0Z1bmN0aW9uIiwidmFsdWUiLCJwcm90b3R5cGUiLCJjYWxsIiwiRnVuY3Rpb24iLCJLbm93bkNvZGVzIiwiVE9LRU5fRVhQSVJFRCIsIldTX0NMT1NFRF9TVUNDRVNTIiwiV1NfQ0xPU0VEX0FCUlVQVExZIiwiV1NfUE9MSUNZX1ZJT0xBVElPTiIsInJldHJ5SW50ZXJ2YWwiLCJudW1iZXJPZkZhaWx1cmVzIiwibWF4IiwibWluIiwicmFuZG9tIiwicmFuZG9tSWQiLCJnZW5lcmF0ZVVVSUR2NCIsImhleCIsImJ5dGVzIiwicyIsImkiLCJwYWRTdGFydCIsImdldFJhbmRvbUJ5dGVzIiwic3ViYXJyYXkiLCJnZXRSYW5kb21WYWx1ZXNXaXRoTWF0aFJhbmRvbSIsInBvdyIsImJ5dGVMZW5ndGgiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJiaW5kIiwibXNDcnlwdG8iLCJVaW50OEFycmF5IiwiYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwiY2IiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRXJyb3JSZXNwb25zZSIsInJlcyIsInN0YXR1cyIsImlzQ2xvc2VFdmVudCIsImNvZGUiLCJpc1JlYWN0TmF0aXZlIiwibmF2aWdhdG9yIiwicHJvZHVjdCIsInRvTG93ZXJDYXNlIiwibG9nTGV2ZWxzIiwiZnJlZXplIiwidHJhY2UiLCJkZWJ1ZyIsImluZm8iLCJ3YXJuIiwiZXJyb3IiLCJsb2dUb0NvbnNvbGUiLCJsb2dMZXZlbCIsImFyZ3MiLCJsb2dNZXRob2QiLCJjb25zb2xlIiwibG9nIiwic2V0TG9nZ2VyIiwibCIsImx2bCIsInNldExvZ0xldmVsIiwiZ2V0TG9nTGV2ZWwiLCJnZXRMb2dnZXIiLCJ3aXRoVGFncyIsImxvZ2dlck1ldGhvZCIsInRhZ3MiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsInJlc3VsdCIsInJldHJ5YWJsZSIsInJwYyIsInNpZ25hbCIsImF0dGVtcHQiLCJlcnIiLCJpc1JlcXVlc3RDYW5jZWxsZWQiLCJScGNFcnJvciIsIlR3aXJwRXJyb3JDb2RlIiwiY2FuY2VsbGVkIiwiaXNBYm9ydGVkIiwiYWJvcnRlZCIsInNob3VsZFJldHJ5IiwiZ2V0R2VuZXJpY1NkcCIsImRpcmVjdGlvbiIsInRlbXBQYyIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiYWRkVHJhbnNjZWl2ZXIiLCJvZmZlciIsImNyZWF0ZU9mZmVyIiwic2RwIiwiZ2V0VHJhbnNjZWl2ZXJzIiwiZm9yRWFjaCIsInQiLCJzdG9wIiwiY2xvc2UiLCJpc1N2Y0NvZGVjIiwiY29kZWNPck1pbWVUeXBlIiwic2Z1RXZlbnRLaW5kcyIsInN1YnNjcmliZXJPZmZlciIsInB1Ymxpc2hlckFuc3dlciIsImNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCIsImF1ZGlvTGV2ZWxDaGFuZ2VkIiwiY2hhbmdlUHVibGlzaFF1YWxpdHkiLCJwYXJ0aWNpcGFudEpvaW5lZCIsInBhcnRpY2lwYW50TGVmdCIsImRvbWluYW50U3BlYWtlckNoYW5nZWQiLCJqb2luUmVzcG9uc2UiLCJoZWFsdGhDaGVja1Jlc3BvbnNlIiwidHJhY2tQdWJsaXNoZWQiLCJ0cmFja1VucHVibGlzaGVkIiwiY2FsbEdyYW50c1VwZGF0ZWQiLCJnb0F3YXkiLCJwaW5zVXBkYXRlZCIsImNhbGxFbmRlZCIsInBhcnRpY2lwYW50VXBkYXRlZCIsInBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUiLCJjaGFuZ2VQdWJsaXNoT3B0aW9ucyIsImlzU2Z1RXZlbnQiLCJldmVudE5hbWUiLCJoYXNPd25Qcm9wZXJ0eSIsIkRpc3BhdGNoZXIiLCJzdWJzY3JpYmVycyIsImRpc3BhdGNoIiwibG9nVGFnIiwiZXZlbnRLaW5kIiwiZXZlbnRQYXlsb2FkIiwicGF5bG9hZCIsImxpc3RlbmVycyIsImZuIiwiZSIsIm9uIiwiX2EiLCJvZmYiLCJJY2VUcmlja2xlQnVmZmVyIiwic3Vic2NyaWJlckNhbmRpZGF0ZXMiLCJSZXBsYXlTdWJqZWN0IiwicHVibGlzaGVyQ2FuZGlkYXRlcyIsImljZUNhbmRpZGF0ZSIsInRvSWNlQ2FuZGlkYXRlIiwicGVlclR5cGUiLCJTVUJTQ1JJQkVSIiwiUFVCTElTSEVSX1VOU1BFQ0lGSUVEIiwiZGlzcG9zZSIsImNvbXBsZXRlIiwiSlNPTiIsIndpdGhvdXRDb25jdXJyZW5jeSIsImNyZWF0ZVJ1bm5lciIsIndyYXBXaXRoQ29udGludWF0aW9uVHJhY2tpbmciLCJ3aXRoQ2FuY2VsbGF0aW9uIiwid3JhcFdpdGhDYW5jZWxsYXRpb24iLCJwZW5kaW5nUHJvbWlzZXMiLCJNYXAiLCJzZXR0bGVkIiwidGFnIiwiZ2V0IiwicHJvbWlzZSIsIndyYXBwZXIiLCJydW4iLCJ3cmFwcGVkIiwib25Db250aW51ZWQiLCJwZW5kaW5nIiwidGhlbiIsInNldCIsImhhc0NvbnRpbnVhdGlvbiIsImZpbmFsbHkiLCJkZWxldGUiLCJhYyIsIkFib3J0Q29udHJvbGxlciIsInJlc29sdmUiLCJhYm9ydCIsImlzRnVuY3Rpb25QYXRjaCIsInVwZGF0ZSIsImdldEN1cnJlbnRWYWx1ZSIsIm9ic2VydmFibGUkIiwiY29tYmluZUxhdGVzdCIsInN1YnNjcmliZSIsInVuc3Vic2NyaWJlIiwic2V0Q3VycmVudFZhbHVlIiwic3ViamVjdCIsInVwZGF0ZVZhbHVlIiwibGFzdFZhbHVlIiwiZ2V0VmFsdWUiLCJyb2xsYmFjayIsImNyZWF0ZVN1YnNjcmlwdGlvbiIsIm9ic2VydmFibGUiLCJoYW5kbGVyIiwib25FcnJvciIsInN1YnNjcmlwdGlvbiIsImNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbiIsIlN5bWJvbCIsIkNhbGxpbmdTdGF0ZSIsIlN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSIsImNvbm5lY3RlZFVzZXJTdWJqZWN0IiwiQmVoYXZpb3JTdWJqZWN0IiwiY2FsbHNTdWJqZWN0Iiwic2V0Q29ubmVjdGVkVXNlciIsInVzZXIiLCJSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSIsInNldENhbGxzIiwiY2FsbHMiLCJyZWdpc3RlckNhbGwiLCJjIiwiY2lkIiwidW5yZWdpc3RlckNhbGwiLCJmaW5kQ2FsbCIsInR5cGUiLCJpZCIsInN0YXRlIiwiY2FsbGluZ1N0YXRlIiwiTEVGVCIsImxlYXZlIiwicmVhc29uIiwiY2F0Y2giLCJjb25uZWN0ZWRVc2VyIiwiUnhVdGlscy5nZXRDdXJyZW50VmFsdWUiLCJTdHJlYW1WaWRlb1JlYWRPbmx5U3RhdGVTdG9yZSIsInN0b3JlIiwiY29ubmVjdGVkVXNlciQiLCJhc09ic2VydmFibGUiLCJjYWxscyQiLCJjb21iaW5lQ29tcGFyYXRvcnMiLCJjb21wYXJhdG9ycyIsImEiLCJiIiwiY29tcGFyYXRvciIsImRlc2NlbmRpbmciLCJjb25kaXRpb25hbCIsInByZWRpY2F0ZSIsIm5vb3BDb21wYXJhdG9yIiwiaGFzVmlkZW8iLCJwIiwicHVibGlzaGVkVHJhY2tzIiwiaW5jbHVkZXMiLCJWSURFTyIsImhhc0F1ZGlvIiwiQVVESU8iLCJoYXNTY3JlZW5TaGFyZSIsIlNDUkVFTl9TSEFSRSIsImhhc1NjcmVlblNoYXJlQXVkaW8iLCJTQ1JFRU5fU0hBUkVfQVVESU8iLCJpc1Bpbm5lZCIsInBpbiIsImlzTG9jYWxQaW4iLCJwaW5uZWRBdCIsImRvbWluYW50U3BlYWtlciIsImlzRG9taW5hbnRTcGVha2VyIiwic3BlYWtpbmciLCJpc1NwZWFraW5nIiwic2NyZWVuU2hhcmluZyIsInB1Ymxpc2hpbmdWaWRlbyIsInB1Ymxpc2hpbmdBdWRpbyIsInBpbm5lZCIsInJlYWN0aW9uVHlwZSIsInJlYWN0aW9uIiwicm9sZSIsInJvbGVzIiwiaGFzQW55Um9sZSIsInNvbWUiLCJpZkludmlzaWJsZUJ5Iiwidmlld3BvcnRWaXNpYmlsaXR5U3RhdGUiLCJ2aWRlb1RyYWNrIiwiSU5WSVNJQkxFIiwiaWZJbnZpc2libGVPclVua25vd25CeSIsIlVOS05PV04iLCJkZWZhdWx0U29ydFByZXNldCIsInNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0IiwicGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCIsImxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQiLCJkZWZhdWx0RWdyZXNzIiwiYnJvYWRjYXN0aW5nIiwiaGxzIiwicGxheWxpc3RfdXJsIiwicnRtcHMiLCJiYWNrc3RhZ2VTdWJqZWN0IiwiYmxvY2tlZFVzZXJJZHNTdWJqZWN0IiwiY3JlYXRlZEF0U3ViamVjdCIsImVuZGVkQXRTdWJqZWN0Iiwic3RhcnRzQXRTdWJqZWN0IiwidXBkYXRlZEF0U3ViamVjdCIsImNyZWF0ZWRCeVN1YmplY3QiLCJjdXN0b21TdWJqZWN0IiwiZWdyZXNzU3ViamVjdCIsImluZ3Jlc3NTdWJqZWN0IiwicmVjb3JkaW5nU3ViamVjdCIsInNlc3Npb25TdWJqZWN0Iiwic2V0dGluZ3NTdWJqZWN0IiwidHJhbnNjcmliaW5nU3ViamVjdCIsImNhcHRpb25pbmdTdWJqZWN0IiwiZW5kZWRCeVN1YmplY3QiLCJ0aHVtYm5haWxzU3ViamVjdCIsIm1lbWJlcnNTdWJqZWN0Iiwib3duQ2FwYWJpbGl0aWVzU3ViamVjdCIsImNhbGxpbmdTdGF0ZVN1YmplY3QiLCJzdGFydGVkQXRTdWJqZWN0IiwicGFydGljaXBhbnRDb3VudFN1YmplY3QiLCJhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCIsInBhcnRpY2lwYW50c1N1YmplY3QiLCJjYWxsU3RhdHNSZXBvcnRTdWJqZWN0IiwiY2xvc2VkQ2FwdGlvbnNTdWJqZWN0Iiwib3JwaGFuZWRUcmFja3MiLCJzb3J0UGFydGljaXBhbnRzQnkiLCJjbG9zZWRDYXB0aW9uc1Rhc2tzIiwiY2NLZXkiLCJ0YXNrSWQiLCJjbGVhclRpbWVvdXQiLCJzZXRTb3J0UGFydGljaXBhbnRzQnkiLCJwcyIsInNldFBhcnRpY2lwYW50Q291bnQiLCJjb3VudCIsInNldFN0YXJ0ZWRBdCIsInN0YXJ0ZWRBdCIsInNldENhcHRpb25pbmciLCJjYXB0aW9uaW5nIiwiUnhVdGlscy51cGRhdGVWYWx1ZSIsInNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQiLCJzZXRQYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudHMiLCJzZXRDYWxsaW5nU3RhdGUiLCJzZXRDYWxsU3RhdHNSZXBvcnQiLCJyZXBvcnQiLCJzZXRNZW1iZXJzIiwibWVtYmVycyIsInNldE93bkNhcGFiaWxpdGllcyIsImNhcGFiaWxpdGllcyIsInNldEVuZGVkQXQiLCJlbmRlZEF0IiwiZmluZFBhcnRpY2lwYW50QnlTZXNzaW9uSWQiLCJzZXNzaW9uSWQiLCJnZXRQYXJ0aWNpcGFudExvb2t1cEJ5U2Vzc2lvbklkIiwicmVkdWNlIiwibG9va3VwVGFibGUiLCJwYXJ0aWNpcGFudCIsInVwZGF0ZVBhcnRpY2lwYW50IiwicGF0Y2giLCJ0aGVQYXRjaCIsInVwZGF0ZWRQYXJ0aWNpcGFudCIsInVwZGF0ZU9yQWRkUGFydGljaXBhbnQiLCJhZGQiLCJuZXh0UGFydGljaXBhbnRzIiwidXBkYXRlUGFydGljaXBhbnRzIiwia2V5cyIsInVwZGF0ZVBhcnRpY2lwYW50VHJhY2tzIiwidHJhY2tUeXBlIiwiY2hhbmdlcyIsImFjYyIsImNoYW5nZSIsImRpbWVuc2lvbiIsImhlaWdodCIsIndpZHRoIiwicHJvcCIsInVwZGF0ZUZyb21FdmVudCIsImV2ZW50IiwiZXZlbnRIYW5kbGVycyIsInNldFNlcnZlclNpZGVQaW5zIiwicGlucyIsInBpbnNMb29rdXAiLCJsb29rdXAiLCJzZXJ2ZXJTaWRlUGlubmVkQXQiLCJyZWdpc3Rlck9ycGhhbmVkVHJhY2siLCJvcnBoYW5lZFRyYWNrIiwicmVtb3ZlT3JwaGFuZWRUcmFjayIsIm8iLCJ0YWtlT3JwaGFuZWRUcmFja3MiLCJ0cmFja0xvb2t1cFByZWZpeCIsIm9ycGhhbnMiLCJvcnBoYW4iLCJ1cGRhdGVDbG9zZWRDYXB0aW9uU2V0dGluZ3MiLCJjb25maWciLCJjbG9zZWRDYXB0aW9uc1NldHRpbmdzIiwidXBkYXRlRnJvbUNhbGxSZXNwb25zZSIsImJhY2tzdGFnZSIsImJsb2NrZWRfdXNlcl9pZHMiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsInN0YXJ0c19hdCIsImVuZGVkX2F0IiwiY3JlYXRlZF9ieSIsImN1c3RvbSIsImVncmVzcyIsImluZ3Jlc3MiLCJyZWNvcmRpbmciLCJzZXNzaW9uIiwidXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uIiwic2V0dGluZ3MiLCJ0cmFuc2NyaWJpbmciLCJ0aHVtYm5haWxzIiwidXBkYXRlRnJvbVNmdUNhbGxTdGF0ZSIsImNhbGxTdGF0ZSIsImN1cnJlbnRTZXNzaW9uSWQiLCJyZWNvbm5lY3REZXRhaWxzIiwicGFydGljaXBhbnRDb3VudCIsImxvY2FsUHVibGlzaGVkVHJhY2tzIiwiYW5ub3VuY2VkVHJhY2tzIiwicGFydGljaXBhbnRMb29rdXAiLCJleGlzdGluZ1BhcnRpY2lwYW50IiwiaXNMb2NhbFBhcnRpY2lwYW50IiwiYXNzaWduIiwic2NyZWVuU2hhcmVUcmFjayIsInRvdGFsIiwiYW5vbnltb3VzIiwidXBkYXRlRnJvbU1lbWJlclJlbW92ZWQiLCJpbmRleE9mIiwidXNlcl9pZCIsInVwZGF0ZUZyb21NZW1iZXJBZGRlZCIsInVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdG9wcGVkIiwidXBkYXRlRnJvbUhMU0Jyb2FkY2FzdGluZ0ZhaWxlZCIsInVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdGFydGVkIiwiaGxzX3BsYXlsaXN0X3VybCIsIkpPSU5FRCIsImJ5Um9sZUNvdW50IiwicGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUiLCJjb3VudEJ5Um9sZSIsImFub255bW91c19wYXJ0aWNpcGFudF9jb3VudCIsInVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRDb3VudFVwZGF0ZSIsInVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRMZWZ0IiwidXNlcl9zZXNzaW9uX2lkIiwidXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZCIsInNob3VsZEluc2VydFBhcnRpY2lwYW50IiwidXBkYXRlZFBhcnRpY2lwYW50cyIsImluY3JlbWVudCIsInVwZGF0ZU1lbWJlcnMiLCJtZW1iZXIiLCJtZW1iZXJVcGRhdGUiLCJ1cGRhdGVQYXJ0aWNpcGFudFJlYWN0aW9uIiwiZW1vamlfY29kZSIsInVzZXJJZCIsInVuYmxvY2tVc2VyIiwiY3VycmVudCIsImJsb2NrVXNlciIsInVwZGF0ZU93bkNhcGFiaWxpdGllcyIsImxvY2FsUGFydGljaXBhbnQiLCJvd25fY2FwYWJpbGl0aWVzIiwidXBkYXRlRnJvbUNsb3NlZENhcHRpb25zIiwicXVldWUiLCJjbG9zZWRfY2FwdGlvbiIsImtleU9mIiwic3BlYWtlcl9pZCIsInN0YXJ0X3RpbWUiLCJjdXJyZW50S2V5IiwiZHVwbGljYXRlIiwiY2FwdGlvbiIsIm5leHRRdWV1ZSIsInZpc2liaWxpdHlEdXJhdGlvbk1zIiwibWF4VmlzaWJsZUNhcHRpb25zIiwiY2FwdGlvbnMiLCJrZXkiLCJ0YXNrIiwic2xpY2UiLCJwYXJ0aWNpcGFudHMkIiwicGlwZSIsInNvcnQiLCJzaGFyZVJlcGxheSIsImJ1ZmZlclNpemUiLCJyZWZDb3VudCIsImxvY2FsUGFydGljaXBhbnQkIiwicmVtb3RlUGFydGljaXBhbnRzJCIsInBpbm5lZFBhcnRpY2lwYW50cyQiLCJkb21pbmFudFNwZWFrZXIkIiwiaGFzT25nb2luZ1NjcmVlblNoYXJlJCIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwiY3JlYXRlZEF0JCIsImVuZGVkQXQkIiwic3RhcnRzQXQkIiwic3RhcnRlZEF0JCIsInVwZGF0ZWRBdCQiLCJjYWxsU3RhdHNSZXBvcnQkIiwibWVtYmVycyQiLCJjcmVhdGVkQnkkIiwiY3VzdG9tJCIsImVncmVzcyQiLCJpbmdyZXNzJCIsInNlc3Npb24kIiwic2V0dGluZ3MkIiwiZW5kZWRCeSQiLCJ0aHVtYm5haWxzJCIsImNsb3NlZENhcHRpb25zJCIsImlzU2hhbGxvd0VxdWFsIiwiaXRlbSIsImR1YyIsImFub255bW91c1BhcnRpY2lwYW50Q291bnQkIiwiYmxvY2tlZFVzZXJJZHMkIiwiYmFja3N0YWdlJCIsImNhbGxpbmdTdGF0ZSQiLCJvd25DYXBhYmlsaXRpZXMkIiwicGFydGljaXBhbnRDb3VudCQiLCJyZWNvcmRpbmckIiwidHJhbnNjcmliaW5nJCIsImNhcHRpb25pbmckIiwiYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCIsInJlbW90ZVBhcnRpY2lwYW50cyIsInBpbm5lZFBhcnRpY2lwYW50cyIsImhhc09uZ29pbmdTY3JlZW5TaGFyZSIsImNhbGxTdGF0c1JlcG9ydCIsIm93bkNhcGFiaWxpdGllcyIsImJsb2NrZWRVc2VySWRzIiwiY3JlYXRlZEF0Iiwic3RhcnRzQXQiLCJ1cGRhdGVkQXQiLCJjcmVhdGVkQnkiLCJlbmRlZEJ5IiwiY2xvc2VkQ2FwdGlvbnMiLCJCYXNlUGVlckNvbm5lY3Rpb24iLCJzZnVDbGllbnQiLCJjb25uZWN0aW9uQ29uZmlnIiwiZGlzcGF0Y2hlciIsIm9uVW5yZWNvdmVyYWJsZUVycm9yIiwiaXNJY2VSZXN0YXJ0aW5nIiwic3Vic2NyaXB0aW9ucyIsImRldGFjaEV2ZW50SGFuZGxlcnMiLCJwYyIsImFkZFRyaWNrbGVkSWNlQ2FuZGlkYXRlcyIsImljZVRyaWNrbGVCdWZmZXIiLCJ1bnN1YnNjcmliZUljZVRyaWNrbGUiLCJjYW5kaWRhdGUiLCJhZGRJY2VDYW5kaWRhdGUiLCJzZXRTZnVDbGllbnQiLCJnZXRTdGF0cyIsInNlbGVjdG9yIiwib25JY2VDYW5kaWRhdGUiLCJ0b0pTT04iLCJ1c2VybmFtZUZyYWdtZW50Iiwic2VnbWVudHMiLCJzcGxpdCIsInVmcmFnSW5kZXgiLCJmaW5kSW5kZXgiLCJzdHJpbmdpZnkiLCJvbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSIsImljZUNvbm5lY3Rpb25TdGF0ZSIsIlJFQ09OTkVDVElORyIsInJlc3RhcnRJY2UiLCJvbkljZUNhbmRpZGF0ZUVycm9yIiwiZXJyb3JNZXNzYWdlIiwiUlRDUGVlckNvbm5lY3Rpb25JY2VFcnJvckV2ZW50IiwiZXJyb3JDb2RlIiwiZXJyb3JUZXh0IiwiaWNlU3RhdGUiLCJvbkljZUdhdGhlckNoYW5nZSIsImljZUdhdGhlcmluZ1N0YXRlIiwib25TaWduYWxpbmdDaGFuZ2UiLCJzaWduYWxpbmdTdGF0ZSIsIlRyYW5zY2VpdmVyQ2FjaGUiLCJjYWNoZSIsImxheWVycyIsInRyYW5zY2VpdmVyT3JkZXIiLCJwdWJsaXNoT3B0aW9uIiwidHJhbnNjZWl2ZXIiLCJmaW5kVHJhbnNjZWl2ZXIiLCJnZXRXaXRoIiwiaGFzIiwiaXRlbXMiLCJnZXRMYXllcnMiLCJlbnRyeSIsInNldExheWVycyIsImZpbmRMYXllciIsImVuc3VyZUV4aGF1c3RlZCIsIngiLCJ0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5IiwiVU5TUEVDSUZJRUQiLCJtdXRlVHlwZVRvVHJhY2tUeXBlIiwibXV0ZVR5cGUiLCJ0b1RyYWNrVHlwZSIsImlzQXVkaW9UcmFja1R5cGUiLCJkZWZhdWx0Qml0cmF0ZVBlclJpZCIsInEiLCJoIiwidG9TdmNFbmNvZGluZ3MiLCJ3aXRoUmlkIiwicmlkIiwiaGlnaGVzdExheWVyIiwicmlkVG9WaWRlb1F1YWxpdHkiLCJMT1dfVU5TUEVDSUZJRUQiLCJNSUQiLCJISUdIIiwidG9WaWRlb0xheWVycyIsImxheWVyIiwiYml0cmF0ZSIsIm1heEJpdHJhdGUiLCJmcHMiLCJtYXhGcmFtZXJhdGUiLCJxdWFsaXR5IiwidmlkZW9EaW1lbnNpb24iLCJ0b1NjYWxhYmlsaXR5TW9kZSIsInNwYXRpYWxMYXllcnMiLCJ0ZW1wb3JhbExheWVycyIsImNvbXB1dGVWaWRlb0xheWVycyIsIm9wdGltYWxWaWRlb0xheWVycyIsImdldFNldHRpbmdzIiwiY29kZWMiLCJtYXhTcGF0aWFsTGF5ZXJzIiwibWF4VGVtcG9yYWxMYXllcnMiLCJnZXRDb21wdXRlZE1heEJpdHJhdGUiLCJkb3duc2NhbGVGYWN0b3IiLCJiaXRyYXRlRmFjdG9yIiwic3ZjQ29kZWMiLCJhY3RpdmUiLCJyb3VuZCIsInNjYWxhYmlsaXR5TW9kZSIsInNjYWxlUmVzb2x1dGlvbkRvd25CeSIsInVuc2hpZnQiLCJ3aXRoU2ltdWxjYXN0Q29uc3RyYWludHMiLCJ0YXJnZXRSZXNvbHV0aW9uIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsInRhcmdldFdpZHRoIiwidGFyZ2V0SGVpZ2h0IiwiY3VycmVudFBpeGVscyIsInRhcmdldFBpeGVscyIsInJlZHVjdGlvbkZhY3RvciIsInNpemUiLCJyaWRNYXBwaW5nIiwiaW5kZXgiLCJleHRyYWN0TWlkIiwidHJhbnNjZWl2ZXJJbml0SW5kZXgiLCJtaWQiLCJTdHJpbmciLCJ0cmFjayIsInNlbmRlciIsInBhcnNlZFNkcCIsIm1lZGlhIiwibXNpZCIsIlB1Ymxpc2hlciIsInB1Ymxpc2hPcHRpb25zIiwiYmFzZU9wdGlvbnMiLCJ0cmFuc2NlaXZlckNhY2hlIiwicHVibGlzaCIsInRyYWNrVG9QdWJsaXNoIiwiY2xvbmUiLCJyZXBsYWNlVHJhY2siLCJ2aWRlb0VuY29kaW5ncyIsInNlbmRFbmNvZGluZ3MiLCJzeW5jUHVibGlzaE9wdGlvbnMiLCJpc1B1Ymxpc2hpbmciLCJoYXNQdWJsaXNoT3B0aW9uIiwib3B0aW9uIiwicmVhZHlTdGF0ZSIsImVuYWJsZWQiLCJnZXRUcmFja1R5cGUiLCJ0cmFja0lkIiwidHJhbnNjZWl2ZXJJZCIsInN0b3BUcmFja3MiLCJ0cmFja1R5cGVzIiwidmlkZW9TZW5kZXIiLCJwdWJsaXNoT3B0aW9uSWQiLCJlbmFibGVkTGF5ZXJzIiwicGFyYW1zIiwiZ2V0UGFyYW1ldGVycyIsImVuY29kaW5ncyIsImNvZGVjSW5Vc2UiLCJjb2RlY3MiLCJ1c2VzU3ZjQ29kZWMiLCJtaW1lVHlwZSIsImNoYW5nZWQiLCJlbmNvZGVyIiwic2hvdWxkQWN0aXZhdGUiLCJhY3RpdmVFbmNvZGVycyIsInNldFBhcmFtZXRlcnMiLCJuZWdvdGlhdGUiLCJvbk5lZ290aWF0aW9uTmVlZGVkIiwidHJhY2tJbmZvcyIsImdldEFubm91bmNlZFRyYWNrcyIsInNldExvY2FsRGVzY3JpcHRpb24iLCJ0cmFja3MiLCJzZXRSZW1vdGVEZXNjcmlwdGlvbiIsImdldFB1Ymxpc2hlZFRyYWNrcyIsImJ1bmRsZSIsInRvVHJhY2tJbmZvIiwiZ2V0QW5ub3VuY2VkVHJhY2tzRm9yUmVjb25uZWN0IiwibG9jYWxEZXNjcmlwdGlvbiIsImlzVHJhY2tMaXZlIiwiaXNBdWRpb1RyYWNrIiwiaXNTdGVyZW8iLCJjaGFubmVsQ291bnQiLCJ0cmFuc2NlaXZlckluZGV4IiwiYXVkaW9TZXR0aW5ncyIsImF1ZGlvIiwic3RlcmVvIiwiZHR4Iiwib3B1c19kdHhfZW5hYmxlZCIsInJlZCIsInJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZCIsIm11dGVkIiwidmlkZW9TZW5kZXJzIiwiU3Vic2NyaWJlciIsIm9wdHMiLCJjb25uZWN0aW9uU3RhdGUiLCJwcmV2aW91c0lzSWNlUmVzdGFydGluZyIsImhhbmRsZU9uVHJhY2siLCJwcmltYXJ5U3RyZWFtIiwic3RyZWFtcyIsInJhd1RyYWNrVHlwZSIsInBhcnRpY2lwYW50VG9VcGRhdGUiLCJ0cmFja0RlYnVnSW5mbyIsInN0cmVhbUtpbmRQcm9wIiwicHJldmlvdXNTdHJlYW0iLCJnZXRUcmFja3MiLCJyZW1vdmVUcmFjayIsImFuc3dlciIsImNyZWF0ZUFuc3dlciIsImNyZWF0ZVdlYlNvY2tldFNpZ25hbENoYW5uZWwiLCJlbmRwb2ludCIsIm9uTWVzc2FnZSIsIndzIiwiV2ViU29ja2V0IiwiYmluYXJ5VHlwZSIsImRhdGEiLCJBcnJheUJ1ZmZlciIsImZyb21CaW5hcnkiLCJmcm9tSnNvblN0cmluZyIsInRvUnRjQ29uZmlndXJhdGlvbiIsImljZVNlcnZlcnMiLCJpY2UiLCJ1cmxzIiwidXNlcm5hbWUiLCJjcmVkZW50aWFsIiwicGFzc3dvcmQiLCJtYWtlU2FmZVByb21pc2UiLCJpc1BlbmRpbmciLCJzYWZlUHJvbWlzZSIsInVud3JhcFByb21pc2UiLCJmdWxmaWxsbWVudCIsImNoZWNrUGVuZGluZyIsInByb21pc2VXaXRoUmVzb2x2ZXJzIiwicmVqZWN0IiwiX3Jlc29sdmUiLCJfcmVqZWN0IiwiaXNSZXNvbHZlZCIsImlzUmVqZWN0ZWQiLCJyZXNvbHZlciIsInJlamVjdGVyIiwidW5pbml0aWFsaXplZCIsImxhenkiLCJmYWN0b3J5IiwidGltZXJXb3JrZXIiLCJzcmMiLCJUaW1lcldvcmtlciIsImN1cnJlbnRUaW1lcklkIiwiY2FsbGJhY2tzIiwiZmFsbGJhY2siLCJzZXR1cCIsInVzZVRpbWVyV29ya2VyIiwic291cmNlIiwiYmxvYiIsIkJsb2IiLCJzY3JpcHQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJ3b3JrZXIiLCJXb3JrZXIiLCJkZXN0cm95IiwiY2xlYXIiLCJ0ZXJtaW5hdGUiLCJyZWFkeSIsInNldEludGVydmFsIiwiY2FsbGJhY2siLCJzZXRUaW1lciIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclRpbWVyIiwiZ2V0VGltZXJJZCIsInNlbmRNZXNzYWdlIiwicG9zdE1lc3NhZ2UiLCJ0aW1lcldvcmtlckVuYWJsZWQiLCJlbmFibGVUaW1lcldvcmtlciIsImdldFRpbWVycyIsImluc3RhbmNlIiwiU3RyZWFtU2Z1Q2xpZW50IiwiY3JlZGVudGlhbHMiLCJqb2luUmVzcG9uc2VUaW1lb3V0Iiwib25TaWduYWxDbG9zZSIsInN0cmVhbUNsaWVudCIsImlzTGVhdmluZyIsInBpbmdJbnRlcnZhbEluTXMiLCJ1bmhlYWx0aHlUaW1lb3V0SW5NcyIsImpvaW5SZXNwb25zZVRhc2siLCJhYm9ydENvbnRyb2xsZXIiLCJjcmVhdGVXZWJTb2NrZXQiLCJzaWduYWxXcyIsInNlcnZlciIsIndzX2VuZHBvaW50IiwibGFzdE1lc3NhZ2VUaW1lc3RhbXAiLCJzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayIsImhhbmRsZVdlYlNvY2tldENsb3NlIiwic2lnbmFsUmVhZHkiLCJyYWNlIiwib25PcGVuIiwiY2xlYW5VcFdlYlNvY2tldCIsImtlZXBBbGl2ZUludGVydmFsIiwiY29ubmVjdGlvbkNoZWNrVGltZW91dCIsIk5PUk1BTF9DTE9TVVJFIiwiT1BFTiIsInVuc3Vic2NyaWJlTmV0d29ya0NoYW5nZWQiLCJtaWdyYXRlQXdheVRpbWVvdXQiLCJtaWdyYXRpb25UYXNrIiwibGVhdmVBbmRDbG9zZSIsImpvaW5UYXNrIiwibm90aWZ5TGVhdmUiLCJtdXRlU3RhdGVzIiwic3RhdHMiLCJlbnRlck1pZ3JhdGlvbiIsInRpbWVvdXRJZCIsImtlZXBBbGl2ZSIsInNlbmQiLCJyZXF1ZXN0UGF5bG9hZCIsImpvaW5SZXF1ZXN0IiwidG9rZW4iLCJwaW5nIiwiaGVhbHRoQ2hlY2tSZXF1ZXN0IiwibGVhdmVDYWxsUmVxdWVzdCIsIm1zZ0pzb24iLCJlZGdlTmFtZSIsInRvQmluYXJ5IiwidGltZXJzIiwidGltZVNpbmNlTGFzdE1lc3NhZ2UiLCJFUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSIsImVkZ2VfbmFtZSIsInVybCIsImludGVyY2VwdG9ycyIsIkF1dGhvcml6YXRpb24iLCJvbmxpbmUiLCJuZXR3b3JrQXZhaWxhYmxlVGFzayIsImlzSGVhbHRoeSIsIkRJU1BPU0VfT0xEX1NPQ0tFVCIsIndhdGNoQ2FsbEFjY2VwdGVkIiwib25DYWxsQWNjZXB0ZWQiLCJjdXJyZW50VXNlcklkIiwiUklOR0lORyIsIndhdGNoQ2FsbFJlamVjdGVkIiwib25DYWxsUmVqZWN0ZWQiLCJldmVudENhbGwiLCJjYWxsU2Vzc2lvbiIsInJlamVjdGVkQnkiLCJyZWplY3RlZF9ieSIsImlzQ3JlYXRlZEJ5TWUiLCJldmVyeW9uZUVsc2VSZWplY3RlZCIsImV2ZXJ5Iiwid2F0Y2hDYWxsRW5kZWQiLCJvbkNhbGxFbmRlZCIsIklETEUiLCJ3YXRjaFNmdUNhbGxFbmRlZCIsIndhdGNoQ2FsbEdyYW50c1VwZGF0ZWQiLCJvbkNhbGxHcmFudHNVcGRhdGVkIiwiY3VycmVudEdyYW50cyIsImNhblB1Ymxpc2hBdWRpbyIsImNhblB1Ymxpc2hWaWRlbyIsImNhblNjcmVlbnNoYXJlIiwibmV4dENhcGFiaWxpdGllcyIsImNhcGFiaWxpdHkiLCJ3YXRjaENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCIsImNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlcyIsInBhdGNoZXMiLCJjb25uZWN0aW9uUXVhbGl0eSIsIndhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQiLCJ3YXRjaExpdmVFbmRlZCIsIkxJVkVfRU5ERUQiLCJwZXJtaXNzaW9uc0NvbnRleHQiLCJoYXNQZXJtaXNzaW9uIiwid2F0Y2hTZnVFcnJvclJlcG9ydHMiLCJyZWNvbm5lY3RTdHJhdGVneSIsIndhdGNoUGluc1VwZGF0ZWQiLCJvblBpbnNVcGRhdGVkIiwiaGFuZGxlUmVtb3RlU29mdE11dGUiLCJjYXVzZSIsIk1PREVSQVRJT04iLCJjYW1lcmEiLCJkaXNhYmxlIiwibWljcm9waG9uZSIsInNjcmVlblNoYXJlIiwicHVzaFRvSWZNaXNzaW5nIiwiYXJyIiwid2F0Y2hQYXJ0aWNpcGFudEpvaW5lZCIsIm9uUGFydGljaXBhbnRKb2luZWQiLCJyZWNvbmNpbGVPcnBoYW5lZFRyYWNrcyIsIndhdGNoUGFydGljaXBhbnRMZWZ0Iiwib25QYXJ0aWNpcGFudExlZnQiLCJ3YXRjaFBhcnRpY2lwYW50VXBkYXRlZCIsIm9uUGFydGljaXBhbnRVcGRhdGVkIiwid2F0Y2hUcmFja1B1Ymxpc2hlZCIsIm9uVHJhY2tQdWJsaXNoZWQiLCJ3YXRjaFRyYWNrVW5wdWJsaXNoZWQiLCJvblRyYWNrVW5wdWJsaXNoZWQiLCJvcnBoYW5UcmFja3MiLCJyZWNvbmNpbGVkVHJhY2tzIiwid2F0Y2hEb21pbmFudFNwZWFrZXJDaGFuZ2VkIiwid2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCIsImF1ZGlvTGV2ZWxzIiwiYXVkaW9MZXZlbCIsInJlZ2lzdGVyRXZlbnRIYW5kbGVycyIsInJpbmdpbmciLCJyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyIsImNvb3JkaW5hdG9yUmluZ0V2ZW50cyIsImZsYXR0ZW4iLCJnZXRTZGtTaWduYXR1cmUiLCJjbGllbnREZXRhaWxzIiwic2RrIiwicGxhdGZvcm0iLCJzZGtOYW1lIiwiZ2V0U2RrTmFtZSIsInNka1ZlcnNpb24iLCJnZXRTZGtWZXJzaW9uIiwiUkVBQ1QiLCJSRUFDVF9OQVRJVkUiLCJtYWpvciIsIm1pbm9yIiwiaXNTYWZhcmkiLCJ0ZXN0IiwidXNlckFnZW50IiwiaXNGaXJlZm94IiwiaXNDaHJvbWUiLCJjcmVhdGVTdGF0c1JlcG9ydGVyIiwic3Vic2NyaWJlciIsInB1Ymxpc2hlciIsImRhdGFjZW50ZXIiLCJwb2xsaW5nSW50ZXJ2YWxJbk1zIiwiZ2V0UmF3U3RhdHNGb3JUcmFjayIsImdldFN0YXRzRm9yU3RyZWFtIiwic3RhdHNGb3JTdHJlYW0iLCJ0cmFuc2Zvcm0iLCJ0cmFja0tpbmQiLCJzdGFydFJlcG9ydGluZ1N0YXRzRm9yIiwic2Vzc2lvbklkc1RvVHJhY2siLCJzdG9wUmVwb3J0aW5nU3RhdHNGb3IiLCJTZXQiLCJwYXJ0aWNpcGFudFN0YXRzIiwic2Vzc2lvbklkcyIsImF1ZGlvU3RyZWFtIiwidmlkZW9TdHJlYW0iLCJnZXRWaWRlb1RyYWNrcyIsImdldEF1ZGlvVHJhY2tzIiwic3Vic2NyaWJlclN0YXRzIiwicHVibGlzaGVyU3RhdHMiLCJhbGwiLCJhZ2dyZWdhdGUiLCJnZXRFbXB0eVN0YXRzIiwic3Vic2NyaWJlclJhd1N0YXRzIiwicHVibGlzaGVyUmF3U3RhdHMiLCJ0aW1lc3RhbXAiLCJsb29wIiwic3RhdCIsInJ0Y1N0cmVhbVN0YXRzIiwiY29kZWNJZCIsInRyYW5zcG9ydElkIiwicm91bmRUcmlwVGltZSIsImR0bHNTdGF0ZSIsImNhbmRpZGF0ZVBhaXIiLCJzZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCIsImN1cnJlbnRSb3VuZFRyaXBUaW1lIiwiZmlyZWZveCIsIm1lZGlhU291cmNlIiwibWVkaWFTb3VyY2VJZCIsInRyYWNrSWRlbnRpZmllciIsImJ5dGVzU2VudCIsImJ5dGVzUmVjZWl2ZWQiLCJmcmFtZUhlaWdodCIsImZyYW1lV2lkdGgiLCJmcmFtZXNQZXJTZWNvbmQiLCJqaXR0ZXIiLCJxdWFsaXR5TGltaXRhdGlvblJlYXNvbiIsInNzcmMiLCJyYXdTdGF0cyIsInJhd1JlcG9ydCIsInRvdGFsQnl0ZXNTZW50IiwidG90YWxCeXRlc1JlY2VpdmVkIiwiYXZlcmFnZUppdHRlckluTXMiLCJhdmVyYWdlUm91bmRUcmlwVGltZUluTXMiLCJxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMiLCJoaWdoZXN0RnJhbWVXaWR0aCIsImhpZ2hlc3RGcmFtZUhlaWdodCIsImhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQiLCJjb2RlY1BlclRyYWNrVHlwZSIsImFnZ3JlZ2F0ZWRTdGF0cyIsIm1heEFyZWEiLCJhcmVhIiwidyIsInN0cmVhbSIsInN0cmVhbUFyZWEiLCJ2ZXJzaW9uIiwic2RrSW5mbyIsIlBMQUlOX0pBVkFTQ1JJUFQiLCJvc0luZm8iLCJkZXZpY2VJbmZvIiwid2ViUnRjSW5mbyIsImRldmljZVN0YXRlIiwic2V0U2RrSW5mbyIsImdldFNka0luZm8iLCJzZXRPU0luZm8iLCJnZXRPU0luZm8iLCJzZXREZXZpY2VJbmZvIiwiZ2V0RGV2aWNlSW5mbyIsImdldFdlYlJUQ0luZm8iLCJzZXRXZWJSVENJbmZvIiwic2V0VGhlcm1hbFN0YXRlIiwidGhlcm1hbFN0YXRlIiwiYW5kcm9pZCIsImlzUG93ZXJTYXZlck1vZGUiLCJhcHBsZSIsImlzTG93UG93ZXJNb2RlRW5hYmxlZCIsInNldFBvd2VyU3RhdGUiLCJwb3dlck1vZGUiLCJnZXREZXZpY2VTdGF0ZSIsImdldENsaWVudERldGFpbHMiLCJvcyIsImRldmljZSIsIlVBUGFyc2VyIiwiYnJvd3NlciIsImNwdSIsImdldFJlc3VsdCIsImFyY2hpdGVjdHVyZSIsInZlbmRvciIsIm1vZGVsIiwiU2Z1U3RhdHNSZXBvcnRlciIsImlucHV0RGV2aWNlcyIsIm9ic2VydmVEZXZpY2UiLCJoYXNCcm93c2VyUGVybWlzc2lvbiQiLCJ1bnN1YnNjcmliZURldmljZVBlcm1pc3Npb25zU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbiIsImhhc0NhcGFiaWxpdHkiLCJjdXJyZW50RGV2aWNlIiwiYXZhaWxhYmxlRGV2aWNlcyIsImlzUGVybWl0dGVkIiwibGlzdERldmljZXMiLCJzZWxlY3RlZERldmljZSQiLCJkZXZpY2VzIiwiZGV2aWNlSWQiLCJzZWxlY3RlZCIsImQiLCJsYWJlbCIsInNlbmRDb25uZWN0aW9uVGltZSIsImNvbm5lY3Rpb25UaW1lU2Vjb25kcyIsInNlbmRUZWxlbWV0cnlEYXRhIiwic2VuZFJlY29ubmVjdGlvblRpbWUiLCJzdHJhdGVneSIsInRpbWVTZWNvbmRzIiwicmVjb25uZWN0aW9uIiwidGVsZW1ldHJ5RGF0YSIsIndlYnJ0Y1ZlcnNpb24iLCJ3ZWJSVENWZXJzaW9uIiwiYXVkaW9EZXZpY2VzIiwidmlkZW9EZXZpY2VzIiwidGVsZW1ldHJ5Iiwic3RhcnQiLCJyZXBvcnRpbmdfaW50ZXJ2YWxfbXMiLCJpbnRlcnZhbElkIiwid2ViUlRDSW5mbyIsIkRFRkFVTFRfVEhSRVNIT0xEIiwiVmlld3BvcnRUcmFja2VyIiwiZWxlbWVudEhhbmRsZXJNYXAiLCJvYnNlcnZlciIsInF1ZXVlU2V0Iiwic2V0Vmlld3BvcnQiLCJ2aWV3cG9ydEVsZW1lbnQiLCJjbGVhbnVwIiwiZGlzY29ubmVjdCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwicm9vdCIsInRocmVzaG9sZCIsInF1ZXVlRWxlbWVudCIsInF1ZXVlSGFuZGxlciIsImNvbnRhaW5zIiwib2JzZXJ2ZSIsImVsZW1lbnQiLCJxdWV1ZUl0ZW0iLCJ1bm9ic2VydmUiLCJERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEUiLCJnbG9iYWxPdmVycmlkZUtleSIsIkR5bmFzY2FsZU1hbmFnZXIiLCJzcGVha2VyIiwidmlld3BvcnRUcmFja2VyIiwicGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUiLCJ2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCIsInZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkIiwiaW5jb21pbmdWaWRlb1NldHRpbmdzJCIsIm92ZXJyaWRlcyIsImdsb2JhbFNldHRpbmdzIiwicHJlZmVycmVkUmVzb2x1dGlvbiIsImZyb21FbnRyaWVzIiwicGFydGljaXBhbnRPdmVycmlkZSIsImlzUGFydGljaXBhbnRWaWRlb0VuYWJsZWQiLCJzZXRWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzIiwib3ZlcnJpZGUiLCJhcHBseVRyYWNrU3Vic2NyaXB0aW9ucyIsImRlYm91bmNlVHlwZSIsIlNMT1ciLCJ0cmFja1N1YnNjcmlwdGlvbnMiLCJ0cmFja0VsZW1lbnRWaXNpYmlsaXR5IiwicHJldmlvdXNWaXNpYmlsaXR5U3RhdGUiLCJpc1Zpc2libGUiLCJpc0ludGVyc2VjdGluZyIsImRvY3VtZW50IiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJWSVNJQkxFIiwiYmluZFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsImJvdW5kUGFydGljaXBhbnQiLCJyZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyIsInBhcnRpY2lwYW50JCIsInRha2VXaGlsZSIsInZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlU3Vic2NyaXB0aW9uIiwibmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlIiwiTUVESVVNIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJsYXN0RGltZW5zaW9ucyIsInJlc2l6ZU9ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXIiLCJjdXJyZW50RGltZW5zaW9ucyIsInJlbGF0aXZlRGVsdGEiLCJJTU1FRElBVEUiLCJwdWJsaXNoZWRUcmFja3NTdWJzY3JpcHRpb24iLCJkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCIsIkZBU1QiLCJhdXRvcGxheSIsInBsYXlzSW5saW5lIiwic3RyZWFtU3Vic2NyaXB0aW9uIiwic2NyZWVuU2hhcmVTdHJlYW0iLCJzcmNPYmplY3QiLCJwbGF5IiwiYmluZEF1ZGlvRWxlbWVudCIsImF1ZGlvRWxlbWVudCIsInVwZGF0ZU1lZGlhU3RyZWFtU3Vic2NyaXB0aW9uIiwic2NyZWVuU2hhcmVBdWRpb1N0cmVhbSIsInNlbGVjdGVkRGV2aWNlIiwic2V0U2lua0lkIiwic2lua0lkU3Vic2NyaXB0aW9uIiwidm9sdW1lU3Vic2NyaXB0aW9uIiwidm9sdW1lJCIsInZvbHVtZSIsImF1ZGlvVm9sdW1lIiwidmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyIsInNjcmVlblNoYXJlRGltZW5zaW9uIiwiUGVybWlzc2lvbnNDb250ZXh0IiwicGVybWlzc2lvbnMiLCJzZXRQZXJtaXNzaW9ucyIsInNldENhbGxTZXR0aW5ncyIsInBlcm1pc3Npb24iLCJjYW5QdWJsaXNoIiwiY2FuUmVxdWVzdCIsInZpZGVvIiwic2NyZWVuc2hhcmluZyIsImFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQiLCJDYWxsVHlwZSIsIkNhbGxUeXBlc1JlZ2lzdHJ5IiwiY2FsbFR5cGVzIiwicmVnaXN0ZXIiLCJjYWxsVHlwZSIsInVucmVnaXN0ZXIiLCJDYWxsVHlwZXMiLCJCcm93c2VyUGVybWlzc2lvbiIsImRpc3Bvc2VDb250cm9sbGVyIiwid2FzUHJvbXB0ZWQiLCJhc3N1bWVHcmFudGVkIiwic2V0U3RhdGUiLCJjYW5RdWVyeVBlcm1pc3Npb25zIiwicXVlcnkiLCJxdWVyeU5hbWUiLCJnZXRTdGF0ZSIsInByb21wdCIsImZvcmNlUHJvbXB0IiwidGhyb3dPbk5vdEFsbG93ZWQiLCJpc0dyYW50ZWQiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJjb25zdHJhaW50cyIsImRpc3Bvc2VPZk1lZGlhU3RyZWFtIiwibGlzdGVuIiwiZnJvbUV2ZW50UGF0dGVybiIsInVubGlzdGVuIiwibGlzdGVuZXIiLCJnZXREZXZpY2VzIiwiZW51bWVyYXRlRGV2aWNlcyIsInNob3VsZFByb21wdEZvckJyb3dzZXJQZXJtaXNzaW9uIiwiY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkIiwiY3JlYXRlRWxlbWVudCIsImF1ZGlvRGV2aWNlQ29uc3RyYWludHMiLCJhdXRvR2FpbkNvbnRyb2wiLCJub2lzZVN1cHByZXNzaW9uIiwiZWNob0NhbmNlbGxhdGlvbiIsInZpZGVvRGV2aWNlQ29uc3RyYWludHMiLCJnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uIiwiZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbiIsImdldERldmljZUNoYW5nZU9ic2VydmVyIiwiZnJvbUV2ZW50IiwiZGVib3VuY2VUaW1lIiwiZ2V0QXVkaW9EZXZpY2VzIiwibWVyZ2UiLCJzdGFydFdpdGgiLCJjb25jYXRNYXAiLCJnZXRWaWRlb0RldmljZXMiLCJnZXRBdWRpb091dHB1dERldmljZXMiLCJnZXRTdHJlYW0iLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJpc092ZXJjb25zdHJhaW5lZEVycm9yIiwic3RhcnRzV2l0aCIsImdldEF1ZGlvU3RyZWFtIiwidHJhY2tDb25zdHJhaW50cyIsInJlbGF4ZWRDb25zdHJhaW50cyIsImdldFZpZGVvU3RyZWFtIiwiZ2V0U2NyZWVuU2hhcmVTdHJlYW0iLCJnZXREaXNwbGF5TWVkaWEiLCJpZGVhbCIsInN5c3RlbUF1ZGlvIiwiZGV2aWNlSWRzJCIsInJlbGVhc2UiLCJJbnB1dE1lZGlhRGV2aWNlTWFuYWdlciIsInN0b3BPbkxlYXZlIiwiaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kIiwiZmlsdGVycyIsInN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnIiwiZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWciLCJoYW5kbGVEaXNjb25uZWN0ZWRPclJlcGxhY2VkRGV2aWNlcyIsImVuYWJsZSIsInByZXZTdGF0dXMiLCJvcHRpbWlzdGljU3RhdHVzIiwic2V0UGVuZGluZ1N0YXR1cyIsInVubXV0ZVN0cmVhbSIsInNldFN0YXR1cyIsImZvcmNlU3RvcCIsImRpc2FibGVNb2RlIiwibXV0ZVN0cmVhbSIsInN0YXR1c0NoYW5nZVNldHRsZWQiLCJyZXN1bWUiLCJ0b2dnbGUiLCJyZWdpc3RlckZpbHRlciIsInJlZ2lzdGVyZWQiLCJhcHBseVNldHRpbmdzVG9TdHJlYW0iLCJzZXREZWZhdWx0Q29uc3RyYWludHMiLCJzZWxlY3QiLCJwcmV2RGV2aWNlSWQiLCJzZXREZXZpY2UiLCJwdWJsaXNoU3RyZWFtIiwic3RvcFB1Ymxpc2hTdHJlYW0iLCJzdG9wUHVibGlzaCIsIm1lZGlhU3RyZWFtIiwibXV0ZUxvY2FsU3RyZWFtIiwiYWxsRW5kZWQiLCJzZXRNZWRpYVN0cmVhbSIsImRpc2FibGVUcmFja3MiLCJlbmFibGVUcmFja3MiLCJyb290U3RyZWFtIiwiZGVmYXVsdENvbnN0cmFpbnRzIiwiZXhhY3QiLCJjaGFpbldpdGgiLCJwYXJlbnRTdHJlYW0iLCJmaWx0ZXJTdHJlYW0iLCJwYXJlbnQiLCJvcmlnaW5hbFN0b3AiLCJwYXJlbnRUcmFjayIsImhhbmRsZVBhcmVudFRyYWNrRW5kZWQiLCJpbnB1dFN0cmVhbSIsIm91dHB1dCIsImhhbmRsZVRyYWNrRW5kZWQiLCJjcmVhdGVUcmFja011dGVIYW5kbGVyIiwibm90aWZ5VHJhY2tNdXRlU3RhdGUiLCJtdXRlSGFuZGxlciIsInVubXV0ZUhhbmRsZXIiLCJtZWRpYURldmljZUtpbmQiLCJwYWlyd2lzZSIsInByZXZEZXZpY2VzIiwiY3VycmVudERldmljZXMiLCJpc0RldmljZURpc2Nvbm5lY3RlZCIsImlzRGV2aWNlUmVwbGFjZWQiLCJmaW5kRGV2aWNlIiwicHJldkRldmljZSIsImdyb3VwSWQiLCJJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIiwic3RhdHVzU3ViamVjdCIsIm9wdGltaXN0aWNTdGF0dXNTdWJqZWN0IiwibWVkaWFTdHJlYW1TdWJqZWN0Iiwic2VsZWN0ZWREZXZpY2VTdWJqZWN0IiwiZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdCIsIm1lZGlhU3RyZWFtJCIsInN0YXR1cyQiLCJvcHRpbWlzdGljU3RhdHVzJCIsImRlZmF1bHRDb25zdHJhaW50cyQiLCJvZiIsInBlbmRpbmdTdGF0dXMiLCJnZXREZXZpY2VJZEZyb21TdHJlYW0iLCJDYW1lcmFNYW5hZ2VyU3RhdGUiLCJkaXJlY3Rpb25TdWJqZWN0IiwiZGlyZWN0aW9uJCIsInNldERpcmVjdGlvbiIsImZhY2luZ01vZGUiLCJpc01vYmlsZSIsIkNhbWVyYU1hbmFnZXIiLCJpc0RpcmVjdGlvblN1cHBvcnRlZEJ5RGV2aWNlIiwic2VsZWN0RGlyZWN0aW9uIiwiZmxpcCIsIm5ld0RpcmVjdGlvbiIsInNlbGVjdFRhcmdldFJlc29sdXRpb24iLCJyZXNvbHV0aW9uIiwiYXBwbHkiLCJoYXNQdWJsaXNoZWRWaWRlbyIsInRhcmdldF9yZXNvbHV0aW9uIiwiY2FtZXJhX2ZhY2luZyIsImNhbWVyYV9kZWZhdWx0X29uIiwiTWljcm9waG9uZU1hbmFnZXJTdGF0ZSIsInNwZWFraW5nV2hpbGVNdXRlZFN1YmplY3QiLCJzcGVha2luZ1doaWxlTXV0ZWQkIiwic3BlYWtpbmdXaGlsZU11dGVkIiwic2V0U3BlYWtpbmdXaGlsZU11dGVkIiwiREVURUNUSU9OX0ZSRVFVRU5DWV9JTl9NUyIsIkFVRElPX0xFVkVMX1RIUkVTSE9MRCIsIkZGVF9TSVpFIiwiY3JlYXRlU291bmREZXRlY3RvciIsIm9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCIsImRldGVjdGlvbkZyZXF1ZW5jeUluTXMiLCJhdWRpb0xldmVsVGhyZXNob2xkIiwiZmZ0U2l6ZSIsImRlc3Ryb3lTdHJlYW1PblN0b3AiLCJhdWRpb0NvbnRleHQiLCJBdWRpb0NvbnRleHQiLCJhbmFseXNlciIsImNyZWF0ZUFuYWx5c2VyIiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJjb25uZWN0IiwiZnJlcXVlbmN5QmluQ291bnQiLCJnZXRCeXRlRnJlcXVlbmN5RGF0YSIsImlzU291bmREZXRlY3RlZCIsImF2ZXJhZ2VkRGF0YVZhbHVlIiwicHYiLCJjdiIsInBlcmNlbnRhZ2UiLCJSTlNwZWVjaERldGVjdG9yIiwicGMxIiwicGMyIiwiY2xlYW51cEF1ZGlvU3RyZWFtIiwiYWRkVHJhY2siLCJhdWRpb1RyYWNrcyIsIm9uU3BlYWtpbmdEZXRlY3RlZFN0YXRlQ2hhbmdlIiwiYXVkaW9NZWRpYVNvdXJjZVN0YXRzIiwiTWljcm9waG9uZU1hbmFnZXIiLCJzcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkIiwic291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnIiwic3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbiIsInN0YXJ0U3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uIiwibm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb24iLCJub2lzZUNhbmNlbGxhdGlvbiIsImF1dG9PbiIsIm5vaXNlX2NhbmNlbGxhdGlvbiIsIm1vZGUiLCJub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQiLCJlbmFibGVOb2lzZUNhbmNlbGxhdGlvbiIsImhhc05vaXNlQ2FuY2VsbGF0aW9uQ2FwYWJpbGl0eSIsIm5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MiLCJub2lzZUNhbmNlbGxhdGlvbkNoYW5nZVVuc3Vic2NyaWJlIiwibm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydGluZyIsInJlZ2lzdHJhdGlvblJlc3VsdCIsInRvRmlsdGVyIiwidW5yZWdpc3Rlck5vaXNlQ2FuY2VsbGF0aW9uIiwiZGlzYWJsZU5vaXNlQ2FuY2VsbGF0aW9uIiwiZW5hYmxlU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uIiwiZGlzYWJsZVNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiIsImhhc1B1Ymxpc2hlZEF1ZGlvIiwibWljX2RlZmF1bHRfb24iLCJyblNwZWVjaERldGVjdG9yIiwic291bmREZXRlY3RvckNsZWFudXAiLCJTY3JlZW5TaGFyZVN0YXRlIiwiYXVkaW9FbmFibGVkU3ViamVjdCIsImF1ZGlvRW5hYmxlZCQiLCJhdWRpb0VuYWJsZWQiLCJzZXRBdWRpb0VuYWJsZWQiLCJpc0VuYWJsZWQiLCJzZXRTZXR0aW5ncyIsIlNjcmVlblNoYXJlTWFuYWdlciIsIm1heWJlVGFyZ2V0UmVzb2x1dGlvbiIsImVuYWJsZVNjcmVlblNoYXJlQXVkaW8iLCJkaXNhYmxlU2NyZWVuU2hhcmVBdWRpbyIsIlNwZWFrZXJTdGF0ZSIsInZvbHVtZVN1YmplY3QiLCJpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCIsInNldFZvbHVtZSIsIlNwZWFrZXJNYW5hZ2VyIiwic2V0UGFydGljaXBhbnRWb2x1bWUiLCJjbGllbnRTdG9yZSIsIndhdGNoaW5nIiwic2Z1Q2xpZW50VGFnIiwicmVjb25uZWN0Q29uY3VycmVuY3lUYWciLCJyZWNvbm5lY3RBdHRlbXB0cyIsImZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMiLCJkaXNjb25uZWN0aW9uVGltZW91dFNlY29uZHMiLCJsYXN0T2ZmbGluZVRpbWVzdGFtcCIsInRyYWNrUHVibGlzaE9yZGVyIiwiaGFzSm9pbmVkT25jZSIsImRldmljZVNldHRpbmdzQXBwbGllZE9uY2UiLCJpbml0aWFsaXplZCIsImpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnIiwibGVhdmVDYWxsSG9va3MiLCJzdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzIiwiY3VycmVudFB1Ymxpc2hPcHRpb25zIiwicmVnaXN0ZXJFZmZlY3RzIiwicmVnaXN0ZXJSZWNvbm5lY3RIYW5kbGVycyIsImhhbmRsZU93bkNhcGFiaWxpdGllc1VwZGF0ZWQiLCJyZWNlaXZlcklkIiwiaXNBY2NlcHRlZEJ5TWUiLCJhY2NlcHRlZF9ieSIsImlzUmVqZWN0ZWRCeU1lIiwiY2FuY2VsQXV0b0Ryb3AiLCJyaW5naW5nU3ViamVjdCIsImlzUmluZ2luZyIsInJlY2VpdmVyX2lkIiwiY3JlYXRlZF9ieV9pZCIsImxlYXZlQ2FsbElkbGUiLCJzY2hlZHVsZUF1dG9Ecm9wIiwicGVybWlzc2lvblRvVHJhY2tUeXBlIiwib2ZmSGFuZGxlciIsImNhbGxfY2lkIiwicmVnaXN0ZXJlZE9mZkhhbmRsZXIiLCJKT0lOSU5HIiwid2FpdFVudGlsQ2FsbEpvaW5lZCIsImhhc090aGVyUGFydGljaXBhbnRzIiwic3RhdHNSZXBvcnRlciIsInNmdVN0YXRzUmVwb3J0ZXIiLCJkeW5hc2NhbGVNYW5hZ2VyIiwiaG9vayIsInN0b3BPbkxlYXZlUHJvbWlzZXMiLCJ1cGRhdGVGcm9tUmluZ2luZ0V2ZW50IiwiY3JlYXRvciIsImFwcGx5RGV2aWNlQ29uZmlnIiwic3RyZWFtQ2xpZW50QmFzZVBhdGgiLCJyaW5nIiwiX2hhc0Nvbm5lY3Rpb25JRCIsImdldE9yQ3JlYXRlIiwicG9zdCIsIm5vdGlmeSIsImFjY2VwdCIsImNvbm5lY3RTdGFydFRpbWUiLCJqb2luQ2FsbERhdGEiLCJwZXJmb3JtaW5nTWlncmF0aW9uIiwiTUlHUkFURSIsInBlcmZvcm1pbmdSZWpvaW4iLCJSRUpPSU4iLCJwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCIsInN0YXRzT3B0aW9ucyIsImRvSm9pblJlcXVlc3QiLCJzdGF0c19vcHRpb25zIiwicHJldmlvdXNTZnVDbGllbnQiLCJwcmV2aW91c1Nlc3Npb25JZCIsImlzV3NIZWFsdGh5IiwiaGFuZGxlU2Z1U2lnbmFsQ2xvc2UiLCJzdWJzY3JpYmVyU2RwIiwicHVibGlzaGVyU2RwIiwiaXNSZWNvbm5lY3RpbmciLCJnZXRSZWNvbm5lY3REZXRhaWxzIiwibWlncmF0aW5nX2Zyb20iLCJwcmVmZXJyZWRQdWJsaXNoT3B0aW9ucyIsImdldFByZWZlcnJlZFB1Ymxpc2hPcHRpb25zIiwicHJlZmVycmVkU3Vic2NyaWJlT3B0aW9ucyIsImdldFByZWZlcnJlZFN1YnNjcmliZU9wdGlvbnMiLCJmYXN0UmVjb25uZWN0IiwicmVzdG9yZUlDRSIsImluY2x1ZGVTdWJzY3JpYmVyIiwiaWNlX3NlcnZlcnMiLCJpbml0UHVibGlzaGVyQW5kU3Vic2NyaWJlciIsImNsb3NlUHJldmlvdXNJbnN0YW5jZXMiLCJtaWdyYXRpbmdGcm9tU2Z1SWQiLCJyZWNvbm5lY3RBdHRlbXB0IiwiZnJvbVNmdUlkIiwicHJlZmVycmVkQ29kZWMiLCJmbXRwTGluZSIsInByZWZlcnJlZEJpdHJhdGUiLCJtYXhTaW11bGNhc3RMYXllcnMiLCJjbGllbnRQdWJsaXNoT3B0aW9ucyIsInBvcCIsImZtdHAiLCJzY3JlZW5TaGFyZVNldHRpbmdzIiwic3Vic2NyaWJlckNvZGVjIiwic3Vic2NyaWJlckZtdHBMaW5lIiwibmV4dFNmdUNsaWVudCIsImluY2x1ZGVQdWJsaXNoZXIiLCJyZWNvbm5lY3QiLCJpc0Fub255bW91cyIsImxvY2F0aW9uIiwiZ2V0TG9jYXRpb25IaW50IiwiUkVDT05ORUNUSU5HX0ZBSUxFRCIsInJlY29ubmVjdFN0YXJ0VGltZSIsIkRJU0NPTk5FQ1QiLCJyZWNvbm5lY3RGYXN0IiwicmVjb25uZWN0UmVqb2luIiwicmVjb25uZWN0TWlncmF0ZSIsInVucmVjb3ZlcmFibGUiLCJyZXN0b3JlUHVibGlzaGVkVHJhY2tzIiwicmVzdG9yZVN1YnNjcmliZWRUcmFja3MiLCJjdXJyZW50U2Z1Q2xpZW50IiwiTUlHUkFUSU5HIiwiY3VycmVudFN1YnNjcmliZXIiLCJjdXJyZW50UHVibGlzaGVyIiwiY3VycmVudFNmdSIsInVucmVnaXN0ZXJHb0F3YXkiLCJ1bnJlZ2lzdGVyT25FcnJvciIsInVucmVnaXN0ZXJOZXR3b3JrQ2hhbmdlZCIsIm9mZmxpbmUiLCJPRkZMSU5FIiwicHVibGlzaFZpZGVvU3RyZWFtIiwicHVibGlzaEF1ZGlvU3RyZWFtIiwicHVibGlzaFNjcmVlblNoYXJlU3RyZWFtIiwiYXVkaW9UcmFjayIsInVwZGF0ZUxvY2FsU3RyZWFtU3RhdGUiLCJzdHJlYW1TdGF0ZVByb3AiLCJ1cGRhdGVQdWJsaXNoT3B0aW9ucyIsInJlc2V0UmVhY3Rpb24iLCJjcml0ZXJpYSIsInNlbmRSZWFjdGlvbiIsIm11dGVTZWxmIiwibXlVc2VySWQiLCJtdXRlVXNlciIsIm11dGVPdGhlcnMiLCJ1c2VySWRzVG9NdXRlIiwidXNlcl9pZHMiLCJtdXRlQWxsVXNlcnMiLCJtdXRlX2FsbF91c2VycyIsInN0YXJ0UmVjb3JkaW5nIiwic3RvcFJlY29yZGluZyIsInN0YXJ0VHJhbnNjcmlwdGlvbiIsInN0b3BUcmFuc2NyaXB0aW9uIiwic3RhcnRDbG9zZWRDYXB0aW9ucyIsInRyeCIsInN0b3BDbG9zZWRDYXB0aW9ucyIsInJlcXVlc3RQZXJtaXNzaW9ucyIsImNhblJlcXVlc3RQZXJtaXNzaW9ucyIsImdyYW50UGVybWlzc2lvbnMiLCJ1cGRhdGVVc2VyUGVybWlzc2lvbnMiLCJncmFudF9wZXJtaXNzaW9ucyIsInJldm9rZVBlcm1pc3Npb25zIiwicmV2b2tlX3Blcm1pc3Npb25zIiwiZ29MaXZlIiwic3RvcExpdmUiLCJzdGFydEhMUyIsInN0b3BITFMiLCJ1cGRhdGVzIiwiZW5kQ2FsbCIsInVucGluIiwicGluRm9yRXZlcnlvbmUiLCJ1bnBpbkZvckV2ZXJ5b25lIiwicXVlcnlNZW1iZXJzIiwidXBkYXRlQ2FsbE1lbWJlcnMiLCJ0aW1lb3V0SW5NcyIsImF1dG9fY2FuY2VsX3RpbWVvdXRfbXMiLCJpbmNvbWluZ19jYWxsX3RpbWVvdXRfbXMiLCJkcm9wVGltZW91dCIsInF1ZXJ5UmVjb3JkaW5ncyIsImNhbGxTZXNzaW9uSWQiLCJxdWVyeVRyYW5zY3JpcHRpb25zIiwiZ2V0Q2FsbFN0YXRzIiwiY2FsbFNlc3Npb25JRCIsInN1Ym1pdEZlZWRiYWNrIiwicmF0aW5nIiwidXNlclNlc3Npb25JZCIsInNka192ZXJzaW9uIiwic2VuZEN1c3RvbUV2ZW50IiwidW5iaW5kIiwiYmluZENhbGxUaHVtYm5haWxFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiaGFuZGxlRXJyb3IiLCJmYWxsYmFja0ltYWdlU291cmNlIiwidGh1bWJuYWlsVXJsIiwiaW1hZ2VfdXJsIiwic2VhcmNoUGFyYW1zIiwic2V0UHJlZmVycmVkSW5jb21pbmdWaWRlb1Jlc29sdXRpb24iLCJzZXRJbmNvbWluZ1ZpZGVvRW5hYmxlZCIsInNldERpc2Nvbm5lY3Rpb25UaW1lb3V0IiwidGltZW91dFNlY29uZHMiLCJjYWxsVHlwZUNvbmZpZyIsInBhcnRpY2lwYW50U29ydGVyIiwiU3RhYmxlV1NDb25uZWN0aW9uIiwiY2xpZW50IiwiX2xvZyIsImV4dHJhIiwic2V0Q2xpZW50IiwiX2J1aWxkVXJsIiwiVVJMU2VhcmNoUGFyYW1zIiwiZ2V0QXV0aFR5cGUiLCJnZXRVc2VyQWdlbnQiLCJ3c0Jhc2VVUkwiLCJvbmxpbmVTdGF0dXNDaGFuZ2VkIiwiX3NldEhlYWx0aCIsIl9yZWNvbm5lY3QiLCJpbnRlcnZhbCIsIm9ub3BlbiIsIndzSUQiLCJfZ2V0VG9rZW4iLCJhdXRoTWVzc2FnZSIsInVzZXJfZGV0YWlscyIsImltYWdlIiwib25tZXNzYWdlIiwicmVqZWN0UHJvbWlzZSIsIl9lcnJvckZyb21XU0V2ZW50IiwibGFzdEV2ZW50Iiwic2NoZWR1bGVOZXh0UGluZyIsInJlc29sdmVQcm9taXNlIiwiaXNDb25uZWN0aW5nIiwiY29uc2VjdXRpdmVGYWlsdXJlcyIsInRva2VuTWFuYWdlciIsImlzU3RhdGljIiwiY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZiIsInJlZnJlc2hUb2tlbiIsInJlY2VpdmVkX2F0Iiwib25jbG9zZSIsIndhc0NsZWFuIiwidG90YWxGYWlsdXJlcyIsIm9uZXJyb3IiLCJoZWFsdGh5IiwiZGlzcGF0Y2hJbW1lZGlhdGVseSIsImlzV1NGYWlsdXJlIiwic3RhdHVzQ29kZSIsIlN0YXR1c0NvZGUiLCJfc2V0dXBDb25uZWN0aW9uUHJvbWlzZSIsImNvbm5lY3Rpb25PcGVuU2FmZSIsImhlYWx0aENoZWNrVGltZW91dFJlZiIsImNsaWVudF9pZCIsImNsaWVudElEIiwicGluZ0ludGVydmFsIiwiaXNEaXNjb25uZWN0ZWQiLCJoZWFsdGhDaGVjayIsIl9jb25uZWN0IiwiX3dhaXRGb3JIZWFsdGh5IiwiY29ubmVjdGlvbk9wZW4iLCJpc0Nsb3NlZFByb21pc2UiLCJyZXF1ZXN0SUQiLCJpc1Rva2VuUmVhZHkiLCJ0b2tlblJlYWR5IiwibG9hZFRva2VuIiwiaXNDb25uZWN0aW9uSXNQcm9taXNlUGVuZGluZyIsIl9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UiLCJ3c1VSTCIsIldTIiwiV2ViU29ja2V0SW1wbCIsImNvbm5lY3Rpb25JRCIsImNvbm5lY3Rpb25faWQiLCJyZXNvbHZlQ29ubmVjdGlvbklkIiwicmVqZWN0Q29ubmVjdGlvbklkIiwiX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uIiwiZ2V0VXNlckZyb21Ub2tlbiIsImZyYWdtZW50cyIsImI2NFBheWxvYWQiLCJkZWNvZGVCYXNlNjQiLCJmcm9tQ2hhckNvZGUiLCJMIiwiQSIsImNoYXJBdCIsIlRva2VuTWFuYWdlciIsInNlY3JldCIsInNldFRva2VuT3JQcm92aWRlciIsInRva2VuT3JQcm92aWRlciIsInZhbGlkYXRlVG9rZW4iLCJ0b2tlblByb3ZpZGVyIiwicmVzZXQiLCJsb2FkVG9rZW5Qcm9taXNlIiwidG9rZW5Vc2VySWQiLCJnZXRUb2tlbiIsImhpbnRVcmwiLCJtYXhBdHRlbXB0cyIsImxvY2F0aW9uSGludCIsImZldGNoIiwiYXdzUG9wIiwiU3RyZWFtQ2xpZW50Iiwic2V0QmFzZVVSTCIsImJhc2VVUkwiLCJoaW50IiwibG9jYXRpb25IaW50VXJsIiwibG9jYXRpb25IaW50VGltZW91dCIsIl9nZXRDb25uZWN0aW9uSUQiLCJ3c0Nvbm5lY3Rpb24iLCJjb25uZWN0VXNlciIsInVzZXJUb2tlbk9yUHJvdmlkZXIiLCJ1c2VySUQiLCJzZXRVc2VyUHJvbWlzZSIsIl9pc1VzaW5nU2VydmVyQXV0aCIsIm5vZGUiLCJhbGxvd1NlcnZlclNpZGVDb25uZWN0Iiwic2V0VG9rZW5Qcm9taXNlIiwiX3NldFRva2VuIiwiX3NldFVzZXIiLCJ3c1Byb21pc2UiLCJvcGVuQ29ubmVjdGlvbiIsInVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzIiwicGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlIiwiY2xvc2VDb25uZWN0aW9uIiwiZGlzY29ubmVjdFVzZXIiLCJfdXNlciIsIndzUHJvbWlzZVNhZmUiLCJuZXdXc1Byb21pc2UiLCJjb25uZWN0aW9uSWRQcm9taXNlU2FmZSIsImNvbm5lY3RHdWVzdFVzZXIiLCJndWVzdFVzZXJDcmVhdGVQcm9taXNlIiwiZG9BeGlvc1JlcXVlc3QiLCJwdWJsaWNFbmRwb2ludCIsImFjY2Vzc190b2tlbiIsImNvbm5lY3RBbm9ueW1vdXNVc2VyIiwiX2xvZ0FwaVJlcXVlc3QiLCJfbG9nQXBpUmVzcG9uc2UiLCJfbG9nQXBpRXJyb3IiLCJjb25uZWN0aW9uSWRQcm9taXNlIiwicmVxdWVzdENvbmZpZyIsIl9lbnJpY2hBeGlvc09wdGlvbnMiLCJheGlvc0luc3RhbmNlIiwicHV0IiwiaGFuZGxlUmVzcG9uc2UiLCJjbGllbnRfcmVxdWVzdF9pZCIsImVycm9yRnJvbVJlc3BvbnNlIiwiZGVmYXVsdFdTVGltZW91dCIsInNldFVzZXJBZ2VudCIsImF1dGhvcml6YXRpb24iLCJhcGlfa2V5IiwiYXhpb3NSZXF1ZXN0Q29uZmlnIiwiaW5wdXRPcHRpb25zIiwibG9jYXRpb25IaW50TWF4QXR0ZW1wdHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJodHRwc0FnZW50IiwiaHR0cHMiLCJBZ2VudCIsImtlZXBBbGl2ZU1zZWNzIiwiYXhpb3MiLCJTdHJlYW1WaWRlb0NsaWVudCIsImFwaUtleU9yQXJncyIsImV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIiLCJjb25uZWN0aW9uQ29uY3VycmVuY3lUYWciLCJjb25uZWN0VXNlclJlc3BvbnNlIiwibWUiLCJ3cml0ZWFibGVTdGF0ZVN0b3JlIiwiY2FsbHNUb1JlV2F0Y2giLCJxdWVyeUNhbGxzIiwid2F0Y2giLCJmaWx0ZXJfY29uZGl0aW9ucyIsIiRpbiIsImZpZWxkIiwibmV3Q2FsbCIsInRoZUNhbGwiLCJuZXdDYWxsSW5zdGFuY2UiLCJhcGlLZXkiLCJfaW5zdGFuY2VNYXAiLCJjcmVhdGVHdWVzdFVzZXIiLCJxdWVyeUNhbGxTdGF0cyIsInF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzIiwiZWRnZXMiLCJhZGREZXZpY2UiLCJwdXNoX3Byb3ZpZGVyIiwicHVzaF9wcm92aWRlcl9uYW1lIiwidm9pcF90b2tlbiIsImFkZFZvaXBEZXZpY2UiLCJyZW1vdmVEZXZpY2UiLCJvblJpbmdpbmdDYWxsIiwiY2FsbElkIiwiY29vcmRpbmF0b3JMb2dnZXIiLCJyZWFkT25seVN0YXRlU3RvcmUiLCJnZXRPckNyZWF0ZUluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js":
/*!********************************************************************!*\
  !*** ./node_modules/@stream-io/video-filters-web/dist/index.es.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SegmentationLevel: () => (/* binding */ SegmentationLevel),\n/* harmony export */   createRenderer: () => (/* binding */ createRenderer),\n/* harmony export */   isPlatformSupported: () => (/* binding */ isPlatformSupported),\n/* harmony export */   loadTFLite: () => (/* binding */ loadTFLite)\n/* harmony export */ });\n/* harmony import */ var wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-feature-detect */ \"(ssr)/./node_modules/wasm-feature-detect/dist/esm/index.js\");\n\n\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */\nconst isMobile = () => /Mobi/i.test(navigator.userAgent);\n/**\n * Runs a check to see if the current platform supports\n * the necessary APIs required for the video filters.\n */\nconst isPlatformSupported = async () => typeof document !== 'undefined' &&\n    typeof window !== 'undefined' &&\n    typeof navigator !== 'undefined' &&\n    !isMobile() && // we don't support mobile devices yet due to performance issues\n    typeof WebAssembly !== 'undefined' &&\n    !!window.WebGL2RenderingContext && // WebGL2 is required for the video filters\n    !!document.createElement('canvas').getContext('webgl2') &&\n    (await (0,wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__.simd)()); // SIMD is required for the wasm module\n\n/**\n * Use it along with boyswan.glsl-literal VSCode extension\n * to get GLSL syntax highlighting.\n * https://marketplace.visualstudio.com/items?itemName=boyswan.glsl-literal\n *\n * On VSCode OSS, boyswan.glsl-literal requires slevesque.shader extension\n * to be installed as well.\n * https://marketplace.visualstudio.com/items?itemName=slevesque.shader\n */\nconst glsl = String.raw;\nfunction createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer) {\n    const program = createProgram(gl, vertexShader, fragmentShader);\n    const positionAttributeLocation = gl.getAttribLocation(program, 'a_position');\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    const texCoordAttributeLocation = gl.getAttribLocation(program, 'a_texCoord');\n    gl.enableVertexAttribArray(texCoordAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.vertexAttribPointer(texCoordAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    return program;\n}\nfunction createProgram(gl, vertexShader, fragmentShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        throw new Error(`Could not link WebGL program: ${gl.getProgramInfoLog(program)}`);\n    }\n    return program;\n}\nfunction compileShader(gl, shaderType, shaderSource) {\n    const shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, shaderSource);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error(`Could not compile shader: ${gl.getShaderInfoLog(shader)}`);\n    }\n    return shader;\n}\nfunction createTexture(gl, internalformat, width, height, minFilter = gl.NEAREST, magFilter = gl.NEAREST) {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n    gl.texStorage2D(gl.TEXTURE_2D, 1, internalformat, width, height);\n    return texture;\n}\nasync function readPixelsAsync(gl, x, y, width, height, format, type, dest) {\n    const buf = gl.createBuffer();\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n    gl.bufferData(gl.PIXEL_PACK_BUFFER, dest.byteLength, gl.STREAM_READ);\n    gl.readPixels(x, y, width, height, format, type, 0);\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n    await getBufferSubDataAsync(gl, gl.PIXEL_PACK_BUFFER, buf, 0, dest);\n    gl.deleteBuffer(buf);\n    return dest;\n}\nasync function getBufferSubDataAsync(gl, target, buffer, srcByteOffset, dstBuffer, dstOffset, length) {\n    const sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    gl.flush();\n    if (!sync)\n        return;\n    const res = await clientWaitAsync(gl, sync);\n    gl.deleteSync(sync);\n    if (res !== gl.WAIT_FAILED) {\n        gl.bindBuffer(target, buffer);\n        gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n        gl.bindBuffer(target, null);\n    }\n}\nfunction clientWaitAsync(gl, sync) {\n    return new Promise((resolve) => {\n        function test() {\n            const res = gl.clientWaitSync(sync, 0, 0);\n            if (res === gl.WAIT_FAILED) {\n                resolve(res);\n                return;\n            }\n            if (res === gl.TIMEOUT_EXPIRED) {\n                setTimeout(test);\n                return;\n            }\n            resolve(res);\n        }\n        setTimeout(test);\n    });\n}\n\nfunction buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const blurPass = buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel);\n    const blendPass = buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas);\n    function render() {\n        blurPass.render();\n        blendPass.render();\n    }\n    function updateCoverage(coverage) {\n        blendPass.updateCoverage(coverage);\n    }\n    function cleanUp() {\n        blendPass.cleanUp();\n        blurPass.cleanUp();\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\nfunction buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const sigma = typeof blurLevel === 'number'\n        ? blurLevel\n        : blurLevel === 'low'\n            ? 2\n            : blurLevel === 'medium'\n                ? 4\n                : 6;\n    const windowSize = Math.max(1, Math.floor(sigma * 3));\n    const offset = new Array(windowSize).fill(0).map((v, index) => index);\n    const variance = sigma ** 2;\n    const weights = offset.map((x) => {\n        var m = sigma * Math.sqrt(2 * Math.PI);\n        var e = Math.exp(-(x ** 2) / (2 * variance));\n        return e / m;\n    });\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform vec2 u_texelSize;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    const float offset[${windowSize}] = float[](${offset.map((i) => i.toFixed(10)).join(', ')});\n    const float weight[${windowSize}] = float[](${weights.map((i) => i.toFixed(10)).join(', ')});\n\n    void main() {\n      vec4 centerColor = texture(u_inputFrame, v_texCoord);\n      float personMask = texture(u_personMask, v_texCoord).a;\n\n      vec4 frameColor = centerColor * weight[0] * (1.0 - personMask);\n\n      for (int i = 1; i < ${windowSize}; i++) {\n        vec2 offset = vec2(offset[i]) * u_texelSize;\n\n        vec2 texCoord = v_texCoord + offset;\n        frameColor += texture(u_inputFrame, texCoord)\n           * weight[i]\n           * (1.0 - texture(u_personMask, texCoord).a);\n\n        texCoord = v_texCoord - offset;\n        frameColor += texture(u_inputFrame, texCoord)\n          * weight[i]\n          * (1.0 - texture(u_personMask, texCoord).a);\n      }\n      outColor = vec4(frameColor.rgb + (1.0 - frameColor.a) * centerColor.rgb, 1.0);\n    }\n  `;\n    const scale = 0.5;\n    const outputWidth = canvas.width * scale;\n    const outputHeight = canvas.height * scale;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const texture1 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const texture2 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const frameBuffer1 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture1, 0);\n    const frameBuffer2 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture2, 0);\n    gl.useProgram(program);\n    gl.uniform1i(personMaskLocation, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.uniform1i(inputFrameLocation, 0);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        for (let i = 0; i < 3; i++) {\n            gl.uniform2f(texelSizeLocation, 0, texelHeight);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, texture1);\n            gl.uniform1i(inputFrameLocation, 2);\n            gl.uniform2f(texelSizeLocation, texelWidth, 0);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.bindTexture(gl.TEXTURE_2D, texture2);\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer2);\n        gl.deleteFramebuffer(frameBuffer1);\n        gl.deleteTexture(texture2);\n        gl.deleteTexture(texture1);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return {\n        render,\n        cleanUp,\n    };\n}\nfunction buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_blurredInputFrame;\n    uniform vec2 u_coverage;\n\n    in vec2 v_texCoord;\n\n    out vec4 outColor;\n\n    void main() {\n      vec3 color = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 blurredColor = texture(u_blurredInputFrame, v_texCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(mix(blurredColor, color, personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const blurredInputFrame = gl.getUniformLocation(program, 'u_blurredInputFrame');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform1i(blurredInputFrame, 2);\n    gl.uniform2f(coverageLocation, 0, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function cleanUp() {\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\n\nfunction buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    uniform vec2 u_backgroundScale;\n    uniform vec2 u_backgroundOffset;\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n    out vec2 v_backgroundCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n      v_backgroundCoord = a_texCoord * u_backgroundScale + u_backgroundOffset;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_background;\n    uniform vec2 u_coverage;\n    uniform float u_lightWrapping;\n    uniform float u_blendMode;\n\n    in vec2 v_texCoord;\n    in vec2 v_backgroundCoord;\n\n    out vec4 outColor;\n\n    vec3 screen(vec3 a, vec3 b) {\n      return 1.0 - (1.0 - a) * (1.0 - b);\n    }\n\n    vec3 linearDodge(vec3 a, vec3 b) {\n      return a + b;\n    }\n\n    void main() {\n      vec3 frameColor = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 backgroundColor = texture(u_background, v_backgroundCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      float lightWrapMask = 1.0 - max(0.0, personMask - u_coverage.y) / (1.0 - u_coverage.y);\n      vec3 lightWrap = u_lightWrapping * lightWrapMask * backgroundColor;\n\n      frameColor = u_blendMode * linearDodge(frameColor, lightWrap)\n        + (1.0 - u_blendMode) * screen(frameColor, lightWrap);\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(frameColor * personMask + backgroundColor * (1.0 - personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const outputRatio = outputWidth / outputHeight;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const backgroundScaleLocation = gl.getUniformLocation(program, 'u_backgroundScale');\n    const backgroundOffsetLocation = gl.getUniformLocation(program, 'u_backgroundOffset');\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const backgroundLocation = gl.getUniformLocation(program, 'u_background');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    const lightWrappingLocation = gl.getUniformLocation(program, 'u_lightWrapping');\n    const blendModeLocation = gl.getUniformLocation(program, 'u_blendMode');\n    gl.useProgram(program);\n    gl.uniform2f(backgroundScaleLocation, 1, 1);\n    gl.uniform2f(backgroundOffsetLocation, 0, 0);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform2f(coverageLocation, 0, 1);\n    gl.uniform1f(lightWrappingLocation, 0);\n    gl.uniform1f(blendModeLocation, 0);\n    let backgroundTexture = null;\n    // TODO Find a better to handle background being loaded\n    if (backgroundImage?.complete) {\n        updateBackgroundImage(backgroundImage);\n    }\n    else if (backgroundImage) {\n        backgroundImage.onload = () => {\n            updateBackgroundImage(backgroundImage);\n        };\n    }\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        if (backgroundTexture !== null) {\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, backgroundTexture);\n            // TODO Handle correctly the background not loaded yet\n            gl.uniform1i(backgroundLocation, 2);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateBackgroundImage(bgImage) {\n        backgroundTexture = createTexture(gl, gl.RGBA8, bgImage.naturalWidth, bgImage.naturalHeight, \n        // @ts-expect-error types are incomplete\n        gl.LINEAR, gl.LINEAR);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, bgImage.naturalWidth, bgImage.naturalHeight, gl.RGBA, gl.UNSIGNED_BYTE, bgImage);\n        let xOffset = 0;\n        let yOffset = 0;\n        let backgroundWidth = bgImage.naturalWidth;\n        let backgroundHeight = bgImage.naturalHeight;\n        const backgroundRatio = backgroundWidth / backgroundHeight;\n        if (backgroundRatio < outputRatio) {\n            backgroundHeight = backgroundWidth / outputRatio;\n            yOffset = (bgImage.naturalHeight - backgroundHeight) / 2;\n        }\n        else {\n            backgroundWidth = backgroundHeight * outputRatio;\n            xOffset = (bgImage.naturalWidth - backgroundWidth) / 2;\n        }\n        const xScale = backgroundWidth / bgImage.naturalWidth;\n        const yScale = backgroundHeight / bgImage.naturalHeight;\n        xOffset /= bgImage.naturalWidth;\n        yOffset /= bgImage.naturalHeight;\n        gl.uniform2f(backgroundScaleLocation, xScale, yScale);\n        gl.uniform2f(backgroundOffsetLocation, xOffset, yOffset);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function updateLightWrapping(lightWrapping) {\n        gl.useProgram(program);\n        gl.uniform1f(lightWrappingLocation, lightWrapping);\n    }\n    function updateBlendMode(blendMode) {\n        gl.useProgram(program);\n        gl.uniform1f(blendModeLocation, blendMode === 'screen' ? 0 : 1);\n    }\n    function cleanUp() {\n        gl.deleteTexture(backgroundTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        updateLightWrapping,\n        updateBlendMode,\n        cleanUp,\n    };\n}\n\nfunction buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, inputTexture, outputTexture, canvas, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_segmentationMask;\n    uniform vec2 u_texelSize;\n    uniform float u_step;\n    uniform float u_radius;\n    uniform float u_offset;\n    uniform float u_sigmaTexel;\n    uniform float u_sigmaColor;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    float gaussian(float x, float sigma) {\n      float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n      return exp((x * x) * coeff);\n    }\n\n    void main() {\n      vec2 centerCoord = v_texCoord;\n      vec3 centerColor = texture(u_inputFrame, centerCoord).rgb;\n      float newVal = 0.0;\n\n      float spaceWeight = 0.0;\n      float colorWeight = 0.0;\n      float totalWeight = 0.0;\n\n      // Subsample kernel space.\n      for (float i = -u_radius + u_offset; i <= u_radius; i += u_step) {\n        for (float j = -u_radius + u_offset; j <= u_radius; j += u_step) {\n          vec2 shift = vec2(j, i) * u_texelSize;\n          vec2 coord = vec2(centerCoord + shift);\n          vec3 frameColor = texture(u_inputFrame, coord).rgb;\n          float outVal = texture(u_segmentationMask, coord).a;\n\n          spaceWeight = gaussian(distance(centerCoord, coord), u_sigmaTexel);\n          colorWeight = gaussian(distance(centerColor, frameColor), u_sigmaColor);\n          totalWeight += spaceWeight * colorWeight;\n\n          newVal += spaceWeight * colorWeight * outVal;\n        }\n      }\n      newVal /= totalWeight;\n\n      outColor = vec4(vec3(0.0), newVal);\n    }\n  `;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const segmentationMaskLocation = gl.getUniformLocation(program, 'u_segmentationMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const stepLocation = gl.getUniformLocation(program, 'u_step');\n    const radiusLocation = gl.getUniformLocation(program, 'u_radius');\n    const offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    const sigmaTexelLocation = gl.getUniformLocation(program, 'u_sigmaTexel');\n    const sigmaColorLocation = gl.getUniformLocation(program, 'u_sigmaColor');\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(segmentationMaskLocation, 1);\n    gl.uniform2f(texelSizeLocation, texelWidth, texelHeight);\n    // Ensures default values are configured to prevent infinite\n    // loop in fragment shader\n    updateSigmaSpace(0);\n    updateSigmaColor(0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateSigmaSpace(sigmaSpace) {\n        sigmaSpace *= Math.max(outputWidth / segmentationWidth, outputHeight / segmentationHeight);\n        const kSparsityFactor = 0.66; // Higher is sparser.\n        const step = Math.max(1, Math.sqrt(sigmaSpace) * kSparsityFactor);\n        const radius = sigmaSpace;\n        const offset = step > 1 ? step * 0.5 : 0;\n        const sigmaTexel = Math.max(texelWidth, texelHeight) * sigmaSpace;\n        gl.useProgram(program);\n        gl.uniform1f(stepLocation, step);\n        gl.uniform1f(radiusLocation, radius);\n        gl.uniform1f(offsetLocation, offset);\n        gl.uniform1f(sigmaTexelLocation, sigmaTexel);\n    }\n    function updateSigmaColor(sigmaColor) {\n        gl.useProgram(program);\n        gl.uniform1f(sigmaColorLocation, sigmaColor);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, updateSigmaSpace, updateSigmaColor, cleanUp };\n}\n\nfunction buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig, onError) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n    uniform sampler2D u_inputFrame;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      outColor = texture(u_inputFrame, v_texCoord);\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteInputMemoryOffset = tflite._getInputMemoryOffset() / 4;\n    const { width: outputWidth, height: outputHeight } = segmentationConfig;\n    const outputPixelCount = outputWidth * outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const outputTexture = createTexture(gl, gl.RGBA8, outputWidth, outputHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    const outputPixels = new Uint8Array(outputPixelCount * 4);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        // Downloads pixels asynchronously from GPU while rendering the current frame.\n        // The pixels will be available in the next frame render which results\n        // in offsets in the segmentation output but increases the frame rate.\n        readPixelsAsync(gl, 0, 0, outputWidth, outputHeight, gl.RGBA, gl.UNSIGNED_BYTE, outputPixels).catch((error) => {\n        });\n        for (let i = 0; i < outputPixelCount; i++) {\n            const tfliteIndex = tfliteInputMemoryOffset + i * 3;\n            const outputIndex = i * 4;\n            tflite.HEAPF32[tfliteIndex] = outputPixels[outputIndex] / 255;\n            tflite.HEAPF32[tfliteIndex + 1] = outputPixels[outputIndex + 1] / 255;\n            tflite.HEAPF32[tfliteIndex + 2] = outputPixels[outputIndex + 2] / 255;\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(outputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, outputTexture, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputSegmentation;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      vec2 segmentation = texture(u_inputSegmentation, v_texCoord).rg;\n      float shift = max(segmentation.r, segmentation.g);\n      float backgroundExp = exp(segmentation.r - shift);\n      float personExp = exp(segmentation.g - shift);\n      outColor = vec4(vec3(0.0), personExp / (backgroundExp + personExp));\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteOutputMemoryOffset = tflite._getOutputMemoryOffset() / 4;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputLocation = gl.getUniformLocation(program, 'u_inputSegmentation');\n    const inputTexture = createTexture(gl, gl.RG32F, segmentationWidth, segmentationHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputLocation, 1);\n    function render() {\n        gl.viewport(0, 0, segmentationWidth, segmentationHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, segmentationWidth, segmentationHeight, gl.RG, gl.FLOAT, tflite.HEAPF32, tfliteOutputMemoryOffset);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(inputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildWebGL2Pipeline(videoSource, backgroundImage, blurLevel, backgroundFilter, canvas, tflite, segmentationConfig, onError) {\n    const gl = canvas.getContext('webgl2');\n    if (!gl)\n        throw new Error('WebGL2 is not supported');\n    if (gl.isContextLost())\n        throw new Error('WebGL2 context was lost');\n    const { width: frameWidth, height: frameHeight } = videoSource;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n    out vec2 v_texCoord;\n\n    void main() {\n      gl_Position = vec4(a_position, 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const vertexArray = gl.createVertexArray();\n    gl.bindVertexArray(vertexArray);\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    // We don't use texStorage2D here because texImage2D seems faster\n    // to upload video texture than texSubImage2D even though the latter\n    // is supposed to be the recommended way:\n    // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_texstorage_to_create_textures\n    const inputFrameTexture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    // TODO Rename segmentation and person mask to be more specific\n    const segmentationTexture = createTexture(gl, gl.RGBA8, segmentationWidth, segmentationHeight);\n    const personMaskTexture = createTexture(gl, gl.RGBA8, frameWidth, frameHeight);\n    const resizingStage = buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig);\n    const loadSegmentationStage = buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationTexture, segmentationConfig);\n    const jointBilateralFilterStage = buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, segmentationTexture, personMaskTexture, canvas, segmentationConfig);\n    const backgroundStage = backgroundFilter === 'blur'\n        ? buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel || 'high')\n        : buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas);\n    function render() {\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n        // texImage2D seems faster than texSubImage2D to upload\n        // video texture\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, videoSource);\n        gl.bindVertexArray(vertexArray);\n        resizingStage.render();\n        tflite._runInference();\n        loadSegmentationStage.render();\n        jointBilateralFilterStage.render();\n        backgroundStage.render();\n    }\n    function updatePostProcessingConfig() {\n        jointBilateralFilterStage.updateSigmaSpace(1);\n        jointBilateralFilterStage.updateSigmaColor(0.1);\n        if (backgroundFilter === 'image') {\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0.5, 0.75]);\n            backgroundImageStage.updateLightWrapping(0.3);\n            backgroundImageStage.updateBlendMode('screen');\n        }\n        else if (backgroundFilter === 'blur') {\n            const backgroundBlurStage = backgroundStage;\n            backgroundBlurStage.updateCoverage([0.5, 0.75]);\n        }\n        else {\n            // TODO Handle no background in a separate pipeline path\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0, 0.9999]);\n            backgroundImageStage.updateLightWrapping(0);\n        }\n    }\n    function cleanUp() {\n        backgroundStage.cleanUp();\n        jointBilateralFilterStage.cleanUp();\n        loadSegmentationStage.cleanUp();\n        resizingStage.cleanUp();\n        gl.deleteTexture(personMaskTexture);\n        gl.deleteTexture(segmentationTexture);\n        gl.deleteTexture(inputFrameTexture);\n        gl.deleteBuffer(texCoordBuffer);\n        gl.deleteBuffer(positionBuffer);\n        gl.deleteVertexArray(vertexArray);\n        gl.deleteShader(vertexShader);\n    }\n    return { render, updatePostProcessingConfig, cleanUp };\n}\n\nvar SegmentationLevel;\n(function (SegmentationLevel) {\n    SegmentationLevel[\"LOW\"] = \"low\";\n    SegmentationLevel[\"HIGH\"] = \"high\";\n})(SegmentationLevel || (SegmentationLevel = {}));\nconst getSegmentationParams = (level) => {\n    if (level === SegmentationLevel.HIGH) {\n        return { width: 256, height: 144 };\n    }\n    return { width: 160, height: 96 };\n};\n\nfunction createRenderer(tflite, videoSource, targetCanvas, options, onError) {\n    const { backgroundFilter, backgroundImage, backgroundBlurLevel, segmentationLevel = SegmentationLevel.HIGH, fps = 30, } = options;\n    if (backgroundFilter === 'image' && !backgroundImage) {\n        throw new Error(`backgroundImage element is required when backgroundFilter is image`);\n    }\n    const pipeline = buildWebGL2Pipeline(videoSource, backgroundImage, backgroundBlurLevel, backgroundFilter, targetCanvas, tflite, getSegmentationParams(segmentationLevel));\n    const id = setInterval(() => {\n        try {\n            pipeline.render();\n            if (backgroundFilter === 'image') {\n                pipeline.updatePostProcessingConfig();\n            }\n        }\n        catch (error) {\n            onError?.(error);\n        }\n    }, 1000 / (fps <= 0 ? 30 : fps));\n    return {\n        dispose: () => {\n            pipeline.cleanUp();\n            clearInterval(id);\n        },\n    };\n}\n\nconst createTFLiteSIMDModule = (__Module) => {\n  __Module = __Module || {};\n\n  var _scriptDir =\n    typeof document !== 'undefined' && document.currentScript\n      ? document.currentScript.src\n      : undefined;\n\n  var Module = typeof __Module != 'undefined' ? __Module : {};\n  var readyPromiseResolve, readyPromiseReject;\n  Module['ready'] = new Promise(function (resolve, reject) {\n    readyPromiseResolve = resolve;\n    readyPromiseReject = reject;\n  });\n  var moduleOverrides = Object.assign({}, Module);\n  var thisProgram = './this.program';\n  var quit_ = (status, toThrow) => {\n    throw toThrow;\n  };\n  var ENVIRONMENT_IS_WEB = true;\n  var scriptDirectory = '';\n\n  function locateFile(path) {\n    if (Module['locateFile']) {\n      return Module['locateFile'](path, scriptDirectory);\n    }\n    return scriptDirectory + path;\n  }\n\n  var readBinary;\n  {\n    if (typeof document != 'undefined' && document.currentScript) {\n      scriptDirectory = document.currentScript.src;\n    }\n    if (_scriptDir) {\n      scriptDirectory = _scriptDir;\n    }\n    if (scriptDirectory.indexOf('blob:') !== 0) {\n      scriptDirectory = scriptDirectory.substr(\n        0,\n        scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n      );\n    } else {\n      scriptDirectory = '';\n    }\n  }\n  var out = Module['print'] || console.log.bind(console);\n  var err = Module['printErr'] || console.warn.bind(console);\n  Object.assign(Module, moduleOverrides);\n  moduleOverrides = null;\n  if (Module['arguments']) Module['arguments'];\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n  if (Module['quit']) quit_ = Module['quit'];\n  var wasmBinary;\n  if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n  var noExitRuntime = Module['noExitRuntime'] || true;\n  if (typeof WebAssembly != 'object') {\n    abort('no native wasm support detected');\n  }\n  var wasmMemory;\n  var ABORT = false;\n\n  var UTF8Decoder =\n    typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n  function UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\n    var endIdx = idx + maxBytesToRead;\n    var endPtr = idx;\n    while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n    if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n      return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n    }\n    var str = '';\n    while (idx < endPtr) {\n      var u0 = heapOrArray[idx++];\n      if (!(u0 & 128)) {\n        str += String.fromCharCode(u0);\n        continue;\n      }\n      var u1 = heapOrArray[idx++] & 63;\n      if ((u0 & 224) == 192) {\n        str += String.fromCharCode(((u0 & 31) << 6) | u1);\n        continue;\n      }\n      var u2 = heapOrArray[idx++] & 63;\n      if ((u0 & 240) == 224) {\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n      } else {\n        u0 =\n          ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n      }\n      if (u0 < 65536) {\n        str += String.fromCharCode(u0);\n      } else {\n        var ch = u0 - 65536;\n        str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n      }\n    }\n    return str;\n  }\n\n  var buffer, HEAP8, HEAPU8, HEAPU32;\n\n  function updateGlobalBufferAndViews(buf) {\n    buffer = buf;\n    Module['HEAP8'] = HEAP8 = new Int8Array(buf);\n    Module['HEAP16'] = new Int16Array(buf);\n    Module['HEAP32'] = new Int32Array(buf);\n    Module['HEAPU8'] = HEAPU8 = new Uint8Array(buf);\n    Module['HEAPU16'] = new Uint16Array(buf);\n    Module['HEAPU32'] = HEAPU32 = new Uint32Array(buf);\n    Module['HEAPF32'] = new Float32Array(buf);\n    Module['HEAPF64'] = new Float64Array(buf);\n  }\n\n  Module['INITIAL_MEMORY'] || 16777216;\n  var __ATPRERUN__ = [];\n  var __ATINIT__ = [];\n  var __ATPOSTRUN__ = [];\n\n  function keepRuntimeAlive() {\n    return noExitRuntime;\n  }\n\n  function preRun() {\n    if (Module['preRun']) {\n      if (typeof Module['preRun'] == 'function')\n        Module['preRun'] = [Module['preRun']];\n      while (Module['preRun'].length) {\n        addOnPreRun(Module['preRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPRERUN__);\n  }\n\n  function initRuntime() {\n    callRuntimeCallbacks(__ATINIT__);\n  }\n\n  function postRun() {\n    if (Module['postRun']) {\n      if (typeof Module['postRun'] == 'function')\n        Module['postRun'] = [Module['postRun']];\n      while (Module['postRun'].length) {\n        addOnPostRun(Module['postRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPOSTRUN__);\n  }\n\n  function addOnPreRun(cb) {\n    __ATPRERUN__.unshift(cb);\n  }\n\n  function addOnInit(cb) {\n    __ATINIT__.unshift(cb);\n  }\n\n  function addOnPostRun(cb) {\n    __ATPOSTRUN__.unshift(cb);\n  }\n\n  var runDependencies = 0;\n  var dependenciesFulfilled = null;\n\n  function addRunDependency(id) {\n    runDependencies++;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n  }\n\n  function removeRunDependency(id) {\n    runDependencies--;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n    if (runDependencies == 0) {\n      if (dependenciesFulfilled) {\n        var callback = dependenciesFulfilled;\n        dependenciesFulfilled = null;\n        callback();\n      }\n    }\n  }\n\n  function abort(what) {\n    {\n      if (Module['onAbort']) {\n        Module['onAbort'](what);\n      }\n    }\n    what = 'Aborted(' + what + ')';\n    err(what);\n    ABORT = true;\n    what += '. Build with -sASSERTIONS for more info.';\n    var e = new WebAssembly.RuntimeError(what);\n    readyPromiseReject(e);\n    throw e;\n  }\n\n  var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n  function isDataURI(filename) {\n    return filename.startsWith(dataURIPrefix);\n  }\n\n  var wasmBinaryFile;\n  wasmBinaryFile = 'tflite-simd.wasm';\n  if (!isDataURI(wasmBinaryFile)) {\n    wasmBinaryFile = locateFile(wasmBinaryFile);\n  }\n\n  function getBinary(file) {\n    try {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) ;\n      throw 'both async and sync fetching of the wasm failed';\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n    } catch (err) {\n      abort(err);\n    }\n  }\n\n  function getBinaryPromise() {\n    if (!wasmBinary && (ENVIRONMENT_IS_WEB)) {\n      if (typeof fetch == 'function') {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' })\n          .then(function (response) {\n            if (!response['ok']) {\n              throw (\n                \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\"\n              );\n            }\n            return response['arrayBuffer']();\n          })\n          .catch(function () {\n            return getBinary(wasmBinaryFile);\n          });\n      }\n    }\n    return Promise.resolve().then(function () {\n      return getBinary(wasmBinaryFile);\n    });\n  }\n\n  function createWasm() {\n    var info = {\n      env: asmLibraryArg,\n      wasi_snapshot_preview1: asmLibraryArg,\n    };\n\n    function receiveInstance(instance, module) {\n      var exports = instance.exports;\n      Module['asm'] = exports;\n      wasmMemory = Module['asm']['memory'];\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      Module['asm']['__indirect_function_table'];\n      addOnInit(Module['asm']['__wasm_call_ctors']);\n      removeRunDependency();\n    }\n\n    addRunDependency();\n\n    function receiveInstantiationResult(result) {\n      receiveInstance(result['instance']);\n    }\n\n    function instantiateArrayBuffer(receiver) {\n      return getBinaryPromise()\n        .then(function (binary) {\n          return WebAssembly.instantiate(binary, info);\n        })\n        .then(function (instance) {\n          return instance;\n        })\n        .then(receiver, function (reason) {\n          err('failed to asynchronously prepare wasm: ' + reason);\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync() {\n      if (\n        !wasmBinary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(wasmBinaryFile) &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(\n          function (response) {\n            var result = WebAssembly.instantiateStreaming(response, info);\n            return result.then(receiveInstantiationResult, function (reason) {\n              err('wasm streaming compile failed: ' + reason);\n              err('falling back to ArrayBuffer instantiation');\n              return instantiateArrayBuffer(receiveInstantiationResult);\n            });\n          },\n        );\n      } else {\n        return instantiateArrayBuffer(receiveInstantiationResult);\n      }\n    }\n\n    if (Module['instantiateWasm']) {\n      try {\n        var exports = Module['instantiateWasm'](info, receiveInstance);\n        return exports;\n      } catch (e) {\n        err('Module.instantiateWasm callback failed with error: ' + e);\n        readyPromiseReject(e);\n      }\n    }\n    instantiateAsync().catch(readyPromiseReject);\n    return {};\n  }\n\n  function ExitStatus(status) {\n    this.name = 'ExitStatus';\n    this.message = 'Program terminated with exit(' + status + ')';\n    this.status = status;\n  }\n\n  function callRuntimeCallbacks(callbacks) {\n    while (callbacks.length > 0) {\n      callbacks.shift()(Module);\n    }\n  }\n\n  function __dlinit(main_dso_handle) {}\n\n  var dlopenMissingError =\n    'To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking';\n\n  function __dlopen_js(filename, flag) {\n    abort(dlopenMissingError);\n  }\n\n  function __dlsym_js(handle, symbol) {\n    abort(dlopenMissingError);\n  }\n\n  var nowIsMonotonic = true;\n\n  function __emscripten_get_now_is_monotonic() {\n    return nowIsMonotonic;\n  }\n\n  function __mmap_js(len, prot, flags, fd, off, allocated) {\n    return -52;\n  }\n\n  function __munmap_js(addr, len, prot, flags, fd, offset) {}\n\n  function _abort() {\n    abort('');\n  }\n\n  function _emscripten_date_now() {\n    return Date.now();\n  }\n\n  function getHeapMax() {\n    return 2147483648;\n  }\n\n  function _emscripten_get_heap_max() {\n    return getHeapMax();\n  }\n\n  var _emscripten_get_now;\n  _emscripten_get_now = () => performance.now();\n\n  function _emscripten_memcpy_big(dest, src, num) {\n    HEAPU8.copyWithin(dest, src, src + num);\n  }\n\n  function emscripten_realloc_buffer(size) {\n    try {\n      wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      return 1;\n    } catch (e) {}\n  }\n\n  function _emscripten_resize_heap(requestedSize) {\n    var oldSize = HEAPU8.length;\n    requestedSize = requestedSize >>> 0;\n    var maxHeapSize = getHeapMax();\n    if (requestedSize > maxHeapSize) {\n      return false;\n    }\n    let alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n    for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n      var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n      overGrownHeapSize = Math.min(\n        overGrownHeapSize,\n        requestedSize + 100663296,\n      );\n      var newSize = Math.min(\n        maxHeapSize,\n        alignUp(Math.max(requestedSize, overGrownHeapSize), 65536),\n      );\n      var replacement = emscripten_realloc_buffer(newSize);\n      if (replacement) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var ENV = {};\n\n  function getExecutableName() {\n    return thisProgram || './this.program';\n  }\n\n  function getEnvStrings() {\n    if (!getEnvStrings.strings) {\n      var lang =\n        (\n          (typeof navigator == 'object' &&\n            navigator.languages &&\n            navigator.languages[0]) ||\n          'C'\n        ).replace('-', '_') + '.UTF-8';\n      var env = {\n        USER: 'web_user',\n        LOGNAME: 'web_user',\n        PATH: '/',\n        PWD: '/',\n        HOME: '/home/web_user',\n        LANG: lang,\n        _: getExecutableName(),\n      };\n      for (var x in ENV) {\n        if (ENV[x] === undefined) delete env[x];\n        else env[x] = ENV[x];\n      }\n      var strings = [];\n      for (var x in env) {\n        strings.push(x + '=' + env[x]);\n      }\n      getEnvStrings.strings = strings;\n    }\n    return getEnvStrings.strings;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function writeAsciiToMemory(str, buffer, dontAddNull) {\n    for (var i = 0; i < str.length; ++i) {\n      HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n    }\n    HEAP8[buffer >> 0] = 0;\n  }\n\n  function _environ_get(__environ, environ_buf) {\n    var bufSize = 0;\n    getEnvStrings().forEach(function (string, i) {\n      var ptr = environ_buf + bufSize;\n      HEAPU32[(__environ + i * 4) >> 2] = ptr;\n      writeAsciiToMemory(string, ptr);\n      bufSize += string.length + 1;\n    });\n    return 0;\n  }\n\n  function _environ_sizes_get(penviron_count, penviron_buf_size) {\n    var strings = getEnvStrings();\n    HEAPU32[penviron_count >> 2] = strings.length;\n    var bufSize = 0;\n    strings.forEach(function (string) {\n      bufSize += string.length + 1;\n    });\n    HEAPU32[penviron_buf_size >> 2] = bufSize;\n    return 0;\n  }\n\n  function _proc_exit(code) {\n    if (!keepRuntimeAlive()) {\n      if (Module['onExit']) Module['onExit'](code);\n      ABORT = true;\n    }\n    quit_(code, new ExitStatus(code));\n  }\n\n  function exitJS(status, implicit) {\n    _proc_exit(status);\n  }\n\n  var _exit = exitJS;\n\n  function _fd_close(fd) {\n    return 52;\n  }\n\n  function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n    return 70;\n  }\n\n  var printCharBuffers = [null, [], []];\n\n  function printChar(stream, curr) {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    var buffer = printCharBuffers[stream];\n    if (curr === 0 || curr === 10) {\n      (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\n      buffer.length = 0;\n    } else {\n      buffer.push(curr);\n    }\n  }\n\n  function _fd_write(fd, iov, iovcnt, pnum) {\n    var num = 0;\n    for (var i = 0; i < iovcnt; i++) {\n      var ptr = HEAPU32[iov >> 2];\n      var len = HEAPU32[(iov + 4) >> 2];\n      iov += 8;\n      for (var j = 0; j < len; j++) {\n        printChar(fd, HEAPU8[ptr + j]);\n      }\n      num += len;\n    }\n    HEAPU32[pnum >> 2] = num;\n    return 0;\n  }\n\n  function getRandomDevice() {\n    if (\n      typeof crypto == 'object' &&\n      typeof crypto['getRandomValues'] == 'function'\n    ) {\n      var randomBuffer = new Uint8Array(1);\n      return () => {\n        crypto.getRandomValues(randomBuffer);\n        return randomBuffer[0];\n      };\n    } else return () => abort('randomDevice');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function _getentropy(buffer, size) {\n    if (!_getentropy.randomDevice) {\n      _getentropy.randomDevice = getRandomDevice();\n    }\n    for (var i = 0; i < size; i++) {\n      HEAP8[(buffer + i) >> 0] = _getentropy.randomDevice();\n    }\n    return 0;\n  }\n\n  var asmLibraryArg = {\n    _dlinit: __dlinit,\n    _dlopen_js: __dlopen_js,\n    _dlsym_js: __dlsym_js,\n    _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n    _mmap_js: __mmap_js,\n    _munmap_js: __munmap_js,\n    abort: _abort,\n    emscripten_date_now: _emscripten_date_now,\n    emscripten_get_heap_max: _emscripten_get_heap_max,\n    emscripten_get_now: _emscripten_get_now,\n    emscripten_memcpy_big: _emscripten_memcpy_big,\n    emscripten_resize_heap: _emscripten_resize_heap,\n    environ_get: _environ_get,\n    environ_sizes_get: _environ_sizes_get,\n    exit: _exit,\n    fd_close: _fd_close,\n    fd_seek: _fd_seek,\n    fd_write: _fd_write,\n    getentropy: _getentropy,\n  };\n  createWasm();\n  (Module['___wasm_call_ctors'] = function () {\n    return (Module['___wasm_call_ctors'] =\n      Module['asm']['__wasm_call_ctors']).apply(null, arguments);\n  });\n  (Module['_getModelBufferMemoryOffset'] =\n    function () {\n      return (Module[\n        '_getModelBufferMemoryOffset'\n      ] =\n        Module['asm']['getModelBufferMemoryOffset']).apply(null, arguments);\n    });\n  (Module['_getInputMemoryOffset'] = function () {\n    return (Module['_getInputMemoryOffset'] =\n      Module['asm']['getInputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getInputHeight'] = function () {\n    return (Module['_getInputHeight'] =\n      Module['asm']['getInputHeight']).apply(null, arguments);\n  });\n  (Module['_getInputWidth'] = function () {\n    return (Module['_getInputWidth'] =\n      Module['asm']['getInputWidth']).apply(null, arguments);\n  });\n  (Module['_getInputChannelCount'] = function () {\n    return (Module['_getInputChannelCount'] =\n      Module['asm']['getInputChannelCount']).apply(null, arguments);\n  });\n  (Module['_getOutputMemoryOffset'] = function () {\n    return (Module['_getOutputMemoryOffset'] =\n      Module['asm']['getOutputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getOutputHeight'] = function () {\n    return (Module['_getOutputHeight'] =\n      Module['asm']['getOutputHeight']).apply(null, arguments);\n  });\n  (Module['_getOutputWidth'] = function () {\n    return (Module['_getOutputWidth'] =\n      Module['asm']['getOutputWidth']).apply(null, arguments);\n  });\n  (Module['_getOutputChannelCount'] = function () {\n    return (Module['_getOutputChannelCount'] =\n      Module['asm']['getOutputChannelCount']).apply(null, arguments);\n  });\n  (Module['_loadModel'] = function () {\n    return (Module['_loadModel'] =\n      Module['asm']['loadModel']).apply(null, arguments);\n  });\n  (Module['_runInference'] = function () {\n    return (Module['_runInference'] =\n      Module['asm']['runInference']).apply(null, arguments);\n  });\n  (Module['_malloc'] = function () {\n    return (Module['_malloc'] = Module['asm']['malloc']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['___errno_location'] = function () {\n    return (Module['___errno_location'] =\n      Module['asm']['__errno_location']).apply(null, arguments);\n  });\n  (Module['___dl_seterr'] = function () {\n    return (Module['___dl_seterr'] =\n      Module['asm']['__dl_seterr']).apply(null, arguments);\n  });\n  (Module['stackSave'] = function () {\n    return (Module['stackSave'] = Module['asm']['stackSave']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['stackRestore'] = function () {\n    return (Module['stackRestore'] =\n      Module['asm']['stackRestore']).apply(null, arguments);\n  });\n  (Module['stackAlloc'] = function () {\n    return (Module['stackAlloc'] =\n      Module['asm']['stackAlloc']).apply(null, arguments);\n  });\n  (Module['dynCall_jjj'] = function () {\n    return (Module['dynCall_jjj'] =\n      Module['asm']['dynCall_jjj']).apply(null, arguments);\n  });\n  (Module['dynCall_jiii'] = function () {\n    return (Module['dynCall_jiii'] =\n      Module['asm']['dynCall_jiii']).apply(null, arguments);\n  });\n  (Module['dynCall_iiiijj'] = function () {\n    return (Module['dynCall_iiiijj'] =\n      Module['asm']['dynCall_iiiijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viijj'] = function () {\n    return (Module['dynCall_viijj'] =\n      Module['asm']['dynCall_viijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viiijjj'] = function () {\n    return (Module['dynCall_viiijjj'] =\n      Module['asm']['dynCall_viiijjj']).apply(null, arguments);\n  });\n  (Module['dynCall_iijjiiii'] = function () {\n    return (Module['dynCall_iijjiiii'] =\n      Module['asm']['dynCall_iijjiiii']).apply(null, arguments);\n  });\n  (Module['dynCall_jiji'] = function () {\n    return (Module['dynCall_jiji'] =\n      Module['asm']['dynCall_jiji']).apply(null, arguments);\n  });\n  var calledRun;\n  dependenciesFulfilled = function runCaller() {\n    if (!calledRun) run();\n    if (!calledRun) dependenciesFulfilled = runCaller;\n  };\n\n  function run(args) {\n    if (runDependencies > 0) {\n      return;\n    }\n    preRun();\n    if (runDependencies > 0) {\n      return;\n    }\n\n    function doRun() {\n      if (calledRun) return;\n      calledRun = true;\n      Module['calledRun'] = true;\n      if (ABORT) return;\n      initRuntime();\n      readyPromiseResolve(Module);\n      if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n      postRun();\n    }\n\n    if (Module['setStatus']) {\n      Module['setStatus']('Running...');\n      setTimeout(function () {\n        setTimeout(function () {\n          Module['setStatus']('');\n        }, 1);\n        doRun();\n      }, 1);\n    } else {\n      doRun();\n    }\n  }\n\n  if (Module['preInit']) {\n    if (typeof Module['preInit'] == 'function')\n      Module['preInit'] = [Module['preInit']];\n    while (Module['preInit'].length > 0) {\n      Module['preInit'].pop()();\n    }\n  }\n  run();\n\n  return __Module.ready;\n};\n\nconst version = \"0.1.6\";\nconst packageName = \"@stream-io/video-filters-web\";\n\n// @ts-expect-error - module is not declared\n// This is a WebAssembly module compiled from the TensorFlow Lite C++ library.\nconst createTFLite = createTFLiteSIMDModule;\nconst loadTFLite = async (options = {}) => {\n    const { basePath = `https://unpkg.com/${packageName}@${version}/tf`, tfFilePath = `${basePath}/tflite/tflite-simd.wasm`, modelFilePath = `${basePath}/models/segm_full_v679.tflite`, } = options;\n    const [tfLite, model] = await Promise.all([\n        createTFLite({ locateFile: () => tfFilePath }),\n        fetchModel(modelFilePath),\n    ]);\n    const modelBufferOffset = tfLite._getModelBufferMemoryOffset();\n    tfLite.HEAPU8.set(new Uint8Array(model), modelBufferOffset);\n    tfLite._loadModel(model.byteLength);\n    return tfLite;\n};\nlet lastModelFilePath = '';\nlet modelFileCache;\nconst fetchModel = async (modelFilePath) => {\n    const model = modelFilePath === lastModelFilePath && modelFileCache\n        ? modelFileCache\n        : await fetch(modelFilePath).then((r) => r.arrayBuffer());\n    // Cache the model file for future use.\n    modelFileCache = model;\n    lastModelFilePath = modelFilePath;\n    return model;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYi9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFJLEtBQUs7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELDhCQUE4QjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDRCQUE0QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5QkFBeUIsV0FBVyxjQUFjLDRDQUE0QztBQUM5Rix5QkFBeUIsV0FBVyxjQUFjLDZDQUE2Qzs7QUFFL0Y7QUFDQTtBQUNBOztBQUVBOztBQUVBLHNCQUFzQixNQUFNLGFBQWE7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUEyQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLGVBQWU7QUFDMUQsNkNBQTZDLGVBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQXVEO0FBQ25FLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQXVEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlDQUF5QztBQUNyRCxZQUFZLHVEQUF1RDtBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsWUFBWSxnSEFBZ0g7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxREFBcUQ7O0FBRXJEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw0QkFBNEI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNEJBQTRCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsWUFBWSxnQ0FBZ0MsWUFBWSxHQUFHLFFBQVEsc0JBQXNCLFNBQVMsOENBQThDLFNBQVMsa0NBQWtDO0FBQzNMO0FBQ0EsdUJBQXVCLDhCQUE4QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThFO0FBQzlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29kZXN5bmMvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYi9kaXN0L2luZGV4LmVzLmpzPzVjMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2ltZCB9IGZyb20gJ3dhc20tZmVhdHVyZS1kZXRlY3QnO1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBwbGF0Zm9ybSBpcyBhIG1vYmlsZSBkZXZpY2UuXG4gKlxuICogU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9Ccm93c2VyX2RldGVjdGlvbl91c2luZ190aGVfdXNlcl9hZ2VudFxuICovXG5jb25zdCBpc01vYmlsZSA9ICgpID0+IC9Nb2JpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbi8qKlxuICogUnVucyBhIGNoZWNrIHRvIHNlZSBpZiB0aGUgY3VycmVudCBwbGF0Zm9ybSBzdXBwb3J0c1xuICogdGhlIG5lY2Vzc2FyeSBBUElzIHJlcXVpcmVkIGZvciB0aGUgdmlkZW8gZmlsdGVycy5cbiAqL1xuY29uc3QgaXNQbGF0Zm9ybVN1cHBvcnRlZCA9IGFzeW5jICgpID0+IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgIWlzTW9iaWxlKCkgJiYgLy8gd2UgZG9uJ3Qgc3VwcG9ydCBtb2JpbGUgZGV2aWNlcyB5ZXQgZHVlIHRvIHBlcmZvcm1hbmNlIGlzc3Vlc1xuICAgIHR5cGVvZiBXZWJBc3NlbWJseSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAhIXdpbmRvdy5XZWJHTDJSZW5kZXJpbmdDb250ZXh0ICYmIC8vIFdlYkdMMiBpcyByZXF1aXJlZCBmb3IgdGhlIHZpZGVvIGZpbHRlcnNcbiAgICAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJ3dlYmdsMicpICYmXG4gICAgKGF3YWl0IHNpbWQoKSk7IC8vIFNJTUQgaXMgcmVxdWlyZWQgZm9yIHRoZSB3YXNtIG1vZHVsZVxuXG4vKipcbiAqIFVzZSBpdCBhbG9uZyB3aXRoIGJveXN3YW4uZ2xzbC1saXRlcmFsIFZTQ29kZSBleHRlbnNpb25cbiAqIHRvIGdldCBHTFNMIHN5bnRheCBoaWdobGlnaHRpbmcuXG4gKiBodHRwczovL21hcmtldHBsYWNlLnZpc3VhbHN0dWRpby5jb20vaXRlbXM/aXRlbU5hbWU9Ym95c3dhbi5nbHNsLWxpdGVyYWxcbiAqXG4gKiBPbiBWU0NvZGUgT1NTLCBib3lzd2FuLmdsc2wtbGl0ZXJhbCByZXF1aXJlcyBzbGV2ZXNxdWUuc2hhZGVyIGV4dGVuc2lvblxuICogdG8gYmUgaW5zdGFsbGVkIGFzIHdlbGwuXG4gKiBodHRwczovL21hcmtldHBsYWNlLnZpc3VhbHN0dWRpby5jb20vaXRlbXM/aXRlbU5hbWU9c2xldmVzcXVlLnNoYWRlclxuICovXG5jb25zdCBnbHNsID0gU3RyaW5nLnJhdztcbmZ1bmN0aW9uIGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XG4gICAgY29uc3QgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhX3Bvc2l0aW9uJyk7XG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgY29uc3QgdGV4Q29vcmRBdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhX3RleENvb3JkJyk7XG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGV4Q29vcmRBdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRleENvb3JkQXR0cmlidXRlTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgbGluayBXZWJHTCBwcm9ncmFtOiAke2dsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pfWApO1xuICAgIH1cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHNoYWRlclR5cGUsIHNoYWRlclNvdXJjZSkge1xuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb21waWxlIHNoYWRlcjogJHtnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcil9YCk7XG4gICAgfVxuICAgIHJldHVybiBzaGFkZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0dXJlKGdsLCBpbnRlcm5hbGZvcm1hdCwgd2lkdGgsIGhlaWdodCwgbWluRmlsdGVyID0gZ2wuTkVBUkVTVCwgbWFnRmlsdGVyID0gZ2wuTkVBUkVTVCkge1xuICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIG1pbkZpbHRlcik7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIG1hZ0ZpbHRlcik7XG4gICAgZ2wudGV4U3RvcmFnZTJEKGdsLlRFWFRVUkVfMkQsIDEsIGludGVybmFsZm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlYWRQaXhlbHNBc3luYyhnbCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlLCBkZXN0KSB7XG4gICAgY29uc3QgYnVmID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5QSVhFTF9QQUNLX0JVRkZFUiwgYnVmKTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLlBJWEVMX1BBQ0tfQlVGRkVSLCBkZXN0LmJ5dGVMZW5ndGgsIGdsLlNUUkVBTV9SRUFEKTtcbiAgICBnbC5yZWFkUGl4ZWxzKHgsIHksIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSwgMCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5QSVhFTF9QQUNLX0JVRkZFUiwgbnVsbCk7XG4gICAgYXdhaXQgZ2V0QnVmZmVyU3ViRGF0YUFzeW5jKGdsLCBnbC5QSVhFTF9QQUNLX0JVRkZFUiwgYnVmLCAwLCBkZXN0KTtcbiAgICBnbC5kZWxldGVCdWZmZXIoYnVmKTtcbiAgICByZXR1cm4gZGVzdDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJ1ZmZlclN1YkRhdGFBc3luYyhnbCwgdGFyZ2V0LCBidWZmZXIsIHNyY0J5dGVPZmZzZXQsIGRzdEJ1ZmZlciwgZHN0T2Zmc2V0LCBsZW5ndGgpIHtcbiAgICBjb25zdCBzeW5jID0gZ2wuZmVuY2VTeW5jKGdsLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLCAwKTtcbiAgICBnbC5mbHVzaCgpO1xuICAgIGlmICghc3luYylcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudFdhaXRBc3luYyhnbCwgc3luYyk7XG4gICAgZ2wuZGVsZXRlU3luYyhzeW5jKTtcbiAgICBpZiAocmVzICE9PSBnbC5XQUlUX0ZBSUxFRCkge1xuICAgICAgICBnbC5iaW5kQnVmZmVyKHRhcmdldCwgYnVmZmVyKTtcbiAgICAgICAgZ2wuZ2V0QnVmZmVyU3ViRGF0YSh0YXJnZXQsIHNyY0J5dGVPZmZzZXQsIGRzdEJ1ZmZlciwgZHN0T2Zmc2V0LCBsZW5ndGgpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKHRhcmdldCwgbnVsbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xpZW50V2FpdEFzeW5jKGdsLCBzeW5jKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIHRlc3QoKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBnbC5jbGllbnRXYWl0U3luYyhzeW5jLCAwLCAwKTtcbiAgICAgICAgICAgIGlmIChyZXMgPT09IGdsLldBSVRfRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXMgPT09IGdsLlRJTUVPVVRfRVhQSVJFRCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGVzdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQodGVzdCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQmFja2dyb3VuZEJsdXJTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIGJsdXJMZXZlbCkge1xuICAgIGNvbnN0IGJsdXJQYXNzID0gYnVpbGRCbHVyUGFzcyhnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIGJsdXJMZXZlbCk7XG4gICAgY29uc3QgYmxlbmRQYXNzID0gYnVpbGRCbGVuZFBhc3MoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgY2FudmFzKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGJsdXJQYXNzLnJlbmRlcigpO1xuICAgICAgICBibGVuZFBhc3MucmVuZGVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKSB7XG4gICAgICAgIGJsZW5kUGFzcy51cGRhdGVDb3ZlcmFnZShjb3ZlcmFnZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGJsZW5kUGFzcy5jbGVhblVwKCk7XG4gICAgICAgIGJsdXJQYXNzLmNsZWFuVXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICB1cGRhdGVDb3ZlcmFnZSxcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRCbHVyUGFzcyhnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIGJsdXJMZXZlbCkge1xuICAgIGNvbnN0IHNpZ21hID0gdHlwZW9mIGJsdXJMZXZlbCA9PT0gJ251bWJlcidcbiAgICAgICAgPyBibHVyTGV2ZWxcbiAgICAgICAgOiBibHVyTGV2ZWwgPT09ICdsb3cnXG4gICAgICAgICAgICA/IDJcbiAgICAgICAgICAgIDogYmx1ckxldmVsID09PSAnbWVkaXVtJ1xuICAgICAgICAgICAgICAgID8gNFxuICAgICAgICAgICAgICAgIDogNjtcbiAgICBjb25zdCB3aW5kb3dTaXplID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihzaWdtYSAqIDMpKTtcbiAgICBjb25zdCBvZmZzZXQgPSBuZXcgQXJyYXkod2luZG93U2l6ZSkuZmlsbCgwKS5tYXAoKHYsIGluZGV4KSA9PiBpbmRleCk7XG4gICAgY29uc3QgdmFyaWFuY2UgPSBzaWdtYSAqKiAyO1xuICAgIGNvbnN0IHdlaWdodHMgPSBvZmZzZXQubWFwKCh4KSA9PiB7XG4gICAgICAgIHZhciBtID0gc2lnbWEgKiBNYXRoLnNxcnQoMiAqIE1hdGguUEkpO1xuICAgICAgICB2YXIgZSA9IE1hdGguZXhwKC0oeCAqKiAyKSAvICgyICogdmFyaWFuY2UpKTtcbiAgICAgICAgcmV0dXJuIGUgLyBtO1xuICAgIH0pO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9wZXJzb25NYXNrO1xuICAgIHVuaWZvcm0gdmVjMiB1X3RleGVsU2l6ZTtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIGNvbnN0IGZsb2F0IG9mZnNldFske3dpbmRvd1NpemV9XSA9IGZsb2F0W10oJHtvZmZzZXQubWFwKChpKSA9PiBpLnRvRml4ZWQoMTApKS5qb2luKCcsICcpfSk7XG4gICAgY29uc3QgZmxvYXQgd2VpZ2h0WyR7d2luZG93U2l6ZX1dID0gZmxvYXRbXSgke3dlaWdodHMubWFwKChpKSA9PiBpLnRvRml4ZWQoMTApKS5qb2luKCcsICcpfSk7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWM0IGNlbnRlckNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpO1xuICAgICAgZmxvYXQgcGVyc29uTWFzayA9IHRleHR1cmUodV9wZXJzb25NYXNrLCB2X3RleENvb3JkKS5hO1xuXG4gICAgICB2ZWM0IGZyYW1lQ29sb3IgPSBjZW50ZXJDb2xvciAqIHdlaWdodFswXSAqICgxLjAgLSBwZXJzb25NYXNrKTtcblxuICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCAke3dpbmRvd1NpemV9OyBpKyspIHtcbiAgICAgICAgdmVjMiBvZmZzZXQgPSB2ZWMyKG9mZnNldFtpXSkgKiB1X3RleGVsU2l6ZTtcblxuICAgICAgICB2ZWMyIHRleENvb3JkID0gdl90ZXhDb29yZCArIG9mZnNldDtcbiAgICAgICAgZnJhbWVDb2xvciArPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdGV4Q29vcmQpXG4gICAgICAgICAgICogd2VpZ2h0W2ldXG4gICAgICAgICAgICogKDEuMCAtIHRleHR1cmUodV9wZXJzb25NYXNrLCB0ZXhDb29yZCkuYSk7XG5cbiAgICAgICAgdGV4Q29vcmQgPSB2X3RleENvb3JkIC0gb2Zmc2V0O1xuICAgICAgICBmcmFtZUNvbG9yICs9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB0ZXhDb29yZClcbiAgICAgICAgICAqIHdlaWdodFtpXVxuICAgICAgICAgICogKDEuMCAtIHRleHR1cmUodV9wZXJzb25NYXNrLCB0ZXhDb29yZCkuYSk7XG4gICAgICB9XG4gICAgICBvdXRDb2xvciA9IHZlYzQoZnJhbWVDb2xvci5yZ2IgKyAoMS4wIC0gZnJhbWVDb2xvci5hKSAqIGNlbnRlckNvbG9yLnJnYiwgMS4wKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3Qgc2NhbGUgPSAwLjU7XG4gICAgY29uc3Qgb3V0cHV0V2lkdGggPSBjYW52YXMud2lkdGggKiBzY2FsZTtcbiAgICBjb25zdCBvdXRwdXRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0ICogc2NhbGU7XG4gICAgY29uc3QgdGV4ZWxXaWR0aCA9IDEgLyBvdXRwdXRXaWR0aDtcbiAgICBjb25zdCB0ZXhlbEhlaWdodCA9IDEgLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBwZXJzb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGVyc29uTWFzaycpO1xuICAgIGNvbnN0IHRleGVsU2l6ZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3RleGVsU2l6ZScpO1xuICAgIGNvbnN0IHRleHR1cmUxID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLk5FQVJFU1QsIFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIGluY29tcGxldGVcbiAgICBnbC5MSU5FQVIpO1xuICAgIGNvbnN0IHRleHR1cmUyID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLk5FQVJFU1QsIFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIGluY29tcGxldGVcbiAgICBnbC5MSU5FQVIpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyMSA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjEpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTEsIDApO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyMiA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTIsIDApO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKHBlcnNvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBwZXJzb25NYXNrVGV4dHVyZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmYodGV4ZWxTaXplTG9jYXRpb24sIDAsIHRleGVsSGVpZ2h0KTtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIxKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMik7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlMSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAyKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZih0ZXhlbFNpemVMb2NhdGlvbiwgdGV4ZWxXaWR0aCwgMCk7XG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyMik7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcjIpO1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcjEpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUyKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlMSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRCbGVuZFBhc3MoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgY2FudmFzKSB7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBpbiB2ZWMyIGFfcG9zaXRpb247XG4gICAgaW4gdmVjMiBhX3RleENvb3JkO1xuXG4gICAgb3V0IHZlYzIgdl90ZXhDb29yZDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIC8vIEZsaXBwaW5nIFkgaXMgcmVxdWlyZWQgd2hlbiByZW5kZXJpbmcgdG8gY2FudmFzXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYV9wb3NpdGlvbiAqIHZlYzIoMS4wLCAtMS4wKSwgMC4wLCAxLjApO1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9wZXJzb25NYXNrO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfYmx1cnJlZElucHV0RnJhbWU7XG4gICAgdW5pZm9ybSB2ZWMyIHVfY292ZXJhZ2U7XG5cbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG5cbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzMgY29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdl90ZXhDb29yZCkucmdiO1xuICAgICAgdmVjMyBibHVycmVkQ29sb3IgPSB0ZXh0dXJlKHVfYmx1cnJlZElucHV0RnJhbWUsIHZfdGV4Q29vcmQpLnJnYjtcbiAgICAgIGZsb2F0IHBlcnNvbk1hc2sgPSB0ZXh0dXJlKHVfcGVyc29uTWFzaywgdl90ZXhDb29yZCkuYTtcbiAgICAgIHBlcnNvbk1hc2sgPSBzbW9vdGhzdGVwKHVfY292ZXJhZ2UueCwgdV9jb3ZlcmFnZS55LCBwZXJzb25NYXNrKTtcbiAgICAgIG91dENvbG9yID0gdmVjNChtaXgoYmx1cnJlZENvbG9yLCBjb2xvciwgcGVyc29uTWFzayksIDEuMCk7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gY2FudmFzO1xuICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBwZXJzb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGVyc29uTWFzaycpO1xuICAgIGNvbnN0IGJsdXJyZWRJbnB1dEZyYW1lID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JsdXJyZWRJbnB1dEZyYW1lJyk7XG4gICAgY29uc3QgY292ZXJhZ2VMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9jb3ZlcmFnZScpO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHBlcnNvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZ2wudW5pZm9ybTFpKGJsdXJyZWRJbnB1dEZyYW1lLCAyKTtcbiAgICBnbC51bmlmb3JtMmYoY292ZXJhZ2VMb2NhdGlvbiwgMCwgMSk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCBjb3ZlcmFnZVswXSwgY292ZXJhZ2VbMV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICB1cGRhdGVDb3ZlcmFnZSxcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZEJhY2tncm91bmRJbWFnZVN0YWdlKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBiYWNrZ3JvdW5kSW1hZ2UsIGNhbnZhcykge1xuICAgIGNvbnN0IHZlcnRleFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgdW5pZm9ybSB2ZWMyIHVfYmFja2dyb3VuZFNjYWxlO1xuICAgIHVuaWZvcm0gdmVjMiB1X2JhY2tncm91bmRPZmZzZXQ7XG5cbiAgICBpbiB2ZWMyIGFfcG9zaXRpb247XG4gICAgaW4gdmVjMiBhX3RleENvb3JkO1xuXG4gICAgb3V0IHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjMiB2X2JhY2tncm91bmRDb29yZDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIC8vIEZsaXBwaW5nIFkgaXMgcmVxdWlyZWQgd2hlbiByZW5kZXJpbmcgdG8gY2FudmFzXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYV9wb3NpdGlvbiAqIHZlYzIoMS4wLCAtMS4wKSwgMC4wLCAxLjApO1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgICB2X2JhY2tncm91bmRDb29yZCA9IGFfdGV4Q29vcmQgKiB1X2JhY2tncm91bmRTY2FsZSArIHVfYmFja2dyb3VuZE9mZnNldDtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3BlcnNvbk1hc2s7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9iYWNrZ3JvdW5kO1xuICAgIHVuaWZvcm0gdmVjMiB1X2NvdmVyYWdlO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9saWdodFdyYXBwaW5nO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9ibGVuZE1vZGU7XG5cbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgaW4gdmVjMiB2X2JhY2tncm91bmRDb29yZDtcblxuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdmVjMyBzY3JlZW4odmVjMyBhLCB2ZWMzIGIpIHtcbiAgICAgIHJldHVybiAxLjAgLSAoMS4wIC0gYSkgKiAoMS4wIC0gYik7XG4gICAgfVxuXG4gICAgdmVjMyBsaW5lYXJEb2RnZSh2ZWMzIGEsIHZlYzMgYikge1xuICAgICAgcmV0dXJuIGEgKyBiO1xuICAgIH1cblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzMgZnJhbWVDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB2X3RleENvb3JkKS5yZ2I7XG4gICAgICB2ZWMzIGJhY2tncm91bmRDb2xvciA9IHRleHR1cmUodV9iYWNrZ3JvdW5kLCB2X2JhY2tncm91bmRDb29yZCkucmdiO1xuICAgICAgZmxvYXQgcGVyc29uTWFzayA9IHRleHR1cmUodV9wZXJzb25NYXNrLCB2X3RleENvb3JkKS5hO1xuICAgICAgZmxvYXQgbGlnaHRXcmFwTWFzayA9IDEuMCAtIG1heCgwLjAsIHBlcnNvbk1hc2sgLSB1X2NvdmVyYWdlLnkpIC8gKDEuMCAtIHVfY292ZXJhZ2UueSk7XG4gICAgICB2ZWMzIGxpZ2h0V3JhcCA9IHVfbGlnaHRXcmFwcGluZyAqIGxpZ2h0V3JhcE1hc2sgKiBiYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICAgIGZyYW1lQ29sb3IgPSB1X2JsZW5kTW9kZSAqIGxpbmVhckRvZGdlKGZyYW1lQ29sb3IsIGxpZ2h0V3JhcClcbiAgICAgICAgKyAoMS4wIC0gdV9ibGVuZE1vZGUpICogc2NyZWVuKGZyYW1lQ29sb3IsIGxpZ2h0V3JhcCk7XG4gICAgICBwZXJzb25NYXNrID0gc21vb3Roc3RlcCh1X2NvdmVyYWdlLngsIHVfY292ZXJhZ2UueSwgcGVyc29uTWFzayk7XG4gICAgICBvdXRDb2xvciA9IHZlYzQoZnJhbWVDb2xvciAqIHBlcnNvbk1hc2sgKyBiYWNrZ3JvdW5kQ29sb3IgKiAoMS4wIC0gcGVyc29uTWFzayksIDEuMCk7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gY2FudmFzO1xuICAgIGNvbnN0IG91dHB1dFJhdGlvID0gb3V0cHV0V2lkdGggLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kU2NhbGVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9iYWNrZ3JvdW5kU2NhbGUnKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kT2Zmc2V0TG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmFja2dyb3VuZE9mZnNldCcpO1xuICAgIGNvbnN0IGlucHV0RnJhbWVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dEZyYW1lJyk7XG4gICAgY29uc3QgcGVyc29uTWFza0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3BlcnNvbk1hc2snKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmFja2dyb3VuZCcpO1xuICAgIGNvbnN0IGNvdmVyYWdlTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY292ZXJhZ2UnKTtcbiAgICBjb25zdCBsaWdodFdyYXBwaW5nTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfbGlnaHRXcmFwcGluZycpO1xuICAgIGNvbnN0IGJsZW5kTW9kZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JsZW5kTW9kZScpO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTJmKGJhY2tncm91bmRTY2FsZUxvY2F0aW9uLCAxLCAxKTtcbiAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZE9mZnNldExvY2F0aW9uLCAwLCAwKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWkocGVyc29uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBnbC51bmlmb3JtMmYoY292ZXJhZ2VMb2NhdGlvbiwgMCwgMSk7XG4gICAgZ2wudW5pZm9ybTFmKGxpZ2h0V3JhcHBpbmdMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFmKGJsZW5kTW9kZUxvY2F0aW9uLCAwKTtcbiAgICBsZXQgYmFja2dyb3VuZFRleHR1cmUgPSBudWxsO1xuICAgIC8vIFRPRE8gRmluZCBhIGJldHRlciB0byBoYW5kbGUgYmFja2dyb3VuZCBiZWluZyBsb2FkZWRcbiAgICBpZiAoYmFja2dyb3VuZEltYWdlPy5jb21wbGV0ZSkge1xuICAgICAgICB1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoYmFja2dyb3VuZEltYWdlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoYmFja2dyb3VuZEltYWdlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHBlcnNvbk1hc2tUZXh0dXJlKTtcbiAgICAgICAgaWYgKGJhY2tncm91bmRUZXh0dXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUyKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGJhY2tncm91bmRUZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIFRPRE8gSGFuZGxlIGNvcnJlY3RseSB0aGUgYmFja2dyb3VuZCBub3QgbG9hZGVkIHlldFxuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGJhY2tncm91bmRMb2NhdGlvbiwgMik7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUJhY2tncm91bmRJbWFnZShiZ0ltYWdlKSB7XG4gICAgICAgIGJhY2tncm91bmRUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIGJnSW1hZ2UubmF0dXJhbFdpZHRoLCBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQsIFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGVzIGFyZSBpbmNvbXBsZXRlXG4gICAgICAgIGdsLkxJTkVBUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiZ0ltYWdlLm5hdHVyYWxXaWR0aCwgYmdJbWFnZS5uYXR1cmFsSGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBiZ0ltYWdlKTtcbiAgICAgICAgbGV0IHhPZmZzZXQgPSAwO1xuICAgICAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgICAgIGxldCBiYWNrZ3JvdW5kV2lkdGggPSBiZ0ltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgbGV0IGJhY2tncm91bmRIZWlnaHQgPSBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRSYXRpbyA9IGJhY2tncm91bmRXaWR0aCAvIGJhY2tncm91bmRIZWlnaHQ7XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kUmF0aW8gPCBvdXRwdXRSYXRpbykge1xuICAgICAgICAgICAgYmFja2dyb3VuZEhlaWdodCA9IGJhY2tncm91bmRXaWR0aCAvIG91dHB1dFJhdGlvO1xuICAgICAgICAgICAgeU9mZnNldCA9IChiZ0ltYWdlLm5hdHVyYWxIZWlnaHQgLSBiYWNrZ3JvdW5kSGVpZ2h0KSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kV2lkdGggPSBiYWNrZ3JvdW5kSGVpZ2h0ICogb3V0cHV0UmF0aW87XG4gICAgICAgICAgICB4T2Zmc2V0ID0gKGJnSW1hZ2UubmF0dXJhbFdpZHRoIC0gYmFja2dyb3VuZFdpZHRoKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeFNjYWxlID0gYmFja2dyb3VuZFdpZHRoIC8gYmdJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIGNvbnN0IHlTY2FsZSA9IGJhY2tncm91bmRIZWlnaHQgLyBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIHhPZmZzZXQgLz0gYmdJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIHlPZmZzZXQgLz0gYmdJbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZFNjYWxlTG9jYXRpb24sIHhTY2FsZSwgeVNjYWxlKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGJhY2tncm91bmRPZmZzZXRMb2NhdGlvbiwgeE9mZnNldCwgeU9mZnNldCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCBjb3ZlcmFnZVswXSwgY292ZXJhZ2VbMV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVMaWdodFdyYXBwaW5nKGxpZ2h0V3JhcHBpbmcpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGxpZ2h0V3JhcHBpbmdMb2NhdGlvbiwgbGlnaHRXcmFwcGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUJsZW5kTW9kZShibGVuZE1vZGUpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGJsZW5kTW9kZUxvY2F0aW9uLCBibGVuZE1vZGUgPT09ICdzY3JlZW4nID8gMCA6IDEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKGJhY2tncm91bmRUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgdXBkYXRlQ292ZXJhZ2UsXG4gICAgICAgIHVwZGF0ZUxpZ2h0V3JhcHBpbmcsXG4gICAgICAgIHVwZGF0ZUJsZW5kTW9kZSxcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZEpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBpbnB1dFRleHR1cmUsIG91dHB1dFRleHR1cmUsIGNhbnZhcywgc2VnbWVudGF0aW9uQ29uZmlnKSB7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3NlZ21lbnRhdGlvbk1hc2s7XG4gICAgdW5pZm9ybSB2ZWMyIHVfdGV4ZWxTaXplO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9zdGVwO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7XG4gICAgdW5pZm9ybSBmbG9hdCB1X29mZnNldDtcbiAgICB1bmlmb3JtIGZsb2F0IHVfc2lnbWFUZXhlbDtcbiAgICB1bmlmb3JtIGZsb2F0IHVfc2lnbWFDb2xvcjtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIGZsb2F0IGdhdXNzaWFuKGZsb2F0IHgsIGZsb2F0IHNpZ21hKSB7XG4gICAgICBmbG9hdCBjb2VmZiA9IC0wLjUgLyAoc2lnbWEgKiBzaWdtYSAqIDQuMCArIDEuMGUtNik7XG4gICAgICByZXR1cm4gZXhwKCh4ICogeCkgKiBjb2VmZik7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMiBjZW50ZXJDb29yZCA9IHZfdGV4Q29vcmQ7XG4gICAgICB2ZWMzIGNlbnRlckNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIGNlbnRlckNvb3JkKS5yZ2I7XG4gICAgICBmbG9hdCBuZXdWYWwgPSAwLjA7XG5cbiAgICAgIGZsb2F0IHNwYWNlV2VpZ2h0ID0gMC4wO1xuICAgICAgZmxvYXQgY29sb3JXZWlnaHQgPSAwLjA7XG4gICAgICBmbG9hdCB0b3RhbFdlaWdodCA9IDAuMDtcblxuICAgICAgLy8gU3Vic2FtcGxlIGtlcm5lbCBzcGFjZS5cbiAgICAgIGZvciAoZmxvYXQgaSA9IC11X3JhZGl1cyArIHVfb2Zmc2V0OyBpIDw9IHVfcmFkaXVzOyBpICs9IHVfc3RlcCkge1xuICAgICAgICBmb3IgKGZsb2F0IGogPSAtdV9yYWRpdXMgKyB1X29mZnNldDsgaiA8PSB1X3JhZGl1czsgaiArPSB1X3N0ZXApIHtcbiAgICAgICAgICB2ZWMyIHNoaWZ0ID0gdmVjMihqLCBpKSAqIHVfdGV4ZWxTaXplO1xuICAgICAgICAgIHZlYzIgY29vcmQgPSB2ZWMyKGNlbnRlckNvb3JkICsgc2hpZnQpO1xuICAgICAgICAgIHZlYzMgZnJhbWVDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCBjb29yZCkucmdiO1xuICAgICAgICAgIGZsb2F0IG91dFZhbCA9IHRleHR1cmUodV9zZWdtZW50YXRpb25NYXNrLCBjb29yZCkuYTtcblxuICAgICAgICAgIHNwYWNlV2VpZ2h0ID0gZ2F1c3NpYW4oZGlzdGFuY2UoY2VudGVyQ29vcmQsIGNvb3JkKSwgdV9zaWdtYVRleGVsKTtcbiAgICAgICAgICBjb2xvcldlaWdodCA9IGdhdXNzaWFuKGRpc3RhbmNlKGNlbnRlckNvbG9yLCBmcmFtZUNvbG9yKSwgdV9zaWdtYUNvbG9yKTtcbiAgICAgICAgICB0b3RhbFdlaWdodCArPSBzcGFjZVdlaWdodCAqIGNvbG9yV2VpZ2h0O1xuXG4gICAgICAgICAgbmV3VmFsICs9IHNwYWNlV2VpZ2h0ICogY29sb3JXZWlnaHQgKiBvdXRWYWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5ld1ZhbCAvPSB0b3RhbFdlaWdodDtcblxuICAgICAgb3V0Q29sb3IgPSB2ZWM0KHZlYzMoMC4wKSwgbmV3VmFsKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgeyB3aWR0aDogc2VnbWVudGF0aW9uV2lkdGgsIGhlaWdodDogc2VnbWVudGF0aW9uSGVpZ2h0IH0gPSBzZWdtZW50YXRpb25Db25maWc7XG4gICAgY29uc3QgeyB3aWR0aDogb3V0cHV0V2lkdGgsIGhlaWdodDogb3V0cHV0SGVpZ2h0IH0gPSBjYW52YXM7XG4gICAgY29uc3QgdGV4ZWxXaWR0aCA9IDEgLyBvdXRwdXRXaWR0aDtcbiAgICBjb25zdCB0ZXhlbEhlaWdodCA9IDEgLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBzZWdtZW50YXRpb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc2VnbWVudGF0aW9uTWFzaycpO1xuICAgIGNvbnN0IHRleGVsU2l6ZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3RleGVsU2l6ZScpO1xuICAgIGNvbnN0IHN0ZXBMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9zdGVwJyk7XG4gICAgY29uc3QgcmFkaXVzTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcmFkaXVzJyk7XG4gICAgY29uc3Qgb2Zmc2V0TG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfb2Zmc2V0Jyk7XG4gICAgY29uc3Qgc2lnbWFUZXhlbExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3NpZ21hVGV4ZWwnKTtcbiAgICBjb25zdCBzaWdtYUNvbG9yTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc2lnbWFDb2xvcicpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIG91dHB1dFRleHR1cmUsIDApO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHNlZ21lbnRhdGlvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZ2wudW5pZm9ybTJmKHRleGVsU2l6ZUxvY2F0aW9uLCB0ZXhlbFdpZHRoLCB0ZXhlbEhlaWdodCk7XG4gICAgLy8gRW5zdXJlcyBkZWZhdWx0IHZhbHVlcyBhcmUgY29uZmlndXJlZCB0byBwcmV2ZW50IGluZmluaXRlXG4gICAgLy8gbG9vcCBpbiBmcmFnbWVudCBzaGFkZXJcbiAgICB1cGRhdGVTaWdtYVNwYWNlKDApO1xuICAgIHVwZGF0ZVNpZ21hQ29sb3IoMCk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU2lnbWFTcGFjZShzaWdtYVNwYWNlKSB7XG4gICAgICAgIHNpZ21hU3BhY2UgKj0gTWF0aC5tYXgob3V0cHV0V2lkdGggLyBzZWdtZW50YXRpb25XaWR0aCwgb3V0cHV0SGVpZ2h0IC8gc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICAgICAgY29uc3Qga1NwYXJzaXR5RmFjdG9yID0gMC42NjsgLy8gSGlnaGVyIGlzIHNwYXJzZXIuXG4gICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLm1heCgxLCBNYXRoLnNxcnQoc2lnbWFTcGFjZSkgKiBrU3BhcnNpdHlGYWN0b3IpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBzaWdtYVNwYWNlO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBzdGVwID4gMSA/IHN0ZXAgKiAwLjUgOiAwO1xuICAgICAgICBjb25zdCBzaWdtYVRleGVsID0gTWF0aC5tYXgodGV4ZWxXaWR0aCwgdGV4ZWxIZWlnaHQpICogc2lnbWFTcGFjZTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHN0ZXBMb2NhdGlvbiwgc3RlcCk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihyYWRpdXNMb2NhdGlvbiwgcmFkaXVzKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKG9mZnNldExvY2F0aW9uLCBvZmZzZXQpO1xuICAgICAgICBnbC51bmlmb3JtMWYoc2lnbWFUZXhlbExvY2F0aW9uLCBzaWdtYVRleGVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU2lnbWFDb2xvcihzaWdtYUNvbG9yKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihzaWdtYUNvbG9yTG9jYXRpb24sIHNpZ21hQ29sb3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgdXBkYXRlU2lnbWFTcGFjZSwgdXBkYXRlU2lnbWFDb2xvciwgY2xlYW5VcCB9O1xufVxuXG5mdW5jdGlvbiBidWlsZFJlc2l6aW5nU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvbkNvbmZpZywgb25FcnJvcikge1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIG91dENvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpO1xuICAgIH1cbiAgYDtcbiAgICAvLyBURkxpdGUgbWVtb3J5IHdpbGwgYmUgYWNjZXNzZWQgYXMgZmxvYXQzMlxuICAgIGNvbnN0IHRmbGl0ZUlucHV0TWVtb3J5T2Zmc2V0ID0gdGZsaXRlLl9nZXRJbnB1dE1lbW9yeU9mZnNldCgpIC8gNDtcbiAgICBjb25zdCB7IHdpZHRoOiBvdXRwdXRXaWR0aCwgaGVpZ2h0OiBvdXRwdXRIZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCBvdXRwdXRQaXhlbENvdW50ID0gb3V0cHV0V2lkdGggKiBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBvdXRwdXRUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIG91dHB1dFRleHR1cmUsIDApO1xuICAgIGNvbnN0IG91dHB1dFBpeGVscyA9IG5ldyBVaW50OEFycmF5KG91dHB1dFBpeGVsQ291bnQgKiA0KTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDApO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgLy8gRG93bmxvYWRzIHBpeGVscyBhc3luY2hyb25vdXNseSBmcm9tIEdQVSB3aGlsZSByZW5kZXJpbmcgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgIC8vIFRoZSBwaXhlbHMgd2lsbCBiZSBhdmFpbGFibGUgaW4gdGhlIG5leHQgZnJhbWUgcmVuZGVyIHdoaWNoIHJlc3VsdHNcbiAgICAgICAgLy8gaW4gb2Zmc2V0cyBpbiB0aGUgc2VnbWVudGF0aW9uIG91dHB1dCBidXQgaW5jcmVhc2VzIHRoZSBmcmFtZSByYXRlLlxuICAgICAgICByZWFkUGl4ZWxzQXN5bmMoZ2wsIDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG91dHB1dFBpeGVscykuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dFBpeGVsQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGZsaXRlSW5kZXggPSB0ZmxpdGVJbnB1dE1lbW9yeU9mZnNldCArIGkgKiAzO1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0SW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIHRmbGl0ZS5IRUFQRjMyW3RmbGl0ZUluZGV4XSA9IG91dHB1dFBpeGVsc1tvdXRwdXRJbmRleF0gLyAyNTU7XG4gICAgICAgICAgICB0ZmxpdGUuSEVBUEYzMlt0ZmxpdGVJbmRleCArIDFdID0gb3V0cHV0UGl4ZWxzW291dHB1dEluZGV4ICsgMV0gLyAyNTU7XG4gICAgICAgICAgICB0ZmxpdGUuSEVBUEYzMlt0ZmxpdGVJbmRleCArIDJdID0gb3V0cHV0UGl4ZWxzW291dHB1dEluZGV4ICsgMl0gLyAyNTU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKG91dHB1dFRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4geyByZW5kZXIsIGNsZWFuVXAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRTb2Z0bWF4U3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIG91dHB1dFRleHR1cmUsIHNlZ21lbnRhdGlvbkNvbmZpZykge1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0U2VnbWVudGF0aW9uO1xuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzIgc2VnbWVudGF0aW9uID0gdGV4dHVyZSh1X2lucHV0U2VnbWVudGF0aW9uLCB2X3RleENvb3JkKS5yZztcbiAgICAgIGZsb2F0IHNoaWZ0ID0gbWF4KHNlZ21lbnRhdGlvbi5yLCBzZWdtZW50YXRpb24uZyk7XG4gICAgICBmbG9hdCBiYWNrZ3JvdW5kRXhwID0gZXhwKHNlZ21lbnRhdGlvbi5yIC0gc2hpZnQpO1xuICAgICAgZmxvYXQgcGVyc29uRXhwID0gZXhwKHNlZ21lbnRhdGlvbi5nIC0gc2hpZnQpO1xuICAgICAgb3V0Q29sb3IgPSB2ZWM0KHZlYzMoMC4wKSwgcGVyc29uRXhwIC8gKGJhY2tncm91bmRFeHAgKyBwZXJzb25FeHApKTtcbiAgICB9XG4gIGA7XG4gICAgLy8gVEZMaXRlIG1lbW9yeSB3aWxsIGJlIGFjY2Vzc2VkIGFzIGZsb2F0MzJcbiAgICBjb25zdCB0ZmxpdGVPdXRwdXRNZW1vcnlPZmZzZXQgPSB0ZmxpdGUuX2dldE91dHB1dE1lbW9yeU9mZnNldCgpIC8gNDtcbiAgICBjb25zdCB7IHdpZHRoOiBzZWdtZW50YXRpb25XaWR0aCwgaGVpZ2h0OiBzZWdtZW50YXRpb25IZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0U2VnbWVudGF0aW9uJyk7XG4gICAgY29uc3QgaW5wdXRUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkczMkYsIHNlZ21lbnRhdGlvbldpZHRoLCBzZWdtZW50YXRpb25IZWlnaHQpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIG91dHB1dFRleHR1cmUsIDApO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0TG9jYXRpb24sIDEpO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dFRleHR1cmUpO1xuICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHNlZ21lbnRhdGlvbldpZHRoLCBzZWdtZW50YXRpb25IZWlnaHQsIGdsLlJHLCBnbC5GTE9BVCwgdGZsaXRlLkhFQVBGMzIsIHRmbGl0ZU91dHB1dE1lbW9yeU9mZnNldCk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKGlucHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgY2xlYW5VcCB9O1xufVxuXG5mdW5jdGlvbiBidWlsZFdlYkdMMlBpcGVsaW5lKHZpZGVvU291cmNlLCBiYWNrZ3JvdW5kSW1hZ2UsIGJsdXJMZXZlbCwgYmFja2dyb3VuZEZpbHRlciwgY2FudmFzLCB0ZmxpdGUsIHNlZ21lbnRhdGlvbkNvbmZpZywgb25FcnJvcikge1xuICAgIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicpO1xuICAgIGlmICghZ2wpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMMiBjb250ZXh0IHdhcyBsb3N0Jyk7XG4gICAgY29uc3QgeyB3aWR0aDogZnJhbWVXaWR0aCwgaGVpZ2h0OiBmcmFtZUhlaWdodCB9ID0gdmlkZW9Tb3VyY2U7XG4gICAgY29uc3QgeyB3aWR0aDogc2VnbWVudGF0aW9uV2lkdGgsIGhlaWdodDogc2VnbWVudGF0aW9uSGVpZ2h0IH0gPSBzZWdtZW50YXRpb25Db25maWc7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBpbiB2ZWMyIGFfcG9zaXRpb247XG4gICAgaW4gdmVjMiBhX3RleENvb3JkO1xuICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQ7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYV9wb3NpdGlvbiwgMC4wLCAxLjApO1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgdmVydGV4QXJyYXkgPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xuICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2ZXJ0ZXhBcnJheSk7XG4gICAgY29uc3QgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFstMS4wLCAtMS4wLCAxLjAsIC0xLjAsIC0xLjAsIDEuMCwgMS4wLCAxLjBdKSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIGNvbnN0IHRleENvb3JkQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDEuMCwgMS4wLCAxLjBdKSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgIC8vIFdlIGRvbid0IHVzZSB0ZXhTdG9yYWdlMkQgaGVyZSBiZWNhdXNlIHRleEltYWdlMkQgc2VlbXMgZmFzdGVyXG4gICAgLy8gdG8gdXBsb2FkIHZpZGVvIHRleHR1cmUgdGhhbiB0ZXhTdWJJbWFnZTJEIGV2ZW4gdGhvdWdoIHRoZSBsYXR0ZXJcbiAgICAvLyBpcyBzdXBwb3NlZCB0byBiZSB0aGUgcmVjb21tZW5kZWQgd2F5OlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTF9BUEkvV2ViR0xfYmVzdF9wcmFjdGljZXMjdXNlX3RleHN0b3JhZ2VfdG9fY3JlYXRlX3RleHR1cmVzXG4gICAgY29uc3QgaW5wdXRGcmFtZVRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRGcmFtZVRleHR1cmUpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgLy8gVE9ETyBSZW5hbWUgc2VnbWVudGF0aW9uIGFuZCBwZXJzb24gbWFzayB0byBiZSBtb3JlIHNwZWNpZmljXG4gICAgY29uc3Qgc2VnbWVudGF0aW9uVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHQkE4LCBzZWdtZW50YXRpb25XaWR0aCwgc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICBjb25zdCBwZXJzb25NYXNrVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHQkE4LCBmcmFtZVdpZHRoLCBmcmFtZUhlaWdodCk7XG4gICAgY29uc3QgcmVzaXppbmdTdGFnZSA9IGJ1aWxkUmVzaXppbmdTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHRmbGl0ZSwgc2VnbWVudGF0aW9uQ29uZmlnKTtcbiAgICBjb25zdCBsb2FkU2VnbWVudGF0aW9uU3RhZ2UgPSBidWlsZFNvZnRtYXhTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHRmbGl0ZSwgc2VnbWVudGF0aW9uVGV4dHVyZSwgc2VnbWVudGF0aW9uQ29uZmlnKTtcbiAgICBjb25zdCBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlID0gYnVpbGRKb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgc2VnbWVudGF0aW9uVGV4dHVyZSwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgc2VnbWVudGF0aW9uQ29uZmlnKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kU3RhZ2UgPSBiYWNrZ3JvdW5kRmlsdGVyID09PSAnYmx1cidcbiAgICAgICAgPyBidWlsZEJhY2tncm91bmRCbHVyU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBibHVyTGV2ZWwgfHwgJ2hpZ2gnKVxuICAgICAgICA6IGJ1aWxkQmFja2dyb3VuZEltYWdlU3RhZ2UoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGJhY2tncm91bmRJbWFnZSwgY2FudmFzKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dEZyYW1lVGV4dHVyZSk7XG4gICAgICAgIC8vIHRleEltYWdlMkQgc2VlbXMgZmFzdGVyIHRoYW4gdGV4U3ViSW1hZ2UyRCB0byB1cGxvYWRcbiAgICAgICAgLy8gdmlkZW8gdGV4dHVyZVxuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHZpZGVvU291cmNlKTtcbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZlcnRleEFycmF5KTtcbiAgICAgICAgcmVzaXppbmdTdGFnZS5yZW5kZXIoKTtcbiAgICAgICAgdGZsaXRlLl9ydW5JbmZlcmVuY2UoKTtcbiAgICAgICAgbG9hZFNlZ21lbnRhdGlvblN0YWdlLnJlbmRlcigpO1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnJlbmRlcigpO1xuICAgICAgICBiYWNrZ3JvdW5kU3RhZ2UucmVuZGVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVBvc3RQcm9jZXNzaW5nQ29uZmlnKCkge1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnVwZGF0ZVNpZ21hU3BhY2UoMSk7XG4gICAgICAgIGpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UudXBkYXRlU2lnbWFDb2xvcigwLjEpO1xuICAgICAgICBpZiAoYmFja2dyb3VuZEZpbHRlciA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlU3RhZ2UgPSBiYWNrZ3JvdW5kU3RhZ2U7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VTdGFnZS51cGRhdGVDb3ZlcmFnZShbMC41LCAwLjc1XSk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VTdGFnZS51cGRhdGVMaWdodFdyYXBwaW5nKDAuMyk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VTdGFnZS51cGRhdGVCbGVuZE1vZGUoJ3NjcmVlbicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdibHVyJykge1xuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEJsdXJTdGFnZSA9IGJhY2tncm91bmRTdGFnZTtcbiAgICAgICAgICAgIGJhY2tncm91bmRCbHVyU3RhZ2UudXBkYXRlQ292ZXJhZ2UoWzAuNSwgMC43NV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyBIYW5kbGUgbm8gYmFja2dyb3VuZCBpbiBhIHNlcGFyYXRlIHBpcGVsaW5lIHBhdGhcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZVN0YWdlID0gYmFja2dyb3VuZFN0YWdlO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlQ292ZXJhZ2UoWzAsIDAuOTk5OV0pO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlTGlnaHRXcmFwcGluZygwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBiYWNrZ3JvdW5kU3RhZ2UuY2xlYW5VcCgpO1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLmNsZWFuVXAoKTtcbiAgICAgICAgbG9hZFNlZ21lbnRhdGlvblN0YWdlLmNsZWFuVXAoKTtcbiAgICAgICAgcmVzaXppbmdTdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUocGVyc29uTWFza1RleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHNlZ21lbnRhdGlvblRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKGlucHV0RnJhbWVUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHRleENvb3JkQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHBvc2l0aW9uQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkodmVydGV4QXJyYXkpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyLCB1cGRhdGVQb3N0UHJvY2Vzc2luZ0NvbmZpZywgY2xlYW5VcCB9O1xufVxuXG52YXIgU2VnbWVudGF0aW9uTGV2ZWw7XG4oZnVuY3Rpb24gKFNlZ21lbnRhdGlvbkxldmVsKSB7XG4gICAgU2VnbWVudGF0aW9uTGV2ZWxbXCJMT1dcIl0gPSBcImxvd1wiO1xuICAgIFNlZ21lbnRhdGlvbkxldmVsW1wiSElHSFwiXSA9IFwiaGlnaFwiO1xufSkoU2VnbWVudGF0aW9uTGV2ZWwgfHwgKFNlZ21lbnRhdGlvbkxldmVsID0ge30pKTtcbmNvbnN0IGdldFNlZ21lbnRhdGlvblBhcmFtcyA9IChsZXZlbCkgPT4ge1xuICAgIGlmIChsZXZlbCA9PT0gU2VnbWVudGF0aW9uTGV2ZWwuSElHSCkge1xuICAgICAgICByZXR1cm4geyB3aWR0aDogMjU2LCBoZWlnaHQ6IDE0NCB9O1xuICAgIH1cbiAgICByZXR1cm4geyB3aWR0aDogMTYwLCBoZWlnaHQ6IDk2IH07XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcih0ZmxpdGUsIHZpZGVvU291cmNlLCB0YXJnZXRDYW52YXMsIG9wdGlvbnMsIG9uRXJyb3IpIHtcbiAgICBjb25zdCB7IGJhY2tncm91bmRGaWx0ZXIsIGJhY2tncm91bmRJbWFnZSwgYmFja2dyb3VuZEJsdXJMZXZlbCwgc2VnbWVudGF0aW9uTGV2ZWwgPSBTZWdtZW50YXRpb25MZXZlbC5ISUdILCBmcHMgPSAzMCwgfSA9IG9wdGlvbnM7XG4gICAgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdpbWFnZScgJiYgIWJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGJhY2tncm91bmRJbWFnZSBlbGVtZW50IGlzIHJlcXVpcmVkIHdoZW4gYmFja2dyb3VuZEZpbHRlciBpcyBpbWFnZWApO1xuICAgIH1cbiAgICBjb25zdCBwaXBlbGluZSA9IGJ1aWxkV2ViR0wyUGlwZWxpbmUodmlkZW9Tb3VyY2UsIGJhY2tncm91bmRJbWFnZSwgYmFja2dyb3VuZEJsdXJMZXZlbCwgYmFja2dyb3VuZEZpbHRlciwgdGFyZ2V0Q2FudmFzLCB0ZmxpdGUsIGdldFNlZ21lbnRhdGlvblBhcmFtcyhzZWdtZW50YXRpb25MZXZlbCkpO1xuICAgIGNvbnN0IGlkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGlwZWxpbmUucmVuZGVyKCk7XG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZEZpbHRlciA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgIHBpcGVsaW5lLnVwZGF0ZVBvc3RQcm9jZXNzaW5nQ29uZmlnKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBvbkVycm9yPy4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSwgMTAwMCAvIChmcHMgPD0gMCA/IDMwIDogZnBzKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgcGlwZWxpbmUuY2xlYW5VcCgpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuY29uc3QgY3JlYXRlVEZMaXRlU0lNRE1vZHVsZSA9IChfX01vZHVsZSkgPT4ge1xuICBfX01vZHVsZSA9IF9fTW9kdWxlIHx8IHt9O1xuXG4gIHZhciBfc2NyaXB0RGlyID1cbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHRcbiAgICAgID8gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gIHZhciBNb2R1bGUgPSB0eXBlb2YgX19Nb2R1bGUgIT0gJ3VuZGVmaW5lZCcgPyBfX01vZHVsZSA6IHt9O1xuICB2YXIgcmVhZHlQcm9taXNlUmVzb2x2ZSwgcmVhZHlQcm9taXNlUmVqZWN0O1xuICBNb2R1bGVbJ3JlYWR5J10gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVhZHlQcm9taXNlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgcmVhZHlQcm9taXNlUmVqZWN0ID0gcmVqZWN0O1xuICB9KTtcbiAgdmFyIG1vZHVsZU92ZXJyaWRlcyA9IE9iamVjdC5hc3NpZ24oe30sIE1vZHVsZSk7XG4gIHZhciB0aGlzUHJvZ3JhbSA9ICcuL3RoaXMucHJvZ3JhbSc7XG4gIHZhciBxdWl0XyA9IChzdGF0dXMsIHRvVGhyb3cpID0+IHtcbiAgICB0aHJvdyB0b1Rocm93O1xuICB9O1xuICB2YXIgRU5WSVJPTk1FTlRfSVNfV0VCID0gdHJ1ZTtcbiAgdmFyIHNjcmlwdERpcmVjdG9yeSA9ICcnO1xuXG4gIGZ1bmN0aW9uIGxvY2F0ZUZpbGUocGF0aCkge1xuICAgIGlmIChNb2R1bGVbJ2xvY2F0ZUZpbGUnXSkge1xuICAgICAgcmV0dXJuIE1vZHVsZVsnbG9jYXRlRmlsZSddKHBhdGgsIHNjcmlwdERpcmVjdG9yeSk7XG4gICAgfVxuICAgIHJldHVybiBzY3JpcHREaXJlY3RvcnkgKyBwYXRoO1xuICB9XG5cbiAgdmFyIHJlYWRCaW5hcnk7XG4gIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuICAgIH1cbiAgICBpZiAoX3NjcmlwdERpcikge1xuICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gX3NjcmlwdERpcjtcbiAgICB9XG4gICAgaWYgKHNjcmlwdERpcmVjdG9yeS5pbmRleE9mKCdibG9iOicpICE9PSAwKSB7XG4gICAgICBzY3JpcHREaXJlY3RvcnkgPSBzY3JpcHREaXJlY3Rvcnkuc3Vic3RyKFxuICAgICAgICAwLFxuICAgICAgICBzY3JpcHREaXJlY3RvcnkucmVwbGFjZSgvWz8jXS4qLywgJycpLmxhc3RJbmRleE9mKCcvJykgKyAxLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gJyc7XG4gICAgfVxuICB9XG4gIHZhciBvdXQgPSBNb2R1bGVbJ3ByaW50J10gfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgdmFyIGVyciA9IE1vZHVsZVsncHJpbnRFcnInXSB8fCBjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtcbiAgT2JqZWN0LmFzc2lnbihNb2R1bGUsIG1vZHVsZU92ZXJyaWRlcyk7XG4gIG1vZHVsZU92ZXJyaWRlcyA9IG51bGw7XG4gIGlmIChNb2R1bGVbJ2FyZ3VtZW50cyddKSBNb2R1bGVbJ2FyZ3VtZW50cyddO1xuICBpZiAoTW9kdWxlWyd0aGlzUHJvZ3JhbSddKSB0aGlzUHJvZ3JhbSA9IE1vZHVsZVsndGhpc1Byb2dyYW0nXTtcbiAgaWYgKE1vZHVsZVsncXVpdCddKSBxdWl0XyA9IE1vZHVsZVsncXVpdCddO1xuICB2YXIgd2FzbUJpbmFyeTtcbiAgaWYgKE1vZHVsZVsnd2FzbUJpbmFyeSddKSB3YXNtQmluYXJ5ID0gTW9kdWxlWyd3YXNtQmluYXJ5J107XG4gIHZhciBub0V4aXRSdW50aW1lID0gTW9kdWxlWydub0V4aXRSdW50aW1lJ10gfHwgdHJ1ZTtcbiAgaWYgKHR5cGVvZiBXZWJBc3NlbWJseSAhPSAnb2JqZWN0Jykge1xuICAgIGFib3J0KCdubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkJyk7XG4gIH1cbiAgdmFyIHdhc21NZW1vcnk7XG4gIHZhciBBQk9SVCA9IGZhbHNlO1xuXG4gIHZhciBVVEY4RGVjb2RlciA9XG4gICAgdHlwZW9mIFRleHREZWNvZGVyICE9ICd1bmRlZmluZWQnID8gbmV3IFRleHREZWNvZGVyKCd1dGY4JykgOiB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gVVRGOEFycmF5VG9TdHJpbmcoaGVhcE9yQXJyYXksIGlkeCwgbWF4Qnl0ZXNUb1JlYWQpIHtcbiAgICB2YXIgZW5kSWR4ID0gaWR4ICsgbWF4Qnl0ZXNUb1JlYWQ7XG4gICAgdmFyIGVuZFB0ciA9IGlkeDtcbiAgICB3aGlsZSAoaGVhcE9yQXJyYXlbZW5kUHRyXSAmJiAhKGVuZFB0ciA+PSBlbmRJZHgpKSArK2VuZFB0cjtcbiAgICBpZiAoZW5kUHRyIC0gaWR4ID4gMTYgJiYgaGVhcE9yQXJyYXkuYnVmZmVyICYmIFVURjhEZWNvZGVyKSB7XG4gICAgICByZXR1cm4gVVRGOERlY29kZXIuZGVjb2RlKGhlYXBPckFycmF5LnN1YmFycmF5KGlkeCwgZW5kUHRyKSk7XG4gICAgfVxuICAgIHZhciBzdHIgPSAnJztcbiAgICB3aGlsZSAoaWR4IDwgZW5kUHRyKSB7XG4gICAgICB2YXIgdTAgPSBoZWFwT3JBcnJheVtpZHgrK107XG4gICAgICBpZiAoISh1MCAmIDEyOCkpIHtcbiAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodTApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciB1MSA9IGhlYXBPckFycmF5W2lkeCsrXSAmIDYzO1xuICAgICAgaWYgKCh1MCAmIDIyNCkgPT0gMTkyKSB7XG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgodTAgJiAzMSkgPDwgNikgfCB1MSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHUyID0gaGVhcE9yQXJyYXlbaWR4KytdICYgNjM7XG4gICAgICBpZiAoKHUwICYgMjQwKSA9PSAyMjQpIHtcbiAgICAgICAgdTAgPSAoKHUwICYgMTUpIDw8IDEyKSB8ICh1MSA8PCA2KSB8IHUyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdTAgPVxuICAgICAgICAgICgodTAgJiA3KSA8PCAxOCkgfCAodTEgPDwgMTIpIHwgKHUyIDw8IDYpIHwgKGhlYXBPckFycmF5W2lkeCsrXSAmIDYzKTtcbiAgICAgIH1cbiAgICAgIGlmICh1MCA8IDY1NTM2KSB7XG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjaCA9IHUwIC0gNjU1MzY7XG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2IHwgKGNoID4+IDEwKSwgNTYzMjAgfCAoY2ggJiAxMDIzKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICB2YXIgYnVmZmVyLCBIRUFQOCwgSEVBUFU4LCBIRUFQVTMyO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKGJ1Zikge1xuICAgIGJ1ZmZlciA9IGJ1ZjtcbiAgICBNb2R1bGVbJ0hFQVA4J10gPSBIRUFQOCA9IG5ldyBJbnQ4QXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVAxNiddID0gbmV3IEludDE2QXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVAzMiddID0gbmV3IEludDMyQXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBVOCddID0gSEVBUFU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBVMTYnXSA9IG5ldyBVaW50MTZBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUFUzMiddID0gSEVBUFUzMiA9IG5ldyBVaW50MzJBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUEYzMiddID0gbmV3IEZsb2F0MzJBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUEY2NCddID0gbmV3IEZsb2F0NjRBcnJheShidWYpO1xuICB9XG5cbiAgTW9kdWxlWydJTklUSUFMX01FTU9SWSddIHx8IDE2Nzc3MjE2O1xuICB2YXIgX19BVFBSRVJVTl9fID0gW107XG4gIHZhciBfX0FUSU5JVF9fID0gW107XG4gIHZhciBfX0FUUE9TVFJVTl9fID0gW107XG5cbiAgZnVuY3Rpb24ga2VlcFJ1bnRpbWVBbGl2ZSgpIHtcbiAgICByZXR1cm4gbm9FeGl0UnVudGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZVJ1bigpIHtcbiAgICBpZiAoTW9kdWxlWydwcmVSdW4nXSkge1xuICAgICAgaWYgKHR5cGVvZiBNb2R1bGVbJ3ByZVJ1biddID09ICdmdW5jdGlvbicpXG4gICAgICAgIE1vZHVsZVsncHJlUnVuJ10gPSBbTW9kdWxlWydwcmVSdW4nXV07XG4gICAgICB3aGlsZSAoTW9kdWxlWydwcmVSdW4nXS5sZW5ndGgpIHtcbiAgICAgICAgYWRkT25QcmVSdW4oTW9kdWxlWydwcmVSdW4nXS5zaGlmdCgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRSdW50aW1lKCkge1xuICAgIGNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRJTklUX18pO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdFJ1bigpIHtcbiAgICBpZiAoTW9kdWxlWydwb3N0UnVuJ10pIHtcbiAgICAgIGlmICh0eXBlb2YgTW9kdWxlWydwb3N0UnVuJ10gPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgTW9kdWxlWydwb3N0UnVuJ10gPSBbTW9kdWxlWydwb3N0UnVuJ11dO1xuICAgICAgd2hpbGUgKE1vZHVsZVsncG9zdFJ1biddLmxlbmd0aCkge1xuICAgICAgICBhZGRPblBvc3RSdW4oTW9kdWxlWydwb3N0UnVuJ10uc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQT1NUUlVOX18pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25QcmVSdW4oY2IpIHtcbiAgICBfX0FUUFJFUlVOX18udW5zaGlmdChjYik7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPbkluaXQoY2IpIHtcbiAgICBfX0FUSU5JVF9fLnVuc2hpZnQoY2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25Qb3N0UnVuKGNiKSB7XG4gICAgX19BVFBPU1RSVU5fXy51bnNoaWZ0KGNiKTtcbiAgfVxuXG4gIHZhciBydW5EZXBlbmRlbmNpZXMgPSAwO1xuICB2YXIgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gbnVsbDtcblxuICBmdW5jdGlvbiBhZGRSdW5EZXBlbmRlbmN5KGlkKSB7XG4gICAgcnVuRGVwZW5kZW5jaWVzKys7XG4gICAgaWYgKE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKSB7XG4gICAgICBNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXShydW5EZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpIHtcbiAgICBydW5EZXBlbmRlbmNpZXMtLTtcbiAgICBpZiAoTW9kdWxlWydtb25pdG9yUnVuRGVwZW5kZW5jaWVzJ10pIHtcbiAgICAgIE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKHJ1bkRlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIGlmIChydW5EZXBlbmRlbmNpZXMgPT0gMCkge1xuICAgICAgaWYgKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBkZXBlbmRlbmNpZXNGdWxmaWxsZWQ7XG4gICAgICAgIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IG51bGw7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWJvcnQod2hhdCkge1xuICAgIHtcbiAgICAgIGlmIChNb2R1bGVbJ29uQWJvcnQnXSkge1xuICAgICAgICBNb2R1bGVbJ29uQWJvcnQnXSh3aGF0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2hhdCA9ICdBYm9ydGVkKCcgKyB3aGF0ICsgJyknO1xuICAgIGVycih3aGF0KTtcbiAgICBBQk9SVCA9IHRydWU7XG4gICAgd2hhdCArPSAnLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLic7XG4gICAgdmFyIGUgPSBuZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHdoYXQpO1xuICAgIHJlYWR5UHJvbWlzZVJlamVjdChlKTtcbiAgICB0aHJvdyBlO1xuICB9XG5cbiAgdmFyIGRhdGFVUklQcmVmaXggPSAnZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCc7XG5cbiAgZnVuY3Rpb24gaXNEYXRhVVJJKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIGZpbGVuYW1lLnN0YXJ0c1dpdGgoZGF0YVVSSVByZWZpeCk7XG4gIH1cblxuICB2YXIgd2FzbUJpbmFyeUZpbGU7XG4gIHdhc21CaW5hcnlGaWxlID0gJ3RmbGl0ZS1zaW1kLndhc20nO1xuICBpZiAoIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkpIHtcbiAgICB3YXNtQmluYXJ5RmlsZSA9IGxvY2F0ZUZpbGUod2FzbUJpbmFyeUZpbGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmluYXJ5KGZpbGUpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGZpbGUgPT0gd2FzbUJpbmFyeUZpbGUgJiYgd2FzbUJpbmFyeSkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkod2FzbUJpbmFyeSk7XG4gICAgICB9XG4gICAgICBpZiAocmVhZEJpbmFyeSkgO1xuICAgICAgdGhyb3cgJ2JvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkJztcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhYm9ydChlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJpbmFyeVByb21pc2UoKSB7XG4gICAgaWYgKCF3YXNtQmluYXJ5ICYmIChFTlZJUk9OTUVOVF9JU19XRUIpKSB7XG4gICAgICBpZiAodHlwZW9mIGZldGNoID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKHdhc21CaW5hcnlGaWxlLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlWydvayddKSB7XG4gICAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgICBcImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJ1wiICsgd2FzbUJpbmFyeUZpbGUgKyBcIidcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlWydhcnJheUJ1ZmZlciddKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEJpbmFyeSh3YXNtQmluYXJ5RmlsZSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRCaW5hcnkod2FzbUJpbmFyeUZpbGUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlV2FzbSgpIHtcbiAgICB2YXIgaW5mbyA9IHtcbiAgICAgIGVudjogYXNtTGlicmFyeUFyZyxcbiAgICAgIHdhc2lfc25hcHNob3RfcHJldmlldzE6IGFzbUxpYnJhcnlBcmcsXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlY2VpdmVJbnN0YW5jZShpbnN0YW5jZSwgbW9kdWxlKSB7XG4gICAgICB2YXIgZXhwb3J0cyA9IGluc3RhbmNlLmV4cG9ydHM7XG4gICAgICBNb2R1bGVbJ2FzbSddID0gZXhwb3J0cztcbiAgICAgIHdhc21NZW1vcnkgPSBNb2R1bGVbJ2FzbSddWydtZW1vcnknXTtcbiAgICAgIHVwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKTtcbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUnXTtcbiAgICAgIGFkZE9uSW5pdChNb2R1bGVbJ2FzbSddWydfX3dhc21fY2FsbF9jdG9ycyddKTtcbiAgICAgIHJlbW92ZVJ1bkRlcGVuZGVuY3koKTtcbiAgICB9XG5cbiAgICBhZGRSdW5EZXBlbmRlbmN5KCk7XG5cbiAgICBmdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdChyZXN1bHQpIHtcbiAgICAgIHJlY2VpdmVJbnN0YW5jZShyZXN1bHRbJ2luc3RhbmNlJ10pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiBnZXRCaW5hcnlQcm9taXNlKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJpbmFyeSkge1xuICAgICAgICAgIHJldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5hcnksIGluZm8pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlY2VpdmVyLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgZXJyKCdmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAnICsgcmVhc29uKTtcbiAgICAgICAgICBhYm9ydChyZWFzb24pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZUFzeW5jKCkge1xuICAgICAgaWYgKFxuICAgICAgICAhd2FzbUJpbmFyeSAmJlxuICAgICAgICB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAhaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSAmJlxuICAgICAgICB0eXBlb2YgZmV0Y2ggPT0gJ2Z1bmN0aW9uJ1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmZXRjaCh3YXNtQmluYXJ5RmlsZSwgeyBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyB9KS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHJlc3BvbnNlLCBpbmZvKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICBlcnIoJ3dhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAnICsgcmVhc29uKTtcbiAgICAgICAgICAgICAgZXJyKCdmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvbicpO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChNb2R1bGVbJ2luc3RhbnRpYXRlV2FzbSddKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZXhwb3J0cyA9IE1vZHVsZVsnaW5zdGFudGlhdGVXYXNtJ10oaW5mbywgcmVjZWl2ZUluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycignTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJyArIGUpO1xuICAgICAgICByZWFkeVByb21pc2VSZWplY3QoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbnRpYXRlQXN5bmMoKS5jYXRjaChyZWFkeVByb21pc2VSZWplY3QpO1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEV4aXRTdGF0dXMoc3RhdHVzKSB7XG4gICAgdGhpcy5uYW1lID0gJ0V4aXRTdGF0dXMnO1xuICAgIHRoaXMubWVzc2FnZSA9ICdQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCcgKyBzdGF0dXMgKyAnKSc7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsUnVudGltZUNhbGxiYWNrcyhjYWxsYmFja3MpIHtcbiAgICB3aGlsZSAoY2FsbGJhY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNhbGxiYWNrcy5zaGlmdCgpKE1vZHVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX19kbGluaXQobWFpbl9kc29faGFuZGxlKSB7fVxuXG4gIHZhciBkbG9wZW5NaXNzaW5nRXJyb3IgPVxuICAgICdUbyB1c2UgZGxvcGVuLCB5b3UgbmVlZCBlbmFibGUgZHluYW1pYyBsaW5raW5nLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Vtc2NyaXB0ZW4tY29yZS9lbXNjcmlwdGVuL3dpa2kvTGlua2luZyc7XG5cbiAgZnVuY3Rpb24gX19kbG9wZW5fanMoZmlsZW5hbWUsIGZsYWcpIHtcbiAgICBhYm9ydChkbG9wZW5NaXNzaW5nRXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gX19kbHN5bV9qcyhoYW5kbGUsIHN5bWJvbCkge1xuICAgIGFib3J0KGRsb3Blbk1pc3NpbmdFcnJvcik7XG4gIH1cblxuICB2YXIgbm93SXNNb25vdG9uaWMgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIF9fZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYygpIHtcbiAgICByZXR1cm4gbm93SXNNb25vdG9uaWM7XG4gIH1cblxuICBmdW5jdGlvbiBfX21tYXBfanMobGVuLCBwcm90LCBmbGFncywgZmQsIG9mZiwgYWxsb2NhdGVkKSB7XG4gICAgcmV0dXJuIC01MjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9fbXVubWFwX2pzKGFkZHIsIGxlbiwgcHJvdCwgZmxhZ3MsIGZkLCBvZmZzZXQpIHt9XG5cbiAgZnVuY3Rpb24gX2Fib3J0KCkge1xuICAgIGFib3J0KCcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX2RhdGVfbm93KCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SGVhcE1heCgpIHtcbiAgICByZXR1cm4gMjE0NzQ4MzY0ODtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX2dldF9oZWFwX21heCgpIHtcbiAgICByZXR1cm4gZ2V0SGVhcE1heCgpO1xuICB9XG5cbiAgdmFyIF9lbXNjcmlwdGVuX2dldF9ub3c7XG4gIF9lbXNjcmlwdGVuX2dldF9ub3cgPSAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKTtcblxuICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnKGRlc3QsIHNyYywgbnVtKSB7XG4gICAgSEVBUFU4LmNvcHlXaXRoaW4oZGVzdCwgc3JjLCBzcmMgKyBudW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihzaXplKSB7XG4gICAgdHJ5IHtcbiAgICAgIHdhc21NZW1vcnkuZ3Jvdygoc2l6ZSAtIGJ1ZmZlci5ieXRlTGVuZ3RoICsgNjU1MzUpID4+PiAxNik7XG4gICAgICB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcik7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG5cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAocmVxdWVzdGVkU2l6ZSkge1xuICAgIHZhciBvbGRTaXplID0gSEVBUFU4Lmxlbmd0aDtcbiAgICByZXF1ZXN0ZWRTaXplID0gcmVxdWVzdGVkU2l6ZSA+Pj4gMDtcbiAgICB2YXIgbWF4SGVhcFNpemUgPSBnZXRIZWFwTWF4KCk7XG4gICAgaWYgKHJlcXVlc3RlZFNpemUgPiBtYXhIZWFwU2l6ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgYWxpZ25VcCA9ICh4LCBtdWx0aXBsZSkgPT4geCArICgobXVsdGlwbGUgLSAoeCAlIG11bHRpcGxlKSkgJSBtdWx0aXBsZSk7XG4gICAgZm9yICh2YXIgY3V0RG93biA9IDE7IGN1dERvd24gPD0gNDsgY3V0RG93biAqPSAyKSB7XG4gICAgICB2YXIgb3Zlckdyb3duSGVhcFNpemUgPSBvbGRTaXplICogKDEgKyAwLjIgLyBjdXREb3duKTtcbiAgICAgIG92ZXJHcm93bkhlYXBTaXplID0gTWF0aC5taW4oXG4gICAgICAgIG92ZXJHcm93bkhlYXBTaXplLFxuICAgICAgICByZXF1ZXN0ZWRTaXplICsgMTAwNjYzMjk2LFxuICAgICAgKTtcbiAgICAgIHZhciBuZXdTaXplID0gTWF0aC5taW4oXG4gICAgICAgIG1heEhlYXBTaXplLFxuICAgICAgICBhbGlnblVwKE1hdGgubWF4KHJlcXVlc3RlZFNpemUsIG92ZXJHcm93bkhlYXBTaXplKSwgNjU1MzYpLFxuICAgICAgKTtcbiAgICAgIHZhciByZXBsYWNlbWVudCA9IGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIobmV3U2l6ZSk7XG4gICAgICBpZiAocmVwbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBFTlYgPSB7fTtcblxuICBmdW5jdGlvbiBnZXRFeGVjdXRhYmxlTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpc1Byb2dyYW0gfHwgJy4vdGhpcy5wcm9ncmFtJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVudlN0cmluZ3MoKSB7XG4gICAgaWYgKCFnZXRFbnZTdHJpbmdzLnN0cmluZ3MpIHtcbiAgICAgIHZhciBsYW5nID1cbiAgICAgICAgKFxuICAgICAgICAgICh0eXBlb2YgbmF2aWdhdG9yID09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBuYXZpZ2F0b3IubGFuZ3VhZ2VzICYmXG4gICAgICAgICAgICBuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdKSB8fFxuICAgICAgICAgICdDJ1xuICAgICAgICApLnJlcGxhY2UoJy0nLCAnXycpICsgJy5VVEYtOCc7XG4gICAgICB2YXIgZW52ID0ge1xuICAgICAgICBVU0VSOiAnd2ViX3VzZXInLFxuICAgICAgICBMT0dOQU1FOiAnd2ViX3VzZXInLFxuICAgICAgICBQQVRIOiAnLycsXG4gICAgICAgIFBXRDogJy8nLFxuICAgICAgICBIT01FOiAnL2hvbWUvd2ViX3VzZXInLFxuICAgICAgICBMQU5HOiBsYW5nLFxuICAgICAgICBfOiBnZXRFeGVjdXRhYmxlTmFtZSgpLFxuICAgICAgfTtcbiAgICAgIGZvciAodmFyIHggaW4gRU5WKSB7XG4gICAgICAgIGlmIChFTlZbeF0gPT09IHVuZGVmaW5lZCkgZGVsZXRlIGVudlt4XTtcbiAgICAgICAgZWxzZSBlbnZbeF0gPSBFTlZbeF07XG4gICAgICB9XG4gICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuICAgICAgZm9yICh2YXIgeCBpbiBlbnYpIHtcbiAgICAgICAgc3RyaW5ncy5wdXNoKHggKyAnPScgKyBlbnZbeF0pO1xuICAgICAgfVxuICAgICAgZ2V0RW52U3RyaW5ncy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9XG4gICAgcmV0dXJuIGdldEVudlN0cmluZ3Muc3RyaW5ncztcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gIGZ1bmN0aW9uIHdyaXRlQXNjaWlUb01lbW9yeShzdHIsIGJ1ZmZlciwgZG9udEFkZE51bGwpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgICAgSEVBUDhbYnVmZmVyKysgPj4gMF0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgSEVBUDhbYnVmZmVyID4+IDBdID0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbnZpcm9uX2dldChfX2Vudmlyb24sIGVudmlyb25fYnVmKSB7XG4gICAgdmFyIGJ1ZlNpemUgPSAwO1xuICAgIGdldEVudlN0cmluZ3MoKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHJpbmcsIGkpIHtcbiAgICAgIHZhciBwdHIgPSBlbnZpcm9uX2J1ZiArIGJ1ZlNpemU7XG4gICAgICBIRUFQVTMyWyhfX2Vudmlyb24gKyBpICogNCkgPj4gMl0gPSBwdHI7XG4gICAgICB3cml0ZUFzY2lpVG9NZW1vcnkoc3RyaW5nLCBwdHIpO1xuICAgICAgYnVmU2l6ZSArPSBzdHJpbmcubGVuZ3RoICsgMTtcbiAgICB9KTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbnZpcm9uX3NpemVzX2dldChwZW52aXJvbl9jb3VudCwgcGVudmlyb25fYnVmX3NpemUpIHtcbiAgICB2YXIgc3RyaW5ncyA9IGdldEVudlN0cmluZ3MoKTtcbiAgICBIRUFQVTMyW3BlbnZpcm9uX2NvdW50ID4+IDJdID0gc3RyaW5ncy5sZW5ndGg7XG4gICAgdmFyIGJ1ZlNpemUgPSAwO1xuICAgIHN0cmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgICBidWZTaXplICs9IHN0cmluZy5sZW5ndGggKyAxO1xuICAgIH0pO1xuICAgIEhFQVBVMzJbcGVudmlyb25fYnVmX3NpemUgPj4gMl0gPSBidWZTaXplO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Byb2NfZXhpdChjb2RlKSB7XG4gICAgaWYgKCFrZWVwUnVudGltZUFsaXZlKCkpIHtcbiAgICAgIGlmIChNb2R1bGVbJ29uRXhpdCddKSBNb2R1bGVbJ29uRXhpdCddKGNvZGUpO1xuICAgICAgQUJPUlQgPSB0cnVlO1xuICAgIH1cbiAgICBxdWl0Xyhjb2RlLCBuZXcgRXhpdFN0YXR1cyhjb2RlKSk7XG4gIH1cblxuICBmdW5jdGlvbiBleGl0SlMoc3RhdHVzLCBpbXBsaWNpdCkge1xuICAgIF9wcm9jX2V4aXQoc3RhdHVzKTtcbiAgfVxuXG4gIHZhciBfZXhpdCA9IGV4aXRKUztcblxuICBmdW5jdGlvbiBfZmRfY2xvc2UoZmQpIHtcbiAgICByZXR1cm4gNTI7XG4gIH1cblxuICBmdW5jdGlvbiBfZmRfc2VlayhmZCwgb2Zmc2V0X2xvdywgb2Zmc2V0X2hpZ2gsIHdoZW5jZSwgbmV3T2Zmc2V0KSB7XG4gICAgcmV0dXJuIDcwO1xuICB9XG5cbiAgdmFyIHByaW50Q2hhckJ1ZmZlcnMgPSBbbnVsbCwgW10sIFtdXTtcblxuICBmdW5jdGlvbiBwcmludENoYXIoc3RyZWFtLCBjdXJyKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgICB2YXIgYnVmZmVyID0gcHJpbnRDaGFyQnVmZmVyc1tzdHJlYW1dO1xuICAgIGlmIChjdXJyID09PSAwIHx8IGN1cnIgPT09IDEwKSB7XG4gICAgICAoc3RyZWFtID09PSAxID8gb3V0IDogZXJyKShVVEY4QXJyYXlUb1N0cmluZyhidWZmZXIsIDApKTtcbiAgICAgIGJ1ZmZlci5sZW5ndGggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWZmZXIucHVzaChjdXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZmRfd3JpdGUoZmQsIGlvdiwgaW92Y250LCBwbnVtKSB7XG4gICAgdmFyIG51bSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpb3ZjbnQ7IGkrKykge1xuICAgICAgdmFyIHB0ciA9IEhFQVBVMzJbaW92ID4+IDJdO1xuICAgICAgdmFyIGxlbiA9IEhFQVBVMzJbKGlvdiArIDQpID4+IDJdO1xuICAgICAgaW92ICs9IDg7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIHByaW50Q2hhcihmZCwgSEVBUFU4W3B0ciArIGpdKTtcbiAgICAgIH1cbiAgICAgIG51bSArPSBsZW47XG4gICAgfVxuICAgIEhFQVBVMzJbcG51bSA+PiAyXSA9IG51bTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJhbmRvbURldmljZSgpIHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgY3J5cHRvID09ICdvYmplY3QnICYmXG4gICAgICB0eXBlb2YgY3J5cHRvWydnZXRSYW5kb21WYWx1ZXMnXSA9PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICB2YXIgcmFuZG9tQnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJhbmRvbUJ1ZmZlcik7XG4gICAgICAgIHJldHVybiByYW5kb21CdWZmZXJbMF07XG4gICAgICB9O1xuICAgIH0gZWxzZSByZXR1cm4gKCkgPT4gYWJvcnQoJ3JhbmRvbURldmljZScpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgZnVuY3Rpb24gX2dldGVudHJvcHkoYnVmZmVyLCBzaXplKSB7XG4gICAgaWYgKCFfZ2V0ZW50cm9weS5yYW5kb21EZXZpY2UpIHtcbiAgICAgIF9nZXRlbnRyb3B5LnJhbmRvbURldmljZSA9IGdldFJhbmRvbURldmljZSgpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgSEVBUDhbKGJ1ZmZlciArIGkpID4+IDBdID0gX2dldGVudHJvcHkucmFuZG9tRGV2aWNlKCk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIGFzbUxpYnJhcnlBcmcgPSB7XG4gICAgX2RsaW5pdDogX19kbGluaXQsXG4gICAgX2Rsb3Blbl9qczogX19kbG9wZW5fanMsXG4gICAgX2Rsc3ltX2pzOiBfX2Rsc3ltX2pzLFxuICAgIF9lbXNjcmlwdGVuX2dldF9ub3dfaXNfbW9ub3RvbmljOiBfX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWMsXG4gICAgX21tYXBfanM6IF9fbW1hcF9qcyxcbiAgICBfbXVubWFwX2pzOiBfX211bm1hcF9qcyxcbiAgICBhYm9ydDogX2Fib3J0LFxuICAgIGVtc2NyaXB0ZW5fZGF0ZV9ub3c6IF9lbXNjcmlwdGVuX2RhdGVfbm93LFxuICAgIGVtc2NyaXB0ZW5fZ2V0X2hlYXBfbWF4OiBfZW1zY3JpcHRlbl9nZXRfaGVhcF9tYXgsXG4gICAgZW1zY3JpcHRlbl9nZXRfbm93OiBfZW1zY3JpcHRlbl9nZXRfbm93LFxuICAgIGVtc2NyaXB0ZW5fbWVtY3B5X2JpZzogX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyxcbiAgICBlbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwOiBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcCxcbiAgICBlbnZpcm9uX2dldDogX2Vudmlyb25fZ2V0LFxuICAgIGVudmlyb25fc2l6ZXNfZ2V0OiBfZW52aXJvbl9zaXplc19nZXQsXG4gICAgZXhpdDogX2V4aXQsXG4gICAgZmRfY2xvc2U6IF9mZF9jbG9zZSxcbiAgICBmZF9zZWVrOiBfZmRfc2VlayxcbiAgICBmZF93cml0ZTogX2ZkX3dyaXRlLFxuICAgIGdldGVudHJvcHk6IF9nZXRlbnRyb3B5LFxuICB9O1xuICBjcmVhdGVXYXNtKCk7XG4gIChNb2R1bGVbJ19fX3dhc21fY2FsbF9jdG9ycyddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfX193YXNtX2NhbGxfY3RvcnMnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydfX3dhc21fY2FsbF9jdG9ycyddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldE1vZGVsQnVmZmVyTWVtb3J5T2Zmc2V0J10gPVxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAoTW9kdWxlW1xuICAgICAgICAnX2dldE1vZGVsQnVmZmVyTWVtb3J5T2Zmc2V0J1xuICAgICAgXSA9XG4gICAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE1vZGVsQnVmZmVyTWVtb3J5T2Zmc2V0J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfSk7XG4gIChNb2R1bGVbJ19nZXRJbnB1dE1lbW9yeU9mZnNldCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0SW5wdXRNZW1vcnlPZmZzZXQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRJbnB1dE1lbW9yeU9mZnNldCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0SGVpZ2h0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dEhlaWdodCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldElucHV0SGVpZ2h0J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0SW5wdXRXaWR0aCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0SW5wdXRXaWR0aCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldElucHV0V2lkdGgnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRJbnB1dENoYW5uZWxDb3VudCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0SW5wdXRDaGFubmVsQ291bnQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRJbnB1dENoYW5uZWxDb3VudCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldE91dHB1dE1lbW9yeU9mZnNldCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0SGVpZ2h0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRIZWlnaHQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRPdXRwdXRIZWlnaHQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRPdXRwdXRXaWR0aCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0T3V0cHV0V2lkdGgnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRPdXRwdXRXaWR0aCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldE91dHB1dENoYW5uZWxDb3VudCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0T3V0cHV0Q2hhbm5lbENvdW50J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0T3V0cHV0Q2hhbm5lbENvdW50J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfbG9hZE1vZGVsJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19sb2FkTW9kZWwnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydsb2FkTW9kZWwnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19ydW5JbmZlcmVuY2UnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX3J1bkluZmVyZW5jZSddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ3J1bkluZmVyZW5jZSddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX21hbGxvYyddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfbWFsbG9jJ10gPSBNb2R1bGVbJ2FzbSddWydtYWxsb2MnXSkuYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgYXJndW1lbnRzLFxuICAgICk7XG4gIH0pO1xuICAoTW9kdWxlWydfX19lcnJub19sb2NhdGlvbiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfX19lcnJub19sb2NhdGlvbiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19fZXJybm9fbG9jYXRpb24nXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19fX2RsX3NldGVyciddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfX19kbF9zZXRlcnInXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydfX2RsX3NldGVyciddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnc3RhY2tTYXZlJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ3N0YWNrU2F2ZSddID0gTW9kdWxlWydhc20nXVsnc3RhY2tTYXZlJ10pLmFwcGx5KFxuICAgICAgbnVsbCxcbiAgICAgIGFyZ3VtZW50cyxcbiAgICApO1xuICB9KTtcbiAgKE1vZHVsZVsnc3RhY2tSZXN0b3JlJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ3N0YWNrUmVzdG9yZSddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ3N0YWNrUmVzdG9yZSddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnc3RhY2tBbGxvYyddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydzdGFja0FsbG9jJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnc3RhY2tBbGxvYyddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnZHluQ2FsbF9qamonXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9qamonXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2pqaiddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnZHluQ2FsbF9qaWlpJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfamlpaSddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfamlpaSddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnZHluQ2FsbF9paWlpamonXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9paWlpamonXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2lpaWlqaiddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnZHluQ2FsbF92aWlqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX3ZpaWpqJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF92aWlqaiddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnZHluQ2FsbF92aWlpampqJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfdmlpaWpqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfdmlpaWpqaiddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnZHluQ2FsbF9paWpqaWlpaSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2lpamppaWlpJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9paWpqaWlpaSddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnZHluQ2FsbF9qaWppJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfamlqaSddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfamlqaSddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgdmFyIGNhbGxlZFJ1bjtcbiAgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gZnVuY3Rpb24gcnVuQ2FsbGVyKCkge1xuICAgIGlmICghY2FsbGVkUnVuKSBydW4oKTtcbiAgICBpZiAoIWNhbGxlZFJ1bikgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gcnVuQ2FsbGVyO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJ1bihhcmdzKSB7XG4gICAgaWYgKHJ1bkRlcGVuZGVuY2llcyA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJlUnVuKCk7XG4gICAgaWYgKHJ1bkRlcGVuZGVuY2llcyA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb1J1bigpIHtcbiAgICAgIGlmIChjYWxsZWRSdW4pIHJldHVybjtcbiAgICAgIGNhbGxlZFJ1biA9IHRydWU7XG4gICAgICBNb2R1bGVbJ2NhbGxlZFJ1biddID0gdHJ1ZTtcbiAgICAgIGlmIChBQk9SVCkgcmV0dXJuO1xuICAgICAgaW5pdFJ1bnRpbWUoKTtcbiAgICAgIHJlYWR5UHJvbWlzZVJlc29sdmUoTW9kdWxlKTtcbiAgICAgIGlmIChNb2R1bGVbJ29uUnVudGltZUluaXRpYWxpemVkJ10pIE1vZHVsZVsnb25SdW50aW1lSW5pdGlhbGl6ZWQnXSgpO1xuICAgICAgcG9zdFJ1bigpO1xuICAgIH1cblxuICAgIGlmIChNb2R1bGVbJ3NldFN0YXR1cyddKSB7XG4gICAgICBNb2R1bGVbJ3NldFN0YXR1cyddKCdSdW5uaW5nLi4uJyk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgTW9kdWxlWydzZXRTdGF0dXMnXSgnJyk7XG4gICAgICAgIH0sIDEpO1xuICAgICAgICBkb1J1bigpO1xuICAgICAgfSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvUnVuKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKE1vZHVsZVsncHJlSW5pdCddKSB7XG4gICAgaWYgKHR5cGVvZiBNb2R1bGVbJ3ByZUluaXQnXSA9PSAnZnVuY3Rpb24nKVxuICAgICAgTW9kdWxlWydwcmVJbml0J10gPSBbTW9kdWxlWydwcmVJbml0J11dO1xuICAgIHdoaWxlIChNb2R1bGVbJ3ByZUluaXQnXS5sZW5ndGggPiAwKSB7XG4gICAgICBNb2R1bGVbJ3ByZUluaXQnXS5wb3AoKSgpO1xuICAgIH1cbiAgfVxuICBydW4oKTtcblxuICByZXR1cm4gX19Nb2R1bGUucmVhZHk7XG59O1xuXG5jb25zdCB2ZXJzaW9uID0gXCIwLjEuNlwiO1xuY29uc3QgcGFja2FnZU5hbWUgPSBcIkBzdHJlYW0taW8vdmlkZW8tZmlsdGVycy13ZWJcIjtcblxuLy8gQHRzLWV4cGVjdC1lcnJvciAtIG1vZHVsZSBpcyBub3QgZGVjbGFyZWRcbi8vIFRoaXMgaXMgYSBXZWJBc3NlbWJseSBtb2R1bGUgY29tcGlsZWQgZnJvbSB0aGUgVGVuc29yRmxvdyBMaXRlIEMrKyBsaWJyYXJ5LlxuY29uc3QgY3JlYXRlVEZMaXRlID0gY3JlYXRlVEZMaXRlU0lNRE1vZHVsZTtcbmNvbnN0IGxvYWRURkxpdGUgPSBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBiYXNlUGF0aCA9IGBodHRwczovL3VucGtnLmNvbS8ke3BhY2thZ2VOYW1lfUAke3ZlcnNpb259L3RmYCwgdGZGaWxlUGF0aCA9IGAke2Jhc2VQYXRofS90ZmxpdGUvdGZsaXRlLXNpbWQud2FzbWAsIG1vZGVsRmlsZVBhdGggPSBgJHtiYXNlUGF0aH0vbW9kZWxzL3NlZ21fZnVsbF92Njc5LnRmbGl0ZWAsIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IFt0ZkxpdGUsIG1vZGVsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgY3JlYXRlVEZMaXRlKHsgbG9jYXRlRmlsZTogKCkgPT4gdGZGaWxlUGF0aCB9KSxcbiAgICAgICAgZmV0Y2hNb2RlbChtb2RlbEZpbGVQYXRoKSxcbiAgICBdKTtcbiAgICBjb25zdCBtb2RlbEJ1ZmZlck9mZnNldCA9IHRmTGl0ZS5fZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQoKTtcbiAgICB0ZkxpdGUuSEVBUFU4LnNldChuZXcgVWludDhBcnJheShtb2RlbCksIG1vZGVsQnVmZmVyT2Zmc2V0KTtcbiAgICB0ZkxpdGUuX2xvYWRNb2RlbChtb2RlbC5ieXRlTGVuZ3RoKTtcbiAgICByZXR1cm4gdGZMaXRlO1xufTtcbmxldCBsYXN0TW9kZWxGaWxlUGF0aCA9ICcnO1xubGV0IG1vZGVsRmlsZUNhY2hlO1xuY29uc3QgZmV0Y2hNb2RlbCA9IGFzeW5jIChtb2RlbEZpbGVQYXRoKSA9PiB7XG4gICAgY29uc3QgbW9kZWwgPSBtb2RlbEZpbGVQYXRoID09PSBsYXN0TW9kZWxGaWxlUGF0aCAmJiBtb2RlbEZpbGVDYWNoZVxuICAgICAgICA/IG1vZGVsRmlsZUNhY2hlXG4gICAgICAgIDogYXdhaXQgZmV0Y2gobW9kZWxGaWxlUGF0aCkudGhlbigocikgPT4gci5hcnJheUJ1ZmZlcigpKTtcbiAgICAvLyBDYWNoZSB0aGUgbW9kZWwgZmlsZSBmb3IgZnV0dXJlIHVzZS5cbiAgICBtb2RlbEZpbGVDYWNoZSA9IG1vZGVsO1xuICAgIGxhc3RNb2RlbEZpbGVQYXRoID0gbW9kZWxGaWxlUGF0aDtcbiAgICByZXR1cm4gbW9kZWw7XG59O1xuXG5leHBvcnQgeyBTZWdtZW50YXRpb25MZXZlbCwgY3JlYXRlUmVuZGVyZXIsIGlzUGxhdGZvcm1TdXBwb3J0ZWQsIGxvYWRURkxpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-bindings/dist/index.es.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Restricted: () => (/* binding */ Restricted),\n/* harmony export */   StreamCallProvider: () => (/* binding */ StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* binding */ StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* binding */ StreamI18nProvider),\n/* harmony export */   StreamVideoProvider: () => (/* binding */ StreamVideoProvider),\n/* harmony export */   defaultTranslationFunction: () => (/* binding */ defaultTranslationFunction),\n/* harmony export */   useCall: () => (/* binding */ useCall),\n/* harmony export */   useCallStateHooks: () => (/* binding */ useCallStateHooks),\n/* harmony export */   useCalls: () => (/* binding */ useCalls),\n/* harmony export */   useConnectedUser: () => (/* binding */ useConnectedUser),\n/* harmony export */   useCreateI18n: () => (/* binding */ useCreateI18n),\n/* harmony export */   useI18n: () => (/* binding */ useI18n),\n/* harmony export */   useObservableValue: () => (/* binding */ useObservableValue),\n/* harmony export */   useStore: () => (/* binding */ useStore),\n/* harmony export */   useStreamVideoClient: () => (/* binding */ useStreamVideoClient),\n/* harmony export */   useToggleCallRecording: () => (/* binding */ useToggleCallRecording)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next */ \"(ssr)/./node_modules/i18next/dist/esm/i18next.js\");\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n\n\n\n\n\nconst StreamCallContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * A provider for the call object.\n */\nconst StreamCallProvider = (props) => {\n    const { call, children } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamCallContext.Provider, { value: call, children: children }));\n};\n/**\n * A hook to get the call object from the closest provider.\n */\nconst useCall = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamCallContext);\n};\n\nconst DEFAULT_NAMESPACE = 'stream-video';\nconst DEFAULT_CONFIG = {\n    debug: false,\n    currentLanguage: 'en',\n    fallbackLanguage: false,\n};\nconst mapToRegistry = (translationsMap, namespace) => Object.entries(translationsMap).reduce((acc, [lng, translations]) => {\n    acc[lng] = { [namespace]: translations };\n    return acc;\n}, {});\nconst DEFAULT_TRANSLATIONS_REGISTRY = mapToRegistry({}, DEFAULT_NAMESPACE);\nconst defaultTranslationFunction = (key) => key;\nclass StreamI18n {\n    /** Simple logger function */\n    constructor(options = {}) {\n        /** Translator function that converts the provided string into its equivalent in the current language. */\n        this.t = defaultTranslationFunction;\n        this.init = async () => {\n            try {\n                this.t = await this.i18nInstance.init();\n            }\n            catch (e) {\n                console.error(`Failed to initialize translations: ${JSON.stringify(e)}`);\n            }\n            return this;\n        };\n        this.changeLanguage = async (language, onChange) => {\n            if (!this._checkIsInitialized())\n                return;\n            // i18next detects the language, if none provided, but it is better\n            // to show this detection here explicitly\n            const browserLanguage = typeof window !== 'undefined' && window.navigator\n                ? window.navigator.language\n                : undefined;\n            await this.i18nInstance.changeLanguage(language || browserLanguage);\n            onChange?.(this.currentLanguage);\n        };\n        this.registerTranslationsForLanguage = ({ lng, translations, }) => {\n            if (!this._checkIsInitialized())\n                return;\n            this.i18nInstance.addResourceBundle(lng, DEFAULT_NAMESPACE, translations, true, true);\n        };\n        this._checkIsInitialized = () => {\n            if (!this.i18nInstance.isInitialized) {\n                console.warn('I18n instance is not initialized. Call yourStreamI18nInstance.init().');\n            }\n            return this.i18nInstance.isInitialized;\n        };\n        const { debug = DEFAULT_CONFIG.debug, currentLanguage = DEFAULT_CONFIG.currentLanguage, fallbackLanguage = DEFAULT_CONFIG.fallbackLanguage, translationsOverrides, } = options;\n        this.i18nInstance = i18next__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createInstance({\n            debug,\n            defaultNS: DEFAULT_NAMESPACE,\n            fallbackLng: fallbackLanguage,\n            interpolation: { escapeValue: false },\n            keySeparator: false,\n            lng: currentLanguage,\n            nsSeparator: false,\n            parseMissingKeyHandler: (key) => {\n                return key;\n            },\n            resources: DEFAULT_TRANSLATIONS_REGISTRY,\n        });\n        if (translationsOverrides) {\n            this.i18nInstance.on('initialized', () => {\n                Object.entries(translationsOverrides).forEach(([lng, translations]) => {\n                    this.registerTranslationsForLanguage({ lng, translations });\n                });\n            });\n        }\n    }\n    get currentLanguage() {\n        this._checkIsInitialized();\n        return this.i18nInstance.language;\n    }\n    get isInitialized() {\n        return this.i18nInstance.isInitialized;\n    }\n}\n\nconst StreamI18nContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    t: defaultTranslationFunction,\n});\nconst StreamI18nProvider = ({ children, ...createI18nParams }) => {\n    const { i18n, t } = useCreateI18n(createI18nParams);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nContext.Provider, { value: { t, i18n }, children: children }));\n};\nconst useCreateI18n = ({ i18nInstance, language, fallbackLanguage, translationsOverrides, }) => {\n    const [i18n] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => i18nInstance ||\n        new StreamI18n({\n            currentLanguage: language,\n            fallbackLanguage,\n            translationsOverrides,\n        }));\n    const [t, setTranslationFn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => defaultTranslationFunction);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const { isInitialized } = i18n;\n        if (!isInitialized) {\n            i18n.init().then((_i18n) => setTranslationFn(() => _i18n.i18nInstance.t));\n            return;\n        }\n        if (language && i18n?.currentLanguage !== language) {\n            i18n.changeLanguage(language).catch((err) => {\n                console.log('Error while changing language', err);\n            });\n        }\n    }, [i18n, i18nInstance, language, translationsOverrides]);\n    return { i18n, t };\n};\nconst useI18n = () => (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamI18nContext);\n\nconst StreamVideoContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * StreamVideo is a provider component which should be used to wrap the entire application.\n * It provides the client object to all children components and initializes the i18n instance.\n *  @param PropsWithChildren<StreamVideoProps>\n *  @category Client State\n */\nconst StreamVideoProvider = ({ children, client, i18nInstance, language, translationsOverrides, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamVideoContext.Provider, { value: client, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nProvider, { i18nInstance: i18nInstance, language: language, translationsOverrides: translationsOverrides, children: children }) }));\n};\n/**\n *\n * @returns\n *\n * @category Client State\n */\nconst useStreamVideoClient = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamVideoContext);\n};\n\n/**\n * Utility hook which provides the current value of the given observable.\n *\n * @param observable$ the observable to read data from.\n * @param defaultValue a default value. Used when the observable data can't be read or emits an error.\n */\nconst useObservableValue = (observable$, defaultValue) => {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {\n        try {\n            return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.getCurrentValue(observable$);\n        }\n        catch (err) {\n            if (typeof defaultValue === 'undefined')\n                throw err;\n            return defaultValue;\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.createSubscription(observable$, setValue, (err) => {\n            console.log('An error occurred while reading an observable', err);\n            if (defaultValue)\n                setValue(defaultValue);\n        });\n    }, [defaultValue, observable$]);\n    return value;\n};\n\n/**\n * Checks whether we are using React Native\n */\nconst isReactNative = () => {\n    if (typeof navigator === 'undefined')\n        return false;\n    return navigator.product?.toLowerCase() === 'reactnative';\n};\n\n// kind-of memoized, used as a default value\nconst EMPTY_DEVICES_ARRAY = Object.freeze([]);\n/**\n * Utility hook, which provides the current call's state.\n *\n * @category Call State\n */\nconst useCallState = () => {\n    const call = useCall();\n    // return an empty and unlinked CallState object if there is no call in the provider\n    // this ensures that the hooks always return a value and many null checks can be avoided\n    if (!call) {\n        const message = 'You are using useCallState() outside a Call context. ' +\n            'Please wrap your component in <StreamCall /> and provide a \"call\" instance.';\n        console.warn(message);\n        return new _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.CallState();\n    }\n    return call.state;\n};\n/**\n * Utility hook which provides information whether the current call is being recorded. It will return `true` if the call is being recorded.\n *\n * @category Call State\n */\nconst useIsCallRecordingInProgress = () => {\n    const { recording$ } = useCallState();\n    return useObservableValue(recording$);\n};\n/**\n * Utility hook which provides information whether the current call is broadcasting.\n *\n * @category Call State\n */\nconst useIsCallHLSBroadcastingInProgress = () => {\n    const { egress$ } = useCallState();\n    const egress = useObservableValue(egress$);\n    if (!egress)\n        return false;\n    return egress.broadcasting;\n};\n/**\n * Utility hook which provides information whether the current call is live.\n *\n * @category Call State\n */\nconst useIsCallLive = () => {\n    const { backstage$ } = useCallState();\n    const isBackstageOn = useObservableValue(backstage$);\n    return !isBackstageOn;\n};\n/**\n * Returns the list of blocked users in the current call.\n */\nconst useCallBlockedUserIds = () => {\n    const { blockedUserIds$ } = useCallState();\n    return useObservableValue(blockedUserIds$);\n};\n/**\n * Returns the timestamp when this call was created.\n */\nconst useCallCreatedAt = () => {\n    const { createdAt$ } = useCallState();\n    return useObservableValue(createdAt$);\n};\n/**\n * Returns the timestamp when this call was ended.\n */\nconst useCallEndedAt = () => {\n    const { endedAt$ } = useCallState();\n    return useObservableValue(endedAt$);\n};\n/**\n * Returns the timestamp telling when the call is scheduled to start.\n */\nconst useCallStartsAt = () => {\n    const { startsAt$ } = useCallState();\n    return useObservableValue(startsAt$);\n};\n/**\n * Returns the timestamp when this call was updated.\n */\nconst useCallUpdatedAt = () => {\n    const { updatedAt$ } = useCallState();\n    return useObservableValue(updatedAt$);\n};\n/**\n * Returns the information about the call's creator.\n */\nconst useCallCreatedBy = () => {\n    const { createdBy$ } = useCallState();\n    return useObservableValue(createdBy$);\n};\n/**\n * Returns the call's custom data.\n */\nconst useCallCustomData = () => {\n    const { custom$ } = useCallState();\n    return useObservableValue(custom$);\n};\n/**\n * Returns the call's Egress information.\n */\nconst useCallEgress = () => {\n    const { egress$ } = useCallState();\n    return useObservableValue(egress$);\n};\n/**\n * Returns the call's Ingress information.\n */\nconst useCallIngress = () => {\n    const { ingress$ } = useCallState();\n    return useObservableValue(ingress$);\n};\n/**\n * Returns the data for the current call session.\n */\nconst useCallSession = () => {\n    const { session$ } = useCallState();\n    return useObservableValue(session$);\n};\n/**\n * Returns the call's settings.\n */\nconst useCallSettings = () => {\n    const { settings$ } = useCallState();\n    return useObservableValue(settings$);\n};\n/**\n * Returns whether the call has transcribing enabled.\n */\nconst useIsCallTranscribingInProgress = () => {\n    const { transcribing$ } = useCallState();\n    return useObservableValue(transcribing$);\n};\n/**\n * Returns information about the user who has marked this call as ended.\n */\nconst useCallEndedBy = () => {\n    const { endedBy$ } = useCallState();\n    return useObservableValue(endedBy$);\n};\n/**\n * Utility hook which provides a boolean indicating whether there is\n * a participant in the current call which shares their screen.\n *\n * @category Call State\n */\nconst useHasOngoingScreenShare = () => {\n    const { hasOngoingScreenShare$ } = useCallState();\n    return useObservableValue(hasOngoingScreenShare$);\n};\n/**\n * Utility hook which provides the latest stats report of the current call.\n *\n * The latest stats report of the current call.\n * When stats gathering is enabled, this observable will emit a new value\n * at a regular (configurable) interval.\n *\n * Consumers of this observable can implement their own batching logic\n * in case they want to show historical stats data.\n *\n * @category Call State\n */\nconst useCallStatsReport = () => {\n    const { callStatsReport$ } = useCallState();\n    return useObservableValue(callStatsReport$);\n};\n/**\n * Utility hook which provides the dominant speaker of the current call.\n *\n * @category Call State\n */\nconst useDominantSpeaker = () => {\n    const { dominantSpeaker$ } = useCallState();\n    return useObservableValue(dominantSpeaker$);\n};\n/**\n * Utility hook which provides a list of call members.\n *\n * @category Call State\n */\nconst useCallMembers = () => {\n    const { members$ } = useCallState();\n    return useObservableValue(members$);\n};\n/**\n * Utility hook providing the current calling state of the call. For example, `RINGING` or `JOINED`.\n *\n * @category Call State\n */\nconst useCallCallingState = () => {\n    const { callingState$ } = useCallState();\n    return useObservableValue(callingState$);\n};\n/**\n * Utility hook providing the actual start time of the current session.\n * Useful for calculating the call duration.\n *\n * @category Call State\n */\nconst useCallStartedAt = () => {\n    const { startedAt$ } = useCallState();\n    return useObservableValue(startedAt$);\n};\n/**\n * A hook which provides a list of all participants that have joined an active call.\n *\n * @category Call State\n *\n * @param options.sortBy - A comparator function to sort the participants by.\n * Make sure to memoize output of the `combineComparators` function\n * (or keep it out of component's scope if possible) before passing it down to this property.\n */\nconst useParticipants = ({ sortBy, } = {}) => {\n    const { participants$ } = useCallState();\n    const participants = useObservableValue(participants$);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (sortBy) {\n            return [...participants].sort(sortBy);\n        }\n        return participants;\n    }, [participants, sortBy]);\n};\n/**\n * A hook which provides a StreamVideoLocalParticipant object.\n * It signals that I have joined a call.\n *\n * @category Call State\n */\nconst useLocalParticipant = () => {\n    const { localParticipant$ } = useCallState();\n    return useObservableValue(localParticipant$);\n};\n/**\n * A hook which provides a list of all other participants than me that have joined an active call.\n *\n * @category Call State\n */\nconst useRemoteParticipants = () => {\n    const { remoteParticipants$ } = useCallState();\n    return useObservableValue(remoteParticipants$);\n};\n/**\n * Returns the approximate participant count of the active call.\n * This includes the anonymous users as well, and it is computed on the server.\n *\n * @category Call State\n */\nconst useParticipantCount = () => {\n    const { participantCount$ } = useCallState();\n    return useObservableValue(participantCount$);\n};\n/**\n * Returns the approximate anonymous participant count of the active call.\n * The regular participants are not included in this count. It is computed on the server.\n *\n * @category Call State\n */\nconst useAnonymousParticipantCount = () => {\n    const { anonymousParticipantCount$ } = useCallState();\n    return useObservableValue(anonymousParticipantCount$);\n};\n/**\n * Returns the generated thumbnail of the current call, if enabled in settings.\n */\nconst useCallThumbnail = () => {\n    const { thumbnails$ } = useCallState();\n    return useObservableValue(thumbnails$);\n};\n/**\n * A hook which returns the local participant's own capabilities.\n */\nconst useOwnCapabilities = () => {\n    const { ownCapabilities$ } = useCallState();\n    return useObservableValue(ownCapabilities$);\n};\n/**\n * Hook that returns true if the local participant has all the given permissions.\n *\n * @param permissions the permissions to check.\n */\nconst useHasPermissions = (...permissions) => {\n    const capabilities = useOwnCapabilities();\n    return permissions.every((permission) => capabilities?.includes(permission));\n};\n/**\n * Returns the camera state of the current call.\n *\n * @category Camera Manager State\n *\n */\nconst useCameraState = () => {\n    const call = useCall();\n    const { camera } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => camera.listDevices(), [camera]);\n    const { state } = camera;\n    const status = useObservableValue(state.status$);\n    const optimisticStatus = useObservableValue(state.optimisticStatus$);\n    const direction = useObservableValue(state.direction$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isMute = status !== 'enabled';\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        camera,\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        direction,\n        mediaStream,\n        devices,\n        hasBrowserPermission,\n        selectedDevice,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns the microphone state of the current call.\n *\n * @category Microphone Manager State\n */\nconst useMicrophoneState = () => {\n    const call = useCall();\n    const { microphone } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => microphone.listDevices(), [microphone]);\n    const { state } = microphone;\n    const status = useObservableValue(state.status$);\n    const optimisticStatus = useObservableValue(state.optimisticStatus$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isSpeakingWhileMuted = useObservableValue(state.speakingWhileMuted$);\n    const isMute = status !== 'enabled';\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        microphone,\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        mediaStream,\n        devices,\n        selectedDevice,\n        hasBrowserPermission,\n        isSpeakingWhileMuted,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns the speaker state of the current call.\n *\n * Note: This hook is not supported in React Native\n */\nconst useSpeakerState = () => {\n    if (isReactNative()) {\n        throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n    }\n    const call = useCall();\n    const { speaker } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => speaker.listDevices(), [speaker]);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const selectedDevice = useObservableValue(speaker.state.selectedDevice$);\n    return {\n        speaker,\n        devices,\n        selectedDevice,\n        isDeviceSelectionSupported: speaker.state.isDeviceSelectionSupported,\n    };\n};\n/**\n * Returns the Screen Share state of the current call.\n */\nconst useScreenShareState = () => {\n    const call = useCall();\n    const { screenShare } = call;\n    const status = useObservableValue(screenShare.state.status$);\n    const pendingStatus = useObservableValue(screenShare.state.optimisticStatus$);\n    const mediaStream = useObservableValue(screenShare.state.mediaStream$);\n    const isMute = status !== 'enabled';\n    const optimisticStatus = pendingStatus ?? status;\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        screenShare,\n        mediaStream,\n        status,\n        optimisticStatus,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns incoming video settings for the current call, including\n * global and per-participant manual video quality overrides.\n */\nconst useIncomingVideoSettings = () => {\n    const call = useCall();\n    const settings = useObservableValue(call.dynascaleManager.incomingVideoSettings$);\n    return settings;\n};\n/**\n * Returns the current call's closed captions queue.\n */\nconst useCallClosedCaptions = () => {\n    const { closedCaptions$ } = useCallState();\n    return useObservableValue(closedCaptions$);\n};\n/**\n * Returns the current call's closed captions queue.\n */\nconst useIsCallCaptioningInProgress = () => {\n    const { captioning$ } = useCallState();\n    return useObservableValue(captioning$);\n};\n\nvar CallStateHooks = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    useAnonymousParticipantCount: useAnonymousParticipantCount,\n    useCallBlockedUserIds: useCallBlockedUserIds,\n    useCallCallingState: useCallCallingState,\n    useCallClosedCaptions: useCallClosedCaptions,\n    useCallCreatedAt: useCallCreatedAt,\n    useCallCreatedBy: useCallCreatedBy,\n    useCallCustomData: useCallCustomData,\n    useCallEgress: useCallEgress,\n    useCallEndedAt: useCallEndedAt,\n    useCallEndedBy: useCallEndedBy,\n    useCallIngress: useCallIngress,\n    useCallMembers: useCallMembers,\n    useCallSession: useCallSession,\n    useCallSettings: useCallSettings,\n    useCallStartedAt: useCallStartedAt,\n    useCallStartsAt: useCallStartsAt,\n    useCallState: useCallState,\n    useCallStatsReport: useCallStatsReport,\n    useCallThumbnail: useCallThumbnail,\n    useCallUpdatedAt: useCallUpdatedAt,\n    useCameraState: useCameraState,\n    useDominantSpeaker: useDominantSpeaker,\n    useHasOngoingScreenShare: useHasOngoingScreenShare,\n    useHasPermissions: useHasPermissions,\n    useIncomingVideoSettings: useIncomingVideoSettings,\n    useIsCallCaptioningInProgress: useIsCallCaptioningInProgress,\n    useIsCallHLSBroadcastingInProgress: useIsCallHLSBroadcastingInProgress,\n    useIsCallLive: useIsCallLive,\n    useIsCallRecordingInProgress: useIsCallRecordingInProgress,\n    useIsCallTranscribingInProgress: useIsCallTranscribingInProgress,\n    useLocalParticipant: useLocalParticipant,\n    useMicrophoneState: useMicrophoneState,\n    useOwnCapabilities: useOwnCapabilities,\n    useParticipantCount: useParticipantCount,\n    useParticipants: useParticipants,\n    useRemoteParticipants: useRemoteParticipants,\n    useScreenShareState: useScreenShareState,\n    useSpeakerState: useSpeakerState\n});\n\n/**\n * Utility hook which provides access to client's state store.\n */\nconst useStore = () => {\n    const client = useStreamVideoClient();\n    if (!client) {\n        throw new Error(`StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.`);\n    }\n    return client.state;\n};\n/**\n * Utility hook which provides a list of all notifications about created calls.\n * In the ring call settings, these calls can be outgoing (I have called somebody)\n * or incoming (somebody has called me).\n *\n * @category Client State\n */\nconst useCalls = () => {\n    const { calls$ } = useStore();\n    return useObservableValue(calls$);\n};\n/**\n * Returns the current connected user.\n *\n * @category Client State\n */\nconst useConnectedUser = () => {\n    const { connectedUser$ } = useStore();\n    return useObservableValue(connectedUser$);\n};\n\n/**\n * Custom hook for toggling call recording in a video call.\n *\n * This hook provides functionality to start and stop call recording,\n * along with state management for tracking the recording status\n * and the loading indicator while awaiting a response.\n */\nconst useToggleCallRecording = () => {\n    const call = useCall();\n    const isCallRecordingInProgress = useIsCallRecordingInProgress();\n    const [isAwaitingResponse, setIsAwaitingResponse] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // TODO: add permissions\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // we wait until call.recording_started/stopped event to flips the\n        // `isCallRecordingInProgress` state variable.\n        // Once the flip happens, we remove the loading indicator\n        setIsAwaitingResponse((isAwaiting) => {\n            if (isAwaiting)\n                return false;\n            return isAwaiting;\n        });\n    }, [isCallRecordingInProgress]);\n    const toggleCallRecording = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async () => {\n        try {\n            setIsAwaitingResponse(true);\n            if (isCallRecordingInProgress) {\n                await call?.stopRecording();\n            }\n            else {\n                await call?.startRecording();\n            }\n        }\n        catch (e) {\n            console.error(`Failed start recording`, e);\n            throw e;\n        }\n    }, [call, isCallRecordingInProgress]);\n    return { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress };\n};\n\n/**\n * A hook-alike function that exposes all call state hooks.\n *\n * @category Call State\n */\nconst useCallStateHooks = () => CallStateHooks;\n\nconst Restricted = ({ canRequestOnly, hasPermissionsOnly, requiredGrants, requireAll = true, children, }) => {\n    const call = useCall();\n    const { useCallSettings, useOwnCapabilities } = useCallStateHooks();\n    const ownCapabilities = useOwnCapabilities();\n    const settings = useCallSettings();\n    const hasPermissions = requiredGrants[requireAll ? 'every' : 'some']((capability) => ownCapabilities?.includes(capability));\n    if (hasPermissionsOnly)\n        return hasPermissions ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    const canRequest = requiredGrants.some((capability) => call?.permissionsContext.canRequest(capability, settings));\n    if (canRequestOnly)\n        return canRequest ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    if (hasPermissions || canRequest)\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children });\n    return null;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0Q7QUFDMkM7QUFDL0Q7QUFDK0I7O0FBRTdELDBCQUEwQixvREFBYTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCLFlBQVksc0RBQUcsK0JBQStCLGlDQUFpQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBVTtBQUNyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLENBQUMsSUFBSTtBQUNMLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0Usa0JBQWtCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0JBQW9CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZKQUE2SjtBQUM3Syw0QkFBNEIsOERBQXNCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsbUJBQW1CO0FBQzlFLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCLG9EQUFhO0FBQ3ZDO0FBQ0EsQ0FBQztBQUNELDhCQUE4QiwrQkFBK0I7QUFDN0QsWUFBWSxVQUFVO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekIscUJBQXFCLDhDQUFPO0FBQzVCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIscUJBQXFCLDhDQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtCQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELCtDQUFRO0FBQ2hFO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0Isa0ZBQWtGO0FBQ3hHO0FBQ0EsWUFBWSxzQ0FBc0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQUcsQ0FBQyx1REFBUSxJQUFJLG9CQUFvQjtBQUNwRTtBQUNBO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsdURBQVEsSUFBSSxvQkFBb0I7QUFDaEU7QUFDQSxlQUFlLHNEQUFHLENBQUMsdURBQVEsSUFBSSxvQkFBb0I7QUFDbkQ7QUFDQTs7QUFFdVI7QUFDdlIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2Rlc3luYy8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LWJpbmRpbmdzL2Rpc3QvaW5kZXguZXMuanM/YTY5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3gsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgaTE4bmV4dCBmcm9tICdpMThuZXh0JztcbmltcG9ydCB7IFJ4VXRpbHMsIENhbGxTdGF0ZSB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tY2xpZW50JztcblxuY29uc3QgU3RyZWFtQ2FsbENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG4vKipcbiAqIEEgcHJvdmlkZXIgZm9yIHRoZSBjYWxsIG9iamVjdC5cbiAqL1xuY29uc3QgU3RyZWFtQ2FsbFByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYWxsLCBjaGlsZHJlbiB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtQ2FsbENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNhbGwsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuLyoqXG4gKiBBIGhvb2sgdG8gZ2V0IHRoZSBjYWxsIG9iamVjdCBmcm9tIHRoZSBjbG9zZXN0IHByb3ZpZGVyLlxuICovXG5jb25zdCB1c2VDYWxsID0gKCkgPT4ge1xuICAgIHJldHVybiB1c2VDb250ZXh0KFN0cmVhbUNhbGxDb250ZXh0KTtcbn07XG5cbmNvbnN0IERFRkFVTFRfTkFNRVNQQUNFID0gJ3N0cmVhbS12aWRlbyc7XG5jb25zdCBERUZBVUxUX0NPTkZJRyA9IHtcbiAgICBkZWJ1ZzogZmFsc2UsXG4gICAgY3VycmVudExhbmd1YWdlOiAnZW4nLFxuICAgIGZhbGxiYWNrTGFuZ3VhZ2U6IGZhbHNlLFxufTtcbmNvbnN0IG1hcFRvUmVnaXN0cnkgPSAodHJhbnNsYXRpb25zTWFwLCBuYW1lc3BhY2UpID0+IE9iamVjdC5lbnRyaWVzKHRyYW5zbGF0aW9uc01hcCkucmVkdWNlKChhY2MsIFtsbmcsIHRyYW5zbGF0aW9uc10pID0+IHtcbiAgICBhY2NbbG5nXSA9IHsgW25hbWVzcGFjZV06IHRyYW5zbGF0aW9ucyB9O1xuICAgIHJldHVybiBhY2M7XG59LCB7fSk7XG5jb25zdCBERUZBVUxUX1RSQU5TTEFUSU9OU19SRUdJU1RSWSA9IG1hcFRvUmVnaXN0cnkoe30sIERFRkFVTFRfTkFNRVNQQUNFKTtcbmNvbnN0IGRlZmF1bHRUcmFuc2xhdGlvbkZ1bmN0aW9uID0gKGtleSkgPT4ga2V5O1xuY2xhc3MgU3RyZWFtSTE4biB7XG4gICAgLyoqIFNpbXBsZSBsb2dnZXIgZnVuY3Rpb24gKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgLyoqIFRyYW5zbGF0b3IgZnVuY3Rpb24gdGhhdCBjb252ZXJ0cyB0aGUgcHJvdmlkZWQgc3RyaW5nIGludG8gaXRzIGVxdWl2YWxlbnQgaW4gdGhlIGN1cnJlbnQgbGFuZ3VhZ2UuICovXG4gICAgICAgIHRoaXMudCA9IGRlZmF1bHRUcmFuc2xhdGlvbkZ1bmN0aW9uO1xuICAgICAgICB0aGlzLmluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMudCA9IGF3YWl0IHRoaXMuaTE4bkluc3RhbmNlLmluaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGluaXRpYWxpemUgdHJhbnNsYXRpb25zOiAke0pTT04uc3RyaW5naWZ5KGUpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2UgPSBhc3luYyAobGFuZ3VhZ2UsIG9uQ2hhbmdlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NoZWNrSXNJbml0aWFsaXplZCgpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIGkxOG5leHQgZGV0ZWN0cyB0aGUgbGFuZ3VhZ2UsIGlmIG5vbmUgcHJvdmlkZWQsIGJ1dCBpdCBpcyBiZXR0ZXJcbiAgICAgICAgICAgIC8vIHRvIHNob3cgdGhpcyBkZXRlY3Rpb24gaGVyZSBleHBsaWNpdGx5XG4gICAgICAgICAgICBjb25zdCBicm93c2VyTGFuZ3VhZ2UgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yXG4gICAgICAgICAgICAgICAgPyB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmkxOG5JbnN0YW5jZS5jaGFuZ2VMYW5ndWFnZShsYW5ndWFnZSB8fCBicm93c2VyTGFuZ3VhZ2UpO1xuICAgICAgICAgICAgb25DaGFuZ2U/Lih0aGlzLmN1cnJlbnRMYW5ndWFnZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVnaXN0ZXJUcmFuc2xhdGlvbnNGb3JMYW5ndWFnZSA9ICh7IGxuZywgdHJhbnNsYXRpb25zLCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NoZWNrSXNJbml0aWFsaXplZCgpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaTE4bkluc3RhbmNlLmFkZFJlc291cmNlQnVuZGxlKGxuZywgREVGQVVMVF9OQU1FU1BBQ0UsIHRyYW5zbGF0aW9ucywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NoZWNrSXNJbml0aWFsaXplZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pMThuSW5zdGFuY2UuaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignSTE4biBpbnN0YW5jZSBpcyBub3QgaW5pdGlhbGl6ZWQuIENhbGwgeW91clN0cmVhbUkxOG5JbnN0YW5jZS5pbml0KCkuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pMThuSW5zdGFuY2UuaXNJbml0aWFsaXplZDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBkZWJ1ZyA9IERFRkFVTFRfQ09ORklHLmRlYnVnLCBjdXJyZW50TGFuZ3VhZ2UgPSBERUZBVUxUX0NPTkZJRy5jdXJyZW50TGFuZ3VhZ2UsIGZhbGxiYWNrTGFuZ3VhZ2UgPSBERUZBVUxUX0NPTkZJRy5mYWxsYmFja0xhbmd1YWdlLCB0cmFuc2xhdGlvbnNPdmVycmlkZXMsIH0gPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmkxOG5JbnN0YW5jZSA9IGkxOG5leHQuY3JlYXRlSW5zdGFuY2Uoe1xuICAgICAgICAgICAgZGVidWcsXG4gICAgICAgICAgICBkZWZhdWx0TlM6IERFRkFVTFRfTkFNRVNQQUNFLFxuICAgICAgICAgICAgZmFsbGJhY2tMbmc6IGZhbGxiYWNrTGFuZ3VhZ2UsXG4gICAgICAgICAgICBpbnRlcnBvbGF0aW9uOiB7IGVzY2FwZVZhbHVlOiBmYWxzZSB9LFxuICAgICAgICAgICAga2V5U2VwYXJhdG9yOiBmYWxzZSxcbiAgICAgICAgICAgIGxuZzogY3VycmVudExhbmd1YWdlLFxuICAgICAgICAgICAgbnNTZXBhcmF0b3I6IGZhbHNlLFxuICAgICAgICAgICAgcGFyc2VNaXNzaW5nS2V5SGFuZGxlcjogKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzb3VyY2VzOiBERUZBVUxUX1RSQU5TTEFUSU9OU19SRUdJU1RSWSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmFuc2xhdGlvbnNPdmVycmlkZXMpIHtcbiAgICAgICAgICAgIHRoaXMuaTE4bkluc3RhbmNlLm9uKCdpbml0aWFsaXplZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyh0cmFuc2xhdGlvbnNPdmVycmlkZXMpLmZvckVhY2goKFtsbmcsIHRyYW5zbGF0aW9uc10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlclRyYW5zbGF0aW9uc0Zvckxhbmd1YWdlKHsgbG5nLCB0cmFuc2xhdGlvbnMgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY3VycmVudExhbmd1YWdlKCkge1xuICAgICAgICB0aGlzLl9jaGVja0lzSW5pdGlhbGl6ZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaTE4bkluc3RhbmNlLmxhbmd1YWdlO1xuICAgIH1cbiAgICBnZXQgaXNJbml0aWFsaXplZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaTE4bkluc3RhbmNlLmlzSW5pdGlhbGl6ZWQ7XG4gICAgfVxufVxuXG5jb25zdCBTdHJlYW1JMThuQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICAgIHQ6IGRlZmF1bHRUcmFuc2xhdGlvbkZ1bmN0aW9uLFxufSk7XG5jb25zdCBTdHJlYW1JMThuUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiwgLi4uY3JlYXRlSTE4blBhcmFtcyB9KSA9PiB7XG4gICAgY29uc3QgeyBpMThuLCB0IH0gPSB1c2VDcmVhdGVJMThuKGNyZWF0ZUkxOG5QYXJhbXMpO1xuICAgIHJldHVybiAoanN4KFN0cmVhbUkxOG5Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IHQsIGkxOG4gfSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5jb25zdCB1c2VDcmVhdGVJMThuID0gKHsgaTE4bkluc3RhbmNlLCBsYW5ndWFnZSwgZmFsbGJhY2tMYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLCB9KSA9PiB7XG4gICAgY29uc3QgW2kxOG5dID0gdXNlU3RhdGUoKCkgPT4gaTE4bkluc3RhbmNlIHx8XG4gICAgICAgIG5ldyBTdHJlYW1JMThuKHtcbiAgICAgICAgICAgIGN1cnJlbnRMYW5ndWFnZTogbGFuZ3VhZ2UsXG4gICAgICAgICAgICBmYWxsYmFja0xhbmd1YWdlLFxuICAgICAgICAgICAgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLFxuICAgICAgICB9KSk7XG4gICAgY29uc3QgW3QsIHNldFRyYW5zbGF0aW9uRm5dID0gdXNlU3RhdGUoKCkgPT4gZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXNJbml0aWFsaXplZCB9ID0gaTE4bjtcbiAgICAgICAgaWYgKCFpc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBpMThuLmluaXQoKS50aGVuKChfaTE4bikgPT4gc2V0VHJhbnNsYXRpb25GbigoKSA9PiBfaTE4bi5pMThuSW5zdGFuY2UudCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5ndWFnZSAmJiBpMThuPy5jdXJyZW50TGFuZ3VhZ2UgIT09IGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBpMThuLmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHdoaWxlIGNoYW5naW5nIGxhbmd1YWdlJywgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2kxOG4sIGkxOG5JbnN0YW5jZSwgbGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlc10pO1xuICAgIHJldHVybiB7IGkxOG4sIHQgfTtcbn07XG5jb25zdCB1c2VJMThuID0gKCkgPT4gdXNlQ29udGV4dChTdHJlYW1JMThuQ29udGV4dCk7XG5cbmNvbnN0IFN0cmVhbVZpZGVvQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbi8qKlxuICogU3RyZWFtVmlkZW8gaXMgYSBwcm92aWRlciBjb21wb25lbnQgd2hpY2ggc2hvdWxkIGJlIHVzZWQgdG8gd3JhcCB0aGUgZW50aXJlIGFwcGxpY2F0aW9uLlxuICogSXQgcHJvdmlkZXMgdGhlIGNsaWVudCBvYmplY3QgdG8gYWxsIGNoaWxkcmVuIGNvbXBvbmVudHMgYW5kIGluaXRpYWxpemVzIHRoZSBpMThuIGluc3RhbmNlLlxuICogIEBwYXJhbSBQcm9wc1dpdGhDaGlsZHJlbjxTdHJlYW1WaWRlb1Byb3BzPlxuICogIEBjYXRlZ29yeSBDbGllbnQgU3RhdGVcbiAqL1xuY29uc3QgU3RyZWFtVmlkZW9Qcm92aWRlciA9ICh7IGNoaWxkcmVuLCBjbGllbnQsIGkxOG5JbnN0YW5jZSwgbGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlcywgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFN0cmVhbVZpZGVvQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY2xpZW50LCBjaGlsZHJlbjoganN4KFN0cmVhbUkxOG5Qcm92aWRlciwgeyBpMThuSW5zdGFuY2U6IGkxOG5JbnN0YW5jZSwgbGFuZ3VhZ2U6IGxhbmd1YWdlLCB0cmFuc2xhdGlvbnNPdmVycmlkZXM6IHRyYW5zbGF0aW9uc092ZXJyaWRlcywgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG4vKipcbiAqXG4gKiBAcmV0dXJuc1xuICpcbiAqIEBjYXRlZ29yeSBDbGllbnQgU3RhdGVcbiAqL1xuY29uc3QgdXNlU3RyZWFtVmlkZW9DbGllbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoU3RyZWFtVmlkZW9Db250ZXh0KTtcbn07XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBnaXZlbiBvYnNlcnZhYmxlLlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byByZWFkIGRhdGEgZnJvbS5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgYSBkZWZhdWx0IHZhbHVlLiBVc2VkIHdoZW4gdGhlIG9ic2VydmFibGUgZGF0YSBjYW4ndCBiZSByZWFkIG9yIGVtaXRzIGFuIGVycm9yLlxuICovXG5jb25zdCB1c2VPYnNlcnZhYmxlVmFsdWUgPSAob2JzZXJ2YWJsZSQsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKG9ic2VydmFibGUkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiBSeFV0aWxzLmNyZWF0ZVN1YnNjcmlwdGlvbihvYnNlcnZhYmxlJCwgc2V0VmFsdWUsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWFkaW5nIGFuIG9ic2VydmFibGUnLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9LCBbZGVmYXVsdFZhbHVlLCBvYnNlcnZhYmxlJF0pO1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgd2UgYXJlIHVzaW5nIFJlYWN0IE5hdGl2ZVxuICovXG5jb25zdCBpc1JlYWN0TmF0aXZlID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBuYXZpZ2F0b3IucHJvZHVjdD8udG9Mb3dlckNhc2UoKSA9PT0gJ3JlYWN0bmF0aXZlJztcbn07XG5cbi8vIGtpbmQtb2YgbWVtb2l6ZWQsIHVzZWQgYXMgYSBkZWZhdWx0IHZhbHVlXG5jb25zdCBFTVBUWV9ERVZJQ0VTX0FSUkFZID0gT2JqZWN0LmZyZWV6ZShbXSk7XG4vKipcbiAqIFV0aWxpdHkgaG9vaywgd2hpY2ggcHJvdmlkZXMgdGhlIGN1cnJlbnQgY2FsbCdzIHN0YXRlLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIC8vIHJldHVybiBhbiBlbXB0eSBhbmQgdW5saW5rZWQgQ2FsbFN0YXRlIG9iamVjdCBpZiB0aGVyZSBpcyBubyBjYWxsIGluIHRoZSBwcm92aWRlclxuICAgIC8vIHRoaXMgZW5zdXJlcyB0aGF0IHRoZSBob29rcyBhbHdheXMgcmV0dXJuIGEgdmFsdWUgYW5kIG1hbnkgbnVsbCBjaGVja3MgY2FuIGJlIGF2b2lkZWRcbiAgICBpZiAoIWNhbGwpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdZb3UgYXJlIHVzaW5nIHVzZUNhbGxTdGF0ZSgpIG91dHNpZGUgYSBDYWxsIGNvbnRleHQuICcgK1xuICAgICAgICAgICAgJ1BsZWFzZSB3cmFwIHlvdXIgY29tcG9uZW50IGluIDxTdHJlYW1DYWxsIC8+IGFuZCBwcm92aWRlIGEgXCJjYWxsXCIgaW5zdGFuY2UuJztcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gbmV3IENhbGxTdGF0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbC5zdGF0ZTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBpbmZvcm1hdGlvbiB3aGV0aGVyIHRoZSBjdXJyZW50IGNhbGwgaXMgYmVpbmcgcmVjb3JkZWQuIEl0IHdpbGwgcmV0dXJuIGB0cnVlYCBpZiB0aGUgY2FsbCBpcyBiZWluZyByZWNvcmRlZC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VJc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVjb3JkaW5nJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShyZWNvcmRpbmckKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBpbmZvcm1hdGlvbiB3aGV0aGVyIHRoZSBjdXJyZW50IGNhbGwgaXMgYnJvYWRjYXN0aW5nLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbEhMU0Jyb2FkY2FzdGluZ0luUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlZ3Jlc3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBlZ3Jlc3MgPSB1c2VPYnNlcnZhYmxlVmFsdWUoZWdyZXNzJCk7XG4gICAgaWYgKCFlZ3Jlc3MpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gZWdyZXNzLmJyb2FkY2FzdGluZztcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBpbmZvcm1hdGlvbiB3aGV0aGVyIHRoZSBjdXJyZW50IGNhbGwgaXMgbGl2ZS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VJc0NhbGxMaXZlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgYmFja3N0YWdlJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgY29uc3QgaXNCYWNrc3RhZ2VPbiA9IHVzZU9ic2VydmFibGVWYWx1ZShiYWNrc3RhZ2UkKTtcbiAgICByZXR1cm4gIWlzQmFja3N0YWdlT247XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGJsb2NrZWQgdXNlcnMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAqL1xuY29uc3QgdXNlQ2FsbEJsb2NrZWRVc2VySWRzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgYmxvY2tlZFVzZXJJZHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGJsb2NrZWRVc2VySWRzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgd2hlbiB0aGlzIGNhbGwgd2FzIGNyZWF0ZWQuXG4gKi9cbmNvbnN0IHVzZUNhbGxDcmVhdGVkQXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjcmVhdGVkQXQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNyZWF0ZWRBdCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHdoZW4gdGhpcyBjYWxsIHdhcyBlbmRlZC5cbiAqL1xuY29uc3QgdXNlQ2FsbEVuZGVkQXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlbmRlZEF0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShlbmRlZEF0JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgdGVsbGluZyB3aGVuIHRoZSBjYWxsIGlzIHNjaGVkdWxlZCB0byBzdGFydC5cbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXJ0c0F0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhcnRzQXQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXJ0c0F0JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgd2hlbiB0aGlzIGNhbGwgd2FzIHVwZGF0ZWQuXG4gKi9cbmNvbnN0IHVzZUNhbGxVcGRhdGVkQXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB1cGRhdGVkQXQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHVwZGF0ZWRBdCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNhbGwncyBjcmVhdG9yLlxuICovXG5jb25zdCB1c2VDYWxsQ3JlYXRlZEJ5ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3JlYXRlZEJ5JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjcmVhdGVkQnkkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBjdXN0b20gZGF0YS5cbiAqL1xuY29uc3QgdXNlQ2FsbEN1c3RvbURhdGEgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjdXN0b20kIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGN1c3RvbSQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FsbCdzIEVncmVzcyBpbmZvcm1hdGlvbi5cbiAqL1xuY29uc3QgdXNlQ2FsbEVncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGVncmVzcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoZWdyZXNzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWxsJ3MgSW5ncmVzcyBpbmZvcm1hdGlvbi5cbiAqL1xuY29uc3QgdXNlQ2FsbEluZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBpbmdyZXNzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShpbmdyZXNzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBkYXRhIGZvciB0aGUgY3VycmVudCBjYWxsIHNlc3Npb24uXG4gKi9cbmNvbnN0IHVzZUNhbGxTZXNzaW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2Vzc2lvbiQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoc2Vzc2lvbiQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FsbCdzIHNldHRpbmdzLlxuICovXG5jb25zdCB1c2VDYWxsU2V0dGluZ3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzZXR0aW5ncyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoc2V0dGluZ3MkKTtcbn07XG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgY2FsbCBoYXMgdHJhbnNjcmliaW5nIGVuYWJsZWQuXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbFRyYW5zY3JpYmluZ0luUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0cmFuc2NyaWJpbmckIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHRyYW5zY3JpYmluZyQpO1xufTtcbi8qKlxuICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlciB3aG8gaGFzIG1hcmtlZCB0aGlzIGNhbGwgYXMgZW5kZWQuXG4gKi9cbmNvbnN0IHVzZUNhbGxFbmRlZEJ5ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZW5kZWRCeSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoZW5kZWRCeSQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlcmUgaXNcbiAqIGEgcGFydGljaXBhbnQgaW4gdGhlIGN1cnJlbnQgY2FsbCB3aGljaCBzaGFyZXMgdGhlaXIgc2NyZWVuLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGhhc09uZ29pbmdTY3JlZW5TaGFyZSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoaGFzT25nb2luZ1NjcmVlblNoYXJlJCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgdGhlIGxhdGVzdCBzdGF0cyByZXBvcnQgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqXG4gKiBUaGUgbGF0ZXN0IHN0YXRzIHJlcG9ydCBvZiB0aGUgY3VycmVudCBjYWxsLlxuICogV2hlbiBzdGF0cyBnYXRoZXJpbmcgaXMgZW5hYmxlZCwgdGhpcyBvYnNlcnZhYmxlIHdpbGwgZW1pdCBhIG5ldyB2YWx1ZVxuICogYXQgYSByZWd1bGFyIChjb25maWd1cmFibGUpIGludGVydmFsLlxuICpcbiAqIENvbnN1bWVycyBvZiB0aGlzIG9ic2VydmFibGUgY2FuIGltcGxlbWVudCB0aGVpciBvd24gYmF0Y2hpbmcgbG9naWNcbiAqIGluIGNhc2UgdGhleSB3YW50IHRvIHNob3cgaGlzdG9yaWNhbCBzdGF0cyBkYXRhLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGF0c1JlcG9ydCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhbGxTdGF0c1JlcG9ydCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbFN0YXRzUmVwb3J0JCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgdGhlIGRvbWluYW50IHNwZWFrZXIgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VEb21pbmFudFNwZWFrZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBkb21pbmFudFNwZWFrZXIkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGRvbWluYW50U3BlYWtlciQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGEgbGlzdCBvZiBjYWxsIG1lbWJlcnMuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbE1lbWJlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBtZW1iZXJzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShtZW1iZXJzJCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgcHJvdmlkaW5nIHRoZSBjdXJyZW50IGNhbGxpbmcgc3RhdGUgb2YgdGhlIGNhbGwuIEZvciBleGFtcGxlLCBgUklOR0lOR2Agb3IgYEpPSU5FRGAuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbENhbGxpbmdTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhbGxpbmdTdGF0ZSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbGluZ1N0YXRlJCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgcHJvdmlkaW5nIHRoZSBhY3R1YWwgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBzZXNzaW9uLlxuICogVXNlZnVsIGZvciBjYWxjdWxhdGluZyB0aGUgY2FsbCBkdXJhdGlvbi5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxsU3RhcnRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhcnRlZEF0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShzdGFydGVkQXQkKTtcbn07XG4vKipcbiAqIEEgaG9vayB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgYWxsIHBhcnRpY2lwYW50cyB0aGF0IGhhdmUgam9pbmVkIGFuIGFjdGl2ZSBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKlxuICogQHBhcmFtIG9wdGlvbnMuc29ydEJ5IC0gQSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cyBieS5cbiAqIE1ha2Ugc3VyZSB0byBtZW1vaXplIG91dHB1dCBvZiB0aGUgYGNvbWJpbmVDb21wYXJhdG9yc2AgZnVuY3Rpb25cbiAqIChvciBrZWVwIGl0IG91dCBvZiBjb21wb25lbnQncyBzY29wZSBpZiBwb3NzaWJsZSkgYmVmb3JlIHBhc3NpbmcgaXQgZG93biB0byB0aGlzIHByb3BlcnR5LlxuICovXG5jb25zdCB1c2VQYXJ0aWNpcGFudHMgPSAoeyBzb3J0QnksIH0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHBhcnRpY2lwYW50cyQpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgaWYgKHNvcnRCeSkge1xuICAgICAgICAgICAgcmV0dXJuIFsuLi5wYXJ0aWNpcGFudHNdLnNvcnQoc29ydEJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydGljaXBhbnRzO1xuICAgIH0sIFtwYXJ0aWNpcGFudHMsIHNvcnRCeV0pO1xufTtcbi8qKlxuICogQSBob29rIHdoaWNoIHByb3ZpZGVzIGEgU3RyZWFtVmlkZW9Mb2NhbFBhcnRpY2lwYW50IG9iamVjdC5cbiAqIEl0IHNpZ25hbHMgdGhhdCBJIGhhdmUgam9pbmVkIGEgY2FsbC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VMb2NhbFBhcnRpY2lwYW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbG9jYWxQYXJ0aWNpcGFudCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUobG9jYWxQYXJ0aWNpcGFudCQpO1xufTtcbi8qKlxuICogQSBob29rIHdoaWNoIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgb3RoZXIgcGFydGljaXBhbnRzIHRoYW4gbWUgdGhhdCBoYXZlIGpvaW5lZCBhbiBhY3RpdmUgY2FsbC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VSZW1vdGVQYXJ0aWNpcGFudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZW1vdGVQYXJ0aWNpcGFudHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHJlbW90ZVBhcnRpY2lwYW50cyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgYXBwcm94aW1hdGUgcGFydGljaXBhbnQgY291bnQgb2YgdGhlIGFjdGl2ZSBjYWxsLlxuICogVGhpcyBpbmNsdWRlcyB0aGUgYW5vbnltb3VzIHVzZXJzIGFzIHdlbGwsIGFuZCBpdCBpcyBjb21wdXRlZCBvbiB0aGUgc2VydmVyLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZVBhcnRpY2lwYW50Q291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudENvdW50JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShwYXJ0aWNpcGFudENvdW50JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3hpbWF0ZSBhbm9ueW1vdXMgcGFydGljaXBhbnQgY291bnQgb2YgdGhlIGFjdGl2ZSBjYWxsLlxuICogVGhlIHJlZ3VsYXIgcGFydGljaXBhbnRzIGFyZSBub3QgaW5jbHVkZWQgaW4gdGhpcyBjb3VudC4gSXQgaXMgY29tcHV0ZWQgb24gdGhlIHNlcnZlci5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgZ2VuZXJhdGVkIHRodW1ibmFpbCBvZiB0aGUgY3VycmVudCBjYWxsLCBpZiBlbmFibGVkIGluIHNldHRpbmdzLlxuICovXG5jb25zdCB1c2VDYWxsVGh1bWJuYWlsID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdGh1bWJuYWlscyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUodGh1bWJuYWlscyQpO1xufTtcbi8qKlxuICogQSBob29rIHdoaWNoIHJldHVybnMgdGhlIGxvY2FsIHBhcnRpY2lwYW50J3Mgb3duIGNhcGFiaWxpdGllcy5cbiAqL1xuY29uc3QgdXNlT3duQ2FwYWJpbGl0aWVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgb3duQ2FwYWJpbGl0aWVzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShvd25DYXBhYmlsaXRpZXMkKTtcbn07XG4vKipcbiAqIEhvb2sgdGhhdCByZXR1cm5zIHRydWUgaWYgdGhlIGxvY2FsIHBhcnRpY2lwYW50IGhhcyBhbGwgdGhlIGdpdmVuIHBlcm1pc3Npb25zLlxuICpcbiAqIEBwYXJhbSBwZXJtaXNzaW9ucyB0aGUgcGVybWlzc2lvbnMgdG8gY2hlY2suXG4gKi9cbmNvbnN0IHVzZUhhc1Blcm1pc3Npb25zID0gKC4uLnBlcm1pc3Npb25zKSA9PiB7XG4gICAgY29uc3QgY2FwYWJpbGl0aWVzID0gdXNlT3duQ2FwYWJpbGl0aWVzKCk7XG4gICAgcmV0dXJuIHBlcm1pc3Npb25zLmV2ZXJ5KChwZXJtaXNzaW9uKSA9PiBjYXBhYmlsaXRpZXM/LmluY2x1ZGVzKHBlcm1pc3Npb24pKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbWVyYSBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBDYW1lcmEgTWFuYWdlciBTdGF0ZVxuICpcbiAqL1xuY29uc3QgdXNlQ2FtZXJhU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IGNhbWVyYSB9ID0gY2FsbDtcbiAgICBjb25zdCBkZXZpY2VzJCA9IHVzZU1lbW8oKCkgPT4gY2FtZXJhLmxpc3REZXZpY2VzKCksIFtjYW1lcmFdKTtcbiAgICBjb25zdCB7IHN0YXRlIH0gPSBjYW1lcmE7XG4gICAgY29uc3Qgc3RhdHVzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnN0YXR1cyQpO1xuICAgIGNvbnN0IG9wdGltaXN0aWNTdGF0dXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUub3B0aW1pc3RpY1N0YXR1cyQpO1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5kaXJlY3Rpb24kKTtcbiAgICBjb25zdCBtZWRpYVN0cmVhbSA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5tZWRpYVN0cmVhbSQpO1xuICAgIGNvbnN0IHNlbGVjdGVkRGV2aWNlID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnNlbGVjdGVkRGV2aWNlJCk7XG4gICAgY29uc3QgZGV2aWNlcyA9IHVzZU9ic2VydmFibGVWYWx1ZShkZXZpY2VzJCwgRU1QVFlfREVWSUNFU19BUlJBWSk7XG4gICAgY29uc3QgaGFzQnJvd3NlclBlcm1pc3Npb24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuaGFzQnJvd3NlclBlcm1pc3Npb24kKTtcbiAgICBjb25zdCBpc011dGUgPSBzdGF0dXMgIT09ICdlbmFibGVkJztcbiAgICBjb25zdCBvcHRpbWlzdGljSXNNdXRlID0gb3B0aW1pc3RpY1N0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNhbWVyYSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBvcHRpbWlzdGljU3RhdHVzLFxuICAgICAgICBpc0VuYWJsZWQ6IHN0YXR1cyA9PT0gJ2VuYWJsZWQnLFxuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIG1lZGlhU3RyZWFtLFxuICAgICAgICBkZXZpY2VzLFxuICAgICAgICBoYXNCcm93c2VyUGVybWlzc2lvbixcbiAgICAgICAgc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGlzTXV0ZSxcbiAgICAgICAgb3B0aW1pc3RpY0lzTXV0ZSxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgbWljcm9waG9uZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBNaWNyb3Bob25lIE1hbmFnZXIgU3RhdGVcbiAqL1xuY29uc3QgdXNlTWljcm9waG9uZVN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBtaWNyb3Bob25lIH0gPSBjYWxsO1xuICAgIGNvbnN0IGRldmljZXMkID0gdXNlTWVtbygoKSA9PiBtaWNyb3Bob25lLmxpc3REZXZpY2VzKCksIFttaWNyb3Bob25lXSk7XG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gbWljcm9waG9uZTtcbiAgICBjb25zdCBzdGF0dXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc3RhdHVzJCk7XG4gICAgY29uc3Qgb3B0aW1pc3RpY1N0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5vcHRpbWlzdGljU3RhdHVzJCk7XG4gICAgY29uc3QgbWVkaWFTdHJlYW0gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUubWVkaWFTdHJlYW0kKTtcbiAgICBjb25zdCBzZWxlY3RlZERldmljZSA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5zZWxlY3RlZERldmljZSQpO1xuICAgIGNvbnN0IGRldmljZXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoZGV2aWNlcyQsIEVNUFRZX0RFVklDRVNfQVJSQVkpO1xuICAgIGNvbnN0IGhhc0Jyb3dzZXJQZXJtaXNzaW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmhhc0Jyb3dzZXJQZXJtaXNzaW9uJCk7XG4gICAgY29uc3QgaXNTcGVha2luZ1doaWxlTXV0ZWQgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc3BlYWtpbmdXaGlsZU11dGVkJCk7XG4gICAgY29uc3QgaXNNdXRlID0gc3RhdHVzICE9PSAnZW5hYmxlZCc7XG4gICAgY29uc3Qgb3B0aW1pc3RpY0lzTXV0ZSA9IG9wdGltaXN0aWNTdGF0dXMgIT09ICdlbmFibGVkJztcbiAgICByZXR1cm4ge1xuICAgICAgICBtaWNyb3Bob25lLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIG9wdGltaXN0aWNTdGF0dXMsXG4gICAgICAgIGlzRW5hYmxlZDogc3RhdHVzID09PSAnZW5hYmxlZCcsXG4gICAgICAgIG1lZGlhU3RyZWFtLFxuICAgICAgICBkZXZpY2VzLFxuICAgICAgICBzZWxlY3RlZERldmljZSxcbiAgICAgICAgaGFzQnJvd3NlclBlcm1pc3Npb24sXG4gICAgICAgIGlzU3BlYWtpbmdXaGlsZU11dGVkLFxuICAgICAgICBpc011dGUsXG4gICAgICAgIG9wdGltaXN0aWNJc011dGUsXG4gICAgfTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHNwZWFrZXIgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqXG4gKiBOb3RlOiBUaGlzIGhvb2sgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAqL1xuY29uc3QgdXNlU3BlYWtlclN0YXRlID0gKCkgPT4ge1xuICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIG1vcmUgZGV0YWlscycpO1xuICAgIH1cbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgc3BlYWtlciB9ID0gY2FsbDtcbiAgICBjb25zdCBkZXZpY2VzJCA9IHVzZU1lbW8oKCkgPT4gc3BlYWtlci5saXN0RGV2aWNlcygpLCBbc3BlYWtlcl0pO1xuICAgIGNvbnN0IGRldmljZXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoZGV2aWNlcyQsIEVNUFRZX0RFVklDRVNfQVJSQVkpO1xuICAgIGNvbnN0IHNlbGVjdGVkRGV2aWNlID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHNwZWFrZXIuc3RhdGUuc2VsZWN0ZWREZXZpY2UkKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzcGVha2VyLFxuICAgICAgICBkZXZpY2VzLFxuICAgICAgICBzZWxlY3RlZERldmljZSxcbiAgICAgICAgaXNEZXZpY2VTZWxlY3Rpb25TdXBwb3J0ZWQ6IHNwZWFrZXIuc3RhdGUuaXNEZXZpY2VTZWxlY3Rpb25TdXBwb3J0ZWQsXG4gICAgfTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIFNjcmVlbiBTaGFyZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICovXG5jb25zdCB1c2VTY3JlZW5TaGFyZVN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBzY3JlZW5TaGFyZSB9ID0gY2FsbDtcbiAgICBjb25zdCBzdGF0dXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc2NyZWVuU2hhcmUuc3RhdGUuc3RhdHVzJCk7XG4gICAgY29uc3QgcGVuZGluZ1N0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzY3JlZW5TaGFyZS5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzJCk7XG4gICAgY29uc3QgbWVkaWFTdHJlYW0gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc2NyZWVuU2hhcmUuc3RhdGUubWVkaWFTdHJlYW0kKTtcbiAgICBjb25zdCBpc011dGUgPSBzdGF0dXMgIT09ICdlbmFibGVkJztcbiAgICBjb25zdCBvcHRpbWlzdGljU3RhdHVzID0gcGVuZGluZ1N0YXR1cyA/PyBzdGF0dXM7XG4gICAgY29uc3Qgb3B0aW1pc3RpY0lzTXV0ZSA9IG9wdGltaXN0aWNTdGF0dXMgIT09ICdlbmFibGVkJztcbiAgICByZXR1cm4ge1xuICAgICAgICBzY3JlZW5TaGFyZSxcbiAgICAgICAgbWVkaWFTdHJlYW0sXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgb3B0aW1pc3RpY1N0YXR1cyxcbiAgICAgICAgaXNNdXRlLFxuICAgICAgICBvcHRpbWlzdGljSXNNdXRlLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIGluY29taW5nIHZpZGVvIHNldHRpbmdzIGZvciB0aGUgY3VycmVudCBjYWxsLCBpbmNsdWRpbmdcbiAqIGdsb2JhbCBhbmQgcGVyLXBhcnRpY2lwYW50IG1hbnVhbCB2aWRlbyBxdWFsaXR5IG92ZXJyaWRlcy5cbiAqL1xuY29uc3QgdXNlSW5jb21pbmdWaWRlb1NldHRpbmdzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbC5keW5hc2NhbGVNYW5hZ2VyLmluY29taW5nVmlkZW9TZXR0aW5ncyQpO1xuICAgIHJldHVybiBzZXR0aW5ncztcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgY2FsbCdzIGNsb3NlZCBjYXB0aW9ucyBxdWV1ZS5cbiAqL1xuY29uc3QgdXNlQ2FsbENsb3NlZENhcHRpb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2xvc2VkQ2FwdGlvbnMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNsb3NlZENhcHRpb25zJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNhbGwncyBjbG9zZWQgY2FwdGlvbnMgcXVldWUuXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbENhcHRpb25pbmdJblByb2dyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2FwdGlvbmluZyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FwdGlvbmluZyQpO1xufTtcblxudmFyIENhbGxTdGF0ZUhvb2tzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50OiB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50LFxuICAgIHVzZUNhbGxCbG9ja2VkVXNlcklkczogdXNlQ2FsbEJsb2NrZWRVc2VySWRzLFxuICAgIHVzZUNhbGxDYWxsaW5nU3RhdGU6IHVzZUNhbGxDYWxsaW5nU3RhdGUsXG4gICAgdXNlQ2FsbENsb3NlZENhcHRpb25zOiB1c2VDYWxsQ2xvc2VkQ2FwdGlvbnMsXG4gICAgdXNlQ2FsbENyZWF0ZWRBdDogdXNlQ2FsbENyZWF0ZWRBdCxcbiAgICB1c2VDYWxsQ3JlYXRlZEJ5OiB1c2VDYWxsQ3JlYXRlZEJ5LFxuICAgIHVzZUNhbGxDdXN0b21EYXRhOiB1c2VDYWxsQ3VzdG9tRGF0YSxcbiAgICB1c2VDYWxsRWdyZXNzOiB1c2VDYWxsRWdyZXNzLFxuICAgIHVzZUNhbGxFbmRlZEF0OiB1c2VDYWxsRW5kZWRBdCxcbiAgICB1c2VDYWxsRW5kZWRCeTogdXNlQ2FsbEVuZGVkQnksXG4gICAgdXNlQ2FsbEluZ3Jlc3M6IHVzZUNhbGxJbmdyZXNzLFxuICAgIHVzZUNhbGxNZW1iZXJzOiB1c2VDYWxsTWVtYmVycyxcbiAgICB1c2VDYWxsU2Vzc2lvbjogdXNlQ2FsbFNlc3Npb24sXG4gICAgdXNlQ2FsbFNldHRpbmdzOiB1c2VDYWxsU2V0dGluZ3MsXG4gICAgdXNlQ2FsbFN0YXJ0ZWRBdDogdXNlQ2FsbFN0YXJ0ZWRBdCxcbiAgICB1c2VDYWxsU3RhcnRzQXQ6IHVzZUNhbGxTdGFydHNBdCxcbiAgICB1c2VDYWxsU3RhdGU6IHVzZUNhbGxTdGF0ZSxcbiAgICB1c2VDYWxsU3RhdHNSZXBvcnQ6IHVzZUNhbGxTdGF0c1JlcG9ydCxcbiAgICB1c2VDYWxsVGh1bWJuYWlsOiB1c2VDYWxsVGh1bWJuYWlsLFxuICAgIHVzZUNhbGxVcGRhdGVkQXQ6IHVzZUNhbGxVcGRhdGVkQXQsXG4gICAgdXNlQ2FtZXJhU3RhdGU6IHVzZUNhbWVyYVN0YXRlLFxuICAgIHVzZURvbWluYW50U3BlYWtlcjogdXNlRG9taW5hbnRTcGVha2VyLFxuICAgIHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZTogdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlLFxuICAgIHVzZUhhc1Blcm1pc3Npb25zOiB1c2VIYXNQZXJtaXNzaW9ucyxcbiAgICB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3M6IHVzZUluY29taW5nVmlkZW9TZXR0aW5ncyxcbiAgICB1c2VJc0NhbGxDYXB0aW9uaW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsQ2FwdGlvbmluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VJc0NhbGxMaXZlOiB1c2VJc0NhbGxMaXZlLFxuICAgIHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3M6IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VMb2NhbFBhcnRpY2lwYW50OiB1c2VMb2NhbFBhcnRpY2lwYW50LFxuICAgIHVzZU1pY3JvcGhvbmVTdGF0ZTogdXNlTWljcm9waG9uZVN0YXRlLFxuICAgIHVzZU93bkNhcGFiaWxpdGllczogdXNlT3duQ2FwYWJpbGl0aWVzLFxuICAgIHVzZVBhcnRpY2lwYW50Q291bnQ6IHVzZVBhcnRpY2lwYW50Q291bnQsXG4gICAgdXNlUGFydGljaXBhbnRzOiB1c2VQYXJ0aWNpcGFudHMsXG4gICAgdXNlUmVtb3RlUGFydGljaXBhbnRzOiB1c2VSZW1vdGVQYXJ0aWNpcGFudHMsXG4gICAgdXNlU2NyZWVuU2hhcmVTdGF0ZTogdXNlU2NyZWVuU2hhcmVTdGF0ZSxcbiAgICB1c2VTcGVha2VyU3RhdGU6IHVzZVNwZWFrZXJTdGF0ZVxufSk7XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGFjY2VzcyB0byBjbGllbnQncyBzdGF0ZSBzdG9yZS5cbiAqL1xuY29uc3QgdXNlU3RvcmUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xpZW50ID0gdXNlU3RyZWFtVmlkZW9DbGllbnQoKTtcbiAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmVhbVZpZGVvQ2xpZW50IGlzbid0IGluaXRpYWxpemVkIG9yIHRoaXMgaG9vayBpcyBjYWxsZWQgb3V0c2lkZSBvZiA8U3RyZWFtVmlkZW8+IGNvbnRleHQuYCk7XG4gICAgfVxuICAgIHJldHVybiBjbGllbnQuc3RhdGU7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBub3RpZmljYXRpb25zIGFib3V0IGNyZWF0ZWQgY2FsbHMuXG4gKiBJbiB0aGUgcmluZyBjYWxsIHNldHRpbmdzLCB0aGVzZSBjYWxscyBjYW4gYmUgb3V0Z29pbmcgKEkgaGF2ZSBjYWxsZWQgc29tZWJvZHkpXG4gKiBvciBpbmNvbWluZyAoc29tZWJvZHkgaGFzIGNhbGxlZCBtZSkuXG4gKlxuICogQGNhdGVnb3J5IENsaWVudCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxscyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhbGxzJCB9ID0gdXNlU3RvcmUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNhbGxzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNvbm5lY3RlZCB1c2VyLlxuICpcbiAqIEBjYXRlZ29yeSBDbGllbnQgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ29ubmVjdGVkVXNlciA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNvbm5lY3RlZFVzZXIkIH0gPSB1c2VTdG9yZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY29ubmVjdGVkVXNlciQpO1xufTtcblxuLyoqXG4gKiBDdXN0b20gaG9vayBmb3IgdG9nZ2xpbmcgY2FsbCByZWNvcmRpbmcgaW4gYSB2aWRlbyBjYWxsLlxuICpcbiAqIFRoaXMgaG9vayBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHN0YXJ0IGFuZCBzdG9wIGNhbGwgcmVjb3JkaW5nLFxuICogYWxvbmcgd2l0aCBzdGF0ZSBtYW5hZ2VtZW50IGZvciB0cmFja2luZyB0aGUgcmVjb3JkaW5nIHN0YXR1c1xuICogYW5kIHRoZSBsb2FkaW5nIGluZGljYXRvciB3aGlsZSBhd2FpdGluZyBhIHJlc3BvbnNlLlxuICovXG5jb25zdCB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyA9IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MoKTtcbiAgICBjb25zdCBbaXNBd2FpdGluZ1Jlc3BvbnNlLCBzZXRJc0F3YWl0aW5nUmVzcG9uc2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIC8vIFRPRE86IGFkZCBwZXJtaXNzaW9uc1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIHdlIHdhaXQgdW50aWwgY2FsbC5yZWNvcmRpbmdfc3RhcnRlZC9zdG9wcGVkIGV2ZW50IHRvIGZsaXBzIHRoZVxuICAgICAgICAvLyBgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc2Agc3RhdGUgdmFyaWFibGUuXG4gICAgICAgIC8vIE9uY2UgdGhlIGZsaXAgaGFwcGVucywgd2UgcmVtb3ZlIHRoZSBsb2FkaW5nIGluZGljYXRvclxuICAgICAgICBzZXRJc0F3YWl0aW5nUmVzcG9uc2UoKGlzQXdhaXRpbmcpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0F3YWl0aW5nKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBpc0F3YWl0aW5nO1xuICAgICAgICB9KTtcbiAgICB9LCBbaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc10pO1xuICAgIGNvbnN0IHRvZ2dsZUNhbGxSZWNvcmRpbmcgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRJc0F3YWl0aW5nUmVzcG9uc2UodHJ1ZSk7XG4gICAgICAgICAgICBpZiAoaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LnN0b3BSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LnN0YXJ0UmVjb3JkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCBzdGFydCByZWNvcmRpbmdgLCBlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9LCBbY2FsbCwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc10pO1xuICAgIHJldHVybiB7IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGlzQXdhaXRpbmdSZXNwb25zZSwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9O1xufTtcblxuLyoqXG4gKiBBIGhvb2stYWxpa2UgZnVuY3Rpb24gdGhhdCBleHBvc2VzIGFsbCBjYWxsIHN0YXRlIGhvb2tzLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGF0ZUhvb2tzID0gKCkgPT4gQ2FsbFN0YXRlSG9va3M7XG5cbmNvbnN0IFJlc3RyaWN0ZWQgPSAoeyBjYW5SZXF1ZXN0T25seSwgaGFzUGVybWlzc2lvbnNPbmx5LCByZXF1aXJlZEdyYW50cywgcmVxdWlyZUFsbCA9IHRydWUsIGNoaWxkcmVuLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxTZXR0aW5ncywgdXNlT3duQ2FwYWJpbGl0aWVzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IG93bkNhcGFiaWxpdGllcyA9IHVzZU93bkNhcGFiaWxpdGllcygpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3QgaGFzUGVybWlzc2lvbnMgPSByZXF1aXJlZEdyYW50c1tyZXF1aXJlQWxsID8gJ2V2ZXJ5JyA6ICdzb21lJ10oKGNhcGFiaWxpdHkpID0+IG93bkNhcGFiaWxpdGllcz8uaW5jbHVkZXMoY2FwYWJpbGl0eSkpO1xuICAgIGlmIChoYXNQZXJtaXNzaW9uc09ubHkpXG4gICAgICAgIHJldHVybiBoYXNQZXJtaXNzaW9ucyA/IGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSkgOiBudWxsO1xuICAgIGNvbnN0IGNhblJlcXVlc3QgPSByZXF1aXJlZEdyYW50cy5zb21lKChjYXBhYmlsaXR5KSA9PiBjYWxsPy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChjYXBhYmlsaXR5LCBzZXR0aW5ncykpO1xuICAgIGlmIChjYW5SZXF1ZXN0T25seSlcbiAgICAgICAgcmV0dXJuIGNhblJlcXVlc3QgPyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuIH0pIDogbnVsbDtcbiAgICBpZiAoaGFzUGVybWlzc2lvbnMgfHwgY2FuUmVxdWVzdClcbiAgICAgICAgcmV0dXJuIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSk7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgeyBSZXN0cmljdGVkLCBTdHJlYW1DYWxsUHJvdmlkZXIsIFN0cmVhbUkxOG4sIFN0cmVhbUkxOG5Qcm92aWRlciwgU3RyZWFtVmlkZW9Qcm92aWRlciwgZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24sIHVzZUNhbGwsIHVzZUNhbGxTdGF0ZUhvb2tzLCB1c2VDYWxscywgdXNlQ29ubmVjdGVkVXNlciwgdXNlQ3JlYXRlSTE4biwgdXNlSTE4biwgdXNlT2JzZXJ2YWJsZVZhbHVlLCB1c2VTdG9yZSwgdXNlU3RyZWFtVmlkZW9DbGllbnQsIHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js":
/*!******************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/index.es.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AcceptCallButton: () => (/* binding */ AcceptCallButton),\n/* harmony export */   Audio: () => (/* binding */ Audio),\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   Avatar: () => (/* binding */ Avatar),\n/* harmony export */   AvatarFallback: () => (/* binding */ AvatarFallback),\n/* harmony export */   AxiosError: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AxiosError),\n/* harmony export */   BackgroundFiltersProvider: () => (/* binding */ BackgroundFiltersProvider),\n/* harmony export */   BaseVideo: () => (/* binding */ BaseVideo),\n/* harmony export */   BlockListOptionsBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.BlockListOptionsBehaviorEnum),\n/* harmony export */   Browsers: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers),\n/* harmony export */   Call: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Call),\n/* harmony export */   CallControls: () => (/* binding */ CallControls),\n/* harmony export */   CallParticipantListing: () => (/* binding */ CallParticipantListing),\n/* harmony export */   CallParticipantListingItem: () => (/* binding */ CallParticipantListingItem),\n/* harmony export */   CallParticipantsList: () => (/* binding */ CallParticipantsList),\n/* harmony export */   CallPreview: () => (/* binding */ CallPreview),\n/* harmony export */   CallRecordingList: () => (/* binding */ CallRecordingList),\n/* harmony export */   CallRecordingListHeader: () => (/* binding */ CallRecordingListHeader),\n/* harmony export */   CallRecordingListItem: () => (/* binding */ CallRecordingListItem),\n/* harmony export */   CallState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallState),\n/* harmony export */   CallStats: () => (/* binding */ CallStats),\n/* harmony export */   CallStatsButton: () => (/* binding */ CallStatsButton),\n/* harmony export */   CallType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallType),\n/* harmony export */   CallTypes: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes),\n/* harmony export */   CallingState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState),\n/* harmony export */   CameraManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManager),\n/* harmony export */   CameraManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManagerState),\n/* harmony export */   CancelCallButton: () => (/* binding */ CancelCallButton),\n/* harmony export */   CancelCallConfirmButton: () => (/* binding */ CancelCallConfirmButton),\n/* harmony export */   ChannelConfigWithInfoAutomodBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoAutomodBehaviorEnum),\n/* harmony export */   ChannelConfigWithInfoAutomodEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoAutomodEnum),\n/* harmony export */   ChannelConfigWithInfoBlocklistBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoBlocklistBehaviorEnum),\n/* harmony export */   ChannelOwnCapability: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelOwnCapability),\n/* harmony export */   CompositeButton: () => (/* binding */ CompositeButton),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DebounceType),\n/* harmony export */   DefaultParticipantViewUI: () => (/* binding */ DefaultParticipantViewUI),\n/* harmony export */   DefaultReactionsMenu: () => (/* binding */ DefaultReactionsMenu),\n/* harmony export */   DefaultScreenShareOverlay: () => (/* binding */ DefaultScreenShareOverlay),\n/* harmony export */   DefaultVideoPlaceholder: () => (/* binding */ DefaultVideoPlaceholder),\n/* harmony export */   DeviceSelector: () => (/* binding */ DeviceSelector),\n/* harmony export */   DeviceSelectorAudioInput: () => (/* binding */ DeviceSelectorAudioInput),\n/* harmony export */   DeviceSelectorAudioOutput: () => (/* binding */ DeviceSelectorAudioOutput),\n/* harmony export */   DeviceSelectorVideo: () => (/* binding */ DeviceSelectorVideo),\n/* harmony export */   DeviceSettings: () => (/* binding */ DeviceSettings),\n/* harmony export */   DropDownSelect: () => (/* binding */ DropDownSelect),\n/* harmony export */   DropDownSelectOption: () => (/* binding */ DropDownSelectOption),\n/* harmony export */   DynascaleManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DynascaleManager),\n/* harmony export */   EmptyCallRecordingListing: () => (/* binding */ EmptyCallRecordingListing),\n/* harmony export */   ErrorFromResponse: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ErrorFromResponse),\n/* harmony export */   GenericMenu: () => (/* binding */ GenericMenu),\n/* harmony export */   GenericMenuButtonItem: () => (/* binding */ GenericMenuButtonItem),\n/* harmony export */   Icon: () => (/* binding */ Icon),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   InputMediaDeviceManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManagerState),\n/* harmony export */   LivestreamLayout: () => (/* binding */ LivestreamLayout),\n/* harmony export */   LivestreamPlayer: () => (/* binding */ LivestreamPlayer),\n/* harmony export */   LoadingCallRecordingListing: () => (/* binding */ LoadingCallRecordingListing),\n/* harmony export */   LoadingIndicator: () => (/* binding */ LoadingIndicator),\n/* harmony export */   MenuToggle: () => (/* binding */ MenuToggle),\n/* harmony export */   MenuVisualType: () => (/* binding */ MenuVisualType),\n/* harmony export */   MicrophoneManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManagerState),\n/* harmony export */   NoiseCancellationProvider: () => (/* binding */ NoiseCancellationProvider),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum),\n/* harmony export */   Notification: () => (/* binding */ Notification),\n/* harmony export */   OwnCapability: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability),\n/* harmony export */   PaginatedGridLayout: () => (/* binding */ PaginatedGridLayout),\n/* harmony export */   ParticipantActionsContextMenu: () => (/* binding */ ParticipantActionsContextMenu),\n/* harmony export */   ParticipantDetails: () => (/* binding */ ParticipantDetails),\n/* harmony export */   ParticipantView: () => (/* binding */ ParticipantView),\n/* harmony export */   ParticipantViewContext: () => (/* binding */ ParticipantViewContext),\n/* harmony export */   ParticipantsAudio: () => (/* binding */ ParticipantsAudio),\n/* harmony export */   PermissionNotification: () => (/* binding */ PermissionNotification),\n/* harmony export */   PermissionRequestList: () => (/* binding */ PermissionRequestList),\n/* harmony export */   PermissionRequests: () => (/* binding */ PermissionRequests),\n/* harmony export */   ReactionsButton: () => (/* binding */ ReactionsButton),\n/* harmony export */   RecordCallButton: () => (/* binding */ RecordCallButton),\n/* harmony export */   RecordCallConfirmationButton: () => (/* binding */ RecordCallConfirmationButton),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestQualityEnum),\n/* harmony export */   RecordingInProgressNotification: () => (/* binding */ RecordingInProgressNotification),\n/* harmony export */   Restricted: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted),\n/* harmony export */   RingingCall: () => (/* binding */ RingingCall),\n/* harmony export */   RingingCallControls: () => (/* binding */ RingingCallControls),\n/* harmony export */   RxUtils: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RxUtils),\n/* harmony export */   ScreenShareButton: () => (/* binding */ ScreenShareButton),\n/* harmony export */   ScreenShareManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareState),\n/* harmony export */   SearchInput: () => (/* binding */ SearchInput),\n/* harmony export */   SearchResults: () => (/* binding */ SearchResults),\n/* harmony export */   SfuEvents: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuEvents),\n/* harmony export */   SfuModels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels),\n/* harmony export */   SpeakerLayout: () => (/* binding */ SpeakerLayout),\n/* harmony export */   SpeakerManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerState),\n/* harmony export */   SpeakingWhileMutedNotification: () => (/* binding */ SpeakingWhileMutedNotification),\n/* harmony export */   SpeechIndicator: () => (/* binding */ SpeechIndicator),\n/* harmony export */   StatCard: () => (/* binding */ StatCard),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamCallProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18nProvider),\n/* harmony export */   StreamSfuClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamSfuClient),\n/* harmony export */   StreamTheme: () => (/* binding */ StreamTheme),\n/* harmony export */   StreamVideo: () => (/* binding */ StreamVideo),\n/* harmony export */   StreamVideoClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoClient),\n/* harmony export */   StreamVideoProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoWriteableStateStore),\n/* harmony export */   TextButton: () => (/* binding */ TextButton),\n/* harmony export */   ToggleAudioOutputButton: () => (/* binding */ ToggleAudioOutputButton),\n/* harmony export */   ToggleAudioPreviewButton: () => (/* binding */ ToggleAudioPreviewButton),\n/* harmony export */   ToggleAudioPublishingButton: () => (/* binding */ ToggleAudioPublishingButton),\n/* harmony export */   ToggleVideoPreviewButton: () => (/* binding */ ToggleVideoPreviewButton),\n/* harmony export */   ToggleVideoPublishingButton: () => (/* binding */ ToggleVideoPublishingButton),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   TranscriptionSettingsRequestClosedCaptionModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseClosedCaptionModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseModeEnum),\n/* harmony export */   Video: () => (/* binding */ Video$1),\n/* harmony export */   VideoPreview: () => (/* binding */ VideoPreview),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState),\n/* harmony export */   WithTooltip: () => (/* binding */ WithTooltip),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators),\n/* harmony export */   conditional: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.conditional),\n/* harmony export */   createSoundDetector: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.createSoundDetector),\n/* harmony export */   defaultReactions: () => (/* binding */ defaultReactions),\n/* harmony export */   defaultSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset),\n/* harmony export */   defaultTranslationFunction: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.defaultTranslationFunction),\n/* harmony export */   descending: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.descending),\n/* harmony export */   deviceIds$: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioStream),\n/* harmony export */   getClientDetails: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getClientDetails),\n/* harmony export */   getDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getDeviceInfo),\n/* harmony export */   getDeviceState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getDeviceState),\n/* harmony export */   getLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogLevel),\n/* harmony export */   getLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger),\n/* harmony export */   getOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getOSInfo),\n/* harmony export */   getScreenShareStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio),\n/* harmony export */   hasScreenShare: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo),\n/* harmony export */   isPinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logLevels),\n/* harmony export */   logToConsole: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logToConsole),\n/* harmony export */   name: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name),\n/* harmony export */   noopComparator: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.pinned),\n/* harmony export */   publishingAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingAudio),\n/* harmony export */   publishingVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingVideo),\n/* harmony export */   reactionType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.reactionType),\n/* harmony export */   role: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.role),\n/* harmony export */   screenSharing: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel),\n/* harmony export */   setLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogger),\n/* harmony export */   setOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setOSInfo),\n/* harmony export */   setPowerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setPowerState),\n/* harmony export */   setSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo),\n/* harmony export */   setThermalState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setThermalState),\n/* harmony export */   setWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speaking),\n/* harmony export */   translations: () => (/* binding */ translations),\n/* harmony export */   useBackgroundFilters: () => (/* binding */ useBackgroundFilters),\n/* harmony export */   useCall: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall),\n/* harmony export */   useCallStateHooks: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks),\n/* harmony export */   useCalls: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCalls),\n/* harmony export */   useConnectedUser: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser),\n/* harmony export */   useCreateI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCreateI18n),\n/* harmony export */   useHorizontalScrollPosition: () => (/* binding */ useHorizontalScrollPosition),\n/* harmony export */   useI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n),\n/* harmony export */   useMenuContext: () => (/* binding */ useMenuContext),\n/* harmony export */   useNoiseCancellation: () => (/* binding */ useNoiseCancellation),\n/* harmony export */   useObservableValue: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useObservableValue),\n/* harmony export */   useParticipantViewContext: () => (/* binding */ useParticipantViewContext),\n/* harmony export */   usePersistedDevicePreferences: () => (/* binding */ usePersistedDevicePreferences),\n/* harmony export */   useRequestPermission: () => (/* binding */ useRequestPermission),\n/* harmony export */   useStore: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStore),\n/* harmony export */   useStreamVideoClient: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient),\n/* harmony export */   useToggleCallRecording: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording),\n/* harmony export */   useTrackElementVisibility: () => (/* binding */ useTrackElementVisibility),\n/* harmony export */   useVerticalScrollPosition: () => (/* binding */ useVerticalScrollPosition)\n/* harmony export */ });\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n/* harmony import */ var _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stream-io/video-react-bindings */ \"(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react/dist/floating-ui.react.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @stream-io/video-filters-web */ \"(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst Audio = ({ participant, trackType = 'audioTrack', ...rest }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [audioElement, setAudioElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const { userId, sessionId } = participant;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !audioElement)\n            return;\n        const cleanup = call.bindAudioElement(audioElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, sessionId, audioElement, trackType]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"audio\", { autoPlay: true, ...rest, ref: setAudioElement, \"data-user-id\": userId, \"data-session-id\": sessionId, \"data-track-type\": trackType }));\n};\nAudio.displayName = 'Audio';\n\nconst ParticipantsAudio = (props) => {\n    const { participants, audioProps } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: participants.map((participant) => {\n            if (participant.isLocalParticipant)\n                return null;\n            const { audioStream, screenShareAudioStream, sessionId } = participant;\n            const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n            const audioTrackElement = hasAudioTrack && audioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"audioTrack\", participant: participant }));\n            const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n            const screenShareAudioTrackElement = hasScreenShareAudioTrack &&\n                screenShareAudioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"screenShareAudioTrack\", participant: participant }));\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [audioTrackElement, screenShareAudioTrackElement] }, sessionId));\n        }) }));\n};\nParticipantsAudio.displayName = 'ParticipantsAudio';\n\nconst ParticipantViewContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\nconst useParticipantViewContext = () => (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(ParticipantViewContext);\n\nconst useFloatingUIPreset = ({ middleware = [], placement, strategy, offset: offsetInPx = 10, }) => {\n    const { refs, x, y, update, elements: { domReference, floating }, context, } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement,\n        strategy,\n        middleware: [\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.offset)(offsetInPx),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.shift)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.size)({\n                padding: 10,\n                apply: ({ availableHeight, elements }) => {\n                    Object.assign(elements.floating.style, {\n                        maxHeight: `${availableHeight}px`,\n                    });\n                },\n            }),\n            ...middleware,\n        ],\n    });\n    // handle window resizing\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!domReference || !floating)\n            return;\n        const cleanup = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate)(domReference, floating, update);\n        return () => cleanup();\n    }, [domReference, floating, update]);\n    return { refs, x, y, domReference, floating, strategy, context };\n};\n\nconst defaultDevice = 'default';\n/**\n * This hook will persist the device settings to local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistDevicePreferences = (key, shouldPersistRef) => {\n    const { useMicrophoneState, useCameraState, useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const mic = useMicrophoneState();\n    const camera = useCameraState();\n    const speaker = useSpeakerState();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!shouldPersistRef.current)\n            return;\n        if (!call)\n            return;\n        if (call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT)\n            return;\n        try {\n            const preferences = {\n                mic: {\n                    selectedDeviceId: mic.selectedDevice || defaultDevice,\n                    muted: mic.isMute,\n                },\n                camera: {\n                    selectedDeviceId: camera.selectedDevice || defaultDevice,\n                    muted: camera.isMute,\n                },\n                speaker: {\n                    selectedDeviceId: speaker.selectedDevice || defaultDevice,\n                    muted: false,\n                },\n            };\n            window.localStorage.setItem(key, JSON.stringify(preferences));\n        }\n        catch (err) {\n            console.warn('Failed to save device preferences', err);\n        }\n    }, [\n        call,\n        camera.isMute,\n        camera.selectedDevice,\n        key,\n        mic.isMute,\n        mic.selectedDevice,\n        speaker.selectedDevice,\n        shouldPersistRef,\n    ]);\n};\n/**\n * This hook will apply the device settings from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst useApplyDevicePreferences = (key, onApplied) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const onAppliedRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(onApplied);\n    onAppliedRef.current = onApplied;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        if (call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT)\n            return;\n        let cancel = false;\n        const apply = async () => {\n            const initMic = async (setting) => {\n                if (cancel)\n                    return;\n                await call.microphone.select(parseDeviceId(setting.selectedDeviceId));\n                if (cancel)\n                    return;\n                if (setting.muted) {\n                    await call.microphone.disable();\n                }\n                else {\n                    await call.microphone.enable();\n                }\n            };\n            const initCamera = async (setting) => {\n                if (cancel)\n                    return;\n                await call.camera.select(parseDeviceId(setting.selectedDeviceId));\n                if (cancel)\n                    return;\n                if (setting.muted) {\n                    await call.camera.disable();\n                }\n                else {\n                    await call.camera.enable();\n                }\n            };\n            const initSpeaker = (setting) => {\n                if (cancel)\n                    return;\n                call.speaker.select(parseDeviceId(setting.selectedDeviceId) ?? '');\n            };\n            let preferences = null;\n            try {\n                preferences = JSON.parse(window.localStorage.getItem(key));\n            }\n            catch (err) {\n                console.warn('Failed to load device preferences', err);\n            }\n            if (preferences) {\n                await initMic(preferences.mic);\n                await initCamera(preferences.camera);\n                initSpeaker(preferences.speaker);\n            }\n        };\n        apply()\n            .then(() => onAppliedRef.current())\n            .catch((err) => {\n            console.warn('Failed to apply device preferences', err);\n        });\n        return () => {\n            cancel = true;\n        };\n    }, [call, key]);\n};\n/**\n * This hook will apply and persist the device preferences from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistedDevicePreferences = (key = '@stream-io/device-preferences') => {\n    const shouldPersistRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(false);\n    useApplyDevicePreferences(key, () => (shouldPersistRef.current = true));\n    usePersistDevicePreferences(key, shouldPersistRef);\n};\nconst parseDeviceId = (deviceId) => deviceId !== defaultDevice ? deviceId : undefined;\n\nconst SCROLL_THRESHOLD = 10;\n/**\n * Hook which observes element's scroll position and returns text value based on the\n * position of the scrollbar (`top`, `bottom`, `between` and `null` if no scrollbar is available)\n */\nconst useVerticalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasVerticalScrollbar = element.scrollHeight > element.clientHeight;\n            if (!hasVerticalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheTop = element.scrollTop <= threshold;\n            if (isAtTheTop)\n                return setScrollPosition('top');\n            const isAtTheBottom = Math.abs(element.scrollHeight - element.scrollTop - element.clientHeight) <= threshold;\n            if (isAtTheBottom)\n                return setScrollPosition('bottom');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\nconst useHorizontalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;\n            if (!hasHorizontalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheStart = element.scrollLeft <= threshold;\n            if (isAtTheStart)\n                return setScrollPosition('start');\n            const isAtTheEnd = Math.abs(element.scrollWidth - element.scrollLeft - element.clientWidth) <= threshold;\n            if (isAtTheEnd)\n                return setScrollPosition('end');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\n\nconst useRequestPermission = (permission) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const [isAwaitingPermission, setIsAwaitingPermission] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false); // TODO: load with possibly pending state\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const reset = () => setIsAwaitingPermission(false);\n        if (hasPermission)\n            reset();\n    }, [hasPermission]);\n    const requestPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async () => {\n        if (hasPermission)\n            return true;\n        const canRequestPermission = !!call?.permissionsContext.canRequest(permission);\n        if (isAwaitingPermission || !canRequestPermission)\n            return false;\n        setIsAwaitingPermission(true);\n        try {\n            await call?.requestPermissions({\n                permissions: [permission],\n            });\n        }\n        catch (error) {\n            setIsAwaitingPermission(false);\n            throw new Error(`requestPermission failed: ${error}`);\n        }\n        return false;\n    }, [call, hasPermission, isAwaitingPermission, permission]);\n    return {\n        requestPermission,\n        hasPermission,\n        canRequestPermission: !!call?.permissionsContext.canRequest(permission),\n        isAwaitingPermission,\n    };\n};\n\nvar MenuVisualType;\n(function (MenuVisualType) {\n    MenuVisualType[\"PORTAL\"] = \"portal\";\n    MenuVisualType[\"MENU\"] = \"menu\";\n})(MenuVisualType || (MenuVisualType = {}));\n/**\n * Used to provide utility APIs to the components rendered inside the portal.\n */\nconst MenuContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\n/**\n * Access to the closes MenuContext.\n */\nconst useMenuContext = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(MenuContext);\n};\nconst MenuPortal = ({ children, refs, }) => {\n    const portalId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => `str-video-portal-${Math.random().toString(36).substring(2, 9)}`, []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { id: portalId, className: \"str-video__portal\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingOverlay, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingPortal, { id: portalId, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__portal-content\", ref: refs.setFloating, children: children }) }) })] }));\n};\nconst MenuToggle = ({ ToggleButton, placement = 'top-start', strategy = 'absolute', offset, visualType = MenuVisualType.MENU, children, onToggle, }) => {\n    const [menuShown, setMenuShown] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const toggleHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(onToggle);\n    toggleHandler.current = onToggle;\n    const { floating, domReference, refs, x, y } = useFloatingUIPreset({\n        placement,\n        strategy,\n        offset,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const handleClick = (event) => {\n            if (!floating && domReference?.contains(event.target)) {\n                setMenuShown(true);\n                toggleHandler.current?.(true);\n            }\n            else if (floating && !floating?.contains(event.target)) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        const handleKeyDown = (event) => {\n            if (event.key && // key can be undefined in some browsers\n                event.key.toLowerCase() === 'escape' &&\n                !event.altKey &&\n                !event.ctrlKey) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        document?.addEventListener('click', handleClick, { capture: true });\n        document?.addEventListener('keydown', handleKeyDown);\n        return () => {\n            document?.removeEventListener('click', handleClick, { capture: true });\n            document?.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [floating, domReference]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [menuShown && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuContext.Provider, { value: { close: () => setMenuShown(false) }, children: visualType === MenuVisualType.PORTAL ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuPortal, { refs: refs, children: children })) : visualType === MenuVisualType.MENU ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__menu-container\", ref: refs.setFloating, style: {\n                        position: strategy,\n                        top: y ?? 0,\n                        left: x ?? 0,\n                        overflowY: 'auto',\n                    }, role: \"menu\", children: children })) : null })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleButton, { menuShown: menuShown, ref: refs.setReference })] }));\n};\n\nconst GenericMenu = ({ children, onItemClick, }) => {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__generic-menu\", ref: ref, onClick: (e) => {\n            if (onItemClick &&\n                e.target !== ref.current &&\n                ref.current?.contains(e.target)) {\n                onItemClick(e);\n            }\n        }, children: children }));\n};\nconst GenericMenuButtonItem = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"li\", { className: \"str-video__generic-menu--item\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, children: children }) }));\n};\n\nconst Icon = ({ className, icon }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__icon', icon && `str-video__icon--${icon}`, className) }));\n\nfunction usePictureInPictureState(videoElement) {\n    const [isPiP, setIsPiP] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(document.pictureInPictureElement === videoElement);\n    if (!videoElement && isPiP)\n        setIsPiP(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement)\n            return;\n        const handlePiP = () => {\n            setIsPiP(document.pictureInPictureElement === videoElement);\n        };\n        videoElement.addEventListener('enterpictureinpicture', handlePiP);\n        videoElement.addEventListener('leavepictureinpicture', handlePiP);\n        return () => {\n            videoElement.removeEventListener('enterpictureinpicture', handlePiP);\n            videoElement.removeEventListener('leavepictureinpicture', handlePiP);\n        };\n    }, [videoElement]);\n    return isPiP;\n}\n\nconst ParticipantActionsContextMenu = () => {\n    const { participant, participantViewElement, videoElement } = useParticipantViewContext();\n    const [fullscreenModeOn, setFullscreenModeOn] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!!document.fullscreenElement);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const isPiP = usePictureInPictureState(videoElement ?? undefined);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { pin, sessionId, userId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const blockUser = () => call?.blockUser(userId);\n    const muteAudio = () => call?.muteUser(userId, 'audio');\n    const muteVideo = () => call?.muteUser(userId, 'video');\n    const muteScreenShare = () => call?.muteUser(userId, 'screenshare');\n    const muteScreenShareAudio = () => call?.muteUser(userId, 'screenshare_audio');\n    const grantPermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            grant_permissions: [permission],\n        });\n    };\n    const revokePermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            revoke_permissions: [permission],\n        });\n    };\n    const toggleParticipantPin = () => {\n        if (pin) {\n            call?.unpin(sessionId);\n        }\n        else {\n            call?.pin(sessionId);\n        }\n    };\n    const pinForEveryone = () => {\n        call\n            ?.pinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to pin participant ${userId}`, err);\n        });\n    };\n    const unpinForEveryone = () => {\n        call\n            ?.unpinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to unpin participant ${userId}`, err);\n        });\n    };\n    const toggleFullscreenMode = () => {\n        if (!fullscreenModeOn) {\n            return participantViewElement?.requestFullscreen().catch(console.error);\n        }\n        return document.exitFullscreen().catch(console.error);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // handles the case when fullscreen mode is toggled externally,\n        // e.g., by pressing ESC key or some other keyboard shortcut\n        const handleFullscreenChange = () => {\n            setFullscreenModeOn(!!document.fullscreenElement);\n        };\n        document.addEventListener('fullscreenchange', handleFullscreenChange);\n        return () => {\n            document.removeEventListener('fullscreenchange', handleFullscreenChange);\n        };\n    }, []);\n    const togglePictureInPicture = () => {\n        if (videoElement && !isPiP) {\n            return videoElement\n                .requestPictureInPicture()\n                .catch(console.error);\n        }\n        return document.exitPictureInPicture().catch(console.error);\n    };\n    const { close } = useMenuContext() || {};\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenu, { onItemClick: close, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: toggleParticipantPin, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), pin ? t('Unpin') : t('Pin')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.PIN_FOR_EVERYONE], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: pinForEveryone, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Pin for everyone')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: unpinForEveryone, disabled: !pin || pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Unpin for everyone')] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: blockUser, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"not-allowed\" }), t('Block')] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], children: [hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteVideo, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"camera-off-outline\" }), t('Turn off video')] })), hasScreenShareTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShare, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), t('Turn off screen share')] })), hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute audio')] })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShareAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute screen share audio')] }))] }), participantViewElement && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: toggleFullscreenMode, children: t('{{ direction }} fullscreen', {\n                    direction: fullscreenModeOn ? t('Leave') : t('Enter'),\n                }) })), videoElement && document.pictureInPictureEnabled && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: togglePictureInPicture, children: t('{{ direction }} picture-in-picture', {\n                    direction: isPiP ? t('Leave') : t('Enter'),\n                }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Allow audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Allow video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Allow screen sharing') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Disable audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Disable video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Disable screen sharing') })] })] }));\n};\n\nconst isComponentType = (elementOrComponent) => {\n    return elementOrComponent === null\n        ? false\n        : !(0,react__WEBPACK_IMPORTED_MODULE_3__.isValidElement)(elementOrComponent);\n};\n\nconst chunk = (array, size) => {\n    const chunkCount = Math.ceil(array.length / size);\n    return Array.from({ length: chunkCount }, (_, index) => array.slice(size * index, size * index + size));\n};\n\nconst applyElementToRef = (ref, element) => {\n    if (!ref)\n        return;\n    if (typeof ref === 'function')\n        return ref(element);\n    ref.current = element;\n};\n\n/**\n * @description Extends video element with `stream` property\n * (`srcObject`) to reactively handle stream changes\n */\nconst BaseVideo = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function BaseVideo({ stream, ...rest }, ref) {\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement || !stream)\n            return;\n        if (stream === videoElement.srcObject)\n            return;\n        videoElement.srcObject = stream;\n        if (_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isSafari() || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isFirefox()) {\n            // Firefox and Safari have some timing issue\n            setTimeout(() => {\n                videoElement.srcObject = stream;\n                videoElement.play().catch((e) => {\n                    console.error(`Failed to play stream`, e);\n                });\n            }, 0);\n        }\n        return () => {\n            videoElement.pause();\n            videoElement.srcObject = null;\n        };\n    }, [stream, videoElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { autoPlay: true, playsInline: true, ...rest, ref: (element) => {\n            applyElementToRef(ref, element);\n            setVideoElement(element);\n        } }));\n});\n\nconst BaseVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder({ participant, style, children }, ref) {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const name = participant.name || participant.userId;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__video-placeholder\", style: style, ref: ref, children: [(!participant.image || error) &&\n                (name ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InitialsFallback, { name: name })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__no-video-label\", children: children }))), participant.image && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: name, className: \"str-video__video-placeholder__avatar\", src: participant.image }))] }));\n});\nconst InitialsFallback = (props) => {\n    const { name } = props;\n    const initials = name\n        .split(' ')\n        .slice(0, 2)\n        .map((n) => n[0])\n        .join('');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__initials-fallback\", children: initials }));\n};\n\nconst DefaultVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideoPlaceholder, { ref: ref, ...props, children: t('Video is disabled') }));\n});\n\nconst DefaultPictureInPicturePlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultPictureInPicturePlaceholder(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideoPlaceholder, { ref: ref, ...props, children: t('Video is playing in a popup') }));\n});\n\nconst Video$1 = ({ enabled = true, mirror, trackType, participant, className, VideoPlaceholder = DefaultVideoPlaceholder, PictureInPicturePlaceholder = DefaultPictureInPicturePlaceholder, refs, ...rest }) => {\n    const { sessionId, videoStream, screenShareStream, viewportVisibilityState, isLocalParticipant, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // start with true, will flip once the video starts playing\n    const [isVideoPaused, setIsVideoPaused] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const [isWideMode, setIsWideMode] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const isPiP = usePictureInPictureState(videoElement ?? undefined);\n    const stream = trackType === 'videoTrack'\n        ? videoStream\n        : trackType === 'screenShareTrack'\n            ? screenShareStream\n            : undefined;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n        if (!call || !videoElement || trackType === 'none')\n            return;\n        const cleanup = call.bindVideoElement(videoElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, trackType, sessionId, videoElement]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!stream || !videoElement)\n            return;\n        const [track] = stream.getVideoTracks();\n        if (!track)\n            return;\n        const handlePlayPause = () => {\n            setIsVideoPaused(videoElement.paused);\n            const { width = 0, height = 0 } = track.getSettings();\n            setIsWideMode(width >= height);\n        };\n        // playback may have started before we had a chance to\n        // attach the 'play/pause' event listener, so we set the state\n        // here to make sure it's in sync\n        setIsVideoPaused(videoElement.paused);\n        videoElement.addEventListener('play', handlePlayPause);\n        videoElement.addEventListener('pause', handlePlayPause);\n        track.addEventListener('unmute', handlePlayPause);\n        return () => {\n            videoElement.removeEventListener('play', handlePlayPause);\n            videoElement.removeEventListener('pause', handlePlayPause);\n            track.removeEventListener('unmute', handlePlayPause);\n            // reset the 'pause' state once we unmount the video element\n            setIsVideoPaused(true);\n        };\n    }, [stream, videoElement]);\n    if (!call)\n        return null;\n    const isPublishingTrack = trackType === 'videoTrack'\n        ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant)\n        : trackType === 'screenShareTrack'\n            ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant)\n            : false;\n    const isInvisible = trackType === 'none' ||\n        viewportVisibilityState?.[trackType] === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState.INVISIBLE;\n    const hasNoVideoOrInvisible = !enabled || !isPublishingTrack || isInvisible;\n    const mirrorVideo = mirror === undefined\n        ? isLocalParticipant && trackType === 'videoTrack'\n        : mirror;\n    const isScreenShareTrack = trackType === 'screenShareTrack';\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [!hasNoVideoOrInvisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { ...rest, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video', className, {\n                    'str-video__video--not-playing': isVideoPaused,\n                    'str-video__video--tall': !isWideMode,\n                    'str-video__video--mirror': mirrorVideo,\n                    'str-video__video--screen-share': isScreenShareTrack,\n                }), \"data-user-id\": userId, \"data-session-id\": sessionId, ref: (element) => {\n                    setVideoElement(element);\n                    refs?.setVideoElement?.(element);\n                } })), isPiP && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultPictureInPicturePlaceholder, { style: { position: 'absolute' }, participant: participant })), (hasNoVideoOrInvisible || isVideoPaused) && VideoPlaceholder && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VideoPlaceholder, { style: { position: 'absolute' }, participant: participant, ref: refs?.setVideoPlaceholderElement }))] }));\n};\nVideo$1.displayName = 'Video';\n\nconst useTrackElementVisibility = ({ trackedElement, dynascaleManager: propsDynascaleManager, sessionId, trackType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const manager = propsDynascaleManager ?? call?.dynascaleManager;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!trackedElement || !manager || !call || trackType === 'none')\n            return;\n        const unobserve = manager.trackElementVisibility(trackedElement, sessionId, trackType);\n        return () => {\n            unobserve();\n        };\n    }, [trackedElement, manager, call, sessionId, trackType]);\n};\n\nconst Avatar = ({ imageSrc, name, style, className, ...rest }) => {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(!imageSrc || error) && name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarFallback, { className: className, style: style, names: [name] })), imageSrc && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: \"avatar\", className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar', className), src: imageSrc, style: style, ...rest }))] }));\n};\nconst AvatarFallback = ({ className, names, style, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar--initials-fallback', className), style: style, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [names[0][0], names[1]?.[0]] }) }));\n};\n\n/**\n * The context for the background filters.\n */\nconst BackgroundFiltersContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\n/**\n * A hook to access the background filters context API.\n */\nconst useBackgroundFilters = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(BackgroundFiltersContext);\n    if (!context) {\n        throw new Error('useBackgroundFilters must be used within a BackgroundFiltersProvider');\n    }\n    return context;\n};\n/**\n * A provider component that enables the use of background filters in your app.\n *\n * Please make sure you have the `@stream-io/video-filters-web` package installed\n * in your project before using this component.\n */\nconst BackgroundFiltersProvider = (props) => {\n    const { children, backgroundImages = [], backgroundFilter: bgFilterFromProps = undefined, backgroundImage: bgImageFromProps = undefined, backgroundBlurLevel: bgBlurLevelFromProps = undefined, tfFilePath, modelFilePath, basePath, onError, } = props;\n    const [backgroundFilter, setBackgroundFilter] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgFilterFromProps);\n    const [backgroundImage, setBackgroundImage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgImageFromProps);\n    const [backgroundBlurLevel, setBackgroundBlurLevel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgBlurLevelFromProps);\n    const applyBackgroundImageFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((imageUrl) => {\n        setBackgroundFilter('image');\n        setBackgroundImage(imageUrl);\n    }, []);\n    const applyBackgroundBlurFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((blurLevel = 'high') => {\n        setBackgroundFilter('blur');\n        setBackgroundBlurLevel(blurLevel);\n    }, []);\n    const disableBackgroundFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        setBackgroundFilter(undefined);\n        setBackgroundImage(undefined);\n        setBackgroundBlurLevel(undefined);\n    }, []);\n    const [isSupported, setIsSupported] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.isPlatformSupported)().then(setIsSupported);\n    }, []);\n    const [tfLite, setTfLite] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // don't try to load TFLite if the platform is not supported\n        if (!isSupported)\n            return;\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.loadTFLite)({ basePath, modelFilePath, tfFilePath })\n            .then(setTfLite)\n            .catch((err) => console.error('Failed to load TFLite', err));\n    }, [basePath, isSupported, modelFilePath, tfFilePath]);\n    const handleError = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((error) => {\n        (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['filters'])('warn', 'Filter encountered an error and will be disabled');\n        disableBackgroundFilter();\n        onError?.(error);\n    }, [disableBackgroundFilter, onError]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(BackgroundFiltersContext.Provider, { value: {\n            isSupported,\n            isReady: !!tfLite,\n            backgroundImage,\n            backgroundBlurLevel,\n            backgroundFilter,\n            disableBackgroundFilter,\n            applyBackgroundBlurFilter,\n            applyBackgroundImageFilter,\n            backgroundImages,\n            tfFilePath,\n            modelFilePath,\n            basePath,\n            onError: handleError,\n        }, children: [children, tfLite && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BackgroundFilters, { tfLite: tfLite })] }));\n};\nconst BackgroundFilters = (props) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { children, start } = useRenderer(props.tfLite);\n    const { backgroundFilter, onError } = useBackgroundFilters();\n    const handleErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    handleErrorRef.current = onError;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !backgroundFilter)\n            return;\n        const { unregister } = call.camera.registerFilter((ms) => start(ms, (error) => handleErrorRef.current?.(error)));\n        return () => {\n            unregister();\n        };\n    }, [backgroundFilter, call, start]);\n    return children;\n};\nconst useRenderer = (tfLite) => {\n    const { backgroundFilter, backgroundBlurLevel, backgroundImage } = useBackgroundFilters();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const bgImageRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const [videoSize, setVideoSize] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        width: 1920,\n        height: 1080,\n    });\n    const start = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((ms, onError) => {\n        let outputStream;\n        let renderer;\n        const output = new Promise((resolve, reject) => {\n            if (!backgroundFilter) {\n                reject(new Error('No filter specified'));\n                return;\n            }\n            const videoEl = videoRef.current;\n            const canvasEl = canvasRef.current;\n            const bgImageEl = bgImageRef.current;\n            if (!videoEl || !canvasEl || (backgroundImage && !bgImageEl)) {\n                // You should start renderer in effect or event handlers\n                reject(new Error('Renderer started before elements are ready'));\n                return;\n            }\n            videoEl.srcObject = ms;\n            videoEl.play().then(() => {\n                const [track] = ms.getVideoTracks();\n                if (!track) {\n                    reject(new Error('No video tracks in input media stream'));\n                    return;\n                }\n                const trackSettings = track.getSettings();\n                (0,react_dom__WEBPACK_IMPORTED_MODULE_5__.flushSync)(() => setVideoSize({\n                    width: trackSettings.width ?? 0,\n                    height: trackSettings.height ?? 0,\n                }));\n                renderer = (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.createRenderer)(tfLite, videoEl, canvasEl, {\n                    backgroundFilter,\n                    backgroundBlurLevel,\n                    backgroundImage: bgImageEl ?? undefined,\n                }, onError);\n                outputStream = canvasEl.captureStream();\n                resolve(outputStream);\n            }, () => {\n                reject(new Error('Could not play the source video stream'));\n            });\n        });\n        return {\n            output,\n            stop: () => {\n                renderer?.dispose();\n                videoRef.current && (videoRef.current.srcObject = null);\n                outputStream && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream)(outputStream);\n            },\n        };\n    }, [backgroundBlurLevel, backgroundFilter, backgroundImage, tfLite]);\n    const children = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__background-filters\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__background-filters__video', videoSize.height > videoSize.width &&\n                    'str-video__background-filters__video--tall'), ref: videoRef, playsInline: true, muted: true, controls: false, ...videoSize }), backgroundImage && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: \"str-video__background-filters__background-image\", alt: \"Background\", ref: bgImageRef, src: backgroundImage, ...videoSize })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", { className: \"str-video__background-filters__target-canvas\", ...videoSize, ref: canvasRef })] }));\n    return {\n        start,\n        children,\n    };\n};\n\nconst IconButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function IconButton(props, ref) {\n    const { icon, enabled, variant, onClick, className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-controls__button', className, {\n            [`str-video__call-controls__button--variant-${variant}`]: variant,\n            'str-video__call-controls__button--enabled': enabled,\n        }), onClick: (e) => {\n            e.preventDefault();\n            onClick?.(e);\n        }, ref: ref, ...rest, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: icon }) }));\n});\n\nconst CompositeButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CompositeButton({ disabled, caption, children, className, active, Menu, menuPlacement, menuOffset, title, ToggleMenuButton = DefaultToggleMenuButton, variant, onClick, onMenuToggle, ...restButtonProps }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button', className, {\n            'str-video__composite-button--caption': caption,\n            'str-video__composite-button--menu': Menu,\n        }), title: title, ref: ref, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button__button-group', {\n                    'str-video__composite-button__button-group--active': active,\n                    'str-video__composite-button__button-group--active-primary': active && variant === 'primary',\n                    'str-video__composite-button__button-group--active-secondary': active && variant === 'secondary',\n                    'str-video__composite-button__button-group--disabled': disabled,\n                }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__composite-button__button\", onClick: (e) => {\n                            e.preventDefault();\n                            onClick?.(e);\n                        }, disabled: disabled, ...restButtonProps, children: children }), Menu && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { offset: menuOffset, placement: menuPlacement, ToggleButton: ToggleMenuButton, onToggle: onMenuToggle, children: isComponentType(Menu) ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) : Menu }))] }), caption && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__composite-button__caption\", children: caption }))] }));\n});\nconst DefaultToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultToggleMenuButton({ menuShown }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__menu-toggle-button', {\n            'str-video__menu-toggle-button--active': menuShown,\n        }), icon: menuShown ? 'caret-down' : 'caret-up', ref: ref }));\n});\n\nconst TextButton = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, className: \"str-video__text-button\", children: children }));\n};\n\nconst AcceptCallButton = ({ disabled, onAccept, onClick, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.join();\n            onAccept?.();\n        }\n    }, [onClick, onAccept, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-accept\", variant: \"success\", \"data-testid\": \"accept-call-button\", onClick: handleClick }));\n};\n\nconst Notification = (props) => {\n    const { isVisible, message, children, visibilityTimeout, resetIsVisible, placement = 'top', iconClassName = 'str-video__notification__icon', close, } = props;\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement,\n        strategy: 'absolute',\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isVisible || !visibilityTimeout || !resetIsVisible)\n            return;\n        const timeout = setTimeout(() => {\n            resetIsVisible();\n        }, visibilityTimeout);\n        return () => clearTimeout(timeout);\n    }, [isVisible, resetIsVisible, visibilityTimeout]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: refs.setReference, children: [isVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__notification\", ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, children: [iconClassName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: iconClassName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__notification__message\", children: message }), close ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: \"str-video__icon str-video__icon--close str-video__notification__close\", onClick: close })) : null] })), children] }));\n};\n\nconst PermissionNotification = (props) => {\n    const { permission, isAwaitingApproval, messageApproved, messageAwaitingApproval, messageRevoked, visibilityTimeout = 3500, children, } = props;\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const prevHasPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(hasPermission);\n    const [showNotification, setShowNotification] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (hasPermission && !prevHasPermission.current) {\n            setShowNotification('granted');\n            prevHasPermission.current = true;\n        }\n        else if (!hasPermission && prevHasPermission.current) {\n            setShowNotification('revoked');\n            prevHasPermission.current = false;\n        }\n    }, [hasPermission]);\n    const resetIsVisible = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setShowNotification(undefined), []);\n    if (isAwaitingApproval) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isAwaitingApproval && !hasPermission, message: messageAwaitingApproval, children: children }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: !!showNotification, visibilityTimeout: visibilityTimeout, resetIsVisible: resetIsVisible, message: showNotification === 'granted' ? messageApproved : messageRevoked, children: children }));\n};\n\nconst SpeakingWhileMutedNotification = ({ children, text, placement, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isSpeakingWhileMuted } = useMicrophoneState();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const message = text ?? t('You are muted. Unmute to speak.');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, isVisible: isSpeakingWhileMuted, placement: placement || 'top-start', children: children }));\n};\n\nconst RecordingInProgressNotification = ({ children, text, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    const [isVisible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const message = text ?? t('Recording in progress...');\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (isCallRecordingInProgress) {\n            setVisible(true);\n        }\n        else {\n            setVisible(false);\n        }\n    }, [isCallRecordingInProgress]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, iconClassName: \"str-video__icon str-video__icon--recording-on\", isVisible: isVisible, placement: \"top-start\", close: () => setVisible(false), children: children }));\n};\n\nconst LoadingIndicator = ({ className, type = 'spinner', text, tooltip, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator', className), title: tooltip, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator__icon', type) }), text && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__loading-indicator-text\", children: text })] }));\n};\n\nconst Tooltip = ({ children, referenceElement, tooltipClassName, tooltipPlacement = 'top', visible = false, }) => {\n    const arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const { refs, x, y, strategy, context } = useFloatingUIPreset({\n        placement: tooltipPlacement,\n        strategy: 'absolute',\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.arrow)({ element: arrowRef })],\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        refs.setReference(referenceElement);\n    }, [referenceElement, refs]);\n    if (!visible)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__tooltip', tooltipClassName), ref: refs.setFloating, style: {\n            position: strategy,\n            top: y ?? 0,\n            left: x ?? 0,\n        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingArrow, { ref: arrowRef, context: context, fill: \"var(--str-video__tooltip--background-color)\" }), children] }));\n};\n\nconst useEnterLeaveHandlers = ({ onMouseEnter, onMouseLeave, } = {}) => {\n    const [tooltipVisible, setTooltipVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(true);\n        onMouseEnter?.(e);\n    }, [onMouseEnter]);\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(false);\n        onMouseLeave?.(e);\n    }, [onMouseLeave]);\n    return { handleMouseEnter, handleMouseLeave, tooltipVisible };\n};\n\n// todo: duplicate of CallParticipantList.tsx#MediaIndicator - refactor to a single component\nconst WithTooltip = ({ title, tooltipClassName, tooltipPlacement, tooltipDisabled, ...props }) => {\n    const { handleMouseEnter, handleMouseLeave, tooltipVisible } = useEnterLeaveHandlers();\n    const [tooltipAnchor, setTooltipAnchor] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const tooltipActuallyVisible = !tooltipDisabled && Boolean(title) && tooltipVisible;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Tooltip, { referenceElement: tooltipAnchor, visible: tooltipActuallyVisible, tooltipClassName: tooltipClassName, tooltipPlacement: tooltipPlacement, children: title || '' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { ref: setTooltipAnchor, onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, ...props })] }));\n};\n\nconst RecordEndConfirmation = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-on\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"h2\", { className: \"str-video__end-recording__heading\", children: t('End recording') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__end-recording__description\", children: t('Are you sure you want end the recording?') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__actions\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"secondary\", onClick: close, children: t('Cancel') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"primary\", onClick: toggleCallRecording, children: isAwaitingResponse ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {}) : t('End recording') })] })] }));\n};\nconst ToggleEndRecordingMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleEndRecordingMenuButton(props, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: true, variant: \"secondary\", \"data-testid\": \"recording-stop-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" }) }));\n});\nconst RecordCallConfirmationButton = ({ caption, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    if (isCallRecordingInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { ToggleButton: ToggleEndRecordingMenuButton, visualType: MenuVisualType.PORTAL, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordEndConfirmation, {}) }) }));\n    }\n    const title = isAwaitingResponse\n        ? t('Waiting for recording to start...')\n        : caption ?? t('Record call');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: title, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": \"recording-start-button\", onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" })) }) }) }));\n};\nconst RecordCallButton = ({ caption }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    let title = caption ?? t('Record call');\n    if (isAwaitingResponse) {\n        title = isCallRecordingInProgress\n            ? t('Waiting for recording to stop...')\n            : t('Waiting for recording to start...');\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": isCallRecordingInProgress\n                ? 'recording-stop-button'\n                : 'recording-start-button', title: title, onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isCallRecordingInProgress ? 'recording-on' : 'recording-off' })) }) }));\n};\n\nconst defaultEmojiReactionMap = {\n    ':like:': '',\n    ':raise-hand:': '',\n    ':fireworks:': '',\n    ':dislike:': '',\n    ':heart:': '',\n    ':smile:': '',\n};\nconst Reaction = ({ participant: { reaction, sessionId }, hideAfterTimeoutInMs = 5500, emojiReactionMap = defaultEmojiReactionMap, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !reaction)\n            return;\n        const timeoutId = setTimeout(() => {\n            call.resetReaction(sessionId);\n        }, hideAfterTimeoutInMs);\n        return () => {\n            clearTimeout(timeoutId);\n        };\n    }, [call, hideAfterTimeoutInMs, reaction, sessionId]);\n    if (!reaction)\n        return null;\n    const { emoji_code: emojiCode } = reaction;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__reaction\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__reaction__emoji\", children: emojiCode && emojiReactionMap[emojiCode] }) }));\n};\n\nconst defaultReactions = [\n    {\n        type: 'reaction',\n        emoji_code: ':like:',\n    },\n    {\n        // TODO OL: use `prompt` type?\n        type: 'raised-hand',\n        emoji_code: ':raise-hand:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':fireworks:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':dislike:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':heart:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':smile:',\n    },\n];\nconst ReactionsButton = ({ reactions = defaultReactions, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top\", ToggleButton: ToggleReactionsMenuButton, visualType: MenuVisualType.MENU, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultReactionsMenu, { reactions: reactions }) }) }));\n};\nconst ToggleReactionsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleReactionsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Reactions'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, variant: \"primary\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"reactions\" }) }) }));\n});\nconst DefaultReactionsMenu = ({ reactions, layout = 'horizontal', }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__reactions-menu', {\n            'str-video__reactions-menu--horizontal': layout === 'horizontal',\n            'str-video__reactions-menu--vertical': layout === 'vertical',\n        }), children: reactions.map((reaction) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__reactions-menu__button\", onClick: () => {\n                call?.sendReaction(reaction);\n                close?.();\n            }, children: reaction.emoji_code && defaultEmojiReactionMap[reaction.emoji_code] }, reaction.emoji_code))) }));\n};\n\n/**\n * Wraps an event handler, silencing and logging exceptions (excluding the NotAllowedError\n * DOMException, which is a normal situation handled by the SDK)\n *\n * @param props component props, including the onError callback\n * @param handler event handler to wrap\n */\nconst createCallControlHandler = (props, handler) => {\n    const logger = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['react-sdk']);\n    return async () => {\n        try {\n            await handler();\n        }\n        catch (error) {\n            if (props.onError) {\n                props.onError(error);\n                return;\n            }\n            if (!isNotAllowedError(error)) {\n                logger('error', 'Call control handler failed', error);\n            }\n        }\n    };\n};\nfunction isNotAllowedError(error) {\n    return error instanceof DOMException && error.name === 'NotAllowedError';\n}\n\nconst ScreenShareButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption } = props;\n    const { useHasOngoingScreenShare, useScreenShareState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isSomeoneScreenSharing = useHasOngoingScreenShare();\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE);\n    const callSettings = useCallSettings();\n    const isScreenSharingAllowed = callSettings?.screensharing.enabled;\n    const { screenShare, optimisticIsMute } = useScreenShareState();\n    const amIScreenSharing = !optimisticIsMute;\n    const disableScreenShareButton = !amIScreenSharing &&\n        (isSomeoneScreenSharing || isScreenSharingAllowed === false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await screenShare.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your screen.'), messageAwaitingApproval: t('Awaiting for an approval to share screen.'), messageRevoked: t('You can no longer share your screen.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption ?? t('Share screen'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isSomeoneScreenSharing || amIScreenSharing, caption: caption, variant: \"primary\", \"data-testid\": isSomeoneScreenSharing\n                        ? 'screen-share-stop-button'\n                        : 'screen-share-start-button', disabled: disableScreenShareButton, onClick: handleClick, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isSomeoneScreenSharing ? 'screen-share-on' : 'screen-share-off' }) }) }) }) }));\n};\n\nconst SelectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\nconst Select = (props) => {\n    const { children, icon, defaultSelectedLabel, defaultSelectedIndex, handleSelect: handleSelectProp, } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedIndex);\n    const [selectedLabel, setSelectedLabel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedLabel);\n    const { refs, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement: 'bottom-start',\n        open: isOpen,\n        onOpenChange: setIsOpen,\n        whileElementsMounted: _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate,\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)()],\n    });\n    const elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const labelsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        setSelectedIndex(index);\n        handleSelectProp(index || 0);\n        setIsOpen(false);\n        if (index !== null) {\n            setSelectedLabel(labelsRef.current[index]);\n        }\n    }, [handleSelectProp]);\n    const handleTypeaheadMatch = (index) => {\n        if (isOpen) {\n            setActiveIndex(index);\n        }\n        else {\n            handleSelect(index);\n        }\n    };\n    const listNav = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListNavigation)(context, {\n        listRef: elementsRef,\n        activeIndex,\n        selectedIndex,\n        onNavigate: setActiveIndex,\n    });\n    const typeahead = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useTypeahead)(context, {\n        listRef: labelsRef,\n        activeIndex,\n        selectedIndex,\n        onMatch: handleTypeaheadMatch,\n    });\n    const click = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useClick)(context);\n    const dismiss = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useDismiss)(context);\n    const role = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useRole)(context, { role: 'listbox' });\n    const { getReferenceProps, getFloatingProps, getItemProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([listNav, typeahead, click, dismiss, role]);\n    const selectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        activeIndex,\n        selectedIndex,\n        getItemProps,\n        handleSelect,\n    }), [activeIndex, selectedIndex, getItemProps, handleSelect]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown-selected\", ref: refs.setReference, tabIndex: 0, ...getReferenceProps(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: \"str-video__dropdown-selected__label\", children: [icon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__icon\", icon: icon })), selectedLabel] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__chevron\", icon: isOpen ? 'chevron-up' : 'chevron-down' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectContext.Provider, { value: selectContext, children: isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingFocusManager, { context: context, modal: false, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__dropdown-list\", ref: refs.setFloating, ...getFloatingProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingList, { elementsRef: elementsRef, labelsRef: labelsRef, children: children }) }) })) })] }));\n};\nconst DropDownSelectOption = (props) => {\n    const { selected, label, icon } = props;\n    const { getItemProps, handleSelect } = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SelectContext);\n    const { ref, index } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListItem)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__dropdown-option', {\n            'str-video__dropdown-option--selected': selected,\n        }), ref: ref, ...getItemProps({\n            onClick: () => handleSelect(index),\n        }), children: [icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-icon\", icon: icon }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__dropdown-label\", children: label })] }));\n};\nconst DropDownSelect = (props) => {\n    const { children, icon, handleSelect, defaultSelectedLabel, defaultSelectedIndex, } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Select, { icon: icon, handleSelect: handleSelect, defaultSelectedIndex: defaultSelectedIndex, defaultSelectedLabel: defaultSelectedLabel, children: children }));\n};\n\nconst DeviceSelectorOption = ({ disabled, id, label, onChange, name, selected, defaultChecked, value, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__option', {\n            'str-video__device-settings__option--selected': selected,\n            'str-video__device-settings__option--disabled': disabled,\n        }), htmlFor: id, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { type: \"radio\", name: name, onChange: onChange, value: value, id: id, checked: selected, defaultChecked: defaultChecked, disabled: disabled }), label] }));\n};\nconst DeviceSelectorList = (props) => {\n    const { devices = [], selectedDeviceId, title, type, onChange } = props;\n    const { close } = useMenuContext();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [title && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title })), devices.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--default`, label: t('Default'), name: type, defaultChecked: true, value: \"default\" })) : (devices.map((device) => {\n                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--${device.deviceId}`, value: device.deviceId, label: device.label, onChange: (e) => {\n                        onChange?.(e.target.value);\n                        close?.();\n                    }, name: type, selected: device.deviceId === selectedDeviceId || devices.length === 1 }, device.deviceId));\n            }))] }));\n};\nconst DeviceSelectorDropdown = (props) => {\n    const { devices = [], selectedDeviceId, title, onChange, icon } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const selectedIndex = devices.findIndex((d) => d.deviceId === selectedDeviceId);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        onChange?.(devices[index].deviceId);\n    }, [devices, onChange]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelect, { icon: icon, defaultSelectedIndex: selectedIndex, defaultSelectedLabel: devices[selectedIndex]?.label ?? t('Default'), handleSelect: handleSelect, children: devices.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelectOption, { icon: icon, label: t('Default'), selected: true })) : (devices.map((device) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelectOption, { icon: icon, label: device.label, selected: device.deviceId === selectedDeviceId || devices.length === 1 }, device.deviceId)))) })] }));\n};\nconst DeviceSelector = (props) => {\n    const { visualType = 'list', icon, placeholder, ...rest } = props;\n    if (visualType === 'list') {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorList, { ...rest });\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorDropdown, { ...rest, icon: icon });\n};\n\nconst DeviceSelectorAudioInput = ({ title, visualType, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, selectedDevice, devices } = useMicrophoneState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], selectedDeviceId: selectedDevice, type: \"audioinput\", onChange: async (deviceId) => {\n            await microphone.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"mic\" }));\n};\nconst DeviceSelectorAudioOutput = ({ title, visualType, }) => {\n    const { useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { speaker, selectedDevice, devices, isDeviceSelectionSupported } = useSpeakerState();\n    if (!isDeviceSelectionSupported)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices, type: \"audiooutput\", selectedDeviceId: selectedDevice, onChange: (deviceId) => {\n            speaker.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"speaker\" }));\n};\n\nconst DeviceSelectorVideo = ({ title, visualType, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, devices, selectedDevice } = useCameraState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], type: \"videoinput\", selectedDeviceId: selectedDevice, onChange: async (deviceId) => {\n            await camera.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"camera\" }));\n};\n\nconst DeviceSettings = ({ visualType = MenuVisualType.MENU, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleDeviceSettingsMenuButton, visualType: visualType, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) }));\n};\nconst Menu = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { title: t('Select a Camera') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { title: t('Select a Mic') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioOutput, { title: t('Select Speakers') })] }));\n};\nconst ToggleDeviceSettingsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleDeviceSettingsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__button', {\n            'str-video__device-settings__button--active': menuShown,\n        }), title: t('Toggle device menu'), icon: \"device-settings\", ref: ref }));\n});\n\nconst ToggleAudioPreviewButton = (props) => {\n    const { caption, onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => microphone.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser audio permissions')\n            : caption ?? t('Mic'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", disabled: !hasBrowserPermission, \"data-testid\": optimisticIsMute\n                ? 'preview-audio-unmute-button'\n                : 'preview-audio-mute-button', onClick: handleClick, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'mic' : 'mic-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser audio permissions'), children: \"!\" }))] }) }));\n};\nconst ToggleAudioPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO);\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await microphone.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now speak.'), messageAwaitingApproval: t('Awaiting for an approval to speak.'), messageRevoked: t('You can no longer speak.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your audio')\n                    : !hasBrowserPermission\n                        ? t('Check your browser mic permissions')\n                        : caption ?? t('Mic'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission || !hasPermission, \"data-testid\": optimisticIsMute ? 'audio-unmute-button' : 'audio-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'mic-off' : 'mic' }), (!hasBrowserPermission || !hasPermission) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" }))] }) }) }) }));\n};\n\nconst ToggleVideoPreviewButton = (props) => {\n    const { caption, Menu = DeviceSelectorVideo, menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission } = useCameraState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => camera.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser video permissions')\n            : caption ?? t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", \"data-testid\": optimisticIsMute\n                ? 'preview-video-unmute-button'\n                : 'preview-video-mute-button', onClick: handleClick, disabled: !hasBrowserPermission, Menu: Menu, menuPlacement: menuPlacement, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'camera' : 'camera-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser video permissions'), children: \"!\" }))] }) }));\n};\nconst ToggleVideoPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO);\n    const { useCameraState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission } = useCameraState();\n    const callSettings = useCallSettings();\n    const isPublishingVideoAllowed = callSettings?.video.enabled;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await camera.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your video.'), messageAwaitingApproval: t('Awaiting for an approval to share your video.'), messageRevoked: t('You can no longer share your video.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your video')\n                    : !hasBrowserPermission\n                        ? t('Check your browser video permissions')\n                        : !isPublishingVideoAllowed\n                            ? t('Video publishing is disabled by the system')\n                            : caption || t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission ||\n                        !hasPermission ||\n                        !isPublishingVideoAllowed, \"data-testid\": optimisticIsMute ? 'video-unmute-button' : 'video-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'camera-off' : 'camera' }), (!hasBrowserPermission ||\n                            !hasPermission ||\n                            !isPublishingVideoAllowed) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" }))] }) }) }) }));\n};\n\nconst EndCallMenu = (props) => {\n    const { onLeave, onEnd } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-call__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__leave\", type: \"button\", \"data-testid\": \"leave-call-button\", onClick: onLeave, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__leave-icon\", icon: \"logout\" }), t('Leave call')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.END_CALL], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__end\", type: \"button\", \"data-testid\": \"end-call-for-all-button\", onClick: onEnd, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__end-icon\", icon: \"call-end\" }), t('End call for all')] }) })] }));\n};\nconst CancelCallToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CancelCallToggleMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Leave call'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: menuShown ? 'close' : 'call-end', variant: menuShown ? 'active' : 'danger', \"data-testid\": \"leave-call-button\", ref: ref }) }));\n});\nconst CancelCallConfirmButton = ({ onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    const handleEndCall = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.endCall();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-start\", ToggleButton: CancelCallToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EndCallMenu, { onEnd: handleEndCall, onLeave: handleLeave }) }));\n};\nconst CancelCallButton = ({ disabled, caption, onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-end\", variant: \"danger\", title: caption ?? t('Leave call'), \"data-testid\": \"cancel-call-button\", onClick: handleClick }));\n};\n\nconst CallControls = ({ onLeave }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-controls\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeakingWhileMutedNotification, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleAudioPublishingButton, {}) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleVideoPublishingButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ReactionsButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ScreenShareButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordCallButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onLeave: onLeave })] }));\n\nconst CallStatsLatencyChart = (0,react__WEBPACK_IMPORTED_MODULE_3__.lazy)(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@stream-io\"), __webpack_require__.e(\"vendor-chunks/chart.js\"), __webpack_require__.e(\"vendor-chunks/react-chartjs-2\"), __webpack_require__.e(\"vendor-chunks/@kurkle\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./latency-chart-Bj5OSYzg.es.js */ \"(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\")));\nvar Status;\n(function (Status) {\n    Status[\"GOOD\"] = \"Good\";\n    Status[\"OK\"] = \"Ok\";\n    Status[\"BAD\"] = \"Bad\";\n})(Status || (Status = {}));\nconst CallStats = (props) => {\n    const { latencyLowBound = 75, latencyHighBound = 400, showCodecInfo = false, LatencyChartSuspenseFallback = null, } = props;\n    const [latencyBuffer, setLatencyBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        const now = Date.now();\n        return Array.from({ length: 20 }, (_, i) => ({ x: now + i, y: 0 }));\n    });\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const [publishBitrate, setPublishBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const [subscribeBitrate, setSubscribeBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const previousStats = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n    const { useCallStatsReport } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callStatsReport = useCallStatsReport();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!callStatsReport)\n            return;\n        if (!previousStats.current) {\n            previousStats.current = callStatsReport;\n            return;\n        }\n        const previousCallStatsReport = previousStats.current;\n        setPublishBitrate(() => {\n            return calculatePublishBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setSubscribeBitrate(() => {\n            return calculateSubscribeBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setLatencyBuffer((latencyBuf) => {\n            const newLatencyBuffer = latencyBuf.slice(-19);\n            newLatencyBuffer.push({\n                x: callStatsReport.timestamp,\n                y: callStatsReport.publisherStats.averageRoundTripTimeInMs,\n            });\n            return newLatencyBuffer;\n        });\n        previousStats.current = callStatsReport;\n    }, [callStatsReport]);\n    const latencyComparison = {\n        lowBound: latencyLowBound,\n        highBound: latencyHighBound,\n        value: callStatsReport?.publisherStats.averageRoundTripTimeInMs || 0,\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats\", children: callStatsReport && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"call-latency\" }), t('Call Latency')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__latencychart\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Suspense, { fallback: LatencyChartSuspenseFallback, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStatsLatencyChart, { values: latencyBuffer }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"network-quality\" }), t('Call performance')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Review the key data points below to assess call performance') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-container\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Region'), value: callStatsReport.datacenter }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Latency'), value: `${callStatsReport.publisherStats.averageRoundTripTimeInMs} ms.`, comparison: latencyComparison }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive jitter'), value: `${callStatsReport.subscriberStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.subscriberStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish jitter'), value: `${callStatsReport.publisherStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.publisherStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: `${t('Publish resolution')}${showCodecInfo ? formatCodec(callStatsReport) : ''}`, value: toFrameSize(callStatsReport.publisherStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish quality drop reason'), value: callStatsReport.publisherStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving resolution'), value: toFrameSize(callStatsReport.subscriberStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive quality drop reason'), value: callStatsReport.subscriberStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish bitrate'), value: publishBitrate }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving bitrate'), value: subscribeBitrate })] })] })) }));\n};\nconst StatCardExplanation = (props) => {\n    const { description } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const { refs, floatingStyles, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        open: isOpen,\n        onOpenChange: setIsOpen,\n    });\n    const hover = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useHover)(context);\n    const { getReferenceProps, getFloatingProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([hover]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation\", ref: refs.setReference, ...getReferenceProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-explanation__icon\", icon: \"info\" }) }), isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation__description\", ref: refs.setFloating, style: floatingStyles, ...getFloatingProps(), children: description }))] }));\n};\nconst StatsTag = (props) => {\n    const { children, status } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-stats__tag', {\n            'str-video__call-stats__tag--good': status === Status.GOOD,\n            'str-video__call-stats__tag--ok': status === Status.OK,\n            'str-video__call-stats__tag--bad': status === Status.BAD,\n        }), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__tag__text\", children: children }) }));\n};\nconst StatCard = (props) => {\n    const { label, value, description, comparison } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const status = comparison ? toStatus(comparison) : undefined;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-content\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-label\", children: [label, description && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCardExplanation, { description: description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__card-value\", children: value })] }), status && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatsTag, { status: status, children: t(status) })] }));\n};\nconst toStatus = (config) => {\n    const { value, lowBound, highBound } = config;\n    if (value <= lowBound)\n        return Status.GOOD;\n    if (value >= lowBound && value <= highBound)\n        return Status.OK;\n    if (value >= highBound)\n        return Status.BAD;\n    return Status.GOOD;\n};\nconst toFrameSize = (stats) => {\n    const { highestFrameWidth: w, highestFrameHeight: h, highestFramesPerSecond: fps, } = stats;\n    let size = `-`;\n    if (w && h) {\n        size = `${w}x${h}`;\n        if (fps) {\n            size += `@${fps}fps.`;\n        }\n    }\n    return size;\n};\nconst formatCodec = (callStatsReport) => {\n    const { codecPerTrackType } = callStatsReport.publisherStats;\n    if (!codecPerTrackType || !codecPerTrackType[_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.TrackType.VIDEO]) {\n        return '';\n    }\n    const [, name] = codecPerTrackType[_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.TrackType.VIDEO].split('/');\n    return name ? ` (${name})` : '';\n};\nconst calculatePublishBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { publisherStats: { totalBytesSent: previousTotalBytesSent, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { publisherStats: { totalBytesSent, timestamp }, } = callStatsReport;\n    const bytesSent = totalBytesSent - previousTotalBytesSent;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesSent * 8) / timeElapsed).toFixed(2)} kbps`;\n};\nconst calculateSubscribeBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { subscriberStats: { totalBytesReceived: previousTotalBytesReceived, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { subscriberStats: { totalBytesReceived, timestamp }, } = callStatsReport;\n    const bytesReceived = totalBytesReceived - previousTotalBytesReceived;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesReceived * 8) / timeElapsed).toFixed(2)} kbps`;\n};\n\nconst CallStatsButton = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-end\", ToggleButton: ToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStats, {}) }));\nconst ToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleMenuButton(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, menuShown } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, caption: caption, title: caption || t('Statistics'), \"data-testid\": \"stats-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"stats\" }) }));\n});\n\nconst ToggleAudioOutputButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = DeviceSelectorAudioOutput, menuPlacement = 'top', onMenuToggle, } = props;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption || t('Speakers'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { Menu: Menu, menuPlacement: menuPlacement, caption: caption, \"data-testid\": \"audio-output-button\", onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"speaker\" }) }) }));\n};\n\nconst BlockedUserListing = ({ data }) => {\n    if (!data.length)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((userId) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUserListingItem, { userId: userId }, userId))) }) }));\n};\nconst BlockedUserListingItem = ({ userId }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const unblockUserClickHandler = () => {\n        if (userId)\n            call?.unblockUser(userId);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing-item__display-name\", children: userId }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: unblockUserClickHandler, children: \"Unblock\" }) })] }));\n};\n\nconst CallParticipantListHeader = ({ onClose, }) => {\n    const { useParticipants, useAnonymousParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants();\n    const anonymousParticipantCount = useAnonymousParticipantCount();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header__title\", children: [t('Participants'), ' ', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-list-header__title-count\", children: [\"[\", participants.length, \"]\"] }), anonymousParticipantCount > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-list-header__title-anonymous\", children: t('Anonymous', { count: anonymousParticipantCount }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: onClose, className: \"str-video__participant-list-header__close-button\", icon: \"close\" })] }));\n};\n\nconst CallParticipantListingItem = ({ participant, DisplayName = DefaultDisplayName, }) => {\n    const isAudioOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const isVideoOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const isPinnedOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned)(participant);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: participant.name, imageSrc: participant.image }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisplayName, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item__media-indicator-group\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isAudioOn ? t('Microphone on') : t('Microphone off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isAudioOn ? 'mic' : 'mic-off'}`) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isVideoOn ? t('Camera on') : t('Camera off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isVideoOn ? 'camera' : 'camera-off'}`) }), isPinnedOn && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: t('Pinned'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', 'str-video__participant-listing-item__icon-pinned') })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$2, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewContext.Provider, { value: { participant, trackType: 'none' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu, {}) }) })] })] }));\n};\nconst MediaIndicator = (props) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { ...props }));\nconst DefaultDisplayName = ({ participant }) => {\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const meFlag = participant.userId === connectedUser?.id ? t('Me') : '';\n    const nameOrId = participant.name || participant.userId || t('Unknown');\n    let displayName;\n    if (!participant.name) {\n        displayName = meFlag || nameOrId || t('Unknown');\n    }\n    else if (meFlag) {\n        displayName = `${nameOrId} (${meFlag})`;\n    }\n    else {\n        displayName = nameOrId;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { className: \"str-video__participant-listing-item__display-name\", title: displayName, children: displayName }));\n};\nconst ToggleButton$2 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\n\nconst CallParticipantListing = ({ data, }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListingItem, { participant: participant }, participant.sessionId))) }));\n\nconst EmptyParticipantSearchList = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list--empty\", children: t('No participants found') }));\n};\n\nconst SearchInput = ({ exitSearch, isActive, ...rest }) => {\n    const [inputElement, setInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!inputElement)\n            return;\n        const handleKeyDown = (e) => {\n            if (e.key.toLowerCase() === 'escape')\n                exitSearch();\n        };\n        inputElement.addEventListener('keydown', handleKeyDown);\n        return () => {\n            inputElement.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [exitSearch, inputElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__search-input__container', {\n            'str-video__search-input__container--active': isActive,\n        }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { placeholder: \"Search\", ...rest, ref: setInputElement }), isActive ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: \"str-video__search-input__clear-btn\", onClick: exitSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon--active\" }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon\" }))] }));\n};\n\nconst SearchResults = ({ EmptySearchResultComponent, LoadingIndicator: LoadingIndicator$1 = LoadingIndicator, searchQueryInProgress, searchResults, SearchResultList, }) => {\n    if (searchQueryInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__search-results--loading\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator$1, {}) }));\n    }\n    if (!searchResults.length) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptySearchResultComponent, {});\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResultList, { data: searchResults });\n};\n\nconst useSearch = ({ debounceInterval, searchFn, searchQuery = '', }) => {\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [searchQueryInProgress, setSearchQueryInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!searchQuery.length) {\n            setSearchQueryInProgress(false);\n            setSearchResults([]);\n            return;\n        }\n        setSearchQueryInProgress(true);\n        const timeout = setTimeout(async () => {\n            try {\n                const results = await searchFn(searchQuery);\n                setSearchResults(results);\n            }\n            catch (error) {\n                console.error(error);\n            }\n            finally {\n                setSearchQueryInProgress(false);\n            }\n        }, debounceInterval);\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [debounceInterval, searchFn, searchQuery]);\n    return {\n        searchQueryInProgress,\n        searchResults,\n    };\n};\n\nconst UserListTypes = {\n    active: 'Active users',\n    blocked: 'Blocked users',\n};\nconst DEFAULT_DEBOUNCE_SEARCH_INTERVAL = 200;\nconst CallParticipantsList = ({ onClose, activeUsersSearchFn, blockedUsersSearchFn, debounceSearchInterval, }) => {\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('');\n    const [userListType, setUserListType] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('active');\n    const exitSearch = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setSearchQuery(''), []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListHeader, { onClose: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchInput, { value: searchQuery, onChange: ({ currentTarget }) => setSearchQuery(currentTarget.value), exitSearch: exitSearch, isActive: !!searchQuery }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListContentHeader, { userListType: userListType, setUserListType: setUserListType }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content\", children: [userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ActiveUsersSearchResults, { searchQuery: searchQuery, activeUsersSearchFn: activeUsersSearchFn, debounceSearchInterval: debounceSearchInterval })), userListType === 'blocked' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUsersSearchResults, { searchQuery: searchQuery, blockedUsersSearchFn: blockedUsersSearchFn, debounceSearchInterval: debounceSearchInterval }))] })] }));\n};\nconst CallParticipantListContentHeader = ({ userListType, setUserListType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const muteAll = () => {\n        call?.muteAllUsers('audio');\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list__content-header-title\", children: userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], hasPermissionsOnly: true, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: muteAll, children: \"Mute all\" }) })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$1, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenu, { children: Object.keys(UserListTypes).map((lt) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { \"aria-selected\": lt === userListType, onClick: () => setUserListType(lt), children: UserListTypes[lt] }, lt))) }) })] }));\n};\nconst ActiveUsersSearchResults = ({ searchQuery, activeUsersSearchFn: activeUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, }) => {\n    const { useParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants({ sortBy: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name });\n    const activeUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(participants.filter((participant) => {\n            return participant.name.match(queryRegExp);\n        }));\n    }, [participants]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: activeUsersSearchFnFromProps ?? activeUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : participants, SearchResultList: CallParticipantListing }));\n};\nconst BlockedUsersSearchResults = ({ blockedUsersSearchFn: blockedUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, searchQuery, }) => {\n    const { useCallBlockedUserIds } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const blockedUsers = useCallBlockedUserIds();\n    const blockedUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(blockedUsers.filter((blockedUser) => {\n            return blockedUser.match(queryRegExp);\n        }));\n    }, [blockedUsers]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: blockedUsersSearchFnFromProps ?? blockedUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : blockedUsers, SearchResultList: BlockedUserListing }));\n};\nconst ToggleButton$1 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"filter\", ref: ref });\n});\n\nconst CallPreview = (props) => {\n    const { className, style } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallThumbnail } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const thumbnail = useCallThumbnail();\n    const [imageRef, setImageRef] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!imageRef || !call)\n            return;\n        const cleanup = call.bindCallThumbnailElement(imageRef);\n        return () => cleanup();\n    }, [imageRef, call]);\n    if (!thumbnail)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-preview', className), style: style, alt: \"Call Preview Thumbnail\", ref: setImageRef }));\n};\n\nconst CallRecordingListHeader = ({ callRecordings, onRefresh, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__title\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { children: t('Call Recordings') }), callRecordings.length ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { children: [\"(\", callRecordings.length, \")\"] }) : null] }), onRefresh && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"refresh\", title: t('Refresh'), onClick: onRefresh }))] }));\n};\n\nconst dateFormat = (date) => {\n    const format = new Date(date);\n    return format.toTimeString().split(' ')[0];\n};\nconst CallRecordingListItem = ({ recording, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__filename\", children: recording.filename }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.start_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.end_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__download\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-recording-list-item__action-button', 'str-video__call-recording-list-item__action-button--download'), role: \"button\", href: recording.url, download: recording.filename, title: \"Download the recording\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"download\" }) }) })] }));\n};\n\nconst EmptyCallRecordingListing = () => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__listing str-video__call-recording-list__listing--empty\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing--icon-empty\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-recording-list__listing--text-empty\", children: \"No recordings available\" })] }));\n};\n\nconst LoadingCallRecordingListing = ({ callRecordings, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem, { recording: recording }, recording.filename))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, { text: \"Recording getting ready\" })] }));\n};\n\nconst CallRecordingList = ({ callRecordings, CallRecordingListHeader: CallRecordingListHeader$1 = CallRecordingListHeader, CallRecordingListItem: CallRecordingListItem$1 = CallRecordingListItem, EmptyCallRecordingList = EmptyCallRecordingListing, loading, LoadingCallRecordingList = LoadingCallRecordingListing, onRefresh, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListHeader$1, { callRecordings: callRecordings, onRefresh: onRefresh }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing\", children: loading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingCallRecordingList, { callRecordings: callRecordings })) : callRecordings.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__filename\", children: \"Name\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"Start time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"End time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__download\" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem$1, { recording: recording }, recording.filename))) })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptyCallRecordingList, {})) })] }));\n};\n\nconst NoiseCancellationContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n/**\n * Exposes the NoiseCancellation API.\n * Throws an error if used outside <NoiseCancellationProvider />.\n */\nconst useNoiseCancellation = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(NoiseCancellationContext);\n    if (!context) {\n        throw new Error('useNoiseCancellation must be used within a NoiseCancellationProvider');\n    }\n    return context;\n};\nconst NoiseCancellationProvider = (props) => {\n    const { children, noiseCancellation } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallSettings, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const settings = useCallSettings();\n    const noiseCancellationAllowed = !!(settings &&\n        settings.audio.noise_cancellation &&\n        settings.audio.noise_cancellation.mode !==\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum.DISABLED);\n    const hasCapability = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.ENABLE_NOISE_CANCELLATION);\n    const [isSupportedByBrowser, setIsSupportedByBrowser] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const result = noiseCancellation.isSupported();\n        if (typeof result === 'boolean') {\n            setIsSupportedByBrowser(result);\n        }\n        else {\n            result\n                .then((_isSupportedByBrowser) => setIsSupportedByBrowser(_isSupportedByBrowser))\n                .catch((err) => console.error(`Can't determine if noise cancellation is supported`, err));\n        }\n    }, [noiseCancellation]);\n    const isSupported = isSupportedByBrowser && hasCapability && noiseCancellationAllowed;\n    const [isEnabled, setIsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const deinit = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !isSupported)\n            return;\n        const unsubscribe = noiseCancellation.on('change', (v) => setIsEnabled(v));\n        const init = (deinit.current || Promise.resolve())\n            .then(() => noiseCancellation.init())\n            .then(() => call.microphone.enableNoiseCancellation(noiseCancellation))\n            .catch((err) => console.error(`Can't initialize noise suppression`, err));\n        return () => {\n            deinit.current = init\n                .then(() => call.microphone.disableNoiseCancellation())\n                .then(() => noiseCancellation.dispose())\n                .then(() => unsubscribe());\n        };\n    }, [call, isSupported, noiseCancellation]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoiseCancellationContext.Provider, { value: {\n            isSupported,\n            isEnabled,\n            setEnabled: (enabledOrSetter) => {\n                if (!noiseCancellation)\n                    return;\n                const enable = typeof enabledOrSetter === 'function'\n                    ? enabledOrSetter(isEnabled)\n                    : enabledOrSetter;\n                if (enable) {\n                    noiseCancellation.enable();\n                }\n                else {\n                    noiseCancellation.disable();\n                }\n            },\n        }, children: children }));\n};\n\nconst RingingCallControls = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallCallingState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callCallingState = useCallCallingState();\n    if (!call)\n        return null;\n    const buttonsDisabled = callCallingState !== _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__pending-call-controls\", children: call.isCreatedByMe ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { disabled: buttonsDisabled })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AcceptCallButton, { disabled: buttonsDisabled }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onClick: () => {\n                        const reason = call.isCreatedByMe ? 'cancel' : 'decline';\n                        call.leave({ reject: true, reason });\n                    }, disabled: buttonsDisabled })] })) }));\n};\n\nconst CALLING_STATE_TO_LABEL = {\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING]: 'Joining',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING]: 'Ringing',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.MIGRATING]: 'Migrating',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING]: 'Re-connecting',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING_FAILED]: 'Failed',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.OFFLINE]: 'No internet connection',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.IDLE]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.UNKNOWN]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINED]: 'Joined',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT]: 'Left call',\n};\nconst RingingCall = (props) => {\n    const { includeSelf = false, totalMembersToShow = 3 } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCallCallingState, useCallMembers } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callingState = useCallCallingState();\n    const members = useCallMembers();\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    if (!call)\n        return null;\n    // take the first N members to show their avatars\n    const membersToShow = (members || [])\n        .slice(0, totalMembersToShow)\n        .map(({ user }) => user)\n        .filter((user) => user.id !== connectedUser?.id || includeSelf);\n    if (includeSelf &&\n        !membersToShow.find((user) => user.id === connectedUser?.id)) {\n        // if the current user is not in the initial batch of members,\n        // replace the first item in membersToShow array with the current user\n        const self = members.find(({ user }) => user.id === connectedUser?.id);\n        if (self) {\n            membersToShow.splice(0, 1, self.user);\n        }\n    }\n    const callingStateLabel = CALLING_STATE_TO_LABEL[callingState];\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel str-video__call-panel--ringing\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__members-list\", children: membersToShow.map((user) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel__member-box\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: user.name, imageSrc: user.image }), user.name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__member_details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__member_name\", children: user.name }) }))] }, user.id))) }), callingStateLabel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__calling-state-label\", children: t(callingStateLabel) })), [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING, _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING].includes(callingState) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RingingCallControls, {}))] }));\n};\n\nconst byNameOrId = (a, b) => {\n    if (a.name && b.name && a.name < b.name)\n        return -1;\n    if (a.name && b.name && a.name > b.name)\n        return 1;\n    if (a.id < b.id)\n        return -1;\n    if (a.id > b.id)\n        return 1;\n    return 0;\n};\nconst PermissionRequests = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useLocalParticipant, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const localParticipant = useLocalParticipant();\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [permissionRequests, setPermissionRequests] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const canUpdateCallPermissions = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS);\n    const localUserId = localParticipant?.userId;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !canUpdateCallPermissions)\n            return;\n        return call.on('call.permission_request', (event) => {\n            if (event.user.id !== localUserId) {\n                setPermissionRequests((requests) => [...requests, event].sort((a, b) => byNameOrId(a.user, b.user)));\n            }\n        });\n    }, [call, canUpdateCallPermissions, localUserId]);\n    const handleUpdatePermission = (request, type) => {\n        return async () => {\n            const { user, permissions } = request;\n            switch (type) {\n                case 'grant':\n                    await call?.grantPermissions(user.id, permissions);\n                    break;\n                case 'revoke':\n                    await call?.revokePermissions(user.id, permissions);\n                    break;\n            }\n            setPermissionRequests((requests) => requests.filter((r) => r !== request));\n        };\n    };\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement: 'bottom',\n        strategy: 'absolute',\n    });\n    // don't render anything if there are no permission requests\n    if (permissionRequests.length === 0)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests\", ref: refs.setReference, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests__notification\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__permission-requests__notification__message\", children: [permissionRequests.length, \" pending permission requests\"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { type: \"button\", onClick: () => {\n                            setExpanded((e) => !e);\n                        }, children: expanded ? 'Hide requests' : 'Show requests' })] }), expanded && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionRequestList, { ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, permissionRequests: permissionRequests, handleUpdatePermission: handleUpdatePermission }))] }));\n};\nconst PermissionRequestList = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function PermissionRequestList(props, ref) {\n    const { permissionRequests, handleUpdatePermission, ...rest } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-requests-list\", ref: ref, ...rest, children: permissionRequests.map((request, reqIndex) => {\n            const { user, permissions } = request;\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: permissions.map((permission) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-request\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-request__message\", children: messageForPermission(user.name || user.id, permission, t) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--allow\", type: \"button\", onClick: handleUpdatePermission(request, 'grant'), children: t('Allow') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'revoke'), children: t('Revoke') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'dismiss'), children: t('Dismiss') })] }, permission))) }, `${user.id}/${reqIndex}`));\n        }) }));\n});\nconst Button = (props) => {\n    const { className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__permission-request__button', className), ...rest }));\n};\nconst messageForPermission = (userName, permission, t) => {\n    switch (permission) {\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO:\n            return t('{{ userName }} is requesting to speak', { userName });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO:\n            return t('{{ userName }} is requesting to share their camera', {\n                userName,\n            });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE:\n            return t('{{ userName }} is requesting to present their screen', {\n                userName,\n            });\n        default:\n            return t('{{ userName }} is requesting permission: {{ permission }}', {\n                userName,\n                permission,\n            });\n    }\n};\n\nconst StreamTheme = ({ as: Component = 'div', className, children, ...props }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, { ...props, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video', className), children: children }));\n};\n\nconst DefaultDisabledVideoPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__disabled-video-preview\", children: t('Video is disabled') }));\n};\nconst DefaultNoCameraPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__no-camera-preview\", children: t('No camera found') }));\n};\nconst VideoPreview = ({ className, mirror = true, DisabledVideoPreview = DefaultDisabledVideoPreview, NoCameraPreview = DefaultNoCameraPreview, StartingCameraPreview = LoadingIndicator, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { devices, status, isMute, mediaStream } = useCameraState();\n    let contents;\n    if (isMute && devices?.length === 0) {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoCameraPreview, {});\n    }\n    else if (status === 'enabled') {\n        const loading = !mediaStream;\n        contents = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [mediaStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideo, { stream: mediaStream, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview', {\n                        'str-video__video-preview--mirror': mirror,\n                        'str-video__video-preview--loading': loading,\n                    }) })), loading && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StartingCameraPreview, {})] }));\n    }\n    else {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisabledVideoPreview, {});\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview-container', className), children: contents }));\n};\n\nconst ToggleButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\nconst DefaultScreenShareOverlay = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const stopScreenShare = () => {\n        call?.screenShare.disable();\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__screen-share-overlay\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__screen-share-overlay__title\", children: t('You are presenting your screen') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { onClick: stopScreenShare, className: \"str-video__screen-share-overlay__button\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"close\" }), \" \", t('Stop Screen Sharing')] })] }));\n};\nconst DefaultParticipantViewUI = ({ indicatorsVisible = true, menuPlacement = 'bottom-start', showMenuButton = true, ParticipantActionsContextMenu: ParticipantActionsContextMenu$1 = ParticipantActionsContextMenu, }) => {\n    const { participant, trackType } = useParticipantViewContext();\n    const isScreenSharing = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    if (participant.isLocalParticipant &&\n        isScreenSharing &&\n        trackType === 'screenShareTrack') {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultScreenShareOverlay, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [showMenuButton && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { strategy: \"fixed\", placement: menuPlacement, ToggleButton: ToggleButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu$1, {}) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Reaction, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n};\nconst ParticipantDetails = ({ indicatorsVisible = true, }) => {\n    const { participant } = useParticipantViewContext();\n    const { isLocalParticipant, connectionQuality, pin, sessionId, name, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const connectionQualityAsString = !!connectionQuality &&\n        _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality[connectionQuality].toLowerCase();\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const canUnpin = !!pin && pin.isLocalPin;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-details__name\", children: [name || userId, indicatorsVisible && !hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--audio-muted\" })), indicatorsVisible && !hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--video-muted\" })), indicatorsVisible && canUnpin && (\n                        // TODO: remove this monstrosity once we have a proper design\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { title: t('Unpin'), onClick: () => call?.unpin(sessionId), className: \"str-video__participant-details__name--pinned\" })), indicatorsVisible && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeechIndicator, {})] }) }), indicatorsVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isLocalParticipant &&\n                    connectionQuality === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality.POOR, message: t('Poor connection quality'), children: connectionQualityAsString && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-details__connection-quality', `str-video__participant-details__connection-quality--${connectionQualityAsString}`), title: connectionQualityAsString })) }))] }));\n};\nconst SpeechIndicator = () => {\n    const { participant } = useParticipantViewContext();\n    const { isSpeaking, isDominantSpeaker } = participant;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speech-indicator', isSpeaking && 'str-video__speech-indicator--speaking', isDominantSpeaker && 'str-video__speech-indicator--dominant'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" })] }));\n};\n\nconst ParticipantView = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ParticipantView({ participant, trackType = 'videoTrack', mirror, muteAudio, refs: { setVideoElement, setVideoPlaceholderElement } = {}, className, VideoPlaceholder, PictureInPicturePlaceholder, ParticipantViewUI = DefaultParticipantViewUI, }, ref) {\n    const { isLocalParticipant, isSpeaking, isDominantSpeaker, sessionId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const [trackedElement, setTrackedElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoElement, setContextVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoPlaceholderElement, setContextVideoPlaceholderElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // TODO: allow to pass custom ViewportTracker instance from props\n    useTrackElementVisibility({\n        sessionId,\n        trackedElement,\n        trackType,\n    });\n    const { useIncomingVideoSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isParticipantVideoEnabled } = useIncomingVideoSettings();\n    const participantViewContextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        participant,\n        participantViewElement: trackedElement,\n        videoElement: contextVideoElement,\n        videoPlaceholderElement: contextVideoPlaceholderElement,\n        trackType,\n    }), [\n        contextVideoElement,\n        contextVideoPlaceholderElement,\n        participant,\n        trackedElement,\n        trackType,\n    ]);\n    const videoRefs = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        setVideoElement: (element) => {\n            setVideoElement?.(element);\n            setContextVideoElement(element);\n        },\n        setVideoPlaceholderElement: (element) => {\n            setVideoPlaceholderElement?.(element);\n            setContextVideoPlaceholderElement(element);\n        },\n    }), [setVideoElement, setVideoPlaceholderElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { \"data-testid\": \"participant-view\", ref: (element) => {\n            applyElementToRef(ref, element);\n            setTrackedElement(element);\n        }, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-view', isDominantSpeaker && 'str-video__participant-view--dominant-speaker', isSpeaking && 'str-video__participant-view--speaking', !hasVideoTrack && 'str-video__participant-view--no-video', !hasAudioTrack && 'str-video__participant-view--no-audio', className), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ParticipantViewContext.Provider, { value: participantViewContextValue, children: [!isLocalParticipant && !muteAudio && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"audioTrack\" })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"screenShareAudioTrack\" }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Video$1, { VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, participant: participant, trackType: trackType, refs: videoRefs, enabled: isLocalParticipant ||\n                        trackType !== 'videoTrack' ||\n                        isParticipantVideoEnabled(participant.sessionId), mirror: mirror, autoPlay: true }), isComponentType(ParticipantViewUI) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewUI, {})) : (ParticipantViewUI)] }) }));\n});\nParticipantView.displayName = 'ParticipantView';\n\n// re-exporting the StreamCallProvider as StreamCall\nconst StreamCall = _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider;\nStreamCall.displayName = 'StreamCall';\n\nvar Joining = \"Joining\";\nvar Mic = \"Mic\";\nvar Ringing = \"Ringing\";\nvar Speakers = \"Speakers\";\nvar Video = \"Video\";\nvar Live = \"Live\";\nvar Reactions = \"Reactions\";\nvar Statistics = \"Statistics\";\nvar Invite = \"Invite\";\nvar Join = \"Join\";\nvar You = \"You\";\nvar Me = \"Me\";\nvar Unknown = \"Unknown\";\nvar Default = \"Default\";\nvar Refresh = \"Refresh\";\nvar Allow = \"Allow\";\nvar Revoke = \"Revoke\";\nvar Dismiss = \"Dismiss\";\nvar Pinned = \"Pinned\";\nvar Unpin = \"Unpin\";\nvar Pin = \"Pin\";\nvar Block = \"Block\";\nvar Enter = \"Enter\";\nvar Leave = \"Leave\";\nvar Participants = \"Participants\";\nvar Anonymous = \", and ({{ count }}) anonymous\";\nvar en = {\n\tJoining: Joining,\n\tMic: Mic,\n\t\"No internet connection\": \"No internet connection\",\n\t\"Re-connecting\": \"Re-connecting\",\n\tRinging: Ringing,\n\t\"Screen Share\": \"Screen Share\",\n\t\"Select a Camera\": \"Select a Camera\",\n\t\"Select a Mic\": \"Select a Mic\",\n\t\"Select Speakers\": \"Select Speakers\",\n\tSpeakers: Speakers,\n\tVideo: Video,\n\t\"You are muted. Unmute to speak.\": \"You are muted. Unmute to speak.\",\n\tLive: Live,\n\t\"You can now speak.\": \"You can now speak.\",\n\t\"Awaiting for an approval to speak.\": \"Awaiting for an approval to speak.\",\n\t\"You can no longer speak.\": \"You can no longer speak.\",\n\t\"You can now share your video.\": \"You can now share your video.\",\n\t\"Awaiting for an approval to share your video.\": \"Awaiting for an approval to share your video.\",\n\t\"You can no longer share your video.\": \"You can no longer share your video.\",\n\t\"Waiting for recording to stop...\": \"Waiting for recording to stop...\",\n\t\"Waiting for recording to start...\": \"Waiting for recording to start...\",\n\t\"Record call\": \"Record call\",\n\tReactions: Reactions,\n\tStatistics: Statistics,\n\t\"You can now share your screen.\": \"You can now share your screen.\",\n\t\"Awaiting for an approval to share screen.\": \"Awaiting for an approval to share screen.\",\n\t\"You can no longer share your screen.\": \"You can no longer share your screen.\",\n\t\"Share screen\": \"Share screen\",\n\t\"Incoming Call...\": \"Incoming Call...\",\n\t\"Calling...\": \"Calling...\",\n\t\"Mute All\": \"Mute All\",\n\tInvite: Invite,\n\tJoin: Join,\n\tYou: You,\n\tMe: Me,\n\tUnknown: Unknown,\n\t\"Toggle device menu\": \"Toggle device menu\",\n\tDefault: Default,\n\t\"Call Recordings\": \"Call Recordings\",\n\tRefresh: Refresh,\n\t\"Check your browser video permissions\": \"Check your browser video permissions\",\n\t\"Video publishing is disabled by the system\": \"Video publishing is disabled by the system\",\n\t\"You have no permission to share your video\": \"You have no permission to share your video\",\n\t\"You have no permission to share your audio\": \"You have no permission to share your audio\",\n\t\"You are presenting your screen\": \"You are presenting your screen\",\n\t\"Stop Screen Sharing\": \"Stop Screen Sharing\",\n\tAllow: Allow,\n\tRevoke: Revoke,\n\tDismiss: Dismiss,\n\t\"Microphone on\": \"Microphone on\",\n\t\"Microphone off\": \"Microphone off\",\n\t\"Camera on\": \"Camera on\",\n\t\"Camera off\": \"Camera off\",\n\t\"No camera found\": \"No camera found\",\n\t\"Video is disabled\": \"Video is disabled\",\n\tPinned: Pinned,\n\tUnpin: Unpin,\n\tPin: Pin,\n\t\"Pin for everyone\": \"Pin for everyone\",\n\t\"Unpin for everyone\": \"Unpin for everyone\",\n\tBlock: Block,\n\t\"Turn off video\": \"Turn off video\",\n\t\"Turn off screen share\": \"Turn off screen share\",\n\t\"Mute audio\": \"Mute audio\",\n\t\"Mute screen share audio\": \"Mute screen share audio\",\n\t\"Allow audio\": \"Allow audio\",\n\t\"Allow video\": \"Allow video\",\n\t\"Allow screen sharing\": \"Allow screen sharing\",\n\t\"Disable audio\": \"Disable audio\",\n\t\"Disable video\": \"Disable video\",\n\t\"Disable screen sharing\": \"Disable screen sharing\",\n\tEnter: Enter,\n\tLeave: Leave,\n\t\"Leave call\": \"Leave call\",\n\t\"End call for all\": \"End call for all\",\n\t\"{{ direction }} fullscreen\": \"{{ direction }} fullscreen\",\n\t\"{{ direction }} picture-in-picture\": \"{{ direction }} picture-in-picture\",\n\t\"Dominant Speaker\": \"Dominant Speaker\",\n\t\"Poor connection quality\": \"Poor connection quality. Please check your internet connection.\",\n\tParticipants: Participants,\n\tAnonymous: Anonymous,\n\t\"No participants found\": \"No participants found\",\n\t\"Participants ({{ numberOfParticipants }})\": \"Participants ({{ numberOfParticipants }})\",\n\t\"{{ userName }} is sharing their screen\": \"{{ userName }} is sharing their screen\",\n\t\"{{ userName }} is requesting to speak\": \"{{ userName }} is requesting to speak\",\n\t\"{{ userName }} is requesting to share their camera\": \"{{ userName }} is requesting to share their camera\",\n\t\"{{ userName }} is requesting to present their screen\": \"{{ userName }} is requesting to present their screen\",\n\t\"{{ userName }} is requesting permission: {{ permission }}\": \"{{ userName }} is requesting permission: {{ permission }}\"\n};\n\nconst translations = { en };\n\nconst StreamVideo = (props) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider, { translationsOverrides: translations, ...props }));\n};\nStreamVideo.displayName = 'StreamVideo';\n\nconst useFilteredParticipants = ({ excludeLocalParticipant = false, filterParticipants, }) => {\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n        const unfilteredParticipants = excludeLocalParticipant\n            ? remoteParticipants\n            : allParticipants;\n        return filterParticipants\n            ? unfilteredParticipants.filter((participant) => filterParticipants(participant))\n            : unfilteredParticipants;\n    }, [\n        allParticipants,\n        remoteParticipants,\n        excludeLocalParticipant,\n        filterParticipants,\n    ]);\n};\nconst usePaginatedLayoutSortPreset = (call) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset);\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call]);\n};\nconst useSpeakerLayoutSortPreset = (call, isOneOnOneCall) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        // always show the remote participant in the spotlight\n        if (isOneOnOneCall) {\n            call.setSortParticipantsBy((0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators)(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing, loggedIn));\n        }\n        else {\n            call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset);\n        }\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call, isOneOnOneCall]);\n};\nconst resetSortPreset = (call) => {\n    // reset the sorting to the default for the call type\n    const callConfig = _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes.get(call.type);\n    call.setSortParticipantsBy(callConfig.options.sortParticipantsBy || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset);\n};\nconst loggedIn = (a, b) => {\n    if (a.isLocalParticipant)\n        return 1;\n    if (b.isLocalParticipant)\n        return -1;\n    return 0;\n};\n\nconst LivestreamLayout = (props) => {\n    const { useParticipants, useRemoteParticipants, useHasOngoingScreenShare } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const participants = useParticipants();\n    const [currentSpeaker] = participants;\n    const remoteParticipants = useRemoteParticipants();\n    const hasOngoingScreenShare = useHasOngoingScreenShare();\n    const presenter = hasOngoingScreenShare\n        ? participants.find(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)\n        : undefined;\n    usePaginatedLayoutSortPreset(call);\n    const Overlay = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay, { showParticipantCount: props.showParticipantCount, showDuration: props.showDuration, showLiveBadge: props.showLiveBadge, showSpeakerName: props.showSpeakerName }));\n    const { floatingParticipantProps } = props;\n    const FloatingParticipantOverlay = hasOngoingScreenShare && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay\n    // these elements aren't needed for the video feed\n    , { \n        // these elements aren't needed for the video feed\n        showParticipantCount: floatingParticipantProps?.showParticipantCount ?? false, showDuration: floatingParticipantProps?.showDuration ?? false, showLiveBadge: floatingParticipantProps?.showLiveBadge ?? false, showSpeakerName: floatingParticipantProps?.showSpeakerName ?? true }));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), hasOngoingScreenShare && presenter && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: \"str-video__livestream-layout__screen-share\", participant: presenter, ParticipantViewUI: Overlay, trackType: \"screenShareTrack\", muteAudio // audio is rendered by ParticipantsAudio\n                : true })), currentSpeaker && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hasOngoingScreenShare &&\n                    (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__livestream-layout__floating-participant', `str-video__livestream-layout__floating-participant--${floatingParticipantProps?.position ?? 'top-right'}`)), participant: currentSpeaker, ParticipantViewUI: FloatingParticipantOverlay || Overlay, mirror: props.mirrorLocalParticipantVideo !== false ? undefined : false, muteAudio // audio is rendered by ParticipantsAudio\n                : true }))] }));\n};\nconst ParticipantOverlay = (props) => {\n    const { enableFullScreen = true, showParticipantCount = true, showDuration = true, showLiveBadge = true, showSpeakerName = false, } = props;\n    const { participant } = useParticipantViewContext();\n    const { useParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participantCount = useParticipantCount();\n    const duration = useUpdateCallDuration();\n    const toggleFullScreen = useToggleFullScreen();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__livestream-layout__overlay\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__overlay__bar\", children: [showLiveBadge && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__live-badge\", children: t('Live') })), showParticipantCount && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__viewers-count\", children: participantCount })), showSpeakerName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__speaker-name\", title: participant.name || participant.userId || '', children: participant.name || participant.userId || '' })), showDuration && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__duration\", children: formatDuration(duration) })), enableFullScreen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__go-fullscreen\", onClick: toggleFullScreen }))] }) }));\n};\nLivestreamLayout.displayName = 'LivestreamLayout';\nconst useUpdateCallDuration = () => {\n    const { useIsCallLive, useCallSession } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isCallLive = useIsCallLive();\n    const session = useCallSession();\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        if (!session || !session.live_started_at)\n            return 0;\n        const liveStartTime = new Date(session.live_started_at);\n        const now = new Date();\n        return Math.floor((now.getTime() - liveStartTime.getTime()) / 1000);\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isCallLive)\n            return;\n        const interval = setInterval(() => {\n            setDuration((d) => d + 1);\n        }, 1000);\n        return () => {\n            clearInterval(interval);\n        };\n    }, [isCallLive]);\n    return duration;\n};\nconst useToggleFullScreen = () => {\n    const { participantViewElement } = useParticipantViewContext();\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        if (isFullscreen) {\n            document.exitFullscreen().then(() => {\n                setIsFullscreen(false);\n            });\n        }\n        else {\n            participantViewElement?.requestFullscreen().then(() => {\n                setIsFullscreen(true);\n            });\n        }\n    }, [isFullscreen, participantViewElement]);\n};\nconst formatDuration = (durationInMs) => {\n    const days = Math.floor(durationInMs / 86400);\n    const hours = Math.floor(durationInMs / 3600);\n    const minutes = Math.floor((durationInMs % 3600) / 60);\n    const seconds = durationInMs % 60;\n    return `${days ? days + ' ' : ''}${hours ? hours + ':' : ''}${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nconst GROUP_SIZE = 16;\nconst PaginatedGridLayoutGroup = ({ group, mirror, VideoPlaceholder, PictureInPicturePlaceholder, ParticipantViewUI, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__paginated-grid-layout__group', {\n            'str-video__paginated-grid-layout--one': group.length === 1,\n            'str-video__paginated-grid-layout--two-four': group.length >= 2 && group.length <= 4,\n            'str-video__paginated-grid-layout--five-nine': group.length >= 5 && group.length <= 9,\n        }), children: group.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, muteAudio: true, mirror: mirror, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, ParticipantViewUI: ParticipantViewUI }, participant.sessionId))) }));\n};\nconst PaginatedGridLayout = (props) => {\n    const { groupSize = (props.groupSize || 0) > 0\n        ? props.groupSize || GROUP_SIZE\n        : GROUP_SIZE, excludeLocalParticipant = false, filterParticipants, mirrorLocalParticipantVideo = true, pageArrowsVisible = true, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, } = props;\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [paginatedGridLayoutWrapperElement, setPaginatedGridLayoutWrapperElement,] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const remoteParticipants = useRemoteParticipants();\n    const participants = useFilteredParticipants({\n        excludeLocalParticipant,\n        filterParticipants,\n    });\n    usePaginatedLayoutSortPreset(call);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!paginatedGridLayoutWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(paginatedGridLayoutWrapperElement);\n        return () => cleanup();\n    }, [paginatedGridLayoutWrapperElement, call]);\n    // only used to render video elements\n    const participantGroups = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => chunk(participants, groupSize), [participants, groupSize]);\n    const pageCount = participantGroups.length;\n    // update page when page count is reduced and selected page no longer exists\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (page > pageCount - 1) {\n            setPage(Math.max(0, pageCount - 1));\n        }\n    }, [page, pageCount]);\n    const selectedGroup = participantGroups[page];\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout__wrapper\", ref: setPaginatedGridLayoutWrapperElement, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout\", children: [pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"caret-left\", disabled: page === 0, onClick: () => setPage((currentPage) => Math.max(0, currentPage - 1)) })), selectedGroup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PaginatedGridLayoutGroup, { group: selectedGroup, mirror: mirror, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI })), pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: page === pageCount - 1, icon: \"caret-right\", onClick: () => setPage((currentPage) => Math.min(pageCount - 1, currentPage + 1)) }))] })] }));\n};\nPaginatedGridLayout.displayName = 'PaginatedGridLayout';\n\nconst useCalculateHardLimit = (\n/**\n * Element that stretches to 100% of the whole layout component\n */\nwrapperElement, \n/**\n * Element that directly hosts individual `ParticipantView` (or wrapper) elements\n */\nhostElement, limit) => {\n    const [calculatedLimit, setCalculatedLimit] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        vertical: typeof limit === 'number' ? limit : null,\n        horizontal: typeof limit === 'number' ? limit : null,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!hostElement ||\n            !wrapperElement ||\n            typeof limit === 'number' ||\n            typeof limit === 'undefined')\n            return;\n        let childWidth = null;\n        let childHeight = null;\n        const resizeObserver = new ResizeObserver((entries, observer) => {\n            // this part should ideally run as little times as possible\n            // get child measurements and disconnect\n            // does not consider dynamically sized children\n            // this hook is for SpeakerLayout use only, where children in the bar are fixed size\n            if (entries.length > 1) {\n                const child = hostElement.firstChild;\n                if (child) {\n                    childHeight = child.clientHeight;\n                    childWidth = child.clientWidth;\n                    observer.unobserve(hostElement);\n                }\n            }\n            // keep the state at { vertical: 1, horizontal: 1 }\n            // until we get the proper child measurements\n            if (childHeight === null || childWidth === null)\n                return;\n            const vertical = Math.floor(wrapperElement.clientHeight / childHeight);\n            const horizontal = Math.floor(wrapperElement.clientWidth / childWidth);\n            setCalculatedLimit((pv) => {\n                if (pv.vertical !== vertical || pv.horizontal !== horizontal)\n                    return { vertical, horizontal };\n                return pv;\n            });\n        });\n        resizeObserver.observe(wrapperElement);\n        resizeObserver.observe(hostElement);\n        return () => {\n            resizeObserver.disconnect();\n        };\n    }, [hostElement, limit, wrapperElement]);\n    return calculatedLimit;\n};\n\nconst DefaultParticipantViewUIBar = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultParticipantViewUI, { menuPlacement: \"top-end\" }));\nconst SpeakerLayout = ({ ParticipantViewUIBar = DefaultParticipantViewUIBar, ParticipantViewUISpotlight = DefaultParticipantViewUI, VideoPlaceholder, PictureInPicturePlaceholder, participantsBarPosition = 'bottom', participantsBarLimit, mirrorLocalParticipantVideo = true, excludeLocalParticipant = false, filterParticipants, pageArrowsVisible = true, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    const [participantInSpotlight, ...otherParticipants] = useFilteredParticipants({ excludeLocalParticipant, filterParticipants });\n    const [participantsBarWrapperElement, setParticipantsBarWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [participantsBarElement, setParticipantsBarElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [buttonsWrapperElement, setButtonsWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const isSpeakerScreenSharing = participantInSpotlight && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participantInSpotlight);\n    const hardLimit = useCalculateHardLimit(buttonsWrapperElement, participantsBarElement, participantsBarLimit);\n    const isVertical = participantsBarPosition === 'left' || participantsBarPosition === 'right';\n    const isHorizontal = participantsBarPosition === 'top' || participantsBarPosition === 'bottom';\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!participantsBarWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(participantsBarWrapperElement);\n        return () => cleanup();\n    }, [participantsBarWrapperElement, call]);\n    const isOneOnOneCall = allParticipants.length === 2;\n    useSpeakerLayoutSortPreset(call, isOneOnOneCall);\n    let participantsWithAppliedLimit = otherParticipants;\n    const hardLimitToApply = isVertical\n        ? hardLimit.vertical\n        : hardLimit.horizontal;\n    if (typeof participantsBarLimit !== 'undefined' &&\n        hardLimitToApply !== null) {\n        participantsWithAppliedLimit = otherParticipants.slice(0, \n        // subtract 1 if speaker is sharing screen as\n        // that one is rendered independently from otherParticipants array\n        hardLimitToApply - (isSpeakerScreenSharing ? 1 : 0));\n    }\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    const renderParticipantsBar = participantsBarPosition &&\n        (participantsWithAppliedLimit.length > 0 || isSpeakerScreenSharing);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__speaker-layout__wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speaker-layout', participantsBarPosition &&\n                    `str-video__speaker-layout--variant-${participantsBarPosition}`), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__spotlight\", children: participantInSpotlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, muteAudio: true, mirror: mirror, trackType: isSpeakerScreenSharing ? 'screenShareTrack' : 'videoTrack', ParticipantViewUI: ParticipantViewUISpotlight, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder })) }), renderParticipantsBar && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setButtonsWrapperElement, className: \"str-video__speaker-layout__participants-bar-buttons-wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participants-bar-wrapper\", ref: setParticipantsBarWrapperElement, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setParticipantsBarElement, className: \"str-video__speaker-layout__participants-bar\", children: [isSpeakerScreenSharing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, mirror: mirror, muteAudio: true }) }, participantInSpotlight.sessionId)), participantsWithAppliedLimit.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, mirror: mirror, muteAudio: true }) }, participant.sessionId)))] }) }), pageArrowsVisible && isVertical && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VerticalScrollButtons, { scrollWrapper: participantsBarWrapperElement })), pageArrowsVisible && isHorizontal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(HorizontalScrollButtons, { scrollWrapper: participantsBarWrapperElement }))] }))] })] }));\n};\nSpeakerLayout.displayName = 'SpeakerLayout';\nconst HorizontalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useHorizontalScrollPosition(scrollWrapper);\n    const scrollStartClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: -150, behavior: 'smooth' });\n    };\n    const scrollEndClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'start' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollStartClickHandler, icon: \"caret-left\", className: \"str-video__speaker-layout__participants-bar--button-left\" })), scrollPosition && scrollPosition !== 'end' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollEndClickHandler, icon: \"caret-right\", className: \"str-video__speaker-layout__participants-bar--button-right\" }))] }));\n};\nconst VerticalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useVerticalScrollPosition(scrollWrapper);\n    const scrollTopClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: -150, behavior: 'smooth' });\n    };\n    const scrollBottomClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'top' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollTopClickHandler, icon: \"caret-up\", className: \"str-video__speaker-layout__participants-bar--button-top\" })), scrollPosition && scrollPosition !== 'bottom' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollBottomClickHandler, icon: \"caret-down\", className: \"str-video__speaker-layout__participants-bar--button-bottom\" }))] }));\n};\n\nconst LivestreamPlayer = (props) => {\n    const { callType, callId, layoutProps } = props;\n    const client = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient)();\n    const [call, setCall] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!client)\n            return;\n        const myCall = client.call(callType, callId);\n        setCall(myCall);\n        myCall.join().catch((e) => {\n            console.error('Failed to join call', e);\n        });\n        return () => {\n            myCall.leave().catch((e) => {\n                console.error('Failed to leave call', e);\n            });\n            setCall(undefined);\n        };\n    }, [callId, callType, client]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StreamCall, { call: call, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LivestreamLayout, { ...layoutProps }) }));\n};\n\nconst [major, minor, patch] = (\"1.10.0\").split('.');\n(0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo)({\n    type: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.SdkType.REACT,\n    major,\n    minor,\n    patch,\n});\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBYO0FBQ2xWO0FBQ21LO0FBQzNKO0FBQ1E7QUFDa0k7QUFDaUc7QUFDblE7QUFDYztBQUN5RDs7QUFFL0YsaUJBQWlCLGdEQUFnRDtBQUNqRSxpQkFBaUIsd0VBQU87QUFDeEIsNENBQTRDLCtDQUFRO0FBQ3BELFlBQVksb0JBQW9CO0FBQ2hDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxzREFBRyxZQUFZLG1JQUFtSTtBQUM5SjtBQUNBOztBQUVBO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkMsWUFBWSxzREFBRyxDQUFDLHVEQUFRLElBQUk7QUFDNUI7QUFDQTtBQUNBLG9CQUFvQixpREFBaUQ7QUFDckUsa0NBQWtDLGlFQUFRO0FBQzFDLHVFQUF1RSxzREFBRyxVQUFVLGtFQUFrRTtBQUN0Siw2Q0FBNkMsNEVBQW1CO0FBQ2hFO0FBQ0EsMkNBQTJDLHNEQUFHLFVBQVUsNkVBQTZFO0FBQ3JJLG9CQUFvQix1REFBSSxDQUFDLDJDQUFVLElBQUksNkRBQTZEO0FBQ3BHLFNBQVMsR0FBRztBQUNaO0FBQ0E7O0FBRUEsK0JBQStCLG9EQUFhO0FBQzVDLHdDQUF3QyxpREFBVTs7QUFFbEQsK0JBQStCLGdFQUFnRTtBQUMvRixZQUFZLGdDQUFnQyx3QkFBd0IsYUFBYSxF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O0FBQ2h2RCIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVzeW5jLy4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3Qtc2RrL2Rpc3QvaW5kZXguZXMuanM/NjFjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXNBdWRpbywgaGFzU2NyZWVuU2hhcmVBdWRpbywgQ2FsbGluZ1N0YXRlLCBoYXNWaWRlbywgaGFzU2NyZWVuU2hhcmUsIE93bkNhcGFiaWxpdHksIEJyb3dzZXJzLCBWaXNpYmlsaXR5U3RhdGUsIGdldExvZ2dlciwgZGlzcG9zZU9mTWVkaWFTdHJlYW0sIFNmdU1vZGVscywgaXNQaW5uZWQsIG5hbWUsIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSwgcGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCwgY29tYmluZUNvbXBhcmF0b3JzLCBzY3JlZW5TaGFyaW5nLCBzcGVha2VyTGF5b3V0U29ydFByZXNldCwgQ2FsbFR5cGVzLCBkZWZhdWx0U29ydFByZXNldCwgc2V0U2RrSW5mbyB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tY2xpZW50JztcbmV4cG9ydCAqIGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tY2xpZW50JztcbmltcG9ydCB7IHVzZUNhbGwsIHVzZUNhbGxTdGF0ZUhvb2tzLCB1c2VJMThuLCBSZXN0cmljdGVkLCB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nLCB1c2VDb25uZWN0ZWRVc2VyLCBTdHJlYW1DYWxsUHJvdmlkZXIsIFN0cmVhbVZpZGVvUHJvdmlkZXIsIHVzZVN0cmVhbVZpZGVvQ2xpZW50IH0gZnJvbSAnQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncyc7XG5leHBvcnQgKiBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLXJlYWN0LWJpbmRpbmdzJztcbmltcG9ydCB7IGpzeCwgRnJhZ21lbnQsIGpzeHMgfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBGcmFnbWVudCBhcyBGcmFnbWVudCQxLCBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCBpc1ZhbGlkRWxlbWVudCwgZm9yd2FyZFJlZiwgdXNlTGF5b3V0RWZmZWN0LCBsYXp5LCBTdXNwZW5zZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUZsb2F0aW5nLCBvZmZzZXQsIHNoaWZ0LCBmbGlwLCBzaXplLCBhdXRvVXBkYXRlLCBGbG9hdGluZ092ZXJsYXksIEZsb2F0aW5nUG9ydGFsLCBhcnJvdywgRmxvYXRpbmdBcnJvdywgdXNlTGlzdEl0ZW0sIHVzZUxpc3ROYXZpZ2F0aW9uLCB1c2VUeXBlYWhlYWQsIHVzZUNsaWNrLCB1c2VEaXNtaXNzLCB1c2VSb2xlLCB1c2VJbnRlcmFjdGlvbnMsIEZsb2F0aW5nRm9jdXNNYW5hZ2VyLCBGbG9hdGluZ0xpc3QsIHVzZUhvdmVyIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3JlYWN0JztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHsgZmx1c2hTeW5jIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGlzUGxhdGZvcm1TdXBwb3J0ZWQsIGxvYWRURkxpdGUsIGNyZWF0ZVJlbmRlcmVyIH0gZnJvbSAnQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYic7XG5cbmNvbnN0IEF1ZGlvID0gKHsgcGFydGljaXBhbnQsIHRyYWNrVHlwZSA9ICdhdWRpb1RyYWNrJywgLi4ucmVzdCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBbYXVkaW9FbGVtZW50LCBzZXRBdWRpb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgeyB1c2VySWQsIHNlc3Npb25JZCB9ID0gcGFydGljaXBhbnQ7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFhdWRpb0VsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLmJpbmRBdWRpb0VsZW1lbnQoYXVkaW9FbGVtZW50LCBzZXNzaW9uSWQsIHRyYWNrVHlwZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhbnVwPy4oKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwgc2Vzc2lvbklkLCBhdWRpb0VsZW1lbnQsIHRyYWNrVHlwZV0pO1xuICAgIHJldHVybiAoanN4KFwiYXVkaW9cIiwgeyBhdXRvUGxheTogdHJ1ZSwgLi4ucmVzdCwgcmVmOiBzZXRBdWRpb0VsZW1lbnQsIFwiZGF0YS11c2VyLWlkXCI6IHVzZXJJZCwgXCJkYXRhLXNlc3Npb24taWRcIjogc2Vzc2lvbklkLCBcImRhdGEtdHJhY2stdHlwZVwiOiB0cmFja1R5cGUgfSkpO1xufTtcbkF1ZGlvLmRpc3BsYXlOYW1lID0gJ0F1ZGlvJztcblxuY29uc3QgUGFydGljaXBhbnRzQXVkaW8gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50cywgYXVkaW9Qcm9wcyB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IHBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgICAgICBpZiAocGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3QgeyBhdWRpb1N0cmVhbSwgc2NyZWVuU2hhcmVBdWRpb1N0cmVhbSwgc2Vzc2lvbklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0F1ZGlvVHJhY2sgPSBoYXNBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICBjb25zdCBhdWRpb1RyYWNrRWxlbWVudCA9IGhhc0F1ZGlvVHJhY2sgJiYgYXVkaW9TdHJlYW0gJiYgKGpzeChBdWRpbywgeyAuLi5hdWRpb1Byb3BzLCB0cmFja1R5cGU6IFwiYXVkaW9UcmFja1wiLCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSkpO1xuICAgICAgICAgICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgICAgICAgICBjb25zdCBzY3JlZW5TaGFyZUF1ZGlvVHJhY2tFbGVtZW50ID0gaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrICYmXG4gICAgICAgICAgICAgICAgc2NyZWVuU2hhcmVBdWRpb1N0cmVhbSAmJiAoanN4KEF1ZGlvLCB7IC4uLmF1ZGlvUHJvcHMsIHRyYWNrVHlwZTogXCJzY3JlZW5TaGFyZUF1ZGlvVHJhY2tcIiwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pKTtcbiAgICAgICAgICAgIHJldHVybiAoanN4cyhGcmFnbWVudCQxLCB7IGNoaWxkcmVuOiBbYXVkaW9UcmFja0VsZW1lbnQsIHNjcmVlblNoYXJlQXVkaW9UcmFja0VsZW1lbnRdIH0sIHNlc3Npb25JZCkpO1xuICAgICAgICB9KSB9KSk7XG59O1xuUGFydGljaXBhbnRzQXVkaW8uZGlzcGxheU5hbWUgPSAnUGFydGljaXBhbnRzQXVkaW8nO1xuXG5jb25zdCBQYXJ0aWNpcGFudFZpZXdDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuY29uc3QgdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCA9ICgpID0+IHVzZUNvbnRleHQoUGFydGljaXBhbnRWaWV3Q29udGV4dCk7XG5cbmNvbnN0IHVzZUZsb2F0aW5nVUlQcmVzZXQgPSAoeyBtaWRkbGV3YXJlID0gW10sIHBsYWNlbWVudCwgc3RyYXRlZ3ksIG9mZnNldDogb2Zmc2V0SW5QeCA9IDEwLCB9KSA9PiB7XG4gICAgY29uc3QgeyByZWZzLCB4LCB5LCB1cGRhdGUsIGVsZW1lbnRzOiB7IGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcgfSwgY29udGV4dCwgfSA9IHVzZUZsb2F0aW5nKHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICAgICAgb2Zmc2V0KG9mZnNldEluUHgpLFxuICAgICAgICAgICAgc2hpZnQoKSxcbiAgICAgICAgICAgIGZsaXAoKSxcbiAgICAgICAgICAgIHNpemUoe1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgIGFwcGx5OiAoeyBhdmFpbGFibGVIZWlnaHQsIGVsZW1lbnRzIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50cy5mbG9hdGluZy5zdHlsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBgJHthdmFpbGFibGVIZWlnaHR9cHhgLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAuLi5taWRkbGV3YXJlLFxuICAgICAgICBdLFxuICAgIH0pO1xuICAgIC8vIGhhbmRsZSB3aW5kb3cgcmVzaXppbmdcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWRvbVJlZmVyZW5jZSB8fCAhZmxvYXRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBhdXRvVXBkYXRlKGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW2RvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHVwZGF0ZV0pO1xuICAgIHJldHVybiB7IHJlZnMsIHgsIHksIGRvbVJlZmVyZW5jZSwgZmxvYXRpbmcsIHN0cmF0ZWd5LCBjb250ZXh0IH07XG59O1xuXG5jb25zdCBkZWZhdWx0RGV2aWNlID0gJ2RlZmF1bHQnO1xuLyoqXG4gKiBUaGlzIGhvb2sgd2lsbCBwZXJzaXN0IHRoZSBkZXZpY2Ugc2V0dGluZ3MgdG8gbG9jYWwgc3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gdXNlIGZvciBsb2NhbCBzdG9yYWdlLlxuICovXG5jb25zdCB1c2VQZXJzaXN0RGV2aWNlUHJlZmVyZW5jZXMgPSAoa2V5LCBzaG91bGRQZXJzaXN0UmVmKSA9PiB7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUsIHVzZUNhbWVyYVN0YXRlLCB1c2VTcGVha2VyU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBtaWMgPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICBjb25zdCBjYW1lcmEgPSB1c2VDYW1lcmFTdGF0ZSgpO1xuICAgIGNvbnN0IHNwZWFrZXIgPSB1c2VTcGVha2VyU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNob3VsZFBlcnNpc3RSZWYuY3VycmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcHJlZmVyZW5jZXMgPSB7XG4gICAgICAgICAgICAgICAgbWljOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGV2aWNlSWQ6IG1pYy5zZWxlY3RlZERldmljZSB8fCBkZWZhdWx0RGV2aWNlLFxuICAgICAgICAgICAgICAgICAgICBtdXRlZDogbWljLmlzTXV0ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbWVyYToge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERldmljZUlkOiBjYW1lcmEuc2VsZWN0ZWREZXZpY2UgfHwgZGVmYXVsdERldmljZSxcbiAgICAgICAgICAgICAgICAgICAgbXV0ZWQ6IGNhbWVyYS5pc011dGUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzcGVha2VyOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGV2aWNlSWQ6IHNwZWFrZXIuc2VsZWN0ZWREZXZpY2UgfHwgZGVmYXVsdERldmljZSxcbiAgICAgICAgICAgICAgICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkocHJlZmVyZW5jZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGRldmljZSBwcmVmZXJlbmNlcycsIGVycik7XG4gICAgICAgIH1cbiAgICB9LCBbXG4gICAgICAgIGNhbGwsXG4gICAgICAgIGNhbWVyYS5pc011dGUsXG4gICAgICAgIGNhbWVyYS5zZWxlY3RlZERldmljZSxcbiAgICAgICAga2V5LFxuICAgICAgICBtaWMuaXNNdXRlLFxuICAgICAgICBtaWMuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIHNwZWFrZXIuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIHNob3VsZFBlcnNpc3RSZWYsXG4gICAgXSk7XG59O1xuLyoqXG4gKiBUaGlzIGhvb2sgd2lsbCBhcHBseSB0aGUgZGV2aWNlIHNldHRpbmdzIGZyb20gbG9jYWwgc3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gdXNlIGZvciBsb2NhbCBzdG9yYWdlLlxuICovXG5jb25zdCB1c2VBcHBseURldmljZVByZWZlcmVuY2VzID0gKGtleSwgb25BcHBsaWVkKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBvbkFwcGxpZWRSZWYgPSB1c2VSZWYob25BcHBsaWVkKTtcbiAgICBvbkFwcGxpZWRSZWYuY3VycmVudCA9IG9uQXBwbGllZDtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBjYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgYXBwbHkgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbml0TWljID0gYXN5bmMgKHNldHRpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5taWNyb3Bob25lLnNlbGVjdChwYXJzZURldmljZUlkKHNldHRpbmcuc2VsZWN0ZWREZXZpY2VJZCkpO1xuICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5tdXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsLm1pY3JvcGhvbmUuZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5taWNyb3Bob25lLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBpbml0Q2FtZXJhID0gYXN5bmMgKHNldHRpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5jYW1lcmEuc2VsZWN0KHBhcnNlRGV2aWNlSWQoc2V0dGluZy5zZWxlY3RlZERldmljZUlkKSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm11dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwuY2FtZXJhLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwuY2FtZXJhLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBpbml0U3BlYWtlciA9IChzZXR0aW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhbGwuc3BlYWtlci5zZWxlY3QocGFyc2VEZXZpY2VJZChzZXR0aW5nLnNlbGVjdGVkRGV2aWNlSWQpID8/ICcnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgcHJlZmVyZW5jZXMgPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcyA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgZGV2aWNlIHByZWZlcmVuY2VzJywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmVmZXJlbmNlcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IGluaXRNaWMocHJlZmVyZW5jZXMubWljKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBpbml0Q2FtZXJhKHByZWZlcmVuY2VzLmNhbWVyYSk7XG4gICAgICAgICAgICAgICAgaW5pdFNwZWFrZXIocHJlZmVyZW5jZXMuc3BlYWtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGFwcGx5KClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IG9uQXBwbGllZFJlZi5jdXJyZW50KCkpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gYXBwbHkgZGV2aWNlIHByZWZlcmVuY2VzJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjYW5jZWwgPSB0cnVlO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBrZXldKTtcbn07XG4vKipcbiAqIFRoaXMgaG9vayB3aWxsIGFwcGx5IGFuZCBwZXJzaXN0IHRoZSBkZXZpY2UgcHJlZmVyZW5jZXMgZnJvbSBsb2NhbCBzdG9yYWdlLlxuICpcbiAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byB1c2UgZm9yIGxvY2FsIHN0b3JhZ2UuXG4gKi9cbmNvbnN0IHVzZVBlcnNpc3RlZERldmljZVByZWZlcmVuY2VzID0gKGtleSA9ICdAc3RyZWFtLWlvL2RldmljZS1wcmVmZXJlbmNlcycpID0+IHtcbiAgICBjb25zdCBzaG91bGRQZXJzaXN0UmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICB1c2VBcHBseURldmljZVByZWZlcmVuY2VzKGtleSwgKCkgPT4gKHNob3VsZFBlcnNpc3RSZWYuY3VycmVudCA9IHRydWUpKTtcbiAgICB1c2VQZXJzaXN0RGV2aWNlUHJlZmVyZW5jZXMoa2V5LCBzaG91bGRQZXJzaXN0UmVmKTtcbn07XG5jb25zdCBwYXJzZURldmljZUlkID0gKGRldmljZUlkKSA9PiBkZXZpY2VJZCAhPT0gZGVmYXVsdERldmljZSA/IGRldmljZUlkIDogdW5kZWZpbmVkO1xuXG5jb25zdCBTQ1JPTExfVEhSRVNIT0xEID0gMTA7XG4vKipcbiAqIEhvb2sgd2hpY2ggb2JzZXJ2ZXMgZWxlbWVudCdzIHNjcm9sbCBwb3NpdGlvbiBhbmQgcmV0dXJucyB0ZXh0IHZhbHVlIGJhc2VkIG9uIHRoZVxuICogcG9zaXRpb24gb2YgdGhlIHNjcm9sbGJhciAoYHRvcGAsIGBib3R0b21gLCBgYmV0d2VlbmAgYW5kIGBudWxsYCBpZiBubyBzY3JvbGxiYXIgaXMgYXZhaWxhYmxlKVxuICovXG5jb25zdCB1c2VWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uID0gKHNjcm9sbEVsZW1lbnQsIHRocmVzaG9sZCA9IFNDUk9MTF9USFJFU0hPTEQpID0+IHtcbiAgICBjb25zdCBbc2Nyb2xsUG9zaXRpb24sIHNldFNjcm9sbFBvc2l0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghc2Nyb2xsRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2Nyb2xsSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgaGFzVmVydGljYWxTY3JvbGxiYXIgPSBlbGVtZW50LnNjcm9sbEhlaWdodCA+IGVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgaWYgKCFoYXNWZXJ0aWNhbFNjcm9sbGJhcilcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlVG9wID0gZWxlbWVudC5zY3JvbGxUb3AgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVUb3ApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKCd0b3AnKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRUaGVCb3R0b20gPSBNYXRoLmFicyhlbGVtZW50LnNjcm9sbEhlaWdodCAtIGVsZW1lbnQuc2Nyb2xsVG9wIC0gZWxlbWVudC5jbGllbnRIZWlnaHQpIDw9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIGlmIChpc0F0VGhlQm90dG9tKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbignYm90dG9tJyk7XG4gICAgICAgICAgICBzZXRTY3JvbGxQb3NpdGlvbignYmV0d2VlbicpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShzY3JvbGxFbGVtZW50KTtcbiAgICAgICAgc2Nyb2xsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNjcm9sbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW3Njcm9sbEVsZW1lbnQsIHRocmVzaG9sZF0pO1xuICAgIHJldHVybiBzY3JvbGxQb3NpdGlvbjtcbn07XG5jb25zdCB1c2VIb3Jpem9udGFsU2Nyb2xsUG9zaXRpb24gPSAoc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkID0gU0NST0xMX1RIUkVTSE9MRCkgPT4ge1xuICAgIGNvbnN0IFtzY3JvbGxQb3NpdGlvbiwgc2V0U2Nyb2xsUG9zaXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzY3JvbGxFbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBzY3JvbGxIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHNjcm9sbEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBoYXNIb3Jpem9udGFsU2Nyb2xsYmFyID0gZWxlbWVudC5zY3JvbGxXaWR0aCA+IGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBpZiAoIWhhc0hvcml6b250YWxTY3JvbGxiYXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgaXNBdFRoZVN0YXJ0ID0gZWxlbWVudC5zY3JvbGxMZWZ0IDw9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIGlmIChpc0F0VGhlU3RhcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKCdzdGFydCcpO1xuICAgICAgICAgICAgY29uc3QgaXNBdFRoZUVuZCA9IE1hdGguYWJzKGVsZW1lbnQuc2Nyb2xsV2lkdGggLSBlbGVtZW50LnNjcm9sbExlZnQgLSBlbGVtZW50LmNsaWVudFdpZHRoKSA8PSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICBpZiAoaXNBdFRoZUVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ2VuZCcpO1xuICAgICAgICAgICAgc2V0U2Nyb2xsUG9zaXRpb24oJ2JldHdlZW4nKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoc2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHNjcm9sbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzY3JvbGxFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH0sIFtzY3JvbGxFbGVtZW50LCB0aHJlc2hvbGRdKTtcbiAgICByZXR1cm4gc2Nyb2xsUG9zaXRpb247XG59O1xuXG5jb25zdCB1c2VSZXF1ZXN0UGVybWlzc2lvbiA9IChwZXJtaXNzaW9uKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB1c2VIYXNQZXJtaXNzaW9ucyhwZXJtaXNzaW9uKTtcbiAgICBjb25zdCBbaXNBd2FpdGluZ1Blcm1pc3Npb24sIHNldElzQXdhaXRpbmdQZXJtaXNzaW9uXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gVE9ETzogbG9hZCB3aXRoIHBvc3NpYmx5IHBlbmRpbmcgc3RhdGVcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNldCA9ICgpID0+IHNldElzQXdhaXRpbmdQZXJtaXNzaW9uKGZhbHNlKTtcbiAgICAgICAgaWYgKGhhc1Blcm1pc3Npb24pXG4gICAgICAgICAgICByZXNldCgpO1xuICAgIH0sIFtoYXNQZXJtaXNzaW9uXSk7XG4gICAgY29uc3QgcmVxdWVzdFBlcm1pc3Npb24gPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IGNhblJlcXVlc3RQZXJtaXNzaW9uID0gISFjYWxsPy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChwZXJtaXNzaW9uKTtcbiAgICAgICAgaWYgKGlzQXdhaXRpbmdQZXJtaXNzaW9uIHx8ICFjYW5SZXF1ZXN0UGVybWlzc2lvbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgc2V0SXNBd2FpdGluZ1Blcm1pc3Npb24odHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjYWxsPy5yZXF1ZXN0UGVybWlzc2lvbnMoe1xuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zOiBbcGVybWlzc2lvbl0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHNldElzQXdhaXRpbmdQZXJtaXNzaW9uKGZhbHNlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcmVxdWVzdFBlcm1pc3Npb24gZmFpbGVkOiAke2Vycm9yfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LCBbY2FsbCwgaGFzUGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24sIHBlcm1pc3Npb25dKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1ZXN0UGVybWlzc2lvbixcbiAgICAgICAgaGFzUGVybWlzc2lvbixcbiAgICAgICAgY2FuUmVxdWVzdFBlcm1pc3Npb246ICEhY2FsbD8ucGVybWlzc2lvbnNDb250ZXh0LmNhblJlcXVlc3QocGVybWlzc2lvbiksXG4gICAgICAgIGlzQXdhaXRpbmdQZXJtaXNzaW9uLFxuICAgIH07XG59O1xuXG52YXIgTWVudVZpc3VhbFR5cGU7XG4oZnVuY3Rpb24gKE1lbnVWaXN1YWxUeXBlKSB7XG4gICAgTWVudVZpc3VhbFR5cGVbXCJQT1JUQUxcIl0gPSBcInBvcnRhbFwiO1xuICAgIE1lbnVWaXN1YWxUeXBlW1wiTUVOVVwiXSA9IFwibWVudVwiO1xufSkoTWVudVZpc3VhbFR5cGUgfHwgKE1lbnVWaXN1YWxUeXBlID0ge30pKTtcbi8qKlxuICogVXNlZCB0byBwcm92aWRlIHV0aWxpdHkgQVBJcyB0byB0aGUgY29tcG9uZW50cyByZW5kZXJlZCBpbnNpZGUgdGhlIHBvcnRhbC5cbiAqL1xuY29uc3QgTWVudUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTtcbi8qKlxuICogQWNjZXNzIHRvIHRoZSBjbG9zZXMgTWVudUNvbnRleHQuXG4gKi9cbmNvbnN0IHVzZU1lbnVDb250ZXh0ID0gKCkgPT4ge1xuICAgIHJldHVybiB1c2VDb250ZXh0KE1lbnVDb250ZXh0KTtcbn07XG5jb25zdCBNZW51UG9ydGFsID0gKHsgY2hpbGRyZW4sIHJlZnMsIH0pID0+IHtcbiAgICBjb25zdCBwb3J0YWxJZCA9IHVzZU1lbW8oKCkgPT4gYHN0ci12aWRlby1wb3J0YWwtJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSl9YCwgW10pO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGlkOiBwb3J0YWxJZCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcG9ydGFsXCIgfSksIGpzeChGbG9hdGluZ092ZXJsYXksIHsgY2hpbGRyZW46IGpzeChGbG9hdGluZ1BvcnRhbCwgeyBpZDogcG9ydGFsSWQsIGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wb3J0YWwtY29udGVudFwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSB9KSB9KV0gfSkpO1xufTtcbmNvbnN0IE1lbnVUb2dnbGUgPSAoeyBUb2dnbGVCdXR0b24sIHBsYWNlbWVudCA9ICd0b3Atc3RhcnQnLCBzdHJhdGVneSA9ICdhYnNvbHV0ZScsIG9mZnNldCwgdmlzdWFsVHlwZSA9IE1lbnVWaXN1YWxUeXBlLk1FTlUsIGNoaWxkcmVuLCBvblRvZ2dsZSwgfSkgPT4ge1xuICAgIGNvbnN0IFttZW51U2hvd24sIHNldE1lbnVTaG93bl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgdG9nZ2xlSGFuZGxlciA9IHVzZVJlZihvblRvZ2dsZSk7XG4gICAgdG9nZ2xlSGFuZGxlci5jdXJyZW50ID0gb25Ub2dnbGU7XG4gICAgY29uc3QgeyBmbG9hdGluZywgZG9tUmVmZXJlbmNlLCByZWZzLCB4LCB5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgb2Zmc2V0LFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZsb2F0aW5nICYmIGRvbVJlZmVyZW5jZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bih0cnVlKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQ/Lih0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsb2F0aW5nICYmICFmbG9hdGluZz8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlSGFuZGxlci5jdXJyZW50Py4oZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ICYmIC8vIGtleSBjYW4gYmUgdW5kZWZpbmVkIGluIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2VzY2FwZScgJiZcbiAgICAgICAgICAgICAgICAhZXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICAgICAgICAgIWV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICBzZXRNZW51U2hvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUhhbmRsZXIuY3VycmVudD8uKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2ssIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgICAgICBkb2N1bWVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICB9O1xuICAgIH0sIFtmbG9hdGluZywgZG9tUmVmZXJlbmNlXSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbbWVudVNob3duICYmIChqc3goTWVudUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgY2xvc2U6ICgpID0+IHNldE1lbnVTaG93bihmYWxzZSkgfSwgY2hpbGRyZW46IHZpc3VhbFR5cGUgPT09IE1lbnVWaXN1YWxUeXBlLlBPUlRBTCA/IChqc3goTWVudVBvcnRhbCwgeyByZWZzOiByZWZzLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpIDogdmlzdWFsVHlwZSA9PT0gTWVudVZpc3VhbFR5cGUuTUVOVSA/IChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19tZW51LWNvbnRhaW5lclwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHkgPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICB9LCByb2xlOiBcIm1lbnVcIiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKSA6IG51bGwgfSkpLCBqc3goVG9nZ2xlQnV0dG9uLCB7IG1lbnVTaG93bjogbWVudVNob3duLCByZWY6IHJlZnMuc2V0UmVmZXJlbmNlIH0pXSB9KSk7XG59O1xuXG5jb25zdCBHZW5lcmljTWVudSA9ICh7IGNoaWxkcmVuLCBvbkl0ZW1DbGljaywgfSkgPT4ge1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICByZXR1cm4gKGpzeChcInVsXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZ2VuZXJpYy1tZW51XCIsIHJlZjogcmVmLCBvbkNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG9uSXRlbUNsaWNrICYmXG4gICAgICAgICAgICAgICAgZS50YXJnZXQgIT09IHJlZi5jdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgcmVmLmN1cnJlbnQ/LmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG9uSXRlbUNsaWNrKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbmNvbnN0IEdlbmVyaWNNZW51QnV0dG9uSXRlbSA9ICh7IGNoaWxkcmVuLCAuLi5yZXN0IH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImxpXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZ2VuZXJpYy1tZW51LS1pdGVtXCIsIGNoaWxkcmVuOiBqc3goXCJidXR0b25cIiwgeyAuLi5yZXN0LCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkpO1xufTtcblxuY29uc3QgSWNvbiA9ICh7IGNsYXNzTmFtZSwgaWNvbiB9KSA9PiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19pY29uJywgaWNvbiAmJiBgc3RyLXZpZGVvX19pY29uLS0ke2ljb259YCwgY2xhc3NOYW1lKSB9KSk7XG5cbmZ1bmN0aW9uIHVzZVBpY3R1cmVJblBpY3R1cmVTdGF0ZSh2aWRlb0VsZW1lbnQpIHtcbiAgICBjb25zdCBbaXNQaVAsIHNldElzUGlQXSA9IHVzZVN0YXRlKGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbGVtZW50ID09PSB2aWRlb0VsZW1lbnQpO1xuICAgIGlmICghdmlkZW9FbGVtZW50ICYmIGlzUGlQKVxuICAgICAgICBzZXRJc1BpUChmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF2aWRlb0VsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZVBpUCA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzUGlQKGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbGVtZW50ID09PSB2aWRlb0VsZW1lbnQpO1xuICAgICAgICB9O1xuICAgICAgICB2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZW50ZXJwaWN0dXJlaW5waWN0dXJlJywgaGFuZGxlUGlQKTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xlYXZlcGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW50ZXJwaWN0dXJlaW5waWN0dXJlJywgaGFuZGxlUGlQKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsZWF2ZXBpY3R1cmVpbnBpY3R1cmUnLCBoYW5kbGVQaVApO1xuICAgICAgICB9O1xuICAgIH0sIFt2aWRlb0VsZW1lbnRdKTtcbiAgICByZXR1cm4gaXNQaVA7XG59XG5cbmNvbnN0IFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQsIHBhcnRpY2lwYW50Vmlld0VsZW1lbnQsIHZpZGVvRWxlbWVudCB9ID0gdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCgpO1xuICAgIGNvbnN0IFtmdWxsc2NyZWVuTW9kZU9uLCBzZXRGdWxsc2NyZWVuTW9kZU9uXSA9IHVzZVN0YXRlKCEhZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgaXNQaVAgPSB1c2VQaWN0dXJlSW5QaWN0dXJlU3RhdGUodmlkZW9FbGVtZW50ID8/IHVuZGVmaW5lZCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBwaW4sIHNlc3Npb25JZCwgdXNlcklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICBjb25zdCBoYXNBdWRpb1RyYWNrID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1ZpZGVvVHJhY2sgPSBoYXNWaWRlbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzU2NyZWVuU2hhcmVUcmFjayA9IGhhc1NjcmVlblNoYXJlKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBibG9ja1VzZXIgPSAoKSA9PiBjYWxsPy5ibG9ja1VzZXIodXNlcklkKTtcbiAgICBjb25zdCBtdXRlQXVkaW8gPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICdhdWRpbycpO1xuICAgIGNvbnN0IG11dGVWaWRlbyA9ICgpID0+IGNhbGw/Lm11dGVVc2VyKHVzZXJJZCwgJ3ZpZGVvJyk7XG4gICAgY29uc3QgbXV0ZVNjcmVlblNoYXJlID0gKCkgPT4gY2FsbD8ubXV0ZVVzZXIodXNlcklkLCAnc2NyZWVuc2hhcmUnKTtcbiAgICBjb25zdCBtdXRlU2NyZWVuU2hhcmVBdWRpbyA9ICgpID0+IGNhbGw/Lm11dGVVc2VyKHVzZXJJZCwgJ3NjcmVlbnNoYXJlX2F1ZGlvJyk7XG4gICAgY29uc3QgZ3JhbnRQZXJtaXNzaW9uID0gKHBlcm1pc3Npb24pID0+ICgpID0+IHtcbiAgICAgICAgY2FsbD8udXBkYXRlVXNlclBlcm1pc3Npb25zKHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIGdyYW50X3Blcm1pc3Npb25zOiBbcGVybWlzc2lvbl0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgcmV2b2tlUGVybWlzc2lvbiA9IChwZXJtaXNzaW9uKSA9PiAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICByZXZva2VfcGVybWlzc2lvbnM6IFtwZXJtaXNzaW9uXSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVQYXJ0aWNpcGFudFBpbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKHBpbikge1xuICAgICAgICAgICAgY2FsbD8udW5waW4oc2Vzc2lvbklkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGw/LnBpbihzZXNzaW9uSWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBwaW5Gb3JFdmVyeW9uZSA9ICgpID0+IHtcbiAgICAgICAgY2FsbFxuICAgICAgICAgICAgPy5waW5Gb3JFdmVyeW9uZSh7XG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uSWQsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBpbiBwYXJ0aWNpcGFudCAke3VzZXJJZH1gLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHVucGluRm9yRXZlcnlvbmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGxcbiAgICAgICAgICAgID8udW5waW5Gb3JFdmVyeW9uZSh7XG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uSWQsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHVucGluIHBhcnRpY2lwYW50ICR7dXNlcklkfWAsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlRnVsbHNjcmVlbk1vZGUgPSAoKSA9PiB7XG4gICAgICAgIGlmICghZnVsbHNjcmVlbk1vZGVPbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnRpY2lwYW50Vmlld0VsZW1lbnQ/LnJlcXVlc3RGdWxsc2NyZWVuKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBoYW5kbGVzIHRoZSBjYXNlIHdoZW4gZnVsbHNjcmVlbiBtb2RlIGlzIHRvZ2dsZWQgZXh0ZXJuYWxseSxcbiAgICAgICAgLy8gZS5nLiwgYnkgcHJlc3NpbmcgRVNDIGtleSBvciBzb21lIG90aGVyIGtleWJvYXJkIHNob3J0Y3V0XG4gICAgICAgIGNvbnN0IGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRGdWxsc2NyZWVuTW9kZU9uKCEhZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHRvZ2dsZVBpY3R1cmVJblBpY3R1cmUgPSAoKSA9PiB7XG4gICAgICAgIGlmICh2aWRlb0VsZW1lbnQgJiYgIWlzUGlQKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlkZW9FbGVtZW50XG4gICAgICAgICAgICAgICAgLnJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKClcbiAgICAgICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfTtcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpIHx8IHt9O1xuICAgIHJldHVybiAoanN4cyhHZW5lcmljTWVudSwgeyBvbkl0ZW1DbGljazogY2xvc2UsIGNoaWxkcmVuOiBbanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogdG9nZ2xlUGFydGljaXBhbnRQaW4sIGRpc2FibGVkOiBwaW4gJiYgIXBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHBpbiA/IHQoJ1VucGluJykgOiB0KCdQaW4nKV0gfSksIGpzeHMoUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuUElOX0ZPUl9FVkVSWU9ORV0sIGNoaWxkcmVuOiBbanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcGluRm9yRXZlcnlvbmUsIGRpc2FibGVkOiBwaW4gJiYgIXBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHQoJ1BpbiBmb3IgZXZlcnlvbmUnKV0gfSksIGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHVucGluRm9yRXZlcnlvbmUsIGRpc2FibGVkOiAhcGluIHx8IHBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHQoJ1VucGluIGZvciBldmVyeW9uZScpXSB9KV0gfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5CTE9DS19VU0VSU10sIGNoaWxkcmVuOiBqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBibG9ja1VzZXIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJub3QtYWxsb3dlZFwiIH0pLCB0KCdCbG9jaycpXSB9KSB9KSwganN4cyhSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5NVVRFX1VTRVJTXSwgY2hpbGRyZW46IFtoYXNWaWRlb1RyYWNrICYmIChqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBtdXRlVmlkZW8sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJjYW1lcmEtb2ZmLW91dGxpbmVcIiB9KSwgdCgnVHVybiBvZmYgdmlkZW8nKV0gfSkpLCBoYXNTY3JlZW5TaGFyZVRyYWNrICYmIChqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBtdXRlU2NyZWVuU2hhcmUsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJzY3JlZW4tc2hhcmUtb2ZmXCIgfSksIHQoJ1R1cm4gb2ZmIHNjcmVlbiBzaGFyZScpXSB9KSksIGhhc0F1ZGlvVHJhY2sgJiYgKGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IG11dGVBdWRpbywgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcIm5vLWF1ZGlvXCIgfSksIHQoJ011dGUgYXVkaW8nKV0gfSkpLCBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgJiYgKGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IG11dGVTY3JlZW5TaGFyZUF1ZGlvLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwibm8tYXVkaW9cIiB9KSwgdCgnTXV0ZSBzY3JlZW4gc2hhcmUgYXVkaW8nKV0gfSkpXSB9KSwgcGFydGljaXBhbnRWaWV3RWxlbWVudCAmJiAoanN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiB0b2dnbGVGdWxsc2NyZWVuTW9kZSwgY2hpbGRyZW46IHQoJ3t7IGRpcmVjdGlvbiB9fSBmdWxsc2NyZWVuJywge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGZ1bGxzY3JlZW5Nb2RlT24gPyB0KCdMZWF2ZScpIDogdCgnRW50ZXInKSxcbiAgICAgICAgICAgICAgICB9KSB9KSksIHZpZGVvRWxlbWVudCAmJiBkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRW5hYmxlZCAmJiAoanN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiB0b2dnbGVQaWN0dXJlSW5QaWN0dXJlLCBjaGlsZHJlbjogdCgne3sgZGlyZWN0aW9uIH19IHBpY3R1cmUtaW4tcGljdHVyZScsIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBpc1BpUCA/IHQoJ0xlYXZlJykgOiB0KCdFbnRlcicpLFxuICAgICAgICAgICAgICAgIH0pIH0pKSwganN4cyhSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5VUERBVEVfQ0FMTF9QRVJNSVNTSU9OU10sIGNoaWxkcmVuOiBbanN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBncmFudFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKSwgY2hpbGRyZW46IHQoJ0FsbG93IGF1ZGlvJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogZ3JhbnRQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyksIGNoaWxkcmVuOiB0KCdBbGxvdyB2aWRlbycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IGdyYW50UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFKSwgY2hpbGRyZW46IHQoJ0FsbG93IHNjcmVlbiBzaGFyaW5nJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcmV2b2tlUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pLCBjaGlsZHJlbjogdCgnRGlzYWJsZSBhdWRpbycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHJldm9rZVBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKSwgY2hpbGRyZW46IHQoJ0Rpc2FibGUgdmlkZW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiByZXZva2VQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUpLCBjaGlsZHJlbjogdCgnRGlzYWJsZSBzY3JlZW4gc2hhcmluZycpIH0pXSB9KV0gfSkpO1xufTtcblxuY29uc3QgaXNDb21wb25lbnRUeXBlID0gKGVsZW1lbnRPckNvbXBvbmVudCkgPT4ge1xuICAgIHJldHVybiBlbGVtZW50T3JDb21wb25lbnQgPT09IG51bGxcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6ICFpc1ZhbGlkRWxlbWVudChlbGVtZW50T3JDb21wb25lbnQpO1xufTtcblxuY29uc3QgY2h1bmsgPSAoYXJyYXksIHNpemUpID0+IHtcbiAgICBjb25zdCBjaHVua0NvdW50ID0gTWF0aC5jZWlsKGFycmF5Lmxlbmd0aCAvIHNpemUpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjaHVua0NvdW50IH0sIChfLCBpbmRleCkgPT4gYXJyYXkuc2xpY2Uoc2l6ZSAqIGluZGV4LCBzaXplICogaW5kZXggKyBzaXplKSk7XG59O1xuXG5jb25zdCBhcHBseUVsZW1lbnRUb1JlZiA9IChyZWYsIGVsZW1lbnQpID0+IHtcbiAgICBpZiAoIXJlZilcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKVxuICAgICAgICByZXR1cm4gcmVmKGVsZW1lbnQpO1xuICAgIHJlZi5jdXJyZW50ID0gZWxlbWVudDtcbn07XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIEV4dGVuZHMgdmlkZW8gZWxlbWVudCB3aXRoIGBzdHJlYW1gIHByb3BlcnR5XG4gKiAoYHNyY09iamVjdGApIHRvIHJlYWN0aXZlbHkgaGFuZGxlIHN0cmVhbSBjaGFuZ2VzXG4gKi9cbmNvbnN0IEJhc2VWaWRlbyA9IGZvcndhcmRSZWYoZnVuY3Rpb24gQmFzZVZpZGVvKHsgc3RyZWFtLCAuLi5yZXN0IH0sIHJlZikge1xuICAgIGNvbnN0IFt2aWRlb0VsZW1lbnQsIHNldFZpZGVvRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXZpZGVvRWxlbWVudCB8fCAhc3RyZWFtKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoc3RyZWFtID09PSB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICBpZiAoQnJvd3NlcnMuaXNTYWZhcmkoKSB8fCBCcm93c2Vycy5pc0ZpcmVmb3goKSkge1xuICAgICAgICAgICAgLy8gRmlyZWZveCBhbmQgU2FmYXJpIGhhdmUgc29tZSB0aW1pbmcgaXNzdWVcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBsYXkoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcGxheSBzdHJlYW1gLCBlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucGF1c2UoKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBudWxsO1xuICAgICAgICB9O1xuICAgIH0sIFtzdHJlYW0sIHZpZGVvRWxlbWVudF0pO1xuICAgIHJldHVybiAoanN4KFwidmlkZW9cIiwgeyBhdXRvUGxheTogdHJ1ZSwgcGxheXNJbmxpbmU6IHRydWUsIC4uLnJlc3QsIHJlZjogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGFwcGx5RWxlbWVudFRvUmVmKHJlZiwgZWxlbWVudCk7XG4gICAgICAgICAgICBzZXRWaWRlb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIH0gfSkpO1xufSk7XG5cbmNvbnN0IEJhc2VWaWRlb1BsYWNlaG9sZGVyID0gZm9yd2FyZFJlZihmdW5jdGlvbiBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlcih7IHBhcnRpY2lwYW50LCBzdHlsZSwgY2hpbGRyZW4gfSwgcmVmKSB7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgbmFtZSA9IHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQudXNlcklkO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3ZpZGVvLXBsYWNlaG9sZGVyXCIsIHN0eWxlOiBzdHlsZSwgcmVmOiByZWYsIGNoaWxkcmVuOiBbKCFwYXJ0aWNpcGFudC5pbWFnZSB8fCBlcnJvcikgJiZcbiAgICAgICAgICAgICAgICAobmFtZSA/IChqc3goSW5pdGlhbHNGYWxsYmFjaywgeyBuYW1lOiBuYW1lIH0pKSA6IChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlcl9fbm8tdmlkZW8tbGFiZWxcIiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKSksIHBhcnRpY2lwYW50LmltYWdlICYmICFlcnJvciAmJiAoanN4KFwiaW1nXCIsIHsgb25FcnJvcjogKCkgPT4gc2V0RXJyb3IodHJ1ZSksIGFsdDogbmFtZSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdmlkZW8tcGxhY2Vob2xkZXJfX2F2YXRhclwiLCBzcmM6IHBhcnRpY2lwYW50LmltYWdlIH0pKV0gfSkpO1xufSk7XG5jb25zdCBJbml0aWFsc0ZhbGxiYWNrID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBuYW1lIH0gPSBwcm9wcztcbiAgICBjb25zdCBpbml0aWFscyA9IG5hbWVcbiAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgLnNsaWNlKDAsIDIpXG4gICAgICAgIC5tYXAoKG4pID0+IG5bMF0pXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3ZpZGVvLXBsYWNlaG9sZGVyX19pbml0aWFscy1mYWxsYmFja1wiLCBjaGlsZHJlbjogaW5pdGlhbHMgfSkpO1xufTtcblxuY29uc3QgRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyKHByb3BzLCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChCYXNlVmlkZW9QbGFjZWhvbGRlciwgeyByZWY6IHJlZiwgLi4ucHJvcHMsIGNoaWxkcmVuOiB0KCdWaWRlbyBpcyBkaXNhYmxlZCcpIH0pKTtcbn0pO1xuXG5jb25zdCBEZWZhdWx0UGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyID0gZm9yd2FyZFJlZihmdW5jdGlvbiBEZWZhdWx0UGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyKHByb3BzLCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChCYXNlVmlkZW9QbGFjZWhvbGRlciwgeyByZWY6IHJlZiwgLi4ucHJvcHMsIGNoaWxkcmVuOiB0KCdWaWRlbyBpcyBwbGF5aW5nIGluIGEgcG9wdXAnKSB9KSk7XG59KTtcblxuY29uc3QgVmlkZW8kMSA9ICh7IGVuYWJsZWQgPSB0cnVlLCBtaXJyb3IsIHRyYWNrVHlwZSwgcGFydGljaXBhbnQsIGNsYXNzTmFtZSwgVmlkZW9QbGFjZWhvbGRlciA9IERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIgPSBEZWZhdWx0UGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCByZWZzLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCB7IHNlc3Npb25JZCwgdmlkZW9TdHJlYW0sIHNjcmVlblNoYXJlU3RyZWFtLCB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSwgaXNMb2NhbFBhcnRpY2lwYW50LCB1c2VySWQsIH0gPSBwYXJ0aWNpcGFudDtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IFt2aWRlb0VsZW1lbnQsIHNldFZpZGVvRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAvLyBzdGFydCB3aXRoIHRydWUsIHdpbGwgZmxpcCBvbmNlIHRoZSB2aWRlbyBzdGFydHMgcGxheWluZ1xuICAgIGNvbnN0IFtpc1ZpZGVvUGF1c2VkLCBzZXRJc1ZpZGVvUGF1c2VkXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IFtpc1dpZGVNb2RlLCBzZXRJc1dpZGVNb2RlXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IGlzUGlQID0gdXNlUGljdHVyZUluUGljdHVyZVN0YXRlKHZpZGVvRWxlbWVudCA/PyB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHN0cmVhbSA9IHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snXG4gICAgICAgID8gdmlkZW9TdHJlYW1cbiAgICAgICAgOiB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJ1xuICAgICAgICAgICAgPyBzY3JlZW5TaGFyZVN0cmVhbVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICF2aWRlb0VsZW1lbnQgfHwgdHJhY2tUeXBlID09PSAnbm9uZScpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLmJpbmRWaWRlb0VsZW1lbnQodmlkZW9FbGVtZW50LCBzZXNzaW9uSWQsIHRyYWNrVHlwZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhbnVwPy4oKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwgdHJhY2tUeXBlLCBzZXNzaW9uSWQsIHZpZGVvRWxlbWVudF0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghc3RyZWFtIHx8ICF2aWRlb0VsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcbiAgICAgICAgaWYgKCF0cmFjaylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFuZGxlUGxheVBhdXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgc2V0SXNWaWRlb1BhdXNlZCh2aWRlb0VsZW1lbnQucGF1c2VkKTtcbiAgICAgICAgICAgIGNvbnN0IHsgd2lkdGggPSAwLCBoZWlnaHQgPSAwIH0gPSB0cmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgICAgICAgc2V0SXNXaWRlTW9kZSh3aWR0aCA+PSBoZWlnaHQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBwbGF5YmFjayBtYXkgaGF2ZSBzdGFydGVkIGJlZm9yZSB3ZSBoYWQgYSBjaGFuY2UgdG9cbiAgICAgICAgLy8gYXR0YWNoIHRoZSAncGxheS9wYXVzZScgZXZlbnQgbGlzdGVuZXIsIHNvIHdlIHNldCB0aGUgc3RhdGVcbiAgICAgICAgLy8gaGVyZSB0byBtYWtlIHN1cmUgaXQncyBpbiBzeW5jXG4gICAgICAgIHNldElzVmlkZW9QYXVzZWQodmlkZW9FbGVtZW50LnBhdXNlZCk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcigndW5tdXRlJywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwbGF5JywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwYXVzZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgICAgICB0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCd1bm11dGUnLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICAgICAgLy8gcmVzZXQgdGhlICdwYXVzZScgc3RhdGUgb25jZSB3ZSB1bm1vdW50IHRoZSB2aWRlbyBlbGVtZW50XG4gICAgICAgICAgICBzZXRJc1ZpZGVvUGF1c2VkKHRydWUpO1xuICAgICAgICB9O1xuICAgIH0sIFtzdHJlYW0sIHZpZGVvRWxlbWVudF0pO1xuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgaXNQdWJsaXNoaW5nVHJhY2sgPSB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJ1xuICAgICAgICA/IGhhc1ZpZGVvKHBhcnRpY2lwYW50KVxuICAgICAgICA6IHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlVHJhY2snXG4gICAgICAgICAgICA/IGhhc1NjcmVlblNoYXJlKHBhcnRpY2lwYW50KVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICBjb25zdCBpc0ludmlzaWJsZSA9IHRyYWNrVHlwZSA9PT0gJ25vbmUnIHx8XG4gICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy5bdHJhY2tUeXBlXSA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRTtcbiAgICBjb25zdCBoYXNOb1ZpZGVvT3JJbnZpc2libGUgPSAhZW5hYmxlZCB8fCAhaXNQdWJsaXNoaW5nVHJhY2sgfHwgaXNJbnZpc2libGU7XG4gICAgY29uc3QgbWlycm9yVmlkZW8gPSBtaXJyb3IgPT09IHVuZGVmaW5lZFxuICAgICAgICA/IGlzTG9jYWxQYXJ0aWNpcGFudCAmJiB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJ1xuICAgICAgICA6IG1pcnJvcjtcbiAgICBjb25zdCBpc1NjcmVlblNoYXJlVHJhY2sgPSB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJztcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFshaGFzTm9WaWRlb09ySW52aXNpYmxlICYmIChqc3goXCJ2aWRlb1wiLCB7IC4uLnJlc3QsIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX192aWRlbycsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby0tbm90LXBsYXlpbmcnOiBpc1ZpZGVvUGF1c2VkLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby0tdGFsbCc6ICFpc1dpZGVNb2RlLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby0tbWlycm9yJzogbWlycm9yVmlkZW8sXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLS1zY3JlZW4tc2hhcmUnOiBpc1NjcmVlblNoYXJlVHJhY2ssXG4gICAgICAgICAgICAgICAgfSksIFwiZGF0YS11c2VyLWlkXCI6IHVzZXJJZCwgXCJkYXRhLXNlc3Npb24taWRcIjogc2Vzc2lvbklkLCByZWY6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFZpZGVvRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmVmcz8uc2V0VmlkZW9FbGVtZW50Py4oZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSB9KSksIGlzUGlQICYmIChqc3goRGVmYXVsdFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgeyBzdHlsZTogeyBwb3NpdGlvbjogJ2Fic29sdXRlJyB9LCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSkpLCAoaGFzTm9WaWRlb09ySW52aXNpYmxlIHx8IGlzVmlkZW9QYXVzZWQpICYmIFZpZGVvUGxhY2Vob2xkZXIgJiYgKGpzeChWaWRlb1BsYWNlaG9sZGVyLCB7IHN0eWxlOiB7IHBvc2l0aW9uOiAnYWJzb2x1dGUnIH0sIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgcmVmOiByZWZzPy5zZXRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCB9KSldIH0pKTtcbn07XG5WaWRlbyQxLmRpc3BsYXlOYW1lID0gJ1ZpZGVvJztcblxuY29uc3QgdXNlVHJhY2tFbGVtZW50VmlzaWJpbGl0eSA9ICh7IHRyYWNrZWRFbGVtZW50LCBkeW5hc2NhbGVNYW5hZ2VyOiBwcm9wc0R5bmFzY2FsZU1hbmFnZXIsIHNlc3Npb25JZCwgdHJhY2tUeXBlLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBtYW5hZ2VyID0gcHJvcHNEeW5hc2NhbGVNYW5hZ2VyID8/IGNhbGw/LmR5bmFzY2FsZU1hbmFnZXI7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF0cmFja2VkRWxlbWVudCB8fCAhbWFuYWdlciB8fCAhY2FsbCB8fCB0cmFja1R5cGUgPT09ICdub25lJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdW5vYnNlcnZlID0gbWFuYWdlci50cmFja0VsZW1lbnRWaXNpYmlsaXR5KHRyYWNrZWRFbGVtZW50LCBzZXNzaW9uSWQsIHRyYWNrVHlwZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB1bm9ic2VydmUoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbdHJhY2tlZEVsZW1lbnQsIG1hbmFnZXIsIGNhbGwsIHNlc3Npb25JZCwgdHJhY2tUeXBlXSk7XG59O1xuXG5jb25zdCBBdmF0YXIgPSAoeyBpbWFnZVNyYywgbmFtZSwgc3R5bGUsIGNsYXNzTmFtZSwgLi4ucmVzdCB9KSA9PiB7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbKCFpbWFnZVNyYyB8fCBlcnJvcikgJiYgbmFtZSAmJiAoanN4KEF2YXRhckZhbGxiYWNrLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogc3R5bGUsIG5hbWVzOiBbbmFtZV0gfSkpLCBpbWFnZVNyYyAmJiAhZXJyb3IgJiYgKGpzeChcImltZ1wiLCB7IG9uRXJyb3I6ICgpID0+IHNldEVycm9yKHRydWUpLCBhbHQ6IFwiYXZhdGFyXCIsIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19hdmF0YXInLCBjbGFzc05hbWUpLCBzcmM6IGltYWdlU3JjLCBzdHlsZTogc3R5bGUsIC4uLnJlc3QgfSkpXSB9KSk7XG59O1xuY29uc3QgQXZhdGFyRmFsbGJhY2sgPSAoeyBjbGFzc05hbWUsIG5hbWVzLCBzdHlsZSwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2F2YXRhci0taW5pdGlhbHMtZmFsbGJhY2snLCBjbGFzc05hbWUpLCBzdHlsZTogc3R5bGUsIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtuYW1lc1swXVswXSwgbmFtZXNbMV0/LlswXV0gfSkgfSkpO1xufTtcblxuLyoqXG4gKiBUaGUgY29udGV4dCBmb3IgdGhlIGJhY2tncm91bmQgZmlsdGVycy5cbiAqL1xuY29uc3QgQmFja2dyb3VuZEZpbHRlcnNDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuLyoqXG4gKiBBIGhvb2sgdG8gYWNjZXNzIHRoZSBiYWNrZ3JvdW5kIGZpbHRlcnMgY29udGV4dCBBUEkuXG4gKi9cbmNvbnN0IHVzZUJhY2tncm91bmRGaWx0ZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEJhY2tncm91bmRGaWx0ZXJzQ29udGV4dCk7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndXNlQmFja2dyb3VuZEZpbHRlcnMgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEJhY2tncm91bmRGaWx0ZXJzUHJvdmlkZXInKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59O1xuLyoqXG4gKiBBIHByb3ZpZGVyIGNvbXBvbmVudCB0aGF0IGVuYWJsZXMgdGhlIHVzZSBvZiBiYWNrZ3JvdW5kIGZpbHRlcnMgaW4geW91ciBhcHAuXG4gKlxuICogUGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSB0aGUgYEBzdHJlYW0taW8vdmlkZW8tZmlsdGVycy13ZWJgIHBhY2thZ2UgaW5zdGFsbGVkXG4gKiBpbiB5b3VyIHByb2plY3QgYmVmb3JlIHVzaW5nIHRoaXMgY29tcG9uZW50LlxuICovXG5jb25zdCBCYWNrZ3JvdW5kRmlsdGVyc1Byb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgYmFja2dyb3VuZEltYWdlcyA9IFtdLCBiYWNrZ3JvdW5kRmlsdGVyOiBiZ0ZpbHRlckZyb21Qcm9wcyA9IHVuZGVmaW5lZCwgYmFja2dyb3VuZEltYWdlOiBiZ0ltYWdlRnJvbVByb3BzID0gdW5kZWZpbmVkLCBiYWNrZ3JvdW5kQmx1ckxldmVsOiBiZ0JsdXJMZXZlbEZyb21Qcm9wcyA9IHVuZGVmaW5lZCwgdGZGaWxlUGF0aCwgbW9kZWxGaWxlUGF0aCwgYmFzZVBhdGgsIG9uRXJyb3IsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbYmFja2dyb3VuZEZpbHRlciwgc2V0QmFja2dyb3VuZEZpbHRlcl0gPSB1c2VTdGF0ZShiZ0ZpbHRlckZyb21Qcm9wcyk7XG4gICAgY29uc3QgW2JhY2tncm91bmRJbWFnZSwgc2V0QmFja2dyb3VuZEltYWdlXSA9IHVzZVN0YXRlKGJnSW1hZ2VGcm9tUHJvcHMpO1xuICAgIGNvbnN0IFtiYWNrZ3JvdW5kQmx1ckxldmVsLCBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsXSA9IHVzZVN0YXRlKGJnQmx1ckxldmVsRnJvbVByb3BzKTtcbiAgICBjb25zdCBhcHBseUJhY2tncm91bmRJbWFnZUZpbHRlciA9IHVzZUNhbGxiYWNrKChpbWFnZVVybCkgPT4ge1xuICAgICAgICBzZXRCYWNrZ3JvdW5kRmlsdGVyKCdpbWFnZScpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kSW1hZ2UoaW1hZ2VVcmwpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBhcHBseUJhY2tncm91bmRCbHVyRmlsdGVyID0gdXNlQ2FsbGJhY2soKGJsdXJMZXZlbCA9ICdoaWdoJykgPT4ge1xuICAgICAgICBzZXRCYWNrZ3JvdW5kRmlsdGVyKCdibHVyJyk7XG4gICAgICAgIHNldEJhY2tncm91bmRCbHVyTGV2ZWwoYmx1ckxldmVsKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgZGlzYWJsZUJhY2tncm91bmRGaWx0ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHNldEJhY2tncm91bmRGaWx0ZXIodW5kZWZpbmVkKTtcbiAgICAgICAgc2V0QmFja2dyb3VuZEltYWdlKHVuZGVmaW5lZCk7XG4gICAgICAgIHNldEJhY2tncm91bmRCbHVyTGV2ZWwodW5kZWZpbmVkKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgW2lzU3VwcG9ydGVkLCBzZXRJc1N1cHBvcnRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaXNQbGF0Zm9ybVN1cHBvcnRlZCgpLnRoZW4oc2V0SXNTdXBwb3J0ZWQpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBbdGZMaXRlLCBzZXRUZkxpdGVdID0gdXNlU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBkb24ndCB0cnkgdG8gbG9hZCBURkxpdGUgaWYgdGhlIHBsYXRmb3JtIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbG9hZFRGTGl0ZSh7IGJhc2VQYXRoLCBtb2RlbEZpbGVQYXRoLCB0ZkZpbGVQYXRoIH0pXG4gICAgICAgICAgICAudGhlbihzZXRUZkxpdGUpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgVEZMaXRlJywgZXJyKSk7XG4gICAgfSwgW2Jhc2VQYXRoLCBpc1N1cHBvcnRlZCwgbW9kZWxGaWxlUGF0aCwgdGZGaWxlUGF0aF0pO1xuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gdXNlQ2FsbGJhY2soKGVycm9yKSA9PiB7XG4gICAgICAgIGdldExvZ2dlcihbJ2ZpbHRlcnMnXSkoJ3dhcm4nLCAnRmlsdGVyIGVuY291bnRlcmVkIGFuIGVycm9yIGFuZCB3aWxsIGJlIGRpc2FibGVkJyk7XG4gICAgICAgIGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyKCk7XG4gICAgICAgIG9uRXJyb3I/LihlcnJvcik7XG4gICAgfSwgW2Rpc2FibGVCYWNrZ3JvdW5kRmlsdGVyLCBvbkVycm9yXSk7XG4gICAgcmV0dXJuIChqc3hzKEJhY2tncm91bmRGaWx0ZXJzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZToge1xuICAgICAgICAgICAgaXNTdXBwb3J0ZWQsXG4gICAgICAgICAgICBpc1JlYWR5OiAhIXRmTGl0ZSxcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZSxcbiAgICAgICAgICAgIGJhY2tncm91bmRCbHVyTGV2ZWwsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kRmlsdGVyLFxuICAgICAgICAgICAgZGlzYWJsZUJhY2tncm91bmRGaWx0ZXIsXG4gICAgICAgICAgICBhcHBseUJhY2tncm91bmRCbHVyRmlsdGVyLFxuICAgICAgICAgICAgYXBwbHlCYWNrZ3JvdW5kSW1hZ2VGaWx0ZXIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VzLFxuICAgICAgICAgICAgdGZGaWxlUGF0aCxcbiAgICAgICAgICAgIG1vZGVsRmlsZVBhdGgsXG4gICAgICAgICAgICBiYXNlUGF0aCxcbiAgICAgICAgICAgIG9uRXJyb3I6IGhhbmRsZUVycm9yLFxuICAgICAgICB9LCBjaGlsZHJlbjogW2NoaWxkcmVuLCB0ZkxpdGUgJiYganN4KEJhY2tncm91bmRGaWx0ZXJzLCB7IHRmTGl0ZTogdGZMaXRlIH0pXSB9KSk7XG59O1xuY29uc3QgQmFja2dyb3VuZEZpbHRlcnMgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIHN0YXJ0IH0gPSB1c2VSZW5kZXJlcihwcm9wcy50ZkxpdGUpO1xuICAgIGNvbnN0IHsgYmFja2dyb3VuZEZpbHRlciwgb25FcnJvciB9ID0gdXNlQmFja2dyb3VuZEZpbHRlcnMoKTtcbiAgICBjb25zdCBoYW5kbGVFcnJvclJlZiA9IHVzZVJlZih1bmRlZmluZWQpO1xuICAgIGhhbmRsZUVycm9yUmVmLmN1cnJlbnQgPSBvbkVycm9yO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhYmFja2dyb3VuZEZpbHRlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB1bnJlZ2lzdGVyIH0gPSBjYWxsLmNhbWVyYS5yZWdpc3RlckZpbHRlcigobXMpID0+IHN0YXJ0KG1zLCAoZXJyb3IpID0+IGhhbmRsZUVycm9yUmVmLmN1cnJlbnQ/LihlcnJvcikpKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHVucmVnaXN0ZXIoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbYmFja2dyb3VuZEZpbHRlciwgY2FsbCwgc3RhcnRdKTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG59O1xuY29uc3QgdXNlUmVuZGVyZXIgPSAodGZMaXRlKSA9PiB7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kRmlsdGVyLCBiYWNrZ3JvdW5kQmx1ckxldmVsLCBiYWNrZ3JvdW5kSW1hZ2UgfSA9IHVzZUJhY2tncm91bmRGaWx0ZXJzKCk7XG4gICAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGJnSW1hZ2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW3ZpZGVvU2l6ZSwgc2V0VmlkZW9TaXplXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgd2lkdGg6IDE5MjAsXG4gICAgICAgIGhlaWdodDogMTA4MCxcbiAgICB9KTtcbiAgICBjb25zdCBzdGFydCA9IHVzZUNhbGxiYWNrKChtcywgb25FcnJvcikgPT4ge1xuICAgICAgICBsZXQgb3V0cHV0U3RyZWFtO1xuICAgICAgICBsZXQgcmVuZGVyZXI7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmICghYmFja2dyb3VuZEZpbHRlcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIGZpbHRlciBzcGVjaWZpZWQnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmlkZW9FbCA9IHZpZGVvUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCBjYW52YXNFbCA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgYmdJbWFnZUVsID0gYmdJbWFnZVJlZi5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKCF2aWRlb0VsIHx8ICFjYW52YXNFbCB8fCAoYmFja2dyb3VuZEltYWdlICYmICFiZ0ltYWdlRWwpKSB7XG4gICAgICAgICAgICAgICAgLy8gWW91IHNob3VsZCBzdGFydCByZW5kZXJlciBpbiBlZmZlY3Qgb3IgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZW5kZXJlciBzdGFydGVkIGJlZm9yZSBlbGVtZW50cyBhcmUgcmVhZHknKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmlkZW9FbC5zcmNPYmplY3QgPSBtcztcbiAgICAgICAgICAgIHZpZGVvRWwucGxheSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IFt0cmFja10gPSBtcy5nZXRWaWRlb1RyYWNrcygpO1xuICAgICAgICAgICAgICAgIGlmICghdHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTm8gdmlkZW8gdHJhY2tzIGluIGlucHV0IG1lZGlhIHN0cmVhbScpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja1NldHRpbmdzID0gdHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICBmbHVzaFN5bmMoKCkgPT4gc2V0VmlkZW9TaXplKHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRyYWNrU2V0dGluZ3Mud2lkdGggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0cmFja1NldHRpbmdzLmhlaWdodCA/PyAwLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKHRmTGl0ZSwgdmlkZW9FbCwgY2FudmFzRWwsIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEZpbHRlcixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEJsdXJMZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiZ0ltYWdlRWwgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0sIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbSA9IGNhbnZhc0VsLmNhcHR1cmVTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG91dHB1dFN0cmVhbSk7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ291bGQgbm90IHBsYXkgdGhlIHNvdXJjZSB2aWRlbyBzdHJlYW0nKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICBzdG9wOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXI/LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50ICYmICh2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG51bGwpO1xuICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbSAmJiBkaXNwb3NlT2ZNZWRpYVN0cmVhbShvdXRwdXRTdHJlYW0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9LCBbYmFja2dyb3VuZEJsdXJMZXZlbCwgYmFja2dyb3VuZEZpbHRlciwgYmFja2dyb3VuZEltYWdlLCB0ZkxpdGVdKTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYmFja2dyb3VuZC1maWx0ZXJzXCIsIGNoaWxkcmVuOiBbanN4KFwidmlkZW9cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fYmFja2dyb3VuZC1maWx0ZXJzX192aWRlbycsIHZpZGVvU2l6ZS5oZWlnaHQgPiB2aWRlb1NpemUud2lkdGggJiZcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fYmFja2dyb3VuZC1maWx0ZXJzX192aWRlby0tdGFsbCcpLCByZWY6IHZpZGVvUmVmLCBwbGF5c0lubGluZTogdHJ1ZSwgbXV0ZWQ6IHRydWUsIGNvbnRyb2xzOiBmYWxzZSwgLi4udmlkZW9TaXplIH0pLCBiYWNrZ3JvdW5kSW1hZ2UgJiYgKGpzeChcImltZ1wiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fYmFja2dyb3VuZC1pbWFnZVwiLCBhbHQ6IFwiQmFja2dyb3VuZFwiLCByZWY6IGJnSW1hZ2VSZWYsIHNyYzogYmFja2dyb3VuZEltYWdlLCAuLi52aWRlb1NpemUgfSkpLCBqc3goXCJjYW52YXNcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNfX3RhcmdldC1jYW52YXNcIiwgLi4udmlkZW9TaXplLCByZWY6IGNhbnZhc1JlZiB9KV0gfSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBjaGlsZHJlbixcbiAgICB9O1xufTtcblxuY29uc3QgSWNvbkJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gSWNvbkJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyBpY29uLCBlbmFibGVkLCB2YXJpYW50LCBvbkNsaWNrLCBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtY29udHJvbHNfX2J1dHRvbicsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgW2BzdHItdmlkZW9fX2NhbGwtY29udHJvbHNfX2J1dHRvbi0tdmFyaWFudC0ke3ZhcmlhbnR9YF06IHZhcmlhbnQsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24tLWVuYWJsZWQnOiBlbmFibGVkLFxuICAgICAgICB9KSwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG9uQ2xpY2s/LihlKTtcbiAgICAgICAgfSwgcmVmOiByZWYsIC4uLnJlc3QsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBpY29uIH0pIH0pKTtcbn0pO1xuXG5jb25zdCBDb21wb3NpdGVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIENvbXBvc2l0ZUJ1dHRvbih7IGRpc2FibGVkLCBjYXB0aW9uLCBjaGlsZHJlbiwgY2xhc3NOYW1lLCBhY3RpdmUsIE1lbnUsIG1lbnVQbGFjZW1lbnQsIG1lbnVPZmZzZXQsIHRpdGxlLCBUb2dnbGVNZW51QnV0dG9uID0gRGVmYXVsdFRvZ2dsZU1lbnVCdXR0b24sIHZhcmlhbnQsIG9uQ2xpY2ssIG9uTWVudVRvZ2dsZSwgLi4ucmVzdEJ1dHRvblByb3BzIH0sIHJlZikge1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uJywgY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uLS1jYXB0aW9uJzogY2FwdGlvbixcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b24tLW1lbnUnOiBNZW51LFxuICAgICAgICB9KSwgdGl0bGU6IHRpdGxlLCByZWY6IHJlZiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cCcsIHtcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uLWdyb3VwLS1hY3RpdmUnOiBhY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cC0tYWN0aXZlLXByaW1hcnknOiBhY3RpdmUgJiYgdmFyaWFudCA9PT0gJ3ByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWFjdGl2ZS1zZWNvbmRhcnknOiBhY3RpdmUgJiYgdmFyaWFudCA9PT0gJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cC0tZGlzYWJsZWQnOiBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICB9KSwgY2hpbGRyZW46IFtqc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b25cIiwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz8uKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZGlzYWJsZWQ6IGRpc2FibGVkLCAuLi5yZXN0QnV0dG9uUHJvcHMsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSwgTWVudSAmJiAoanN4KE1lbnVUb2dnbGUsIHsgb2Zmc2V0OiBtZW51T2Zmc2V0LCBwbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlTWVudUJ1dHRvbiwgb25Ub2dnbGU6IG9uTWVudVRvZ2dsZSwgY2hpbGRyZW46IGlzQ29tcG9uZW50VHlwZShNZW51KSA/IGpzeChNZW51LCB7fSkgOiBNZW51IH0pKV0gfSksIGNhcHRpb24gJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2NhcHRpb25cIiwgY2hpbGRyZW46IGNhcHRpb24gfSkpXSB9KSk7XG59KTtcbmNvbnN0IERlZmF1bHRUb2dnbGVNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBEZWZhdWx0VG9nZ2xlTWVudUJ1dHRvbih7IG1lbnVTaG93biB9LCByZWYpIHtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19tZW51LXRvZ2dsZS1idXR0b24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19tZW51LXRvZ2dsZS1idXR0b24tLWFjdGl2ZSc6IG1lbnVTaG93bixcbiAgICAgICAgfSksIGljb246IG1lbnVTaG93biA/ICdjYXJldC1kb3duJyA6ICdjYXJldC11cCcsIHJlZjogcmVmIH0pKTtcbn0pO1xuXG5jb25zdCBUZXh0QnV0dG9uID0gKHsgY2hpbGRyZW4sIC4uLnJlc3QgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgLi4ucmVzdCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdGV4dC1idXR0b25cIiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IEFjY2VwdENhbGxCdXR0b24gPSAoeyBkaXNhYmxlZCwgb25BY2NlcHQsIG9uQ2xpY2ssIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soYXN5bmMgKGUpID0+IHtcbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FsbCkge1xuICAgICAgICAgICAgYXdhaXQgY2FsbC5qb2luKCk7XG4gICAgICAgICAgICBvbkFjY2VwdD8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25BY2NlcHQsIGNhbGxdKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgaWNvbjogXCJjYWxsLWFjY2VwdFwiLCB2YXJpYW50OiBcInN1Y2Nlc3NcIiwgXCJkYXRhLXRlc3RpZFwiOiBcImFjY2VwdC1jYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVDbGljayB9KSk7XG59O1xuXG5jb25zdCBOb3RpZmljYXRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGlzVmlzaWJsZSwgbWVzc2FnZSwgY2hpbGRyZW4sIHZpc2liaWxpdHlUaW1lb3V0LCByZXNldElzVmlzaWJsZSwgcGxhY2VtZW50ID0gJ3RvcCcsIGljb25DbGFzc05hbWUgPSAnc3RyLXZpZGVvX19ub3RpZmljYXRpb25fX2ljb24nLCBjbG9zZSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgcmVmcywgeCwgeSwgc3RyYXRlZ3kgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaXNWaXNpYmxlIHx8ICF2aXNpYmlsaXR5VGltZW91dCB8fCAhcmVzZXRJc1Zpc2libGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlc2V0SXNWaXNpYmxlKCk7XG4gICAgICAgIH0sIHZpc2liaWxpdHlUaW1lb3V0KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9LCBbaXNWaXNpYmxlLCByZXNldElzVmlzaWJsZSwgdmlzaWJpbGl0eVRpbWVvdXRdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyByZWY6IHJlZnMuc2V0UmVmZXJlbmNlLCBjaGlsZHJlbjogW2lzVmlzaWJsZSAmJiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vdGlmaWNhdGlvblwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtpY29uQ2xhc3NOYW1lICYmIGpzeChcImlcIiwgeyBjbGFzc05hbWU6IGljb25DbGFzc05hbWUgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19ub3RpZmljYXRpb25fX21lc3NhZ2VcIiwgY2hpbGRyZW46IG1lc3NhZ2UgfSksIGNsb3NlID8gKGpzeChcImlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19pY29uIHN0ci12aWRlb19faWNvbi0tY2xvc2Ugc3RyLXZpZGVvX19ub3RpZmljYXRpb25fX2Nsb3NlXCIsIG9uQ2xpY2s6IGNsb3NlIH0pKSA6IG51bGxdIH0pKSwgY2hpbGRyZW5dIH0pKTtcbn07XG5cbmNvbnN0IFBlcm1pc3Npb25Ob3RpZmljYXRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHBlcm1pc3Npb24sIGlzQXdhaXRpbmdBcHByb3ZhbCwgbWVzc2FnZUFwcHJvdmVkLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbCwgbWVzc2FnZVJldm9rZWQsIHZpc2liaWxpdHlUaW1lb3V0ID0gMzUwMCwgY2hpbGRyZW4sIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB1c2VIYXNQZXJtaXNzaW9ucyhwZXJtaXNzaW9uKTtcbiAgICBjb25zdCBwcmV2SGFzUGVybWlzc2lvbiA9IHVzZVJlZihoYXNQZXJtaXNzaW9uKTtcbiAgICBjb25zdCBbc2hvd05vdGlmaWNhdGlvbiwgc2V0U2hvd05vdGlmaWNhdGlvbl0gPSB1c2VTdGF0ZSgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uICYmICFwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzZXRTaG93Tm90aWZpY2F0aW9uKCdncmFudGVkJyk7XG4gICAgICAgICAgICBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaGFzUGVybWlzc2lvbiAmJiBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzZXRTaG93Tm90aWZpY2F0aW9uKCdyZXZva2VkJyk7XG4gICAgICAgICAgICBwcmV2SGFzUGVybWlzc2lvbi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCBbaGFzUGVybWlzc2lvbl0pO1xuICAgIGNvbnN0IHJlc2V0SXNWaXNpYmxlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0U2hvd05vdGlmaWNhdGlvbih1bmRlZmluZWQpLCBbXSk7XG4gICAgaWYgKGlzQXdhaXRpbmdBcHByb3ZhbCkge1xuICAgICAgICByZXR1cm4gKGpzeChOb3RpZmljYXRpb24sIHsgaXNWaXNpYmxlOiBpc0F3YWl0aW5nQXBwcm92YWwgJiYgIWhhc1Blcm1pc3Npb24sIG1lc3NhZ2U6IG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChOb3RpZmljYXRpb24sIHsgaXNWaXNpYmxlOiAhIXNob3dOb3RpZmljYXRpb24sIHZpc2liaWxpdHlUaW1lb3V0OiB2aXNpYmlsaXR5VGltZW91dCwgcmVzZXRJc1Zpc2libGU6IHJlc2V0SXNWaXNpYmxlLCBtZXNzYWdlOiBzaG93Tm90aWZpY2F0aW9uID09PSAnZ3JhbnRlZCcgPyBtZXNzYWdlQXBwcm92ZWQgOiBtZXNzYWdlUmV2b2tlZCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiA9ICh7IGNoaWxkcmVuLCB0ZXh0LCBwbGFjZW1lbnQsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGlzU3BlYWtpbmdXaGlsZU11dGVkIH0gPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBtZXNzYWdlID0gdGV4dCA/PyB0KCdZb3UgYXJlIG11dGVkLiBVbm11dGUgdG8gc3BlYWsuJyk7XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IG1lc3NhZ2U6IG1lc3NhZ2UsIGlzVmlzaWJsZTogaXNTcGVha2luZ1doaWxlTXV0ZWQsIHBsYWNlbWVudDogcGxhY2VtZW50IHx8ICd0b3Atc3RhcnQnLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgUmVjb3JkaW5nSW5Qcm9ncmVzc05vdGlmaWNhdGlvbiA9ICh7IGNoaWxkcmVuLCB0ZXh0LCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzIH0gPSB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nKCk7XG4gICAgY29uc3QgW2lzVmlzaWJsZSwgc2V0VmlzaWJsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQgPz8gdCgnUmVjb3JkaW5nIGluIHByb2dyZXNzLi4uJyk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0sIFtpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzXSk7XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IG1lc3NhZ2U6IG1lc3NhZ2UsIGljb25DbGFzc05hbWU6IFwic3RyLXZpZGVvX19pY29uIHN0ci12aWRlb19faWNvbi0tcmVjb3JkaW5nLW9uXCIsIGlzVmlzaWJsZTogaXNWaXNpYmxlLCBwbGFjZW1lbnQ6IFwidG9wLXN0YXJ0XCIsIGNsb3NlOiAoKSA9PiBzZXRWaXNpYmxlKGZhbHNlKSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IExvYWRpbmdJbmRpY2F0b3IgPSAoeyBjbGFzc05hbWUsIHR5cGUgPSAnc3Bpbm5lcicsIHRleHQsIHRvb2x0aXAsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3InLCBjbGFzc05hbWUpLCB0aXRsZTogdG9vbHRpcCwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3JfX2ljb24nLCB0eXBlKSB9KSwgdGV4dCAmJiBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbG9hZGluZy1pbmRpY2F0b3ItdGV4dFwiLCBjaGlsZHJlbjogdGV4dCB9KV0gfSkpO1xufTtcblxuY29uc3QgVG9vbHRpcCA9ICh7IGNoaWxkcmVuLCByZWZlcmVuY2VFbGVtZW50LCB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50ID0gJ3RvcCcsIHZpc2libGUgPSBmYWxzZSwgfSkgPT4ge1xuICAgIGNvbnN0IGFycm93UmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHsgcmVmcywgeCwgeSwgc3RyYXRlZ3ksIGNvbnRleHQgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQ6IHRvb2x0aXBQbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5OiAnYWJzb2x1dGUnLFxuICAgICAgICBtaWRkbGV3YXJlOiBbYXJyb3coeyBlbGVtZW50OiBhcnJvd1JlZiB9KV0sXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmVmcy5zZXRSZWZlcmVuY2UocmVmZXJlbmNlRWxlbWVudCk7XG4gICAgfSwgW3JlZmVyZW5jZUVsZW1lbnQsIHJlZnNdKTtcbiAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX190b29sdGlwJywgdG9vbHRpcENsYXNzTmFtZSksIHJlZjogcmVmcy5zZXRGbG9hdGluZywgc3R5bGU6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgIHRvcDogeSA/PyAwLFxuICAgICAgICAgICAgbGVmdDogeCA/PyAwLFxuICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChGbG9hdGluZ0Fycm93LCB7IHJlZjogYXJyb3dSZWYsIGNvbnRleHQ6IGNvbnRleHQsIGZpbGw6IFwidmFyKC0tc3RyLXZpZGVvX190b29sdGlwLS1iYWNrZ3JvdW5kLWNvbG9yKVwiIH0pLCBjaGlsZHJlbl0gfSkpO1xufTtcblxuY29uc3QgdXNlRW50ZXJMZWF2ZUhhbmRsZXJzID0gKHsgb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUsIH0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IFt0b29sdGlwVmlzaWJsZSwgc2V0VG9vbHRpcFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlRW50ZXIgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgICAgICBzZXRUb29sdGlwVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgb25Nb3VzZUVudGVyPy4oZSk7XG4gICAgfSwgW29uTW91c2VFbnRlcl0pO1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSB1c2VDYWxsYmFjaygoZSkgPT4ge1xuICAgICAgICBzZXRUb29sdGlwVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIG9uTW91c2VMZWF2ZT8uKGUpO1xuICAgIH0sIFtvbk1vdXNlTGVhdmVdKTtcbiAgICByZXR1cm4geyBoYW5kbGVNb3VzZUVudGVyLCBoYW5kbGVNb3VzZUxlYXZlLCB0b29sdGlwVmlzaWJsZSB9O1xufTtcblxuLy8gdG9kbzogZHVwbGljYXRlIG9mIENhbGxQYXJ0aWNpcGFudExpc3QudHN4I01lZGlhSW5kaWNhdG9yIC0gcmVmYWN0b3IgdG8gYSBzaW5nbGUgY29tcG9uZW50XG5jb25zdCBXaXRoVG9vbHRpcCA9ICh7IHRpdGxlLCB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50LCB0b29sdGlwRGlzYWJsZWQsIC4uLnByb3BzIH0pID0+IHtcbiAgICBjb25zdCB7IGhhbmRsZU1vdXNlRW50ZXIsIGhhbmRsZU1vdXNlTGVhdmUsIHRvb2x0aXBWaXNpYmxlIH0gPSB1c2VFbnRlckxlYXZlSGFuZGxlcnMoKTtcbiAgICBjb25zdCBbdG9vbHRpcEFuY2hvciwgc2V0VG9vbHRpcEFuY2hvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCB0b29sdGlwQWN0dWFsbHlWaXNpYmxlID0gIXRvb2x0aXBEaXNhYmxlZCAmJiBCb29sZWFuKHRpdGxlKSAmJiB0b29sdGlwVmlzaWJsZTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goVG9vbHRpcCwgeyByZWZlcmVuY2VFbGVtZW50OiB0b29sdGlwQW5jaG9yLCB2aXNpYmxlOiB0b29sdGlwQWN0dWFsbHlWaXNpYmxlLCB0b29sdGlwQ2xhc3NOYW1lOiB0b29sdGlwQ2xhc3NOYW1lLCB0b29sdGlwUGxhY2VtZW50OiB0b29sdGlwUGxhY2VtZW50LCBjaGlsZHJlbjogdGl0bGUgfHwgJycgfSksIGpzeChcImRpdlwiLCB7IHJlZjogc2V0VG9vbHRpcEFuY2hvciwgb25Nb3VzZUVudGVyOiBoYW5kbGVNb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IGhhbmRsZU1vdXNlTGVhdmUsIC4uLnByb3BzIH0pXSB9KSk7XG59O1xuXG5jb25zdCBSZWNvcmRFbmRDb25maXJtYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UgfSA9IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcoKTtcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2NvbmZpcm1hdGlvblwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vblwiIH0pLCBqc3goXCJoMlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2hlYWRpbmdcIiwgY2hpbGRyZW46IHQoJ0VuZCByZWNvcmRpbmcnKSB9KV0gfSksIGpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19kZXNjcmlwdGlvblwiLCBjaGlsZHJlbjogdCgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IGVuZCB0aGUgcmVjb3JkaW5nPycpIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19fYWN0aW9uc1wiLCBjaGlsZHJlbjogW2pzeChDb21wb3NpdGVCdXR0b24sIHsgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgb25DbGljazogY2xvc2UsIGNoaWxkcmVuOiB0KCdDYW5jZWwnKSB9KSwganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyB2YXJpYW50OiBcInByaW1hcnlcIiwgb25DbGljazogdG9nZ2xlQ2FsbFJlY29yZGluZywgY2hpbGRyZW46IGlzQXdhaXRpbmdSZXNwb25zZSA/IGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7fSkgOiB0KCdFbmQgcmVjb3JkaW5nJykgfSldIH0pXSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlRW5kUmVjb3JkaW5nTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlRW5kUmVjb3JkaW5nTWVudUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIChqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IHRydWUsIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogXCJyZWNvcmRpbmctc3RvcC1idXR0b25cIiwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwicmVjb3JkaW5nLW9mZlwiIH0pIH0pKTtcbn0pO1xuY29uc3QgUmVjb3JkQ2FsbENvbmZpcm1hdGlvbkJ1dHRvbiA9ICh7IGNhcHRpb24sIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGlzQXdhaXRpbmdSZXNwb25zZSwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGlmIChpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIF0sIGNoaWxkcmVuOiBqc3goTWVudVRvZ2dsZSwgeyBUb2dnbGVCdXR0b246IFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24sIHZpc3VhbFR5cGU6IE1lbnVWaXN1YWxUeXBlLlBPUlRBTCwgY2hpbGRyZW46IGpzeChSZWNvcmRFbmRDb25maXJtYXRpb24sIHt9KSB9KSB9KSk7XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlID0gaXNBd2FpdGluZ1Jlc3BvbnNlXG4gICAgICAgID8gdCgnV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0YXJ0Li4uJylcbiAgICAgICAgOiBjYXB0aW9uID8/IHQoJ1JlY29yZCBjYWxsJyk7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW1xuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgXSwgY2hpbGRyZW46IGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogdGl0bGUsIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcywgY2FwdGlvbjogY2FwdGlvbiwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInJlY29yZGluZy1zdGFydC1idXR0b25cIiwgb25DbGljazogaXNBd2FpdGluZ1Jlc3BvbnNlID8gdW5kZWZpbmVkIDogdG9nZ2xlQ2FsbFJlY29yZGluZywgY2hpbGRyZW46IGlzQXdhaXRpbmdSZXNwb25zZSA/IChqc3goTG9hZGluZ0luZGljYXRvciwge30pKSA6IChqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vZmZcIiB9KSkgfSkgfSkgfSkpO1xufTtcbmNvbnN0IFJlY29yZENhbGxCdXR0b24gPSAoeyBjYXB0aW9uIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGlzQXdhaXRpbmdSZXNwb25zZSwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGxldCB0aXRsZSA9IGNhcHRpb24gPz8gdCgnUmVjb3JkIGNhbGwnKTtcbiAgICBpZiAoaXNBd2FpdGluZ1Jlc3BvbnNlKSB7XG4gICAgICAgIHRpdGxlID0gaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc1xuICAgICAgICAgICAgPyB0KCdXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RvcC4uLicpXG4gICAgICAgICAgICA6IHQoJ1dhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLicpO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbXG4gICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVE9QX1JFQ09SRF9DQUxMLFxuICAgICAgICBdLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgID8gJ3JlY29yZGluZy1zdG9wLWJ1dHRvbidcbiAgICAgICAgICAgICAgICA6ICdyZWNvcmRpbmctc3RhcnQtYnV0dG9uJywgdGl0bGU6IHRpdGxlLCBvbkNsaWNrOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyB1bmRlZmluZWQgOiB0b2dnbGVDYWxsUmVjb3JkaW5nLCBjaGlsZHJlbjogaXNBd2FpdGluZ1Jlc3BvbnNlID8gKGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7fSkpIDogKGpzeChJY29uLCB7IGljb246IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPyAncmVjb3JkaW5nLW9uJyA6ICdyZWNvcmRpbmctb2ZmJyB9KSkgfSkgfSkpO1xufTtcblxuY29uc3QgZGVmYXVsdEVtb2ppUmVhY3Rpb25NYXAgPSB7XG4gICAgJzpsaWtlOic6ICfwn5GNJyxcbiAgICAnOnJhaXNlLWhhbmQ6JzogJ+KciycsXG4gICAgJzpmaXJld29ya3M6JzogJ/CfjoknLFxuICAgICc6ZGlzbGlrZTonOiAn8J+RjicsXG4gICAgJzpoZWFydDonOiAn4p2k77iPJyxcbiAgICAnOnNtaWxlOic6ICfwn5iAJyxcbn07XG5jb25zdCBSZWFjdGlvbiA9ICh7IHBhcnRpY2lwYW50OiB7IHJlYWN0aW9uLCBzZXNzaW9uSWQgfSwgaGlkZUFmdGVyVGltZW91dEluTXMgPSA1NTAwLCBlbW9qaVJlYWN0aW9uTWFwID0gZGVmYXVsdEVtb2ppUmVhY3Rpb25NYXAsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhcmVhY3Rpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FsbC5yZXNldFJlYWN0aW9uKHNlc3Npb25JZCk7XG4gICAgICAgIH0sIGhpZGVBZnRlclRpbWVvdXRJbk1zKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBoaWRlQWZ0ZXJUaW1lb3V0SW5NcywgcmVhY3Rpb24sIHNlc3Npb25JZF0pO1xuICAgIGlmICghcmVhY3Rpb24pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHsgZW1vamlfY29kZTogZW1vamlDb2RlIH0gPSByZWFjdGlvbjtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3JlYWN0aW9uXCIsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcmVhY3Rpb25fX2Vtb2ppXCIsIGNoaWxkcmVuOiBlbW9qaUNvZGUgJiYgZW1vamlSZWFjdGlvbk1hcFtlbW9qaUNvZGVdIH0pIH0pKTtcbn07XG5cbmNvbnN0IGRlZmF1bHRSZWFjdGlvbnMgPSBbXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmxpa2U6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBPTDogdXNlIGBwcm9tcHRgIHR5cGU/XG4gICAgICAgIHR5cGU6ICdyYWlzZWQtaGFuZCcsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6cmFpc2UtaGFuZDonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmZpcmV3b3JrczonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmRpc2xpa2U6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpoZWFydDonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOnNtaWxlOicsXG4gICAgfSxcbl07XG5jb25zdCBSZWFjdGlvbnNCdXR0b24gPSAoeyByZWFjdGlvbnMgPSBkZWZhdWx0UmVhY3Rpb25zLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuQ1JFQVRFX1JFQUNUSU9OXSwgY2hpbGRyZW46IGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJ0b3BcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uLCB2aXN1YWxUeXBlOiBNZW51VmlzdWFsVHlwZS5NRU5VLCBjaGlsZHJlbjoganN4KERlZmF1bHRSZWFjdGlvbnNNZW51LCB7IHJlYWN0aW9uczogcmVhY3Rpb25zIH0pIH0pIH0pKTtcbn07XG5jb25zdCBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uKHsgbWVudVNob3duIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiB0KCdSZWFjdGlvbnMnKSwgdG9vbHRpcERpc2FibGVkOiBtZW51U2hvd24sIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IG1lbnVTaG93biwgdmFyaWFudDogXCJwcmltYXJ5XCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInJlYWN0aW9uc1wiIH0pIH0pIH0pKTtcbn0pO1xuY29uc3QgRGVmYXVsdFJlYWN0aW9uc01lbnUgPSAoeyByZWFjdGlvbnMsIGxheW91dCA9ICdob3Jpem9udGFsJywgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudScsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3JlYWN0aW9ucy1tZW51LS1ob3Jpem9udGFsJzogbGF5b3V0ID09PSAnaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudS0tdmVydGljYWwnOiBsYXlvdXQgPT09ICd2ZXJ0aWNhbCcsXG4gICAgICAgIH0pLCBjaGlsZHJlbjogcmVhY3Rpb25zLm1hcCgocmVhY3Rpb24pID0+IChqc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudV9fYnV0dG9uXCIsIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsPy5zZW5kUmVhY3Rpb24ocmVhY3Rpb24pO1xuICAgICAgICAgICAgICAgIGNsb3NlPy4oKTtcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiByZWFjdGlvbi5lbW9qaV9jb2RlICYmIGRlZmF1bHRFbW9qaVJlYWN0aW9uTWFwW3JlYWN0aW9uLmVtb2ppX2NvZGVdIH0sIHJlYWN0aW9uLmVtb2ppX2NvZGUpKSkgfSkpO1xufTtcblxuLyoqXG4gKiBXcmFwcyBhbiBldmVudCBoYW5kbGVyLCBzaWxlbmNpbmcgYW5kIGxvZ2dpbmcgZXhjZXB0aW9ucyAoZXhjbHVkaW5nIHRoZSBOb3RBbGxvd2VkRXJyb3JcbiAqIERPTUV4Y2VwdGlvbiwgd2hpY2ggaXMgYSBub3JtYWwgc2l0dWF0aW9uIGhhbmRsZWQgYnkgdGhlIFNESylcbiAqXG4gKiBAcGFyYW0gcHJvcHMgY29tcG9uZW50IHByb3BzLCBpbmNsdWRpbmcgdGhlIG9uRXJyb3IgY2FsbGJhY2tcbiAqIEBwYXJhbSBoYW5kbGVyIGV2ZW50IGhhbmRsZXIgdG8gd3JhcFxuICovXG5jb25zdCBjcmVhdGVDYWxsQ29udHJvbEhhbmRsZXIgPSAocHJvcHMsIGhhbmRsZXIpID0+IHtcbiAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydyZWFjdC1zZGsnXSk7XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgcHJvcHMub25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc05vdEFsbG93ZWRFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0NhbGwgY29udHJvbCBoYW5kbGVyIGZhaWxlZCcsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuZnVuY3Rpb24gaXNOb3RBbGxvd2VkRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgZXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcic7XG59XG5cbmNvbnN0IFNjcmVlblNoYXJlQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZSwgdXNlU2NyZWVuU2hhcmVTdGF0ZSwgdXNlQ2FsbFNldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGlzU29tZW9uZVNjcmVlblNoYXJpbmcgPSB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUoKTtcbiAgICBjb25zdCB7IGhhc1Blcm1pc3Npb24sIHJlcXVlc3RQZXJtaXNzaW9uLCBpc0F3YWl0aW5nUGVybWlzc2lvbiB9ID0gdXNlUmVxdWVzdFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSk7XG4gICAgY29uc3QgY2FsbFNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3QgaXNTY3JlZW5TaGFyaW5nQWxsb3dlZCA9IGNhbGxTZXR0aW5ncz8uc2NyZWVuc2hhcmluZy5lbmFibGVkO1xuICAgIGNvbnN0IHsgc2NyZWVuU2hhcmUsIG9wdGltaXN0aWNJc011dGUgfSA9IHVzZVNjcmVlblNoYXJlU3RhdGUoKTtcbiAgICBjb25zdCBhbUlTY3JlZW5TaGFyaW5nID0gIW9wdGltaXN0aWNJc011dGU7XG4gICAgY29uc3QgZGlzYWJsZVNjcmVlblNoYXJlQnV0dG9uID0gIWFtSVNjcmVlblNoYXJpbmcgJiZcbiAgICAgICAgKGlzU29tZW9uZVNjcmVlblNoYXJpbmcgfHwgaXNTY3JlZW5TaGFyaW5nQWxsb3dlZCA9PT0gZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghaGFzUGVybWlzc2lvbikge1xuICAgICAgICAgICAgYXdhaXQgcmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHNjcmVlblNoYXJlLnRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkVdLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSwgaXNBd2FpdGluZ0FwcHJvdmFsOiBpc0F3YWl0aW5nUGVybWlzc2lvbiwgbWVzc2FnZUFwcHJvdmVkOiB0KCdZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHNjcmVlbi4nKSwgbWVzc2FnZUF3YWl0aW5nQXBwcm92YWw6IHQoJ0F3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzaGFyZSBzY3JlZW4uJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHNjcmVlbi4nKSwgY2hpbGRyZW46IGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogY2FwdGlvbiA/PyB0KCdTaGFyZSBzY3JlZW4nKSwgY2hpbGRyZW46IGpzeChDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nIHx8IGFtSVNjcmVlblNoYXJpbmcsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwicHJpbWFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IGlzU29tZW9uZVNjcmVlblNoYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3NjcmVlbi1zaGFyZS1zdG9wLWJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ3NjcmVlbi1zaGFyZS1zdGFydC1idXR0b24nLCBkaXNhYmxlZDogZGlzYWJsZVNjcmVlblNoYXJlQnV0dG9uLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IGlzU29tZW9uZVNjcmVlblNoYXJpbmcgPyAnc2NyZWVuLXNoYXJlLW9uJyA6ICdzY3JlZW4tc2hhcmUtb2ZmJyB9KSB9KSB9KSB9KSB9KSk7XG59O1xuXG5jb25zdCBTZWxlY3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5jb25zdCBTZWxlY3QgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBpY29uLCBkZWZhdWx0U2VsZWN0ZWRMYWJlbCwgZGVmYXVsdFNlbGVjdGVkSW5kZXgsIGhhbmRsZVNlbGVjdDogaGFuZGxlU2VsZWN0UHJvcCwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2FjdGl2ZUluZGV4LCBzZXRBY3RpdmVJbmRleF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRJbmRleCwgc2V0U2VsZWN0ZWRJbmRleF0gPSB1c2VTdGF0ZShkZWZhdWx0U2VsZWN0ZWRJbmRleCk7XG4gICAgY29uc3QgW3NlbGVjdGVkTGFiZWwsIHNldFNlbGVjdGVkTGFiZWxdID0gdXNlU3RhdGUoZGVmYXVsdFNlbGVjdGVkTGFiZWwpO1xuICAgIGNvbnN0IHsgcmVmcywgY29udGV4dCB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20tc3RhcnQnLFxuICAgICAgICBvcGVuOiBpc09wZW4sXG4gICAgICAgIG9uT3BlbkNoYW5nZTogc2V0SXNPcGVuLFxuICAgICAgICB3aGlsZUVsZW1lbnRzTW91bnRlZDogYXV0b1VwZGF0ZSxcbiAgICAgICAgbWlkZGxld2FyZTogW2ZsaXAoKV0sXG4gICAgfSk7XG4gICAgY29uc3QgZWxlbWVudHNSZWYgPSB1c2VSZWYoW10pO1xuICAgIGNvbnN0IGxhYmVsc1JlZiA9IHVzZVJlZihbXSk7XG4gICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoaW5kZXgpO1xuICAgICAgICBoYW5kbGVTZWxlY3RQcm9wKGluZGV4IHx8IDApO1xuICAgICAgICBzZXRJc09wZW4oZmFsc2UpO1xuICAgICAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkTGFiZWwobGFiZWxzUmVmLmN1cnJlbnRbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVTZWxlY3RQcm9wXSk7XG4gICAgY29uc3QgaGFuZGxlVHlwZWFoZWFkTWF0Y2ggPSAoaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICAgICAgc2V0QWN0aXZlSW5kZXgoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbGlzdE5hdiA9IHVzZUxpc3ROYXZpZ2F0aW9uKGNvbnRleHQsIHtcbiAgICAgICAgbGlzdFJlZjogZWxlbWVudHNSZWYsXG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZWxlY3RlZEluZGV4LFxuICAgICAgICBvbk5hdmlnYXRlOiBzZXRBY3RpdmVJbmRleCxcbiAgICB9KTtcbiAgICBjb25zdCB0eXBlYWhlYWQgPSB1c2VUeXBlYWhlYWQoY29udGV4dCwge1xuICAgICAgICBsaXN0UmVmOiBsYWJlbHNSZWYsXG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZWxlY3RlZEluZGV4LFxuICAgICAgICBvbk1hdGNoOiBoYW5kbGVUeXBlYWhlYWRNYXRjaCxcbiAgICB9KTtcbiAgICBjb25zdCBjbGljayA9IHVzZUNsaWNrKGNvbnRleHQpO1xuICAgIGNvbnN0IGRpc21pc3MgPSB1c2VEaXNtaXNzKGNvbnRleHQpO1xuICAgIGNvbnN0IHJvbGUgPSB1c2VSb2xlKGNvbnRleHQsIHsgcm9sZTogJ2xpc3Rib3gnIH0pO1xuICAgIGNvbnN0IHsgZ2V0UmVmZXJlbmNlUHJvcHMsIGdldEZsb2F0aW5nUHJvcHMsIGdldEl0ZW1Qcm9wcyB9ID0gdXNlSW50ZXJhY3Rpb25zKFtsaXN0TmF2LCB0eXBlYWhlYWQsIGNsaWNrLCBkaXNtaXNzLCByb2xlXSk7XG4gICAgY29uc3Qgc2VsZWN0Q29udGV4dCA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgICAgIGdldEl0ZW1Qcm9wcyxcbiAgICAgICAgaGFuZGxlU2VsZWN0LFxuICAgIH0pLCBbYWN0aXZlSW5kZXgsIHNlbGVjdGVkSW5kZXgsIGdldEl0ZW1Qcm9wcywgaGFuZGxlU2VsZWN0XSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd25cIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRcIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgdGFiSW5kZXg6IDAsIC4uLmdldFJlZmVyZW5jZVByb3BzKCksIGNoaWxkcmVuOiBbanN4cyhcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRfX2xhYmVsXCIsIGNoaWxkcmVuOiBbaWNvbiAmJiAoanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRfX2ljb25cIiwgaWNvbjogaWNvbiB9KSksIHNlbGVjdGVkTGFiZWxdIH0pLCBqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1zZWxlY3RlZF9fY2hldnJvblwiLCBpY29uOiBpc09wZW4gPyAnY2hldnJvbi11cCcgOiAnY2hldnJvbi1kb3duJyB9KV0gfSksIGpzeChTZWxlY3RDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzZWxlY3RDb250ZXh0LCBjaGlsZHJlbjogaXNPcGVuICYmIChqc3goRmxvYXRpbmdGb2N1c01hbmFnZXIsIHsgY29udGV4dDogY29udGV4dCwgbW9kYWw6IGZhbHNlLCBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tbGlzdFwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIC4uLmdldEZsb2F0aW5nUHJvcHMoKSwgY2hpbGRyZW46IGpzeChGbG9hdGluZ0xpc3QsIHsgZWxlbWVudHNSZWY6IGVsZW1lbnRzUmVmLCBsYWJlbHNSZWY6IGxhYmVsc1JlZiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pIH0pKSB9KV0gfSkpO1xufTtcbmNvbnN0IERyb3BEb3duU2VsZWN0T3B0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZCwgbGFiZWwsIGljb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgZ2V0SXRlbVByb3BzLCBoYW5kbGVTZWxlY3QgfSA9IHVzZUNvbnRleHQoU2VsZWN0Q29udGV4dCk7XG4gICAgY29uc3QgeyByZWYsIGluZGV4IH0gPSB1c2VMaXN0SXRlbSgpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19kcm9wZG93bi1vcHRpb24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kcm9wZG93bi1vcHRpb24tLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG4gICAgICAgIH0pLCByZWY6IHJlZiwgLi4uZ2V0SXRlbVByb3BzKHtcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGhhbmRsZVNlbGVjdChpbmRleCksXG4gICAgICAgIH0pLCBjaGlsZHJlbjogW2ljb24gJiYganN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24taWNvblwiLCBpY29uOiBpY29uIH0pLCBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tbGFiZWxcIiwgY2hpbGRyZW46IGxhYmVsIH0pXSB9KSk7XG59O1xuY29uc3QgRHJvcERvd25TZWxlY3QgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBpY29uLCBoYW5kbGVTZWxlY3QsIGRlZmF1bHRTZWxlY3RlZExhYmVsLCBkZWZhdWx0U2VsZWN0ZWRJbmRleCwgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFNlbGVjdCwgeyBpY29uOiBpY29uLCBoYW5kbGVTZWxlY3Q6IGhhbmRsZVNlbGVjdCwgZGVmYXVsdFNlbGVjdGVkSW5kZXg6IGRlZmF1bHRTZWxlY3RlZEluZGV4LCBkZWZhdWx0U2VsZWN0ZWRMYWJlbDogZGVmYXVsdFNlbGVjdGVkTGFiZWwsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBEZXZpY2VTZWxlY3Rvck9wdGlvbiA9ICh7IGRpc2FibGVkLCBpZCwgbGFiZWwsIG9uQ2hhbmdlLCBuYW1lLCBzZWxlY3RlZCwgZGVmYXVsdENoZWNrZWQsIHZhbHVlLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19vcHRpb24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX29wdGlvbi0tc2VsZWN0ZWQnOiBzZWxlY3RlZCxcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fb3B0aW9uLS1kaXNhYmxlZCc6IGRpc2FibGVkLFxuICAgICAgICB9KSwgaHRtbEZvcjogaWQsIGNoaWxkcmVuOiBbanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcInJhZGlvXCIsIG5hbWU6IG5hbWUsIG9uQ2hhbmdlOiBvbkNoYW5nZSwgdmFsdWU6IHZhbHVlLCBpZDogaWQsIGNoZWNrZWQ6IHNlbGVjdGVkLCBkZWZhdWx0Q2hlY2tlZDogZGVmYXVsdENoZWNrZWQsIGRpc2FibGVkOiBkaXNhYmxlZCB9KSwgbGFiZWxdIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3Rvckxpc3QgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGRldmljZXMgPSBbXSwgc2VsZWN0ZWREZXZpY2VJZCwgdGl0bGUsIHR5cGUsIG9uQ2hhbmdlIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLWtpbmRcIiwgY2hpbGRyZW46IFt0aXRsZSAmJiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19kZXZpY2Utc2VsZWN0b3ItdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pKSwgZGV2aWNlcy5sZW5ndGggPT09IDAgPyAoanN4KERldmljZVNlbGVjdG9yT3B0aW9uLCB7IGlkOiBgJHt0eXBlfS0tZGVmYXVsdGAsIGxhYmVsOiB0KCdEZWZhdWx0JyksIG5hbWU6IHR5cGUsIGRlZmF1bHRDaGVja2VkOiB0cnVlLCB2YWx1ZTogXCJkZWZhdWx0XCIgfSkpIDogKGRldmljZXMubWFwKChkZXZpY2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3Rvck9wdGlvbiwgeyBpZDogYCR7dHlwZX0tLSR7ZGV2aWNlLmRldmljZUlkfWAsIHZhbHVlOiBkZXZpY2UuZGV2aWNlSWQsIGxhYmVsOiBkZXZpY2UubGFiZWwsIG9uQ2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U/LihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG5hbWU6IHR5cGUsIHNlbGVjdGVkOiBkZXZpY2UuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQgfHwgZGV2aWNlcy5sZW5ndGggPT09IDEgfSwgZGV2aWNlLmRldmljZUlkKSk7XG4gICAgICAgICAgICB9KSldIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvckRyb3Bkb3duID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXZpY2VzID0gW10sIHNlbGVjdGVkRGV2aWNlSWQsIHRpdGxlLCBvbkNoYW5nZSwgaWNvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IGRldmljZXMuZmluZEluZGV4KChkKSA9PiBkLmRldmljZUlkID09PSBzZWxlY3RlZERldmljZUlkKTtcbiAgICBjb25zdCBoYW5kbGVTZWxlY3QgPSB1c2VDYWxsYmFjaygoaW5kZXgpID0+IHtcbiAgICAgICAgb25DaGFuZ2U/LihkZXZpY2VzW2luZGV4XS5kZXZpY2VJZCk7XG4gICAgfSwgW2RldmljZXMsIG9uQ2hhbmdlXSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19kZXZpY2Uta2luZFwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLXNlbGVjdG9yLXRpdGxlXCIsIGNoaWxkcmVuOiB0aXRsZSB9KSwganN4KERyb3BEb3duU2VsZWN0LCB7IGljb246IGljb24sIGRlZmF1bHRTZWxlY3RlZEluZGV4OiBzZWxlY3RlZEluZGV4LCBkZWZhdWx0U2VsZWN0ZWRMYWJlbDogZGV2aWNlc1tzZWxlY3RlZEluZGV4XT8ubGFiZWwgPz8gdCgnRGVmYXVsdCcpLCBoYW5kbGVTZWxlY3Q6IGhhbmRsZVNlbGVjdCwgY2hpbGRyZW46IGRldmljZXMubGVuZ3RoID09PSAwID8gKGpzeChEcm9wRG93blNlbGVjdE9wdGlvbiwgeyBpY29uOiBpY29uLCBsYWJlbDogdCgnRGVmYXVsdCcpLCBzZWxlY3RlZDogdHJ1ZSB9KSkgOiAoZGV2aWNlcy5tYXAoKGRldmljZSkgPT4gKGpzeChEcm9wRG93blNlbGVjdE9wdGlvbiwgeyBpY29uOiBpY29uLCBsYWJlbDogZGV2aWNlLmxhYmVsLCBzZWxlY3RlZDogZGV2aWNlLmRldmljZUlkID09PSBzZWxlY3RlZERldmljZUlkIHx8IGRldmljZXMubGVuZ3RoID09PSAxIH0sIGRldmljZS5kZXZpY2VJZCkpKSkgfSldIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdmlzdWFsVHlwZSA9ICdsaXN0JywgaWNvbiwgcGxhY2Vob2xkZXIsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIGlmICh2aXN1YWxUeXBlID09PSAnbGlzdCcpIHtcbiAgICAgICAgcmV0dXJuIGpzeChEZXZpY2VTZWxlY3Rvckxpc3QsIHsgLi4ucmVzdCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzeChEZXZpY2VTZWxlY3RvckRyb3Bkb3duLCB7IC4uLnJlc3QsIGljb246IGljb24gfSk7XG59O1xuXG5jb25zdCBEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQgPSAoeyB0aXRsZSwgdmlzdWFsVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlTWljcm9waG9uZVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSwgc2VsZWN0ZWREZXZpY2UsIGRldmljZXMgfSA9IHVzZU1pY3JvcGhvbmVTdGF0ZSgpO1xuICAgIHJldHVybiAoanN4KERldmljZVNlbGVjdG9yLCB7IGRldmljZXM6IGRldmljZXMgfHwgW10sIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlLCB0eXBlOiBcImF1ZGlvaW5wdXRcIiwgb25DaGFuZ2U6IGFzeW5jIChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgbWljcm9waG9uZS5zZWxlY3QoZGV2aWNlSWQpO1xuICAgICAgICB9LCB0aXRsZTogdGl0bGUsIHZpc3VhbFR5cGU6IHZpc3VhbFR5cGUsIGljb246IFwibWljXCIgfSkpO1xufTtcbmNvbnN0IERldmljZVNlbGVjdG9yQXVkaW9PdXRwdXQgPSAoeyB0aXRsZSwgdmlzdWFsVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlU3BlYWtlclN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgc3BlYWtlciwgc2VsZWN0ZWREZXZpY2UsIGRldmljZXMsIGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkIH0gPSB1c2VTcGVha2VyU3RhdGUoKTtcbiAgICBpZiAoIWlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3RvciwgeyBkZXZpY2VzOiBkZXZpY2VzLCB0eXBlOiBcImF1ZGlvb3V0cHV0XCIsIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlLCBvbkNoYW5nZTogKGRldmljZUlkKSA9PiB7XG4gICAgICAgICAgICBzcGVha2VyLnNlbGVjdChkZXZpY2VJZCk7XG4gICAgICAgIH0sIHRpdGxlOiB0aXRsZSwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgaWNvbjogXCJzcGVha2VyXCIgfSkpO1xufTtcblxuY29uc3QgRGV2aWNlU2VsZWN0b3JWaWRlbyA9ICh7IHRpdGxlLCB2aXN1YWxUeXBlLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGNhbWVyYSwgZGV2aWNlcywgc2VsZWN0ZWREZXZpY2UgfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3IsIHsgZGV2aWNlczogZGV2aWNlcyB8fCBbXSwgdHlwZTogXCJ2aWRlb2lucHV0XCIsIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlLCBvbkNoYW5nZTogYXN5bmMgKGRldmljZUlkKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBjYW1lcmEuc2VsZWN0KGRldmljZUlkKTtcbiAgICAgICAgfSwgdGl0bGU6IHRpdGxlLCB2aXN1YWxUeXBlOiB2aXN1YWxUeXBlLCBpY29uOiBcImNhbWVyYVwiIH0pKTtcbn07XG5cbmNvbnN0IERldmljZVNldHRpbmdzID0gKHsgdmlzdWFsVHlwZSA9IE1lbnVWaXN1YWxUeXBlLk1FTlUsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJib3R0b20tZW5kXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlRGV2aWNlU2V0dGluZ3NNZW51QnV0dG9uLCB2aXN1YWxUeXBlOiB2aXN1YWxUeXBlLCBjaGlsZHJlbjoganN4KE1lbnUsIHt9KSB9KSk7XG59O1xuY29uc3QgTWVudSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NcIiwgY2hpbGRyZW46IFtqc3goRGV2aWNlU2VsZWN0b3JWaWRlbywgeyB0aXRsZTogdCgnU2VsZWN0IGEgQ2FtZXJhJykgfSksIGpzeChEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQsIHsgdGl0bGU6IHQoJ1NlbGVjdCBhIE1pYycpIH0pLCBqc3goRGV2aWNlU2VsZWN0b3JBdWRpb091dHB1dCwgeyB0aXRsZTogdCgnU2VsZWN0IFNwZWFrZXJzJykgfSldIH0pKTtcbn07XG5jb25zdCBUb2dnbGVEZXZpY2VTZXR0aW5nc01lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZURldmljZVNldHRpbmdzTWVudUJ1dHRvbih7IG1lbnVTaG93biB9LCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2J1dHRvbicsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fYnV0dG9uLS1hY3RpdmUnOiBtZW51U2hvd24sXG4gICAgICAgIH0pLCB0aXRsZTogdCgnVG9nZ2xlIGRldmljZSBtZW51JyksIGljb246IFwiZGV2aWNlLXNldHRpbmdzXCIsIHJlZjogcmVmIH0pKTtcbn0pO1xuXG5jb25zdCBUb2dnbGVBdWRpb1ByZXZpZXdCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNhcHRpb24sIG9uTWVudVRvZ2dsZSwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IG1pY3JvcGhvbmUsIG9wdGltaXN0aWNJc011dGUsIGhhc0Jyb3dzZXJQZXJtaXNzaW9uIH0gPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCAoKSA9PiBtaWNyb3Bob25lLnRvZ2dsZSgpKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciBhdWRpbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICA6IGNhcHRpb24gPz8gdCgnTWljJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCBjbGFzc05hbWU6IGNsc3goIWhhc0Jyb3dzZXJQZXJtaXNzaW9uICYmICdzdHItdmlkZW9fX2RldmljZS11bmF2YWlsYWJsZScpLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uLCBcImRhdGEtdGVzdGlkXCI6IG9wdGltaXN0aWNJc011dGVcbiAgICAgICAgICAgICAgICA/ICdwcmV2aWV3LWF1ZGlvLXVubXV0ZS1idXR0b24nXG4gICAgICAgICAgICAgICAgOiAncHJldmlldy1hdWRpby1tdXRlLWJ1dHRvbicsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VG9vbHRpcERpc2FibGVkKHNob3duKTtcbiAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246ICFvcHRpbWlzdGljSXNNdXRlID8gJ21pYycgOiAnbWljLW9mZicgfSksICFoYXNCcm93c2VyUGVybWlzc2lvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vLW1lZGlhLXBlcm1pc3Npb25cIiwgdGl0bGU6IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciBhdWRpbyBwZXJtaXNzaW9ucycpLCBjaGlsZHJlbjogXCIhXCIgfSkpXSB9KSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlQXVkaW9QdWJsaXNoaW5nQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0ganN4KERldmljZVNlbGVjdG9yQXVkaW9JbnB1dCwgeyB2aXN1YWxUeXBlOiBcImxpc3RcIiB9KSwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCByZXF1ZXN0UGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24gfSA9IHVzZVJlcXVlc3RQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyk7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBtaWNyb3Bob25lLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBtaWNyb3Bob25lLnRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0VORF9BVURJT10sIGNoaWxkcmVuOiBqc3goUGVybWlzc2lvbk5vdGlmaWNhdGlvbiwgeyBwZXJtaXNzaW9uOiBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8sIGlzQXdhaXRpbmdBcHByb3ZhbDogaXNBd2FpdGluZ1Blcm1pc3Npb24sIG1lc3NhZ2VBcHByb3ZlZDogdCgnWW91IGNhbiBub3cgc3BlYWsuJyksIG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsOiB0KCdBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc3BlYWsuJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzcGVhay4nKSwgY2hpbGRyZW46IGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogIWhhc1Blcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgPyB0KCdZb3UgaGF2ZSBubyBwZXJtaXNzaW9uIHRvIHNoYXJlIHlvdXIgYXVkaW8nKVxuICAgICAgICAgICAgICAgICAgICA6ICFoYXNCcm93c2VyUGVybWlzc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0KCdDaGVjayB5b3VyIGJyb3dzZXIgbWljIHBlcm1pc3Npb25zJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2FwdGlvbiA/PyB0KCdNaWMnKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3hzKENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IG9wdGltaXN0aWNJc011dGUsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIGRpc2FibGVkOiAhaGFzQnJvd3NlclBlcm1pc3Npb24gfHwgIWhhc1Blcm1pc3Npb24sIFwiZGF0YS10ZXN0aWRcIjogb3B0aW1pc3RpY0lzTXV0ZSA/ICdhdWRpby11bm11dGUtYnV0dG9uJyA6ICdhdWRpby1tdXRlLWJ1dHRvbicsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCBNZW51OiBNZW51LCBtZW51UGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBtZW51T2Zmc2V0OiAxNiwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VG9vbHRpcERpc2FibGVkKHNob3duKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTWVudVRvZ2dsZT8uKHNob3duKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBvcHRpbWlzdGljSXNNdXRlID8gJ21pYy1vZmYnIDogJ21pYycgfSksICghaGFzQnJvd3NlclBlcm1pc3Npb24gfHwgIWhhc1Blcm1pc3Npb24pICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm8tbWVkaWEtcGVybWlzc2lvblwiLCBjaGlsZHJlbjogXCIhXCIgfSkpXSB9KSB9KSB9KSB9KSk7XG59O1xuXG5jb25zdCBUb2dnbGVWaWRlb1ByZXZpZXdCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNhcHRpb24sIE1lbnUgPSBEZXZpY2VTZWxlY3RvclZpZGVvLCBtZW51UGxhY2VtZW50ID0gJ3RvcCcsIG9uTWVudVRvZ2dsZSwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHVzZUNhbWVyYVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgY2FtZXJhLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCAoKSA9PiBjYW1lcmEudG9nZ2xlKCkpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiAhaGFzQnJvd3NlclBlcm1pc3Npb25cbiAgICAgICAgICAgID8gdCgnQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zJylcbiAgICAgICAgICAgIDogY2FwdGlvbiA/PyB0KCdWaWRlbycpLCB0b29sdGlwRGlzYWJsZWQ6IHRvb2x0aXBEaXNhYmxlZCwgY2hpbGRyZW46IGpzeHMoQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogb3B0aW1pc3RpY0lzTXV0ZSwgY2FwdGlvbjogY2FwdGlvbiwgY2xhc3NOYW1lOiBjbHN4KCFoYXNCcm93c2VyUGVybWlzc2lvbiAmJiAnc3RyLXZpZGVvX19kZXZpY2UtdW5hdmFpbGFibGUnKSwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlXG4gICAgICAgICAgICAgICAgPyAncHJldmlldy12aWRlby11bm11dGUtYnV0dG9uJ1xuICAgICAgICAgICAgICAgIDogJ3ByZXZpZXctdmlkZW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgZGlzYWJsZWQ6ICFoYXNCcm93c2VyUGVybWlzc2lvbiwgTWVudTogTWVudSwgbWVudVBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiAhb3B0aW1pc3RpY0lzTXV0ZSA/ICdjYW1lcmEnIDogJ2NhbWVyYS1vZmYnIH0pLCAhaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIHRpdGxlOiB0KCdDaGVjayB5b3VyIGJyb3dzZXIgdmlkZW8gcGVybWlzc2lvbnMnKSwgY2hpbGRyZW46IFwiIVwiIH0pKV0gfSkgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZVZpZGVvUHVibGlzaGluZ0J1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgTWVudSA9IGpzeChEZXZpY2VTZWxlY3RvclZpZGVvLCB7IHZpc3VhbFR5cGU6IFwibGlzdFwiIH0pLCBtZW51UGxhY2VtZW50ID0gJ3RvcCcsIG9uTWVudVRvZ2dsZSwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGhhc1Blcm1pc3Npb24sIHJlcXVlc3RQZXJtaXNzaW9uLCBpc0F3YWl0aW5nUGVybWlzc2lvbiB9ID0gdXNlUmVxdWVzdFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKTtcbiAgICBjb25zdCB7IHVzZUNhbWVyYVN0YXRlLCB1c2VDYWxsU2V0dGluZ3MgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBjYW1lcmEsIG9wdGltaXN0aWNJc011dGUsIGhhc0Jyb3dzZXJQZXJtaXNzaW9uIH0gPSB1c2VDYW1lcmFTdGF0ZSgpO1xuICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHVzZUNhbGxTZXR0aW5ncygpO1xuICAgIGNvbnN0IGlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCA9IGNhbGxTZXR0aW5ncz8udmlkZW8uZW5hYmxlZDtcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghaGFzUGVybWlzc2lvbikge1xuICAgICAgICAgICAgYXdhaXQgcmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbWVyYS50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNFTkRfVklERU9dLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPLCBpc0F3YWl0aW5nQXBwcm92YWw6IGlzQXdhaXRpbmdQZXJtaXNzaW9uLCBtZXNzYWdlQXBwcm92ZWQ6IHQoJ1lvdSBjYW4gbm93IHNoYXJlIHlvdXIgdmlkZW8uJyksIG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsOiB0KCdBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby4nKSwgbWVzc2FnZVJldm9rZWQ6IHQoJ1lvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgdmlkZW8uJyksIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgID8gdCgnWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIHZpZGVvJylcbiAgICAgICAgICAgICAgICAgICAgOiAhaGFzQnJvd3NlclBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnVmlkZW8gcHVibGlzaGluZyBpcyBkaXNhYmxlZCBieSB0aGUgc3lzdGVtJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhcHRpb24gfHwgdCgnVmlkZW8nKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3hzKENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IG9wdGltaXN0aWNJc011dGUsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIGRpc2FibGVkOiAhaGFzQnJvd3NlclBlcm1pc3Npb24gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFoYXNQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNQdWJsaXNoaW5nVmlkZW9BbGxvd2VkLCBcImRhdGEtdGVzdGlkXCI6IG9wdGltaXN0aWNJc011dGUgPyAndmlkZW8tdW5tdXRlLWJ1dHRvbicgOiAndmlkZW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgTWVudTogTWVudSwgbWVudVBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgbWVudU9mZnNldDogMTYsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogb3B0aW1pc3RpY0lzTXV0ZSA/ICdjYW1lcmEtb2ZmJyA6ICdjYW1lcmEnIH0pLCAoIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWhhc1Blcm1pc3Npb24gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNQdWJsaXNoaW5nVmlkZW9BbGxvd2VkKSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vLW1lZGlhLXBlcm1pc3Npb25cIiwgY2hpbGRyZW46IFwiIVwiIH0pKV0gfSkgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgRW5kQ2FsbE1lbnUgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IG9uTGVhdmUsIG9uRW5kIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtY2FsbF9fY29uZmlybWF0aW9uXCIsIGNoaWxkcmVuOiBbanN4cyhcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2J1dHRvbiBzdHItdmlkZW9fX2VuZC1jYWxsX19sZWF2ZVwiLCB0eXBlOiBcImJ1dHRvblwiLCBcImRhdGEtdGVzdGlkXCI6IFwibGVhdmUtY2FsbC1idXR0b25cIiwgb25DbGljazogb25MZWF2ZSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b25fX2ljb24gc3RyLXZpZGVvX19lbmQtY2FsbF9fbGVhdmUtaWNvblwiLCBpY29uOiBcImxvZ291dFwiIH0pLCB0KCdMZWF2ZSBjYWxsJyldIH0pLCBqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuRU5EX0NBTExdLCBjaGlsZHJlbjoganN4cyhcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2J1dHRvbiBzdHItdmlkZW9fX2VuZC1jYWxsX19lbmRcIiwgdHlwZTogXCJidXR0b25cIiwgXCJkYXRhLXRlc3RpZFwiOiBcImVuZC1jYWxsLWZvci1hbGwtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uRW5kLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2J1dHRvbl9faWNvbiBzdHItdmlkZW9fX2VuZC1jYWxsX19lbmQtaWNvblwiLCBpY29uOiBcImNhbGwtZW5kXCIgfSksIHQoJ0VuZCBjYWxsIGZvciBhbGwnKV0gfSkgfSldIH0pKTtcbn07XG5jb25zdCBDYW5jZWxDYWxsVG9nZ2xlTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gQ2FuY2VsQ2FsbFRvZ2dsZU1lbnVCdXR0b24oeyBtZW51U2hvd24gfSwgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6IHQoJ0xlYXZlIGNhbGwnKSwgdG9vbHRpcERpc2FibGVkOiBtZW51U2hvd24sIGNoaWxkcmVuOiBqc3goSWNvbkJ1dHRvbiwgeyBpY29uOiBtZW51U2hvd24gPyAnY2xvc2UnIDogJ2NhbGwtZW5kJywgdmFyaWFudDogbWVudVNob3duID8gJ2FjdGl2ZScgOiAnZGFuZ2VyJywgXCJkYXRhLXRlc3RpZFwiOiBcImxlYXZlLWNhbGwtYnV0dG9uXCIsIHJlZjogcmVmIH0pIH0pKTtcbn0pO1xuY29uc3QgQ2FuY2VsQ2FsbENvbmZpcm1CdXR0b24gPSAoeyBvbkNsaWNrLCBvbkxlYXZlLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBoYW5kbGVMZWF2ZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwubGVhdmUoKTtcbiAgICAgICAgICAgIG9uTGVhdmU/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uTGVhdmUsIGNhbGxdKTtcbiAgICBjb25zdCBoYW5kbGVFbmRDYWxsID0gdXNlQ2FsbGJhY2soYXN5bmMgKGUpID0+IHtcbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FsbCkge1xuICAgICAgICAgICAgYXdhaXQgY2FsbC5lbmRDYWxsKCk7XG4gICAgICAgICAgICBvbkxlYXZlPy4oKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrLCBvbkxlYXZlLCBjYWxsXSk7XG4gICAgcmV0dXJuIChqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwidG9wLXN0YXJ0XCIsIFRvZ2dsZUJ1dHRvbjogQ2FuY2VsQ2FsbFRvZ2dsZU1lbnVCdXR0b24sIGNoaWxkcmVuOiBqc3goRW5kQ2FsbE1lbnUsIHsgb25FbmQ6IGhhbmRsZUVuZENhbGwsIG9uTGVhdmU6IGhhbmRsZUxlYXZlIH0pIH0pKTtcbn07XG5jb25zdCBDYW5jZWxDYWxsQnV0dG9uID0gKHsgZGlzYWJsZWQsIGNhcHRpb24sIG9uQ2xpY2ssIG9uTGVhdmUsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soYXN5bmMgKGUpID0+IHtcbiAgICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FsbCkge1xuICAgICAgICAgICAgYXdhaXQgY2FsbC5sZWF2ZSgpO1xuICAgICAgICAgICAgb25MZWF2ZT8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25MZWF2ZSwgY2FsbF0pO1xuICAgIHJldHVybiAoanN4KEljb25CdXR0b24sIHsgZGlzYWJsZWQ6IGRpc2FibGVkLCBpY29uOiBcImNhbGwtZW5kXCIsIHZhcmlhbnQ6IFwiZGFuZ2VyXCIsIHRpdGxlOiBjYXB0aW9uID8/IHQoJ0xlYXZlIGNhbGwnKSwgXCJkYXRhLXRlc3RpZFwiOiBcImNhbmNlbC1jYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVDbGljayB9KSk7XG59O1xuXG5jb25zdCBDYWxsQ29udHJvbHMgPSAoeyBvbkxlYXZlIH0pID0+IChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1jb250cm9sc1wiLCBjaGlsZHJlbjogW2pzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPXSwgY2hpbGRyZW46IGpzeChTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24sIHsgY2hpbGRyZW46IGpzeChUb2dnbGVBdWRpb1B1Ymxpc2hpbmdCdXR0b24sIHt9KSB9KSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNFTkRfVklERU9dLCBjaGlsZHJlbjoganN4KFRvZ2dsZVZpZGVvUHVibGlzaGluZ0J1dHRvbiwge30pIH0pLCBqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuQ1JFQVRFX1JFQUNUSU9OXSwgY2hpbGRyZW46IGpzeChSZWFjdGlvbnNCdXR0b24sIHt9KSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFXSwgY2hpbGRyZW46IGpzeChTY3JlZW5TaGFyZUJ1dHRvbiwge30pIH0pLCBqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW1xuICAgICAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RBUlRfUkVDT1JEX0NBTEwsXG4gICAgICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVE9QX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgXSwgY2hpbGRyZW46IGpzeChSZWNvcmRDYWxsQnV0dG9uLCB7fSkgfSksIGpzeChDYW5jZWxDYWxsQnV0dG9uLCB7IG9uTGVhdmU6IG9uTGVhdmUgfSldIH0pKTtcblxuY29uc3QgQ2FsbFN0YXRzTGF0ZW5jeUNoYXJ0ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vbGF0ZW5jeS1jaGFydC1CajVPU1l6Zy5lcy5qcycpKTtcbnZhciBTdGF0dXM7XG4oZnVuY3Rpb24gKFN0YXR1cykge1xuICAgIFN0YXR1c1tcIkdPT0RcIl0gPSBcIkdvb2RcIjtcbiAgICBTdGF0dXNbXCJPS1wiXSA9IFwiT2tcIjtcbiAgICBTdGF0dXNbXCJCQURcIl0gPSBcIkJhZFwiO1xufSkoU3RhdHVzIHx8IChTdGF0dXMgPSB7fSkpO1xuY29uc3QgQ2FsbFN0YXRzID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBsYXRlbmN5TG93Qm91bmQgPSA3NSwgbGF0ZW5jeUhpZ2hCb3VuZCA9IDQwMCwgc2hvd0NvZGVjSW5mbyA9IGZhbHNlLCBMYXRlbmN5Q2hhcnRTdXNwZW5zZUZhbGxiYWNrID0gbnVsbCwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtsYXRlbmN5QnVmZmVyLCBzZXRMYXRlbmN5QnVmZmVyXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IDIwIH0sIChfLCBpKSA9PiAoeyB4OiBub3cgKyBpLCB5OiAwIH0pKTtcbiAgICB9KTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBbcHVibGlzaEJpdHJhdGUsIHNldFB1Ymxpc2hCaXRyYXRlXSA9IHVzZVN0YXRlKCctJyk7XG4gICAgY29uc3QgW3N1YnNjcmliZUJpdHJhdGUsIHNldFN1YnNjcmliZUJpdHJhdGVdID0gdXNlU3RhdGUoJy0nKTtcbiAgICBjb25zdCBwcmV2aW91c1N0YXRzID0gdXNlUmVmKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsU3RhdHNSZXBvcnQgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgY2FsbFN0YXRzUmVwb3J0ID0gdXNlQ2FsbFN0YXRzUmVwb3J0KCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsU3RhdHNSZXBvcnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghcHJldmlvdXNTdGF0cy5jdXJyZW50KSB7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzLmN1cnJlbnQgPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXNDYWxsU3RhdHNSZXBvcnQgPSBwcmV2aW91c1N0YXRzLmN1cnJlbnQ7XG4gICAgICAgIHNldFB1Ymxpc2hCaXRyYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVQdWJsaXNoQml0cmF0ZShwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCwgY2FsbFN0YXRzUmVwb3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFN1YnNjcmliZUJpdHJhdGUoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVN1YnNjcmliZUJpdHJhdGUocHJldmlvdXNDYWxsU3RhdHNSZXBvcnQsIGNhbGxTdGF0c1JlcG9ydCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRMYXRlbmN5QnVmZmVyKChsYXRlbmN5QnVmKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdMYXRlbmN5QnVmZmVyID0gbGF0ZW5jeUJ1Zi5zbGljZSgtMTkpO1xuICAgICAgICAgICAgbmV3TGF0ZW5jeUJ1ZmZlci5wdXNoKHtcbiAgICAgICAgICAgICAgICB4OiBjYWxsU3RhdHNSZXBvcnQudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHk6IGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlUm91bmRUcmlwVGltZUluTXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdMYXRlbmN5QnVmZmVyO1xuICAgICAgICB9KTtcbiAgICAgICAgcHJldmlvdXNTdGF0cy5jdXJyZW50ID0gY2FsbFN0YXRzUmVwb3J0O1xuICAgIH0sIFtjYWxsU3RhdHNSZXBvcnRdKTtcbiAgICBjb25zdCBsYXRlbmN5Q29tcGFyaXNvbiA9IHtcbiAgICAgICAgbG93Qm91bmQ6IGxhdGVuY3lMb3dCb3VuZCxcbiAgICAgICAgaGlnaEJvdW5kOiBsYXRlbmN5SGlnaEJvdW5kLFxuICAgICAgICB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0Py5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlUm91bmRUcmlwVGltZUluTXMgfHwgMCxcbiAgICB9O1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c1wiLCBjaGlsZHJlbjogY2FsbFN0YXRzUmVwb3J0ICYmIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2hlYWRlclwiLCBjaGlsZHJlbjogW2pzeHMoXCJoM1wiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2hlYWRpbmdcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19pY29uXCIsIGljb246IFwiY2FsbC1sYXRlbmN5XCIgfSksIHQoJ0NhbGwgTGF0ZW5jeScpXSB9KSwganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2Rlc2NyaXB0aW9uXCIsIGNoaWxkcmVuOiB0KCdWZXJ5IGhpZ2ggbGF0ZW5jeSB2YWx1ZXMgbWF5IHJlZHVjZSBjYWxsIHF1YWxpdHksIGNhdXNlIGxhZywgYW5kIG1ha2UgdGhlIGNhbGwgbGVzcyBlbmpveWFibGUuJykgfSldIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19sYXRlbmN5Y2hhcnRcIiwgY2hpbGRyZW46IGpzeChTdXNwZW5zZSwgeyBmYWxsYmFjazogTGF0ZW5jeUNoYXJ0U3VzcGVuc2VGYWxsYmFjaywgY2hpbGRyZW46IGpzeChDYWxsU3RhdHNMYXRlbmN5Q2hhcnQsIHsgdmFsdWVzOiBsYXRlbmN5QnVmZmVyIH0pIH0pIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4cyhcImgzXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faGVhZGluZ1wiLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2ljb25cIiwgaWNvbjogXCJuZXR3b3JrLXF1YWxpdHlcIiB9KSwgdCgnQ2FsbCBwZXJmb3JtYW5jZScpXSB9KSwganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2Rlc2NyaXB0aW9uXCIsIGNoaWxkcmVuOiB0KCdSZXZpZXcgdGhlIGtleSBkYXRhIHBvaW50cyBiZWxvdyB0byBhc3Nlc3MgY2FsbCBwZXJmb3JtYW5jZScpIH0pXSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmQtY29udGFpbmVyXCIsIGNoaWxkcmVuOiBbanN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWdpb24nKSwgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5kYXRhY2VudGVyIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ0xhdGVuY3knKSwgdmFsdWU6IGAke2NhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlUm91bmRUcmlwVGltZUluTXN9IG1zLmAsIGNvbXBhcmlzb246IGxhdGVuY3lDb21wYXJpc29uIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlY2VpdmUgaml0dGVyJyksIHZhbHVlOiBgJHtjYWxsU3RhdHNSZXBvcnQuc3Vic2NyaWJlclN0YXRzLmF2ZXJhZ2VKaXR0ZXJJbk1zfSBtcy5gLCBjb21wYXJpc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxhdGVuY3lDb21wYXJpc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LnN1YnNjcmliZXJTdGF0cy5hdmVyYWdlSml0dGVySW5NcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1B1Ymxpc2ggaml0dGVyJyksIHZhbHVlOiBgJHtjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMuYXZlcmFnZUppdHRlckluTXN9IG1zLmAsIGNvbXBhcmlzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGF0ZW5jeUNvbXBhcmlzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMuYXZlcmFnZUppdHRlckluTXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiBgJHt0KCdQdWJsaXNoIHJlc29sdXRpb24nKX0ke3Nob3dDb2RlY0luZm8gPyBmb3JtYXRDb2RlYyhjYWxsU3RhdHNSZXBvcnQpIDogJyd9YCwgdmFsdWU6IHRvRnJhbWVTaXplKGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cykgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUHVibGlzaCBxdWFsaXR5IGRyb3AgcmVhc29uJyksIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMucXVhbGl0eUxpbWl0YXRpb25SZWFzb25zIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlY2VpdmluZyByZXNvbHV0aW9uJyksIHZhbHVlOiB0b0ZyYW1lU2l6ZShjYWxsU3RhdHNSZXBvcnQuc3Vic2NyaWJlclN0YXRzKSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWNlaXZlIHF1YWxpdHkgZHJvcCByZWFzb24nKSwgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5zdWJzY3JpYmVyU3RhdHMucXVhbGl0eUxpbWl0YXRpb25SZWFzb25zIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1B1Ymxpc2ggYml0cmF0ZScpLCB2YWx1ZTogcHVibGlzaEJpdHJhdGUgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVjZWl2aW5nIGJpdHJhdGUnKSwgdmFsdWU6IHN1YnNjcmliZUJpdHJhdGUgfSldIH0pXSB9KSkgfSkpO1xufTtcbmNvbnN0IFN0YXRDYXJkRXhwbGFuYXRpb24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGRlc2NyaXB0aW9uIH0gPSBwcm9wcztcbiAgICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHsgcmVmcywgZmxvYXRpbmdTdHlsZXMsIGNvbnRleHQgfSA9IHVzZUZsb2F0aW5nKHtcbiAgICAgICAgb3BlbjogaXNPcGVuLFxuICAgICAgICBvbk9wZW5DaGFuZ2U6IHNldElzT3BlbixcbiAgICB9KTtcbiAgICBjb25zdCBob3ZlciA9IHVzZUhvdmVyKGNvbnRleHQpO1xuICAgIGNvbnN0IHsgZ2V0UmVmZXJlbmNlUHJvcHMsIGdldEZsb2F0aW5nUHJvcHMgfSA9IHVzZUludGVyYWN0aW9ucyhbaG92ZXJdKTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLWV4cGxhbmF0aW9uXCIsIHJlZjogcmVmcy5zZXRSZWZlcmVuY2UsIC4uLmdldFJlZmVyZW5jZVByb3BzKCksIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLWV4cGxhbmF0aW9uX19pY29uXCIsIGljb246IFwiaW5mb1wiIH0pIH0pLCBpc09wZW4gJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtZXhwbGFuYXRpb25fX2Rlc2NyaXB0aW9uXCIsIHJlZjogcmVmcy5zZXRGbG9hdGluZywgc3R5bGU6IGZsb2F0aW5nU3R5bGVzLCAuLi5nZXRGbG9hdGluZ1Byb3BzKCksIGNoaWxkcmVuOiBkZXNjcmlwdGlvbiB9KSldIH0pKTtcbn07XG5jb25zdCBTdGF0c1RhZyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIHN0YXR1cyB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnLS1nb29kJzogc3RhdHVzID09PSBTdGF0dXMuR09PRCxcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2NhbGwtc3RhdHNfX3RhZy0tb2snOiBzdGF0dXMgPT09IFN0YXR1cy5PSyxcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2NhbGwtc3RhdHNfX3RhZy0tYmFkJzogc3RhdHVzID09PSBTdGF0dXMuQkFELFxuICAgICAgICB9KSwgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX3RhZ19fdGV4dFwiLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkpO1xufTtcbmNvbnN0IFN0YXRDYXJkID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBsYWJlbCwgdmFsdWUsIGRlc2NyaXB0aW9uLCBjb21wYXJpc29uIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBzdGF0dXMgPSBjb21wYXJpc29uID8gdG9TdGF0dXMoY29tcGFyaXNvbikgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZFwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkLWNvbnRlbnRcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZC1sYWJlbFwiLCBjaGlsZHJlbjogW2xhYmVsLCBkZXNjcmlwdGlvbiAmJiBqc3goU3RhdENhcmRFeHBsYW5hdGlvbiwgeyBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfSldIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkLXZhbHVlXCIsIGNoaWxkcmVuOiB2YWx1ZSB9KV0gfSksIHN0YXR1cyAmJiBqc3goU3RhdHNUYWcsIHsgc3RhdHVzOiBzdGF0dXMsIGNoaWxkcmVuOiB0KHN0YXR1cykgfSldIH0pKTtcbn07XG5jb25zdCB0b1N0YXR1cyA9IChjb25maWcpID0+IHtcbiAgICBjb25zdCB7IHZhbHVlLCBsb3dCb3VuZCwgaGlnaEJvdW5kIH0gPSBjb25maWc7XG4gICAgaWYgKHZhbHVlIDw9IGxvd0JvdW5kKVxuICAgICAgICByZXR1cm4gU3RhdHVzLkdPT0Q7XG4gICAgaWYgKHZhbHVlID49IGxvd0JvdW5kICYmIHZhbHVlIDw9IGhpZ2hCb3VuZClcbiAgICAgICAgcmV0dXJuIFN0YXR1cy5PSztcbiAgICBpZiAodmFsdWUgPj0gaGlnaEJvdW5kKVxuICAgICAgICByZXR1cm4gU3RhdHVzLkJBRDtcbiAgICByZXR1cm4gU3RhdHVzLkdPT0Q7XG59O1xuY29uc3QgdG9GcmFtZVNpemUgPSAoc3RhdHMpID0+IHtcbiAgICBjb25zdCB7IGhpZ2hlc3RGcmFtZVdpZHRoOiB3LCBoaWdoZXN0RnJhbWVIZWlnaHQ6IGgsIGhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQ6IGZwcywgfSA9IHN0YXRzO1xuICAgIGxldCBzaXplID0gYC1gO1xuICAgIGlmICh3ICYmIGgpIHtcbiAgICAgICAgc2l6ZSA9IGAke3d9eCR7aH1gO1xuICAgICAgICBpZiAoZnBzKSB7XG4gICAgICAgICAgICBzaXplICs9IGBAJHtmcHN9ZnBzLmA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpemU7XG59O1xuY29uc3QgZm9ybWF0Q29kZWMgPSAoY2FsbFN0YXRzUmVwb3J0KSA9PiB7XG4gICAgY29uc3QgeyBjb2RlY1BlclRyYWNrVHlwZSB9ID0gY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzO1xuICAgIGlmICghY29kZWNQZXJUcmFja1R5cGUgfHwgIWNvZGVjUGVyVHJhY2tUeXBlW1NmdU1vZGVscy5UcmFja1R5cGUuVklERU9dKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgWywgbmFtZV0gPSBjb2RlY1BlclRyYWNrVHlwZVtTZnVNb2RlbHMuVHJhY2tUeXBlLlZJREVPXS5zcGxpdCgnLycpO1xuICAgIHJldHVybiBuYW1lID8gYCAoJHtuYW1lfSlgIDogJyc7XG59O1xuY29uc3QgY2FsY3VsYXRlUHVibGlzaEJpdHJhdGUgPSAocHJldmlvdXNDYWxsU3RhdHNSZXBvcnQsIGNhbGxTdGF0c1JlcG9ydCkgPT4ge1xuICAgIGNvbnN0IHsgcHVibGlzaGVyU3RhdHM6IHsgdG90YWxCeXRlc1NlbnQ6IHByZXZpb3VzVG90YWxCeXRlc1NlbnQsIHRpbWVzdGFtcDogcHJldmlvdXNUaW1lc3RhbXAsIH0sIH0gPSBwcmV2aW91c0NhbGxTdGF0c1JlcG9ydDtcbiAgICBjb25zdCB7IHB1Ymxpc2hlclN0YXRzOiB7IHRvdGFsQnl0ZXNTZW50LCB0aW1lc3RhbXAgfSwgfSA9IGNhbGxTdGF0c1JlcG9ydDtcbiAgICBjb25zdCBieXRlc1NlbnQgPSB0b3RhbEJ5dGVzU2VudCAtIHByZXZpb3VzVG90YWxCeXRlc1NlbnQ7XG4gICAgY29uc3QgdGltZUVsYXBzZWQgPSB0aW1lc3RhbXAgLSBwcmV2aW91c1RpbWVzdGFtcDtcbiAgICByZXR1cm4gYCR7KChieXRlc1NlbnQgKiA4KSAvIHRpbWVFbGFwc2VkKS50b0ZpeGVkKDIpfSBrYnBzYDtcbn07XG5jb25zdCBjYWxjdWxhdGVTdWJzY3JpYmVCaXRyYXRlID0gKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpID0+IHtcbiAgICBjb25zdCB7IHN1YnNjcmliZXJTdGF0czogeyB0b3RhbEJ5dGVzUmVjZWl2ZWQ6IHByZXZpb3VzVG90YWxCeXRlc1JlY2VpdmVkLCB0aW1lc3RhbXA6IHByZXZpb3VzVGltZXN0YW1wLCB9LCB9ID0gcHJldmlvdXNDYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgeyBzdWJzY3JpYmVyU3RhdHM6IHsgdG90YWxCeXRlc1JlY2VpdmVkLCB0aW1lc3RhbXAgfSwgfSA9IGNhbGxTdGF0c1JlcG9ydDtcbiAgICBjb25zdCBieXRlc1JlY2VpdmVkID0gdG90YWxCeXRlc1JlY2VpdmVkIC0gcHJldmlvdXNUb3RhbEJ5dGVzUmVjZWl2ZWQ7XG4gICAgY29uc3QgdGltZUVsYXBzZWQgPSB0aW1lc3RhbXAgLSBwcmV2aW91c1RpbWVzdGFtcDtcbiAgICByZXR1cm4gYCR7KChieXRlc1JlY2VpdmVkICogOCkgLyB0aW1lRWxhcHNlZCkudG9GaXhlZCgyKX0ga2Jwc2A7XG59O1xuXG5jb25zdCBDYWxsU3RhdHNCdXR0b24gPSAoKSA9PiAoanN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcInRvcC1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVNZW51QnV0dG9uLCBjaGlsZHJlbjoganN4KENhbGxTdGF0cywge30pIH0pKTtcbmNvbnN0IFRvZ2dsZU1lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZU1lbnVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgbWVudVNob3duIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChDb21wb3NpdGVCdXR0b24sIHsgcmVmOiByZWYsIGFjdGl2ZTogbWVudVNob3duLCBjYXB0aW9uOiBjYXB0aW9uLCB0aXRsZTogY2FwdGlvbiB8fCB0KCdTdGF0aXN0aWNzJyksIFwiZGF0YS10ZXN0aWRcIjogXCJzdGF0cy1idXR0b25cIiwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwic3RhdHNcIiB9KSB9KSk7XG59KTtcblxuY29uc3QgVG9nZ2xlQXVkaW9PdXRwdXRCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIE1lbnUgPSBEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0LCBtZW51UGxhY2VtZW50ID0gJ3RvcCcsIG9uTWVudVRvZ2dsZSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFt0b29sdGlwRGlzYWJsZWQsIHNldFRvb2x0aXBEaXNhYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6IGNhcHRpb24gfHwgdCgnU3BlYWtlcnMnKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIGNhcHRpb246IGNhcHRpb24sIFwiZGF0YS10ZXN0aWRcIjogXCJhdWRpby1vdXRwdXQtYnV0dG9uXCIsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VG9vbHRpcERpc2FibGVkKHNob3duKTtcbiAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICB9LCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogXCJzcGVha2VyXCIgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgQmxvY2tlZFVzZXJMaXN0aW5nID0gKHsgZGF0YSB9KSA9PiB7XG4gICAgaWYgKCFkYXRhLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmdcIiwgY2hpbGRyZW46IGRhdGEubWFwKCh1c2VySWQpID0+IChqc3goQmxvY2tlZFVzZXJMaXN0aW5nSXRlbSwgeyB1c2VySWQ6IHVzZXJJZCB9LCB1c2VySWQpKSkgfSkgfSkpO1xufTtcbmNvbnN0IEJsb2NrZWRVc2VyTGlzdGluZ0l0ZW0gPSAoeyB1c2VySWQgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgdW5ibG9ja1VzZXJDbGlja0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmICh1c2VySWQpXG4gICAgICAgICAgICBjYWxsPy51bmJsb2NrVXNlcih1c2VySWQpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19kaXNwbGF5LW5hbWVcIiwgY2hpbGRyZW46IHVzZXJJZCB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkJMT0NLX1VTRVJTXSwgY2hpbGRyZW46IGpzeChUZXh0QnV0dG9uLCB7IG9uQ2xpY2s6IHVuYmxvY2tVc2VyQ2xpY2tIYW5kbGVyLCBjaGlsZHJlbjogXCJVbmJsb2NrXCIgfSkgfSldIH0pKTtcbn07XG5cbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RIZWFkZXIgPSAoeyBvbkNsb3NlLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZUFub255bW91c1BhcnRpY2lwYW50Q291bnQgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCA9IHVzZUFub255bW91c1BhcnRpY2lwYW50Q291bnQoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlclwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlcl9fdGl0bGVcIiwgY2hpbGRyZW46IFt0KCdQYXJ0aWNpcGFudHMnKSwgJyAnLCBqc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtaGVhZGVyX190aXRsZS1jb3VudFwiLCBjaGlsZHJlbjogW1wiW1wiLCBwYXJ0aWNpcGFudHMubGVuZ3RoLCBcIl1cIl0gfSksIGFub255bW91c1BhcnRpY2lwYW50Q291bnQgPiAwICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX3RpdGxlLWFub255bW91c1wiLCBjaGlsZHJlbjogdCgnQW5vbnltb3VzJywgeyBjb3VudDogYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCB9KSB9KSldIH0pLCBqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBvbkNsb3NlLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlcl9fY2xvc2UtYnV0dG9uXCIsIGljb246IFwiY2xvc2VcIiB9KV0gfSkpO1xufTtcblxuY29uc3QgQ2FsbFBhcnRpY2lwYW50TGlzdGluZ0l0ZW0gPSAoeyBwYXJ0aWNpcGFudCwgRGlzcGxheU5hbWUgPSBEZWZhdWx0RGlzcGxheU5hbWUsIH0pID0+IHtcbiAgICBjb25zdCBpc0F1ZGlvT24gPSBoYXNBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaXNWaWRlb09uID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGlzUGlubmVkT24gPSBpc1Bpbm5lZChwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtXCIsIGNoaWxkcmVuOiBbanN4KEF2YXRhciwgeyBuYW1lOiBwYXJ0aWNpcGFudC5uYW1lLCBpbWFnZVNyYzogcGFydGljaXBhbnQuaW1hZ2UgfSksIGpzeChEaXNwbGF5TmFtZSwgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX21lZGlhLWluZGljYXRvci1ncm91cFwiLCBjaGlsZHJlbjogW2pzeChNZWRpYUluZGljYXRvciwgeyB0aXRsZTogaXNBdWRpb09uID8gdCgnTWljcm9waG9uZSBvbicpIDogdCgnTWljcm9waG9uZSBvZmYnKSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbicsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbi0ke2lzQXVkaW9PbiA/ICdtaWMnIDogJ21pYy1vZmYnfWApIH0pLCBqc3goTWVkaWFJbmRpY2F0b3IsIHsgdGl0bGU6IGlzVmlkZW9PbiA/IHQoJ0NhbWVyYSBvbicpIDogdCgnQ2FtZXJhIG9mZicpLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uJywgYHN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uLSR7aXNWaWRlb09uID8gJ2NhbWVyYScgOiAnY2FtZXJhLW9mZid9YCkgfSksIGlzUGlubmVkT24gJiYgKGpzeChNZWRpYUluZGljYXRvciwgeyB0aXRsZTogdCgnUGlubmVkJyksIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24nLCAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24tcGlubmVkJykgfSkpLCBqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwiYm90dG9tLWVuZFwiLCBUb2dnbGVCdXR0b246IFRvZ2dsZUJ1dHRvbiQyLCBjaGlsZHJlbjoganN4KFBhcnRpY2lwYW50Vmlld0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgcGFydGljaXBhbnQsIHRyYWNrVHlwZTogJ25vbmUnIH0sIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUsIHt9KSB9KSB9KV0gfSldIH0pKTtcbn07XG5jb25zdCBNZWRpYUluZGljYXRvciA9IChwcm9wcykgPT4gKGpzeChXaXRoVG9vbHRpcCwgeyAuLi5wcm9wcyB9KSk7XG5jb25zdCBEZWZhdWx0RGlzcGxheU5hbWUgPSAoeyBwYXJ0aWNpcGFudCB9KSA9PiB7XG4gICAgY29uc3QgY29ubmVjdGVkVXNlciA9IHVzZUNvbm5lY3RlZFVzZXIoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBtZUZsYWcgPSBwYXJ0aWNpcGFudC51c2VySWQgPT09IGNvbm5lY3RlZFVzZXI/LmlkID8gdCgnTWUnKSA6ICcnO1xuICAgIGNvbnN0IG5hbWVPcklkID0gcGFydGljaXBhbnQubmFtZSB8fCBwYXJ0aWNpcGFudC51c2VySWQgfHwgdCgnVW5rbm93bicpO1xuICAgIGxldCBkaXNwbGF5TmFtZTtcbiAgICBpZiAoIXBhcnRpY2lwYW50Lm5hbWUpIHtcbiAgICAgICAgZGlzcGxheU5hbWUgPSBtZUZsYWcgfHwgbmFtZU9ySWQgfHwgdCgnVW5rbm93bicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZUZsYWcpIHtcbiAgICAgICAgZGlzcGxheU5hbWUgPSBgJHtuYW1lT3JJZH0gKCR7bWVGbGFnfSlgO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGlzcGxheU5hbWUgPSBuYW1lT3JJZDtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19kaXNwbGF5LW5hbWVcIiwgdGl0bGU6IGRpc3BsYXlOYW1lLCBjaGlsZHJlbjogZGlzcGxheU5hbWUgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUJ1dHRvbiQyID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZWxsaXBzaXNcIiwgcmVmOiByZWYgfSk7XG59KTtcblxuY29uc3QgQ2FsbFBhcnRpY2lwYW50TGlzdGluZyA9ICh7IGRhdGEsIH0pID0+IChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nXCIsIGNoaWxkcmVuOiBkYXRhLm1hcCgocGFydGljaXBhbnQpID0+IChqc3goQ2FsbFBhcnRpY2lwYW50TGlzdGluZ0l0ZW0sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0sIHBhcnRpY2lwYW50LnNlc3Npb25JZCkpKSB9KSk7XG5cbmNvbnN0IEVtcHR5UGFydGljaXBhbnRTZWFyY2hMaXN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC0tZW1wdHlcIiwgY2hpbGRyZW46IHQoJ05vIHBhcnRpY2lwYW50cyBmb3VuZCcpIH0pKTtcbn07XG5cbmNvbnN0IFNlYXJjaElucHV0ID0gKHsgZXhpdFNlYXJjaCwgaXNBY3RpdmUsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IFtpbnB1dEVsZW1lbnQsIHNldElucHV0RWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlucHV0RWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2VzY2FwZScpXG4gICAgICAgICAgICAgICAgZXhpdFNlYXJjaCgpO1xuICAgICAgICB9O1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgfTtcbiAgICB9LCBbZXhpdFNlYXJjaCwgaW5wdXRFbGVtZW50XSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9fY29udGFpbmVyJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fc2VhcmNoLWlucHV0X19jb250YWluZXItLWFjdGl2ZSc6IGlzQWN0aXZlLFxuICAgICAgICB9KSwgY2hpbGRyZW46IFtqc3goXCJpbnB1dFwiLCB7IHBsYWNlaG9sZGVyOiBcIlNlYXJjaFwiLCAuLi5yZXN0LCByZWY6IHNldElucHV0RWxlbWVudCB9KSwgaXNBY3RpdmUgPyAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLWlucHV0X19jbGVhci1idG5cIiwgb25DbGljazogZXhpdFNlYXJjaCwgY2hpbGRyZW46IGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zZWFyY2gtaW5wdXRfX2ljb24tLWFjdGl2ZVwiIH0pIH0pKSA6IChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLWlucHV0X19pY29uXCIgfSkpXSB9KSk7XG59O1xuXG5jb25zdCBTZWFyY2hSZXN1bHRzID0gKHsgRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQsIExvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IkMSA9IExvYWRpbmdJbmRpY2F0b3IsIHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0cywgU2VhcmNoUmVzdWx0TGlzdCwgfSkgPT4ge1xuICAgIGlmIChzZWFyY2hRdWVyeUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zZWFyY2gtcmVzdWx0cy0tbG9hZGluZ1wiLCBjaGlsZHJlbjoganN4KExvYWRpbmdJbmRpY2F0b3IkMSwge30pIH0pKTtcbiAgICB9XG4gICAgaWYgKCFzZWFyY2hSZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4ganN4KEVtcHR5U2VhcmNoUmVzdWx0Q29tcG9uZW50LCB7fSk7XG4gICAgfVxuICAgIHJldHVybiBqc3goU2VhcmNoUmVzdWx0TGlzdCwgeyBkYXRhOiBzZWFyY2hSZXN1bHRzIH0pO1xufTtcblxuY29uc3QgdXNlU2VhcmNoID0gKHsgZGVib3VuY2VJbnRlcnZhbCwgc2VhcmNoRm4sIHNlYXJjaFF1ZXJ5ID0gJycsIH0pID0+IHtcbiAgICBjb25zdCBbc2VhcmNoUmVzdWx0cywgc2V0U2VhcmNoUmVzdWx0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2V0U2VhcmNoUXVlcnlJblByb2dyZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNlYXJjaFF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0U2VhcmNoUXVlcnlJblByb2dyZXNzKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyh0cnVlKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VhcmNoRm4oc2VhcmNoUXVlcnkpO1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMocmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGRlYm91bmNlSW50ZXJ2YWwpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgIH0sIFtkZWJvdW5jZUludGVydmFsLCBzZWFyY2hGbiwgc2VhcmNoUXVlcnldKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsXG4gICAgICAgIHNlYXJjaFJlc3VsdHMsXG4gICAgfTtcbn07XG5cbmNvbnN0IFVzZXJMaXN0VHlwZXMgPSB7XG4gICAgYWN0aXZlOiAnQWN0aXZlIHVzZXJzJyxcbiAgICBibG9ja2VkOiAnQmxvY2tlZCB1c2VycycsXG59O1xuY29uc3QgREVGQVVMVF9ERUJPVU5DRV9TRUFSQ0hfSU5URVJWQUwgPSAyMDA7XG5jb25zdCBDYWxsUGFydGljaXBhbnRzTGlzdCA9ICh7IG9uQ2xvc2UsIGFjdGl2ZVVzZXJzU2VhcmNoRm4sIGJsb2NrZWRVc2Vyc1NlYXJjaEZuLCBkZWJvdW5jZVNlYXJjaEludGVydmFsLCB9KSA9PiB7XG4gICAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW3VzZXJMaXN0VHlwZSwgc2V0VXNlckxpc3RUeXBlXSA9IHVzZVN0YXRlKCdhY3RpdmUnKTtcbiAgICBjb25zdCBleGl0U2VhcmNoID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0U2VhcmNoUXVlcnkoJycpLCBbXSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdFwiLCBjaGlsZHJlbjogW2pzeChDYWxsUGFydGljaXBhbnRMaXN0SGVhZGVyLCB7IG9uQ2xvc2U6IG9uQ2xvc2UgfSksIGpzeChTZWFyY2hJbnB1dCwgeyB2YWx1ZTogc2VhcmNoUXVlcnksIG9uQ2hhbmdlOiAoeyBjdXJyZW50VGFyZ2V0IH0pID0+IHNldFNlYXJjaFF1ZXJ5KGN1cnJlbnRUYXJnZXQudmFsdWUpLCBleGl0U2VhcmNoOiBleGl0U2VhcmNoLCBpc0FjdGl2ZTogISFzZWFyY2hRdWVyeSB9KSwganN4KENhbGxQYXJ0aWNpcGFudExpc3RDb250ZW50SGVhZGVyLCB7IHVzZXJMaXN0VHlwZTogdXNlckxpc3RUeXBlLCBzZXRVc2VyTGlzdFR5cGU6IHNldFVzZXJMaXN0VHlwZSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RfX2NvbnRlbnRcIiwgY2hpbGRyZW46IFt1c2VyTGlzdFR5cGUgPT09ICdhY3RpdmUnICYmIChqc3goQWN0aXZlVXNlcnNTZWFyY2hSZXN1bHRzLCB7IHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSwgYWN0aXZlVXNlcnNTZWFyY2hGbjogYWN0aXZlVXNlcnNTZWFyY2hGbiwgZGVib3VuY2VTZWFyY2hJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCB9KSksIHVzZXJMaXN0VHlwZSA9PT0gJ2Jsb2NrZWQnICYmIChqc3goQmxvY2tlZFVzZXJzU2VhcmNoUmVzdWx0cywgeyBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksIGJsb2NrZWRVc2Vyc1NlYXJjaEZuOiBibG9ja2VkVXNlcnNTZWFyY2hGbiwgZGVib3VuY2VTZWFyY2hJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCB9KSldIH0pXSB9KSk7XG59O1xuY29uc3QgQ2FsbFBhcnRpY2lwYW50TGlzdENvbnRlbnRIZWFkZXIgPSAoeyB1c2VyTGlzdFR5cGUsIHNldFVzZXJMaXN0VHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgbXV0ZUFsbCA9ICgpID0+IHtcbiAgICAgICAgY2FsbD8ubXV0ZUFsbFVzZXJzKCdhdWRpbycpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdF9fY29udGVudC1oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0X19jb250ZW50LWhlYWRlci10aXRsZVwiLCBjaGlsZHJlbjogdXNlckxpc3RUeXBlID09PSAnYWN0aXZlJyAmJiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5Lk1VVEVfVVNFUlNdLCBoYXNQZXJtaXNzaW9uc09ubHk6IHRydWUsIGNoaWxkcmVuOiBqc3goVGV4dEJ1dHRvbiwgeyBvbkNsaWNrOiBtdXRlQWxsLCBjaGlsZHJlbjogXCJNdXRlIGFsbFwiIH0pIH0pKSB9KSwganN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcImJvdHRvbS1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24kMSwgY2hpbGRyZW46IGpzeChHZW5lcmljTWVudSwgeyBjaGlsZHJlbjogT2JqZWN0LmtleXMoVXNlckxpc3RUeXBlcykubWFwKChsdCkgPT4gKGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgXCJhcmlhLXNlbGVjdGVkXCI6IGx0ID09PSB1c2VyTGlzdFR5cGUsIG9uQ2xpY2s6ICgpID0+IHNldFVzZXJMaXN0VHlwZShsdCksIGNoaWxkcmVuOiBVc2VyTGlzdFR5cGVzW2x0XSB9LCBsdCkpKSB9KSB9KV0gfSkpO1xufTtcbmNvbnN0IEFjdGl2ZVVzZXJzU2VhcmNoUmVzdWx0cyA9ICh7IHNlYXJjaFF1ZXJ5LCBhY3RpdmVVc2Vyc1NlYXJjaEZuOiBhY3RpdmVVc2Vyc1NlYXJjaEZuRnJvbVByb3BzLCBkZWJvdW5jZVNlYXJjaEludGVydmFsID0gREVGQVVMVF9ERUJPVU5DRV9TRUFSQ0hfSU5URVJWQUwsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoeyBzb3J0Qnk6IG5hbWUgfSk7XG4gICAgY29uc3QgYWN0aXZlVXNlcnNTZWFyY2hGbiA9IHVzZUNhbGxiYWNrKChxdWVyeVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVJlZ0V4cCA9IG5ldyBSZWdFeHAocXVlcnlTdHJpbmcsICdpJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFydGljaXBhbnRzLmZpbHRlcigocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWNpcGFudC5uYW1lLm1hdGNoKHF1ZXJ5UmVnRXhwKTtcbiAgICAgICAgfSkpO1xuICAgIH0sIFtwYXJ0aWNpcGFudHNdKTtcbiAgICBjb25zdCB7IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0cyB9ID0gdXNlU2VhcmNoKHtcbiAgICAgICAgc2VhcmNoRm46IGFjdGl2ZVVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMgPz8gYWN0aXZlVXNlcnNTZWFyY2hGbixcbiAgICAgICAgZGVib3VuY2VJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCxcbiAgICAgICAgc2VhcmNoUXVlcnksXG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goU2VhcmNoUmVzdWx0cywgeyBFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudDogRW1wdHlQYXJ0aWNpcGFudFNlYXJjaExpc3QsIExvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IsIHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzczogc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzOiBzZWFyY2hRdWVyeSA/IHNlYXJjaFJlc3VsdHMgOiBwYXJ0aWNpcGFudHMsIFNlYXJjaFJlc3VsdExpc3Q6IENhbGxQYXJ0aWNpcGFudExpc3RpbmcgfSkpO1xufTtcbmNvbnN0IEJsb2NrZWRVc2Vyc1NlYXJjaFJlc3VsdHMgPSAoeyBibG9ja2VkVXNlcnNTZWFyY2hGbjogYmxvY2tlZFVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMsIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwgPSBERUZBVUxUX0RFQk9VTkNFX1NFQVJDSF9JTlRFUlZBTCwgc2VhcmNoUXVlcnksIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZUNhbGxCbG9ja2VkVXNlcklkcyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBibG9ja2VkVXNlcnMgPSB1c2VDYWxsQmxvY2tlZFVzZXJJZHMoKTtcbiAgICBjb25zdCBibG9ja2VkVXNlcnNTZWFyY2hGbiA9IHVzZUNhbGxiYWNrKChxdWVyeVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVJlZ0V4cCA9IG5ldyBSZWdFeHAocXVlcnlTdHJpbmcsICdpJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYmxvY2tlZFVzZXJzLmZpbHRlcigoYmxvY2tlZFVzZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBibG9ja2VkVXNlci5tYXRjaChxdWVyeVJlZ0V4cCk7XG4gICAgICAgIH0pKTtcbiAgICB9LCBbYmxvY2tlZFVzZXJzXSk7XG4gICAgY29uc3QgeyBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMgfSA9IHVzZVNlYXJjaCh7XG4gICAgICAgIHNlYXJjaEZuOiBibG9ja2VkVXNlcnNTZWFyY2hGbkZyb21Qcm9wcyA/PyBibG9ja2VkVXNlcnNTZWFyY2hGbixcbiAgICAgICAgZGVib3VuY2VJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCxcbiAgICAgICAgc2VhcmNoUXVlcnksXG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goU2VhcmNoUmVzdWx0cywgeyBFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudDogRW1wdHlQYXJ0aWNpcGFudFNlYXJjaExpc3QsIExvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IsIHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzczogc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzOiBzZWFyY2hRdWVyeSA/IHNlYXJjaFJlc3VsdHMgOiBibG9ja2VkVXNlcnMsIFNlYXJjaFJlc3VsdExpc3Q6IEJsb2NrZWRVc2VyTGlzdGluZyB9KSk7XG59O1xuY29uc3QgVG9nZ2xlQnV0dG9uJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIGpzeChJY29uQnV0dG9uLCB7IGVuYWJsZWQ6IHByb3BzLm1lbnVTaG93biwgaWNvbjogXCJmaWx0ZXJcIiwgcmVmOiByZWYgfSk7XG59KTtcblxuY29uc3QgQ2FsbFByZXZpZXcgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZSwgc3R5bGUgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsVGh1bWJuYWlsIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHRodW1ibmFpbCA9IHVzZUNhbGxUaHVtYm5haWwoKTtcbiAgICBjb25zdCBbaW1hZ2VSZWYsIHNldEltYWdlUmVmXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaW1hZ2VSZWYgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLmJpbmRDYWxsVGh1bWJuYWlsRWxlbWVudChpbWFnZVJlZik7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW2ltYWdlUmVmLCBjYWxsXSk7XG4gICAgaWYgKCF0aHVtYm5haWwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4KFwiaW1nXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtcHJldmlldycsIGNsYXNzTmFtZSksIHN0eWxlOiBzdHlsZSwgYWx0OiBcIkNhbGwgUHJldmlldyBUaHVtYm5haWxcIiwgcmVmOiBzZXRJbWFnZVJlZiB9KSk7XG59O1xuXG5jb25zdCBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciA9ICh7IGNhbGxSZWNvcmRpbmdzLCBvblJlZnJlc2gsIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGl0bGVcIiwgY2hpbGRyZW46IFtqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IHQoJ0NhbGwgUmVjb3JkaW5ncycpIH0pLCBjYWxsUmVjb3JkaW5ncy5sZW5ndGggPyBqc3hzKFwic3BhblwiLCB7IGNoaWxkcmVuOiBbXCIoXCIsIGNhbGxSZWNvcmRpbmdzLmxlbmd0aCwgXCIpXCJdIH0pIDogbnVsbF0gfSksIG9uUmVmcmVzaCAmJiAoanN4KEljb25CdXR0b24sIHsgaWNvbjogXCJyZWZyZXNoXCIsIHRpdGxlOiB0KCdSZWZyZXNoJyksIG9uQ2xpY2s6IG9uUmVmcmVzaCB9KSldIH0pKTtcbn07XG5cbmNvbnN0IGRhdGVGb3JtYXQgPSAoZGF0ZSkgPT4ge1xuICAgIGNvbnN0IGZvcm1hdCA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIHJldHVybiBmb3JtYXQudG9UaW1lU3RyaW5nKCkuc3BsaXQoJyAnKVswXTtcbn07XG5jb25zdCBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0gPSAoeyByZWNvcmRpbmcsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2l0ZW1cIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZmlsZW5hbWVcIiwgY2hpbGRyZW46IHJlY29yZGluZy5maWxlbmFtZSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IGRhdGVGb3JtYXQocmVjb3JkaW5nLnN0YXJ0X3RpbWUpIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGltZVwiLCBjaGlsZHJlbjogZGF0ZUZvcm1hdChyZWNvcmRpbmcuZW5kX3RpbWUpIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZG93bmxvYWRcIiwgY2hpbGRyZW46IGpzeChcImFcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdC1pdGVtX19hY3Rpb24tYnV0dG9uJywgJ3N0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdC1pdGVtX19hY3Rpb24tYnV0dG9uLS1kb3dubG9hZCcpLCByb2xlOiBcImJ1dHRvblwiLCBocmVmOiByZWNvcmRpbmcudXJsLCBkb3dubG9hZDogcmVjb3JkaW5nLmZpbGVuYW1lLCB0aXRsZTogXCJEb3dubG9hZCB0aGUgcmVjb3JkaW5nXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcImRvd25sb2FkXCIgfSkgfSkgfSldIH0pKTtcbn07XG5cbmNvbnN0IEVtcHR5Q2FsbFJlY29yZGluZ0xpc3RpbmcgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZyBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLWVtcHR5XCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZy0taWNvbi1lbXB0eVwiIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZy0tdGV4dC1lbXB0eVwiLCBjaGlsZHJlbjogXCJObyByZWNvcmRpbmdzIGF2YWlsYWJsZVwiIH0pXSB9KSk7XG59O1xuXG5jb25zdCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcgPSAoeyBjYWxsUmVjb3JkaW5ncywgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2NhbGxSZWNvcmRpbmdzLm1hcCgocmVjb3JkaW5nKSA9PiAoanN4KENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgeyByZWNvcmRpbmc6IHJlY29yZGluZyB9LCByZWNvcmRpbmcuZmlsZW5hbWUpKSksIGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7IHRleHQ6IFwiUmVjb3JkaW5nIGdldHRpbmcgcmVhZHlcIiB9KV0gfSkpO1xufTtcblxuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3QgPSAoeyBjYWxsUmVjb3JkaW5ncywgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXI6IENhbGxSZWNvcmRpbmdMaXN0SGVhZGVyJDEgPSBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciwgQ2FsbFJlY29yZGluZ0xpc3RJdGVtOiBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0kMSA9IENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgRW1wdHlDYWxsUmVjb3JkaW5nTGlzdCA9IEVtcHR5Q2FsbFJlY29yZGluZ0xpc3RpbmcsIGxvYWRpbmcsIExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdCA9IExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdGluZywgb25SZWZyZXNoLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdFwiLCBjaGlsZHJlbjogW2pzeChDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciQxLCB7IGNhbGxSZWNvcmRpbmdzOiBjYWxsUmVjb3JkaW5ncywgb25SZWZyZXNoOiBvblJlZnJlc2ggfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmdcIiwgY2hpbGRyZW46IGxvYWRpbmcgPyAoanN4KExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdCwgeyBjYWxsUmVjb3JkaW5nczogY2FsbFJlY29yZGluZ3MgfSkpIDogY2FsbFJlY29yZGluZ3MubGVuZ3RoID8gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RcIiwgY2hpbGRyZW46IGpzeHMoXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2l0ZW1cIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19maWxlbmFtZVwiLCBjaGlsZHJlbjogXCJOYW1lXCIgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IFwiU3RhcnQgdGltZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBcIkVuZCB0aW1lXCIgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2Rvd25sb2FkXCIgfSldIH0pIH0pLCBqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RcIiwgY2hpbGRyZW46IGNhbGxSZWNvcmRpbmdzLm1hcCgocmVjb3JkaW5nKSA9PiAoanN4KENhbGxSZWNvcmRpbmdMaXN0SXRlbSQxLCB7IHJlY29yZGluZzogcmVjb3JkaW5nIH0sIHJlY29yZGluZy5maWxlbmFtZSkpKSB9KV0gfSkpIDogKGpzeChFbXB0eUNhbGxSZWNvcmRpbmdMaXN0LCB7fSkpIH0pXSB9KSk7XG59O1xuXG5jb25zdCBOb2lzZUNhbmNlbGxhdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuLyoqXG4gKiBFeHBvc2VzIHRoZSBOb2lzZUNhbmNlbGxhdGlvbiBBUEkuXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdXNlZCBvdXRzaWRlIDxOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyIC8+LlxuICovXG5jb25zdCB1c2VOb2lzZUNhbmNlbGxhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChOb2lzZUNhbmNlbGxhdGlvbkNvbnRleHQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZU5vaXNlQ2FuY2VsbGF0aW9uIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyJyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufTtcbmNvbnN0IE5vaXNlQ2FuY2VsbGF0aW9uUHJvdmlkZXIgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBub2lzZUNhbmNlbGxhdGlvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxTZXR0aW5ncywgdXNlSGFzUGVybWlzc2lvbnMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBub2lzZUNhbmNlbGxhdGlvbkFsbG93ZWQgPSAhIShzZXR0aW5ncyAmJlxuICAgICAgICBzZXR0aW5ncy5hdWRpby5ub2lzZV9jYW5jZWxsYXRpb24gJiZcbiAgICAgICAgc2V0dGluZ3MuYXVkaW8ubm9pc2VfY2FuY2VsbGF0aW9uLm1vZGUgIT09XG4gICAgICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uRElTQUJMRUQpO1xuICAgIGNvbnN0IGhhc0NhcGFiaWxpdHkgPSB1c2VIYXNQZXJtaXNzaW9ucyhPd25DYXBhYmlsaXR5LkVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT04pO1xuICAgIGNvbnN0IFtpc1N1cHBvcnRlZEJ5QnJvd3Nlciwgc2V0SXNTdXBwb3J0ZWRCeUJyb3dzZXJdID0gdXNlU3RhdGUodW5kZWZpbmVkKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBub2lzZUNhbmNlbGxhdGlvbi5pc1N1cHBvcnRlZCgpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBzZXRJc1N1cHBvcnRlZEJ5QnJvd3NlcihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgLnRoZW4oKF9pc1N1cHBvcnRlZEJ5QnJvd3NlcikgPT4gc2V0SXNTdXBwb3J0ZWRCeUJyb3dzZXIoX2lzU3VwcG9ydGVkQnlCcm93c2VyKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgQ2FuJ3QgZGV0ZXJtaW5lIGlmIG5vaXNlIGNhbmNlbGxhdGlvbiBpcyBzdXBwb3J0ZWRgLCBlcnIpKTtcbiAgICAgICAgfVxuICAgIH0sIFtub2lzZUNhbmNlbGxhdGlvbl0pO1xuICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gaXNTdXBwb3J0ZWRCeUJyb3dzZXIgJiYgaGFzQ2FwYWJpbGl0eSAmJiBub2lzZUNhbmNlbGxhdGlvbkFsbG93ZWQ7XG4gICAgY29uc3QgW2lzRW5hYmxlZCwgc2V0SXNFbmFibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBkZWluaXQgPSB1c2VSZWYoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWlzU3VwcG9ydGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG5vaXNlQ2FuY2VsbGF0aW9uLm9uKCdjaGFuZ2UnLCAodikgPT4gc2V0SXNFbmFibGVkKHYpKTtcbiAgICAgICAgY29uc3QgaW5pdCA9IChkZWluaXQuY3VycmVudCB8fCBQcm9taXNlLnJlc29sdmUoKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IG5vaXNlQ2FuY2VsbGF0aW9uLmluaXQoKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGNhbGwubWljcm9waG9uZS5lbmFibGVOb2lzZUNhbmNlbGxhdGlvbihub2lzZUNhbmNlbGxhdGlvbikpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgQ2FuJ3QgaW5pdGlhbGl6ZSBub2lzZSBzdXBwcmVzc2lvbmAsIGVycikpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZGVpbml0LmN1cnJlbnQgPSBpbml0XG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gY2FsbC5taWNyb3Bob25lLmRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbigpKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IG5vaXNlQ2FuY2VsbGF0aW9uLmRpc3Bvc2UoKSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwgaXNTdXBwb3J0ZWQsIG5vaXNlQ2FuY2VsbGF0aW9uXSk7XG4gICAgcmV0dXJuIChqc3goTm9pc2VDYW5jZWxsYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7XG4gICAgICAgICAgICBpc1N1cHBvcnRlZCxcbiAgICAgICAgICAgIGlzRW5hYmxlZCxcbiAgICAgICAgICAgIHNldEVuYWJsZWQ6IChlbmFibGVkT3JTZXR0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW5vaXNlQ2FuY2VsbGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZW5hYmxlID0gdHlwZW9mIGVuYWJsZWRPclNldHRlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGVuYWJsZWRPclNldHRlcihpc0VuYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIDogZW5hYmxlZE9yU2V0dGVyO1xuICAgICAgICAgICAgICAgIGlmIChlbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24uZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFJpbmdpbmdDYWxsQ29udHJvbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxDYWxsaW5nU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgY2FsbENhbGxpbmdTdGF0ZSA9IHVzZUNhbGxDYWxsaW5nU3RhdGUoKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGJ1dHRvbnNEaXNhYmxlZCA9IGNhbGxDYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVuZGluZy1jYWxsLWNvbnRyb2xzXCIsIGNoaWxkcmVuOiBjYWxsLmlzQ3JlYXRlZEJ5TWUgPyAoanN4KENhbmNlbENhbGxCdXR0b24sIHsgZGlzYWJsZWQ6IGJ1dHRvbnNEaXNhYmxlZCB9KSkgOiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChBY2NlcHRDYWxsQnV0dG9uLCB7IGRpc2FibGVkOiBidXR0b25zRGlzYWJsZWQgfSksIGpzeChDYW5jZWxDYWxsQnV0dG9uLCB7IG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IGNhbGwuaXNDcmVhdGVkQnlNZSA/ICdjYW5jZWwnIDogJ2RlY2xpbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbC5sZWF2ZSh7IHJlamVjdDogdHJ1ZSwgcmVhc29uIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBkaXNhYmxlZDogYnV0dG9uc0Rpc2FibGVkIH0pXSB9KSkgfSkpO1xufTtcblxuY29uc3QgQ0FMTElOR19TVEFURV9UT19MQUJFTCA9IHtcbiAgICBbQ2FsbGluZ1N0YXRlLkpPSU5JTkddOiAnSm9pbmluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SSU5HSU5HXTogJ1JpbmdpbmcnLFxuICAgIFtDYWxsaW5nU3RhdGUuTUlHUkFUSU5HXTogJ01pZ3JhdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkddOiAnUmUtY29ubmVjdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEXTogJ0ZhaWxlZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5PRkZMSU5FXTogJ05vIGludGVybmV0IGNvbm5lY3Rpb24nLFxuICAgIFtDYWxsaW5nU3RhdGUuSURMRV06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuVU5LTk9XTl06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuSk9JTkVEXTogJ0pvaW5lZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5MRUZUXTogJ0xlZnQgY2FsbCcsXG59O1xuY29uc3QgUmluZ2luZ0NhbGwgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGluY2x1ZGVTZWxmID0gZmFsc2UsIHRvdGFsTWVtYmVyc1RvU2hvdyA9IDMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlLCB1c2VDYWxsTWVtYmVycyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4gICAgY29uc3QgbWVtYmVycyA9IHVzZUNhbGxNZW1iZXJzKCk7XG4gICAgY29uc3QgY29ubmVjdGVkVXNlciA9IHVzZUNvbm5lY3RlZFVzZXIoKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIHRha2UgdGhlIGZpcnN0IE4gbWVtYmVycyB0byBzaG93IHRoZWlyIGF2YXRhcnNcbiAgICBjb25zdCBtZW1iZXJzVG9TaG93ID0gKG1lbWJlcnMgfHwgW10pXG4gICAgICAgIC5zbGljZSgwLCB0b3RhbE1lbWJlcnNUb1Nob3cpXG4gICAgICAgIC5tYXAoKHsgdXNlciB9KSA9PiB1c2VyKVxuICAgICAgICAuZmlsdGVyKCh1c2VyKSA9PiB1c2VyLmlkICE9PSBjb25uZWN0ZWRVc2VyPy5pZCB8fCBpbmNsdWRlU2VsZik7XG4gICAgaWYgKGluY2x1ZGVTZWxmICYmXG4gICAgICAgICFtZW1iZXJzVG9TaG93LmZpbmQoKHVzZXIpID0+IHVzZXIuaWQgPT09IGNvbm5lY3RlZFVzZXI/LmlkKSkge1xuICAgICAgICAvLyBpZiB0aGUgY3VycmVudCB1c2VyIGlzIG5vdCBpbiB0aGUgaW5pdGlhbCBiYXRjaCBvZiBtZW1iZXJzLFxuICAgICAgICAvLyByZXBsYWNlIHRoZSBmaXJzdCBpdGVtIGluIG1lbWJlcnNUb1Nob3cgYXJyYXkgd2l0aCB0aGUgY3VycmVudCB1c2VyXG4gICAgICAgIGNvbnN0IHNlbGYgPSBtZW1iZXJzLmZpbmQoKHsgdXNlciB9KSA9PiB1c2VyLmlkID09PSBjb25uZWN0ZWRVc2VyPy5pZCk7XG4gICAgICAgIGlmIChzZWxmKSB7XG4gICAgICAgICAgICBtZW1iZXJzVG9TaG93LnNwbGljZSgwLCAxLCBzZWxmLnVzZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZUxhYmVsID0gQ0FMTElOR19TVEFURV9UT19MQUJFTFtjYWxsaW5nU3RhdGVdO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcGFuZWwgc3RyLXZpZGVvX19jYWxsLXBhbmVsLS1yaW5naW5nXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1wYW5lbF9fbWVtYmVycy1saXN0XCIsIGNoaWxkcmVuOiBtZW1iZXJzVG9TaG93Lm1hcCgodXNlcikgPT4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19tZW1iZXItYm94XCIsIGNoaWxkcmVuOiBbanN4KEF2YXRhciwgeyBuYW1lOiB1c2VyLm5hbWUsIGltYWdlU3JjOiB1c2VyLmltYWdlIH0pLCB1c2VyLm5hbWUgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX21lbWJlcl9kZXRhaWxzXCIsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVtYmVyX25hbWVcIiwgY2hpbGRyZW46IHVzZXIubmFtZSB9KSB9KSldIH0sIHVzZXIuaWQpKSkgfSksIGNhbGxpbmdTdGF0ZUxhYmVsICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19jYWxsaW5nLXN0YXRlLWxhYmVsXCIsIGNoaWxkcmVuOiB0KGNhbGxpbmdTdGF0ZUxhYmVsKSB9KSksIFtDYWxsaW5nU3RhdGUuUklOR0lORywgQ2FsbGluZ1N0YXRlLkpPSU5JTkddLmluY2x1ZGVzKGNhbGxpbmdTdGF0ZSkgJiYgKGpzeChSaW5naW5nQ2FsbENvbnRyb2xzLCB7fSkpXSB9KSk7XG59O1xuXG5jb25zdCBieU5hbWVPcklkID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPCBiLm5hbWUpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPiBiLm5hbWUpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGlmIChhLmlkIDwgYi5pZClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhLmlkID4gYi5pZClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VMb2NhbFBhcnRpY2lwYW50LCB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBsb2NhbFBhcnRpY2lwYW50ID0gdXNlTG9jYWxQYXJ0aWNpcGFudCgpO1xuICAgIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtwZXJtaXNzaW9uUmVxdWVzdHMsIHNldFBlcm1pc3Npb25SZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgY2FuVXBkYXRlQ2FsbFBlcm1pc3Npb25zID0gdXNlSGFzUGVybWlzc2lvbnMoT3duQ2FwYWJpbGl0eS5VUERBVEVfQ0FMTF9QRVJNSVNTSU9OUyk7XG4gICAgY29uc3QgbG9jYWxVc2VySWQgPSBsb2NhbFBhcnRpY2lwYW50Py51c2VySWQ7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFjYW5VcGRhdGVDYWxsUGVybWlzc2lvbnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBjYWxsLm9uKCdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnVzZXIuaWQgIT09IGxvY2FsVXNlcklkKSB7XG4gICAgICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gWy4uLnJlcXVlc3RzLCBldmVudF0uc29ydCgoYSwgYikgPT4gYnlOYW1lT3JJZChhLnVzZXIsIGIudXNlcikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW2NhbGwsIGNhblVwZGF0ZUNhbGxQZXJtaXNzaW9ucywgbG9jYWxVc2VySWRdKTtcbiAgICBjb25zdCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uID0gKHJlcXVlc3QsIHR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgcGVybWlzc2lvbnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdncmFudCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LmdyYW50UGVybWlzc2lvbnModXNlci5pZCwgcGVybWlzc2lvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZXZva2UnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5yZXZva2VQZXJtaXNzaW9ucyh1c2VyLmlkLCBwZXJtaXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gcmVxdWVzdHMuZmlsdGVyKChyKSA9PiByICE9PSByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgICAgICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsXG4gICAgfSk7XG4gICAgLy8gZG9uJ3QgcmVuZGVyIGFueXRoaW5nIGlmIHRoZXJlIGFyZSBubyBwZXJtaXNzaW9uIHJlcXVlc3RzXG4gICAgaWYgKHBlcm1pc3Npb25SZXF1ZXN0cy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHNcIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0c19fbm90aWZpY2F0aW9uXCIsIGNoaWxkcmVuOiBbanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RzX19ub3RpZmljYXRpb25fX21lc3NhZ2VcIiwgY2hpbGRyZW46IFtwZXJtaXNzaW9uUmVxdWVzdHMubGVuZ3RoLCBcIiBwZW5kaW5nIHBlcm1pc3Npb24gcmVxdWVzdHNcIl0gfSksIGpzeChCdXR0b24sIHsgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkKChlKSA9PiAhZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogZXhwYW5kZWQgPyAnSGlkZSByZXF1ZXN0cycgOiAnU2hvdyByZXF1ZXN0cycgfSldIH0pLCBleHBhbmRlZCAmJiAoanN4KFBlcm1pc3Npb25SZXF1ZXN0TGlzdCwgeyByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSwgcGVybWlzc2lvblJlcXVlc3RzOiBwZXJtaXNzaW9uUmVxdWVzdHMsIGhhbmRsZVVwZGF0ZVBlcm1pc3Npb246IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24gfSkpXSB9KSk7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RMaXN0ID0gZm9yd2FyZFJlZihmdW5jdGlvbiBQZXJtaXNzaW9uUmVxdWVzdExpc3QocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvblJlcXVlc3RzLCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHMtbGlzdFwiLCByZWY6IHJlZiwgLi4ucmVzdCwgY2hpbGRyZW46IHBlcm1pc3Npb25SZXF1ZXN0cy5tYXAoKHJlcXVlc3QsIHJlcUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXIsIHBlcm1pc3Npb25zIH0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgcmV0dXJuIChqc3goRnJhZ21lbnQkMSwgeyBjaGlsZHJlbjogcGVybWlzc2lvbnMubWFwKChwZXJtaXNzaW9uKSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdFwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fbWVzc2FnZVwiLCBjaGlsZHJlbjogbWVzc2FnZUZvclBlcm1pc3Npb24odXNlci5uYW1lIHx8IHVzZXIuaWQsIHBlcm1pc3Npb24sIHQpIH0pLCBqc3goQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uLS1hbGxvd1wiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdncmFudCcpLCBjaGlsZHJlbjogdCgnQWxsb3cnKSB9KSwganN4KEJ1dHRvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RfX2J1dHRvbi0tcmVqZWN0XCIsIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24ocmVxdWVzdCwgJ3Jldm9rZScpLCBjaGlsZHJlbjogdCgnUmV2b2tlJykgfSksIGpzeChCdXR0b24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0X19idXR0b24tLXJlamVjdFwiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdkaXNtaXNzJyksIGNoaWxkcmVuOiB0KCdEaXNtaXNzJykgfSldIH0sIHBlcm1pc3Npb24pKSkgfSwgYCR7dXNlci5pZH0vJHtyZXFJbmRleH1gKSk7XG4gICAgICAgIH0pIH0pKTtcbn0pO1xuY29uc3QgQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uJywgY2xhc3NOYW1lKSwgLi4ucmVzdCB9KSk7XG59O1xuY29uc3QgbWVzc2FnZUZvclBlcm1pc3Npb24gPSAodXNlck5hbWUsIHBlcm1pc3Npb24sIHQpID0+IHtcbiAgICBzd2l0Y2ggKHBlcm1pc3Npb24pIHtcbiAgICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU86XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzcGVhaycsIHsgdXNlck5hbWUgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPOlxuICAgICAgICAgICAgcmV0dXJuIHQoJ3t7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc2hhcmUgdGhlaXIgY2FtZXJhJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRTpcbiAgICAgICAgICAgIHJldHVybiB0KCd7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19Jywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb24sXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5jb25zdCBTdHJlYW1UaGVtZSA9ICh7IGFzOiBDb21wb25lbnQgPSAnZGl2JywgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KENvbXBvbmVudCwgeyAuLi5wcm9wcywgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW8nLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgRGVmYXVsdERpc2FibGVkVmlkZW9QcmV2aWV3ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0cl92aWRlb19fdmlkZW8tcHJldmlld19fZGlzYWJsZWQtdmlkZW8tcHJldmlld1wiLCBjaGlsZHJlbjogdCgnVmlkZW8gaXMgZGlzYWJsZWQnKSB9KSk7XG59O1xuY29uc3QgRGVmYXVsdE5vQ2FtZXJhUHJldmlldyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHJfdmlkZW9fX3ZpZGVvLXByZXZpZXdfX25vLWNhbWVyYS1wcmV2aWV3XCIsIGNoaWxkcmVuOiB0KCdObyBjYW1lcmEgZm91bmQnKSB9KSk7XG59O1xuY29uc3QgVmlkZW9QcmV2aWV3ID0gKHsgY2xhc3NOYW1lLCBtaXJyb3IgPSB0cnVlLCBEaXNhYmxlZFZpZGVvUHJldmlldyA9IERlZmF1bHREaXNhYmxlZFZpZGVvUHJldmlldywgTm9DYW1lcmFQcmV2aWV3ID0gRGVmYXVsdE5vQ2FtZXJhUHJldmlldywgU3RhcnRpbmdDYW1lcmFQcmV2aWV3ID0gTG9hZGluZ0luZGljYXRvciwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlQ2FtZXJhU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBkZXZpY2VzLCBzdGF0dXMsIGlzTXV0ZSwgbWVkaWFTdHJlYW0gfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgbGV0IGNvbnRlbnRzO1xuICAgIGlmIChpc011dGUgJiYgZGV2aWNlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRlbnRzID0ganN4KE5vQ2FtZXJhUHJldmlldywge30pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgICBjb25zdCBsb2FkaW5nID0gIW1lZGlhU3RyZWFtO1xuICAgICAgICBjb250ZW50cyA9IChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbbWVkaWFTdHJlYW0gJiYgKGpzeChCYXNlVmlkZW8sIHsgc3RyZWFtOiBtZWRpYVN0cmVhbSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3ZpZGVvLXByZXZpZXcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LS1taXJyb3InOiBtaXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LS1sb2FkaW5nJzogbG9hZGluZyxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSkpLCBsb2FkaW5nICYmIGpzeChTdGFydGluZ0NhbWVyYVByZXZpZXcsIHt9KV0gfSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGVudHMgPSBqc3goRGlzYWJsZWRWaWRlb1ByZXZpZXcsIHt9KTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdmlkZW8tcHJldmlldy1jb250YWluZXInLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY29udGVudHMgfSkpO1xufTtcblxuY29uc3QgVG9nZ2xlQnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZWxsaXBzaXNcIiwgcmVmOiByZWYgfSk7XG59KTtcbmNvbnN0IERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXkgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBzdG9wU2NyZWVuU2hhcmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnNjcmVlblNoYXJlLmRpc2FibGUoKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NjcmVlbi1zaGFyZS1vdmVybGF5XCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJzY3JlZW4tc2hhcmUtb2ZmXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zY3JlZW4tc2hhcmUtb3ZlcmxheV9fdGl0bGVcIiwgY2hpbGRyZW46IHQoJ1lvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlbicpIH0pLCBqc3hzKFwiYnV0dG9uXCIsIHsgb25DbGljazogc3RvcFNjcmVlblNoYXJlLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zY3JlZW4tc2hhcmUtb3ZlcmxheV9fYnV0dG9uXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJjbG9zZVwiIH0pLCBcIiBcIiwgdCgnU3RvcCBTY3JlZW4gU2hhcmluZycpXSB9KV0gfSkpO1xufTtcbmNvbnN0IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSA9ICh7IGluZGljYXRvcnNWaXNpYmxlID0gdHJ1ZSwgbWVudVBsYWNlbWVudCA9ICdib3R0b20tc3RhcnQnLCBzaG93TWVudUJ1dHRvbiA9IHRydWUsIFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51OiBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSQxID0gUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUsIH0pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBpc1NjcmVlblNoYXJpbmcgPSBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudCk7XG4gICAgaWYgKHBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudCAmJlxuICAgICAgICBpc1NjcmVlblNoYXJpbmcgJiZcbiAgICAgICAgdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaycpIHtcbiAgICAgICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXksIHt9KSwganN4KFBhcnRpY2lwYW50RGV0YWlscywgeyBpbmRpY2F0b3JzVmlzaWJsZTogaW5kaWNhdG9yc1Zpc2libGUgfSldIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbc2hvd01lbnVCdXR0b24gJiYgKGpzeChNZW51VG9nZ2xlLCB7IHN0cmF0ZWd5OiBcImZpeGVkXCIsIHBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24sIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUkMSwge30pIH0pKSwganN4KFJlYWN0aW9uLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSwganN4KFBhcnRpY2lwYW50RGV0YWlscywgeyBpbmRpY2F0b3JzVmlzaWJsZTogaW5kaWNhdG9yc1Zpc2libGUgfSldIH0pKTtcbn07XG5jb25zdCBQYXJ0aWNpcGFudERldGFpbHMgPSAoeyBpbmRpY2F0b3JzVmlzaWJsZSA9IHRydWUsIH0pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgeyBpc0xvY2FsUGFydGljaXBhbnQsIGNvbm5lY3Rpb25RdWFsaXR5LCBwaW4sIHNlc3Npb25JZCwgbmFtZSwgdXNlcklkLCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nID0gISFjb25uZWN0aW9uUXVhbGl0eSAmJlxuICAgICAgICBTZnVNb2RlbHMuQ29ubmVjdGlvblF1YWxpdHlbY29ubmVjdGlvblF1YWxpdHldLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNWaWRlb1RyYWNrID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGNhblVucGluID0gISFwaW4gJiYgcGluLmlzTG9jYWxQaW47XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc1wiLCBjaGlsZHJlbjoganN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lXCIsIGNoaWxkcmVuOiBbbmFtZSB8fCB1c2VySWQsIGluZGljYXRvcnNWaXNpYmxlICYmICFoYXNBdWRpb1RyYWNrICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tYXVkaW8tbXV0ZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmICFoYXNWaWRlb1RyYWNrICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tdmlkZW8tbXV0ZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmIGNhblVucGluICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIG1vbnN0cm9zaXR5IG9uY2Ugd2UgaGF2ZSBhIHByb3BlciBkZXNpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgIGpzeChcInNwYW5cIiwgeyB0aXRsZTogdCgnVW5waW4nKSwgb25DbGljazogKCkgPT4gY2FsbD8udW5waW4oc2Vzc2lvbklkKSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tcGlubmVkXCIgfSkpLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiBqc3goU3BlZWNoSW5kaWNhdG9yLCB7fSldIH0pIH0pLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiAoanN4KE5vdGlmaWNhdGlvbiwgeyBpc1Zpc2libGU6IGlzTG9jYWxQYXJ0aWNpcGFudCAmJlxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uUXVhbGl0eSA9PT0gU2Z1TW9kZWxzLkNvbm5lY3Rpb25RdWFsaXR5LlBPT1IsIG1lc3NhZ2U6IHQoJ1Bvb3IgY29ubmVjdGlvbiBxdWFsaXR5JyksIGNoaWxkcmVuOiBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX2Nvbm5lY3Rpb24tcXVhbGl0eScsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX2Nvbm5lY3Rpb24tcXVhbGl0eS0tJHtjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nfWApLCB0aXRsZTogY29ubmVjdGlvblF1YWxpdHlBc1N0cmluZyB9KSkgfSkpXSB9KSk7XG59O1xuY29uc3QgU3BlZWNoSW5kaWNhdG9yID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IGlzU3BlYWtpbmcsIGlzRG9taW5hbnRTcGVha2VyIH0gPSBwYXJ0aWNpcGFudDtcbiAgICByZXR1cm4gKGpzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3InLCBpc1NwZWFraW5nICYmICdzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3ItLXNwZWFraW5nJywgaXNEb21pbmFudFNwZWFrZXIgJiYgJ3N0ci12aWRlb19fc3BlZWNoLWluZGljYXRvci0tZG9taW5hbnQnKSwgY2hpbGRyZW46IFtqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlZWNoLWluZGljYXRvcl9fYmFyXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVlY2gtaW5kaWNhdG9yX19iYXJcIiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3JfX2JhclwiIH0pXSB9KSk7XG59O1xuXG5jb25zdCBQYXJ0aWNpcGFudFZpZXcgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFBhcnRpY2lwYW50Vmlldyh7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgPSAndmlkZW9UcmFjaycsIG1pcnJvciwgbXV0ZUF1ZGlvLCByZWZzOiB7IHNldFZpZGVvRWxlbWVudCwgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQgfSA9IHt9LCBjbGFzc05hbWUsIFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUkgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIH0sIHJlZikge1xuICAgIGNvbnN0IHsgaXNMb2NhbFBhcnRpY2lwYW50LCBpc1NwZWFraW5nLCBpc0RvbWluYW50U3BlYWtlciwgc2Vzc2lvbklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICBjb25zdCBoYXNBdWRpb1RyYWNrID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1ZpZGVvVHJhY2sgPSBoYXNWaWRlbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgW3RyYWNrZWRFbGVtZW50LCBzZXRUcmFja2VkRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29udGV4dFZpZGVvRWxlbWVudCwgc2V0Q29udGV4dFZpZGVvRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LCBzZXRDb250ZXh0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gVE9ETzogYWxsb3cgdG8gcGFzcyBjdXN0b20gVmlld3BvcnRUcmFja2VyIGluc3RhbmNlIGZyb20gcHJvcHNcbiAgICB1c2VUcmFja0VsZW1lbnRWaXNpYmlsaXR5KHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB0cmFja2VkRWxlbWVudCxcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgdXNlSW5jb21pbmdWaWRlb1NldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgaXNQYXJ0aWNpcGFudFZpZGVvRW5hYmxlZCB9ID0gdXNlSW5jb21pbmdWaWRlb1NldHRpbmdzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRWaWV3Q29udGV4dFZhbHVlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBwYXJ0aWNpcGFudCxcbiAgICAgICAgcGFydGljaXBhbnRWaWV3RWxlbWVudDogdHJhY2tlZEVsZW1lbnQsXG4gICAgICAgIHZpZGVvRWxlbWVudDogY29udGV4dFZpZGVvRWxlbWVudCxcbiAgICAgICAgdmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ6IGNvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCxcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgIH0pLCBbXG4gICAgICAgIGNvbnRleHRWaWRlb0VsZW1lbnQsXG4gICAgICAgIGNvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCxcbiAgICAgICAgcGFydGljaXBhbnQsXG4gICAgICAgIHRyYWNrZWRFbGVtZW50LFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgXSk7XG4gICAgY29uc3QgdmlkZW9SZWZzID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBzZXRWaWRlb0VsZW1lbnQ6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBzZXRWaWRlb0VsZW1lbnQ/LihlbGVtZW50KTtcbiAgICAgICAgICAgIHNldENvbnRleHRWaWRlb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50OiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ/LihlbGVtZW50KTtcbiAgICAgICAgICAgIHNldENvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICB9KSwgW3NldFZpZGVvRWxlbWVudCwgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnRdKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJwYXJ0aWNpcGFudC12aWV3XCIsIHJlZjogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGFwcGx5RWxlbWVudFRvUmVmKHJlZiwgZWxlbWVudCk7XG4gICAgICAgICAgICBzZXRUcmFja2VkRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXcnLCBpc0RvbWluYW50U3BlYWtlciAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1kb21pbmFudC1zcGVha2VyJywgaXNTcGVha2luZyAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1zcGVha2luZycsICFoYXNWaWRlb1RyYWNrICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLW5vLXZpZGVvJywgIWhhc0F1ZGlvVHJhY2sgJiYgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldy0tbm8tYXVkaW8nLCBjbGFzc05hbWUpLCBjaGlsZHJlbjoganN4cyhQYXJ0aWNpcGFudFZpZXdDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwYXJ0aWNpcGFudFZpZXdDb250ZXh0VmFsdWUsIGNoaWxkcmVuOiBbIWlzTG9jYWxQYXJ0aWNpcGFudCAmJiAhbXV0ZUF1ZGlvICYmIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbaGFzQXVkaW9UcmFjayAmJiAoanN4KEF1ZGlvLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiBcImF1ZGlvVHJhY2tcIiB9KSksIGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayAmJiAoanN4KEF1ZGlvLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiBcInNjcmVlblNoYXJlQXVkaW9UcmFja1wiIH0pKV0gfSkpLCBqc3goVmlkZW8kMSwgeyBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IHRyYWNrVHlwZSwgcmVmczogdmlkZW9SZWZzLCBlbmFibGVkOiBpc0xvY2FsUGFydGljaXBhbnQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrVHlwZSAhPT0gJ3ZpZGVvVHJhY2snIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BhcnRpY2lwYW50VmlkZW9FbmFibGVkKHBhcnRpY2lwYW50LnNlc3Npb25JZCksIG1pcnJvcjogbWlycm9yLCBhdXRvUGxheTogdHJ1ZSB9KSwgaXNDb21wb25lbnRUeXBlKFBhcnRpY2lwYW50Vmlld1VJKSA/IChqc3goUGFydGljaXBhbnRWaWV3VUksIHt9KSkgOiAoUGFydGljaXBhbnRWaWV3VUkpXSB9KSB9KSk7XG59KTtcblBhcnRpY2lwYW50Vmlldy5kaXNwbGF5TmFtZSA9ICdQYXJ0aWNpcGFudFZpZXcnO1xuXG4vLyByZS1leHBvcnRpbmcgdGhlIFN0cmVhbUNhbGxQcm92aWRlciBhcyBTdHJlYW1DYWxsXG5jb25zdCBTdHJlYW1DYWxsID0gU3RyZWFtQ2FsbFByb3ZpZGVyO1xuU3RyZWFtQ2FsbC5kaXNwbGF5TmFtZSA9ICdTdHJlYW1DYWxsJztcblxudmFyIEpvaW5pbmcgPSBcIkpvaW5pbmdcIjtcbnZhciBNaWMgPSBcIk1pY1wiO1xudmFyIFJpbmdpbmcgPSBcIlJpbmdpbmdcIjtcbnZhciBTcGVha2VycyA9IFwiU3BlYWtlcnNcIjtcbnZhciBWaWRlbyA9IFwiVmlkZW9cIjtcbnZhciBMaXZlID0gXCJMaXZlXCI7XG52YXIgUmVhY3Rpb25zID0gXCJSZWFjdGlvbnNcIjtcbnZhciBTdGF0aXN0aWNzID0gXCJTdGF0aXN0aWNzXCI7XG52YXIgSW52aXRlID0gXCJJbnZpdGVcIjtcbnZhciBKb2luID0gXCJKb2luXCI7XG52YXIgWW91ID0gXCJZb3VcIjtcbnZhciBNZSA9IFwiTWVcIjtcbnZhciBVbmtub3duID0gXCJVbmtub3duXCI7XG52YXIgRGVmYXVsdCA9IFwiRGVmYXVsdFwiO1xudmFyIFJlZnJlc2ggPSBcIlJlZnJlc2hcIjtcbnZhciBBbGxvdyA9IFwiQWxsb3dcIjtcbnZhciBSZXZva2UgPSBcIlJldm9rZVwiO1xudmFyIERpc21pc3MgPSBcIkRpc21pc3NcIjtcbnZhciBQaW5uZWQgPSBcIlBpbm5lZFwiO1xudmFyIFVucGluID0gXCJVbnBpblwiO1xudmFyIFBpbiA9IFwiUGluXCI7XG52YXIgQmxvY2sgPSBcIkJsb2NrXCI7XG52YXIgRW50ZXIgPSBcIkVudGVyXCI7XG52YXIgTGVhdmUgPSBcIkxlYXZlXCI7XG52YXIgUGFydGljaXBhbnRzID0gXCJQYXJ0aWNpcGFudHNcIjtcbnZhciBBbm9ueW1vdXMgPSBcIiwgYW5kICh7eyBjb3VudCB9fSkgYW5vbnltb3VzXCI7XG52YXIgZW4gPSB7XG5cdEpvaW5pbmc6IEpvaW5pbmcsXG5cdE1pYzogTWljLFxuXHRcIk5vIGludGVybmV0IGNvbm5lY3Rpb25cIjogXCJObyBpbnRlcm5ldCBjb25uZWN0aW9uXCIsXG5cdFwiUmUtY29ubmVjdGluZ1wiOiBcIlJlLWNvbm5lY3RpbmdcIixcblx0UmluZ2luZzogUmluZ2luZyxcblx0XCJTY3JlZW4gU2hhcmVcIjogXCJTY3JlZW4gU2hhcmVcIixcblx0XCJTZWxlY3QgYSBDYW1lcmFcIjogXCJTZWxlY3QgYSBDYW1lcmFcIixcblx0XCJTZWxlY3QgYSBNaWNcIjogXCJTZWxlY3QgYSBNaWNcIixcblx0XCJTZWxlY3QgU3BlYWtlcnNcIjogXCJTZWxlY3QgU3BlYWtlcnNcIixcblx0U3BlYWtlcnM6IFNwZWFrZXJzLFxuXHRWaWRlbzogVmlkZW8sXG5cdFwiWW91IGFyZSBtdXRlZC4gVW5tdXRlIHRvIHNwZWFrLlwiOiBcIllvdSBhcmUgbXV0ZWQuIFVubXV0ZSB0byBzcGVhay5cIixcblx0TGl2ZTogTGl2ZSxcblx0XCJZb3UgY2FuIG5vdyBzcGVhay5cIjogXCJZb3UgY2FuIG5vdyBzcGVhay5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc3BlYWsuXCI6IFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNwZWFrLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNwZWFrLlwiLFxuXHRcIllvdSBjYW4gbm93IHNoYXJlIHlvdXIgdmlkZW8uXCI6IFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgdmlkZW8uXCIsXG5cdFwiV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0b3AuLi5cIjogXCJXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RvcC4uLlwiLFxuXHRcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLlwiOiBcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLlwiLFxuXHRcIlJlY29yZCBjYWxsXCI6IFwiUmVjb3JkIGNhbGxcIixcblx0UmVhY3Rpb25zOiBSZWFjdGlvbnMsXG5cdFN0YXRpc3RpY3M6IFN0YXRpc3RpY3MsXG5cdFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uXCI6IFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uXCIsXG5cdFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHNjcmVlbi5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgc2NyZWVuLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLlwiLFxuXHRcIlNoYXJlIHNjcmVlblwiOiBcIlNoYXJlIHNjcmVlblwiLFxuXHRcIkluY29taW5nIENhbGwuLi5cIjogXCJJbmNvbWluZyBDYWxsLi4uXCIsXG5cdFwiQ2FsbGluZy4uLlwiOiBcIkNhbGxpbmcuLi5cIixcblx0XCJNdXRlIEFsbFwiOiBcIk11dGUgQWxsXCIsXG5cdEludml0ZTogSW52aXRlLFxuXHRKb2luOiBKb2luLFxuXHRZb3U6IFlvdSxcblx0TWU6IE1lLFxuXHRVbmtub3duOiBVbmtub3duLFxuXHRcIlRvZ2dsZSBkZXZpY2UgbWVudVwiOiBcIlRvZ2dsZSBkZXZpY2UgbWVudVwiLFxuXHREZWZhdWx0OiBEZWZhdWx0LFxuXHRcIkNhbGwgUmVjb3JkaW5nc1wiOiBcIkNhbGwgUmVjb3JkaW5nc1wiLFxuXHRSZWZyZXNoOiBSZWZyZXNoLFxuXHRcIkNoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9uc1wiOiBcIkNoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9uc1wiLFxuXHRcIlZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbVwiOiBcIlZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbVwiLFxuXHRcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlb1wiOiBcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlb1wiLFxuXHRcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciBhdWRpb1wiOiBcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciBhdWRpb1wiLFxuXHRcIllvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlblwiOiBcIllvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlblwiLFxuXHRcIlN0b3AgU2NyZWVuIFNoYXJpbmdcIjogXCJTdG9wIFNjcmVlbiBTaGFyaW5nXCIsXG5cdEFsbG93OiBBbGxvdyxcblx0UmV2b2tlOiBSZXZva2UsXG5cdERpc21pc3M6IERpc21pc3MsXG5cdFwiTWljcm9waG9uZSBvblwiOiBcIk1pY3JvcGhvbmUgb25cIixcblx0XCJNaWNyb3Bob25lIG9mZlwiOiBcIk1pY3JvcGhvbmUgb2ZmXCIsXG5cdFwiQ2FtZXJhIG9uXCI6IFwiQ2FtZXJhIG9uXCIsXG5cdFwiQ2FtZXJhIG9mZlwiOiBcIkNhbWVyYSBvZmZcIixcblx0XCJObyBjYW1lcmEgZm91bmRcIjogXCJObyBjYW1lcmEgZm91bmRcIixcblx0XCJWaWRlbyBpcyBkaXNhYmxlZFwiOiBcIlZpZGVvIGlzIGRpc2FibGVkXCIsXG5cdFBpbm5lZDogUGlubmVkLFxuXHRVbnBpbjogVW5waW4sXG5cdFBpbjogUGluLFxuXHRcIlBpbiBmb3IgZXZlcnlvbmVcIjogXCJQaW4gZm9yIGV2ZXJ5b25lXCIsXG5cdFwiVW5waW4gZm9yIGV2ZXJ5b25lXCI6IFwiVW5waW4gZm9yIGV2ZXJ5b25lXCIsXG5cdEJsb2NrOiBCbG9jayxcblx0XCJUdXJuIG9mZiB2aWRlb1wiOiBcIlR1cm4gb2ZmIHZpZGVvXCIsXG5cdFwiVHVybiBvZmYgc2NyZWVuIHNoYXJlXCI6IFwiVHVybiBvZmYgc2NyZWVuIHNoYXJlXCIsXG5cdFwiTXV0ZSBhdWRpb1wiOiBcIk11dGUgYXVkaW9cIixcblx0XCJNdXRlIHNjcmVlbiBzaGFyZSBhdWRpb1wiOiBcIk11dGUgc2NyZWVuIHNoYXJlIGF1ZGlvXCIsXG5cdFwiQWxsb3cgYXVkaW9cIjogXCJBbGxvdyBhdWRpb1wiLFxuXHRcIkFsbG93IHZpZGVvXCI6IFwiQWxsb3cgdmlkZW9cIixcblx0XCJBbGxvdyBzY3JlZW4gc2hhcmluZ1wiOiBcIkFsbG93IHNjcmVlbiBzaGFyaW5nXCIsXG5cdFwiRGlzYWJsZSBhdWRpb1wiOiBcIkRpc2FibGUgYXVkaW9cIixcblx0XCJEaXNhYmxlIHZpZGVvXCI6IFwiRGlzYWJsZSB2aWRlb1wiLFxuXHRcIkRpc2FibGUgc2NyZWVuIHNoYXJpbmdcIjogXCJEaXNhYmxlIHNjcmVlbiBzaGFyaW5nXCIsXG5cdEVudGVyOiBFbnRlcixcblx0TGVhdmU6IExlYXZlLFxuXHRcIkxlYXZlIGNhbGxcIjogXCJMZWF2ZSBjYWxsXCIsXG5cdFwiRW5kIGNhbGwgZm9yIGFsbFwiOiBcIkVuZCBjYWxsIGZvciBhbGxcIixcblx0XCJ7eyBkaXJlY3Rpb24gfX0gZnVsbHNjcmVlblwiOiBcInt7IGRpcmVjdGlvbiB9fSBmdWxsc2NyZWVuXCIsXG5cdFwie3sgZGlyZWN0aW9uIH19IHBpY3R1cmUtaW4tcGljdHVyZVwiOiBcInt7IGRpcmVjdGlvbiB9fSBwaWN0dXJlLWluLXBpY3R1cmVcIixcblx0XCJEb21pbmFudCBTcGVha2VyXCI6IFwiRG9taW5hbnQgU3BlYWtlclwiLFxuXHRcIlBvb3IgY29ubmVjdGlvbiBxdWFsaXR5XCI6IFwiUG9vciBjb25uZWN0aW9uIHF1YWxpdHkuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uXCIsXG5cdFBhcnRpY2lwYW50czogUGFydGljaXBhbnRzLFxuXHRBbm9ueW1vdXM6IEFub255bW91cyxcblx0XCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIjogXCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIixcblx0XCJQYXJ0aWNpcGFudHMgKHt7IG51bWJlck9mUGFydGljaXBhbnRzIH19KVwiOiBcIlBhcnRpY2lwYW50cyAoe3sgbnVtYmVyT2ZQYXJ0aWNpcGFudHMgfX0pXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgc2hhcmluZyB0aGVpciBzY3JlZW5cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyBzaGFyaW5nIHRoZWlyIHNjcmVlblwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc3BlYWtcIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNwZWFrXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzaGFyZSB0aGVpciBjYW1lcmFcIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNoYXJlIHRoZWlyIGNhbWVyYVwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gcHJlc2VudCB0aGVpciBzY3JlZW5cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19XCI6IFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19XCJcbn07XG5cbmNvbnN0IHRyYW5zbGF0aW9ucyA9IHsgZW4gfTtcblxuY29uc3QgU3RyZWFtVmlkZW8gPSAocHJvcHMpID0+IHtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1WaWRlb1Byb3ZpZGVyLCB7IHRyYW5zbGF0aW9uc092ZXJyaWRlczogdHJhbnNsYXRpb25zLCAuLi5wcm9wcyB9KSk7XG59O1xuU3RyZWFtVmlkZW8uZGlzcGxheU5hbWUgPSAnU3RyZWFtVmlkZW8nO1xuXG5jb25zdCB1c2VGaWx0ZXJlZFBhcnRpY2lwYW50cyA9ICh7IGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50ID0gZmFsc2UsIGZpbHRlclBhcnRpY2lwYW50cywgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRzLCB1c2VSZW1vdGVQYXJ0aWNpcGFudHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgYWxsUGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgcmVtb3RlUGFydGljaXBhbnRzID0gdXNlUmVtb3RlUGFydGljaXBhbnRzKCk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCB1bmZpbHRlcmVkUGFydGljaXBhbnRzID0gZXhjbHVkZUxvY2FsUGFydGljaXBhbnRcbiAgICAgICAgICAgID8gcmVtb3RlUGFydGljaXBhbnRzXG4gICAgICAgICAgICA6IGFsbFBhcnRpY2lwYW50cztcbiAgICAgICAgcmV0dXJuIGZpbHRlclBhcnRpY2lwYW50c1xuICAgICAgICAgICAgPyB1bmZpbHRlcmVkUGFydGljaXBhbnRzLmZpbHRlcigocGFydGljaXBhbnQpID0+IGZpbHRlclBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudCkpXG4gICAgICAgICAgICA6IHVuZmlsdGVyZWRQYXJ0aWNpcGFudHM7XG4gICAgfSwgW1xuICAgICAgICBhbGxQYXJ0aWNpcGFudHMsXG4gICAgICAgIHJlbW90ZVBhcnRpY2lwYW50cyxcbiAgICAgICAgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQsXG4gICAgICAgIGZpbHRlclBhcnRpY2lwYW50cyxcbiAgICBdKTtcbn07XG5jb25zdCB1c2VQYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0ID0gKGNhbGwpID0+IHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KHBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmVzZXRTb3J0UHJlc2V0KGNhbGwpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsXSk7XG59O1xuY29uc3QgdXNlU3BlYWtlckxheW91dFNvcnRQcmVzZXQgPSAoY2FsbCwgaXNPbmVPbk9uZUNhbGwpID0+IHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIGFsd2F5cyBzaG93IHRoZSByZW1vdGUgcGFydGljaXBhbnQgaW4gdGhlIHNwb3RsaWdodFxuICAgICAgICBpZiAoaXNPbmVPbk9uZUNhbGwpIHtcbiAgICAgICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KGNvbWJpbmVDb21wYXJhdG9ycyhzY3JlZW5TaGFyaW5nLCBsb2dnZWRJbikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoc3BlYWtlckxheW91dFNvcnRQcmVzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNldFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIGlzT25lT25PbmVDYWxsXSk7XG59O1xuY29uc3QgcmVzZXRTb3J0UHJlc2V0ID0gKGNhbGwpID0+IHtcbiAgICAvLyByZXNldCB0aGUgc29ydGluZyB0byB0aGUgZGVmYXVsdCBmb3IgdGhlIGNhbGwgdHlwZVxuICAgIGNvbnN0IGNhbGxDb25maWcgPSBDYWxsVHlwZXMuZ2V0KGNhbGwudHlwZSk7XG4gICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoY2FsbENvbmZpZy5vcHRpb25zLnNvcnRQYXJ0aWNpcGFudHNCeSB8fCBkZWZhdWx0U29ydFByZXNldCk7XG59O1xuY29uc3QgbG9nZ2VkSW4gPSAoYSwgYikgPT4ge1xuICAgIGlmIChhLmlzTG9jYWxQYXJ0aWNpcGFudClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKGIuaXNMb2NhbFBhcnRpY2lwYW50KVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBMaXZlc3RyZWFtTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZVJlbW90ZVBhcnRpY2lwYW50cywgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgW2N1cnJlbnRTcGVha2VyXSA9IHBhcnRpY2lwYW50cztcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgPSB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUoKTtcbiAgICBjb25zdCBwcmVzZW50ZXIgPSBoYXNPbmdvaW5nU2NyZWVuU2hhcmVcbiAgICAgICAgPyBwYXJ0aWNpcGFudHMuZmluZChoYXNTY3JlZW5TaGFyZSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdXNlUGFnaW5hdGVkTGF5b3V0U29ydFByZXNldChjYWxsKTtcbiAgICBjb25zdCBPdmVybGF5ID0gKGpzeChQYXJ0aWNpcGFudE92ZXJsYXksIHsgc2hvd1BhcnRpY2lwYW50Q291bnQ6IHByb3BzLnNob3dQYXJ0aWNpcGFudENvdW50LCBzaG93RHVyYXRpb246IHByb3BzLnNob3dEdXJhdGlvbiwgc2hvd0xpdmVCYWRnZTogcHJvcHMuc2hvd0xpdmVCYWRnZSwgc2hvd1NwZWFrZXJOYW1lOiBwcm9wcy5zaG93U3BlYWtlck5hbWUgfSkpO1xuICAgIGNvbnN0IHsgZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBGbG9hdGluZ1BhcnRpY2lwYW50T3ZlcmxheSA9IGhhc09uZ29pbmdTY3JlZW5TaGFyZSAmJiAoanN4KFBhcnRpY2lwYW50T3ZlcmxheVxuICAgIC8vIHRoZXNlIGVsZW1lbnRzIGFyZW4ndCBuZWVkZWQgZm9yIHRoZSB2aWRlbyBmZWVkXG4gICAgLCB7IFxuICAgICAgICAvLyB0aGVzZSBlbGVtZW50cyBhcmVuJ3QgbmVlZGVkIGZvciB0aGUgdmlkZW8gZmVlZFxuICAgICAgICBzaG93UGFydGljaXBhbnRDb3VudDogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93UGFydGljaXBhbnRDb3VudCA/PyBmYWxzZSwgc2hvd0R1cmF0aW9uOiBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnNob3dEdXJhdGlvbiA/PyBmYWxzZSwgc2hvd0xpdmVCYWRnZTogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93TGl2ZUJhZGdlID8/IGZhbHNlLCBzaG93U3BlYWtlck5hbWU6IGZsb2F0aW5nUGFydGljaXBhbnRQcm9wcz8uc2hvd1NwZWFrZXJOYW1lID8/IHRydWUgfSkpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X193cmFwcGVyXCIsIGNoaWxkcmVuOiBbanN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiYgcHJlc2VudGVyICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19zY3JlZW4tc2hhcmVcIiwgcGFydGljaXBhbnQ6IHByZXNlbnRlciwgUGFydGljaXBhbnRWaWV3VUk6IE92ZXJsYXksIHRyYWNrVHlwZTogXCJzY3JlZW5TaGFyZVRyYWNrXCIsIG11dGVBdWRpbyAvLyBhdWRpbyBpcyByZW5kZXJlZCBieSBQYXJ0aWNpcGFudHNBdWRpb1xuICAgICAgICAgICAgICAgIDogdHJ1ZSB9KSksIGN1cnJlbnRTcGVha2VyICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IGNsYXNzTmFtZTogY2xzeChoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2xzeCgnc3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZmxvYXRpbmctcGFydGljaXBhbnQnLCBgc3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZmxvYXRpbmctcGFydGljaXBhbnQtLSR7ZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5wb3NpdGlvbiA/PyAndG9wLXJpZ2h0J31gKSksIHBhcnRpY2lwYW50OiBjdXJyZW50U3BlYWtlciwgUGFydGljaXBhbnRWaWV3VUk6IEZsb2F0aW5nUGFydGljaXBhbnRPdmVybGF5IHx8IE92ZXJsYXksIG1pcnJvcjogcHJvcHMubWlycm9yTG9jYWxQYXJ0aWNpcGFudFZpZGVvICE9PSBmYWxzZSA/IHVuZGVmaW5lZCA6IGZhbHNlLCBtdXRlQXVkaW8gLy8gYXVkaW8gaXMgcmVuZGVyZWQgYnkgUGFydGljaXBhbnRzQXVkaW9cbiAgICAgICAgICAgICAgICA6IHRydWUgfSkpXSB9KSk7XG59O1xuY29uc3QgUGFydGljaXBhbnRPdmVybGF5ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBlbmFibGVGdWxsU2NyZWVuID0gdHJ1ZSwgc2hvd1BhcnRpY2lwYW50Q291bnQgPSB0cnVlLCBzaG93RHVyYXRpb24gPSB0cnVlLCBzaG93TGl2ZUJhZGdlID0gdHJ1ZSwgc2hvd1NwZWFrZXJOYW1lID0gZmFsc2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudENvdW50IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50Q291bnQgPSB1c2VQYXJ0aWNpcGFudENvdW50KCk7XG4gICAgY29uc3QgZHVyYXRpb24gPSB1c2VVcGRhdGVDYWxsRHVyYXRpb24oKTtcbiAgICBjb25zdCB0b2dnbGVGdWxsU2NyZWVuID0gdXNlVG9nZ2xlRnVsbFNjcmVlbigpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX292ZXJsYXlcIiwgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fb3ZlcmxheV9fYmFyXCIsIGNoaWxkcmVuOiBbc2hvd0xpdmVCYWRnZSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19saXZlLWJhZGdlXCIsIGNoaWxkcmVuOiB0KCdMaXZlJykgfSkpLCBzaG93UGFydGljaXBhbnRDb3VudCAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X192aWV3ZXJzLWNvdW50XCIsIGNoaWxkcmVuOiBwYXJ0aWNpcGFudENvdW50IH0pKSwgc2hvd1NwZWFrZXJOYW1lICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3NwZWFrZXItbmFtZVwiLCB0aXRsZTogcGFydGljaXBhbnQubmFtZSB8fCBwYXJ0aWNpcGFudC51c2VySWQgfHwgJycsIGNoaWxkcmVuOiBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZCB8fCAnJyB9KSksIHNob3dEdXJhdGlvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19kdXJhdGlvblwiLCBjaGlsZHJlbjogZm9ybWF0RHVyYXRpb24oZHVyYXRpb24pIH0pKSwgZW5hYmxlRnVsbFNjcmVlbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19nby1mdWxsc2NyZWVuXCIsIG9uQ2xpY2s6IHRvZ2dsZUZ1bGxTY3JlZW4gfSkpXSB9KSB9KSk7XG59O1xuTGl2ZXN0cmVhbUxheW91dC5kaXNwbGF5TmFtZSA9ICdMaXZlc3RyZWFtTGF5b3V0JztcbmNvbnN0IHVzZVVwZGF0ZUNhbGxEdXJhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHVzZUlzQ2FsbExpdmUsIHVzZUNhbGxTZXNzaW9uIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGlzQ2FsbExpdmUgPSB1c2VJc0NhbGxMaXZlKCk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHVzZUNhbGxTZXNzaW9uKCk7XG4gICAgY29uc3QgW2R1cmF0aW9uLCBzZXREdXJhdGlvbl0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi5saXZlX3N0YXJ0ZWRfYXQpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgbGl2ZVN0YXJ0VGltZSA9IG5ldyBEYXRlKHNlc3Npb24ubGl2ZV9zdGFydGVkX2F0KTtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBsaXZlU3RhcnRUaW1lLmdldFRpbWUoKSkgLyAxMDAwKTtcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzQ2FsbExpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgc2V0RHVyYXRpb24oKGQpID0+IGQgKyAxKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgfTtcbiAgICB9LCBbaXNDYWxsTGl2ZV0pO1xuICAgIHJldHVybiBkdXJhdGlvbjtcbn07XG5jb25zdCB1c2VUb2dnbGVGdWxsU2NyZWVuID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRWaWV3RWxlbWVudCB9ID0gdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCgpO1xuICAgIGNvbnN0IFtpc0Z1bGxzY3JlZW4sIHNldElzRnVsbHNjcmVlbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGlzRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc0Z1bGxzY3JlZW4oZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJ0aWNpcGFudFZpZXdFbGVtZW50Py5yZXF1ZXN0RnVsbHNjcmVlbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzRnVsbHNjcmVlbih0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2lzRnVsbHNjcmVlbiwgcGFydGljaXBhbnRWaWV3RWxlbWVudF0pO1xufTtcbmNvbnN0IGZvcm1hdER1cmF0aW9uID0gKGR1cmF0aW9uSW5NcykgPT4ge1xuICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uSW5NcyAvIDg2NDAwKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IoZHVyYXRpb25Jbk1zIC8gMzYwMCk7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uSW5NcyAlIDM2MDApIC8gNjApO1xuICAgIGNvbnN0IHNlY29uZHMgPSBkdXJhdGlvbkluTXMgJSA2MDtcbiAgICByZXR1cm4gYCR7ZGF5cyA/IGRheXMgKyAnICcgOiAnJ30ke2hvdXJzID8gaG91cnMgKyAnOicgOiAnJ30ke21pbnV0ZXMgPCAxMCA/ICcwJyA6ICcnfSR7bWludXRlc306JHtzZWNvbmRzIDwgMTAgPyAnMCcgOiAnJ30ke3NlY29uZHN9YDtcbn07XG5cbmNvbnN0IEdST1VQX1NJWkUgPSAxNjtcbmNvbnN0IFBhZ2luYXRlZEdyaWRMYXlvdXRHcm91cCA9ICh7IGdyb3VwLCBtaXJyb3IsIFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUksIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXRfX2dyb3VwJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0LS1vbmUnOiBncm91cC5sZW5ndGggPT09IDEsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXQtLXR3by1mb3VyJzogZ3JvdXAubGVuZ3RoID49IDIgJiYgZ3JvdXAubGVuZ3RoIDw9IDQsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXQtLWZpdmUtbmluZSc6IGdyb3VwLmxlbmd0aCA+PSA1ICYmIGdyb3VwLmxlbmd0aCA8PSA5LFxuICAgICAgICB9KSwgY2hpbGRyZW46IGdyb3VwLm1hcCgocGFydGljaXBhbnQpID0+IChqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgbXV0ZUF1ZGlvOiB0cnVlLCBtaXJyb3I6IG1pcnJvciwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyOiBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSSB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSkgfSkpO1xufTtcbmNvbnN0IFBhZ2luYXRlZEdyaWRMYXlvdXQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGdyb3VwU2l6ZSA9IChwcm9wcy5ncm91cFNpemUgfHwgMCkgPiAwXG4gICAgICAgID8gcHJvcHMuZ3JvdXBTaXplIHx8IEdST1VQX1NJWkVcbiAgICAgICAgOiBHUk9VUF9TSVpFLCBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCA9IGZhbHNlLCBmaWx0ZXJQYXJ0aWNpcGFudHMsIG1pcnJvckxvY2FsUGFydGljaXBhbnRWaWRlbyA9IHRydWUsIHBhZ2VBcnJvd3NWaXNpYmxlID0gdHJ1ZSwgVmlkZW9QbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUkgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIH0gPSBwcm9wcztcbiAgICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbcGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50LCBzZXRQYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VSZW1vdGVQYXJ0aWNpcGFudHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcmVtb3RlUGFydGljaXBhbnRzID0gdXNlUmVtb3RlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlRmlsdGVyZWRQYXJ0aWNpcGFudHMoe1xuICAgICAgICBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCxcbiAgICAgICAgZmlsdGVyUGFydGljaXBhbnRzLFxuICAgIH0pO1xuICAgIHVzZVBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFwYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLnNldFZpZXdwb3J0KHBhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW3BhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCwgY2FsbF0pO1xuICAgIC8vIG9ubHkgdXNlZCB0byByZW5kZXIgdmlkZW8gZWxlbWVudHNcbiAgICBjb25zdCBwYXJ0aWNpcGFudEdyb3VwcyA9IHVzZU1lbW8oKCkgPT4gY2h1bmsocGFydGljaXBhbnRzLCBncm91cFNpemUpLCBbcGFydGljaXBhbnRzLCBncm91cFNpemVdKTtcbiAgICBjb25zdCBwYWdlQ291bnQgPSBwYXJ0aWNpcGFudEdyb3Vwcy5sZW5ndGg7XG4gICAgLy8gdXBkYXRlIHBhZ2Ugd2hlbiBwYWdlIGNvdW50IGlzIHJlZHVjZWQgYW5kIHNlbGVjdGVkIHBhZ2Ugbm8gbG9uZ2VyIGV4aXN0c1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwYWdlID4gcGFnZUNvdW50IC0gMSkge1xuICAgICAgICAgICAgc2V0UGFnZShNYXRoLm1heCgwLCBwYWdlQ291bnQgLSAxKSk7XG4gICAgICAgIH1cbiAgICB9LCBbcGFnZSwgcGFnZUNvdW50XSk7XG4gICAgY29uc3Qgc2VsZWN0ZWRHcm91cCA9IHBhcnRpY2lwYW50R3JvdXBzW3BhZ2VdO1xuICAgIGNvbnN0IG1pcnJvciA9IG1pcnJvckxvY2FsUGFydGljaXBhbnRWaWRlbyA/IHVuZGVmaW5lZCA6IGZhbHNlO1xuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0X193cmFwcGVyXCIsIHJlZjogc2V0UGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50LCBjaGlsZHJlbjogW2pzeChQYXJ0aWNpcGFudHNBdWRpbywgeyBwYXJ0aWNpcGFudHM6IHJlbW90ZVBhcnRpY2lwYW50cyB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dFwiLCBjaGlsZHJlbjogW3BhZ2VBcnJvd3NWaXNpYmxlICYmIHBhZ2VDb3VudCA+IDEgJiYgKGpzeChJY29uQnV0dG9uLCB7IGljb246IFwiY2FyZXQtbGVmdFwiLCBkaXNhYmxlZDogcGFnZSA9PT0gMCwgb25DbGljazogKCkgPT4gc2V0UGFnZSgoY3VycmVudFBhZ2UpID0+IE1hdGgubWF4KDAsIGN1cnJlbnRQYWdlIC0gMSkpIH0pKSwgc2VsZWN0ZWRHcm91cCAmJiAoanN4KFBhZ2luYXRlZEdyaWRMYXlvdXRHcm91cCwgeyBncm91cDogc2VsZWN0ZWRHcm91cCwgbWlycm9yOiBtaXJyb3IsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSSB9KSksIHBhZ2VBcnJvd3NWaXNpYmxlICYmIHBhZ2VDb3VudCA+IDEgJiYgKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBwYWdlID09PSBwYWdlQ291bnQgLSAxLCBpY29uOiBcImNhcmV0LXJpZ2h0XCIsIG9uQ2xpY2s6ICgpID0+IHNldFBhZ2UoKGN1cnJlbnRQYWdlKSA9PiBNYXRoLm1pbihwYWdlQ291bnQgLSAxLCBjdXJyZW50UGFnZSArIDEpKSB9KSldIH0pXSB9KSk7XG59O1xuUGFnaW5hdGVkR3JpZExheW91dC5kaXNwbGF5TmFtZSA9ICdQYWdpbmF0ZWRHcmlkTGF5b3V0JztcblxuY29uc3QgdXNlQ2FsY3VsYXRlSGFyZExpbWl0ID0gKFxuLyoqXG4gKiBFbGVtZW50IHRoYXQgc3RyZXRjaGVzIHRvIDEwMCUgb2YgdGhlIHdob2xlIGxheW91dCBjb21wb25lbnRcbiAqL1xud3JhcHBlckVsZW1lbnQsIFxuLyoqXG4gKiBFbGVtZW50IHRoYXQgZGlyZWN0bHkgaG9zdHMgaW5kaXZpZHVhbCBgUGFydGljaXBhbnRWaWV3YCAob3Igd3JhcHBlcikgZWxlbWVudHNcbiAqL1xuaG9zdEVsZW1lbnQsIGxpbWl0KSA9PiB7XG4gICAgY29uc3QgW2NhbGN1bGF0ZWRMaW1pdCwgc2V0Q2FsY3VsYXRlZExpbWl0XSA9IHVzZVN0YXRlKHtcbiAgICAgICAgdmVydGljYWw6IHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicgPyBsaW1pdCA6IG51bGwsXG4gICAgICAgIGhvcml6b250YWw6IHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicgPyBsaW1pdCA6IG51bGwsXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFob3N0RWxlbWVudCB8fFxuICAgICAgICAgICAgIXdyYXBwZXJFbGVtZW50IHx8XG4gICAgICAgICAgICB0eXBlb2YgbGltaXQgPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgbGltaXQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY2hpbGRXaWR0aCA9IG51bGw7XG4gICAgICAgIGxldCBjaGlsZEhlaWdodCA9IG51bGw7XG4gICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgLy8gdGhpcyBwYXJ0IHNob3VsZCBpZGVhbGx5IHJ1biBhcyBsaXR0bGUgdGltZXMgYXMgcG9zc2libGVcbiAgICAgICAgICAgIC8vIGdldCBjaGlsZCBtZWFzdXJlbWVudHMgYW5kIGRpc2Nvbm5lY3RcbiAgICAgICAgICAgIC8vIGRvZXMgbm90IGNvbnNpZGVyIGR5bmFtaWNhbGx5IHNpemVkIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB0aGlzIGhvb2sgaXMgZm9yIFNwZWFrZXJMYXlvdXQgdXNlIG9ubHksIHdoZXJlIGNoaWxkcmVuIGluIHRoZSBiYXIgYXJlIGZpeGVkIHNpemVcbiAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGhvc3RFbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkSGVpZ2h0ID0gY2hpbGQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFdpZHRoID0gY2hpbGQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShob3N0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8ga2VlcCB0aGUgc3RhdGUgYXQgeyB2ZXJ0aWNhbDogMSwgaG9yaXpvbnRhbDogMSB9XG4gICAgICAgICAgICAvLyB1bnRpbCB3ZSBnZXQgdGhlIHByb3BlciBjaGlsZCBtZWFzdXJlbWVudHNcbiAgICAgICAgICAgIGlmIChjaGlsZEhlaWdodCA9PT0gbnVsbCB8fCBjaGlsZFdpZHRoID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsID0gTWF0aC5mbG9vcih3cmFwcGVyRWxlbWVudC5jbGllbnRIZWlnaHQgLyBjaGlsZEhlaWdodCk7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsID0gTWF0aC5mbG9vcih3cmFwcGVyRWxlbWVudC5jbGllbnRXaWR0aCAvIGNoaWxkV2lkdGgpO1xuICAgICAgICAgICAgc2V0Q2FsY3VsYXRlZExpbWl0KChwdikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwdi52ZXJ0aWNhbCAhPT0gdmVydGljYWwgfHwgcHYuaG9yaXpvbnRhbCAhPT0gaG9yaXpvbnRhbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmVydGljYWwsIGhvcml6b250YWwgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHY7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUod3JhcHBlckVsZW1lbnQpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGhvc3RFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbaG9zdEVsZW1lbnQsIGxpbWl0LCB3cmFwcGVyRWxlbWVudF0pO1xuICAgIHJldHVybiBjYWxjdWxhdGVkTGltaXQ7XG59O1xuXG5jb25zdCBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUlCYXIgPSAoKSA9PiAoanN4KERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgeyBtZW51UGxhY2VtZW50OiBcInRvcC1lbmRcIiB9KSk7XG5jb25zdCBTcGVha2VyTGF5b3V0ID0gKHsgUGFydGljaXBhbnRWaWV3VUlCYXIgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUlCYXIsIFBhcnRpY2lwYW50Vmlld1VJU3BvdGxpZ2h0ID0gRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID0gJ2JvdHRvbScsIHBhcnRpY2lwYW50c0JhckxpbWl0LCBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPSB0cnVlLCBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCA9IGZhbHNlLCBmaWx0ZXJQYXJ0aWNpcGFudHMsIHBhZ2VBcnJvd3NWaXNpYmxlID0gdHJ1ZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZVJlbW90ZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBhbGxQYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBbcGFydGljaXBhbnRJblNwb3RsaWdodCwgLi4ub3RoZXJQYXJ0aWNpcGFudHNdID0gdXNlRmlsdGVyZWRQYXJ0aWNpcGFudHMoeyBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCwgZmlsdGVyUGFydGljaXBhbnRzIH0pO1xuICAgIGNvbnN0IFtwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCwgc2V0UGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3BhcnRpY2lwYW50c0JhckVsZW1lbnQsIHNldFBhcnRpY2lwYW50c0JhckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2J1dHRvbnNXcmFwcGVyRWxlbWVudCwgc2V0QnV0dG9uc1dyYXBwZXJFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGlzU3BlYWtlclNjcmVlblNoYXJpbmcgPSBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0ICYmIGhhc1NjcmVlblNoYXJlKHBhcnRpY2lwYW50SW5TcG90bGlnaHQpO1xuICAgIGNvbnN0IGhhcmRMaW1pdCA9IHVzZUNhbGN1bGF0ZUhhcmRMaW1pdChidXR0b25zV3JhcHBlckVsZW1lbnQsIHBhcnRpY2lwYW50c0JhckVsZW1lbnQsIHBhcnRpY2lwYW50c0JhckxpbWl0KTtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPT09ICdsZWZ0JyB8fCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ3JpZ2h0JztcbiAgICBjb25zdCBpc0hvcml6b250YWwgPSBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPT09ICdib3R0b20nO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLnNldFZpZXdwb3J0KHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFudXAoKTtcbiAgICB9LCBbcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQsIGNhbGxdKTtcbiAgICBjb25zdCBpc09uZU9uT25lQ2FsbCA9IGFsbFBhcnRpY2lwYW50cy5sZW5ndGggPT09IDI7XG4gICAgdXNlU3BlYWtlckxheW91dFNvcnRQcmVzZXQoY2FsbCwgaXNPbmVPbk9uZUNhbGwpO1xuICAgIGxldCBwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0ID0gb3RoZXJQYXJ0aWNpcGFudHM7XG4gICAgY29uc3QgaGFyZExpbWl0VG9BcHBseSA9IGlzVmVydGljYWxcbiAgICAgICAgPyBoYXJkTGltaXQudmVydGljYWxcbiAgICAgICAgOiBoYXJkTGltaXQuaG9yaXpvbnRhbDtcbiAgICBpZiAodHlwZW9mIHBhcnRpY2lwYW50c0JhckxpbWl0ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBoYXJkTGltaXRUb0FwcGx5ICE9PSBudWxsKSB7XG4gICAgICAgIHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQgPSBvdGhlclBhcnRpY2lwYW50cy5zbGljZSgwLCBcbiAgICAgICAgLy8gc3VidHJhY3QgMSBpZiBzcGVha2VyIGlzIHNoYXJpbmcgc2NyZWVuIGFzXG4gICAgICAgIC8vIHRoYXQgb25lIGlzIHJlbmRlcmVkIGluZGVwZW5kZW50bHkgZnJvbSBvdGhlclBhcnRpY2lwYW50cyBhcnJheVxuICAgICAgICBoYXJkTGltaXRUb0FwcGx5IC0gKGlzU3BlYWtlclNjcmVlblNoYXJpbmcgPyAxIDogMCkpO1xuICAgIH1cbiAgICBjb25zdCBtaXJyb3IgPSBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHJlbmRlclBhcnRpY2lwYW50c0JhciA9IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uICYmXG4gICAgICAgIChwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0Lmxlbmd0aCA+IDAgfHwgaXNTcGVha2VyU2NyZWVuU2hhcmluZyk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3dyYXBwZXJcIiwgY2hpbGRyZW46IFtqc3goUGFydGljaXBhbnRzQXVkaW8sIHsgcGFydGljaXBhbnRzOiByZW1vdGVQYXJ0aWNpcGFudHMgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fc3BlYWtlci1sYXlvdXQnLCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBgc3RyLXZpZGVvX19zcGVha2VyLWxheW91dC0tdmFyaWFudC0ke3BhcnRpY2lwYW50c0JhclBvc2l0aW9ufWApLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19zcG90bGlnaHRcIiwgY2hpbGRyZW46IHBhcnRpY2lwYW50SW5TcG90bGlnaHQgJiYgKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50SW5TcG90bGlnaHQsIG11dGVBdWRpbzogdHJ1ZSwgbWlycm9yOiBtaXJyb3IsIHRyYWNrVHlwZTogaXNTcGVha2VyU2NyZWVuU2hhcmluZyA/ICdzY3JlZW5TaGFyZVRyYWNrJyA6ICd2aWRlb1RyYWNrJywgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJU3BvdGxpZ2h0LCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciB9KSkgfSksIHJlbmRlclBhcnRpY2lwYW50c0JhciAmJiAoanN4cyhcImRpdlwiLCB7IHJlZjogc2V0QnV0dG9uc1dyYXBwZXJFbGVtZW50LCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci1idXR0b25zLXdyYXBwZXJcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci13cmFwcGVyXCIsIHJlZjogc2V0UGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQsIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHsgcmVmOiBzZXRQYXJ0aWNpcGFudHNCYXJFbGVtZW50LCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhclwiLCBjaGlsZHJlbjogW2lzU3BlYWtlclNjcmVlblNoYXJpbmcgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudC10aWxlXCIsIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0LCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUlCYXIsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlcjogUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBtaXJyb3I6IG1pcnJvciwgbXV0ZUF1ZGlvOiB0cnVlIH0pIH0sIHBhcnRpY2lwYW50SW5TcG90bGlnaHQuc2Vzc2lvbklkKSksIHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQubWFwKChwYXJ0aWNpcGFudCkgPT4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudC10aWxlXCIsIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJQmFyLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgbWlycm9yOiBtaXJyb3IsIG11dGVBdWRpbzogdHJ1ZSB9KSB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSldIH0pIH0pLCBwYWdlQXJyb3dzVmlzaWJsZSAmJiBpc1ZlcnRpY2FsICYmIChqc3goVmVydGljYWxTY3JvbGxCdXR0b25zLCB7IHNjcm9sbFdyYXBwZXI6IHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50IH0pKSwgcGFnZUFycm93c1Zpc2libGUgJiYgaXNIb3Jpem9udGFsICYmIChqc3goSG9yaXpvbnRhbFNjcm9sbEJ1dHRvbnMsIHsgc2Nyb2xsV3JhcHBlcjogcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQgfSkpXSB9KSldIH0pXSB9KSk7XG59O1xuU3BlYWtlckxheW91dC5kaXNwbGF5TmFtZSA9ICdTcGVha2VyTGF5b3V0JztcbmNvbnN0IEhvcml6b250YWxTY3JvbGxCdXR0b25zID0gKHsgc2Nyb2xsV3JhcHBlciwgfSkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uKHNjcm9sbFdyYXBwZXIpO1xuICAgIGNvbnN0IHNjcm9sbFN0YXJ0Q2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IGxlZnQ6IC0xNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNjcm9sbEVuZENsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyBsZWZ0OiAxNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW3Njcm9sbFBvc2l0aW9uICYmIHNjcm9sbFBvc2l0aW9uICE9PSAnc3RhcnQnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxTdGFydENsaWNrSGFuZGxlciwgaWNvbjogXCJjYXJldC1sZWZ0XCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyLS1idXR0b24tbGVmdFwiIH0pKSwgc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICdlbmQnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxFbmRDbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtcmlnaHRcIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItLWJ1dHRvbi1yaWdodFwiIH0pKV0gfSkpO1xufTtcbmNvbnN0IFZlcnRpY2FsU2Nyb2xsQnV0dG9ucyA9ICh7IHNjcm9sbFdyYXBwZXIsIH0pID0+IHtcbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbiA9IHVzZVZlcnRpY2FsU2Nyb2xsUG9zaXRpb24oc2Nyb2xsV3JhcHBlcik7XG4gICAgY29uc3Qgc2Nyb2xsVG9wQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IHRvcDogLTE1MCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH07XG4gICAgY29uc3Qgc2Nyb2xsQm90dG9tQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IHRvcDogMTUwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzY3JvbGxQb3NpdGlvbiAmJiBzY3JvbGxQb3NpdGlvbiAhPT0gJ3RvcCcgJiYgKGpzeChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IHNjcm9sbFRvcENsaWNrSGFuZGxlciwgaWNvbjogXCJjYXJldC11cFwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLXRvcFwiIH0pKSwgc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICdib3R0b20nICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxCb3R0b21DbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtZG93blwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLWJvdHRvbVwiIH0pKV0gfSkpO1xufTtcblxuY29uc3QgTGl2ZXN0cmVhbVBsYXllciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FsbFR5cGUsIGNhbGxJZCwgbGF5b3V0UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNsaWVudCA9IHVzZVN0cmVhbVZpZGVvQ2xpZW50KCk7XG4gICAgY29uc3QgW2NhbGwsIHNldENhbGxdID0gdXNlU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNsaWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbXlDYWxsID0gY2xpZW50LmNhbGwoY2FsbFR5cGUsIGNhbGxJZCk7XG4gICAgICAgIHNldENhbGwobXlDYWxsKTtcbiAgICAgICAgbXlDYWxsLmpvaW4oKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGpvaW4gY2FsbCcsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG15Q2FsbC5sZWF2ZSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxlYXZlIGNhbGwnLCBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0Q2FsbCh1bmRlZmluZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsSWQsIGNhbGxUeXBlLCBjbGllbnRdKTtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1DYWxsLCB7IGNhbGw6IGNhbGwsIGNoaWxkcmVuOiBqc3goTGl2ZXN0cmVhbUxheW91dCwgeyAuLi5sYXlvdXRQcm9wcyB9KSB9KSk7XG59O1xuXG5jb25zdCBbbWFqb3IsIG1pbm9yLCBwYXRjaF0gPSAoXCIxLjEwLjBcIikuc3BsaXQoJy4nKTtcbnNldFNka0luZm8oe1xuICAgIHR5cGU6IFNmdU1vZGVscy5TZGtUeXBlLlJFQUNULFxuICAgIG1ham9yLFxuICAgIG1pbm9yLFxuICAgIHBhdGNoLFxufSk7XG5cbmV4cG9ydCB7IEFjY2VwdENhbGxCdXR0b24sIEF1ZGlvLCBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBCYWNrZ3JvdW5kRmlsdGVyc1Byb3ZpZGVyLCBCYXNlVmlkZW8sIENhbGxDb250cm9scywgQ2FsbFBhcnRpY2lwYW50TGlzdGluZywgQ2FsbFBhcnRpY2lwYW50TGlzdGluZ0l0ZW0sIENhbGxQYXJ0aWNpcGFudHNMaXN0LCBDYWxsUHJldmlldywgQ2FsbFJlY29yZGluZ0xpc3QsIENhbGxSZWNvcmRpbmdMaXN0SGVhZGVyLCBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0sIENhbGxTdGF0cywgQ2FsbFN0YXRzQnV0dG9uLCBDYW5jZWxDYWxsQnV0dG9uLCBDYW5jZWxDYWxsQ29uZmlybUJ1dHRvbiwgQ29tcG9zaXRlQnV0dG9uLCBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIERlZmF1bHRSZWFjdGlvbnNNZW51LCBEZWZhdWx0U2NyZWVuU2hhcmVPdmVybGF5LCBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlciwgRGV2aWNlU2VsZWN0b3IsIERldmljZVNlbGVjdG9yQXVkaW9JbnB1dCwgRGV2aWNlU2VsZWN0b3JBdWRpb091dHB1dCwgRGV2aWNlU2VsZWN0b3JWaWRlbywgRGV2aWNlU2V0dGluZ3MsIERyb3BEb3duU2VsZWN0LCBEcm9wRG93blNlbGVjdE9wdGlvbiwgRW1wdHlDYWxsUmVjb3JkaW5nTGlzdGluZywgR2VuZXJpY01lbnUsIEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgSWNvbiwgSWNvbkJ1dHRvbiwgTGl2ZXN0cmVhbUxheW91dCwgTGl2ZXN0cmVhbVBsYXllciwgTG9hZGluZ0NhbGxSZWNvcmRpbmdMaXN0aW5nLCBMb2FkaW5nSW5kaWNhdG9yLCBNZW51VG9nZ2xlLCBNZW51VmlzdWFsVHlwZSwgTm9pc2VDYW5jZWxsYXRpb25Qcm92aWRlciwgTm90aWZpY2F0aW9uLCBQYWdpbmF0ZWRHcmlkTGF5b3V0LCBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSwgUGFydGljaXBhbnREZXRhaWxzLCBQYXJ0aWNpcGFudFZpZXcsIFBhcnRpY2lwYW50Vmlld0NvbnRleHQsIFBhcnRpY2lwYW50c0F1ZGlvLCBQZXJtaXNzaW9uTm90aWZpY2F0aW9uLCBQZXJtaXNzaW9uUmVxdWVzdExpc3QsIFBlcm1pc3Npb25SZXF1ZXN0cywgUmVhY3Rpb25zQnV0dG9uLCBSZWNvcmRDYWxsQnV0dG9uLCBSZWNvcmRDYWxsQ29uZmlybWF0aW9uQnV0dG9uLCBSZWNvcmRpbmdJblByb2dyZXNzTm90aWZpY2F0aW9uLCBSaW5naW5nQ2FsbCwgUmluZ2luZ0NhbGxDb250cm9scywgU2NyZWVuU2hhcmVCdXR0b24sIFNlYXJjaElucHV0LCBTZWFyY2hSZXN1bHRzLCBTcGVha2VyTGF5b3V0LCBTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24sIFNwZWVjaEluZGljYXRvciwgU3RhdENhcmQsIFN0cmVhbUNhbGwsIFN0cmVhbVRoZW1lLCBTdHJlYW1WaWRlbywgVGV4dEJ1dHRvbiwgVG9nZ2xlQXVkaW9PdXRwdXRCdXR0b24sIFRvZ2dsZUF1ZGlvUHJldmlld0J1dHRvbiwgVG9nZ2xlQXVkaW9QdWJsaXNoaW5nQnV0dG9uLCBUb2dnbGVWaWRlb1ByZXZpZXdCdXR0b24sIFRvZ2dsZVZpZGVvUHVibGlzaGluZ0J1dHRvbiwgVG9vbHRpcCwgVmlkZW8kMSBhcyBWaWRlbywgVmlkZW9QcmV2aWV3LCBXaXRoVG9vbHRpcCwgZGVmYXVsdFJlYWN0aW9ucywgdHJhbnNsYXRpb25zLCB1c2VCYWNrZ3JvdW5kRmlsdGVycywgdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uLCB1c2VNZW51Q29udGV4dCwgdXNlTm9pc2VDYW5jZWxsYXRpb24sIHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQsIHVzZVBlcnNpc3RlZERldmljZVByZWZlcmVuY2VzLCB1c2VSZXF1ZXN0UGVybWlzc2lvbiwgdXNlVHJhY2tFbGVtZW50VmlzaWJpbGl0eSwgdXNlVmVydGljYWxTY3JvbGxQb3NpdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallStatsLatencyChart)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! chart.js */ \"(ssr)/./node_modules/chart.js/dist/chart.js\");\n/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-chartjs-2 */ \"(ssr)/./node_modules/react-chartjs-2/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n\n// NOTE: this is a side effect by definition, but this component is\n// isolated in a separate chunk, and it won't affect the rest of the app.\n// See CallStats.tsx for more details.\nchart_js__WEBPACK_IMPORTED_MODULE_2__.Chart.register(chart_js__WEBPACK_IMPORTED_MODULE_2__.CategoryScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LinearScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LineElement, chart_js__WEBPACK_IMPORTED_MODULE_2__.PointElement);\nconst CallStatsLatencyChart = (props) => {\n    const { values } = props;\n    let max = 0;\n    const data = {\n        labels: values.map((point) => {\n            const date = new Date(point.x * 1000);\n            return `${date.getHours()}:${date.getMinutes()}`;\n        }),\n        datasets: [\n            {\n                data: values.map((point) => {\n                    const { y } = point;\n                    max = Math.max(max, y);\n                    return point;\n                }),\n                borderColor: '#00e2a1',\n                backgroundColor: '#00e2a1',\n            },\n        ],\n    };\n    const options = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getLineOptions(max), [max]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"str-video__call-stats-line-chart-container\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__.Line, { options: options, data: data, className: \"str-video__call-stats__latencychart\" }) }));\n};\nconst getLineOptions = (max) => ({\n    maintainAspectRatio: false,\n    animation: { duration: 0 },\n    elements: {\n        line: { borderWidth: 1 },\n        point: { radius: 2 },\n    },\n    scales: {\n        y: {\n            position: 'right',\n            stacked: true,\n            min: 0,\n            max: Math.max(180, Math.ceil((max + 10) / 10) * 10),\n            grid: { display: true, color: '#979ca0' },\n            ticks: { stepSize: 30 },\n        },\n        x: {\n            grid: { display: false },\n            ticks: { display: false },\n        },\n    },\n});\n\n\n//# sourceMappingURL=latency-chart-Bj5OSYzg.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0M7QUFDZ0Q7QUFDakQ7QUFDUDs7QUFFaEM7QUFDQTtBQUNBO0FBQ0EsMkNBQUssVUFBVSxtREFBYSxFQUFFLGlEQUFXLEVBQUUsaURBQVcsRUFBRSxrREFBWTtBQUNwRTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQkFBZ0IsR0FBRyxrQkFBa0I7QUFDM0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFPO0FBQzNCLFlBQVksc0RBQUcsVUFBVSxtRUFBbUUsc0RBQUcsQ0FBQyxpREFBSSxJQUFJLGdGQUFnRixHQUFHO0FBQzNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQyxpQkFBaUIsV0FBVztBQUM1QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlDQUFpQztBQUNyRCxxQkFBcUIsY0FBYztBQUNuQyxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDLHFCQUFxQixnQkFBZ0I7QUFDckMsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDOztBQUUyQztBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVzeW5jLy4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3Qtc2RrL2Rpc3QvbGF0ZW5jeS1jaGFydC1CajVPU1l6Zy5lcy5qcz83NmNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IENoYXJ0LCBDYXRlZ29yeVNjYWxlLCBMaW5lYXJTY2FsZSwgTGluZUVsZW1lbnQsIFBvaW50RWxlbWVudCB9IGZyb20gJ2NoYXJ0LmpzJztcbmltcG9ydCB7IExpbmUgfSBmcm9tICdyZWFjdC1jaGFydGpzLTInO1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcblxuLy8gTk9URTogdGhpcyBpcyBhIHNpZGUgZWZmZWN0IGJ5IGRlZmluaXRpb24sIGJ1dCB0aGlzIGNvbXBvbmVudCBpc1xuLy8gaXNvbGF0ZWQgaW4gYSBzZXBhcmF0ZSBjaHVuaywgYW5kIGl0IHdvbid0IGFmZmVjdCB0aGUgcmVzdCBvZiB0aGUgYXBwLlxuLy8gU2VlIENhbGxTdGF0cy50c3ggZm9yIG1vcmUgZGV0YWlscy5cbkNoYXJ0LnJlZ2lzdGVyKENhdGVnb3J5U2NhbGUsIExpbmVhclNjYWxlLCBMaW5lRWxlbWVudCwgUG9pbnRFbGVtZW50KTtcbmNvbnN0IENhbGxTdGF0c0xhdGVuY3lDaGFydCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdmFsdWVzIH0gPSBwcm9wcztcbiAgICBsZXQgbWF4ID0gMDtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBsYWJlbHM6IHZhbHVlcy5tYXAoKHBvaW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUocG9pbnQueCAqIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGAke2RhdGUuZ2V0SG91cnMoKX06JHtkYXRlLmdldE1pbnV0ZXMoKX1gO1xuICAgICAgICB9KSxcbiAgICAgICAgZGF0YXNldHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhOiB2YWx1ZXMubWFwKChwb2ludCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHkgfSA9IHBvaW50O1xuICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjMDBlMmExJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDBlMmExJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgfTtcbiAgICBjb25zdCBvcHRpb25zID0gdXNlTWVtbygoKSA9PiBnZXRMaW5lT3B0aW9ucyhtYXgpLCBbbWF4XSk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzLWxpbmUtY2hhcnQtY29udGFpbmVyXCIsIGNoaWxkcmVuOiBqc3goTGluZSwgeyBvcHRpb25zOiBvcHRpb25zLCBkYXRhOiBkYXRhLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19sYXRlbmN5Y2hhcnRcIiB9KSB9KSk7XG59O1xuY29uc3QgZ2V0TGluZU9wdGlvbnMgPSAobWF4KSA9PiAoe1xuICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLFxuICAgIGFuaW1hdGlvbjogeyBkdXJhdGlvbjogMCB9LFxuICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIGxpbmU6IHsgYm9yZGVyV2lkdGg6IDEgfSxcbiAgICAgICAgcG9pbnQ6IHsgcmFkaXVzOiAyIH0sXG4gICAgfSxcbiAgICBzY2FsZXM6IHtcbiAgICAgICAgeToge1xuICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXG4gICAgICAgICAgICBzdGFja2VkOiB0cnVlLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiBNYXRoLm1heCgxODAsIE1hdGguY2VpbCgobWF4ICsgMTApIC8gMTApICogMTApLFxuICAgICAgICAgICAgZ3JpZDogeyBkaXNwbGF5OiB0cnVlLCBjb2xvcjogJyM5NzljYTAnIH0sXG4gICAgICAgICAgICB0aWNrczogeyBzdGVwU2l6ZTogMzAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgeDoge1xuICAgICAgICAgICAgZ3JpZDogeyBkaXNwbGF5OiBmYWxzZSB9LFxuICAgICAgICAgICAgdGlja3M6IHsgZGlzcGxheTogZmFsc2UgfSxcbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbmV4cG9ydCB7IENhbGxTdGF0c0xhdGVuY3lDaGFydCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css":
/*!*********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/css/styles.css ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"85221b26489e\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9jc3Mvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVzeW5jLy4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3Qtc2RrL2Rpc3QvY3NzL3N0eWxlcy5jc3M/NDQxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjg1MjIxYjI2NDg5ZVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@stream-io/node-sdk/dist/index.es.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@stream-io/node-sdk/dist/index.es.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChannelOwnCapability: () => (/* binding */ ChannelOwnCapability),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamChannel: () => (/* binding */ StreamChannel),\n/* harmony export */   StreamChatClient: () => (/* binding */ StreamChatClient),\n/* harmony export */   StreamClient: () => (/* binding */ StreamClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(action-browser)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n\n\n\n\nconst ChannelOwnCapability = {\n    BAN_CHANNEL_MEMBERS: 'ban-channel-members',\n    CAST_POLL_VOTE: 'cast-poll-vote',\n    CONNECT_EVENTS: 'connect-events',\n    CREATE_ATTACHMENT: 'create-attachment',\n    DELETE_ANY_MESSAGE: 'delete-any-message',\n    DELETE_CHANNEL: 'delete-channel',\n    DELETE_OWN_MESSAGE: 'delete-own-message',\n    FLAG_MESSAGE: 'flag-message',\n    FREEZE_CHANNEL: 'freeze-channel',\n    JOIN_CHANNEL: 'join-channel',\n    LEAVE_CHANNEL: 'leave-channel',\n    MUTE_CHANNEL: 'mute-channel',\n    PIN_MESSAGE: 'pin-message',\n    QUERY_POLL_VOTES: 'query-poll-votes',\n    QUOTE_MESSAGE: 'quote-message',\n    READ_EVENTS: 'read-events',\n    SEARCH_MESSAGES: 'search-messages',\n    SEND_CUSTOM_EVENTS: 'send-custom-events',\n    SEND_LINKS: 'send-links',\n    SEND_MESSAGE: 'send-message',\n    SEND_POLL: 'send-poll',\n    SEND_REACTION: 'send-reaction',\n    SEND_REPLY: 'send-reply',\n    SEND_TYPING_EVENTS: 'send-typing-events',\n    SET_CHANNEL_COOLDOWN: 'set-channel-cooldown',\n    SKIP_SLOW_MODE: 'skip-slow-mode',\n    SLOW_MODE: 'slow-mode',\n    TYPING_EVENTS: 'typing-events',\n    UPDATE_ANY_MESSAGE: 'update-any-message',\n    UPDATE_CHANNEL: 'update-channel',\n    UPDATE_CHANNEL_MEMBERS: 'update-channel-members',\n    UPDATE_OWN_MESSAGE: 'update-own-message',\n    UPDATE_THREAD: 'update-thread',\n    UPLOAD_FILE: 'upload-file',\n};\nconst OwnCapability = {\n    BLOCK_USERS: 'block-users',\n    CHANGE_MAX_DURATION: 'change-max-duration',\n    CREATE_CALL: 'create-call',\n    CREATE_REACTION: 'create-reaction',\n    ENABLE_NOISE_CANCELLATION: 'enable-noise-cancellation',\n    END_CALL: 'end-call',\n    JOIN_BACKSTAGE: 'join-backstage',\n    JOIN_CALL: 'join-call',\n    JOIN_ENDED_CALL: 'join-ended-call',\n    MUTE_USERS: 'mute-users',\n    PIN_FOR_EVERYONE: 'pin-for-everyone',\n    READ_CALL: 'read-call',\n    REMOVE_CALL_MEMBER: 'remove-call-member',\n    SCREENSHARE: 'screenshare',\n    SEND_AUDIO: 'send-audio',\n    SEND_VIDEO: 'send-video',\n    START_BROADCAST_CALL: 'start-broadcast-call',\n    START_CLOSED_CAPTIONS_CALL: 'start-closed-captions-call',\n    START_RECORD_CALL: 'start-record-call',\n    START_TRANSCRIPTION_CALL: 'start-transcription-call',\n    STOP_BROADCAST_CALL: 'stop-broadcast-call',\n    STOP_CLOSED_CAPTIONS_CALL: 'stop-closed-captions-call',\n    STOP_RECORD_CALL: 'stop-record-call',\n    STOP_TRANSCRIPTION_CALL: 'stop-transcription-call',\n    UPDATE_CALL: 'update-call',\n    UPDATE_CALL_MEMBER: 'update-call-member',\n    UPDATE_CALL_PERMISSIONS: 'update-call-permissions',\n    UPDATE_CALL_SETTINGS: 'update-call-settings',\n};\n\nfunction JWTUserToken(apiSecret, payload) {\n    // make sure we return a clear error when jwt is shimmed (ie. browser build)\n    if (jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ == null || jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign == null) {\n        throw Error(`Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.`);\n    }\n    const opts = Object.assign({\n        algorithm: 'HS256',\n        noTimestamp: true,\n    });\n    if (payload.iat) {\n        opts.noTimestamp = false;\n    }\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\nfunction JWTServerToken(apiSecret, jwtOptions = {}) {\n    const payload = {\n        server: true,\n    };\n    const opts = Object.assign({ algorithm: 'HS256', noTimestamp: true }, jwtOptions);\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nclass StreamError extends Error {\n    constructor(message, metadata, code, errorOptions) {\n        super(message, errorOptions);\n        this.metadata = metadata;\n        this.code = code;\n    }\n}\n\nconst getRateLimitFromResponseHeader = (responseHeaders) => {\n    const rateLimit = responseHeaders.has('x-ratelimit-limit')\n        ? +responseHeaders.get('x-ratelimit-limit')\n        : undefined;\n    const rateLimitRemaining = responseHeaders.has('x-ratelimit-remaining')\n        ? +responseHeaders.get('x-ratelimit-remaining')\n        : undefined;\n    const rateLimitReset = responseHeaders.has('x-ratelimit-reset')\n        ? new Date(+responseHeaders.get('x-ratelimit-reset') * 1000)\n        : undefined;\n    const result = {\n        rateLimit,\n        rateLimitRemaining,\n        rateLimitReset,\n    };\n    return result;\n};\n\nclass BaseApi {\n    constructor(apiConfig) {\n        this.apiConfig = apiConfig;\n        this.sendRequest = (method, url, pathParams, queryParams, body) => __awaiter(this, void 0, void 0, function* () {\n            queryParams = queryParams !== null && queryParams !== void 0 ? queryParams : {};\n            queryParams.api_key = this.apiConfig.apiKey;\n            const encodedParams = this.queryParamsStringify(queryParams);\n            if (pathParams) {\n                Object.keys(pathParams).forEach((paramName) => {\n                    url = url.replace(`{${paramName}}`, pathParams[paramName]);\n                });\n            }\n            url += `?${encodedParams}`;\n            const clientRequestId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const headers = {\n                Authorization: this.apiConfig.token,\n                'stream-auth-type': 'jwt',\n                'Content-Type': 'application/json',\n                'X-Stream-Client': 'stream-node-' + \"0.4.9\",\n                'Accept-Encoding': 'gzip',\n                'x-client-request-id': clientRequestId,\n            };\n            const signal = AbortSignal.timeout(this.apiConfig.timeout);\n            try {\n                const response = yield fetch(`${this.apiConfig.baseUrl}${url}`, {\n                    signal,\n                    method,\n                    body: JSON.stringify(body),\n                    headers,\n                });\n                const responseHeaders = response.headers;\n                const metadata = {\n                    clientRequestId,\n                    responseHeaders,\n                    responseCode: response.status,\n                    rateLimit: getRateLimitFromResponseHeader(responseHeaders),\n                };\n                if (response.status < 200 || response.status >= 300) {\n                    let error;\n                    try {\n                        error = (yield response.json());\n                    }\n                    catch (_) {\n                        throw new StreamError(`Stream error: ${response.status} - ${response.statusText}`, metadata, response.status);\n                    }\n                    throw new StreamError(`Stream error code ${error.code}: ${error.message}`, metadata, error.code, undefined);\n                }\n                const responseBody = (yield response.json());\n                return { body: responseBody, metadata };\n            }\n            catch (error) {\n                if (error instanceof StreamError) {\n                    throw error;\n                }\n                const metadata = {\n                    clientRequestId,\n                    responseCode: error.status,\n                };\n                if (error.name === 'AbortError' || error.name === 'TimeoutError') {\n                    throw new StreamError(`The request was aborted due to to the ${this.apiConfig.timeout}ms timeout, you can set the timeout in the StreamClient constructor`, metadata, undefined, error);\n                }\n                else {\n                    throw new StreamError(`The request failed due to an unexpected error`, metadata, error);\n                }\n            }\n        });\n        this.queryParamsStringify = (params) => {\n            const newParams = [];\n            for (const k in params) {\n                const param = params[k];\n                if (Array.isArray(param)) {\n                    newParams.push(`${k}=${encodeURIComponent(param.join(','))}`);\n                }\n                else if (param instanceof Date) {\n                    newParams.push(param.toISOString());\n                }\n                else if (typeof param === 'object') {\n                    newParams.push(`${k}=${encodeURIComponent(JSON.stringify(param))}`);\n                }\n                else {\n                    if (typeof param === 'string' ||\n                        typeof param === 'number' ||\n                        typeof param === 'boolean') {\n                        newParams.push(`${k}=${encodeURIComponent(param)}`);\n                    }\n                }\n            }\n            return newParams.join('&');\n        };\n    }\n}\n\nconst decoders = {};\nconst decodeDatetimeType = (input) => new Date(Math.floor(input / 1000000));\ndecoders.DatetimeType = decodeDatetimeType;\nconst decode = (typeMappings, input) => {\n    if (!input || Object.keys(typeMappings).length === 0)\n        return input;\n    Object.keys(typeMappings).forEach((key) => {\n        if (input[key] != null) {\n            if (typeMappings[key]) {\n                const decoder = decoders[typeMappings[key].type];\n                if (decoder) {\n                    if (typeMappings[key].isSingle) {\n                        input[key] = decoder(input[key]);\n                    }\n                    else {\n                        Object.keys(input[key]).forEach((k) => {\n                            input[key][k] = decoder(input[key][k]);\n                        });\n                    }\n                }\n            }\n        }\n    });\n    return input;\n};\ndecoders.ActionLog = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        target_user: { type: 'User', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActionLogResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        target_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AppResponseFields = (input) => {\n    const typeMappings = {\n        call_types: { type: 'CallType', isSingle: false },\n        channel_configs: { type: 'ChannelConfig', isSingle: false },\n        push_notifications: { type: 'PushNotificationFields', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AutomodDetails = (input) => {\n    const typeMappings = {\n        result: { type: 'MessageModerationResult', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Ban = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        target: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BanResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        banned_by: { type: 'UserResponse', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockListResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockUsersResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockedUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        blocked_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallParticipantResponse = (input) => {\n    const typeMappings = {\n        joined_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecording = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallReportResponse = (input) => {\n    const typeMappings = {\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        starts_at: { type: 'DatetimeType', isSingle: true },\n        session: { type: 'CallSessionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionResponse = (input) => {\n    const typeMappings = {\n        participants: { type: 'CallParticipantResponse', isSingle: false },\n        accepted_by: { type: 'DatetimeType', isSingle: false },\n        missed_by: { type: 'DatetimeType', isSingle: false },\n        rejected_by: { type: 'DatetimeType', isSingle: false },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        live_ended_at: { type: 'DatetimeType', isSingle: true },\n        live_started_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        timer_ends_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStatsReportSummaryResponse = (input) => {\n    const typeMappings = {\n        first_stats_time: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscription = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallType = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        segments: { type: 'Segment', isSingle: false },\n        users: { type: 'UserResponse', isSingle: false },\n        stats: { type: 'CampaignStatsResponse', isSingle: true },\n        scheduled_for: { type: 'DatetimeType', isSingle: true },\n        stop_at: { type: 'DatetimeType', isSingle: true },\n        sender: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignStatsResponse = (input) => {\n    const typeMappings = {\n        stats_completed_at: { type: 'DatetimeType', isSingle: true },\n        stats_started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Channel = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        invites: { type: 'ChannelMember', isSingle: false },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfig', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        truncated_by: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfigWithInfo = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMember = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        archived_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        archived_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        mute_expires_at: { type: 'DatetimeType', isSingle: true },\n        truncated_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfigWithInfo', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        truncated_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelTypeConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CheckResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Command = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ConfigResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateGuestResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateRoleResponse = (input) => {\n    const typeMappings = {\n        role: { type: 'Role', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CustomCheckResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteCallResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteReactionResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Device = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeviceResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EgressRTMPResponse = (input) => {\n    const typeMappings = {\n        started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EntityCreator = (input) => {\n    const typeMappings = {\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        push_notifications: { type: 'PushNotificationSettings', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EntityCreatorResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EventResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'WSEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ExportUserResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n        reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Flag2 = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Flag2Response = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagDetails = (input) => {\n    const typeMappings = {\n        automod: { type: 'AutomodDetails', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagFeedback = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FullUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetApplicationResponse = (input) => {\n    const typeMappings = {\n        app: { type: 'AppResponseFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockedUsersResponse = (input) => {\n    const typeMappings = {\n        blocks: { type: 'BlockedUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCampaignResponse = (input) => {\n    const typeMappings = {\n        campaign: { type: 'CampaignResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCommandResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetExportChannelsStatusResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetManyMessagesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageWithChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetOrCreateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'Reaction', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetRepliesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        history: { type: 'ReviewQueueItemResponse', isSingle: false },\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetSegmentResponse = (input) => {\n    const typeMappings = {\n        segment: { type: 'SegmentResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetTaskResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetThreadResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadStateResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetUserModerationReportResponse = (input) => {\n    const typeMappings = {\n        user_blocks: { type: 'UserBlock', isSingle: false },\n        user_mutes: { type: 'UserMute', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GoLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTask = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        history: { type: 'ImportTaskHistory', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTaskHistory = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklists: { type: 'BlockListResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCallTypeResponse = (input) => {\n    const typeMappings = {\n        call_types: { type: 'CallTypeResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListChannelTypesResponse = (input) => {\n    const typeMappings = {\n        channel_types: { type: 'ChannelTypeConfig', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCommandsResponse = (input) => {\n    const typeMappings = {\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListDevicesResponse = (input) => {\n    const typeMappings = {\n        devices: { type: 'DeviceResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListImportsResponse = (input) => {\n    const typeMappings = {\n        import_tasks: { type: 'ImportTask', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListPushProvidersResponse = (input) => {\n    const typeMappings = {\n        push_providers: { type: 'PushProviderResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRecordingsResponse = (input) => {\n    const typeMappings = {\n        recordings: { type: 'CallRecording', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRolesResponse = (input) => {\n    const typeMappings = {\n        roles: { type: 'Role', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListTranscriptionsResponse = (input) => {\n    const typeMappings = {\n        transcriptions: { type: 'CallTranscription', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MarkReadResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'MessageReadEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Message = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'Reaction', isSingle: false },\n        mentioned_users: { type: 'User', isSingle: false },\n        own_reactions: { type: 'Reaction', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        pinned_by: { type: 'User', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        quoted_message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageFlagResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        approved_at: { type: 'DatetimeType', isSingle: true },\n        rejected_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        details: { type: 'FlagDetails', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        moderation_feedback: { type: 'FlagFeedback', isSingle: true },\n        moderation_result: { type: 'MessageModerationResult', isSingle: true },\n        reviewed_by: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageHistoryEntryResponse = (input) => {\n    const typeMappings = {\n        message_updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageModerationResult = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageReadEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageWithChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationUsageStats = (input) => {\n    const typeMappings = {\n        reference_date: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteChannelResponse = (input) => {\n    const typeMappings = {\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        channel_mute: { type: 'ChannelMute', isSingle: true },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteResponse = (input) => {\n    const typeMappings = {\n        mutes: { type: 'UserMute', isSingle: false },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.NullTime = (input) => {\n    const typeMappings = {\n        value: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUser = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'Device', isSingle: false },\n        mutes: { type: 'UserMute', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        push_notifications: { type: 'PushNotificationSettings', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PendingMessageResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Poll = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVote', isSingle: false },\n        own_votes: { type: 'PollVote', isSingle: false },\n        created_by: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponse = (input) => {\n    const typeMappings = {\n        poll: { type: 'PollResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVoteResponseData', isSingle: false },\n        own_votes: { type: 'PollVoteResponseData', isSingle: false },\n        created_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVote = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponse = (input) => {\n    const typeMappings = {\n        vote: { type: 'PollVoteResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVotesResponse = (input) => {\n    const typeMappings = {\n        votes: { type: 'PollVoteResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationFields = (input) => {\n    const typeMappings = {\n        providers: { type: 'PushProvider', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationSettings = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationSettingsResponse = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProvider = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProviderResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryBannedUsersResponse = (input) => {\n    const typeMappings = {\n        bans: { type: 'BanResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallStatsResponse = (input) => {\n    const typeMappings = {\n        reports: { type: 'CallStatsReportSummaryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallsResponse = (input) => {\n    const typeMappings = {\n        calls: { type: 'CallStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCampaignsResponse = (input) => {\n    const typeMappings = {\n        campaigns: { type: 'CampaignResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryChannelsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'ChannelStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplate = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplatesResponse = (input) => {\n    const typeMappings = {\n        templates: { type: 'QueryFeedModerationTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageFlagsResponse = (input) => {\n    const typeMappings = {\n        flags: { type: 'MessageFlagResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageHistoryResponse = (input) => {\n    const typeMappings = {\n        message_history: { type: 'MessageHistoryEntryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationConfigsResponse = (input) => {\n    const typeMappings = {\n        configs: { type: 'ConfigResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationLogsResponse = (input) => {\n    const typeMappings = {\n        logs: { type: 'ActionLogResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryPollsResponse = (input) => {\n    const typeMappings = {\n        polls: { type: 'PollResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'ReactionResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReviewQueueResponse = (input) => {\n    const typeMappings = {\n        items: { type: 'ReviewQueueItemResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QuerySegmentTargetsResponse = (input) => {\n    const typeMappings = {\n        targets: { type: 'SegmentTargetResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QuerySegmentsResponse = (input) => {\n    const typeMappings = {\n        segments: { type: 'SegmentResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryThreadsResponse = (input) => {\n    const typeMappings = {\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryUsageStatsResponse = (input) => {\n    const typeMappings = {\n        items: { type: 'ModerationUsageStats', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Reaction = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionGroupResponse = (input) => {\n    const typeMappings = {\n        first_reaction_at: { type: 'DatetimeType', isSingle: true },\n        last_reaction_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReadStateResponse = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItem = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        actions: { type: 'ActionLog', isSingle: false },\n        bans: { type: 'Ban', isSingle: false },\n        flags: { type: 'Flag2', isSingle: false },\n        completed_at: { type: 'NullTime', isSingle: true },\n        reviewed_at: { type: 'NullTime', isSingle: true },\n        assigned_to: { type: 'User', isSingle: true },\n        entity_creator: { type: 'EntityCreator', isSingle: true },\n        feeds_v2_reaction: { type: 'Reaction', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        actions: { type: 'ActionLogResponse', isSingle: false },\n        bans: { type: 'Ban', isSingle: false },\n        flags: { type: 'Flag2Response', isSingle: false },\n        completed_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        assigned_to: { type: 'UserResponse', isSingle: true },\n        entity_creator: { type: 'EntityCreatorResponse', isSingle: true },\n        feeds_v2_reaction: { type: 'Reaction', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Role = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResult = (input) => {\n    const typeMappings = {\n        message: { type: 'SearchResultMessage', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResultMessage = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Segment = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SegmentResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SegmentTargetResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendReactionResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.StartCampaignResponse = (input) => {\n    const typeMappings = {\n        campaign: { type: 'CampaignResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.StopLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SubmitActionResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadParticipant = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        last_read_at: { type: 'DatetimeType', isSingle: true },\n        last_thread_message_at: { type: 'DatetimeType', isSingle: true },\n        left_thread_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadStateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_replies: { type: 'MessageResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.TruncateChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsBatchResponse = (input) => {\n    const typeMappings = {\n        counts_by_user: { type: 'UnreadCountsResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsChannel = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsThread = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelPartialResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMemberResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMemberPartialResponse = (input) => {\n    const typeMappings = {\n        channel_member: { type: 'ChannelMemberResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessagePartialResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateThreadPartialResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertModerationTemplateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushProviderResponse = (input) => {\n    const typeMappings = {\n        push_provider: { type: 'PushProviderResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.User = (input) => {\n    const typeMappings = {\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        push_notifications: { type: 'PushNotificationSettings', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserBlock = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'User', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMuteResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WSEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        me: { type: 'OwnUserResponse', isSingle: true },\n        member: { type: 'ChannelMember', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        poll_vote: { type: 'PollVoteResponseData', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WrappedUnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\n\nclass CommonApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.getApp = () => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const response = yield this.sendRequest('GET', '/api/v2/app', undefined, undefined);\n            (_a = decoders.GetApplicationResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateApp = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                async_url_enrich_enabled: request === null || request === void 0 ? void 0 : request.async_url_enrich_enabled,\n                auto_translation_enabled: request === null || request === void 0 ? void 0 : request.auto_translation_enabled,\n                before_message_send_hook_url: request === null || request === void 0 ? void 0 : request.before_message_send_hook_url,\n                cdn_expiration_seconds: request === null || request === void 0 ? void 0 : request.cdn_expiration_seconds,\n                channel_hide_members_only: request === null || request === void 0 ? void 0 : request.channel_hide_members_only,\n                custom_action_handler_url: request === null || request === void 0 ? void 0 : request.custom_action_handler_url,\n                disable_auth_checks: request === null || request === void 0 ? void 0 : request.disable_auth_checks,\n                disable_permissions_checks: request === null || request === void 0 ? void 0 : request.disable_permissions_checks,\n                enforce_unique_usernames: request === null || request === void 0 ? void 0 : request.enforce_unique_usernames,\n                feeds_moderation_enabled: request === null || request === void 0 ? void 0 : request.feeds_moderation_enabled,\n                feeds_v2_region: request === null || request === void 0 ? void 0 : request.feeds_v2_region,\n                image_moderation_enabled: request === null || request === void 0 ? void 0 : request.image_moderation_enabled,\n                migrate_permissions_to_v2: request === null || request === void 0 ? void 0 : request.migrate_permissions_to_v2,\n                moderation_enabled: request === null || request === void 0 ? void 0 : request.moderation_enabled,\n                moderation_webhook_url: request === null || request === void 0 ? void 0 : request.moderation_webhook_url,\n                multi_tenant_enabled: request === null || request === void 0 ? void 0 : request.multi_tenant_enabled,\n                permission_version: request === null || request === void 0 ? void 0 : request.permission_version,\n                reminders_interval: request === null || request === void 0 ? void 0 : request.reminders_interval,\n                reminders_max_members: request === null || request === void 0 ? void 0 : request.reminders_max_members,\n                revoke_tokens_issued_before: request === null || request === void 0 ? void 0 : request.revoke_tokens_issued_before,\n                sns_key: request === null || request === void 0 ? void 0 : request.sns_key,\n                sns_secret: request === null || request === void 0 ? void 0 : request.sns_secret,\n                sns_topic_arn: request === null || request === void 0 ? void 0 : request.sns_topic_arn,\n                sqs_key: request === null || request === void 0 ? void 0 : request.sqs_key,\n                sqs_secret: request === null || request === void 0 ? void 0 : request.sqs_secret,\n                sqs_url: request === null || request === void 0 ? void 0 : request.sqs_url,\n                webhook_url: request === null || request === void 0 ? void 0 : request.webhook_url,\n                allowed_flag_reasons: request === null || request === void 0 ? void 0 : request.allowed_flag_reasons,\n                image_moderation_block_labels: request === null || request === void 0 ? void 0 : request.image_moderation_block_labels,\n                image_moderation_labels: request === null || request === void 0 ? void 0 : request.image_moderation_labels,\n                user_search_disallowed_roles: request === null || request === void 0 ? void 0 : request.user_search_disallowed_roles,\n                webhook_events: request === null || request === void 0 ? void 0 : request.webhook_events,\n                apn_config: request === null || request === void 0 ? void 0 : request.apn_config,\n                async_moderation_config: request === null || request === void 0 ? void 0 : request.async_moderation_config,\n                datadog_info: request === null || request === void 0 ? void 0 : request.datadog_info,\n                file_upload_config: request === null || request === void 0 ? void 0 : request.file_upload_config,\n                firebase_config: request === null || request === void 0 ? void 0 : request.firebase_config,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                huawei_config: request === null || request === void 0 ? void 0 : request.huawei_config,\n                image_upload_config: request === null || request === void 0 ? void 0 : request.image_upload_config,\n                push_config: request === null || request === void 0 ? void 0 : request.push_config,\n                xiaomi_config: request === null || request === void 0 ? void 0 : request.xiaomi_config,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/app', undefined, undefined, body);\n            (_b = decoders.Response) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listBlockLists = () => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const response = yield this.sendRequest('GET', '/api/v2/blocklists', undefined, undefined);\n            (_c = decoders.ListBlockListResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                words: request === null || request === void 0 ? void 0 : request.words,\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/blocklists', undefined, undefined, body);\n            (_d = decoders.Response) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/blocklists/{name}', pathParams, undefined);\n            (_e = decoders.Response) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/blocklists/{name}', pathParams, undefined);\n            (_f = decoders.GetBlockListResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                words: request === null || request === void 0 ? void 0 : request.words,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/blocklists/{name}', pathParams, undefined, body);\n            (_g = decoders.Response) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkPush = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const body = {\n                apn_template: request === null || request === void 0 ? void 0 : request.apn_template,\n                firebase_data_template: request === null || request === void 0 ? void 0 : request.firebase_data_template,\n                firebase_template: request === null || request === void 0 ? void 0 : request.firebase_template,\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                push_provider_name: request === null || request === void 0 ? void 0 : request.push_provider_name,\n                push_provider_type: request === null || request === void 0 ? void 0 : request.push_provider_type,\n                skip_devices: request === null || request === void 0 ? void 0 : request.skip_devices,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_push', undefined, undefined, body);\n            (_h = decoders.CheckPushResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkSNS = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const body = {\n                sns_key: request === null || request === void 0 ? void 0 : request.sns_key,\n                sns_secret: request === null || request === void 0 ? void 0 : request.sns_secret,\n                sns_topic_arn: request === null || request === void 0 ? void 0 : request.sns_topic_arn,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_sns', undefined, undefined, body);\n            (_j = decoders.CheckSNSResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkSQS = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const body = {\n                sqs_key: request === null || request === void 0 ? void 0 : request.sqs_key,\n                sqs_secret: request === null || request === void 0 ? void 0 : request.sqs_secret,\n                sqs_url: request === null || request === void 0 ? void 0 : request.sqs_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_sqs', undefined, undefined, body);\n            (_k = decoders.CheckSQSResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteDevice = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const queryParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/devices', undefined, queryParams);\n            (_l = decoders.Response) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listDevices = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/devices', undefined, queryParams);\n            (_m = decoders.ListDevicesResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createDevice = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                push_provider: request === null || request === void 0 ? void 0 : request.push_provider,\n                push_provider_name: request === null || request === void 0 ? void 0 : request.push_provider_name,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voip_token: request === null || request === void 0 ? void 0 : request.voip_token,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/devices', undefined, undefined, body);\n            (_o = decoders.Response) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/export/users', undefined, undefined, body);\n            (_p = decoders.ExportUsersResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listExternalStorage = () => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const response = yield this.sendRequest('GET', '/api/v2/external_storage', undefined, undefined);\n            (_q = decoders.ListExternalStorageResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const body = {\n                bucket: request === null || request === void 0 ? void 0 : request.bucket,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                storage_type: request === null || request === void 0 ? void 0 : request.storage_type,\n                gcs_credentials: request === null || request === void 0 ? void 0 : request.gcs_credentials,\n                path: request === null || request === void 0 ? void 0 : request.path,\n                aws_s3: request === null || request === void 0 ? void 0 : request.aws_s3,\n                azure_blob: request === null || request === void 0 ? void 0 : request.azure_blob,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/external_storage', undefined, undefined, body);\n            (_r = decoders.CreateExternalStorageResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/external_storage/{name}', pathParams, undefined);\n            (_s = decoders.DeleteExternalStorageResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                bucket: request === null || request === void 0 ? void 0 : request.bucket,\n                storage_type: request === null || request === void 0 ? void 0 : request.storage_type,\n                gcs_credentials: request === null || request === void 0 ? void 0 : request.gcs_credentials,\n                path: request === null || request === void 0 ? void 0 : request.path,\n                aws_s3: request === null || request === void 0 ? void 0 : request.aws_s3,\n                azure_blob: request === null || request === void 0 ? void 0 : request.azure_blob,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/external_storage/{name}', pathParams, undefined, body);\n            (_t = decoders.UpdateExternalStorageResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/external_storage/{name}/check', pathParams, undefined);\n            (_u = decoders.CheckExternalStorageResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createGuest = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const body = {\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/guest', undefined, undefined, body);\n            (_v = decoders.CreateGuestResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createImportURL = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const body = {\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/import_urls', undefined, undefined, body);\n            (_w = decoders.CreateImportURLResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listImports = () => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const response = yield this.sendRequest('GET', '/api/v2/imports', undefined, undefined);\n            (_x = decoders.ListImportsResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createImport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const body = {\n                mode: request === null || request === void 0 ? void 0 : request.mode,\n                path: request === null || request === void 0 ? void 0 : request.path,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/imports', undefined, undefined, body);\n            (_y = decoders.CreateImportResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getImport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/imports/{id}', pathParams, undefined);\n            (_z = decoders.GetImportResponse) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOG = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/og', undefined, queryParams);\n            (_0 = decoders.GetOGResponse) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listPermissions = () => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const response = yield this.sendRequest('GET', '/api/v2/permissions', undefined, undefined);\n            (_1 = decoders.ListPermissionsResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPermission = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/permissions/{id}', pathParams, undefined);\n            (_2 = decoders.GetCustomPermissionResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listPushProviders = () => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const response = yield this.sendRequest('GET', '/api/v2/push_providers', undefined, undefined);\n            (_3 = decoders.ListPushProvidersResponse) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.upsertPushProvider = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const body = {\n                push_provider: request === null || request === void 0 ? void 0 : request.push_provider,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/push_providers', undefined, undefined, body);\n            (_4 = decoders.UpsertPushProviderResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePushProvider = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/push_providers/{type}/{name}', pathParams, undefined);\n            (_5 = decoders.Response) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getRateLimits = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const queryParams = {\n                server_side: request === null || request === void 0 ? void 0 : request.server_side,\n                android: request === null || request === void 0 ? void 0 : request.android,\n                ios: request === null || request === void 0 ? void 0 : request.ios,\n                web: request === null || request === void 0 ? void 0 : request.web,\n                endpoints: request === null || request === void 0 ? void 0 : request.endpoints,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/rate_limits', undefined, queryParams);\n            (_6 = decoders.GetRateLimitsResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listRoles = () => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const response = yield this.sendRequest('GET', '/api/v2/roles', undefined, undefined);\n            (_7 = decoders.ListRolesResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createRole = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/roles', undefined, undefined, body);\n            (_8 = decoders.CreateRoleResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteRole = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/roles/{name}', pathParams, undefined);\n            (_9 = decoders.Response) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getTask = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/tasks/{id}', pathParams, undefined);\n            (_10 = decoders.GetTaskResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users', undefined, queryParams);\n            (_11 = decoders.QueryUsersResponse) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUsersPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const body = {\n                users: request === null || request === void 0 ? void 0 : request.users,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/users', undefined, undefined, body);\n            (_12 = decoders.UpdateUsersResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const body = {\n                users: request === null || request === void 0 ? void 0 : request.users,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users', undefined, undefined, body);\n            (_13 = decoders.UpdateUsersResponse) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getBlockedUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users/block', undefined, queryParams);\n            (_14 = decoders.GetBlockedUsersResponse) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.blockUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _15;\n            const body = {\n                blocked_user_id: request === null || request === void 0 ? void 0 : request.blocked_user_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/block', undefined, undefined, body);\n            (_15 = decoders.BlockUsersResponse) === null || _15 === void 0 ? void 0 : _15.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deactivateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _16;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                mark_channels_deleted: request === null || request === void 0 ? void 0 : request.mark_channels_deleted,\n                mark_messages_deleted: request === null || request === void 0 ? void 0 : request.mark_messages_deleted,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/deactivate', undefined, undefined, body);\n            (_16 = decoders.DeactivateUsersResponse) === null || _16 === void 0 ? void 0 : _16.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _17;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                calls: request === null || request === void 0 ? void 0 : request.calls,\n                conversations: request === null || request === void 0 ? void 0 : request.conversations,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                new_call_owner_id: request === null || request === void 0 ? void 0 : request.new_call_owner_id,\n                new_channel_owner_id: request === null || request === void 0 ? void 0 : request.new_channel_owner_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/delete', undefined, undefined, body);\n            (_17 = decoders.DeleteUsersResponse) === null || _17 === void 0 ? void 0 : _17.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.reactivateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _18;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                restore_channels: request === null || request === void 0 ? void 0 : request.restore_channels,\n                restore_messages: request === null || request === void 0 ? void 0 : request.restore_messages,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/reactivate', undefined, undefined, body);\n            (_18 = decoders.ReactivateUsersResponse) === null || _18 === void 0 ? void 0 : _18.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.restoreUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _19;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/restore', undefined, undefined, body);\n            (_19 = decoders.Response) === null || _19 === void 0 ? void 0 : _19.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unblockUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _20;\n            const body = {\n                blocked_user_id: request === null || request === void 0 ? void 0 : request.blocked_user_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/unblock', undefined, undefined, body);\n            (_20 = decoders.UnblockUsersResponse) === null || _20 === void 0 ? void 0 : _20.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deactivateUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _21;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                mark_messages_deleted: request === null || request === void 0 ? void 0 : request.mark_messages_deleted,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/{user_id}/deactivate', pathParams, undefined, body);\n            (_21 = decoders.DeactivateUserResponse) === null || _21 === void 0 ? void 0 : _21.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _22;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users/{user_id}/export', pathParams, undefined);\n            (_22 = decoders.ExportUserResponse) === null || _22 === void 0 ? void 0 : _22.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.reactivateUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _23;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                restore_messages: request === null || request === void 0 ? void 0 : request.restore_messages,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/{user_id}/reactivate', pathParams, undefined, body);\n            (_23 = decoders.ReactivateUserResponse) === null || _23 === void 0 ? void 0 : _23.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass VideoApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.queryCallMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/members', undefined, undefined, body);\n            (_a = decoders.QueryCallMembersResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryCallStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/stats', undefined, undefined, body);\n            (_b = decoders.QueryCallStatsResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const queryParams = {\n                members_limit: request === null || request === void 0 ? void 0 : request.members_limit,\n                ring: request === null || request === void 0 ? void 0 : request.ring,\n                notify: request === null || request === void 0 ? void 0 : request.notify,\n                video: request === null || request === void 0 ? void 0 : request.video,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}', pathParams, queryParams);\n            (_c = decoders.GetCallResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                starts_at: request === null || request === void 0 ? void 0 : request.starts_at,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                settings_override: request === null || request === void 0 ? void 0 : request.settings_override,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body);\n            (_d = decoders.UpdateCallResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                members_limit: request === null || request === void 0 ? void 0 : request.members_limit,\n                notify: request === null || request === void 0 ? void 0 : request.notify,\n                ring: request === null || request === void 0 ? void 0 : request.ring,\n                video: request === null || request === void 0 ? void 0 : request.video,\n                data: request === null || request === void 0 ? void 0 : request.data,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body);\n            (_e = decoders.GetOrCreateCallResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.blockUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/block', pathParams, undefined, body);\n            (_f = decoders.BlockUserResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hard: request === null || request === void 0 ? void 0 : request.hard,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/delete', pathParams, undefined, body);\n            (_g = decoders.DeleteCallResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendCallEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/event', pathParams, undefined, body);\n            (_h = decoders.SendCallEventResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.collectUserFeedback = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n            };\n            const body = {\n                rating: request === null || request === void 0 ? void 0 : request.rating,\n                sdk: request === null || request === void 0 ? void 0 : request.sdk,\n                sdk_version: request === null || request === void 0 ? void 0 : request.sdk_version,\n                user_session_id: request === null || request === void 0 ? void 0 : request.user_session_id,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/feedback/{session}', pathParams, undefined, body);\n            (_j = decoders.CollectUserFeedbackResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.goLive = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                recording_storage_name: request === null || request === void 0 ? void 0 : request.recording_storage_name,\n                start_closed_caption: request === null || request === void 0 ? void 0 : request.start_closed_caption,\n                start_hls: request === null || request === void 0 ? void 0 : request.start_hls,\n                start_recording: request === null || request === void 0 ? void 0 : request.start_recording,\n                start_rtmp_broadcasts: request === null || request === void 0 ? void 0 : request.start_rtmp_broadcasts,\n                start_transcription: request === null || request === void 0 ? void 0 : request.start_transcription,\n                transcription_storage_name: request === null || request === void 0 ? void 0 : request.transcription_storage_name,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/go_live', pathParams, undefined, body);\n            (_k = decoders.GoLiveResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.endCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mark_ended', pathParams, undefined);\n            (_l = decoders.EndCallResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCallMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                remove_members: request === null || request === void 0 ? void 0 : request.remove_members,\n                update_members: request === null || request === void 0 ? void 0 : request.update_members,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/members', pathParams, undefined, body);\n            (_m = decoders.UpdateCallMembersResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.muteUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                audio: request === null || request === void 0 ? void 0 : request.audio,\n                mute_all_users: request === null || request === void 0 ? void 0 : request.mute_all_users,\n                muted_by_id: request === null || request === void 0 ? void 0 : request.muted_by_id,\n                screenshare: request === null || request === void 0 ? void 0 : request.screenshare,\n                screenshare_audio: request === null || request === void 0 ? void 0 : request.screenshare_audio,\n                video: request === null || request === void 0 ? void 0 : request.video,\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                muted_by: request === null || request === void 0 ? void 0 : request.muted_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mute_users', pathParams, undefined, body);\n            (_o = decoders.MuteUsersResponse) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.videoPin = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                session_id: request === null || request === void 0 ? void 0 : request.session_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/pin', pathParams, undefined, body);\n            (_p = decoders.PinResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listRecordings = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/recordings', pathParams, undefined);\n            (_q = decoders.ListRecordingsResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCallReport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const queryParams = {\n                session_id: request === null || request === void 0 ? void 0 : request.session_id,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/report', pathParams, queryParams);\n            (_r = decoders.GetCallReportResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startRTMPBroadcasts = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                broadcasts: request === null || request === void 0 ? void 0 : request.broadcasts,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts', pathParams, undefined, body);\n            (_s = decoders.StartRTMPBroadcastsResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopAllRTMPBroadcasts = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/stop', pathParams, undefined);\n            (_t = decoders.StopAllRTMPBroadcastsResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopRTMPBroadcast = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {};\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/{name}/stop', pathParams, undefined, body);\n            (_u = decoders.StopRTMPBroadcastsResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startHLSBroadcasting = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_broadcasting', pathParams, undefined);\n            (_v = decoders.StartHLSBroadcastingResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startClosedCaptions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                enable_transcription: request === null || request === void 0 ? void 0 : request.enable_transcription,\n                external_storage: request === null || request === void 0 ? void 0 : request.external_storage,\n                language: request === null || request === void 0 ? void 0 : request.language,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_closed_captions', pathParams, undefined, body);\n            (_w = decoders.StartClosedCaptionsResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                recording_external_storage: request === null || request === void 0 ? void 0 : request.recording_external_storage,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_recording', pathParams, undefined, body);\n            (_x = decoders.StartRecordingResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                enable_closed_captions: request === null || request === void 0 ? void 0 : request.enable_closed_captions,\n                language: request === null || request === void 0 ? void 0 : request.language,\n                transcription_external_storage: request === null || request === void 0 ? void 0 : request.transcription_external_storage,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_transcription', pathParams, undefined, body);\n            (_y = decoders.StartTranscriptionResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCallStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/stats/{session}', pathParams, undefined);\n            (_z = decoders.GetCallStatsResponse) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopHLSBroadcasting = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_broadcasting', pathParams, undefined);\n            (_0 = decoders.StopHLSBroadcastingResponse) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopClosedCaptions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                stop_transcription: request === null || request === void 0 ? void 0 : request.stop_transcription,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_closed_captions', pathParams, undefined, body);\n            (_1 = decoders.StopClosedCaptionsResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopLive = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                continue_closed_caption: request === null || request === void 0 ? void 0 : request.continue_closed_caption,\n                continue_hls: request === null || request === void 0 ? void 0 : request.continue_hls,\n                continue_recording: request === null || request === void 0 ? void 0 : request.continue_recording,\n                continue_rtmp_broadcasts: request === null || request === void 0 ? void 0 : request.continue_rtmp_broadcasts,\n                continue_transcription: request === null || request === void 0 ? void 0 : request.continue_transcription,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_live', pathParams, undefined, body);\n            (_2 = decoders.StopLiveResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_recording', pathParams, undefined);\n            (_3 = decoders.StopRecordingResponse) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                stop_closed_captions: request === null || request === void 0 ? void 0 : request.stop_closed_captions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_transcription', pathParams, undefined, body);\n            (_4 = decoders.StopTranscriptionResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listTranscriptions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/transcriptions', pathParams, undefined);\n            (_5 = decoders.ListTranscriptionsResponse) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unblockUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unblock', pathParams, undefined, body);\n            (_6 = decoders.UnblockUserResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.videoUnpin = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                session_id: request === null || request === void 0 ? void 0 : request.session_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unpin', pathParams, undefined, body);\n            (_7 = decoders.UnpinResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUserPermissions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                grant_permissions: request === null || request === void 0 ? void 0 : request.grant_permissions,\n                revoke_permissions: request === null || request === void 0 ? void 0 : request.revoke_permissions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/user_permissions', pathParams, undefined, body);\n            (_8 = decoders.UpdateUserPermissionsResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/recordings/{filename}', pathParams, undefined);\n            (_9 = decoders.DeleteRecordingResponse) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/transcriptions/{filename}', pathParams, undefined);\n            (_10 = decoders.DeleteTranscriptionResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryCalls = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/calls', undefined, undefined, body);\n            (_11 = decoders.QueryCallsResponse) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listCallTypes = () => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const response = yield this.sendRequest('GET', '/api/v2/video/calltypes', undefined, undefined);\n            (_12 = decoders.ListCallTypeResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                external_storage: request === null || request === void 0 ? void 0 : request.external_storage,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                notification_settings: request === null || request === void 0 ? void 0 : request.notification_settings,\n                settings: request === null || request === void 0 ? void 0 : request.settings,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/calltypes', undefined, undefined, body);\n            (_13 = decoders.CreateCallTypeResponse) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n            (_14 = decoders.Response) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _15;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n            (_15 = decoders.GetCallTypeResponse) === null || _15 === void 0 ? void 0 : _15.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _16;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                external_storage: request === null || request === void 0 ? void 0 : request.external_storage,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                notification_settings: request === null || request === void 0 ? void 0 : request.notification_settings,\n                settings: request === null || request === void 0 ? void 0 : request.settings,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/video/calltypes/{name}', pathParams, undefined, body);\n            (_16 = decoders.UpdateCallTypeResponse) === null || _16 === void 0 ? void 0 : _16.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getEdges = () => __awaiter(this, void 0, void 0, function* () {\n            var _17;\n            const response = yield this.sendRequest('GET', '/api/v2/video/edges', undefined, undefined);\n            (_17 = decoders.GetEdgesResponse) === null || _17 === void 0 ? void 0 : _17.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryAggregateCallStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _18;\n            const body = {\n                from: request === null || request === void 0 ? void 0 : request.from,\n                to: request === null || request === void 0 ? void 0 : request.to,\n                report_types: request === null || request === void 0 ? void 0 : request.report_types,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/stats', undefined, undefined, body);\n            (_18 = decoders.QueryAggregateCallStatsResponse) === null || _18 === void 0 ? void 0 : _18.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass CallApi {\n    constructor(videoApi, type, id) {\n        this.videoApi = videoApi;\n        this.type = type;\n        this.id = id;\n        this.get = (request) => {\n            return this.videoApi.getCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.update = (request) => {\n            return this.videoApi.updateCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getOrCreate = (request) => {\n            return this.videoApi.getOrCreateCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.blockUser = (request) => {\n            return this.videoApi.blockUser(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.delete = (request) => {\n            return this.videoApi.deleteCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendCallEvent = (request) => {\n            return this.videoApi.sendCallEvent(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.collectUserFeedback = (request) => {\n            return this.videoApi.collectUserFeedback(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.goLive = (request) => {\n            return this.videoApi.goLive(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.end = () => {\n            return this.videoApi.endCall({ id: this.id, type: this.type });\n        };\n        this.updateCallMembers = (request) => {\n            return this.videoApi.updateCallMembers(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.muteUsers = (request) => {\n            return this.videoApi.muteUsers(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.videoPin = (request) => {\n            return this.videoApi.videoPin(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.listRecordings = () => {\n            return this.videoApi.listRecordings({ id: this.id, type: this.type });\n        };\n        this.getCallReport = (request) => {\n            return this.videoApi.getCallReport(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.startRTMPBroadcasts = (request) => {\n            return this.videoApi.startRTMPBroadcasts(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopAllRTMPBroadcasts = () => {\n            return this.videoApi.stopAllRTMPBroadcasts({\n                id: this.id,\n                type: this.type,\n            });\n        };\n        this.stopRTMPBroadcast = (request) => {\n            return this.videoApi.stopRTMPBroadcast(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.startHLSBroadcasting = () => {\n            return this.videoApi.startHLSBroadcasting({ id: this.id, type: this.type });\n        };\n        this.startClosedCaptions = (request) => {\n            return this.videoApi.startClosedCaptions(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.startRecording = (request) => {\n            return this.videoApi.startRecording(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.startTranscription = (request) => {\n            return this.videoApi.startTranscription(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getCallStats = (request) => {\n            return this.videoApi.getCallStats(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopHLSBroadcasting = () => {\n            return this.videoApi.stopHLSBroadcasting({ id: this.id, type: this.type });\n        };\n        this.stopClosedCaptions = (request) => {\n            return this.videoApi.stopClosedCaptions(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopLive = (request) => {\n            return this.videoApi.stopLive(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopRecording = () => {\n            return this.videoApi.stopRecording({ id: this.id, type: this.type });\n        };\n        this.stopTranscription = (request) => {\n            return this.videoApi.stopTranscription(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.listTranscriptions = () => {\n            return this.videoApi.listTranscriptions({ id: this.id, type: this.type });\n        };\n        this.unblockUser = (request) => {\n            return this.videoApi.unblockUser(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.videoUnpin = (request) => {\n            return this.videoApi.videoUnpin(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateUserPermissions = (request) => {\n            return this.videoApi.updateUserPermissions(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteRecording = (request) => {\n            return this.videoApi.deleteRecording(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteTranscription = (request) => {\n            return this.videoApi.deleteTranscription(Object.assign({ id: this.id, type: this.type }, request));\n        };\n    }\n}\n\nclass StreamCall extends CallApi {\n    constructor() {\n        super(...arguments);\n        this.create = this.getOrCreate;\n        this.queryMembers = (request) => {\n            return this.videoApi.queryCallMembers(Object.assign({ id: this.id, type: this.type }, (request !== null && request !== void 0 ? request : {})));\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n}\n\nclass StreamVideoClient extends VideoApi {\n    constructor() {\n        super(...arguments);\n        this.call = (type, id) => {\n            return new StreamCall(this, type, id);\n        };\n    }\n}\n\nclass ChatApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.queryCampaigns = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/campaigns/query', undefined, undefined, body);\n            (_a = decoders.QueryCampaignsResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCampaign = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/campaigns/{id}', pathParams, undefined);\n            (_b = decoders.GetCampaignResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startCampaign = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                scheduled_for: request === null || request === void 0 ? void 0 : request.scheduled_for,\n                stop_at: request === null || request === void 0 ? void 0 : request.stop_at,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/campaigns/{id}/start', pathParams, undefined, body);\n            (_c = decoders.StartCampaignResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.scheduleCampaign = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {};\n            const response = yield this.sendRequest('POST', '/api/v2/chat/campaigns/{id}/stop', pathParams, undefined, body);\n            (_d = decoders.CampaignResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n                message_limit: request === null || request === void 0 ? void 0 : request.message_limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels', undefined, undefined, body);\n            (_e = decoders.QueryChannelsResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const body = {\n                cids: request === null || request === void 0 ? void 0 : request.cids,\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/delete', undefined, undefined, body);\n            (_f = decoders.DeleteChannelsResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markChannelsRead = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                read_by_channel: request === null || request === void 0 ? void 0 : request.read_by_channel,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/read', undefined, undefined, body);\n            (_g = decoders.MarkReadResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateDistinctChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const body = {\n                hide_for_creator: request === null || request === void 0 ? void 0 : request.hide_for_creator,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                thread_unread_counts: request === null || request === void 0 ? void 0 : request.thread_unread_counts,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                members: request === null || request === void 0 ? void 0 : request.members,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                watchers: request === null || request === void 0 ? void 0 : request.watchers,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/query', pathParams, undefined, body);\n            (_h = decoders.ChannelStateResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const queryParams = {\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}', pathParams, queryParams);\n            (_j = decoders.DeleteChannelResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannelPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body);\n            (_k = decoders.UpdateChannelPartialResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                accept_invite: request === null || request === void 0 ? void 0 : request.accept_invite,\n                cooldown: request === null || request === void 0 ? void 0 : request.cooldown,\n                hide_history: request === null || request === void 0 ? void 0 : request.hide_history,\n                reject_invite: request === null || request === void 0 ? void 0 : request.reject_invite,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                add_members: request === null || request === void 0 ? void 0 : request.add_members,\n                add_moderators: request === null || request === void 0 ? void 0 : request.add_moderators,\n                assign_roles: request === null || request === void 0 ? void 0 : request.assign_roles,\n                demote_moderators: request === null || request === void 0 ? void 0 : request.demote_moderators,\n                invites: request === null || request === void 0 ? void 0 : request.invites,\n                remove_members: request === null || request === void 0 ? void 0 : request.remove_members,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                message: request === null || request === void 0 ? void 0 : request.message,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body);\n            (_l = decoders.UpdateChannelResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                event: request === null || request === void 0 ? void 0 : request.event,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/event', pathParams, undefined, body);\n            (_m = decoders.EventResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteFile = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/file', pathParams, queryParams);\n            (_o = decoders.Response) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.uploadFile = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                file: request === null || request === void 0 ? void 0 : request.file,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/file', pathParams, undefined, body);\n            (_p = decoders.FileUploadResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.hideChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                clear_history: request === null || request === void 0 ? void 0 : request.clear_history,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/hide', pathParams, undefined, body);\n            (_q = decoders.HideChannelResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteImage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/image', pathParams, queryParams);\n            (_r = decoders.Response) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.uploadImage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                file: request === null || request === void 0 ? void 0 : request.file,\n                upload_sizes: request === null || request === void 0 ? void 0 : request.upload_sizes,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/image', pathParams, undefined, body);\n            (_s = decoders.ImageUploadResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMemberPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}/member/{user_id}', pathParams, undefined, body);\n            (_t = decoders.UpdateMemberPartialResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                force_moderation: request === null || request === void 0 ? void 0 : request.force_moderation,\n                keep_channel_hidden: request === null || request === void 0 ? void 0 : request.keep_channel_hidden,\n                pending: request === null || request === void 0 ? void 0 : request.pending,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                pending_message_metadata: request === null || request === void 0 ? void 0 : request.pending_message_metadata,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/message', pathParams, undefined, body);\n            (_u = decoders.SendMessageResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getManyMessages = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const queryParams = {\n                ids: request === null || request === void 0 ? void 0 : request.ids,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channels/{type}/{id}/messages', pathParams, queryParams);\n            (_v = decoders.GetManyMessagesResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hide_for_creator: request === null || request === void 0 ? void 0 : request.hide_for_creator,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                thread_unread_counts: request === null || request === void 0 ? void 0 : request.thread_unread_counts,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                members: request === null || request === void 0 ? void 0 : request.members,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                watchers: request === null || request === void 0 ? void 0 : request.watchers,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/query', pathParams, undefined, body);\n            (_w = decoders.ChannelStateResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markRead = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                thread_id: request === null || request === void 0 ? void 0 : request.thread_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/read', pathParams, undefined, body);\n            (_x = decoders.MarkReadResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.showChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/show', pathParams, undefined, body);\n            (_y = decoders.ShowChannelResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.truncateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                truncated_at: request === null || request === void 0 ? void 0 : request.truncated_at,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                message: request === null || request === void 0 ? void 0 : request.message,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/truncate', pathParams, undefined, body);\n            (_z = decoders.TruncateChannelResponse) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markUnread = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                thread_id: request === null || request === void 0 ? void 0 : request.thread_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/unread', pathParams, undefined, body);\n            (_0 = decoders.Response) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listChannelTypes = () => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channeltypes', undefined, undefined);\n            (_1 = decoders.ListChannelTypesResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const body = {\n                automod: request === null || request === void 0 ? void 0 : request.automod,\n                automod_behavior: request === null || request === void 0 ? void 0 : request.automod_behavior,\n                max_message_length: request === null || request === void 0 ? void 0 : request.max_message_length,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                blocklist: request === null || request === void 0 ? void 0 : request.blocklist,\n                blocklist_behavior: request === null || request === void 0 ? void 0 : request.blocklist_behavior,\n                connect_events: request === null || request === void 0 ? void 0 : request.connect_events,\n                custom_events: request === null || request === void 0 ? void 0 : request.custom_events,\n                mark_messages_pending: request === null || request === void 0 ? void 0 : request.mark_messages_pending,\n                message_retention: request === null || request === void 0 ? void 0 : request.message_retention,\n                mutes: request === null || request === void 0 ? void 0 : request.mutes,\n                partition_size: request === null || request === void 0 ? void 0 : request.partition_size,\n                partition_ttl: request === null || request === void 0 ? void 0 : request.partition_ttl,\n                polls: request === null || request === void 0 ? void 0 : request.polls,\n                push_notifications: request === null || request === void 0 ? void 0 : request.push_notifications,\n                reactions: request === null || request === void 0 ? void 0 : request.reactions,\n                read_events: request === null || request === void 0 ? void 0 : request.read_events,\n                replies: request === null || request === void 0 ? void 0 : request.replies,\n                search: request === null || request === void 0 ? void 0 : request.search,\n                skip_last_msg_update_for_system_msgs: request === null || request === void 0 ? void 0 : request.skip_last_msg_update_for_system_msgs,\n                typing_events: request === null || request === void 0 ? void 0 : request.typing_events,\n                uploads: request === null || request === void 0 ? void 0 : request.uploads,\n                url_enrichment: request === null || request === void 0 ? void 0 : request.url_enrichment,\n                blocklists: request === null || request === void 0 ? void 0 : request.blocklists,\n                commands: request === null || request === void 0 ? void 0 : request.commands,\n                permissions: request === null || request === void 0 ? void 0 : request.permissions,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channeltypes', undefined, undefined, body);\n            (_2 = decoders.CreateChannelTypeResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n            (_3 = decoders.Response) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n            (_4 = decoders.GetChannelTypeResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                automod: request === null || request === void 0 ? void 0 : request.automod,\n                automod_behavior: request === null || request === void 0 ? void 0 : request.automod_behavior,\n                max_message_length: request === null || request === void 0 ? void 0 : request.max_message_length,\n                blocklist: request === null || request === void 0 ? void 0 : request.blocklist,\n                blocklist_behavior: request === null || request === void 0 ? void 0 : request.blocklist_behavior,\n                connect_events: request === null || request === void 0 ? void 0 : request.connect_events,\n                custom_events: request === null || request === void 0 ? void 0 : request.custom_events,\n                mark_messages_pending: request === null || request === void 0 ? void 0 : request.mark_messages_pending,\n                mutes: request === null || request === void 0 ? void 0 : request.mutes,\n                partition_size: request === null || request === void 0 ? void 0 : request.partition_size,\n                partition_ttl: request === null || request === void 0 ? void 0 : request.partition_ttl,\n                polls: request === null || request === void 0 ? void 0 : request.polls,\n                push_notifications: request === null || request === void 0 ? void 0 : request.push_notifications,\n                quotes: request === null || request === void 0 ? void 0 : request.quotes,\n                reactions: request === null || request === void 0 ? void 0 : request.reactions,\n                read_events: request === null || request === void 0 ? void 0 : request.read_events,\n                reminders: request === null || request === void 0 ? void 0 : request.reminders,\n                replies: request === null || request === void 0 ? void 0 : request.replies,\n                search: request === null || request === void 0 ? void 0 : request.search,\n                skip_last_msg_update_for_system_msgs: request === null || request === void 0 ? void 0 : request.skip_last_msg_update_for_system_msgs,\n                typing_events: request === null || request === void 0 ? void 0 : request.typing_events,\n                uploads: request === null || request === void 0 ? void 0 : request.uploads,\n                url_enrichment: request === null || request === void 0 ? void 0 : request.url_enrichment,\n                allowed_flag_reasons: request === null || request === void 0 ? void 0 : request.allowed_flag_reasons,\n                blocklists: request === null || request === void 0 ? void 0 : request.blocklists,\n                commands: request === null || request === void 0 ? void 0 : request.commands,\n                permissions: request === null || request === void 0 ? void 0 : request.permissions,\n                automod_thresholds: request === null || request === void 0 ? void 0 : request.automod_thresholds,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/channeltypes/{name}', pathParams, undefined, body);\n            (_5 = decoders.UpdateChannelTypeResponse) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listCommands = () => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/commands', undefined, undefined);\n            (_6 = decoders.ListCommandsResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const body = {\n                description: request === null || request === void 0 ? void 0 : request.description,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                args: request === null || request === void 0 ? void 0 : request.args,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/commands', undefined, undefined, body);\n            (_7 = decoders.CreateCommandResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/commands/{name}', pathParams, undefined);\n            (_8 = decoders.DeleteCommandResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/commands/{name}', pathParams, undefined);\n            (_9 = decoders.GetCommandResponse) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                description: request === null || request === void 0 ? void 0 : request.description,\n                args: request === null || request === void 0 ? void 0 : request.args,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/commands/{name}', pathParams, undefined, body);\n            (_10 = decoders.UpdateCommandResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const body = {\n                channels: request === null || request === void 0 ? void 0 : request.channels,\n                clear_deleted_message_text: request === null || request === void 0 ? void 0 : request.clear_deleted_message_text,\n                export_users: request === null || request === void 0 ? void 0 : request.export_users,\n                include_soft_deleted_channels: request === null || request === void 0 ? void 0 : request.include_soft_deleted_channels,\n                include_truncated_messages: request === null || request === void 0 ? void 0 : request.include_truncated_messages,\n                version: request === null || request === void 0 ? void 0 : request.version,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/export_channels', undefined, undefined, body);\n            (_11 = decoders.ExportChannelsResponse) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getExportChannelsStatus = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/export_channels/{id}', pathParams, undefined);\n            (_12 = decoders.GetExportChannelsStatusResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/members', undefined, queryParams);\n            (_13 = decoders.MembersResponse) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMessageHistory = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const body = {\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/history', undefined, undefined, body);\n            (_14 = decoders.QueryMessageHistoryResponse) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _15;\n            const queryParams = {\n                hard: request === null || request === void 0 ? void 0 : request.hard,\n                deleted_by: request === null || request === void 0 ? void 0 : request.deleted_by,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n            (_15 = decoders.DeleteMessageResponse) === null || _15 === void 0 ? void 0 : _15.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _16;\n            const queryParams = {\n                show_deleted_message: request === null || request === void 0 ? void 0 : request.show_deleted_message,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n            (_16 = decoders.GetMessageResponse) === null || _16 === void 0 ? void 0 : _16.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _17;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}', pathParams, undefined, body);\n            (_17 = decoders.UpdateMessageResponse) === null || _17 === void 0 ? void 0 : _17.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMessagePartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _18;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/messages/{id}', pathParams, undefined, body);\n            (_18 = decoders.UpdateMessagePartialResponse) === null || _18 === void 0 ? void 0 : _18.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.runMessageAction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _19;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                form_data: request === null || request === void 0 ? void 0 : request.form_data,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/action', pathParams, undefined, body);\n            (_19 = decoders.MessageResponse) === null || _19 === void 0 ? void 0 : _19.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.commitMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _20;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {};\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/commit', pathParams, undefined, body);\n            (_20 = decoders.MessageResponse) === null || _20 === void 0 ? void 0 : _20.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendReaction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _21;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                reaction: request === null || request === void 0 ? void 0 : request.reaction,\n                enforce_unique: request === null || request === void 0 ? void 0 : request.enforce_unique,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/reaction', pathParams, undefined, body);\n            (_21 = decoders.SendReactionResponse) === null || _21 === void 0 ? void 0 : _21.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteReaction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _22;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{id}/reaction/{type}', pathParams, queryParams);\n            (_22 = decoders.DeleteReactionResponse) === null || _22 === void 0 ? void 0 : _22.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReactions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _23;\n            const queryParams = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{id}/reactions', pathParams, queryParams);\n            (_23 = decoders.GetReactionsResponse) === null || _23 === void 0 ? void 0 : _23.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryReactions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _24;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/reactions', pathParams, undefined, body);\n            (_24 = decoders.QueryReactionsResponse) === null || _24 === void 0 ? void 0 : _24.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.translateMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _25;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                language: request === null || request === void 0 ? void 0 : request.language,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/translate', pathParams, undefined, body);\n            (_25 = decoders.MessageResponse) === null || _25 === void 0 ? void 0 : _25.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.undeleteMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _26;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/undelete', pathParams, undefined, body);\n            (_26 = decoders.UpdateMessageResponse) === null || _26 === void 0 ? void 0 : _26.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.castPollVote = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _27;\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n                vote: request === null || request === void 0 ? void 0 : request.vote,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote', pathParams, undefined, body);\n            (_27 = decoders.PollVoteResponse) === null || _27 === void 0 ? void 0 : _27.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.removePollVote = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _28;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                vote_id: request === null || request === void 0 ? void 0 : request.vote_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote/{vote_id}', pathParams, queryParams);\n            (_28 = decoders.PollVoteResponse) === null || _28 === void 0 ? void 0 : _28.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReplies = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _29;\n            const queryParams = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n                id_gte: request === null || request === void 0 ? void 0 : request.id_gte,\n                id_gt: request === null || request === void 0 ? void 0 : request.id_gt,\n                id_lte: request === null || request === void 0 ? void 0 : request.id_lte,\n                id_lt: request === null || request === void 0 ? void 0 : request.id_lt,\n                created_at_after_or_equal: request === null || request === void 0 ? void 0 : request.created_at_after_or_equal,\n                created_at_after: request === null || request === void 0 ? void 0 : request.created_at_after,\n                created_at_before_or_equal: request === null || request === void 0 ? void 0 : request.created_at_before_or_equal,\n                created_at_before: request === null || request === void 0 ? void 0 : request.created_at_before,\n                id_around: request === null || request === void 0 ? void 0 : request.id_around,\n                created_at_around: request === null || request === void 0 ? void 0 : request.created_at_around,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n            };\n            const pathParams = {\n                parent_id: request === null || request === void 0 ? void 0 : request.parent_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{parent_id}/replies', pathParams, queryParams);\n            (_29 = decoders.GetRepliesResponse) === null || _29 === void 0 ? void 0 : _29.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMessageFlags = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _30;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/moderation/flags/message', undefined, queryParams);\n            (_30 = decoders.QueryMessageFlagsResponse) === null || _30 === void 0 ? void 0 : _30.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.muteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _31;\n            const body = {\n                expiration: request === null || request === void 0 ? void 0 : request.expiration,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                channel_cids: request === null || request === void 0 ? void 0 : request.channel_cids,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/moderation/mute/channel', undefined, undefined, body);\n            (_31 = decoders.MuteChannelResponse) === null || _31 === void 0 ? void 0 : _31.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unmuteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _32;\n            const body = {\n                expiration: request === null || request === void 0 ? void 0 : request.expiration,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                channel_cids: request === null || request === void 0 ? void 0 : request.channel_cids,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/moderation/unmute/channel', undefined, undefined, body);\n            (_32 = decoders.UnmuteResponse) === null || _32 === void 0 ? void 0 : _32.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createPoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _33;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                allow_answers: request === null || request === void 0 ? void 0 : request.allow_answers,\n                allow_user_suggested_options: request === null || request === void 0 ? void 0 : request.allow_user_suggested_options,\n                description: request === null || request === void 0 ? void 0 : request.description,\n                enforce_unique_vote: request === null || request === void 0 ? void 0 : request.enforce_unique_vote,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                is_closed: request === null || request === void 0 ? void 0 : request.is_closed,\n                max_votes_allowed: request === null || request === void 0 ? void 0 : request.max_votes_allowed,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voting_visibility: request === null || request === void 0 ? void 0 : request.voting_visibility,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls', undefined, undefined, body);\n            (_33 = decoders.PollResponse) === null || _33 === void 0 ? void 0 : _33.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _34;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                allow_answers: request === null || request === void 0 ? void 0 : request.allow_answers,\n                allow_user_suggested_options: request === null || request === void 0 ? void 0 : request.allow_user_suggested_options,\n                description: request === null || request === void 0 ? void 0 : request.description,\n                enforce_unique_vote: request === null || request === void 0 ? void 0 : request.enforce_unique_vote,\n                is_closed: request === null || request === void 0 ? void 0 : request.is_closed,\n                max_votes_allowed: request === null || request === void 0 ? void 0 : request.max_votes_allowed,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voting_visibility: request === null || request === void 0 ? void 0 : request.voting_visibility,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/polls', undefined, undefined, body);\n            (_34 = decoders.PollResponse) === null || _34 === void 0 ? void 0 : _34.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryPolls = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _35;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/query', undefined, queryParams, body);\n            (_35 = decoders.QueryPollsResponse) === null || _35 === void 0 ? void 0 : _35.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _36;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/polls/{poll_id}', pathParams, queryParams);\n            (_36 = decoders.Response) === null || _36 === void 0 ? void 0 : _36.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _37;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/polls/{poll_id}', pathParams, queryParams);\n            (_37 = decoders.PollResponse) === null || _37 === void 0 ? void 0 : _37.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePollPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _38;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/polls/{poll_id}', pathParams, undefined, body);\n            (_38 = decoders.PollResponse) === null || _38 === void 0 ? void 0 : _38.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createPollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _39;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                text: request === null || request === void 0 ? void 0 : request.text,\n                position: request === null || request === void 0 ? void 0 : request.position,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/{poll_id}/options', pathParams, undefined, body);\n            (_39 = decoders.PollOptionResponse) === null || _39 === void 0 ? void 0 : _39.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _40;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                text: request === null || request === void 0 ? void 0 : request.text,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/polls/{poll_id}/options', pathParams, undefined, body);\n            (_40 = decoders.PollOptionResponse) === null || _40 === void 0 ? void 0 : _40.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _41;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                option_id: request === null || request === void 0 ? void 0 : request.option_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n            (_41 = decoders.Response) === null || _41 === void 0 ? void 0 : _41.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _42;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                option_id: request === null || request === void 0 ? void 0 : request.option_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n            (_42 = decoders.PollOptionResponse) === null || _42 === void 0 ? void 0 : _42.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryPollVotes = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _43;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/{poll_id}/votes', pathParams, queryParams, body);\n            (_43 = decoders.PollVotesResponse) === null || _43 === void 0 ? void 0 : _43.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryBannedUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _44;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/query_banned_users', undefined, queryParams);\n            (_44 = decoders.QueryBannedUsersResponse) === null || _44 === void 0 ? void 0 : _44.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.search = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _45;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/search', undefined, queryParams);\n            (_45 = decoders.SearchResponse) === null || _45 === void 0 ? void 0 : _45.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.querySegments = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _46;\n            const body = {\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/segments/query', undefined, undefined, body);\n            (_46 = decoders.QuerySegmentsResponse) === null || _46 === void 0 ? void 0 : _46.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteSegment = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _47;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/segments/{id}', pathParams, undefined);\n            (_47 = decoders.Response) === null || _47 === void 0 ? void 0 : _47.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getSegment = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _48;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/segments/{id}', pathParams, undefined);\n            (_48 = decoders.GetSegmentResponse) === null || _48 === void 0 ? void 0 : _48.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteSegmentTargets = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _49;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                target_ids: request === null || request === void 0 ? void 0 : request.target_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/segments/{id}/deletetargets', pathParams, undefined, body);\n            (_49 = decoders.Response) === null || _49 === void 0 ? void 0 : _49.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.segmentTargetExists = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _50;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                target_id: request === null || request === void 0 ? void 0 : request.target_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/segments/{id}/target/{target_id}', pathParams, undefined);\n            (_50 = decoders.Response) === null || _50 === void 0 ? void 0 : _50.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.querySegmentTargets = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _51;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/segments/{id}/targets/query', pathParams, undefined, body);\n            (_51 = decoders.QuerySegmentTargetsResponse) === null || _51 === void 0 ? void 0 : _51.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryThreads = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _52;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                participant_limit: request === null || request === void 0 ? void 0 : request.participant_limit,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                reply_limit: request === null || request === void 0 ? void 0 : request.reply_limit,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/threads', undefined, undefined, body);\n            (_52 = decoders.QueryThreadsResponse) === null || _52 === void 0 ? void 0 : _52.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getThread = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _53;\n            const queryParams = {\n                reply_limit: request === null || request === void 0 ? void 0 : request.reply_limit,\n                participant_limit: request === null || request === void 0 ? void 0 : request.participant_limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n            };\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/threads/{message_id}', pathParams, queryParams);\n            (_53 = decoders.GetThreadResponse) === null || _53 === void 0 ? void 0 : _53.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateThreadPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _54;\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/threads/{message_id}', pathParams, undefined, body);\n            (_54 = decoders.UpdateThreadPartialResponse) === null || _54 === void 0 ? void 0 : _54.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unreadCounts = () => __awaiter(this, void 0, void 0, function* () {\n            var _55;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/unread', undefined, undefined);\n            (_55 = decoders.WrappedUnreadCountsResponse) === null || _55 === void 0 ? void 0 : _55.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unreadCountsBatch = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _56;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/unread_batch', undefined, undefined, body);\n            (_56 = decoders.UnreadCountsBatchResponse) === null || _56 === void 0 ? void 0 : _56.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendUserCustomEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _57;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                event: request === null || request === void 0 ? void 0 : request.event,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/users/{user_id}/event', pathParams, undefined, body);\n            (_57 = decoders.Response) === null || _57 === void 0 ? void 0 : _57.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass ChannelApi {\n    constructor(chatApi, type, id) {\n        this.chatApi = chatApi;\n        this.type = type;\n        this.id = id;\n        this.delete = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateChannelPartial = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateChannelPartial(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.update = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendEvent = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.sendEvent(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteFile = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteFile(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.uploadFile = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.uploadFile(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.hide = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.hideChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteImage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteImage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.uploadImage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.uploadImage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateMemberPartial = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateMemberPartial(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendMessage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.sendMessage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getManyMessages = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getManyMessages(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getOrCreate = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getOrCreateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.markRead = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.markRead(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.show = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.showChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.truncate = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.truncateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.markUnread = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.markUnread(Object.assign({ id: this.id, type: this.type }, request));\n        };\n    }\n}\n\nclass StreamChannel extends ChannelApi {\n    constructor() {\n        super(...arguments);\n        this.getOrCreate = (channel_get_or_create_request) => {\n            if (!this.id) {\n                return this.chatApi\n                    .getOrCreateDistinctChannel(Object.assign({ type: this.type }, channel_get_or_create_request))\n                    .then((response) => {\n                    var _a;\n                    this.id = (_a = response.channel) === null || _a === void 0 ? void 0 : _a.id;\n                    return response;\n                });\n            }\n            else {\n                return this.chatApi.getOrCreateChannel(Object.assign({ id: this.id, type: this.type }, channel_get_or_create_request));\n            }\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n    queryMembers(request) {\n        var _a;\n        return this.chatApi.queryMembers({\n            payload: Object.assign({ id: this.id, type: this.type }, ((_a = request === null || request === void 0 ? void 0 : request.payload) !== null && _a !== void 0 ? _a : { filter_conditions: {} })),\n        });\n    }\n}\n\nclass StreamChatClient extends ChatApi {\n    constructor() {\n        super(...arguments);\n        this.channel = (type, id) => {\n            return new StreamChannel(this, type, id);\n        };\n    }\n}\n\nclass ModerationApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.ban = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                target_user_id: request === null || request === void 0 ? void 0 : request.target_user_id,\n                banned_by_id: request === null || request === void 0 ? void 0 : request.banned_by_id,\n                channel_cid: request === null || request === void 0 ? void 0 : request.channel_cid,\n                ip_ban: request === null || request === void 0 ? void 0 : request.ip_ban,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                shadow: request === null || request === void 0 ? void 0 : request.shadow,\n                timeout: request === null || request === void 0 ? void 0 : request.timeout,\n                banned_by: request === null || request === void 0 ? void 0 : request.banned_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/ban', undefined, undefined, body);\n            (_a = decoders.BanResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.check = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                config_key: request === null || request === void 0 ? void 0 : request.config_key,\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                test_mode: request === null || request === void 0 ? void 0 : request.test_mode,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/check', undefined, undefined, body);\n            (_b = decoders.CheckResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.upsertConfig = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const body = {\n                key: request === null || request === void 0 ? void 0 : request.key,\n                async: request === null || request === void 0 ? void 0 : request.async,\n                team: request === null || request === void 0 ? void 0 : request.team,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                ai_image_config: request === null || request === void 0 ? void 0 : request.ai_image_config,\n                ai_text_config: request === null || request === void 0 ? void 0 : request.ai_text_config,\n                ai_video_config: request === null || request === void 0 ? void 0 : request.ai_video_config,\n                automod_platform_circumvention_config: request === null || request === void 0 ? void 0 : request.automod_platform_circumvention_config,\n                automod_semantic_filters_config: request === null || request === void 0 ? void 0 : request.automod_semantic_filters_config,\n                automod_toxicity_config: request === null || request === void 0 ? void 0 : request.automod_toxicity_config,\n                aws_rekognition_config: request === null || request === void 0 ? void 0 : request.aws_rekognition_config,\n                block_list_config: request === null || request === void 0 ? void 0 : request.block_list_config,\n                bodyguard_config: request === null || request === void 0 ? void 0 : request.bodyguard_config,\n                google_vision_config: request === null || request === void 0 ? void 0 : request.google_vision_config,\n                user: request === null || request === void 0 ? void 0 : request.user,\n                velocity_filter_config: request === null || request === void 0 ? void 0 : request.velocity_filter_config,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/config', undefined, undefined, body);\n            (_c = decoders.UpsertConfigResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteConfig = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const queryParams = {\n                team: request === null || request === void 0 ? void 0 : request.team,\n            };\n            const pathParams = {\n                key: request === null || request === void 0 ? void 0 : request.key,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/moderation/config/{key}', pathParams, queryParams);\n            (_d = decoders.DeleteModerationConfigResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getConfig = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const queryParams = {\n                team: request === null || request === void 0 ? void 0 : request.team,\n            };\n            const pathParams = {\n                key: request === null || request === void 0 ? void 0 : request.key,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/config/{key}', pathParams, queryParams);\n            (_e = decoders.GetConfigResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryModerationConfigs = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/configs', undefined, undefined, body);\n            (_f = decoders.QueryModerationConfigsResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.customCheck = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const body = {\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                flags: request === null || request === void 0 ? void 0 : request.flags,\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/custom_check', undefined, undefined, body);\n            (_g = decoders.CustomCheckResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2DeleteTemplate = () => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const response = yield this.sendRequest('DELETE', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n            (_h = decoders.DeleteModerationTemplateResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2QueryTemplates = () => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n            (_j = decoders.QueryFeedModerationTemplatesResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2UpsertTemplate = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                config: request === null || request === void 0 ? void 0 : request.config,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/feeds_moderation_template', undefined, undefined, body);\n            (_k = decoders.UpsertModerationTemplateResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.flag = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const body = {\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/flag', undefined, undefined, body);\n            (_l = decoders.FlagResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryModerationLogs = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/logs', undefined, undefined, body);\n            (_m = decoders.QueryModerationLogsResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getModeratorStats = () => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/moderator_stats', undefined, undefined);\n            (_o = decoders.ModeratorStatsResponse) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.mute = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const body = {\n                target_ids: request === null || request === void 0 ? void 0 : request.target_ids,\n                timeout: request === null || request === void 0 ? void 0 : request.timeout,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/mute', undefined, undefined, body);\n            (_p = decoders.MuteResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getQueueStats = () => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/queue_stats', undefined, undefined);\n            (_q = decoders.QueueStatsResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryReviewQueue = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                lock_count: request === null || request === void 0 ? void 0 : request.lock_count,\n                lock_duration: request === null || request === void 0 ? void 0 : request.lock_duration,\n                lock_items: request === null || request === void 0 ? void 0 : request.lock_items,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                stats_only: request === null || request === void 0 ? void 0 : request.stats_only,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/review_queue', undefined, undefined, body);\n            (_r = decoders.QueryReviewQueueResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReviewQueueItem = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/review_queue/{id}', pathParams, undefined);\n            (_s = decoders.GetReviewQueueItemResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.submitAction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const body = {\n                action_type: request === null || request === void 0 ? void 0 : request.action_type,\n                item_id: request === null || request === void 0 ? void 0 : request.item_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                ban: request === null || request === void 0 ? void 0 : request.ban,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                delete_activity: request === null || request === void 0 ? void 0 : request.delete_activity,\n                delete_message: request === null || request === void 0 ? void 0 : request.delete_message,\n                delete_reaction: request === null || request === void 0 ? void 0 : request.delete_reaction,\n                delete_user: request === null || request === void 0 ? void 0 : request.delete_user,\n                mark_reviewed: request === null || request === void 0 ? void 0 : request.mark_reviewed,\n                unban: request === null || request === void 0 ? void 0 : request.unban,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/submit_action', undefined, undefined, body);\n            (_t = decoders.SubmitActionResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unban = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const queryParams = {\n                target_user_id: request === null || request === void 0 ? void 0 : request.target_user_id,\n                channel_cid: request === null || request === void 0 ? void 0 : request.channel_cid,\n                created_by: request === null || request === void 0 ? void 0 : request.created_by,\n            };\n            const body = {\n                unbanned_by_id: request === null || request === void 0 ? void 0 : request.unbanned_by_id,\n                unbanned_by: request === null || request === void 0 ? void 0 : request.unbanned_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/unban', undefined, queryParams, body);\n            (_u = decoders.UnbanResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unmute = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const body = {\n                target_ids: request === null || request === void 0 ? void 0 : request.target_ids,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/unmute', undefined, undefined, body);\n            (_v = decoders.UnmuteResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryUsageStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/usage_stats', undefined, undefined, body);\n            (_w = decoders.QueryUsageStatsResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getUserReport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                create_user_if_not_exists: request === null || request === void 0 ? void 0 : request.create_user_if_not_exists,\n                include_user_mutes: request === null || request === void 0 ? void 0 : request.include_user_mutes,\n                include_user_blocks: request === null || request === void 0 ? void 0 : request.include_user_blocks,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/user_report', undefined, queryParams);\n            (_x = decoders.GetUserModerationReportResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass StreamModerationClient extends ModerationApi {\n}\n\nclass StreamClient extends CommonApi {\n    /**\n     *\n     * @param apiKey\n     * @param secret\n     * @param config config object\n     */\n    constructor(apiKey, secret, config) {\n        var _a, _b, _c;\n        const token = JWTServerToken(secret);\n        const timeout = (_a = config === null || config === void 0 ? void 0 : config.timeout) !== null && _a !== void 0 ? _a : StreamClient.DEFAULT_TIMEOUT;\n        const chatBaseUrl = (_b = config === null || config === void 0 ? void 0 : config.basePath) !== null && _b !== void 0 ? _b : 'https://chat.stream-io-api.com';\n        const videoBaseUrl = (_c = config === null || config === void 0 ? void 0 : config.basePath) !== null && _c !== void 0 ? _c : 'https://video.stream-io-api.com';\n        super({ apiKey, token, timeout, baseUrl: chatBaseUrl });\n        this.apiKey = apiKey;\n        this.secret = secret;\n        this.config = config;\n        this.options = {};\n        this.upsertUsers = (users) => {\n            const payload = {};\n            users.forEach((u) => {\n                payload[u.id] = u;\n            });\n            return this.updateUsers({ users: payload });\n        };\n        this.queryBannedUsers = (request) => {\n            return this.chat.queryBannedUsers(request);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateUserToken = (payload) => {\n            var _a, _b, _c;\n            const defaultIat = Math.floor((Date.now() - 1000) / 1000);\n            payload.iat = (_a = payload.iat) !== null && _a !== void 0 ? _a : defaultIat;\n            const validityInSeconds = (_b = payload.validity_in_seconds) !== null && _b !== void 0 ? _b : 60 * 60;\n            payload.exp = (_c = payload.exp) !== null && _c !== void 0 ? _c : payload.iat + validityInSeconds;\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateCallToken = (payload) => {\n            return this.generateUserToken(payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param exp\n         * @param iat deprecated, the default date will be set internally\n         * @returns\n         *\n         * @deprecated use generateUserToken instead\n         */\n        this.createToken = (userID, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                user_id: userID,\n                exp,\n                iat,\n            };\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param call_cids\n         * @param exp\n         * @param iat this is deprecated, the current date will be set internally\n         * @returns\n         *\n         * @deprecated use generateCallToken instead\n         */\n        this.createCallToken = (userIdOrObject, call_cids, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                exp,\n                iat,\n                call_cids,\n                user_id: typeof userIdOrObject === 'string'\n                    ? userIdOrObject\n                    : userIdOrObject.user_id,\n            };\n            if (typeof userIdOrObject === 'object' && userIdOrObject.role) {\n                payload.role = userIdOrObject.role;\n            }\n            return JWTUserToken(this.secret, payload);\n        };\n        this.verifyWebhook = (requestBody, xSignature) => {\n            const key = Buffer.from(this.secret, 'utf8');\n            const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHmac('sha256', key)\n                .update(requestBody)\n                .digest('hex');\n            try {\n                return crypto__WEBPACK_IMPORTED_MODULE_1__.timingSafeEqual(Buffer.from(hash), Buffer.from(xSignature));\n            }\n            catch (err) {\n                return false;\n            }\n        };\n        this.video = new StreamVideoClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: videoBaseUrl,\n        });\n        this.chat = new StreamChatClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n        });\n        this.moderation = new StreamModerationClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n        });\n    }\n}\nStreamClient.DEFAULT_TIMEOUT = 3000;\n\n\n//# sourceMappingURL=index.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL25vZGUtc2RrL2Rpc3QvaW5kZXguZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDTDtBQUNFOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEseUNBQUcsWUFBWSw4Q0FBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOENBQVE7QUFDbkI7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVDQUF1QztBQUN4RSxXQUFXLDhDQUFRO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztB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QUFDOUU7QUFDQSxpREFBaUQsb0JBQW9CLDZCQUE2QjtBQUNsRyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsb0JBQW9CLDZCQUE2QjtBQUNsRyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsb0JBQW9CLDZCQUE2QjtBQUNsRyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsb0JBQW9CLDZCQUE2QjtBQUNsRyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsb0JBQW9CLDZCQUE2QjtBQUNsRyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9CQUFvQiw2QkFBNkI7QUFDbEcsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9CQUFvQiw2QkFBNkI7QUFDbEcsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9CQUFvQiw2QkFBNkI7QUFDbEcsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9CQUFvQiw2QkFBNkI7QUFDbEcsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9CQUFvQiw2QkFBNkI7QUFDbEcsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxvQkFBb0IsNkJBQTZCO0FBQ2xHLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUs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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQ0U7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1EQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUU2SDtBQUM3SCIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGVzeW5jLy4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvZGlzdC9pbmRleC5lcy5tanM/YThjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuXG5jb25zdCBDaGFubmVsT3duQ2FwYWJpbGl0eSA9IHtcbiAgICBCQU5fQ0hBTk5FTF9NRU1CRVJTOiAnYmFuLWNoYW5uZWwtbWVtYmVycycsXG4gICAgQ0FTVF9QT0xMX1ZPVEU6ICdjYXN0LXBvbGwtdm90ZScsXG4gICAgQ09OTkVDVF9FVkVOVFM6ICdjb25uZWN0LWV2ZW50cycsXG4gICAgQ1JFQVRFX0FUVEFDSE1FTlQ6ICdjcmVhdGUtYXR0YWNobWVudCcsXG4gICAgREVMRVRFX0FOWV9NRVNTQUdFOiAnZGVsZXRlLWFueS1tZXNzYWdlJyxcbiAgICBERUxFVEVfQ0hBTk5FTDogJ2RlbGV0ZS1jaGFubmVsJyxcbiAgICBERUxFVEVfT1dOX01FU1NBR0U6ICdkZWxldGUtb3duLW1lc3NhZ2UnLFxuICAgIEZMQUdfTUVTU0FHRTogJ2ZsYWctbWVzc2FnZScsXG4gICAgRlJFRVpFX0NIQU5ORUw6ICdmcmVlemUtY2hhbm5lbCcsXG4gICAgSk9JTl9DSEFOTkVMOiAnam9pbi1jaGFubmVsJyxcbiAgICBMRUFWRV9DSEFOTkVMOiAnbGVhdmUtY2hhbm5lbCcsXG4gICAgTVVURV9DSEFOTkVMOiAnbXV0ZS1jaGFubmVsJyxcbiAgICBQSU5fTUVTU0FHRTogJ3Bpbi1tZXNzYWdlJyxcbiAgICBRVUVSWV9QT0xMX1ZPVEVTOiAncXVlcnktcG9sbC12b3RlcycsXG4gICAgUVVPVEVfTUVTU0FHRTogJ3F1b3RlLW1lc3NhZ2UnLFxuICAgIFJFQURfRVZFTlRTOiAncmVhZC1ldmVudHMnLFxuICAgIFNFQVJDSF9NRVNTQUdFUzogJ3NlYXJjaC1tZXNzYWdlcycsXG4gICAgU0VORF9DVVNUT01fRVZFTlRTOiAnc2VuZC1jdXN0b20tZXZlbnRzJyxcbiAgICBTRU5EX0xJTktTOiAnc2VuZC1saW5rcycsXG4gICAgU0VORF9NRVNTQUdFOiAnc2VuZC1tZXNzYWdlJyxcbiAgICBTRU5EX1BPTEw6ICdzZW5kLXBvbGwnLFxuICAgIFNFTkRfUkVBQ1RJT046ICdzZW5kLXJlYWN0aW9uJyxcbiAgICBTRU5EX1JFUExZOiAnc2VuZC1yZXBseScsXG4gICAgU0VORF9UWVBJTkdfRVZFTlRTOiAnc2VuZC10eXBpbmctZXZlbnRzJyxcbiAgICBTRVRfQ0hBTk5FTF9DT09MRE9XTjogJ3NldC1jaGFubmVsLWNvb2xkb3duJyxcbiAgICBTS0lQX1NMT1dfTU9ERTogJ3NraXAtc2xvdy1tb2RlJyxcbiAgICBTTE9XX01PREU6ICdzbG93LW1vZGUnLFxuICAgIFRZUElOR19FVkVOVFM6ICd0eXBpbmctZXZlbnRzJyxcbiAgICBVUERBVEVfQU5ZX01FU1NBR0U6ICd1cGRhdGUtYW55LW1lc3NhZ2UnLFxuICAgIFVQREFURV9DSEFOTkVMOiAndXBkYXRlLWNoYW5uZWwnLFxuICAgIFVQREFURV9DSEFOTkVMX01FTUJFUlM6ICd1cGRhdGUtY2hhbm5lbC1tZW1iZXJzJyxcbiAgICBVUERBVEVfT1dOX01FU1NBR0U6ICd1cGRhdGUtb3duLW1lc3NhZ2UnLFxuICAgIFVQREFURV9USFJFQUQ6ICd1cGRhdGUtdGhyZWFkJyxcbiAgICBVUExPQURfRklMRTogJ3VwbG9hZC1maWxlJyxcbn07XG5jb25zdCBPd25DYXBhYmlsaXR5ID0ge1xuICAgIEJMT0NLX1VTRVJTOiAnYmxvY2stdXNlcnMnLFxuICAgIENIQU5HRV9NQVhfRFVSQVRJT046ICdjaGFuZ2UtbWF4LWR1cmF0aW9uJyxcbiAgICBDUkVBVEVfQ0FMTDogJ2NyZWF0ZS1jYWxsJyxcbiAgICBDUkVBVEVfUkVBQ1RJT046ICdjcmVhdGUtcmVhY3Rpb24nLFxuICAgIEVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT046ICdlbmFibGUtbm9pc2UtY2FuY2VsbGF0aW9uJyxcbiAgICBFTkRfQ0FMTDogJ2VuZC1jYWxsJyxcbiAgICBKT0lOX0JBQ0tTVEFHRTogJ2pvaW4tYmFja3N0YWdlJyxcbiAgICBKT0lOX0NBTEw6ICdqb2luLWNhbGwnLFxuICAgIEpPSU5fRU5ERURfQ0FMTDogJ2pvaW4tZW5kZWQtY2FsbCcsXG4gICAgTVVURV9VU0VSUzogJ211dGUtdXNlcnMnLFxuICAgIFBJTl9GT1JfRVZFUllPTkU6ICdwaW4tZm9yLWV2ZXJ5b25lJyxcbiAgICBSRUFEX0NBTEw6ICdyZWFkLWNhbGwnLFxuICAgIFJFTU9WRV9DQUxMX01FTUJFUjogJ3JlbW92ZS1jYWxsLW1lbWJlcicsXG4gICAgU0NSRUVOU0hBUkU6ICdzY3JlZW5zaGFyZScsXG4gICAgU0VORF9BVURJTzogJ3NlbmQtYXVkaW8nLFxuICAgIFNFTkRfVklERU86ICdzZW5kLXZpZGVvJyxcbiAgICBTVEFSVF9CUk9BRENBU1RfQ0FMTDogJ3N0YXJ0LWJyb2FkY2FzdC1jYWxsJyxcbiAgICBTVEFSVF9DTE9TRURfQ0FQVElPTlNfQ0FMTDogJ3N0YXJ0LWNsb3NlZC1jYXB0aW9ucy1jYWxsJyxcbiAgICBTVEFSVF9SRUNPUkRfQ0FMTDogJ3N0YXJ0LXJlY29yZC1jYWxsJyxcbiAgICBTVEFSVF9UUkFOU0NSSVBUSU9OX0NBTEw6ICdzdGFydC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICAgIFNUT1BfQlJPQURDQVNUX0NBTEw6ICdzdG9wLWJyb2FkY2FzdC1jYWxsJyxcbiAgICBTVE9QX0NMT1NFRF9DQVBUSU9OU19DQUxMOiAnc3RvcC1jbG9zZWQtY2FwdGlvbnMtY2FsbCcsXG4gICAgU1RPUF9SRUNPUkRfQ0FMTDogJ3N0b3AtcmVjb3JkLWNhbGwnLFxuICAgIFNUT1BfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RvcC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICAgIFVQREFURV9DQUxMOiAndXBkYXRlLWNhbGwnLFxuICAgIFVQREFURV9DQUxMX01FTUJFUjogJ3VwZGF0ZS1jYWxsLW1lbWJlcicsXG4gICAgVVBEQVRFX0NBTExfUEVSTUlTU0lPTlM6ICd1cGRhdGUtY2FsbC1wZXJtaXNzaW9ucycsXG4gICAgVVBEQVRFX0NBTExfU0VUVElOR1M6ICd1cGRhdGUtY2FsbC1zZXR0aW5ncycsXG59O1xuXG5mdW5jdGlvbiBKV1RVc2VyVG9rZW4oYXBpU2VjcmV0LCBwYXlsb2FkKSB7XG4gICAgLy8gbWFrZSBzdXJlIHdlIHJldHVybiBhIGNsZWFyIGVycm9yIHdoZW4gand0IGlzIHNoaW1tZWQgKGllLiBicm93c2VyIGJ1aWxkKVxuICAgIGlmIChqd3QgPT0gbnVsbCB8fCBqd3Quc2lnbiA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBVbmFibGUgdG8gZmluZCBqd3QgY3J5cHRvLCBpZiB5b3UgYXJlIGdldHRpbmcgdGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHlvdSBhcmUgdHJ5aW5nIHRvIGdlbmVyYXRlIHRva2VucyBvbiBicm93c2VyIG9yIFJlYWN0IE5hdGl2ZSAob3Igb3RoZXIgZW52aXJvbm1lbnQgd2hlcmUgY3J5cHRvIGZ1bmN0aW9ucyBhcmUgbm90IGF2YWlsYWJsZSkuIFBsZWFzZSBOb3RlOiB0b2tlbiBzaG91bGQgb25seSBiZSBnZW5lcmF0ZWQgc2VydmVyLXNpZGUuYCk7XG4gICAgfVxuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgYWxnb3JpdGhtOiAnSFMyNTYnLFxuICAgICAgICBub1RpbWVzdGFtcDogdHJ1ZSxcbiAgICB9KTtcbiAgICBpZiAocGF5bG9hZC5pYXQpIHtcbiAgICAgICAgb3B0cy5ub1RpbWVzdGFtcCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgYXBpU2VjcmV0LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIEpXVFNlcnZlclRva2VuKGFwaVNlY3JldCwgand0T3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgc2VydmVyOiB0cnVlLFxuICAgIH07XG4gICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyBhbGdvcml0aG06ICdIUzI1NicsIG5vVGltZXN0YW1wOiB0cnVlIH0sIGp3dE9wdGlvbnMpO1xuICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBhcGlTZWNyZXQsIG9wdHMpO1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XG5cbmNsYXNzIFN0cmVhbUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG1ldGFkYXRhLCBjb2RlLCBlcnJvck9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgZXJyb3JPcHRpb25zKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbn1cblxuY29uc3QgZ2V0UmF0ZUxpbWl0RnJvbVJlc3BvbnNlSGVhZGVyID0gKHJlc3BvbnNlSGVhZGVycykgPT4ge1xuICAgIGNvbnN0IHJhdGVMaW1pdCA9IHJlc3BvbnNlSGVhZGVycy5oYXMoJ3gtcmF0ZWxpbWl0LWxpbWl0JylcbiAgICAgICAgPyArcmVzcG9uc2VIZWFkZXJzLmdldCgneC1yYXRlbGltaXQtbGltaXQnKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByYXRlTGltaXRSZW1haW5pbmcgPSByZXNwb25zZUhlYWRlcnMuaGFzKCd4LXJhdGVsaW1pdC1yZW1haW5pbmcnKVxuICAgICAgICA/ICtyZXNwb25zZUhlYWRlcnMuZ2V0KCd4LXJhdGVsaW1pdC1yZW1haW5pbmcnKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByYXRlTGltaXRSZXNldCA9IHJlc3BvbnNlSGVhZGVycy5oYXMoJ3gtcmF0ZWxpbWl0LXJlc2V0JylcbiAgICAgICAgPyBuZXcgRGF0ZSgrcmVzcG9uc2VIZWFkZXJzLmdldCgneC1yYXRlbGltaXQtcmVzZXQnKSAqIDEwMDApXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgcmF0ZUxpbWl0LFxuICAgICAgICByYXRlTGltaXRSZW1haW5pbmcsXG4gICAgICAgIHJhdGVMaW1pdFJlc2V0LFxuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNsYXNzIEJhc2VBcGkge1xuICAgIGNvbnN0cnVjdG9yKGFwaUNvbmZpZykge1xuICAgICAgICB0aGlzLmFwaUNvbmZpZyA9IGFwaUNvbmZpZztcbiAgICAgICAgdGhpcy5zZW5kUmVxdWVzdCA9IChtZXRob2QsIHVybCwgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMsIGJvZHkpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zID0gcXVlcnlQYXJhbXMgIT09IG51bGwgJiYgcXVlcnlQYXJhbXMgIT09IHZvaWQgMCA/IHF1ZXJ5UGFyYW1zIDoge307XG4gICAgICAgICAgICBxdWVyeVBhcmFtcy5hcGlfa2V5ID0gdGhpcy5hcGlDb25maWcuYXBpS2V5O1xuICAgICAgICAgICAgY29uc3QgZW5jb2RlZFBhcmFtcyA9IHRoaXMucXVlcnlQYXJhbXNTdHJpbmdpZnkocXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgaWYgKHBhdGhQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwYXRoUGFyYW1zKS5mb3JFYWNoKChwYXJhbU5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYHske3BhcmFtTmFtZX19YCwgcGF0aFBhcmFtc1twYXJhbU5hbWVdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVybCArPSBgPyR7ZW5jb2RlZFBhcmFtc31gO1xuICAgICAgICAgICAgY29uc3QgY2xpZW50UmVxdWVzdElkID0gdjQoKTtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogdGhpcy5hcGlDb25maWcudG9rZW4sXG4gICAgICAgICAgICAgICAgJ3N0cmVhbS1hdXRoLXR5cGUnOiAnand0JyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdYLVN0cmVhbS1DbGllbnQnOiAnc3RyZWFtLW5vZGUtJyArIFwiMC40LjlcIixcbiAgICAgICAgICAgICAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2d6aXAnLFxuICAgICAgICAgICAgICAgICd4LWNsaWVudC1yZXF1ZXN0LWlkJzogY2xpZW50UmVxdWVzdElkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IEFib3J0U2lnbmFsLnRpbWVvdXQodGhpcy5hcGlDb25maWcudGltZW91dCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYCR7dGhpcy5hcGlDb25maWcuYmFzZVVybH0ke3VybH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSByZXNwb25zZS5oZWFkZXJzO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRSZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHJhdGVMaW1pdDogZ2V0UmF0ZUxpbWl0RnJvbVJlc3BvbnNlSGVhZGVyKHJlc3BvbnNlSGVhZGVycyksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzIDwgMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA+PSAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbUVycm9yKGBTdHJlYW0gZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAtICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gLCBtZXRhZGF0YSwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyZWFtRXJyb3IoYFN0cmVhbSBlcnJvciBjb2RlICR7ZXJyb3IuY29kZX06ICR7ZXJyb3IubWVzc2FnZX1gLCBtZXRhZGF0YSwgZXJyb3IuY29kZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VCb2R5ID0gKHlpZWxkIHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgYm9keTogcmVzcG9uc2VCb2R5LCBtZXRhZGF0YSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU3RyZWFtRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRSZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29kZTogZXJyb3Iuc3RhdHVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJyB8fCBlcnJvci5uYW1lID09PSAnVGltZW91dEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyZWFtRXJyb3IoYFRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkIGR1ZSB0byB0byB0aGUgJHt0aGlzLmFwaUNvbmZpZy50aW1lb3V0fW1zIHRpbWVvdXQsIHlvdSBjYW4gc2V0IHRoZSB0aW1lb3V0IGluIHRoZSBTdHJlYW1DbGllbnQgY29uc3RydWN0b3JgLCBtZXRhZGF0YSwgdW5kZWZpbmVkLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyZWFtRXJyb3IoYFRoZSByZXF1ZXN0IGZhaWxlZCBkdWUgdG8gYW4gdW5leHBlY3RlZCBlcnJvcmAsIG1ldGFkYXRhLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVBhcmFtc1N0cmluZ2lmeSA9IChwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gcGFyYW1zW2tdO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMucHVzaChgJHtrfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbS5qb2luKCcsJykpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2gocGFyYW0udG9JU09TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2goYCR7a309JHtlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocGFyYW0pKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcGFyYW0gPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcGFyYW0gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2goYCR7a309JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW0pfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1BhcmFtcy5qb2luKCcmJyk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jb25zdCBkZWNvZGVycyA9IHt9O1xuY29uc3QgZGVjb2RlRGF0ZXRpbWVUeXBlID0gKGlucHV0KSA9PiBuZXcgRGF0ZShNYXRoLmZsb29yKGlucHV0IC8gMTAwMDAwMCkpO1xuZGVjb2RlcnMuRGF0ZXRpbWVUeXBlID0gZGVjb2RlRGF0ZXRpbWVUeXBlO1xuY29uc3QgZGVjb2RlID0gKHR5cGVNYXBwaW5ncywgaW5wdXQpID0+IHtcbiAgICBpZiAoIWlucHV0IHx8IE9iamVjdC5rZXlzKHR5cGVNYXBwaW5ncykubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgT2JqZWN0LmtleXModHlwZU1hcHBpbmdzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKGlucHV0W2tleV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVNYXBwaW5nc1trZXldKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjb2RlciA9IGRlY29kZXJzW3R5cGVNYXBwaW5nc1trZXldLnR5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChkZWNvZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlTWFwcGluZ3Nba2V5XS5pc1NpbmdsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRba2V5XSA9IGRlY29kZXIoaW5wdXRba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhpbnB1dFtrZXldKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRba2V5XVtrXSA9IGRlY29kZXIoaW5wdXRba2V5XVtrXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dDtcbn07XG5kZWNvZGVycy5BY3Rpb25Mb2cgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld19xdWV1ZV9pdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW0nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXRfdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BY3Rpb25Mb2dSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2aWV3X3F1ZXVlX2l0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRhcmdldF91c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BcHBSZXNwb25zZUZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FsbF90eXBlczogeyB0eXBlOiAnQ2FsbFR5cGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbF9jb25maWdzOiB7IHR5cGU6ICdDaGFubmVsQ29uZmlnJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogeyB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQXV0b21vZERldGFpbHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlc3VsdDogeyB0eXBlOiAnTWVzc2FnZU1vZGVyYXRpb25SZXN1bHQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5CYW4gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWwnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmFuUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbm5lZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJsb2NrVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmxvY2tlZFVzZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYmxvY2tlZF91c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsUGFydGljaXBhbnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgam9pbmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsUmVjb3JkaW5nID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBlbmRfdGltZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhcnRfdGltZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlcG9ydFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBlbmRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhcnRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBlbmRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhcnRzX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzZXNzaW9uOiB7IHR5cGU6ICdDYWxsU2Vzc2lvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFNlc3Npb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcGFydGljaXBhbnRzOiB7IHR5cGU6ICdDYWxsUGFydGljaXBhbnRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBhY2NlcHRlZF9ieTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1pc3NlZF9ieTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlamVjdGVkX2J5OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZW5kZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxpdmVfZW5kZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxpdmVfc3RhcnRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhcnRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGltZXJfZW5kc19hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZmlyc3Rfc3RhdHNfdGltZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFRyYW5zY3JpcHRpb24gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGVuZF90aW1lOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdGFydF90aW1lOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsVHlwZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FtcGFpZ25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc2VnbWVudHM6IHsgdHlwZTogJ1NlZ21lbnQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBzdGF0czogeyB0eXBlOiAnQ2FtcGFpZ25TdGF0c1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc2NoZWR1bGVkX2ZvcjogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RvcF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc2VuZGVyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYW1wYWlnblN0YXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHN0YXRzX2NvbXBsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhdHNfc3RhcnRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDaGFubmVsQ29uZmlnJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRydW5jYXRlZF9ieTogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxDb25maWdXaXRoSW5mbyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbE1lbWJlciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYXJjaGl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVfYWNjZXB0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGludml0ZV9yZWplY3RlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsTWVtYmVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFyY2hpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlX2FjY2VwdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVfcmVqZWN0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbE11dGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaGlkZV9tZXNzYWdlc19iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbXV0ZV9leHBpcmVzX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0cnVuY2F0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDaGFubmVsQ29uZmlnV2l0aEluZm8nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0cnVuY2F0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxTdGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGlubmVkX21lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVGhyZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBoaWRlX21lc3NhZ2VzX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGVuZGluZ19tZXNzYWdlczogeyB0eXBlOiAnUGVuZGluZ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWFkOiB7IHR5cGU6ICdSZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB3YXRjaGVyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcnNoaXA6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsU3RhdGVSZXNwb25zZUZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHBpbm5lZF9tZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHRocmVhZHM6IHsgdHlwZTogJ1RocmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgaGlkZV9tZXNzYWdlc19iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBlbmRpbmdfbWVzc2FnZXM6IHsgdHlwZTogJ1BlbmRpbmdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhZDogeyB0eXBlOiAnUmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgd2F0Y2hlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzaGlwOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFR5cGVDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNvbW1hbmRzOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoZWNrUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGl0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNvbW1hbmQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNvbmZpZ1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVDYWxsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVDaGFubmVsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVDb21tYW5kUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1hbmQ6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVHdWVzdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVJbXBvcnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaW1wb3J0X3Rhc2s6IHsgdHlwZTogJ0ltcG9ydFRhc2snLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DcmVhdGVSb2xlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJvbGU6IHsgdHlwZTogJ1JvbGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DdXN0b21DaGVja1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlYWN0aXZhdGVVc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlbGV0ZUNhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGVsZXRlQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWxldGVNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlbGV0ZVJlYWN0aW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGV2aWNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZXZpY2VSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRWdyZXNzUlRNUFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBzdGFydGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5FbnRpdHlDcmVhdG9yID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2VuZ2FnZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7IHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3MnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5FbnRpdHlDcmVhdG9yUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkV2ZW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGV2ZW50OiB7IHR5cGU6ICdXU0V2ZW50JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRXhwb3J0VXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GbGFnMiA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZsYWcyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZsYWdEZXRhaWxzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhdXRvbW9kOiB7IHR5cGU6ICdBdXRvbW9kRGV0YWlscycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZsYWdGZWVkYmFjayA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRnVsbFVzZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbF9tdXRlczogeyB0eXBlOiAnQ2hhbm5lbE11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbXV0ZXM6IHsgdHlwZTogJ1VzZXJNdXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczoge1xuICAgICAgICAgICAgdHlwZTogJ1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlJyxcbiAgICAgICAgICAgIGlzU2luZ2xlOiB0cnVlLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRBcHBsaWNhdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhcHA6IHsgdHlwZTogJ0FwcFJlc3BvbnNlRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0QmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrbGlzdDogeyB0eXBlOiAnQmxvY2tMaXN0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRCbG9ja2VkVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmxvY2tzOiB7IHR5cGU6ICdCbG9ja2VkVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q2FsbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q2FtcGFpZ25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FtcGFpZ246IHsgdHlwZTogJ0NhbXBhaWduUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDaGFubmVsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjb21tYW5kczogeyB0eXBlOiAnQ29tbWFuZCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDb21tYW5kUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENvbmZpZ1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb25maWc6IHsgdHlwZTogJ0NvbmZpZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0RXhwb3J0Q2hhbm5lbHNTdGF0dXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0SW1wb3J0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGltcG9ydF90YXNrOiB7IHR5cGU6ICdJbXBvcnRUYXNrJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0TWFueU1lc3NhZ2VzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0TWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlV2l0aENoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRSZWFjdGlvbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRSZXBsaWVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0UmV2aWV3UXVldWVJdGVtUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGhpc3Rvcnk6IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGl0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0U2VnbWVudFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBzZWdtZW50OiB7IHR5cGU6ICdTZWdtZW50UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRUYXNrUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFRocmVhZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0aHJlYWQ6IHsgdHlwZTogJ1RocmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRVc2VyTW9kZXJhdGlvblJlcG9ydFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyX2Jsb2NrczogeyB0eXBlOiAnVXNlckJsb2NrJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHVzZXJfbXV0ZXM6IHsgdHlwZTogJ1VzZXJNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdvTGl2ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5JbXBvcnRUYXNrID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBoaXN0b3J5OiB7IHR5cGU6ICdJbXBvcnRUYXNrSGlzdG9yeScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5JbXBvcnRUYXNrSGlzdG9yeSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdEJsb2NrTGlzdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBibG9ja2xpc3RzOiB7IHR5cGU6ICdCbG9ja0xpc3RSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0Q2FsbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FsbF90eXBlczogeyB0eXBlOiAnQ2FsbFR5cGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0Q2hhbm5lbFR5cGVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWxfdHlwZXM6IHsgdHlwZTogJ0NoYW5uZWxUeXBlQ29uZmlnJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RDb21tYW5kc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb21tYW5kczogeyB0eXBlOiAnQ29tbWFuZCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0RGV2aWNlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBkZXZpY2VzOiB7IHR5cGU6ICdEZXZpY2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0SW1wb3J0c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpbXBvcnRfdGFza3M6IHsgdHlwZTogJ0ltcG9ydFRhc2snLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdFB1c2hQcm92aWRlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHVzaF9wcm92aWRlcnM6IHsgdHlwZTogJ1B1c2hQcm92aWRlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RSZWNvcmRpbmdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlY29yZGluZ3M6IHsgdHlwZTogJ0NhbGxSZWNvcmRpbmcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdFJvbGVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJvbGVzOiB7IHR5cGU6ICdSb2xlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0cmFuc2NyaXB0aW9uczogeyB0eXBlOiAnQ2FsbFRyYW5zY3JpcHRpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWFya1JlYWRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZXZlbnQ6IHsgdHlwZTogJ01lc3NhZ2VSZWFkRXZlbnQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZW1iZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lbnRpb25lZF91c2VyczogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWFjdGlvbl9ncm91cHM6IHsgdHlwZTogJ1JlYWN0aW9uR3JvdXBSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlX3RleHRfdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGluX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcXVvdGVkX21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZUZsYWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYXBwcm92ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlamVjdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGV0YWlsczogeyB0eXBlOiAnRmxhZ0RldGFpbHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbW9kZXJhdGlvbl9mZWVkYmFjazogeyB0eXBlOiAnRmxhZ0ZlZWRiYWNrJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbW9kZXJhdGlvbl9yZXN1bHQ6IHsgdHlwZTogJ01lc3NhZ2VNb2RlcmF0aW9uUmVzdWx0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2aWV3ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VIaXN0b3J5RW50cnlSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZV91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlTW9kZXJhdGlvblJlc3VsdCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZVJlYWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2VfdGV4dF91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGlubmVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcXVvdGVkX21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uX2dyb3VwczogeyB0eXBlOiAnUmVhY3Rpb25Hcm91cFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VXaXRoQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lbnRpb25lZF91c2VyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZV90ZXh0X3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTW9kZXJhdGlvblVzYWdlU3RhdHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlZmVyZW5jZV9kYXRlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NdXRlQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsX211dGVzOiB7IHR5cGU6ICdDaGFubmVsTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsX211dGU6IHsgdHlwZTogJ0NoYW5uZWxNdXRlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgb3duX3VzZXI6IHsgdHlwZTogJ093blVzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NdXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG11dGVzOiB7IHR5cGU6ICdVc2VyTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fdXNlcjogeyB0eXBlOiAnT3duVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk51bGxUaW1lID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB2YWx1ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuT3duVXNlciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbF9tdXRlczogeyB0eXBlOiAnQ2hhbm5lbE11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG11dGVzOiB7IHR5cGU6ICdVc2VyTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfZW5nYWdlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7IHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3MnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Pd25Vc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWxfbXV0ZXM6IHsgdHlwZTogJ0NoYW5uZWxNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG11dGVzOiB7IHR5cGU6ICdVc2VyTXV0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwdXNoX25vdGlmaWNhdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZScsXG4gICAgICAgICAgICBpc1NpbmdsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUGVuZGluZ01lc3NhZ2VSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X2Fuc3dlcnM6IHsgdHlwZTogJ1BvbGxWb3RlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl92b3RlczogeyB0eXBlOiAnUG9sbFZvdGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcG9sbDogeyB0eXBlOiAnUG9sbFJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxSZXNwb25zZURhdGEgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9hbnN3ZXJzOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fdm90ZXM6IHsgdHlwZTogJ1BvbGxWb3RlUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxWb3RlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdm90ZTogeyB0eXBlOiAnUG9sbFZvdGVSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsVm90ZVJlc3BvbnNlRGF0YSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFZvdGVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHZvdGVzOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoTm90aWZpY2F0aW9uRmllbGRzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBwcm92aWRlcnM6IHsgdHlwZTogJ1B1c2hQcm92aWRlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoTm90aWZpY2F0aW9uU2V0dGluZ3MgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGRpc2FibGVkX3VudGlsOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZGlzYWJsZWRfdW50aWw6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlB1c2hQcm92aWRlciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGlzYWJsZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlB1c2hQcm92aWRlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkaXNhYmxlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlCYW5uZWRVc2Vyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBiYW5zOiB7IHR5cGU6ICdCYW5SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlcG9ydHM6IHsgdHlwZTogJ0NhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbGxzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGxzOiB7IHR5cGU6ICdDYWxsU3RhdGVSZXNwb25zZUZpZWxkcycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbXBhaWduc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYW1wYWlnbnM6IHsgdHlwZTogJ0NhbXBhaWduUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDaGFubmVsc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsczogeyB0eXBlOiAnQ2hhbm5lbFN0YXRlUmVzcG9uc2VGaWVsZHMnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUZlZWRNb2RlcmF0aW9uVGVtcGxhdGVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRlbXBsYXRlczogeyB0eXBlOiAnUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TWVzc2FnZUZsYWdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZsYWdzOiB7IHR5cGU6ICdNZXNzYWdlRmxhZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TWVzc2FnZUhpc3RvcnlSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZV9oaXN0b3J5OiB7IHR5cGU6ICdNZXNzYWdlSGlzdG9yeUVudHJ5UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlNb2RlcmF0aW9uQ29uZmlnc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb25maWdzOiB7IHR5cGU6ICdDb25maWdSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeU1vZGVyYXRpb25Mb2dzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGxvZ3M6IHsgdHlwZTogJ0FjdGlvbkxvZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5UG9sbHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcG9sbHM6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlSZWFjdGlvbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5UmV2aWV3UXVldWVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbXM6IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5U2VnbWVudFRhcmdldHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGFyZ2V0czogeyB0eXBlOiAnU2VnbWVudFRhcmdldFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5U2VnbWVudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc2VnbWVudHM6IHsgdHlwZTogJ1NlZ21lbnRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVRocmVhZHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVGhyZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVVzYWdlU3RhdHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbXM6IHsgdHlwZTogJ01vZGVyYXRpb25Vc2FnZVN0YXRzJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5VXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcnM6IHsgdHlwZTogJ0Z1bGxVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3Rpb24gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFjdGlvbkdyb3VwUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZpcnN0X3JlYWN0aW9uX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X3JlYWN0aW9uX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFjdGl2YXRlVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFkU3RhdGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbGFzdF9yZWFkOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZXZpZXdRdWV1ZUl0ZW0gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFjdGlvbnM6IHsgdHlwZTogJ0FjdGlvbkxvZycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBiYW5zOiB7IHR5cGU6ICdCYW4nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ0ZsYWcyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNvbXBsZXRlZF9hdDogeyB0eXBlOiAnTnVsbFRpbWUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9hdDogeyB0eXBlOiAnTnVsbFRpbWUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhc3NpZ25lZF90bzogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVudGl0eV9jcmVhdG9yOiB7IHR5cGU6ICdFbnRpdHlDcmVhdG9yJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZmVlZHNfdjJfcmVhY3Rpb246IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJldmlld1F1ZXVlSXRlbVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpb25zOiB7IHR5cGU6ICdBY3Rpb25Mb2dSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBiYW5zOiB7IHR5cGU6ICdCYW4nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ0ZsYWcyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY29tcGxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYXNzaWduZWRfdG86IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVudGl0eV9jcmVhdG9yOiB7IHR5cGU6ICdFbnRpdHlDcmVhdG9yUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBmZWVkc192Ml9yZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Sb2xlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZWFyY2hSZXN1bHQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ1NlYXJjaFJlc3VsdE1lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZWFyY2hSZXN1bHRNZXNzYWdlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lbnRpb25lZF91c2VyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZV90ZXh0X3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VnbWVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VnbWVudFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZWdtZW50VGFyZ2V0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNlbmRNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNlbmRSZWFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlN0YXJ0Q2FtcGFpZ25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FtcGFpZ246IHsgdHlwZTogJ0NhbXBhaWduUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TdG9wTGl2ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TdWJtaXRBY3Rpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVGhyZWFkUGFydGljaXBhbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfcmVhZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF90aHJlYWRfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGVmdF90aHJlYWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlRocmVhZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X21lc3NhZ2VfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1RocmVhZFBhcnRpY2lwYW50JywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcmVudF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UaHJlYWRTdGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVwbGllczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhZDogeyB0eXBlOiAnUmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVGhyZWFkUGFydGljaXBhbnQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGFyZW50X21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlRydW5jYXRlQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbnJlYWRDb3VudHNCYXRjaFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb3VudHNfYnlfdXNlcjogeyB0eXBlOiAnVW5yZWFkQ291bnRzUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVW5yZWFkQ291bnRzQ2hhbm5lbCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbGFzdF9yZWFkOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbnJlYWRDb3VudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ1VucmVhZENvdW50c0NoYW5uZWwnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVW5yZWFkQ291bnRzVGhyZWFkJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVucmVhZENvdW50c1RocmVhZCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbGFzdF9yZWFkOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNoYW5uZWxQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQ2hhbm5lbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQ29tbWFuZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb21tYW5kOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVtYmVyUGFydGlhbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsX21lbWJlcjogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVBhcnRpYWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVUaHJlYWRQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVVc2Vyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyczogeyB0eXBlOiAnRnVsbFVzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcHNlcnRDb25maWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDb25maWdSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwc2VydE1vZGVyYXRpb25UZW1wbGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcHNlcnRQdXNoUHJvdmlkZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHVzaF9wcm92aWRlcjogeyB0eXBlOiAnUHVzaFByb3ZpZGVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2VuZ2FnZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7IHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3MnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyQmxvY2sgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJNdXRlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXQ6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlck11dGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLldTRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lOiB7IHR5cGU6ICdPd25Vc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXI6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbF92b3RlOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLldyYXBwZWRVbnJlYWRDb3VudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ1VucmVhZENvdW50c0NoYW5uZWwnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVW5yZWFkQ291bnRzVGhyZWFkJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcblxuY2xhc3MgQ29tbW9uQXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZ2V0QXBwID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9hcHAnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2EgPSBkZWNvZGVycy5HZXRBcHBsaWNhdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUFwcCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGFzeW5jX3VybF9lbnJpY2hfZW5hYmxlZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFzeW5jX3VybF9lbnJpY2hfZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBhdXRvX3RyYW5zbGF0aW9uX2VuYWJsZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvX3RyYW5zbGF0aW9uX2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgYmVmb3JlX21lc3NhZ2Vfc2VuZF9ob29rX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJlZm9yZV9tZXNzYWdlX3NlbmRfaG9va191cmwsXG4gICAgICAgICAgICAgICAgY2RuX2V4cGlyYXRpb25fc2Vjb25kczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNkbl9leHBpcmF0aW9uX3NlY29uZHMsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF9oaWRlX21lbWJlcnNfb25seTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNoYW5uZWxfaGlkZV9tZW1iZXJzX29ubHksXG4gICAgICAgICAgICAgICAgY3VzdG9tX2FjdGlvbl9oYW5kbGVyX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbV9hY3Rpb25faGFuZGxlcl91cmwsXG4gICAgICAgICAgICAgICAgZGlzYWJsZV9hdXRoX2NoZWNrczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRpc2FibGVfYXV0aF9jaGVja3MsXG4gICAgICAgICAgICAgICAgZGlzYWJsZV9wZXJtaXNzaW9uc19jaGVja3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kaXNhYmxlX3Blcm1pc3Npb25zX2NoZWNrcyxcbiAgICAgICAgICAgICAgICBlbmZvcmNlX3VuaXF1ZV91c2VybmFtZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbmZvcmNlX3VuaXF1ZV91c2VybmFtZXMsXG4gICAgICAgICAgICAgICAgZmVlZHNfbW9kZXJhdGlvbl9lbmFibGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmVlZHNfbW9kZXJhdGlvbl9lbmFibGVkLFxuICAgICAgICAgICAgICAgIGZlZWRzX3YyX3JlZ2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZlZWRzX3YyX3JlZ2lvbixcbiAgICAgICAgICAgICAgICBpbWFnZV9tb2RlcmF0aW9uX2VuYWJsZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pbWFnZV9tb2RlcmF0aW9uX2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgbWlncmF0ZV9wZXJtaXNzaW9uc190b192MjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1pZ3JhdGVfcGVybWlzc2lvbnNfdG9fdjIsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbl9lbmFibGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubW9kZXJhdGlvbl9lbmFibGVkLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb25fd2ViaG9va191cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tb2RlcmF0aW9uX3dlYmhvb2tfdXJsLFxuICAgICAgICAgICAgICAgIG11bHRpX3RlbmFudF9lbmFibGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubXVsdGlfdGVuYW50X2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbl92ZXJzaW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGVybWlzc2lvbl92ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHJlbWluZGVyc19pbnRlcnZhbDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlbWluZGVyc19pbnRlcnZhbCxcbiAgICAgICAgICAgICAgICByZW1pbmRlcnNfbWF4X21lbWJlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZW1pbmRlcnNfbWF4X21lbWJlcnMsXG4gICAgICAgICAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlLFxuICAgICAgICAgICAgICAgIHNuc19rZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfa2V5LFxuICAgICAgICAgICAgICAgIHNuc19zZWNyZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfc2VjcmV0LFxuICAgICAgICAgICAgICAgIHNuc190b3BpY19hcm46IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfdG9waWNfYXJuLFxuICAgICAgICAgICAgICAgIHNxc19rZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfa2V5LFxuICAgICAgICAgICAgICAgIHNxc19zZWNyZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfc2VjcmV0LFxuICAgICAgICAgICAgICAgIHNxc191cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfdXJsLFxuICAgICAgICAgICAgICAgIHdlYmhvb2tfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qud2ViaG9va191cmwsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF9mbGFnX3JlYXNvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hbGxvd2VkX2ZsYWdfcmVhc29ucyxcbiAgICAgICAgICAgICAgICBpbWFnZV9tb2RlcmF0aW9uX2Jsb2NrX2xhYmVsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmltYWdlX21vZGVyYXRpb25fYmxvY2tfbGFiZWxzLFxuICAgICAgICAgICAgICAgIGltYWdlX21vZGVyYXRpb25fbGFiZWxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW1hZ2VfbW9kZXJhdGlvbl9sYWJlbHMsXG4gICAgICAgICAgICAgICAgdXNlcl9zZWFyY2hfZGlzYWxsb3dlZF9yb2xlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfc2VhcmNoX2Rpc2FsbG93ZWRfcm9sZXMsXG4gICAgICAgICAgICAgICAgd2ViaG9va19ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC53ZWJob29rX2V2ZW50cyxcbiAgICAgICAgICAgICAgICBhcG5fY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXBuX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBhc3luY19tb2RlcmF0aW9uX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFzeW5jX21vZGVyYXRpb25fY29uZmlnLFxuICAgICAgICAgICAgICAgIGRhdGFkb2dfaW5mbzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRhdGFkb2dfaW5mbyxcbiAgICAgICAgICAgICAgICBmaWxlX3VwbG9hZF9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWxlX3VwbG9hZF9jb25maWcsXG4gICAgICAgICAgICAgICAgZmlyZWJhc2VfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlyZWJhc2VfY29uZmlnLFxuICAgICAgICAgICAgICAgIGdyYW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmdyYW50cyxcbiAgICAgICAgICAgICAgICBodWF3ZWlfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaHVhd2VpX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBpbWFnZV91cGxvYWRfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW1hZ2VfdXBsb2FkX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBwdXNoX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfY29uZmlnLFxuICAgICAgICAgICAgICAgIHhpYW9taV9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC54aWFvbWlfY29uZmlnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9hcHAnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2IgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0QmxvY2tMaXN0cyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvYmxvY2tsaXN0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfYyA9IGRlY29kZXJzLkxpc3RCbG9ja0xpc3RSZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVCbG9ja0xpc3QgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9kO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICB3b3JkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LndvcmRzLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2Jsb2NrbGlzdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2QgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVCbG9ja0xpc3QgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9lO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2Jsb2NrbGlzdHMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldEJsb2NrTGlzdCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Y7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvYmxvY2tsaXN0cy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9mID0gZGVjb2RlcnMuR2V0QmxvY2tMaXN0UmVzcG9uc2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQmxvY2tMaXN0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB3b3JkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LndvcmRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvYmxvY2tsaXN0cy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hlY2tQdXNoID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfaDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYXBuX3RlbXBsYXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXBuX3RlbXBsYXRlLFxuICAgICAgICAgICAgICAgIGZpcmViYXNlX2RhdGFfdGVtcGxhdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maXJlYmFzZV9kYXRhX3RlbXBsYXRlLFxuICAgICAgICAgICAgICAgIGZpcmViYXNlX3RlbXBsYXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlyZWJhc2VfdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcl9uYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfcHJvdmlkZXJfdHlwZSxcbiAgICAgICAgICAgICAgICBza2lwX2RldmljZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX2RldmljZXMsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hlY2tfcHVzaCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfaCA9IGRlY29kZXJzLkNoZWNrUHVzaFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoZWNrU05TID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfajtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc25zX2tleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc19rZXksXG4gICAgICAgICAgICAgICAgc25zX3NlY3JldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc19zZWNyZXQsXG4gICAgICAgICAgICAgICAgc25zX3RvcGljX2FybjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc190b3BpY19hcm4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hlY2tfc25zJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9qID0gZGVjb2RlcnMuQ2hlY2tTTlNSZXNwb25zZSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGVja1NRUyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2s7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNxc19rZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfa2V5LFxuICAgICAgICAgICAgICAgIHNxc19zZWNyZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfc2VjcmV0LFxuICAgICAgICAgICAgICAgIHNxc191cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfdXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoZWNrX3NxcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfayA9IGRlY29kZXJzLkNoZWNrU1FTUmVzcG9uc2UpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlRGV2aWNlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbDtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9kZXZpY2VzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX2wgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0RGV2aWNlcyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX207XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2RldmljZXMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfbSA9IGRlY29kZXJzLkxpc3REZXZpY2VzUmVzcG9uc2UpID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlRGV2aWNlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHVzaF9wcm92aWRlcixcbiAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX25hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX3Byb3ZpZGVyX25hbWUsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdm9pcF90b2tlbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZvaXBfdG9rZW4sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZGV2aWNlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfbyA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4cG9ydFVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9leHBvcnQvdXNlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3AgPSBkZWNvZGVycy5FeHBvcnRVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3AuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RFeHRlcm5hbFN0b3JhZ2UgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3E7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2UnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3EgPSBkZWNvZGVycy5MaXN0RXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF9xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlRXh0ZXJuYWxTdG9yYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYnVja2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYnVja2V0LFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VfdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0b3JhZ2VfdHlwZSxcbiAgICAgICAgICAgICAgICBnY3NfY3JlZGVudGlhbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5nY3NfY3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgcGF0aDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhdGgsXG4gICAgICAgICAgICAgICAgYXdzX3MzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXdzX3MzLFxuICAgICAgICAgICAgICAgIGF6dXJlX2Jsb2I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5henVyZV9ibG9iLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2UnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3IgPSBkZWNvZGVycy5DcmVhdGVFeHRlcm5hbFN0b3JhZ2VSZXNwb25zZSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVFeHRlcm5hbFN0b3JhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9zO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2Uve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfcyA9IGRlY29kZXJzLkRlbGV0ZUV4dGVybmFsU3RvcmFnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3MuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUV4dGVybmFsU3RvcmFnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYnVja2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYnVja2V0LFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VfdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0b3JhZ2VfdHlwZSxcbiAgICAgICAgICAgICAgICBnY3NfY3JlZGVudGlhbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5nY3NfY3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgcGF0aDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhdGgsXG4gICAgICAgICAgICAgICAgYXdzX3MzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXdzX3MzLFxuICAgICAgICAgICAgICAgIGF6dXJlX2Jsb2I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5henVyZV9ibG9iLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvZXh0ZXJuYWxfc3RvcmFnZS97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF90ID0gZGVjb2RlcnMuVXBkYXRlRXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hlY2tFeHRlcm5hbFN0b3JhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF91O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2Uve25hbWV9L2NoZWNrJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfdSA9IGRlY29kZXJzLkNoZWNrRXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlR3Vlc3QgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF92O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9ndWVzdCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdiA9IGRlY29kZXJzLkNyZWF0ZUd1ZXN0UmVzcG9uc2UpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlSW1wb3J0VVJMID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWxlbmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9pbXBvcnRfdXJscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdyA9IGRlY29kZXJzLkNyZWF0ZUltcG9ydFVSTFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RJbXBvcnRzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF94O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9pbXBvcnRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF94ID0gZGVjb2RlcnMuTGlzdEltcG9ydHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVJbXBvcnQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF95O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtb2RlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubW9kZSxcbiAgICAgICAgICAgICAgICBwYXRoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGF0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9pbXBvcnRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF95ID0gZGVjb2RlcnMuQ3JlYXRlSW1wb3J0UmVzcG9uc2UpID09PSBudWxsIHx8IF95ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0SW1wb3J0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfejtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2ltcG9ydHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3ogPSBkZWNvZGVycy5HZXRJbXBvcnRSZXNwb25zZSkgPT09IG51bGwgfHwgX3ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF96LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRPRyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzA7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cmwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9vZycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8wID0gZGVjb2RlcnMuR2V0T0dSZXNwb25zZSkgPT09IG51bGwgfHwgXzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8wLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0UGVybWlzc2lvbnMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3Blcm1pc3Npb25zJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xID0gZGVjb2RlcnMuTGlzdFBlcm1pc3Npb25zUmVzcG9uc2UpID09PSBudWxsIHx8IF8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UGVybWlzc2lvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9wZXJtaXNzaW9ucy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMiA9IGRlY29kZXJzLkdldEN1c3RvbVBlcm1pc3Npb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0UHVzaFByb3ZpZGVycyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvcHVzaF9wcm92aWRlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzMgPSBkZWNvZGVycy5MaXN0UHVzaFByb3ZpZGVyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwc2VydFB1c2hQcm92aWRlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX3Byb3ZpZGVyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3B1c2hfcHJvdmlkZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF80ID0gZGVjb2RlcnMuVXBzZXJ0UHVzaFByb3ZpZGVyUmVzcG9uc2UpID09PSBudWxsIHx8IF80ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUHVzaFByb3ZpZGVyID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9wdXNoX3Byb3ZpZGVycy97dHlwZX0ve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNSA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFJhdGVMaW1pdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF82O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgc2VydmVyX3NpZGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXJ2ZXJfc2lkZSxcbiAgICAgICAgICAgICAgICBhbmRyb2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYW5kcm9pZCxcbiAgICAgICAgICAgICAgICBpb3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pb3MsXG4gICAgICAgICAgICAgICAgd2ViOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qud2ViLFxuICAgICAgICAgICAgICAgIGVuZHBvaW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVuZHBvaW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3JhdGVfbGltaXRzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzYgPSBkZWNvZGVycy5HZXRSYXRlTGltaXRzUmVzcG9uc2UpID09PSBudWxsIHx8IF82ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdFJvbGVzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF83O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9yb2xlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNyA9IGRlY29kZXJzLkxpc3RSb2xlc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzcuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZVJvbGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF84O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9yb2xlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfOCA9IGRlY29kZXJzLkNyZWF0ZVJvbGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF84LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVSb2xlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfOTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9yb2xlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF85ID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF85ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfOS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0VGFzayA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEwO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdGFza3Mve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzEwID0gZGVjb2RlcnMuR2V0VGFza1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzExO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi91c2VycycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8xMSA9IGRlY29kZXJzLlF1ZXJ5VXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJzUGFydGlhbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEyO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi91c2VycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTIgPSBkZWNvZGVycy5VcGRhdGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2VycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTMgPSBkZWNvZGVycy5VcGRhdGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0QmxvY2tlZFVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTQ7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3VzZXJzL2Jsb2NrJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzE0ID0gZGVjb2RlcnMuR2V0QmxvY2tlZFVzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE0LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ibG9ja1VzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTU7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGJsb2NrZWRfdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrZWRfdXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy9ibG9jaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTUgPSBkZWNvZGVycy5CbG9ja1VzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE1LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2J5X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9ieV9pZCxcbiAgICAgICAgICAgICAgICBtYXJrX2NoYW5uZWxzX2RlbGV0ZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXJrX2NoYW5uZWxzX2RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgbWFya19tZXNzYWdlc19kZWxldGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWFya19tZXNzYWdlc19kZWxldGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL2RlYWN0aXZhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE2ID0gZGVjb2RlcnMuRGVhY3RpdmF0ZVVzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE2LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE3O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWRzLFxuICAgICAgICAgICAgICAgIGNhbGxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2FsbHMsXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbnZlcnNhdGlvbnMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBuZXdfY2FsbF9vd25lcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5ld19jYWxsX293bmVyX2lkLFxuICAgICAgICAgICAgICAgIG5ld19jaGFubmVsX293bmVyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV3X2NoYW5uZWxfb3duZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvZGVsZXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xNyA9IGRlY29kZXJzLkRlbGV0ZVVzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE3LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZWFjdGl2YXRlVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xODtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2J5X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9ieV9pZCxcbiAgICAgICAgICAgICAgICByZXN0b3JlX2NoYW5uZWxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVzdG9yZV9jaGFubmVscyxcbiAgICAgICAgICAgICAgICByZXN0b3JlX21lc3NhZ2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVzdG9yZV9tZXNzYWdlcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy9yZWFjdGl2YXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xOCA9IGRlY29kZXJzLlJlYWN0aXZhdGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xOC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVzdG9yZVVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTk7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvcmVzdG9yZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTkgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzE5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTkuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVuYmxvY2tVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIwO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBibG9ja2VkX3VzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2VkX3VzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvdW5ibG9jaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjAgPSBkZWNvZGVycy5VbmJsb2NrVXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzIwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVVc2VyID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjE7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgbWFya19tZXNzYWdlc19kZWxldGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWFya19tZXNzYWdlc19kZWxldGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9kZWFjdGl2YXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjEgPSBkZWNvZGVycy5EZWFjdGl2YXRlVXNlclJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhwb3J0VXNlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIyO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9leHBvcnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8yMiA9IGRlY29kZXJzLkV4cG9ydFVzZXJSZXNwb25zZSkgPT09IG51bGwgfHwgXzIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlYWN0aXZhdGVVc2VyID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjM7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgcmVzdG9yZV9tZXNzYWdlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlc3RvcmVfbWVzc2FnZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMve3VzZXJfaWR9L3JlYWN0aXZhdGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8yMyA9IGRlY29kZXJzLlJlYWN0aXZhdGVVc2VyUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNsYXNzIFZpZGVvQXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucXVlcnlDYWxsTWVtYmVycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcl9jb25kaXRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwvbWVtYmVycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYSA9IGRlY29kZXJzLlF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeUNhbGxTdGF0cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3N0YXRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9iID0gZGVjb2RlcnMuUXVlcnlDYWxsU3RhdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDYWxsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYztcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG1lbWJlcnNfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJzX2xpbWl0LFxuICAgICAgICAgICAgICAgIHJpbmc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yaW5nLFxuICAgICAgICAgICAgICAgIG5vdGlmeTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5vdGlmeSxcbiAgICAgICAgICAgICAgICB2aWRlbzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZpZGVvLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX2MgPSBkZWNvZGVycy5HZXRDYWxsUmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzdGFydHNfYXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGFydHNfYXQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzX292ZXJyaWRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0dGluZ3Nfb3ZlcnJpZGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9kID0gZGVjb2RlcnMuVXBkYXRlQ2FsbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlQ2FsbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2U7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtZW1iZXJzX2xpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVtYmVyc19saW1pdCxcbiAgICAgICAgICAgICAgICBub3RpZnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ub3RpZnksXG4gICAgICAgICAgICAgICAgcmluZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJpbmcsXG4gICAgICAgICAgICAgICAgdmlkZW86IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52aWRlbyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGF0YSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLkdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJsb2NrVXNlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Y7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2Jsb2NrJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZiA9IGRlY29kZXJzLkJsb2NrVXNlclJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUNhbGwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9nO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaGFyZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmhhcmQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9kZWxldGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuRGVsZXRlQ2FsbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmRDYWxsRXZlbnQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9oO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9oID0gZGVjb2RlcnMuU2VuZENhbGxFdmVudFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbGxlY3RVc2VyRmVlZGJhY2sgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9qO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXNzaW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgcmF0aW5nOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmF0aW5nLFxuICAgICAgICAgICAgICAgIHNkazogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNkayxcbiAgICAgICAgICAgICAgICBzZGtfdmVyc2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNka192ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHVzZXJfc2Vzc2lvbl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfc2Vzc2lvbl9pZCxcbiAgICAgICAgICAgICAgICByZWFzb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZmVlZGJhY2sve3Nlc3Npb259JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfaiA9IGRlY29kZXJzLkNvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nb0xpdmUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9rO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkaW5nX3N0b3JhZ2VfbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlY29yZGluZ19zdG9yYWdlX25hbWUsXG4gICAgICAgICAgICAgICAgc3RhcnRfY2xvc2VkX2NhcHRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGFydF9jbG9zZWRfY2FwdGlvbixcbiAgICAgICAgICAgICAgICBzdGFydF9obHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGFydF9obHMsXG4gICAgICAgICAgICAgICAgc3RhcnRfcmVjb3JkaW5nOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhcnRfcmVjb3JkaW5nLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3J0bXBfYnJvYWRjYXN0czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0YXJ0X3J0bXBfYnJvYWRjYXN0cyxcbiAgICAgICAgICAgICAgICBzdGFydF90cmFuc2NyaXB0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhcnRfdHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uX3N0b3JhZ2VfbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRyYW5zY3JpcHRpb25fc3RvcmFnZV9uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZ29fbGl2ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2sgPSBkZWNvZGVycy5Hb0xpdmVSZXNwb25zZSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbmRDYWxsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L21hcmtfZW5kZWQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9sID0gZGVjb2RlcnMuRW5kQ2FsbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxNZW1iZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlbW92ZV9tZW1iZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVtb3ZlX21lbWJlcnMsXG4gICAgICAgICAgICAgICAgdXBkYXRlX21lbWJlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cGRhdGVfbWVtYmVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L21lbWJlcnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9tID0gZGVjb2RlcnMuVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tdXRlVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9vO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYXVkaW86IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdWRpbyxcbiAgICAgICAgICAgICAgICBtdXRlX2FsbF91c2VyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm11dGVfYWxsX3VzZXJzLFxuICAgICAgICAgICAgICAgIG11dGVkX2J5X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubXV0ZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgc2NyZWVuc2hhcmU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zY3JlZW5zaGFyZSxcbiAgICAgICAgICAgICAgICBzY3JlZW5zaGFyZV9hdWRpbzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNjcmVlbnNoYXJlX2F1ZGlvLFxuICAgICAgICAgICAgICAgIHZpZGVvOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudmlkZW8sXG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgICAgICBtdXRlZF9ieTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm11dGVkX2J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vbXV0ZV91c2VycycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX28gPSBkZWNvZGVycy5NdXRlVXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWRlb1BpbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3A7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2Vzc2lvbl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3BpbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3AgPSBkZWNvZGVycy5QaW5SZXNwb25zZSkgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0UmVjb3JkaW5ncyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3E7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3JlY29yZGluZ3MnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9xID0gZGVjb2RlcnMuTGlzdFJlY29yZGluZ3NSZXNwb25zZSkgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDYWxsUmVwb3J0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcjtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXNzaW9uX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vcmVwb3J0JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF9yID0gZGVjb2RlcnMuR2V0Q2FsbFJlcG9ydFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3IuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YXJ0UlRNUEJyb2FkY2FzdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9zO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYnJvYWRjYXN0czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJyb2FkY2FzdHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9zID0gZGVjb2RlcnMuU3RhcnRSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3MuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BBbGxSVE1QQnJvYWRjYXN0cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMvc3RvcCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3QgPSBkZWNvZGVycy5TdG9wQWxsUlRNUEJyb2FkY2FzdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdG9wUlRNUEJyb2FkY2FzdCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3U7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMve25hbWV9L3N0b3AnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF91ID0gZGVjb2RlcnMuU3RvcFJUTVBCcm9hZGNhc3RzUmVzcG9uc2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRITFNCcm9hZGNhc3RpbmcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF92O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RhcnRfYnJvYWRjYXN0aW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfdiA9IGRlY29kZXJzLlN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2UpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRDbG9zZWRDYXB0aW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3c7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBlbmFibGVfdHJhbnNjcmlwdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVuYWJsZV90cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGV4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGFuZ3VhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9jbG9zZWRfY2FwdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF93ID0gZGVjb2RlcnMuU3RhcnRDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YXJ0UmVjb3JkaW5nID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfeDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlY29yZGluZ19leHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVjb3JkaW5nX2V4dGVybmFsX3N0b3JhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF94ID0gZGVjb2RlcnMuU3RhcnRSZWNvcmRpbmdSZXNwb25zZSkgPT09IG51bGwgfHwgX3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFydFRyYW5zY3JpcHRpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF95O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlX2Nsb3NlZF9jYXB0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVuYWJsZV9jbG9zZWRfY2FwdGlvbnMsXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uX2V4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50cmFuc2NyaXB0aW9uX2V4dGVybmFsX3N0b3JhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF90cmFuc2NyaXB0aW9uJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfeSA9IGRlY29kZXJzLlN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3kuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldENhbGxTdGF0cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3o7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNlc3Npb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0YXRzL3tzZXNzaW9ufScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3ogPSBkZWNvZGVycy5HZXRDYWxsU3RhdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF96LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdG9wSExTQnJvYWRjYXN0aW5nID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfYnJvYWRjYXN0aW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMCA9IGRlY29kZXJzLlN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZSkgPT09IG51bGwgfHwgXzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8wLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdG9wQ2xvc2VkQ2FwdGlvbnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc3RvcF90cmFuc2NyaXB0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RvcF90cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF9jbG9zZWRfY2FwdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xID0gZGVjb2RlcnMuU3RvcENsb3NlZENhcHRpb25zUmVzcG9uc2UpID09PSBudWxsIHx8IF8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RvcExpdmUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29udGludWVfY2xvc2VkX2NhcHRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb250aW51ZV9jbG9zZWRfY2FwdGlvbixcbiAgICAgICAgICAgICAgICBjb250aW51ZV9obHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb250aW51ZV9obHMsXG4gICAgICAgICAgICAgICAgY29udGludWVfcmVjb3JkaW5nOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY29udGludWVfcmVjb3JkaW5nLFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlX3J0bXBfYnJvYWRjYXN0czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbnRpbnVlX3J0bXBfYnJvYWRjYXN0cyxcbiAgICAgICAgICAgICAgICBjb250aW51ZV90cmFuc2NyaXB0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY29udGludWVfdHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfbGl2ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzIgPSBkZWNvZGVycy5TdG9wTGl2ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BSZWNvcmRpbmcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8zID0gZGVjb2RlcnMuU3RvcFJlY29yZGluZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHN0b3BfY2xvc2VkX2NhcHRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RvcF9jbG9zZWRfY2FwdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdG9wX3RyYW5zY3JpcHRpb24nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF80ID0gZGVjb2RlcnMuU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0VHJhbnNjcmlwdGlvbnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS90cmFuc2NyaXB0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzUgPSBkZWNvZGVycy5MaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51bmJsb2NrVXNlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzY7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3VuYmxvY2snLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF82ID0gZGVjb2RlcnMuVW5ibG9ja1VzZXJSZXNwb25zZSkgPT09IG51bGwgfHwgXzYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF82LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWRlb1VucGluID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXNzaW9uX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vdW5waW4nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF83ID0gZGVjb2RlcnMuVW5waW5SZXNwb25zZSkgPT09IG51bGwgfHwgXzcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF83LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVVc2VyUGVybWlzc2lvbnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF84O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgZ3JhbnRfcGVybWlzc2lvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ncmFudF9wZXJtaXNzaW9ucyxcbiAgICAgICAgICAgICAgICByZXZva2VfcGVybWlzc2lvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXZva2VfcGVybWlzc2lvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS91c2VyX3Blcm1pc3Npb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfOCA9IGRlY29kZXJzLlVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVJlY29yZGluZyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzk7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNlc3Npb24sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWxlbmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0ve3Nlc3Npb259L3JlY29yZGluZ3Mve2ZpbGVuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzkgPSBkZWNvZGVycy5EZWxldGVSZWNvcmRpbmdSZXNwb25zZSkgPT09IG51bGwgfHwgXzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF85LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTA7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNlc3Npb24sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWxlbmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0ve3Nlc3Npb259L3RyYW5zY3JpcHRpb25zL3tmaWxlbmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xMCA9IGRlY29kZXJzLkRlbGV0ZVRyYW5zY3JpcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5Q2FsbHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcl9jb25kaXRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xMSA9IGRlY29kZXJzLlF1ZXJ5Q2FsbHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RDYWxsVHlwZXMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEyO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsdHlwZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzEyID0gZGVjb2RlcnMuTGlzdENhbGxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEyLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVDYWxsVHlwZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEzO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICBleHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXh0ZXJuYWxfc3RvcmFnZSxcbiAgICAgICAgICAgICAgICBncmFudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ncmFudHMsXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uX3NldHRpbmdzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qubm90aWZpY2F0aW9uX3NldHRpbmdzLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0dGluZ3MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xMyA9IGRlY29kZXJzLkNyZWF0ZUNhbGxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVDYWxsVHlwZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE0O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xNCA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0Q2FsbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsdHlwZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMTUgPSBkZWNvZGVycy5HZXRDYWxsVHlwZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNjtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBleHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXh0ZXJuYWxfc3RvcmFnZSxcbiAgICAgICAgICAgICAgICBncmFudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ncmFudHMsXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uX3NldHRpbmdzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qubm90aWZpY2F0aW9uX3NldHRpbmdzLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0dGluZ3MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi92aWRlby9jYWxsdHlwZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTYgPSBkZWNvZGVycy5VcGRhdGVDYWxsVHlwZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0RWRnZXMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE3O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9lZGdlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMTcgPSBkZWNvZGVycy5HZXRFZGdlc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xODtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZnJvbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZyb20sXG4gICAgICAgICAgICAgICAgdG86IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50byxcbiAgICAgICAgICAgICAgICByZXBvcnRfdHlwZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXBvcnRfdHlwZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vc3RhdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE4ID0gZGVjb2RlcnMuUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzE4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgQ2FsbEFwaSB7XG4gICAgY29uc3RydWN0b3IodmlkZW9BcGksIHR5cGUsIGlkKSB7XG4gICAgICAgIHRoaXMudmlkZW9BcGkgPSB2aWRlb0FwaTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmdldCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nZXRDYWxsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudXBkYXRlQ2FsbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ2V0T3JDcmVhdGVDYWxsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ibG9ja1VzZXIgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuYmxvY2tVc2VyKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZGVsZXRlQ2FsbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZENhbGxFdmVudCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zZW5kQ2FsbEV2ZW50KE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb2xsZWN0VXNlckZlZWRiYWNrID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmNvbGxlY3RVc2VyRmVlZGJhY2soT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdvTGl2ZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nb0xpdmUoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmVuZENhbGwoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxNZW1iZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnVwZGF0ZUNhbGxNZW1iZXJzKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tdXRlVXNlcnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkubXV0ZVVzZXJzKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52aWRlb1BpbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS52aWRlb1BpbihPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdFJlY29yZGluZ3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5saXN0UmVjb3JkaW5ncyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0Q2FsbFJlcG9ydCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nZXRDYWxsUmVwb3J0KE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydFJUTVBCcm9hZGNhc3RzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0UlRNUEJyb2FkY2FzdHMoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BBbGxSVE1QQnJvYWRjYXN0cyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BBbGxSVE1QQnJvYWRjYXN0cyh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcFJUTVBCcm9hZGNhc3QgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcFJUTVBCcm9hZGNhc3QoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0SExTQnJvYWRjYXN0aW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RhcnRITFNCcm9hZGNhc3RpbmcoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0Q2xvc2VkQ2FwdGlvbnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RhcnRDbG9zZWRDYXB0aW9ucyhPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhcnRSZWNvcmRpbmcgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RhcnRSZWNvcmRpbmcoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0VHJhbnNjcmlwdGlvbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydFRyYW5zY3JpcHRpb24oT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENhbGxTdGF0cyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nZXRDYWxsU3RhdHMoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BITFNCcm9hZGNhc3RpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wSExTQnJvYWRjYXN0aW5nKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wQ2xvc2VkQ2FwdGlvbnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcENsb3NlZENhcHRpb25zKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wTGl2ZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wTGl2ZShPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcFJlY29yZGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BSZWNvcmRpbmcoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BUcmFuc2NyaXB0aW9uKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0VHJhbnNjcmlwdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5saXN0VHJhbnNjcmlwdGlvbnMoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVuYmxvY2tVc2VyID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnVuYmxvY2tVc2VyKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52aWRlb1VucGluID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnZpZGVvVW5waW4oT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS51cGRhdGVVc2VyUGVybWlzc2lvbnMoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZVJlY29yZGluZyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5kZWxldGVSZWNvcmRpbmcoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZVRyYW5zY3JpcHRpb24gPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZGVsZXRlVHJhbnNjcmlwdGlvbihPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1DYWxsIGV4dGVuZHMgQ2FsbEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY3JlYXRlID0gdGhpcy5nZXRPckNyZWF0ZTtcbiAgICAgICAgdGhpcy5xdWVyeU1lbWJlcnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkucXVlcnlDYWxsTWVtYmVycyhPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCAocmVxdWVzdCAhPT0gbnVsbCAmJiByZXF1ZXN0ICE9PSB2b2lkIDAgPyByZXF1ZXN0IDoge30pKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBjaWQoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnR5cGV9OiR7dGhpcy5pZH1gO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtVmlkZW9DbGllbnQgZXh0ZW5kcyBWaWRlb0FwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2FsbCA9ICh0eXBlLCBpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1DYWxsKHRoaXMsIHR5cGUsIGlkKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIENoYXRBcGkgZXh0ZW5kcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5xdWVyeUNhbXBhaWducyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2FtcGFpZ25zL3F1ZXJ5JywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9hID0gZGVjb2RlcnMuUXVlcnlDYW1wYWlnbnNSZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDYW1wYWlnbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NhbXBhaWducy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfYiA9IGRlY29kZXJzLkdldENhbXBhaWduUmVzcG9uc2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRDYW1wYWlnbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2M7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZWRfZm9yOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2NoZWR1bGVkX2ZvcixcbiAgICAgICAgICAgICAgICBzdG9wX2F0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RvcF9hdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NhbXBhaWducy97aWR9L3N0YXJ0JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYyA9IGRlY29kZXJzLlN0YXJ0Q2FtcGFpZ25SZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUNhbXBhaWduID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge307XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NhbXBhaWducy97aWR9L3N0b3AnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9kID0gZGVjb2RlcnMuQ2FtcGFpZ25SZXNwb25zZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeUNoYW5uZWxzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBtZW1iZXJfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJfbGltaXQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV9saW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfbGltaXQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub2Zmc2V0LFxuICAgICAgICAgICAgICAgIHN0YXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhdGUsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9lID0gZGVjb2RlcnMuUXVlcnlDaGFubmVsc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUNoYW5uZWxzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY2lkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNpZHMsXG4gICAgICAgICAgICAgICAgaGFyZF9kZWxldGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oYXJkX2RlbGV0ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL2RlbGV0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZiA9IGRlY29kZXJzLkRlbGV0ZUNoYW5uZWxzUmVzcG9uc2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFya0NoYW5uZWxzUmVhZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2c7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHJlYWRfYnlfY2hhbm5lbDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlYWRfYnlfY2hhbm5lbCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3JlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2cgPSBkZWNvZGVycy5NYXJrUmVhZFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfaDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBoaWRlX2Zvcl9jcmVhdG9yOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGlkZV9mb3JfY3JlYXRvcixcbiAgICAgICAgICAgICAgICBzdGF0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0YXRlLFxuICAgICAgICAgICAgICAgIHRocmVhZF91bnJlYWRfY291bnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGhyZWFkX3VucmVhZF9jb3VudHMsXG4gICAgICAgICAgICAgICAgZGF0YTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRhdGEsXG4gICAgICAgICAgICAgICAgbWVtYmVyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lbWJlcnMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlcyxcbiAgICAgICAgICAgICAgICB3YXRjaGVyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LndhdGNoZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3F1ZXJ5JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfaCA9IGRlY29kZXJzLkNoYW5uZWxTdGF0ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9qO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaGFyZF9kZWxldGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oYXJkX2RlbGV0ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF9qID0gZGVjb2RlcnMuRGVsZXRlQ2hhbm5lbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoYW5uZWxQYXJ0aWFsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfaztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudW5zZXQsXG4gICAgICAgICAgICAgICAgc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0LFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfayA9IGRlY29kZXJzLlVwZGF0ZUNoYW5uZWxQYXJ0aWFsUmVzcG9uc2UpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2w7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBhY2NlcHRfaW52aXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWNjZXB0X2ludml0ZSxcbiAgICAgICAgICAgICAgICBjb29sZG93bjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvb2xkb3duLFxuICAgICAgICAgICAgICAgIGhpZGVfaGlzdG9yeTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmhpZGVfaGlzdG9yeSxcbiAgICAgICAgICAgICAgICByZWplY3RfaW52aXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVqZWN0X2ludml0ZSxcbiAgICAgICAgICAgICAgICBza2lwX3B1c2g6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX3B1c2gsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgYWRkX21lbWJlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hZGRfbWVtYmVycyxcbiAgICAgICAgICAgICAgICBhZGRfbW9kZXJhdG9yczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFkZF9tb2RlcmF0b3JzLFxuICAgICAgICAgICAgICAgIGFzc2lnbl9yb2xlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFzc2lnbl9yb2xlcyxcbiAgICAgICAgICAgICAgICBkZW1vdGVfbW9kZXJhdG9yczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbW90ZV9tb2RlcmF0b3JzLFxuICAgICAgICAgICAgICAgIGludml0ZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pbnZpdGVzLFxuICAgICAgICAgICAgICAgIHJlbW92ZV9tZW1iZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVtb3ZlX21lbWJlcnMsXG4gICAgICAgICAgICAgICAgZGF0YTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRhdGEsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2wgPSBkZWNvZGVycy5VcGRhdGVDaGFubmVsUmVzcG9uc2UpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXZlbnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9ldmVudCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX20gPSBkZWNvZGVycy5FdmVudFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUZpbGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9vO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vZmlsZScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfbyA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwbG9hZEZpbGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9wO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZmlsZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbGUsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9maWxlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfcCA9IGRlY29kZXJzLkZpbGVVcGxvYWRSZXNwb25zZSkgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oaWRlQ2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3E7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjbGVhcl9oaXN0b3J5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2xlYXJfaGlzdG9yeSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2hpZGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9xID0gZGVjb2RlcnMuSGlkZUNoYW5uZWxSZXNwb25zZSkgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVJbWFnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3I7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cmwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9pbWFnZScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfciA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3IuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwbG9hZEltYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWxlLFxuICAgICAgICAgICAgICAgIHVwbG9hZF9zaXplczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVwbG9hZF9zaXplcyxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2ltYWdlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfcyA9IGRlY29kZXJzLkltYWdlVXBsb2FkUmVzcG9uc2UpID09PSBudWxsIHx8IF9zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlTWVtYmVyUGFydGlhbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1bnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9tZW1iZXIve3VzZXJfaWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdCA9IGRlY29kZXJzLlVwZGF0ZU1lbWJlclBhcnRpYWxSZXNwb25zZSkgPT09IG51bGwgfHwgX3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3U7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBmb3JjZV9tb2RlcmF0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZm9yY2VfbW9kZXJhdGlvbixcbiAgICAgICAgICAgICAgICBrZWVwX2NoYW5uZWxfaGlkZGVuOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qua2VlcF9jaGFubmVsX2hpZGRlbixcbiAgICAgICAgICAgICAgICBwZW5kaW5nOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGVuZGluZyxcbiAgICAgICAgICAgICAgICBza2lwX2VucmljaF91cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX2VucmljaF91cmwsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9wdXNoLFxuICAgICAgICAgICAgICAgIHBlbmRpbmdfbWVzc2FnZV9tZXRhZGF0YTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBlbmRpbmdfbWVzc2FnZV9tZXRhZGF0YSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L21lc3NhZ2UnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF91ID0gZGVjb2RlcnMuU2VuZE1lc3NhZ2VSZXNwb25zZSkgPT09IG51bGwgfHwgX3UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRNYW55TWVzc2FnZXMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF92O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vbWVzc2FnZXMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX3YgPSBkZWNvZGVycy5HZXRNYW55TWVzc2FnZXNSZXNwb25zZSkgPT09IG51bGwgfHwgX3YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF93O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaGlkZV9mb3JfY3JlYXRvcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmhpZGVfZm9yX2NyZWF0b3IsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGF0ZSxcbiAgICAgICAgICAgICAgICB0aHJlYWRfdW5yZWFkX2NvdW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRocmVhZF91bnJlYWRfY291bnRzLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kYXRhLFxuICAgICAgICAgICAgICAgIG1lbWJlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJzLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgd2F0Y2hlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC53YXRjaGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L3F1ZXJ5JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdyA9IGRlY29kZXJzLkNoYW5uZWxTdGF0ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcmtSZWFkID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfeDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICAgIHRocmVhZF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRocmVhZF9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L3JlYWQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF94ID0gZGVjb2RlcnMuTWFya1JlYWRSZXNwb25zZSkgPT09IG51bGwgfHwgX3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zaG93Q2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3k7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L3Nob3cnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF95ID0gZGVjb2RlcnMuU2hvd0NoYW5uZWxSZXNwb25zZSkgPT09IG51bGwgfHwgX3kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF95LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50cnVuY2F0ZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF96O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaGFyZF9kZWxldGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oYXJkX2RlbGV0ZSxcbiAgICAgICAgICAgICAgICBza2lwX3B1c2g6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX3B1c2gsXG4gICAgICAgICAgICAgICAgdHJ1bmNhdGVkX2F0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHJ1bmNhdGVkX2F0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vdHJ1bmNhdGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF96ID0gZGVjb2RlcnMuVHJ1bmNhdGVDaGFubmVsUmVzcG9uc2UpID09PSBudWxsIHx8IF96ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfei5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFya1VucmVhZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzA7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgICB0aHJlYWRfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50aHJlYWRfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS91bnJlYWQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8wID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF8wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdENoYW5uZWxUeXBlcyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVsdHlwZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzEgPSBkZWNvZGVycy5MaXN0Q2hhbm5lbFR5cGVzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhbm5lbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBhdXRvbW9kOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXV0b21vZCxcbiAgICAgICAgICAgICAgICBhdXRvbW9kX2JlaGF2aW9yOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXV0b21vZF9iZWhhdmlvcixcbiAgICAgICAgICAgICAgICBtYXhfbWVzc2FnZV9sZW5ndGg6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXhfbWVzc2FnZV9sZW5ndGgsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYmxvY2tsaXN0LFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdF9iZWhhdmlvcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrbGlzdF9iZWhhdmlvcixcbiAgICAgICAgICAgICAgICBjb25uZWN0X2V2ZW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbm5lY3RfZXZlbnRzLFxuICAgICAgICAgICAgICAgIGN1c3RvbV9ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jdXN0b21fZXZlbnRzLFxuICAgICAgICAgICAgICAgIG1hcmtfbWVzc2FnZXNfcGVuZGluZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1hcmtfbWVzc2FnZXNfcGVuZGluZyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3JldGVudGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfcmV0ZW50aW9uLFxuICAgICAgICAgICAgICAgIG11dGVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubXV0ZXMsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uX3NpemU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXJ0aXRpb25fc2l6ZSxcbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25fdHRsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGFydGl0aW9uX3R0bCxcbiAgICAgICAgICAgICAgICBwb2xsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxzLFxuICAgICAgICAgICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfbm90aWZpY2F0aW9ucyxcbiAgICAgICAgICAgICAgICByZWFjdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFjdGlvbnMsXG4gICAgICAgICAgICAgICAgcmVhZF9ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFkX2V2ZW50cyxcbiAgICAgICAgICAgICAgICByZXBsaWVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVwbGllcyxcbiAgICAgICAgICAgICAgICBzZWFyY2g6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZWFyY2gsXG4gICAgICAgICAgICAgICAgc2tpcF9sYXN0X21zZ191cGRhdGVfZm9yX3N5c3RlbV9tc2dzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9sYXN0X21zZ191cGRhdGVfZm9yX3N5c3RlbV9tc2dzLFxuICAgICAgICAgICAgICAgIHR5cGluZ19ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBpbmdfZXZlbnRzLFxuICAgICAgICAgICAgICAgIHVwbG9hZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cGxvYWRzLFxuICAgICAgICAgICAgICAgIHVybF9lbnJpY2htZW50OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXJsX2VucmljaG1lbnQsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrbGlzdHMsXG4gICAgICAgICAgICAgICAgY29tbWFuZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb21tYW5kcyxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBlcm1pc3Npb25zLFxuICAgICAgICAgICAgICAgIGdyYW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmdyYW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWx0eXBlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMiA9IGRlY29kZXJzLkNyZWF0ZUNoYW5uZWxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF8yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlQ2hhbm5lbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzMgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDaGFubmVsVHlwZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVsdHlwZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNCA9IGRlY29kZXJzLkdldENoYW5uZWxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF80ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hhbm5lbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGF1dG9tb2Q6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kLFxuICAgICAgICAgICAgICAgIGF1dG9tb2RfYmVoYXZpb3I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kX2JlaGF2aW9yLFxuICAgICAgICAgICAgICAgIG1heF9tZXNzYWdlX2xlbmd0aDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1heF9tZXNzYWdlX2xlbmd0aCxcbiAgICAgICAgICAgICAgICBibG9ja2xpc3Q6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2xpc3QsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0X2JlaGF2aW9yOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYmxvY2tsaXN0X2JlaGF2aW9yLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY29ubmVjdF9ldmVudHMsXG4gICAgICAgICAgICAgICAgY3VzdG9tX2V2ZW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbV9ldmVudHMsXG4gICAgICAgICAgICAgICAgbWFya19tZXNzYWdlc19wZW5kaW5nOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWFya19tZXNzYWdlc19wZW5kaW5nLFxuICAgICAgICAgICAgICAgIG11dGVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubXV0ZXMsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uX3NpemU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXJ0aXRpb25fc2l6ZSxcbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25fdHRsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGFydGl0aW9uX3R0bCxcbiAgICAgICAgICAgICAgICBwb2xsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxzLFxuICAgICAgICAgICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfbm90aWZpY2F0aW9ucyxcbiAgICAgICAgICAgICAgICBxdW90ZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5xdW90ZXMsXG4gICAgICAgICAgICAgICAgcmVhY3Rpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhY3Rpb25zLFxuICAgICAgICAgICAgICAgIHJlYWRfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhZF9ldmVudHMsXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVtaW5kZXJzLFxuICAgICAgICAgICAgICAgIHJlcGxpZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXBsaWVzLFxuICAgICAgICAgICAgICAgIHNlYXJjaDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNlYXJjaCxcbiAgICAgICAgICAgICAgICBza2lwX2xhc3RfbXNnX3VwZGF0ZV9mb3Jfc3lzdGVtX21zZ3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX2xhc3RfbXNnX3VwZGF0ZV9mb3Jfc3lzdGVtX21zZ3MsXG4gICAgICAgICAgICAgICAgdHlwaW5nX2V2ZW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGluZ19ldmVudHMsXG4gICAgICAgICAgICAgICAgdXBsb2FkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVwbG9hZHMsXG4gICAgICAgICAgICAgICAgdXJsX2VucmljaG1lbnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cmxfZW5yaWNobWVudCxcbiAgICAgICAgICAgICAgICBhbGxvd2VkX2ZsYWdfcmVhc29uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFsbG93ZWRfZmxhZ19yZWFzb25zLFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2xpc3RzLFxuICAgICAgICAgICAgICAgIGNvbW1hbmRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY29tbWFuZHMsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wZXJtaXNzaW9ucyxcbiAgICAgICAgICAgICAgICBhdXRvbW9kX3RocmVzaG9sZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kX3RocmVzaG9sZHMsXG4gICAgICAgICAgICAgICAgZ3JhbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZ3JhbnRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVsdHlwZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNSA9IGRlY29kZXJzLlVwZGF0ZUNoYW5uZWxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF81ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdENvbW1hbmRzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF82O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF82ID0gZGVjb2RlcnMuTGlzdENvbW1hbmRzUmVzcG9uc2UpID09PSBudWxsIHx8IF82ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ29tbWFuZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzc7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgYXJnczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFyZ3MsXG4gICAgICAgICAgICAgICAgc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY29tbWFuZHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzcgPSBkZWNvZGVycy5DcmVhdGVDb21tYW5kUmVzcG9uc2UpID09PSBudWxsIHx8IF83ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlQ29tbWFuZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzg7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF84ID0gZGVjb2RlcnMuRGVsZXRlQ29tbWFuZFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldENvbW1hbmQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF85O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY29tbWFuZHMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfOSA9IGRlY29kZXJzLkdldENvbW1hbmRSZXNwb25zZSkgPT09IG51bGwgfHwgXzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF85LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVDb21tYW5kID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTA7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBhcmdzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXJncyxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzEwID0gZGVjb2RlcnMuVXBkYXRlQ29tbWFuZFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhwb3J0Q2hhbm5lbHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaGFubmVscyxcbiAgICAgICAgICAgICAgICBjbGVhcl9kZWxldGVkX21lc3NhZ2VfdGV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNsZWFyX2RlbGV0ZWRfbWVzc2FnZV90ZXh0LFxuICAgICAgICAgICAgICAgIGV4cG9ydF91c2VyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV4cG9ydF91c2VycyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlX3NvZnRfZGVsZXRlZF9jaGFubmVsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmluY2x1ZGVfc29mdF9kZWxldGVkX2NoYW5uZWxzLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVfdHJ1bmNhdGVkX21lc3NhZ2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW5jbHVkZV90cnVuY2F0ZWRfbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZlcnNpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9leHBvcnRfY2hhbm5lbHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzExID0gZGVjb2RlcnMuRXhwb3J0Q2hhbm5lbHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldEV4cG9ydENoYW5uZWxzU3RhdHVzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTI7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2V4cG9ydF9jaGFubmVscy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMTIgPSBkZWNvZGVycy5HZXRFeHBvcnRDaGFubmVsc1N0YXR1c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlNZW1iZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTM7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGF5bG9hZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVtYmVycycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8xMyA9IGRlY29kZXJzLk1lbWJlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5TWVzc2FnZUhpc3RvcnkgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyLFxuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy9oaXN0b3J5JywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xNCA9IGRlY29kZXJzLlF1ZXJ5TWVzc2FnZUhpc3RvcnlSZXNwb25zZSkgPT09IG51bGwgfHwgXzE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZU1lc3NhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGhhcmQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oYXJkLFxuICAgICAgICAgICAgICAgIGRlbGV0ZWRfYnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kZWxldGVkX2J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMTUgPSBkZWNvZGVycy5EZWxldGVNZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE1LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRNZXNzYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTY7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBzaG93X2RlbGV0ZWRfbWVzc2FnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNob3dfZGVsZXRlZF9tZXNzYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMTYgPSBkZWNvZGVycy5HZXRNZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE2LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTc7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBza2lwX2VucmljaF91cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX2VucmljaF91cmwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTcgPSBkZWNvZGVycy5VcGRhdGVNZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE3LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVNZXNzYWdlUGFydGlhbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE4O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9lbnJpY2hfdXJsLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudW5zZXQsXG4gICAgICAgICAgICAgICAgc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0LFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTggPSBkZWNvZGVycy5VcGRhdGVNZXNzYWdlUGFydGlhbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xOC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucnVuTWVzc2FnZUFjdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE5O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZm9ybV9kYXRhOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZm9ybV9kYXRhLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS9hY3Rpb24nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xOSA9IGRlY29kZXJzLk1lc3NhZ2VSZXNwb25zZSkgPT09IG51bGwgfHwgXzE5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTkuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbW1pdE1lc3NhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yMDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge307XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vY29tbWl0JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjAgPSBkZWNvZGVycy5NZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIwLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kUmVhY3Rpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yMTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlYWN0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhY3Rpb24sXG4gICAgICAgICAgICAgICAgZW5mb3JjZV91bmlxdWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbmZvcmNlX3VuaXF1ZSxcbiAgICAgICAgICAgICAgICBza2lwX3B1c2g6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX3B1c2gsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3JlYWN0aW9uJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjEgPSBkZWNvZGVycy5TZW5kUmVhY3Rpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzIxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVJlYWN0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjI7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vcmVhY3Rpb24ve3R5cGV9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8yMiA9IGRlY29kZXJzLkRlbGV0ZVJlYWN0aW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIyLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRSZWFjdGlvbnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yMztcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub2Zmc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS9yZWFjdGlvbnMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzIzID0gZGVjb2RlcnMuR2V0UmVhY3Rpb25zUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVJlYWN0aW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI0O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXIsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3JlYWN0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzI0ID0gZGVjb2RlcnMuUXVlcnlSZWFjdGlvbnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzI0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRyYW5zbGF0ZU1lc3NhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yNTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGFuZ3VhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3RyYW5zbGF0ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzI1ID0gZGVjb2RlcnMuTWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yNS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5kZWxldGVNZXNzYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjY7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBza2lwX2VucmljaF91cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX2VucmljaF91cmwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3VuZGVsZXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjYgPSBkZWNvZGVycy5VcGRhdGVNZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8yNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI2LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jYXN0UG9sbFZvdGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yNztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgICAgICB2b3RlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qudm90ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9wb2xscy97cG9sbF9pZH0vdm90ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzI3ID0gZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzI3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjcuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbW92ZVBvbGxWb3RlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjg7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xsX2lkLFxuICAgICAgICAgICAgICAgIHZvdGVfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52b3RlX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97bWVzc2FnZV9pZH0vcG9sbHMve3BvbGxfaWR9L3ZvdGUve3ZvdGVfaWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8yOCA9IGRlY29kZXJzLlBvbGxWb3RlUmVzcG9uc2UpID09PSBudWxsIHx8IF8yOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI4LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRSZXBsaWVzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjk7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG9mZnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm9mZnNldCxcbiAgICAgICAgICAgICAgICBpZF9ndGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZF9ndGUsXG4gICAgICAgICAgICAgICAgaWRfZ3Q6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZF9ndCxcbiAgICAgICAgICAgICAgICBpZF9sdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZF9sdGUsXG4gICAgICAgICAgICAgICAgaWRfbHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZF9sdCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0X2FmdGVyX29yX2VxdWFsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9hdF9hZnRlcl9vcl9lcXVhbCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0X2FmdGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9hdF9hZnRlcixcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0X2JlZm9yZV9vcl9lcXVhbDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNyZWF0ZWRfYXRfYmVmb3JlX29yX2VxdWFsLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYmVmb3JlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9hdF9iZWZvcmUsXG4gICAgICAgICAgICAgICAgaWRfYXJvdW5kOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWRfYXJvdW5kLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYXJvdW5kOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9hdF9hcm91bmQsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXJlbnRfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXJlbnRfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3twYXJlbnRfaWR9L3JlcGxpZXMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzI5ID0gZGVjb2RlcnMuR2V0UmVwbGllc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yOS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlNZXNzYWdlRmxhZ3MgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zMDtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXlsb2FkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9tb2RlcmF0aW9uL2ZsYWdzL21lc3NhZ2UnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMzAgPSBkZWNvZGVycy5RdWVyeU1lc3NhZ2VGbGFnc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubXV0ZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zMTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZXhwaXJhdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV4cGlyYXRpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF9jaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2hhbm5lbF9jaWRzLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbW9kZXJhdGlvbi9tdXRlL2NoYW5uZWwnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzMxID0gZGVjb2RlcnMuTXV0ZUNoYW5uZWxSZXNwb25zZSkgPT09IG51bGwgfHwgXzMxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVubXV0ZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zMjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZXhwaXJhdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV4cGlyYXRpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF9jaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2hhbm5lbF9jaWRzLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbW9kZXJhdGlvbi91bm11dGUvY2hhbm5lbCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMzIgPSBkZWNvZGVycy5Vbm11dGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZVBvbGwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zMztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgYWxsb3dfYW5zd2VyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFsbG93X2Fuc3dlcnMsXG4gICAgICAgICAgICAgICAgYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFsbG93X3VzZXJfc3VnZ2VzdGVkX29wdGlvbnMsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBlbmZvcmNlX3VuaXF1ZV92b3RlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW5mb3JjZV91bmlxdWVfdm90ZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIGlzX2Nsb3NlZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlzX2Nsb3NlZCxcbiAgICAgICAgICAgICAgICBtYXhfdm90ZXNfYWxsb3dlZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1heF92b3Rlc19hbGxvd2VkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHZvdGluZ192aXNpYmlsaXR5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qudm90aW5nX3Zpc2liaWxpdHksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzMzID0gZGVjb2RlcnMuUG9sbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zMy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9sbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM0O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIGFsbG93X2Fuc3dlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hbGxvd19hbnN3ZXJzLFxuICAgICAgICAgICAgICAgIGFsbG93X3VzZXJfc3VnZ2VzdGVkX29wdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hbGxvd191c2VyX3N1Z2dlc3RlZF9vcHRpb25zLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgZW5mb3JjZV91bmlxdWVfdm90ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVuZm9yY2VfdW5pcXVlX3ZvdGUsXG4gICAgICAgICAgICAgICAgaXNfY2xvc2VkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaXNfY2xvc2VkLFxuICAgICAgICAgICAgICAgIG1heF92b3Rlc19hbGxvd2VkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWF4X3ZvdGVzX2FsbG93ZWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdm90aW5nX3Zpc2liaWxpdHk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52b3RpbmdfdmlzaWJpbGl0eSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBjdXN0b206IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jdXN0b20sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9jaGF0L3BvbGxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8zNCA9IGRlY29kZXJzLlBvbGxSZXNwb25zZSkgPT09IG51bGwgfHwgXzM0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5UG9sbHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zNTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscy9xdWVyeScsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMsIGJvZHkpO1xuICAgICAgICAgICAgKF8zNSA9IGRlY29kZXJzLlF1ZXJ5UG9sbHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzM1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzUuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVBvbGwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zNjtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3twb2xsX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMzYgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzM2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFBvbGwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8zNztcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3twb2xsX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMzcgPSBkZWNvZGVycy5Qb2xsUmVzcG9uc2UpID09PSBudWxsIHx8IF8zNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzM3LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2xsUGFydGlhbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM4O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudW5zZXQsXG4gICAgICAgICAgICAgICAgc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0LFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3twb2xsX2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzM4ID0gZGVjb2RlcnMuUG9sbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zOC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUG9sbE9wdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM5O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50ZXh0LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9L29wdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8zOSA9IGRlY29kZXJzLlBvbGxPcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzM5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzkuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvbGxPcHRpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80MDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHRleHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50ZXh0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9L29wdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF80MCA9IGRlY29kZXJzLlBvbGxPcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzQwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVBvbGxPcHRpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80MTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxfaWQsXG4gICAgICAgICAgICAgICAgb3B0aW9uX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub3B0aW9uX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vb3B0aW9ucy97b3B0aW9uX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfNDEgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzQxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFBvbGxPcHRpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80MjtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxfaWQsXG4gICAgICAgICAgICAgICAgb3B0aW9uX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub3B0aW9uX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vb3B0aW9ucy97b3B0aW9uX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfNDIgPSBkZWNvZGVycy5Qb2xsT3B0aW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF80MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQyLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVBvbGxWb3RlcyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQzO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9L3ZvdGVzJywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMsIGJvZHkpO1xuICAgICAgICAgICAgKF80MyA9IGRlY29kZXJzLlBvbGxWb3Rlc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80My5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlCYW5uZWRVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ0O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3F1ZXJ5X2Jhbm5lZF91c2VycycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF80NCA9IGRlY29kZXJzLlF1ZXJ5QmFubmVkVXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzQ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ1O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3NlYXJjaCcsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF80NSA9IGRlY29kZXJzLlNlYXJjaFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80NS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlTZWdtZW50cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ2O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXIsXG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3F1ZXJ5JywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF80NiA9IGRlY29kZXJzLlF1ZXJ5U2VnbWVudHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzQ2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVNlZ21lbnQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80NztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzQ3ID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF80NyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQ3LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRTZWdtZW50ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDg7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF80OCA9IGRlY29kZXJzLkdldFNlZ21lbnRSZXNwb25zZSkgPT09IG51bGwgfHwgXzQ4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVNlZ21lbnRUYXJnZXRzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDk7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGFyZ2V0X2lkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3tpZH0vZGVsZXRldGFyZ2V0cycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzQ5ID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF80OSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQ5LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZWdtZW50VGFyZ2V0RXhpc3RzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTA7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgdGFyZ2V0X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGFyZ2V0X2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9zZWdtZW50cy97aWR9L3RhcmdldC97dGFyZ2V0X2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzUwID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF81MCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUwLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVNlZ21lbnRUYXJnZXRzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTE7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3tpZH0vdGFyZ2V0cy9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzUxID0gZGVjb2RlcnMuUXVlcnlTZWdtZW50VGFyZ2V0c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81MS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlUaHJlYWRzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTI7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbWVtYmVyX2xpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVtYmVyX2xpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50X2xpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGFydGljaXBhbnRfbGltaXQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgcmVwbHlfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXBseV9saW1pdCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3RocmVhZHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzUyID0gZGVjb2RlcnMuUXVlcnlUaHJlYWRzUmVzcG9uc2UpID09PSBudWxsIHx8IF81MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUyLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRUaHJlYWQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81MztcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHJlcGx5X2xpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVwbHlfbGltaXQsXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXJ0aWNpcGFudF9saW1pdCxcbiAgICAgICAgICAgICAgICBtZW1iZXJfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJfbGltaXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZV9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvdGhyZWFkcy97bWVzc2FnZV9pZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzUzID0gZGVjb2RlcnMuR2V0VGhyZWFkUmVzcG9uc2UpID09PSBudWxsIHx8IF81MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVUaHJlYWRQYXJ0aWFsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTQ7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdW5zZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51bnNldCxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2NoYXQvdGhyZWFkcy97bWVzc2FnZV9pZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF81NCA9IGRlY29kZXJzLlVwZGF0ZVRocmVhZFBhcnRpYWxSZXNwb25zZSkgPT09IG51bGwgfHwgXzU0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVucmVhZENvdW50cyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTU7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvdW5yZWFkJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF81NSA9IGRlY29kZXJzLldyYXBwZWRVbnJlYWRDb3VudHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzU1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTUuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVucmVhZENvdW50c0JhdGNoID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTY7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC91bnJlYWRfYmF0Y2gnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzU2ID0gZGVjb2RlcnMuVW5yZWFkQ291bnRzQmF0Y2hSZXNwb25zZSkgPT09IG51bGwgfHwgXzU2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmRVc2VyQ3VzdG9tRXZlbnQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81NztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV2ZW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvdXNlcnMve3VzZXJfaWR9L2V2ZW50JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNTcgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzU3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTcuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgQ2hhbm5lbEFwaSB7XG4gICAgY29uc3RydWN0b3IoY2hhdEFwaSwgdHlwZSwgaWQpIHtcbiAgICAgICAgdGhpcy5jaGF0QXBpID0gY2hhdEFwaTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmRlbGV0ZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZGVsZXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlQ2hhbm5lbFBhcnRpYWwgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnVwZGF0ZUNoYW5uZWxQYXJ0aWFsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnVwZGF0ZUNoYW5uZWwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbmRFdmVudCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuc2VuZEV2ZW50KE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVGaWxlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5kZWxldGVGaWxlKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGxvYWRGaWxlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS51cGxvYWRGaWxlKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oaWRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5oaWRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlSW1hZ2UgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmRlbGV0ZUltYWdlKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGxvYWRJbWFnZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBsb2FkSW1hZ2UoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZU1lbWJlclBhcnRpYWwgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnVwZGF0ZU1lbWJlclBhcnRpYWwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5zZW5kTWVzc2FnZShPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0TWFueU1lc3NhZ2VzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5nZXRNYW55TWVzc2FnZXMoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5nZXRPckNyZWF0ZUNoYW5uZWwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1hcmtSZWFkID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5tYXJrUmVhZChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvdyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuc2hvd0NoYW5uZWwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRydW5jYXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS50cnVuY2F0ZUNoYW5uZWwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1hcmtVbnJlYWQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLm1hcmtVbnJlYWQoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtQ2hhbm5lbCBleHRlbmRzIENoYW5uZWxBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlID0gKGNoYW5uZWxfZ2V0X29yX2NyZWF0ZV9yZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpXG4gICAgICAgICAgICAgICAgICAgIC5nZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbChPYmplY3QuYXNzaWduKHsgdHlwZTogdGhpcy50eXBlIH0sIGNoYW5uZWxfZ2V0X29yX2NyZWF0ZV9yZXF1ZXN0KSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZCA9IChfYSA9IHJlc3BvbnNlLmNoYW5uZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5nZXRPckNyZWF0ZUNoYW5uZWwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgY2hhbm5lbF9nZXRfb3JfY3JlYXRlX3JlcXVlc3QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IGNpZCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMudHlwZX06JHt0aGlzLmlkfWA7XG4gICAgfVxuICAgIHF1ZXJ5TWVtYmVycyhyZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5xdWVyeU1lbWJlcnMoe1xuICAgICAgICAgICAgcGF5bG9hZDogT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgKChfYSA9IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXlsb2FkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7IGZpbHRlcl9jb25kaXRpb25zOiB7fSB9KSksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtQ2hhdENsaWVudCBleHRlbmRzIENoYXRBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSAodHlwZSwgaWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtQ2hhbm5lbCh0aGlzLCB0eXBlLCBpZCk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBNb2RlcmF0aW9uQXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYmFuID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50YXJnZXRfdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBiYW5uZWRfYnlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5iYW5uZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF9jaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaGFubmVsX2NpZCxcbiAgICAgICAgICAgICAgICBpcF9iYW46IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pcF9iYW4sXG4gICAgICAgICAgICAgICAgcmVhc29uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhc29uLFxuICAgICAgICAgICAgICAgIHNoYWRvdzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNoYWRvdyxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGltZW91dCxcbiAgICAgICAgICAgICAgICBiYW5uZWRfYnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5iYW5uZWRfYnksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9iYW4nLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2EgPSBkZWNvZGVycy5CYW5SZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGVjayA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvbmZpZ19rZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb25maWdfa2V5LFxuICAgICAgICAgICAgICAgIGVudGl0eV9jcmVhdG9yX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW50aXR5X2NyZWF0b3JfaWQsXG4gICAgICAgICAgICAgICAgZW50aXR5X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW50aXR5X2lkLFxuICAgICAgICAgICAgICAgIGVudGl0eV90eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW50aXR5X3R5cGUsXG4gICAgICAgICAgICAgICAgdGVzdF9tb2RlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGVzdF9tb2RlLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb25fcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1vZGVyYXRpb25fcGF5bG9hZCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2NoZWNrJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9iID0gZGVjb2RlcnMuQ2hlY2tSZXNwb25zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cHNlcnRDb25maWcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9jO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5rZXksXG4gICAgICAgICAgICAgICAgYXN5bmM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hc3luYyxcbiAgICAgICAgICAgICAgICB0ZWFtOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGVhbSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBhaV9pbWFnZV9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5haV9pbWFnZV9jb25maWcsXG4gICAgICAgICAgICAgICAgYWlfdGV4dF9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5haV90ZXh0X2NvbmZpZyxcbiAgICAgICAgICAgICAgICBhaV92aWRlb19jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5haV92aWRlb19jb25maWcsXG4gICAgICAgICAgICAgICAgYXV0b21vZF9wbGF0Zm9ybV9jaXJjdW12ZW50aW9uX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2RfcGxhdGZvcm1fY2lyY3VtdmVudGlvbl9jb25maWcsXG4gICAgICAgICAgICAgICAgYXV0b21vZF9zZW1hbnRpY19maWx0ZXJzX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2Rfc2VtYW50aWNfZmlsdGVyc19jb25maWcsXG4gICAgICAgICAgICAgICAgYXV0b21vZF90b3hpY2l0eV9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kX3RveGljaXR5X2NvbmZpZyxcbiAgICAgICAgICAgICAgICBhd3NfcmVrb2duaXRpb25fY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXdzX3Jla29nbml0aW9uX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBibG9ja19saXN0X2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrX2xpc3RfY29uZmlnLFxuICAgICAgICAgICAgICAgIGJvZHlndWFyZF9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ib2R5Z3VhcmRfY29uZmlnLFxuICAgICAgICAgICAgICAgIGdvb2dsZV92aXNpb25fY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZ29vZ2xlX3Zpc2lvbl9jb25maWcsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlfZmlsdGVyX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZlbG9jaXR5X2ZpbHRlcl9jb25maWcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9jb25maWcnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2MgPSBkZWNvZGVycy5VcHNlcnRDb25maWdSZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVDb25maWcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9kO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdGVhbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRlYW0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5rZXksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2NvbmZpZy97a2V5fScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfZCA9IGRlY29kZXJzLkRlbGV0ZU1vZGVyYXRpb25Db25maWdSZXNwb25zZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDb25maWcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9lO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdGVhbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRlYW0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5rZXksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2NvbmZpZy97a2V5fScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLkdldENvbmZpZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5TW9kZXJhdGlvbkNvbmZpZ3MgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9mO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2NvbmZpZ3MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2YgPSBkZWNvZGVycy5RdWVyeU1vZGVyYXRpb25Db25maWdzUmVzcG9uc2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3VzdG9tQ2hlY2sgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9nO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBlbnRpdHlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfaWQsXG4gICAgICAgICAgICAgICAgZW50aXR5X3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfdHlwZSxcbiAgICAgICAgICAgICAgICBmbGFnczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZsYWdzLFxuICAgICAgICAgICAgICAgIGVudGl0eV9jcmVhdG9yX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW50aXR5X2NyZWF0b3JfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbl9wYXlsb2FkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubW9kZXJhdGlvbl9wYXlsb2FkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY3VzdG9tX2NoZWNrJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuQ3VzdG9tQ2hlY2tSZXNwb25zZSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52MkRlbGV0ZVRlbXBsYXRlID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9oO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZlZWRzX21vZGVyYXRpb25fdGVtcGxhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2ggPSBkZWNvZGVycy5EZWxldGVNb2RlcmF0aW9uVGVtcGxhdGVSZXNwb25zZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52MlF1ZXJ5VGVtcGxhdGVzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9qO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZlZWRzX21vZGVyYXRpb25fdGVtcGxhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2ogPSBkZWNvZGVycy5RdWVyeUZlZWRNb2RlcmF0aW9uVGVtcGxhdGVzUmVzcG9uc2UpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudjJVcHNlcnRUZW1wbGF0ZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2s7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIGNvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbmZpZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZlZWRzX21vZGVyYXRpb25fdGVtcGxhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2sgPSBkZWNvZGVycy5VcHNlcnRNb2RlcmF0aW9uVGVtcGxhdGVSZXNwb25zZSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mbGFnID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZW50aXR5X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW50aXR5X2lkLFxuICAgICAgICAgICAgICAgIGVudGl0eV90eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW50aXR5X3R5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5X2NyZWF0b3JfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfY3JlYXRvcl9pZCxcbiAgICAgICAgICAgICAgICByZWFzb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb25fcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1vZGVyYXRpb25fcGF5bG9hZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZsYWcnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2wgPSBkZWNvZGVycy5GbGFnUmVzcG9uc2UpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlNb2RlcmF0aW9uTG9ncyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX207XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vbG9ncycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfbSA9IGRlY29kZXJzLlF1ZXJ5TW9kZXJhdGlvbkxvZ3NSZXNwb25zZSkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRNb2RlcmF0b3JTdGF0cyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9tb2RlcmF0b3Jfc3RhdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX28gPSBkZWNvZGVycy5Nb2RlcmF0b3JTdGF0c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm11dGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9wO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGFyZ2V0X2lkcyxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGltZW91dCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL211dGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3AgPSBkZWNvZGVycy5NdXRlUmVzcG9uc2UpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UXVldWVTdGF0cyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9xdWV1ZV9zdGF0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfcSA9IGRlY29kZXJzLlF1ZXVlU3RhdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVJldmlld1F1ZXVlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBsb2NrX2NvdW50OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubG9ja19jb3VudCxcbiAgICAgICAgICAgICAgICBsb2NrX2R1cmF0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubG9ja19kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBsb2NrX2l0ZW1zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubG9ja19pdGVtcyxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzdGF0c19vbmx5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhdHNfb25seSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXIsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9yZXZpZXdfcXVldWUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3IgPSBkZWNvZGVycy5RdWVyeVJldmlld1F1ZXVlUmVzcG9uc2UpID09PSBudWxsIHx8IF9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfci5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UmV2aWV3UXVldWVJdGVtID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vcmV2aWV3X3F1ZXVlL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9zID0gZGVjb2RlcnMuR2V0UmV2aWV3UXVldWVJdGVtUmVzcG9uc2UpID09PSBudWxsIHx8IF9zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VibWl0QWN0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uX3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hY3Rpb25fdHlwZSxcbiAgICAgICAgICAgICAgICBpdGVtX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaXRlbV9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBiYW46IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5iYW4sXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIGRlbGV0ZV9hY3Rpdml0eTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbGV0ZV9hY3Rpdml0eSxcbiAgICAgICAgICAgICAgICBkZWxldGVfbWVzc2FnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbGV0ZV9tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGRlbGV0ZV9yZWFjdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbGV0ZV9yZWFjdGlvbixcbiAgICAgICAgICAgICAgICBkZWxldGVfdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbGV0ZV91c2VyLFxuICAgICAgICAgICAgICAgIG1hcmtfcmV2aWV3ZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXJrX3Jldmlld2VkLFxuICAgICAgICAgICAgICAgIHVuYmFuOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudW5iYW4sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9zdWJtaXRfYWN0aW9uJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF90ID0gZGVjb2RlcnMuU3VibWl0QWN0aW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5iYW4gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF91O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50YXJnZXRfdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNoYW5uZWxfY2lkLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdW5iYW5uZWRfYnlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51bmJhbm5lZF9ieV9pZCxcbiAgICAgICAgICAgICAgICB1bmJhbm5lZF9ieTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuYmFubmVkX2J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vdW5iYW4nLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zLCBib2R5KTtcbiAgICAgICAgICAgIChfdSA9IGRlY29kZXJzLlVuYmFuUmVzcG9uc2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5tdXRlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0X2lkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRhcmdldF9pZHMsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi91bm11dGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3YgPSBkZWNvZGVycy5Vbm11dGVSZXNwb25zZSkgPT09IG51bGwgfHwgX3YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVVzYWdlU3RhdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF93O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3VzYWdlX3N0YXRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF93ID0gZGVjb2RlcnMuUXVlcnlVc2FnZVN0YXRzUmVzcG9uc2UpID09PSBudWxsIHx8IF93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0VXNlclJlcG9ydCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3g7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjcmVhdGVfdXNlcl9pZl9ub3RfZXhpc3RzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlX3VzZXJfaWZfbm90X2V4aXN0cyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlX3VzZXJfbXV0ZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pbmNsdWRlX3VzZXJfbXV0ZXMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZV91c2VyX2Jsb2NrczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmluY2x1ZGVfdXNlcl9ibG9ja3MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3VzZXJfcmVwb3J0JywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX3ggPSBkZWNvZGVycy5HZXRVc2VyTW9kZXJhdGlvblJlcG9ydFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtTW9kZXJhdGlvbkNsaWVudCBleHRlbmRzIE1vZGVyYXRpb25BcGkge1xufVxuXG5jbGFzcyBTdHJlYW1DbGllbnQgZXh0ZW5kcyBDb21tb25BcGkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwaUtleVxuICAgICAqIEBwYXJhbSBzZWNyZXRcbiAgICAgKiBAcGFyYW0gY29uZmlnIGNvbmZpZyBvYmplY3RcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcGlLZXksIHNlY3JldCwgY29uZmlnKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCB0b2tlbiA9IEpXVFNlcnZlclRva2VuKHNlY3JldCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSAoX2EgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcudGltZW91dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU3RyZWFtQ2xpZW50LkRFRkFVTFRfVElNRU9VVDtcbiAgICAgICAgY29uc3QgY2hhdEJhc2VVcmwgPSAoX2IgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuYmFzZVBhdGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdodHRwczovL2NoYXQuc3RyZWFtLWlvLWFwaS5jb20nO1xuICAgICAgICBjb25zdCB2aWRlb0Jhc2VVcmwgPSAoX2MgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuYmFzZVBhdGgpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICdodHRwczovL3ZpZGVvLnN0cmVhbS1pby1hcGkuY29tJztcbiAgICAgICAgc3VwZXIoeyBhcGlLZXksIHRva2VuLCB0aW1lb3V0LCBiYXNlVXJsOiBjaGF0QmFzZVVybCB9KTtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgICAgIHRoaXMudXBzZXJ0VXNlcnMgPSAodXNlcnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7fTtcbiAgICAgICAgICAgIHVzZXJzLmZvckVhY2goKHUpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkW3UuaWRdID0gdTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVXNlcnMoeyB1c2VyczogcGF5bG9hZCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeUJhbm5lZFVzZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXQucXVlcnlCYW5uZWRVc2VycyhyZXF1ZXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXlsb2FkXG4gICAgICAgICAqIC0gdXNlcl9pZCAtIHRoZSBpZCBvZiB0aGUgdXNlciB0aGUgdG9rZW4gaXMgZm9yXG4gICAgICAgICAqIC0gdmFsaWRpdHlfaW5fc2Vjb25kcyAtIGhvdyBtYW55IHNlY29uZHMgaXMgdGhlIHRva2VuIHZhbGlkIGZvciAoc3RhcnRpbmcgZnJvbSBpc3N1ZWQgYXQpLCBieSBkZWZhdWx0IGl0J3MgMSBob3VyLCBkaWNhcmRlZCBpZiBleHAgaXMgcHJvdmlkZWRcbiAgICAgICAgICogLSBleHAgLSB3aGVuIHRoZSB0b2tlbiBleHBpcmVzLCB1bml4IHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAgICAgICAqIC0gaWF0IC0gaXNzdWVkIGF0IGRhdGUgb2YgdGhlIHRva2VuLCB1bml4IHRpbWVzdGFtcCBpbiBzZWNvbmRzLCBieSBkZWZhdWx0IGl0J3Mgbm93XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlbmVyYXRlVXNlclRva2VuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdElhdCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSAxMDAwKSAvIDEwMDApO1xuICAgICAgICAgICAgcGF5bG9hZC5pYXQgPSAoX2EgPSBwYXlsb2FkLmlhdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdElhdDtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkaXR5SW5TZWNvbmRzID0gKF9iID0gcGF5bG9hZC52YWxpZGl0eV9pbl9zZWNvbmRzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiA2MCAqIDYwO1xuICAgICAgICAgICAgcGF5bG9hZC5leHAgPSAoX2MgPSBwYXlsb2FkLmV4cCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogcGF5bG9hZC5pYXQgKyB2YWxpZGl0eUluU2Vjb25kcztcbiAgICAgICAgICAgIHJldHVybiBKV1RVc2VyVG9rZW4odGhpcy5zZWNyZXQsIHBheWxvYWQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHBheWxvYWRcbiAgICAgICAgICogLSB1c2VyX2lkIC0gdGhlIGlkIG9mIHRoZSB1c2VyIHRoZSB0b2tlbiBpcyBmb3JcbiAgICAgICAgICogLSB2YWxpZGl0eV9pbl9zZWNvbmRzIC0gaG93IG1hbnkgc2Vjb25kcyBpcyB0aGUgdG9rZW4gdmFsaWQgZm9yIChzdGFydGluZyBmcm9tIGlzc3VlZCBhdCksIGJ5IGRlZmF1bHQgaXQncyAxIGhvdXIsIGRpY2FyZGVkIGlmIGV4cCBpcyBwcm92aWRlZFxuICAgICAgICAgKiAtIGV4cCAtIHdoZW4gdGhlIHRva2VuIGV4cGlyZXMsIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICAgICAgICogLSBpYXQgLSBpc3N1ZWQgYXQgZGF0ZSBvZiB0aGUgdG9rZW4sIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHMsIGJ5IGRlZmF1bHQgaXQncyBub3dcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVDYWxsVG9rZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVVc2VyVG9rZW4ocGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdXNlcklEXG4gICAgICAgICAqIEBwYXJhbSBleHBcbiAgICAgICAgICogQHBhcmFtIGlhdCBkZXByZWNhdGVkLCB0aGUgZGVmYXVsdCBkYXRlIHdpbGwgYmUgc2V0IGludGVybmFsbHlcbiAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgdXNlIGdlbmVyYXRlVXNlclRva2VuIGluc3RlYWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlVG9rZW4gPSAodXNlcklELCBleHAgPSBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKSArIDYwICogNjAsIGlhdCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSAxMDAwKSAvIDEwMDApKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRCxcbiAgICAgICAgICAgICAgICBleHAsXG4gICAgICAgICAgICAgICAgaWF0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBKV1RVc2VyVG9rZW4odGhpcy5zZWNyZXQsIHBheWxvYWQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHVzZXJJRFxuICAgICAgICAgKiBAcGFyYW0gY2FsbF9jaWRzXG4gICAgICAgICAqIEBwYXJhbSBleHBcbiAgICAgICAgICogQHBhcmFtIGlhdCB0aGlzIGlzIGRlcHJlY2F0ZWQsIHRoZSBjdXJyZW50IGRhdGUgd2lsbCBiZSBzZXQgaW50ZXJuYWxseVxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCB1c2UgZ2VuZXJhdGVDYWxsVG9rZW4gaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jcmVhdGVDYWxsVG9rZW4gPSAodXNlcklkT3JPYmplY3QsIGNhbGxfY2lkcywgZXhwID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCkgKyA2MCAqIDYwLCBpYXQgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gMTAwMCkgLyAxMDAwKSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICBleHAsXG4gICAgICAgICAgICAgICAgaWF0LFxuICAgICAgICAgICAgICAgIGNhbGxfY2lkcyxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB0eXBlb2YgdXNlcklkT3JPYmplY3QgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gdXNlcklkT3JPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgOiB1c2VySWRPck9iamVjdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlcklkT3JPYmplY3QgPT09ICdvYmplY3QnICYmIHVzZXJJZE9yT2JqZWN0LnJvbGUpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnJvbGUgPSB1c2VySWRPck9iamVjdC5yb2xlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpXVFVzZXJUb2tlbih0aGlzLnNlY3JldCwgcGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmVyaWZ5V2ViaG9vayA9IChyZXF1ZXN0Qm9keSwgeFNpZ25hdHVyZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gQnVmZmVyLmZyb20odGhpcy5zZWNyZXQsICd1dGY4Jyk7XG4gICAgICAgICAgICBjb25zdCBoYXNoID0gY3J5cHRvXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGtleSlcbiAgICAgICAgICAgICAgICAudXBkYXRlKHJlcXVlc3RCb2R5KVxuICAgICAgICAgICAgICAgIC5kaWdlc3QoJ2hleCcpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3J5cHRvLnRpbWluZ1NhZmVFcXVhbChCdWZmZXIuZnJvbShoYXNoKSwgQnVmZmVyLmZyb20oeFNpZ25hdHVyZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52aWRlbyA9IG5ldyBTdHJlYW1WaWRlb0NsaWVudCh7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICBiYXNlVXJsOiB2aWRlb0Jhc2VVcmwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoYXQgPSBuZXcgU3RyZWFtQ2hhdENsaWVudCh7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICBiYXNlVXJsOiBjaGF0QmFzZVVybCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubW9kZXJhdGlvbiA9IG5ldyBTdHJlYW1Nb2RlcmF0aW9uQ2xpZW50KHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIGJhc2VVcmw6IGNoYXRCYXNlVXJsLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5TdHJlYW1DbGllbnQuREVGQVVMVF9USU1FT1VUID0gMzAwMDtcblxuZXhwb3J0IHsgQ2hhbm5lbE93bkNhcGFiaWxpdHksIE93bkNhcGFiaWxpdHksIFN0cmVhbUNhbGwsIFN0cmVhbUNoYW5uZWwsIFN0cmVhbUNoYXRDbGllbnQsIFN0cmVhbUNsaWVudCwgU3RyZWFtVmlkZW9DbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@stream-io/node-sdk/dist/index.es.mjs\n");

/***/ })

};
;